!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1703)}([function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(1682),i=r(672),o=r(1681);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return c(this,t,e,r)}function c(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(e,r),i=(t=a(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(u.isBuffer(e)){var r=0|p(e.length);return 0===(t=a(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?a(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(f(e),t=a(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function h(t,e){var r=e.length<0?0:0|p(e.length);t=a(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(t).length;default:if(n)return U(t).length;e=(""+e).toLowerCase(),n=!0}}function m(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function g(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:v(t,e,r,n,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,r,n,i){var o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var f=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var l=!0,h=0;h<u;h++)if(c(t,o+h)!==c(e,h)){l=!1;break}if(l)return o}return-1}function y(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[r+s]=a}return s}function b(t,e,r,n){return H(U(e,t.length-r),t,r,n)}function w(t,e,r,n){return H(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function _(t,e,r,n){return w(t,e,r,n)}function k(t,e,r,n){return H(z(e),t,r,n)}function S(t,e,r,n){return H(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function x(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function E(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,u,c=t[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=C));return r}(n)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return c(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,r){return function(t,e,r,n){return f(e),e<=0?a(t,e):void 0!==r?"string"==typeof n?a(t,e).fill(r,n):a(t,e).fill(r):a(t,e)}(null,t,e,r)},u.allocUnsafe=function(t){return l(null,t)},u.allocUnsafeSlow=function(t){return l(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,r);case"utf8":case"utf-8":return E(this,e,r);case"ascii":return A(this,e,r);case"latin1":case"binary":return M(this,e,r);case"base64":return x(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,r,n,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var o=i-n,s=r-e,a=Math.min(o,s),c=this.slice(n,i),f=t.slice(e,r),l=0;l<a;++l)if(c[l]!==f[l]){o=c[l],s=f[l];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return y(this,t,e,r);case"utf8":case"utf-8":return b(this,t,e,r);case"ascii":return w(this,t,e,r);case"latin1":case"binary":return _(this,t,e,r);case"base64":return k(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function A(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function M(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function I(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=D(t[o]);return i}function T(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function O(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function B(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function P(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function N(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function R(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(t,e,r,n,o){return o||R(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function j(t,e,r,n,o){return o||R(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},u.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||O(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||O(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUInt8=function(t,e){return e||O(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||O(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||O(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||O(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||O(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||O(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){e||O(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||O(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||O(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||O(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||O(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||B(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||B(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):N(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);B(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);B(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):N(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,r){return F(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return F(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return j(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return j(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=u.isBuffer(t)?t:U(new u(t,n).toString()),a=s.length;for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function D(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function z(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(L,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(7))},function(t,e,r){t.exports=r(1693)()},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,c=[],f=!1,l=-1;function h(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&p())}function p(){if(!f){var t=a(h);f=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,f=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||f||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){var n=r(0),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=s),o(i,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},function(t,e){t.exports=function(){}},function(t,e,r){"use strict";t.exports=r(1702)},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";var n=r(1448),i=r(1442),o=r(1436);for(var s in(e=t.exports=r(599)).pull=e,n)e[s]=n[s];for(var s in o)e[s]=o[s];for(var s in i)e[s]=i[s]},function(t,e,r){"use strict";t.exports=function(){}},function(t,e,r){var n=r(596),i=r(593);t.exports=function(t){return null!=t&&i(t.length)&&!n(t)}},function(t,e){t.exports={options:{usePureJavaScript:!1}}},function(t,e,r){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(652),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(7))},function(t,e,r){(function(e,n,i){var o=r(11),s=r(1150),a=t.exports=o.util=o.util||{};function u(t){if(8!==t&&16!==t&&24!==t&&32!==t)throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}function c(t){if(this.data="",this.read=0,"string"==typeof t)this.data=t;else if(a.isArrayBuffer(t)||a.isArrayBufferView(t))if(void 0!==i&&t instanceof i)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch(t){for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof c||"object"==typeof t&&"string"==typeof t.data&&"number"==typeof t.read)&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}!function(){if(void 0!==e&&e.nextTick)return a.nextTick=e.nextTick,void(a.setImmediate="function"==typeof n?n:a.nextTick);if("function"==typeof n)return a.setImmediate=function(){return n.apply(void 0,arguments)},void(a.nextTick=function(t){return n(t)});if(a.setImmediate=function(t){setTimeout(t,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var t="forge.setImmediate",r=[];a.setImmediate=function(e){r.push(e),1===r.length&&window.postMessage(t,"*")},window.addEventListener("message",function(e){if(e.source===window&&e.data===t){e.stopPropagation();var n=r.slice();r.length=0,n.forEach(function(t){t()})}},!0)}if("undefined"!=typeof MutationObserver){var i=Date.now(),o=!0,s=document.createElement("div");r=[];new MutationObserver(function(){var t=r.slice();r.length=0,t.forEach(function(t){t()})}).observe(s,{attributes:!0});var u=a.setImmediate;a.setImmediate=function(t){Date.now()-i>15?(i=Date.now(),u(t)):(r.push(t),1===r.length&&s.setAttribute("a",o=!o))}}a.nextTick=a.setImmediate}(),a.isNodejs=void 0!==e&&e.versions&&e.versions.node,a.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a.isArrayBuffer=function(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer},a.isArrayBufferView=function(t){return t&&a.isArrayBuffer(t.buffer)&&void 0!==t.byteLength},a.ByteBuffer=c,a.ByteStringBuffer=c;a.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},a.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},a.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},a.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))},a.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)1&e&&(r+=t),(e>>>=1)>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this},a.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this},a.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(a.encodeUtf8(t))},a.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},a.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},a.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},a.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255))},a.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))},a.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))},a.ByteStringBuffer.prototype.putInt=function(t,e){u(e);var r="";do{e-=8,r+=String.fromCharCode(t>>e&255)}while(e>0);return this.putBytes(r)},a.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)},a.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())},a.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},a.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t},a.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t},a.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t},a.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t},a.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t},a.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t},a.ByteStringBuffer.prototype.getInt=function(t){u(t);var e=0;do{e=(e<<8)+this.data.charCodeAt(this.read++),t-=8}while(t>0);return e},a.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e},a.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):0===t?e="":(e=0===this.read?this.data:this.data.slice(this.read),this.clear()),e},a.ByteStringBuffer.prototype.bytes=function(t){return void 0===t?this.data.slice(this.read):this.data.slice(this.read,this.read+t)},a.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)},a.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this},a.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},a.ByteStringBuffer.prototype.copy=function(){var t=a.createBuffer(this.data);return t.read=this.read,t},a.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},a.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},a.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this},a.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t},a.ByteStringBuffer.prototype.toString=function(){return a.decodeUtf8(this.bytes())},a.DataBuffer=function(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=a.isArrayBuffer(t),n=a.isArrayBufferView(t);if(r||n)return this.data=r?new DataView(t):new DataView(t.buffer,t.byteOffset,t.byteLength),void(this.write="writeOffset"in e?e.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==t&&void 0!==t&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)},a.DataBuffer.prototype.length=function(){return this.write-this.read},a.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},a.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this},a.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this},a.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this},a.DataBuffer.prototype.putBytes=function(t,e){if(a.isArrayBufferView(t)){var r=(n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)).byteLength-n.byteOffset;return this.accommodate(r),new Uint8Array(this.data.buffer,this.write).set(n),this.write+=r,this}if(a.isArrayBuffer(t)){var n=new Uint8Array(t);return this.accommodate(n.byteLength),new Uint8Array(this.data.buffer).set(n,this.write),this.write+=n.byteLength,this}if(t instanceof a.DataBuffer||"object"==typeof t&&"number"==typeof t.read&&"number"==typeof t.write&&a.isArrayBufferView(t.data)){n=new Uint8Array(t.data.byteLength,t.read,t.length());return this.accommodate(n.byteLength),new Uint8Array(t.data.byteLength,this.write).set(n),this.write+=n.byteLength,this}if(t instanceof a.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary","string"==typeof t){var i;if("hex"===e)return this.accommodate(Math.ceil(t.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.hex.decode(t,i,this.write),this;if("base64"===e)return this.accommodate(3*Math.ceil(t.length/4)),i=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.base64.decode(t,i,this.write),this;if("utf8"===e&&(t=a.encodeUtf8(t),e="binary"),"binary"===e||"raw"===e)return this.accommodate(t.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.raw.decode(i),this;if("utf16"===e)return this.accommodate(2*t.length),i=new Uint16Array(this.data.buffer,this.write),this.write+=a.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)},a.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this},a.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")},a.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this},a.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this},a.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this},a.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this},a.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this},a.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this},a.DataBuffer.prototype.putInt=function(t,e){u(e),this.accommodate(e/8);do{e-=8,this.data.setInt8(this.write++,t>>e&255)}while(e>0);return this},a.DataBuffer.prototype.putSignedInt=function(t,e){return u(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)},a.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},a.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t},a.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t},a.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t},a.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t},a.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t},a.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t},a.DataBuffer.prototype.getInt=function(t){u(t);var e=0;do{e=(e<<8)+this.data.getInt8(this.read++),t-=8}while(t>0);return e},a.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e},a.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):0===t?e="":(e=0===this.read?this.data:this.data.slice(this.read),this.clear()),e},a.DataBuffer.prototype.bytes=function(t){return void 0===t?this.data.slice(this.read):this.data.slice(this.read,this.read+t)},a.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)},a.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this},a.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},a.DataBuffer.prototype.copy=function(){return new a.DataBuffer(this)},a.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this},a.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},a.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this},a.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t},a.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if("binary"===(t=t||"utf8")||"raw"===t)return a.binary.raw.encode(e);if("hex"===t)return a.binary.hex.encode(e);if("base64"===t)return a.binary.base64.encode(e);if("utf8"===t)return a.text.utf8.decode(e);if("utf16"===t)return a.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)},a.createBuffer=function(t,e){return e=e||"raw",void 0!==t&&"utf8"===e&&(t=a.encodeUtf8(t)),new a.ByteBuffer(t)},a.fillString=function(t,e){for(var r="";e>0;)1&e&&(r+=t),(e>>>=1)>0&&(t+=t);return r},a.xorBytes=function(t,e,r){for(var n="",i="",o="",s=0,a=0;r>0;--r,++s)i=t.charCodeAt(s)^e.charCodeAt(s),a>=10&&(n+=o,o="",a=0),o+=String.fromCharCode(i),++a;return n+=o},a.hexToBytes=function(t){var e="",r=0;for(!0&t.length&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e},a.bytesToHex=function(t){return a.createBuffer(t).toHex()},a.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t)};var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],h="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";a.encode64=function(t,e){for(var r,n,i,o="",s="",a=0;a<t.length;)r=t.charCodeAt(a++),n=t.charCodeAt(a++),i=t.charCodeAt(a++),o+=f.charAt(r>>2),o+=f.charAt((3&r)<<4|n>>4),isNaN(n)?o+="==":(o+=f.charAt((15&n)<<2|i>>6),o+=isNaN(i)?"=":f.charAt(63&i)),e&&o.length>e&&(s+=o.substr(0,e)+"\r\n",o=o.substr(e));return s+=o},a.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e,r,n,i,o="",s=0;s<t.length;)e=l[t.charCodeAt(s++)-43],r=l[t.charCodeAt(s++)-43],n=l[t.charCodeAt(s++)-43],i=l[t.charCodeAt(s++)-43],o+=String.fromCharCode(e<<2|r>>4),64!==n&&(o+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(o+=String.fromCharCode((3&n)<<6|i)));return o},a.encodeUtf8=function(t){return unescape(encodeURIComponent(t))},a.decodeUtf8=function(t){return decodeURIComponent(escape(t))},a.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:s.encode,decode:s.decode}},a.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)},a.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length));for(var i=r=r||0,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n},a.binary.hex.encode=a.bytesToHex,a.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2)));var i=0,o=r=r||0;for(1&t.length&&(i=1,n[o++]=parseInt(t[0],16));i<t.length;i+=2)n[o++]=parseInt(t.substr(i,2),16);return e?o-r:n},a.binary.base64.encode=function(t,e){for(var r,n,i,o="",s="",a=0;a<t.byteLength;)r=t[a++],n=t[a++],i=t[a++],o+=f.charAt(r>>2),o+=f.charAt((3&r)<<4|n>>4),isNaN(n)?o+="==":(o+=f.charAt((15&n)<<2|i>>6),o+=isNaN(i)?"=":f.charAt(63&i)),e&&o.length>e&&(s+=o.substr(0,e)+"\r\n",o=o.substr(e));return s+=o},a.binary.base64.decode=function(t,e,r){var n,i,o,s,a=e;a||(a=new Uint8Array(3*Math.ceil(t.length/4))),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var u=0,c=r=r||0;u<t.length;)n=l[t.charCodeAt(u++)-43],i=l[t.charCodeAt(u++)-43],o=l[t.charCodeAt(u++)-43],s=l[t.charCodeAt(u++)-43],a[c++]=n<<2|i>>4,64!==o&&(a[c++]=(15&i)<<4|o>>2,64!==s&&(a[c++]=(3&o)<<6|s));return e?c-r:a.subarray(0,c)},a.binary.base58.encode=function(t,e){return a.binary.baseN.encode(t,h,e)},a.binary.base58.decode=function(t,e){return a.binary.baseN.decode(t,h,e)},a.text={utf8:{},utf16:{}},a.text.utf8.encode=function(t,e,r){t=a.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length));for(var i=r=r||0,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n},a.text.utf8.decode=function(t){return a.decodeUtf8(String.fromCharCode.apply(null,t))},a.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(2*t.length));for(var i=new Uint16Array(n.buffer),o=r=r||0,s=r,a=0;a<t.length;++a)i[s++]=t.charCodeAt(a),o+=2;return e?o-r:n},a.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))},a.deflate=function(t,e,r){if(e=a.decode64(t.deflate(a.encode64(e)).rval),r){var n=2;32&e.charCodeAt(1)&&(n=6),e=e.substring(n,e.length-4)}return e},a.inflate=function(t,e,r){var n=t.inflate(a.encode64(e)).rval;return null===n?null:a.decode64(n)};var p=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(null===r?n=t.removeItem(e):(r=a.encode64(JSON.stringify(r)),n=t.setItem(e,r)),void 0!==n&&!0!==n.rval){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},d=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(null===r.rval){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(a.decode64(r))),r},m=function(t,e,r,n){var i=d(t,e);null===i&&(i={}),i[r]=n,p(t,e,i)},g=function(t,e,r){var n=d(t,e);return null!==n&&(n=r in n?n[r]:null),n},v=function(t,e,r){var n=d(t,e);if(null!==n&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),p(t,e,n)}},y=function(t,e){p(t,e,null)},b=function(t,e,r){var n,i=null;void 0===r&&(r=["web","flash"]);var o=!1,s=null;for(var a in r){n=r[a];try{if("flash"===n||"both"===n){if(null===e[0])throw new Error("Flash local storage not available.");i=t.apply(this,e),o="flash"===n}"web"!==n&&"both"!==n||(e[0]=localStorage,i=t.apply(this,e),o=!0)}catch(t){s=t}if(o)break}if(!o)throw s;return i};a.setItem=function(t,e,r,n,i){b(m,arguments,i)},a.getItem=function(t,e,r,n){return b(g,arguments,n)},a.removeItem=function(t,e,r,n){b(v,arguments,n)},a.clearItems=function(t,e,r){b(y,arguments,r)},a.parseUrl=function(t){var e=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;e.lastIndex=0;var r=e.exec(t),n=null===r?null:{full:t,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?80!==n.port&&"http"===n.scheme?n.fullHost+=":"+n.port:443!==n.port&&"https"===n.scheme&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var w=null;a.getQueryVariables=function(t){var e,r=function(t){for(var e={},r=t.split("&"),n=0;n<r.length;n++){var i,o,s=r[n].indexOf("=");s>0?(i=r[n].substring(0,s),o=r[n].substring(s+1)):(i=r[n],o=null),i in e||(e[i]=[]),i in Object.prototype||null===o||e[i].push(unescape(o))}return e};return void 0===t?(null===w&&(w="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),e=w):e=r(t),e},a.parseFragment=function(t){var e=t,r="",n=t.indexOf("?");n>0&&(e=t.substring(0,n),r=t.substring(n+1));var i=e.split("/");return i.length>0&&""===i[0]&&i.shift(),{pathString:e,queryString:r,path:i,query:""===r?{}:a.getQueryVariables(r)}},a.makeRequest=function(t){var e=a.parseFragment(t),r={path:e.pathString,query:e.queryString,getPath:function(t){return void 0===t?e.path:e.path[t]},getQuery:function(t,r){var n;return void 0===t?n=e.query:(n=e.query[t])&&void 0!==r&&(n=n[r]),n},getQueryLast:function(t,e){var n=r.getQuery(t);return n?n[n.length-1]:e}};return r},a.makeLink=function(t,e,r){t=jQuery.isArray(t)?t.join("/"):t;var n=jQuery.param(e||{});return r=r||"",t+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},a.setPath=function(t,e,r){if("object"==typeof t&&null!==t)for(var n=0,i=e.length;n<i;){var o=e[n++];if(n==i)t[o]=r;else{var s=o in t;(!s||s&&"object"!=typeof t[o]||s&&null===t[o])&&(t[o]={}),t=t[o]}}},a.getPath=function(t,e,r){for(var n=0,i=e.length,o=!0;o&&n<i&&"object"==typeof t&&null!==t;){var s=e[n++];(o=s in t)&&(t=t[s])}return o?t:r},a.deletePath=function(t,e){if("object"==typeof t&&null!==t)for(var r=0,n=e.length;r<n;){var i=e[r++];if(r==n)delete t[i];else{if(!(i in t)||"object"!=typeof t[i]||null===t[i])break;t=t[i]}}},a.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},a.format=function(t){for(var e,r,n=/%./g,i=0,o=[],s=0;e=n.exec(t);){(r=t.substring(s,n.lastIndex-2)).length>0&&o.push(r),s=n.lastIndex;var a=e[0][1];switch(a){case"s":case"o":i<arguments.length?o.push(arguments[1+i++]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+a+"?>")}}return o.push(t.substring(s)),o.join("")},a.formatNumber=function(t,e,r,n){var i=t,o=isNaN(e=Math.abs(e))?2:e,s=void 0===r?",":r,a=void 0===n?".":n,u=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",f=c.length>3?c.length%3:0;return u+(f?c.substr(0,f)+a:"")+c.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+a)+(o?s+Math.abs(i-c).toFixed(o).slice(2):"")},a.formatSize=function(t){return t=t>=1073741824?a.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?a.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?a.formatNumber(t/1024,0)+" KiB":a.formatNumber(t,0)+" bytes"},a.bytesFromIP=function(t){return-1!==t.indexOf(".")?a.bytesFromIPv4(t):-1!==t.indexOf(":")?a.bytesFromIPv6(t):null},a.bytesFromIPv4=function(t){if(4!==(t=t.split(".")).length)return null;for(var e=a.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()},a.bytesFromIPv6=function(t){for(var e=0,r=2*(8-(t=t.split(":").filter(function(t){return 0===t.length&&++e,!0})).length+e),n=a.createBuffer(),i=0;i<8;++i)if(t[i]&&0!==t[i].length){var o=a.hexToBytes(t[i]);o.length<2&&n.putByte(0),n.putBytes(o)}else n.fillWithByte(0,r),r=0;return n.getBytes()},a.bytesToIP=function(t){return 4===t.length?a.bytesToIPv4(t):16===t.length?a.bytesToIPv6(t):null},a.bytesToIPv4=function(t){if(4!==t.length)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")},a.bytesToIPv6=function(t){if(16!==t.length)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var o=a.bytesToHex(t[i]+t[i+1]);"0"===o[0]&&"0"!==o;)o=o.substr(1);if("0"===o){var s=r[r.length-1],u=e.length;s&&u===s.end+1?(s.end=u,s.end-s.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:u,end:u})}e.push(o)}if(r.length>0){var c=r[n];c.end-c.start>0&&(e.splice(c.start,c.end-c.start+1,""),0===c.start&&e.unshift(""),7===c.end&&e.push(""))}return e.join(":")},a.estimateCores=function(t,e){if("function"==typeof t&&(e=t,t={}),t=t||{},"cores"in a&&!t.update)return e(null,a.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return a.cores=navigator.hardwareConcurrency,e(null,a.cores);if("undefined"==typeof Worker)return a.cores=1,e(null,a.cores);if("undefined"==typeof Blob)return a.cores=2,e(null,a.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(t){for(var e=Date.now(),r=e+4;Date.now()<r;);self.postMessage({st:e,et:r})})}.toString(),")()"],{type:"application/javascript"}));!function t(n,i,o){if(0===i){var s=Math.floor(n.reduce(function(t,e){return t+e},0)/n.length);return a.cores=Math.max(1,s),URL.revokeObjectURL(r),e(null,a.cores)}!function(t,e){for(var n=[],i=[],o=0;o<t;++o){var s=new Worker(r);s.addEventListener("message",function(r){if(i.push(r.data),i.length===t){for(var o=0;o<t;++o)n[o].terminate();e(null,i)}}),n.push(s)}for(var o=0;o<t;++o)n[o].postMessage(o)}(o,function(e,r){n.push(function(t,e){for(var r=[],n=0;n<t;++n)for(var i=e[n],o=r[n]=[],s=0;s<t;++s)if(n!==s){var a=e[s];(i.st>a.st&&i.st<a.et||a.st>i.st&&a.st<i.et)&&o.push(s)}return r.reduce(function(t,e){return Math.max(t,e.length)},0)}(o,r)),t(n,i-1,o)})}([],5,16)}}).call(this,r(2),r(12).setImmediate,r(0).Buffer)},function(t,e,r){(function(t,n){var i;
/**
 * @license
 * lodash 3.10.1 (Custom Build) <https://lodash.com/>
 * Build: `lodash modern -d -o ./index.js`
 * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */(function(){var o,s,a,u="3.10.1",c=1,f=2,l=4,h=8,p=16,d=32,m=64,g=128,v=256,y=30,b="...",w=150,_=16,k=200,S=1,x=2,E="Expected a function",C="__lodash_placeholder__",A="[object Arguments]",M="[object Array]",I="[object Boolean]",T="[object Date]",O="[object Error]",B="[object Function]",P="[object Number]",N="[object Object]",R="[object RegExp]",F="[object String]",j="[object ArrayBuffer]",L="[object Float32Array]",D="[object Float64Array]",U="[object Int8Array]",z="[object Int16Array]",H="[object Int32Array]",K="[object Uint8Array]",q="[object Uint8ClampedArray]",V="[object Uint16Array]",W="[object Uint32Array]",G=/\b__p \+= '';/g,Y=/\b(__p \+=) '' \+/g,$=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Z=/&(?:amp|lt|gt|quot|#39|#96);/g,X=/[&<>"'`]/g,J=RegExp(Z.source),Q=RegExp(X.source),tt=/<%-([\s\S]+?)%>/g,et=/<%([\s\S]+?)%>/g,rt=/<%=([\s\S]+?)%>/g,nt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,it=/^\w*$/,ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,st=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,at=RegExp(st.source),ut=/[\u0300-\u036f\ufe20-\ufe23]/g,ct=/\\(\\)?/g,ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,lt=/\w*$/,ht=/^0[xX]/,pt=/^\[object .+?Constructor\]$/,dt=/^\d+$/,mt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,gt=/($^)/,vt=/['\n\r\u2028\u2029\\]/g,yt=(s="[A-Z\\xc0-\\xd6\\xd8-\\xde]",a="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(s+"+(?="+s+a+")|"+s+"?"+a+"|"+s+"+|[0-9]+","g")),bt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],wt=-1,_t={};_t[L]=_t[D]=_t[U]=_t[z]=_t[H]=_t[K]=_t[q]=_t[V]=_t[W]=!0,_t[A]=_t[M]=_t[j]=_t[I]=_t[T]=_t[O]=_t[B]=_t["[object Map]"]=_t[P]=_t[N]=_t[R]=_t["[object Set]"]=_t[F]=_t["[object WeakMap]"]=!1;var kt={};kt[A]=kt[M]=kt[j]=kt[I]=kt[T]=kt[L]=kt[D]=kt[U]=kt[z]=kt[H]=kt[P]=kt[N]=kt[R]=kt[F]=kt[K]=kt[q]=kt[V]=kt[W]=!0,kt[O]=kt[B]=kt["[object Map]"]=kt["[object Set]"]=kt["[object WeakMap]"]=!1;var St={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},xt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Et={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ct={function:!0,object:!0},At={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Mt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},It=Ct[typeof e]&&e&&!e.nodeType&&e,Tt=Ct[typeof t]&&t&&!t.nodeType&&t,Ot=It&&Tt&&"object"==typeof n&&n&&n.Object&&n,Bt=Ct[typeof self]&&self&&self.Object&&self,Pt=Ct[typeof window]&&window&&window.Object&&window,Nt=(Tt&&Tt.exports,Ot||Pt!==(this&&this.window)&&Pt||Bt||this);function Rt(t,e){if(t!==e){var r=null===t,n=t===o,i=t==t,s=null===e,a=e===o,u=e==e;if(t>e&&!s||!i||r&&!a&&u||n&&u)return 1;if(t<e&&!r||!u||s&&!n&&i||a&&i)return-1}return 0}function Ft(t,e,r){for(var n=t.length,i=r?n:-1;r?i--:++i<n;)if(e(t[i],i,t))return i;return-1}function jt(t,e,r){if(e!=e)return Gt(t,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function Lt(t){return"function"==typeof t||!1}function Dt(t){return null==t?"":t+""}function Ut(t,e){for(var r=-1,n=t.length;++r<n&&e.indexOf(t.charAt(r))>-1;);return r}function zt(t,e){for(var r=t.length;r--&&e.indexOf(t.charAt(r))>-1;);return r}function Ht(t,e){return Rt(t.criteria,e.criteria)||t.index-e.index}function Kt(t){return St[t]}function qt(t){return xt[t]}function Vt(t,e,r){return e?t=At[t]:r&&(t=Mt[t]),"\\"+t}function Wt(t){return"\\"+Mt[t]}function Gt(t,e,r){for(var n=t.length,i=e+(r?0:-1);r?i--:++i<n;){var o=t[i];if(o!=o)return i}return-1}function Yt(t){return!!t&&"object"==typeof t}function $t(t){return t<=160&&t>=9&&t<=13||32==t||160==t||5760==t||6158==t||t>=8192&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function Zt(t,e){for(var r=-1,n=t.length,i=-1,o=[];++r<n;)t[r]===e&&(t[r]=C,o[++i]=r);return o}function Xt(t){for(var e=-1,r=t.length;++e<r&&$t(t.charCodeAt(e)););return e}function Jt(t){for(var e=t.length;e--&&$t(t.charCodeAt(e)););return e}function Qt(t){return Et[t]}var te=function t(e){var r=(e=e?te.defaults(Nt.Object(),e,te.pick(Nt,bt)):Nt).Array,n=e.Date,i=e.Error,s=e.Function,a=e.Math,St=e.Number,xt=e.Object,Et=e.RegExp,Ct=e.String,At=e.TypeError,Mt=r.prototype,It=xt.prototype,Tt=Ct.prototype,Ot=s.prototype.toString,Bt=It.hasOwnProperty,Pt=0,$t=It.toString,ee=Nt._,re=Et("^"+Ot.call(Bt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=e.ArrayBuffer,ie=e.clearTimeout,oe=e.parseFloat,se=a.pow,ae=It.propertyIsEnumerable,ue=yn(e,"Set"),ce=e.setTimeout,fe=Mt.splice,le=e.Uint8Array,he=yn(e,"WeakMap"),pe=a.ceil,de=yn(xt,"create"),me=a.floor,ge=yn(r,"isArray"),ve=e.isFinite,ye=yn(xt,"keys"),be=a.max,we=a.min,_e=yn(n,"now"),ke=e.parseInt,Se=a.random,xe=St.NEGATIVE_INFINITY,Ee=St.POSITIVE_INFINITY,Ce=4294967295,Ae=Ce-1,Me=Ce>>>1,Ie=9007199254740991,Te=he&&new he,Oe={};function Be(t){if(Yt(t)&&!Wi(t)&&!(t instanceof Re)){if(t instanceof Ne)return t;if(Bt.call(t,"__chain__")&&Bt.call(t,"__wrapped__"))return Fn(t)}return new Ne(t)}function Pe(){}function Ne(t,e,r){this.__wrapped__=t,this.__actions__=r||[],this.__chain__=!!e}Be.support={};function Re(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ee,this.__views__=[]}function Fe(){this.__data__={}}function je(t){var e=t?t.length:0;for(this.data={hash:de(null),set:new ue};e--;)this.push(t[e])}function Le(t,e){var r=t.data;return("string"==typeof e||Zi(e)?r.set.has(e):r.hash[e])?0:-1}function De(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function Ue(t,e){for(var r=-1,n=t.length;++r<n&&!1!==e(t[r],r,t););return t}function ze(t,e){for(var r=-1,n=t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function He(t,e){for(var r=-1,n=t.length,i=-1,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[++i]=s)}return o}function Ke(t,e){for(var n=-1,i=t.length,o=r(i);++n<i;)o[n]=e(t[n],n,t);return o}function qe(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Ve(t,e,r,n){var i=-1,o=t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function We(t,e){for(var r=-1,n=t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Ge(t,e,r,n){return t!==o&&Bt.call(n,r)?t:e}function Ye(t,e,r){for(var n=-1,i=yo(e),s=i.length;++n<s;){var a=i[n],u=t[a],c=r(u,e[a],a,t,e);(c==c?c===u:u!=u)&&(u!==o||a in t)||(t[a]=c)}return t}function $e(t,e){return null==e?t:Xe(e,yo(e),t)}function Ze(t,e){for(var n=-1,i=null==t,s=!i&&wn(t),a=s?t.length:0,u=e.length,c=r(u);++n<u;){var f=e[n];c[n]=s?_n(f,a)?t[f]:o:i?o:t[f]}return c}function Xe(t,e,r){r||(r={});for(var n=-1,i=e.length;++n<i;){var o=e[n];r[o]=t[o]}return r}function Je(t,e,r){var n=typeof t;return"function"==n?e===o?t:Rr(t,e,r):null==t?Lo:"object"==n?br(t):e===o?qo(t):wr(t,e)}function Qe(t,e,r,n,i,s,a){var u;if(r&&(u=i?r(t,n,i):r(t)),u!==o)return u;if(!Zi(t))return t;var c=Wi(t);if(c){if(u=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Bt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!e)return De(t,u)}else{var f=$t.call(t),l=f==B;if(f!=N&&f!=A&&(!l||i))return kt[f]?function(t,e,r){var n=t.constructor;switch(e){case j:return Fr(t);case I:case T:return new n(+t);case L:case D:case U:case z:case H:case K:case q:case V:case W:var i=t.buffer;return new n(r?Fr(i):i,t.byteOffset,t.length);case P:case F:return new n(t);case R:var o=new n(t.source,lt.exec(t));o.lastIndex=t.lastIndex}return o}(t,f,e):i?t:{};if(u=function(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=xt),new e}(l?{}:t),!e)return $e(u,t)}s||(s=[]),a||(a=[]);for(var h=s.length;h--;)if(s[h]==t)return a[h];return s.push(t),a.push(u),(c?Ue:hr)(t,function(n,i){u[i]=Qe(n,e,r,i,t,s,a)}),u}Be.templateSettings={escape:tt,evaluate:et,interpolate:rt,variable:"",imports:{_:Be}};var tr=function(){function t(){}return function(e){if(Zi(e)){t.prototype=e;var r=new t;t.prototype=o}return r||{}}}();function er(t,e,r){if("function"!=typeof t)throw new At(E);return ce(function(){t.apply(o,r)},e)}function rr(t,e){var r=t?t.length:0,n=[];if(!r)return n;var i=-1,o=mn(),s=o==jt,a=s&&e.length>=k?Kr(e):null,u=e.length;a&&(o=Le,s=!1,e=a);t:for(;++i<r;){var c=t[i];if(s&&c==c){for(var f=u;f--;)if(e[f]===c)continue t;n.push(c)}else o(e,c,0)<0&&n.push(c)}return n}var nr=zr(hr),ir=zr(pr,!0);function or(t,e){var r=!0;return nr(t,function(t,n,i){return r=!!e(t,n,i)}),r}function sr(t,e){var r=[];return nr(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r}function ar(t,e,r,n){var i;return r(t,function(t,r,o){if(e(t,r,o))return i=n?r:t,!1}),i}function ur(t,e,r,n){n||(n=[]);for(var i=-1,o=t.length;++i<o;){var s=t[i];Yt(s)&&wn(s)&&(r||Wi(s)||Vi(s))?e?ur(s,e,r,n):qe(n,s):r||(n[n.length]=s)}return n}var cr=Hr(),fr=Hr(!0);function lr(t,e){return cr(t,e,bo)}function hr(t,e){return cr(t,e,yo)}function pr(t,e){return fr(t,e,yo)}function dr(t,e){for(var r=-1,n=e.length,i=-1,o=[];++r<n;){var s=e[r];$i(t[s])&&(o[++i]=s)}return o}function mr(t,e,r){if(null!=t){r!==o&&r in Nn(t)&&(e=[r]);for(var n=0,i=e.length;null!=t&&n<i;)t=t[e[n++]];return n&&n==i?t:o}}function gr(t,e,r,n,i,s){return t===e||(null==t||null==e||!Zi(t)&&!Yt(e)?t!=t&&e!=e:function(t,e,r,n,i,s,a){var u=Wi(t),c=Wi(e),f=M,l=M;u||((f=$t.call(t))==A?f=N:f!=N&&(u=ro(t))),c||((l=$t.call(e))==A?l=N:l!=N&&(c=ro(e)));var h=f==N,p=l==N,d=f==l;if(d&&!u&&!h)return function(t,e,r){switch(r){case I:case T:return+t==+e;case O:return t.name==e.name&&t.message==e.message;case P:return t!=+t?e!=+e:t==+e;case R:case F:return t==e+""}return!1}(t,e,f);if(!i){var m=h&&Bt.call(t,"__wrapped__"),g=p&&Bt.call(e,"__wrapped__");if(m||g)return r(m?t.value():t,g?e.value():e,n,i,s,a)}if(!d)return!1;s||(s=[]),a||(a=[]);for(var v=s.length;v--;)if(s[v]==t)return a[v]==e;s.push(t),a.push(e);var y=(u?function(t,e,r,n,i,s,a){var u=-1,c=t.length,f=e.length;if(c!=f&&!(i&&f>c))return!1;for(;++u<c;){var l=t[u],h=e[u],p=n?n(i?h:l,i?l:h,u):o;if(p!==o){if(p)continue;return!1}if(i){if(!We(e,function(t){return l===t||r(l,t,n,i,s,a)}))return!1}else if(l!==h&&!r(l,h,n,i,s,a))return!1}return!0}:function(t,e,r,n,i,s,a){var u=yo(t),c=u.length,f=yo(e).length;if(c!=f&&!i)return!1;for(var l=c;l--;){var h=u[l];if(!(i?h in e:Bt.call(e,h)))return!1}for(var p=i;++l<c;){h=u[l];var d=t[h],m=e[h],g=n?n(i?m:d,i?d:m,h):o;if(!(g===o?r(d,m,n,i,s,a):g))return!1;p||(p="constructor"==h)}if(!p){var v=t.constructor,y=e.constructor;if(v!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0})(t,e,r,n,i,s,a);return s.pop(),a.pop(),y}(t,e,gr,r,n,i,s))}function vr(t,e,r){var n=e.length,i=n,s=!r;if(null==t)return!i;for(t=Nn(t);n--;){var a=e[n];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++n<i;){var u=(a=e[n])[0],c=t[u],f=a[1];if(s&&a[2]){if(c===o&&!(u in t))return!1}else{var l=r?r(c,f,u):o;if(!(l===o?gr(f,c,r,!0):l))return!1}}return!0}function yr(t,e){var n=-1,i=wn(t)?r(t.length):[];return nr(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function br(t){var e=vn(t);if(1==e.length&&e[0][2]){var r=e[0][0],n=e[0][1];return function(t){return null!=t&&t[r]===n&&(n!==o||r in Nn(t))}}return function(t){return vr(t,e)}}function wr(t,e){var r=Wi(t),n=Sn(t)&&Cn(e),i=t+"";return t=Rn(t),function(s){if(null==s)return!1;var a=i;if(s=Nn(s),(r||!n)&&!(a in s)){if(null==(s=1==t.length?s:mr(s,Er(t,0,-1))))return!1;a=Vn(t),s=Nn(s)}return s[a]===e?e!==o||a in s:gr(e,s[a],o,!0)}}function _r(t){return function(e){return null==e?o:e[t]}}function kr(t,e){for(var r=t?e.length:0;r--;){var n=e[r];if(n!=i&&_n(n)){var i=n;fe.call(t,n,1)}}return t}function Sr(t,e){return t+me(Se()*(e-t+1))}var xr=Te?function(t,e){return Te.set(t,e),t}:Lo;function Er(t,e,n){var i=-1,s=t.length;(e=null==e?0:+e||0)<0&&(e=-e>s?0:s+e),(n=n===o||n>s?s:+n||0)<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var a=r(s);++i<s;)a[i]=t[i+e];return a}function Cr(t,e){var r;return nr(t,function(t,n,i){return!(r=e(t,n,i))}),!!r}function Ar(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}function Mr(t,e,r){var n=hn(),i=-1;return e=Ke(e,function(t){return n(t)}),Ar(yr(t,function(t){return{criteria:Ke(e,function(e){return e(t)}),index:++i,value:t}}),function(t,e){return function(t,e,r){for(var n=-1,i=t.criteria,o=e.criteria,s=i.length,a=r.length;++n<s;){var u=Rt(i[n],o[n]);if(u){if(n>=a)return u;var c=r[n];return u*("asc"===c||!0===c?1:-1)}}return t.index-e.index}(t,e,r)})}function Ir(t,e){var r=-1,n=mn(),i=t.length,o=n==jt,s=o&&i>=k,a=s?Kr():null,u=[];a?(n=Le,o=!1):(s=!1,a=e?[]:u);t:for(;++r<i;){var c=t[r],f=e?e(c,r,t):c;if(o&&c==c){for(var l=a.length;l--;)if(a[l]===f)continue t;e&&a.push(f),u.push(c)}else n(a,f,0)<0&&((e||s)&&a.push(f),u.push(c))}return u}function Tr(t,e){for(var n=-1,i=e.length,o=r(i);++n<i;)o[n]=t[e[n]];return o}function Or(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?Er(t,n?0:o,n?o+1:i):Er(t,n?o+1:0,n?i:o)}function Br(t,e){var r=t;r instanceof Re&&(r=r.value());for(var n=-1,i=e.length;++n<i;){var o=e[n];r=o.func.apply(o.thisArg,qe([r],o.args))}return r}function Pr(t,e,r){var n=0,i=t?t.length:n;if("number"==typeof e&&e==e&&i<=Me){for(;n<i;){var o=n+i>>>1,s=t[o];(r?s<=e:s<e)&&null!==s?n=o+1:i=o}return i}return Nr(t,e,Lo,r)}function Nr(t,e,r,n){e=r(e);for(var i=0,s=t?t.length:0,a=e!=e,u=null===e,c=e===o;i<s;){var f=me((i+s)/2),l=r(t[f]),h=l!==o,p=l==l;if(a)var d=p||n;else d=u?p&&h&&(n||null!=l):c?p&&(n||h):null!=l&&(n?l<=e:l<e);d?i=f+1:s=f}return we(s,Ae)}function Rr(t,e,r){if("function"!=typeof t)return Lo;if(e===o)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)};case 5:return function(r,n,i,o,s){return t.call(e,r,n,i,o,s)}}return function(){return t.apply(e,arguments)}}function Fr(t){var e=new ne(t.byteLength);return new le(e).set(new le(t)),e}function jr(t,e,n){for(var i=n.length,o=-1,s=be(t.length-i,0),a=-1,u=e.length,c=r(u+s);++a<u;)c[a]=e[a];for(;++o<i;)c[n[o]]=t[o];for(;s--;)c[a++]=t[o++];return c}function Lr(t,e,n){for(var i=-1,o=n.length,s=-1,a=be(t.length-o,0),u=-1,c=e.length,f=r(a+c);++s<a;)f[s]=t[s];for(var l=s;++u<c;)f[l+u]=e[u];for(;++i<o;)f[l+n[i]]=t[s++];return f}function Dr(t,e){return function(r,n,i){var o=e?e():{};if(n=hn(n,i,3),Wi(r))for(var s=-1,a=r.length;++s<a;){var u=r[s];t(o,u,n(u,s,r),r)}else nr(r,function(e,r,i){t(o,e,n(e,r,i),i)});return o}}function Ur(t){return Ki(function(e,r){var n=-1,i=null==e?0:r.length,s=i>2?r[i-2]:o,a=i>2?r[2]:o,u=i>1?r[i-1]:o;for("function"==typeof s?(s=Rr(s,u,5),i-=2):i-=(s="function"==typeof u?u:o)?1:0,a&&kn(r[0],r[1],a)&&(s=i<3?o:s,i=1);++n<i;){var c=r[n];c&&t(e,c,s)}return e})}function zr(t,e){return function(r,n){var i=r?gn(r):0;if(!En(i))return t(r,n);for(var o=e?i:-1,s=Nn(r);(e?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function Hr(t){return function(e,r,n){for(var i=Nn(e),o=n(e),s=o.length,a=t?s:-1;t?a--:++a<s;){var u=o[a];if(!1===r(i[u],u,i))break}return e}}function Kr(t){return de&&ue?new je(t):null}function qr(t){return function(e){for(var r=-1,n=Ro(Ao(e)),i=n.length,o="";++r<i;)o=t(o,n[r],r);return o}}function Vr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=tr(t.prototype),n=t.apply(r,e);return Zi(n)?n:r}}function Wr(t){return function e(r,n,i){i&&kn(r,n,i)&&(n=o);var s=ln(r,t,o,o,o,o,o,n);return s.placeholder=e.placeholder,s}}function Gr(t,e){return Ki(function(r){var n=r[0];return null==n?n:(r.push(e),t.apply(o,r))})}function Yr(t,e){return function(r,n,i){if(i&&kn(r,n,i)&&(n=o),1==(n=hn(n,i,3)).length){var s=function(t,e,r,n){for(var i=-1,o=t.length,s=n,a=s;++i<o;){var u=t[i],c=+e(u);r(c,s)&&(s=c,a=u)}return a}(r=Wi(r)?r:Pn(r),n,t,e);if(!r.length||s!==e)return s}return function(t,e,r,n){var i=n,o=i;return nr(t,function(t,s,a){var u=+e(t,s,a);(r(u,i)||u===n&&u===o)&&(i=u,o=t)}),o}(r,n,t,e)}}function $r(t,e){return function(r,n,i){if(n=hn(n,i,3),Wi(r)){var s=Ft(r,n,e);return s>-1?r[s]:o}return ar(r,n,t)}}function Zr(t){return function(e,r,n){return e&&e.length?Ft(e,r=hn(r,n,3),t):-1}}function Xr(t){return function(e,r,n){return ar(e,r=hn(r,n,3),t,!0)}}function Jr(t){return function(){for(var e,n=arguments.length,i=t?n:-1,s=0,a=r(n);t?i--:++i<n;){var u=a[s++]=arguments[i];if("function"!=typeof u)throw new At(E);!e&&Ne.prototype.thru&&"wrapper"==dn(u)&&(e=new Ne([],!0))}for(i=e?-1:n;++i<n;){var c=dn(u=a[i]),f="wrapper"==c?pn(u):o;e=f&&xn(f[0])&&f[1]==(g|h|d|v)&&!f[4].length&&1==f[9]?e[dn(f[0])].apply(e,f[3]):1==u.length&&xn(u)?e[c]():e.thru(u)}return function(){var t=arguments,r=t[0];if(e&&1==t.length&&Wi(r)&&r.length>=k)return e.plant(r).value();for(var i=0,o=n?a[i].apply(this,t):r;++i<n;)o=a[i].call(this,o);return o}}}function Qr(t,e){return function(r,n,i){return"function"==typeof n&&i===o&&Wi(r)?t(r,n):e(r,Rr(n,i,3))}}function tn(t){return function(e,r,n){return"function"==typeof r&&n===o||(r=Rr(r,n,3)),t(e,r,bo)}}function en(t){return function(e,r,n){return"function"==typeof r&&n===o||(r=Rr(r,n,3)),t(e,r)}}function rn(t){return function(e,r,n){var i={};return r=hn(r,n,3),hr(e,function(e,n,o){var s=r(e,n,o);n=t?s:n,e=t?e:s,i[n]=e}),i}}function nn(t){return function(e,r,n){return e=Dt(e),(t?e:"")+un(e,r,n)+(t?"":e)}}function on(t){var e=Ki(function(r,n){var i=Zt(n,e.placeholder);return ln(r,t,o,n,i)});return e}function sn(t,e){return function(r,n,i,s){var a=arguments.length<3;return"function"==typeof n&&s===o&&Wi(r)?t(r,n,i,a):function(t,e,r,n,i){return i(t,function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)}),r}(r,hn(n,s,4),i,a,e)}}function an(t,e,n,i,s,a,u,v,y,b){var w=e&g,_=e&c,k=e&f,S=e&h,x=e&l,E=e&p,C=k?o:Vr(t);return function l(){for(var h=arguments.length,p=h,g=r(h);p--;)g[p]=arguments[p];if(i&&(g=jr(g,i,s)),a&&(g=Lr(g,a,u)),S||E){var A=l.placeholder,M=Zt(g,A);if((h-=M.length)<b){var I=v?De(v):o,T=be(b-h,0);e|=S?d:m,e&=~(S?m:d),x||(e&=~(c|f));var O=[t,e,n,S?g:o,S?M:o,S?o:g,S?o:M,I,y,T],B=an.apply(o,O);return xn(t)&&On(B,O),B.placeholder=A,B}}var P=_?n:this,N=k?P[t]:t;return v&&(g=function(t,e){for(var r=t.length,n=we(e.length,r),i=De(t);n--;){var s=e[n];t[n]=_n(s,r)?i[s]:o}return t}(g,v)),w&&y<g.length&&(g.length=y),this&&this!==Nt&&this instanceof l&&(N=C||Vr(t)),N.apply(P,g)}}function un(t,e,r){var n=t.length;if(n>=(e=+e)||!ve(e))return"";var i=e-n;return Oo(r=null==r?" ":r+"",pe(i/r.length)).slice(0,i)}function cn(t){var e=a[t];return function(t,r){return(r=r===o?0:+r||0)?(r=se(10,r),e(t*r)/r):e(t)}}function fn(t){return function(e,r,n,i){var o=hn(n);return null==n&&o===Je?Pr(e,r,t):Nr(e,r,o(n,i,1),t)}}function ln(t,e,n,i,s,a,u,p){var y=e&f;if(!y&&"function"!=typeof t)throw new At(E);var b=i?i.length:0;if(b||(e&=~(d|m),i=s=o),b-=s?s.length:0,e&m){var w=i,_=s;i=s=o}var k=y?o:pn(t),S=[t,e,n,i,s,w,_,a,u,p];if(k&&(function(t,e){var r=t[1],n=e[1],i=r|n,o=i<g,s=n==g&&r==h||n==g&&r==v&&t[7].length<=e[8]||n==(g|v)&&r==h;if(!o&&!s)return t;n&c&&(t[2]=e[2],i|=r&c?0:l);var a=e[3];if(a){var u=t[3];t[3]=u?jr(u,a,e[4]):De(a),t[4]=u?Zt(t[3],C):De(e[4])}(a=e[5])&&(u=t[5],t[5]=u?Lr(u,a,e[6]):De(a),t[6]=u?Zt(t[5],C):De(e[6])),(a=e[7])&&(t[7]=De(a)),n&g&&(t[8]=null==t[8]?e[8]:we(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(S,k),e=S[1],p=S[9]),S[9]=null==p?y?0:t.length:be(p-b,0)||0,e==c)var x=function(t,e){var r=Vr(t);return function n(){return(this&&this!==Nt&&this instanceof n?r:t).apply(e,arguments)}}(S[0],S[2]);else x=e!=d&&e!=(c|d)||S[4].length?an.apply(o,S):function(t,e,n,i){var o=e&c,s=Vr(t);return function e(){for(var a=-1,u=arguments.length,c=-1,f=i.length,l=r(f+u);++c<f;)l[c]=i[c];for(;u--;)l[c++]=arguments[++a];return(this&&this!==Nt&&this instanceof e?s:t).apply(o?n:this,l)}}.apply(o,S);return(k?xr:On)(x,S)}function hn(t,e,r){var n=Be.callback||jo;return n=n===jo?Je:n,r?n(t,e,r):n}var pn=Te?function(t){return Te.get(t)}:Ko;function dn(t){for(var e=t.name,r=Oe[e],n=r?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function mn(t,e,r){var n=Be.indexOf||Kn;return n=n===Kn?jt:n,t?n(t,e,r):n}var gn=_r("length");function vn(t){for(var e=So(t),r=e.length;r--;)e[r][2]=Cn(e[r][1]);return e}function yn(t,e){var r=null==t?o:t[e];return Xi(r)?r:o}function bn(t,e,r){null==t||Sn(e,t)||(t=1==(e=Rn(e)).length?t:mr(t,Er(e,0,-1)),e=Vn(e));var n=null==t?t:t[e];return null==n?o:n.apply(t,r)}function wn(t){return null!=t&&En(gn(t))}function _n(t,e){return t="number"==typeof t||dt.test(t)?+t:-1,e=null==e?Ie:e,t>-1&&t%1==0&&t<e}function kn(t,e,r){if(!Zi(r))return!1;var n=typeof e;if("number"==n?wn(r)&&_n(e,r.length):"string"==n&&e in r){var i=r[e];return t==t?t===i:i!=i}return!1}function Sn(t,e){var r=typeof t;return!!("string"==r&&it.test(t)||"number"==r)||!Wi(t)&&(!nt.test(t)||null!=e&&t in Nn(e))}function xn(t){var e=dn(t);if(!(e in Re.prototype))return!1;var r=Be[e];if(t===r)return!0;var n=pn(r);return!!n&&t===n[0]}function En(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ie}function Cn(t){return t==t&&!Zi(t)}function An(t,e){t=Nn(t);for(var r=-1,n=e.length,i={};++r<n;){var o=e[r];o in t&&(i[o]=t[o])}return i}function Mn(t,e){var r={};return lr(t,function(t,n,i){e(t,n,i)&&(r[n]=t)}),r}var In,Tn,On=(In=0,Tn=0,function(t,e){var r=Ci(),n=_-(r-Tn);if(Tn=r,n>0){if(++In>=w)return t}else In=0;return xr(t,e)});function Bn(t){for(var e=bo(t),r=e.length,n=r&&t.length,i=!!n&&En(n)&&(Wi(t)||Vi(t)),o=-1,s=[];++o<r;){var a=e[o];(i&&_n(a,n)||Bt.call(t,a))&&s.push(a)}return s}function Pn(t){return null==t?[]:wn(t)?Zi(t)?t:xt(t):Eo(t)}function Nn(t){return Zi(t)?t:xt(t)}function Rn(t){if(Wi(t))return t;var e=[];return Dt(t).replace(ot,function(t,r,n,i){e.push(n?i.replace(ct,"$1"):r||t)}),e}function Fn(t){return t instanceof Re?t.clone():new Ne(t.__wrapped__,t.__chain__,De(t.__actions__))}var jn=Ki(function(t,e){return Yt(t)&&wn(t)?rr(t,ur(e,!1,!0)):[]});function Ln(t,e,r){return t&&t.length?((r?kn(t,e,r):null==e)&&(e=1),Er(t,e<0?0:e)):[]}function Dn(t,e,r){var n=t?t.length:0;return n?((r?kn(t,e,r):null==e)&&(e=1),Er(t,0,(e=n-(+e||0))<0?0:e)):[]}var Un=Zr(),zn=Zr(!0);function Hn(t){return t?t[0]:o}function Kn(t,e,r){var n=t?t.length:0;if(!n)return-1;if("number"==typeof r)r=r<0?be(n+r,0):r;else if(r){var i=Pr(t,e);return i<n&&(e==e?e===t[i]:t[i]!=t[i])?i:-1}return jt(t,e,r||0)}var qn=Ki(function(t){for(var e=t.length,n=e,i=r(l),o=mn(),s=o==jt,a=[];n--;){var u=t[n]=wn(u=t[n])?u:[];i[n]=s&&u.length>=120?Kr(n&&u):null}var c=t[0],f=-1,l=c?c.length:0,h=i[0];t:for(;++f<l;)if(u=c[f],(h?Le(h,u):o(a,u,0))<0){for(n=e;--n;){var p=i[n];if((p?Le(p,u):o(t[n],u,0))<0)continue t}h&&h.push(u),a.push(u)}return a});function Vn(t){var e=t?t.length:0;return e?t[e-1]:o}var Wn=Ki(function(t,e){var r=Ze(t,e=ur(e));return kr(t,e.sort(Rt)),r});function Gn(t){return Ln(t,1)}var Yn=fn(),$n=fn(!0);var Zn=Ki(function(t){return Ir(ur(t,!1,!0))});function Xn(t,e,r,n){if(!t||!t.length)return[];null!=e&&"boolean"!=typeof e&&(r=kn(t,e,n=r)?o:e,e=!1);var i=hn();return null==r&&i===Je||(r=i(r,n,3)),e&&mn()==jt?function(t,e){for(var r,n=-1,i=t.length,o=-1,s=[];++n<i;){var a=t[n],u=e?e(a,n,t):a;n&&r===u||(r=u,s[++o]=a)}return s}(t,r):Ir(t,r)}function Jn(t){if(!t||!t.length)return[];var e=-1,n=0;t=He(t,function(t){if(wn(t))return n=be(t.length,n),!0});for(var i=r(n);++e<n;)i[e]=Ke(t,_r(e));return i}function Qn(t,e,r){if(!t||!t.length)return[];var n=Jn(t);return null==e?n:(e=Rr(e,r,4),Ke(n,function(t){return Ve(t,e,o,!0)}))}var ti=Ki(function(t,e){return wn(t)?rr(t,e):[]});var ei=Ki(Jn);function ri(t,e){var r=-1,n=t?t.length:0,i={};for(!n||e||Wi(t[0])||(e=[]);++r<n;){var o=t[r];e?i[o]=e[r]:o&&(i[o[0]]=o[1])}return i}var ni=Ki(function(t){var e=t.length,r=e>2?t[e-2]:o,n=e>1?t[e-1]:o;return e>2&&"function"==typeof r?e-=2:(r=e>1&&"function"==typeof n?(--e,n):o,n=o),t.length=e,Qn(t,r,n)});function ii(t){var e=Be(t);return e.__chain__=!0,e}function oi(t,e,r){return e.call(r,t)}var si=Ki(function(t){return t=ur(t),this.thru(function(e){return function(t,e){for(var n=-1,i=t.length,o=-1,s=e.length,a=r(i+s);++n<i;)a[n]=t[n];for(;++o<s;)a[n++]=e[o];return a}(Wi(e)?e:[Nn(e)],t)})});var ai=Ki(function(t,e){return Ze(t,ur(e))}),ui=Dr(function(t,e,r){Bt.call(t,r)?++t[r]:t[r]=1});function ci(t,e,r){var n=Wi(t)?ze:or;return r&&kn(t,e,r)&&(e=o),"function"==typeof e&&r===o||(e=hn(e,r,3)),n(t,e)}function fi(t,e,r){return(Wi(t)?He:sr)(t,e=hn(e,r,3))}var li=$r(nr),hi=$r(ir,!0);var pi=Qr(Ue,nr),di=Qr(function(t,e){for(var r=t.length;r--&&!1!==e(t[r],r,t););return t},ir),mi=Dr(function(t,e,r){Bt.call(t,r)?t[r].push(e):t[r]=[e]});function gi(t,e,r,n){var i=t?gn(t):0;return En(i)||(i=(t=Eo(t)).length),r="number"!=typeof r||n&&kn(e,r,n)?0:r<0?be(i+r,0):r||0,"string"==typeof t||!Wi(t)&&eo(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&mn(t,e,r)>-1}var vi=Dr(function(t,e,r){t[r]=e}),yi=Ki(function(t,e,n){var i=-1,s="function"==typeof e,a=Sn(e),u=wn(t)?r(t.length):[];return nr(t,function(t){var r=s?e:a&&null!=t?t[e]:o;u[++i]=r?r.apply(t,n):bn(t,e,n)}),u});function bi(t,e,r){return(Wi(t)?Ke:yr)(t,e=hn(e,r,3))}var wi=Dr(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]});var _i=sn(Ve,nr),ki=sn(function(t,e,r,n){var i=t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r},ir);function Si(t,e,r){if(r?kn(t,e,r):null==e)return(n=(t=Pn(t)).length)>0?t[Sr(0,n-1)]:o;var n,i=-1,s=io(t),a=(n=s.length)-1;for(e=we(e<0?0:+e||0,n);++i<e;){var u=Sr(i,a),c=s[u];s[u]=s[i],s[i]=c}return s.length=e,s}function xi(t,e,r){var n=Wi(t)?We:Cr;return r&&kn(t,e,r)&&(e=o),"function"==typeof e&&r===o||(e=hn(e,r,3)),n(t,e)}var Ei=Ki(function(t,e){if(null==t)return[];var r=e[2];return r&&kn(e[0],e[1],r)&&(e.length=1),Mr(t,ur(e),[])});var Ci=_e||function(){return(new n).getTime()};function Ai(t,e){var r;if("function"!=typeof e){if("function"!=typeof t)throw new At(E);var n=t;t=e,e=n}return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=o),r}}var Mi=Ki(function(t,e,r){var n=c;if(r.length){var i=Zt(r,Mi.placeholder);n|=d}return ln(t,n,e,r,i)}),Ii=Ki(function(t,e){for(var r=-1,n=(e=e.length?ur(e):vo(t)).length;++r<n;){var i=e[r];t[i]=ln(t[i],c,t)}return t}),Ti=Ki(function(t,e,r){var n=c|f;if(r.length){var i=Zt(r,Ti.placeholder);n|=d}return ln(e,n,t,r,i)}),Oi=Wr(h),Bi=Wr(p);function Pi(t,e,r){var n,i,s,a,u,c,f,l=0,h=!1,p=!0;if("function"!=typeof t)throw new At(E);if(e=e<0?0:+e||0,!0===r){var d=!0;p=!1}else Zi(r)&&(d=!!r.leading,h="maxWait"in r&&be(+r.maxWait||0,e),p="trailing"in r?!!r.trailing:p);function m(e,r){r&&ie(r),i=c=f=o,e&&(l=Ci(),s=t.apply(u,n),c||i||(n=u=o))}function g(){var t=e-(Ci()-a);t<=0||t>e?m(f,i):c=ce(g,t)}function v(){m(p,c)}function y(){if(n=arguments,a=Ci(),u=this,f=p&&(c||!d),!1===h)var r=d&&!c;else{i||d||(l=a);var m=h-(a-l),y=m<=0||m>h;y?(i&&(i=ie(i)),l=a,s=t.apply(u,n)):i||(i=ce(v,m))}return y&&c?c=ie(c):c||e===h||(c=ce(g,e)),r&&(y=!0,s=t.apply(u,n)),!y||c||i||(n=u=o),s}return y.cancel=function(){c&&ie(c),i&&ie(i),l=0,i=c=f=o},y}var Ni=Ki(function(t,e){return er(t,1,e)}),Ri=Ki(function(t,e,r){return er(t,e,r)}),Fi=Jr(),ji=Jr(!0);function Li(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new At(E);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new Li.Cache,r}var Di=Ki(function(t,e){if(e=ur(e),"function"!=typeof t||!ze(e,Lt))throw new At(E);var r=e.length;return Ki(function(n){for(var i=we(n.length,r);i--;)n[i]=e[i](n[i]);return t.apply(this,n)})});var Ui=on(d),zi=on(m),Hi=Ki(function(t,e){return ln(t,v,o,o,o,ur(e))});function Ki(t,e){if("function"!=typeof t)throw new At(E);return e=be(e===o?t.length-1:+e||0,0),function(){for(var n=arguments,i=-1,o=be(n.length-e,0),s=r(o);++i<o;)s[i]=n[e+i];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,n[0],s);case 2:return t.call(this,n[0],n[1],s)}var a=r(e+1);for(i=-1;++i<e;)a[i]=n[i];return a[e]=s,t.apply(this,a)}}function qi(t,e){return t>e}function Vi(t){return Yt(t)&&wn(t)&&Bt.call(t,"callee")&&!ae.call(t,"callee")}var Wi=ge||function(t){return Yt(t)&&En(t.length)&&$t.call(t)==M};function Gi(t,e,r,n){var i=(r="function"==typeof r?Rr(r,n,3):o)?r(t,e):o;return i===o?gr(t,e,r):!!i}function Yi(t){return Yt(t)&&"string"==typeof t.message&&$t.call(t)==O}function $i(t){return Zi(t)&&$t.call(t)==B}function Zi(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Xi(t){return null!=t&&($i(t)?re.test(Ot.call(t)):Yt(t)&&pt.test(t))}function Ji(t){return"number"==typeof t||Yt(t)&&$t.call(t)==P}function Qi(t){var e,r;return!(!Yt(t)||$t.call(t)!=N||Vi(t)||!(Bt.call(t,"constructor")||"function"!=typeof(e=t.constructor)||e instanceof e))&&(lr(t,function(t,e){r=e}),r===o||Bt.call(t,r))}function to(t){return Zi(t)&&$t.call(t)==R}function eo(t){return"string"==typeof t||Yt(t)&&$t.call(t)==F}function ro(t){return Yt(t)&&En(t.length)&&!!_t[$t.call(t)]}function no(t,e){return t<e}function io(t){var e=t?gn(t):0;return En(e)?e?De(t):[]:Eo(t)}function oo(t){return Xe(t,bo(t))}var so=Ur(function t(e,r,n,i,s){if(!Zi(e))return e;var a=wn(r)&&(Wi(r)||ro(r)),u=a?o:yo(r);return Ue(u||r,function(c,f){if(u&&(c=r[f=c]),Yt(c))i||(i=[]),s||(s=[]),function(t,e,r,n,i,s,a){for(var u=s.length,c=e[r];u--;)if(s[u]==c)return void(t[r]=a[u]);var f=t[r],l=i?i(f,c,r,t,e):o,h=l===o;h&&(l=c,wn(c)&&(Wi(c)||ro(c))?l=Wi(f)?f:wn(f)?De(f):[]:Qi(c)||Vi(c)?l=Vi(f)?oo(f):Qi(f)?f:{}:h=!1),s.push(c),a.push(l),h?t[r]=n(l,c,i,s,a):(l==l?l!==f:f==f)&&(t[r]=l)}(e,r,f,t,n,i,s);else{var l=e[f],h=n?n(l,c,f,e,r):o,p=h===o;p&&(h=c),h===o&&(!a||f in e)||!p&&(h==h?h===l:l!=l)||(e[f]=h)}}),e}),ao=Ur(function(t,e,r){return r?Ye(t,e,r):$e(t,e)});var uo=Gr(ao,function(t,e){return t===o?e:t}),co=Gr(so,function t(e,r){return e===o?r:so(e,r,t)}),fo=Xr(hr),lo=Xr(pr),ho=tn(cr),po=tn(fr),mo=en(hr),go=en(pr);function vo(t){return dr(t,bo(t))}var yo=ye?function(t){var e=null==t?o:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&wn(t)?Bn(t):Zi(t)?ye(t):[]}:Bn;function bo(t){if(null==t)return[];Zi(t)||(t=xt(t));var e=t.length;e=e&&En(e)&&(Wi(t)||Vi(t))&&e||0;for(var n=t.constructor,i=-1,o="function"==typeof n&&n.prototype===t,s=r(e),a=e>0;++i<e;)s[i]=i+"";for(var u in t)a&&_n(u,e)||"constructor"==u&&(o||!Bt.call(t,u))||s.push(u);return s}var wo=rn(!0),_o=rn(),ko=Ki(function(t,e){if(null==t)return{};if("function"!=typeof e[0])return e=Ke(ur(e),Ct),An(t,rr(bo(t),e));var r=Rr(e[0],e[1],3);return Mn(t,function(t,e,n){return!r(t,e,n)})});function So(t){t=Nn(t);for(var e=-1,n=yo(t),i=n.length,o=r(i);++e<i;){var s=n[e];o[e]=[s,t[s]]}return o}var xo=Ki(function(t,e){return null==t?{}:"function"==typeof e[0]?Mn(t,Rr(e[0],e[1],3)):An(t,ur(e))});function Eo(t){return Tr(t,yo(t))}var Co=qr(function(t,e,r){return e=e.toLowerCase(),t+(r?e.charAt(0).toUpperCase()+e.slice(1):e)});function Ao(t){return(t=Dt(t))&&t.replace(mt,Kt).replace(ut,"")}var Mo=qr(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()});var Io=nn(),To=nn(!0);function Oo(t,e){var r="";if(t=Dt(t),(e=+e)<1||!t||!ve(e))return r;do{e%2&&(r+=t),e=me(e/2),t+=t}while(e);return r}var Bo=qr(function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}),Po=qr(function(t,e,r){return t+(r?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))});function No(t,e,r){var n=t;return(t=Dt(t))?(r?kn(n,e,r):null==e)?t.slice(Xt(t),Jt(t)+1):(e+="",t.slice(Ut(t,e),zt(t,e)+1)):t}function Ro(t,e,r){return r&&kn(t,e,r)&&(e=o),(t=Dt(t)).match(e||yt)||[]}var Fo=Ki(function(t,e){try{return t.apply(o,e)}catch(t){return Yi(t)?t:new i(t)}});function jo(t,e,r){return r&&kn(t,e,r)&&(e=o),Yt(t)?Do(t):Je(t,e)}function Lo(t){return t}function Do(t){return br(Qe(t,!0))}var Uo=Ki(function(t,e){return function(r){return bn(r,t,e)}}),zo=Ki(function(t,e){return function(r){return bn(t,r,e)}});function Ho(t,e,r){if(null==r){var n=Zi(e),i=n?yo(e):o,s=i&&i.length?dr(e,i):o;(s?s.length:n)||(s=!1,r=e,e=t,t=this)}s||(s=dr(e,yo(e)));var a=!0,u=-1,c=$i(t),f=s.length;!1===r?a=!1:Zi(r)&&"chain"in r&&(a=r.chain);for(;++u<f;){var l=s[u],h=e[l];t[l]=h,c&&(t.prototype[l]=function(e){return function(){var r=this.__chain__;if(a||r){var n=t(this.__wrapped__);return(n.__actions__=De(this.__actions__)).push({func:e,args:arguments,thisArg:t}),n.__chain__=r,n}return e.apply(t,qe([this.value()],arguments))}}(h))}return t}function Ko(){}function qo(t){return Sn(t)?_r(t):function(t){var e=t+"";return t=Rn(t),function(r){return mr(r,t,e)}}(t)}var Vo,Wo=cn("ceil"),Go=cn("floor"),Yo=Yr(qi,xe),$o=Yr(no,Ee),Zo=cn("round");return Be.prototype=Pe.prototype,Ne.prototype=tr(Pe.prototype),Ne.prototype.constructor=Ne,Re.prototype=tr(Pe.prototype),Re.prototype.constructor=Re,Fe.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Fe.prototype.get=function(t){return"__proto__"==t?o:this.__data__[t]},Fe.prototype.has=function(t){return"__proto__"!=t&&Bt.call(this.__data__,t)},Fe.prototype.set=function(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this},je.prototype.push=function(t){var e=this.data;"string"==typeof t||Zi(t)?e.set.add(t):e.hash[t]=!0},Li.Cache=Fe,Be.after=function(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new At(E);var r=t;t=e,e=r}return t=ve(t=+t)?t:0,function(){if(--t<1)return e.apply(this,arguments)}},Be.ary=function(t,e,r){return r&&kn(t,e,r)&&(e=o),e=t&&null==e?t.length:be(+e||0,0),ln(t,g,o,o,o,o,e)},Be.assign=ao,Be.at=ai,Be.before=Ai,Be.bind=Mi,Be.bindAll=Ii,Be.bindKey=Ti,Be.callback=jo,Be.chain=ii,Be.chunk=function(t,e,n){e=(n?kn(t,e,n):null==e)?1:be(me(e)||1,1);for(var i=0,o=t?t.length:0,s=-1,a=r(pe(o/e));i<o;)a[++s]=Er(t,i,i+=e);return a},Be.compact=function(t){for(var e=-1,r=t?t.length:0,n=-1,i=[];++e<r;){var o=t[e];o&&(i[++n]=o)}return i},Be.constant=function(t){return function(){return t}},Be.countBy=ui,Be.create=function(t,e,r){var n=tr(t);return r&&kn(t,e,r)&&(e=o),e?$e(n,e):n},Be.curry=Oi,Be.curryRight=Bi,Be.debounce=Pi,Be.defaults=uo,Be.defaultsDeep=co,Be.defer=Ni,Be.delay=Ri,Be.difference=jn,Be.drop=Ln,Be.dropRight=Dn,Be.dropRightWhile=function(t,e,r){return t&&t.length?Or(t,hn(e,r,3),!0,!0):[]},Be.dropWhile=function(t,e,r){return t&&t.length?Or(t,hn(e,r,3),!0):[]},Be.fill=function(t,e,r,n){var i=t?t.length:0;return i?(r&&"number"!=typeof r&&kn(t,e,r)&&(r=0,n=i),function(t,e,r,n){var i=t.length;for((r=null==r?0:+r||0)<0&&(r=-r>i?0:i+r),(n=n===o||n>i?i:+n||0)<0&&(n+=i),i=r>n?0:n>>>0,r>>>=0;r<i;)t[r++]=e;return t}(t,e,r,n)):[]},Be.filter=fi,Be.flatten=function(t,e,r){var n=t?t.length:0;return r&&kn(t,e,r)&&(e=!1),n?ur(t,e):[]},Be.flattenDeep=function(t){return t&&t.length?ur(t,!0):[]},Be.flow=Fi,Be.flowRight=ji,Be.forEach=pi,Be.forEachRight=di,Be.forIn=ho,Be.forInRight=po,Be.forOwn=mo,Be.forOwnRight=go,Be.functions=vo,Be.groupBy=mi,Be.indexBy=vi,Be.initial=function(t){return Dn(t,1)},Be.intersection=qn,Be.invert=function(t,e,r){r&&kn(t,e,r)&&(e=o);for(var n=-1,i=yo(t),s=i.length,a={};++n<s;){var u=i[n],c=t[u];e?Bt.call(a,c)?a[c].push(u):a[c]=[u]:a[c]=u}return a},Be.invoke=yi,Be.keys=yo,Be.keysIn=bo,Be.map=bi,Be.mapKeys=wo,Be.mapValues=_o,Be.matches=Do,Be.matchesProperty=function(t,e){return wr(t,Qe(e,!0))},Be.memoize=Li,Be.merge=so,Be.method=Uo,Be.methodOf=zo,Be.mixin=Ho,Be.modArgs=Di,Be.negate=function(t){if("function"!=typeof t)throw new At(E);return function(){return!t.apply(this,arguments)}},Be.omit=ko,Be.once=function(t){return Ai(2,t)},Be.pairs=So,Be.partial=Ui,Be.partialRight=zi,Be.partition=wi,Be.pick=xo,Be.pluck=function(t,e){return bi(t,qo(e))},Be.property=qo,Be.propertyOf=function(t){return function(e){return mr(t,Rn(e),e+"")}},Be.pull=function(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var r=0,n=mn(),i=t.length;++r<i;)for(var o=0,s=t[r];(o=n(e,s,o))>-1;)fe.call(e,o,1);return e},Be.pullAt=Wn,Be.range=function(t,e,n){n&&kn(t,e,n)&&(e=n=o),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var i=-1,s=be(pe((e-t)/(n||1)),0),a=r(s);++i<s;)a[i]=t,t+=n;return a},Be.rearg=Hi,Be.reject=function(t,e,r){var n=Wi(t)?He:sr;return e=hn(e,r,3),n(t,function(t,r,n){return!e(t,r,n)})},Be.remove=function(t,e,r){var n=[];if(!t||!t.length)return n;var i=-1,o=[],s=t.length;for(e=hn(e,r,3);++i<s;){var a=t[i];e(a,i,t)&&(n.push(a),o.push(i))}return kr(t,o),n},Be.rest=Gn,Be.restParam=Ki,Be.set=function(t,e,r){if(null==t)return t;for(var n=e+"",i=-1,o=(e=null!=t[n]||Sn(e,t)?[n]:Rn(e)).length,s=o-1,a=t;null!=a&&++i<o;){var u=e[i];Zi(a)&&(i==s?a[u]=r:null==a[u]&&(a[u]=_n(e[i+1])?[]:{})),a=a[u]}return t},Be.shuffle=function(t){return Si(t,Ee)},Be.slice=function(t,e,r){var n=t?t.length:0;return n?(r&&"number"!=typeof r&&kn(t,e,r)&&(e=0,r=n),Er(t,e,r)):[]},Be.sortBy=function(t,e,r){if(null==t)return[];r&&kn(t,e,r)&&(e=o);var n=-1;return e=hn(e,r,3),Ar(yr(t,function(t,r,i){return{criteria:e(t,r,i),index:++n,value:t}}),Ht)},Be.sortByAll=Ei,Be.sortByOrder=function(t,e,r,n){return null==t?[]:(n&&kn(e,r,n)&&(r=o),Wi(e)||(e=null==e?[]:[e]),Wi(r)||(r=null==r?[]:[r]),Mr(t,e,r))},Be.spread=function(t){if("function"!=typeof t)throw new At(E);return function(e){return t.apply(this,e)}},Be.take=function(t,e,r){return t&&t.length?((r?kn(t,e,r):null==e)&&(e=1),Er(t,0,e<0?0:e)):[]},Be.takeRight=function(t,e,r){var n=t?t.length:0;return n?((r?kn(t,e,r):null==e)&&(e=1),Er(t,(e=n-(+e||0))<0?0:e)):[]},Be.takeRightWhile=function(t,e,r){return t&&t.length?Or(t,hn(e,r,3),!1,!0):[]},Be.takeWhile=function(t,e,r){return t&&t.length?Or(t,hn(e,r,3)):[]},Be.tap=function(t,e,r){return e.call(r,t),t},Be.throttle=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new At(E);return!1===r?n=!1:Zi(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Pi(t,e,{leading:n,maxWait:+e,trailing:i})},Be.thru=oi,Be.times=function(t,e,n){if((t=me(t))<1||!ve(t))return[];var i=-1,o=r(we(t,Ce));for(e=Rr(e,n,1);++i<t;)i<Ce?o[i]=e(i):e(i);return o},Be.toArray=io,Be.toPlainObject=oo,Be.transform=function(t,e,r,n){var i=Wi(t)||ro(t);if(e=hn(e,n,4),null==r)if(i||Zi(t)){var s=t.constructor;r=i?Wi(t)?new s:[]:tr($i(s)?s.prototype:o)}else r={};return(i?Ue:hr)(t,function(t,n,i){return e(r,t,n,i)}),r},Be.union=Zn,Be.uniq=Xn,Be.unzip=Jn,Be.unzipWith=Qn,Be.values=Eo,Be.valuesIn=function(t){return Tr(t,bo(t))},Be.where=function(t,e){return fi(t,br(e))},Be.without=ti,Be.wrap=function(t,e){return ln(e=null==e?Lo:e,d,o,[t],[])},Be.xor=function(){for(var t=-1,e=arguments.length;++t<e;){var r=arguments[t];if(wn(r))var n=n?qe(rr(n,r),rr(r,n)):r}return n?Ir(n):[]},Be.zip=ei,Be.zipObject=ri,Be.zipWith=ni,Be.backflow=ji,Be.collect=bi,Be.compose=ji,Be.each=pi,Be.eachRight=di,Be.extend=ao,Be.iteratee=jo,Be.methods=vo,Be.object=ri,Be.select=fi,Be.tail=Gn,Be.unique=Xn,Ho(Be,Be),Be.add=function(t,e){return(+t||0)+(+e||0)},Be.attempt=Fo,Be.camelCase=Co,Be.capitalize=function(t){return(t=Dt(t))&&t.charAt(0).toUpperCase()+t.slice(1)},Be.ceil=Wo,Be.clone=function(t,e,r,n){return e&&"boolean"!=typeof e&&kn(t,e,r)?e=!1:"function"==typeof e&&(n=r,r=e,e=!1),"function"==typeof r?Qe(t,e,Rr(r,n,1)):Qe(t,e)},Be.cloneDeep=function(t,e,r){return"function"==typeof e?Qe(t,!0,Rr(e,r,1)):Qe(t,!0)},Be.deburr=Ao,Be.endsWith=function(t,e,r){e+="";var n=(t=Dt(t)).length;return r=r===o?n:we(r<0?0:+r||0,n),(r-=e.length)>=0&&t.indexOf(e,r)==r},Be.escape=function(t){return(t=Dt(t))&&Q.test(t)?t.replace(X,qt):t},Be.escapeRegExp=function(t){return(t=Dt(t))&&at.test(t)?t.replace(st,Vt):t||"(?:)"},Be.every=ci,Be.find=li,Be.findIndex=Un,Be.findKey=fo,Be.findLast=hi,Be.findLastIndex=zn,Be.findLastKey=lo,Be.findWhere=function(t,e){return li(t,br(e))},Be.first=Hn,Be.floor=Go,Be.get=function(t,e,r){var n=null==t?o:mr(t,Rn(e),e+"");return n===o?r:n},Be.gt=qi,Be.gte=function(t,e){return t>=e},Be.has=function(t,e){if(null==t)return!1;var r=Bt.call(t,e);if(!r&&!Sn(e)){if(null==(t=1==(e=Rn(e)).length?t:mr(t,Er(e,0,-1))))return!1;e=Vn(e),r=Bt.call(t,e)}return r||En(t.length)&&_n(e,t.length)&&(Wi(t)||Vi(t))},Be.identity=Lo,Be.includes=gi,Be.indexOf=Kn,Be.inRange=function(t,e,r){return e=+e||0,r===o?(r=e,e=0):r=+r||0,t>=we(e,r)&&t<be(e,r)},Be.isArguments=Vi,Be.isArray=Wi,Be.isBoolean=function(t){return!0===t||!1===t||Yt(t)&&$t.call(t)==I},Be.isDate=function(t){return Yt(t)&&$t.call(t)==T},Be.isElement=function(t){return!!t&&1===t.nodeType&&Yt(t)&&!Qi(t)},Be.isEmpty=function(t){return null==t||(wn(t)&&(Wi(t)||eo(t)||Vi(t)||Yt(t)&&$i(t.splice))?!t.length:!yo(t).length)},Be.isEqual=Gi,Be.isError=Yi,Be.isFinite=function(t){return"number"==typeof t&&ve(t)},Be.isFunction=$i,Be.isMatch=function(t,e,r,n){return r="function"==typeof r?Rr(r,n,3):o,vr(t,vn(e),r)},Be.isNaN=function(t){return Ji(t)&&t!=+t},Be.isNative=Xi,Be.isNull=function(t){return null===t},Be.isNumber=Ji,Be.isObject=Zi,Be.isPlainObject=Qi,Be.isRegExp=to,Be.isString=eo,Be.isTypedArray=ro,Be.isUndefined=function(t){return t===o},Be.kebabCase=Mo,Be.last=Vn,Be.lastIndexOf=function(t,e,r){var n=t?t.length:0;if(!n)return-1;var i=n;if("number"==typeof r)i=(r<0?be(n+r,0):we(r||0,n-1))+1;else if(r){var o=t[i=Pr(t,e,!0)-1];return(e==e?e===o:o!=o)?i:-1}if(e!=e)return Gt(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1},Be.lt=no,Be.lte=function(t,e){return t<=e},Be.max=Yo,Be.min=$o,Be.noConflict=function(){return Nt._=ee,this},Be.noop=Ko,Be.now=Ci,Be.pad=function(t,e,r){e=+e;var n=(t=Dt(t)).length;if(n>=e||!ve(e))return t;var i=(e-n)/2,o=me(i);return(r=un("",pe(i),r)).slice(0,o)+t+r},Be.padLeft=Io,Be.padRight=To,Be.parseInt=function(t,e,r){return(r?kn(t,e,r):null==e)?e=0:e&&(e=+e),t=No(t),ke(t,e||(ht.test(t)?16:10))},Be.random=function(t,e,r){r&&kn(t,e,r)&&(e=r=o);var n=null==t,i=null==e;if(null==r&&(i&&"boolean"==typeof t?(r=t,t=1):"boolean"==typeof e&&(r=e,i=!0)),n&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,r||t%1||e%1){var s=Se();return we(t+s*(e-t+oe("1e-"+((s+"").length-1))),e)}return Sr(t,e)},Be.reduce=_i,Be.reduceRight=ki,Be.repeat=Oo,Be.result=function(t,e,r){var n=null==t?o:t[e];return n===o&&(null==t||Sn(e,t)||(n=null==(t=1==(e=Rn(e)).length?t:mr(t,Er(e,0,-1)))?o:t[Vn(e)]),n=n===o?r:n),$i(n)?n.call(t):n},Be.round=Zo,Be.runInContext=t,Be.size=function(t){var e=t?gn(t):0;return En(e)?e:yo(t).length},Be.snakeCase=Bo,Be.some=xi,Be.sortedIndex=Yn,Be.sortedLastIndex=$n,Be.startCase=Po,Be.startsWith=function(t,e,r){return t=Dt(t),r=null==r?0:we(r<0?0:+r||0,t.length),t.lastIndexOf(e,r)==r},Be.sum=function(t,e,r){return r&&kn(t,e,r)&&(e=o),1==(e=hn(e,r,3)).length?function(t,e){for(var r=t.length,n=0;r--;)n+=+e(t[r])||0;return n}(Wi(t)?t:Pn(t),e):function(t,e){var r=0;return nr(t,function(t,n,i){r+=+e(t,n,i)||0}),r}(t,e)},Be.template=function(t,e,r){var n=Be.templateSettings;r&&kn(t,e,r)&&(e=r=o),t=Dt(t);var i,a,u=Ye($e({},(e=Ye($e({},r||e),n,Ge)).imports),n.imports,Ge),c=yo(u),f=Tr(u,c),l=0,h=e.interpolate||gt,p="__p += '",d=Et((e.escape||gt).source+"|"+h.source+"|"+(h===rt?ft:gt).source+"|"+(e.evaluate||gt).source+"|$","g"),m="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++wt+"]")+"\n";t.replace(d,function(e,r,n,o,s,u){return n||(n=o),p+=t.slice(l,u).replace(vt,Wt),r&&(i=!0,p+="' +\n__e("+r+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),n&&(p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=u+e.length,e}),p+="';\n";var g=e.variable;g||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(G,""):p).replace(Y,"$1").replace($,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=Fo(function(){return s(c,m+"return "+p).apply(o,f)});if(v.source=p,Yi(v))throw v;return v},Be.trim=No,Be.trimLeft=function(t,e,r){var n=t;return(t=Dt(t))?(r?kn(n,e,r):null==e)?t.slice(Xt(t)):t.slice(Ut(t,e+"")):t},Be.trimRight=function(t,e,r){var n=t;return(t=Dt(t))?(r?kn(n,e,r):null==e)?t.slice(0,Jt(t)+1):t.slice(0,zt(t,e+"")+1):t},Be.trunc=function(t,e,r){r&&kn(t,e,r)&&(e=o);var n=y,i=b;if(null!=e)if(Zi(e)){var s="separator"in e?e.separator:s;n="length"in e?+e.length||0:n,i="omission"in e?Dt(e.omission):i}else n=+e||0;if(n>=(t=Dt(t)).length)return t;var a=n-i.length;if(a<1)return i;var u=t.slice(0,a);if(null==s)return u+i;if(to(s)){if(t.slice(a).search(s)){var c,f,l=t.slice(0,a);for(s.global||(s=Et(s.source,(lt.exec(s)||"")+"g")),s.lastIndex=0;c=s.exec(l);)f=c.index;u=u.slice(0,null==f?a:f)}}else if(t.indexOf(s,a)!=a){var h=u.lastIndexOf(s);h>-1&&(u=u.slice(0,h))}return u+i},Be.unescape=function(t){return(t=Dt(t))&&J.test(t)?t.replace(Z,Qt):t},Be.uniqueId=function(t){var e=++Pt;return Dt(t)+e},Be.words=Ro,Be.all=ci,Be.any=xi,Be.contains=gi,Be.eq=Gi,Be.detect=li,Be.foldl=_i,Be.foldr=ki,Be.head=Hn,Be.include=gi,Be.inject=_i,Ho(Be,(Vo={},hr(Be,function(t,e){Be.prototype[e]||(Vo[e]=t)}),Vo),!1),Be.sample=Si,Be.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return Si(e,t)}):Si(this.value())},Be.VERSION=u,Ue(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){Be[t].placeholder=Be}),Ue(["drop","take"],function(t,e){Re.prototype[t]=function(r){var n=this.__filtered__;if(n&&!e)return new Re(this);r=null==r?1:be(me(r)||0,0);var i=this.clone();return n?i.__takeCount__=we(i.__takeCount__,r):i.__views__.push({size:r,type:t+(i.__dir__<0?"Right":"")}),i},Re.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Ue(["filter","map","takeWhile"],function(t,e){var r=e+1,n=r!=x;Re.prototype[t]=function(t,e){var i=this.clone();return i.__iteratees__.push({iteratee:hn(t,e,1),type:r}),i.__filtered__=i.__filtered__||n,i}}),Ue(["first","last"],function(t,e){var r="take"+(e?"Right":"");Re.prototype[t]=function(){return this[r](1).value()[0]}}),Ue(["initial","rest"],function(t,e){var r="drop"+(e?"":"Right");Re.prototype[t]=function(){return this.__filtered__?new Re(this):this[r](1)}}),Ue(["pluck","where"],function(t,e){var r=e?"filter":"map",n=e?br:qo;Re.prototype[t]=function(t){return this[r](n(t))}}),Re.prototype.compact=function(){return this.filter(Lo)},Re.prototype.reject=function(t,e){return t=hn(t,e,1),this.filter(function(e){return!t(e)})},Re.prototype.slice=function(t,e){t=null==t?0:+t||0;var r=this;return r.__filtered__&&(t>0||e<0)?new Re(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==o&&(r=(e=+e||0)<0?r.dropRight(-e):r.take(e-t)),r)},Re.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},Re.prototype.toArray=function(){return this.take(Ee)},hr(Re.prototype,function(t,e){var r=/^(?:filter|map|reject)|While$/.test(e),n=/^(?:first|last)$/.test(e),i=Be[n?"take"+("last"==e?"Right":""):e];i&&(Be.prototype[e]=function(){var e=n?[1]:arguments,s=this.__chain__,a=this.__wrapped__,u=!!this.__actions__.length,c=a instanceof Re,f=e[0],l=c||Wi(a);l&&r&&"function"==typeof f&&1!=f.length&&(c=l=!1);var h=function(t){return n&&s?i(t,1)[0]:i.apply(o,qe([t],e))},p={func:oi,args:[h],thisArg:o},d=c&&!u;if(n&&!s)return d?((a=a.clone()).__actions__.push(p),t.call(a)):i.call(o,this.value())[0];if(!n&&l){a=d?a:new Re(this);var m=t.apply(a,e);return m.__actions__.push(p),new Ne(m,s)}return this.thru(h)})}),Ue(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var e=(/^(?:replace|split)$/.test(t)?Tt:Mt)[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:join|pop|replace|shift)$/.test(t);Be.prototype[t]=function(){var t=arguments;return n&&!this.__chain__?e.apply(this.value(),t):this[r](function(r){return e.apply(r,t)})}}),hr(Re.prototype,function(t,e){var r=Be[e];if(r){var n=r.name;(Oe[n]||(Oe[n]=[])).push({name:e,func:r})}}),Oe[an(o,f).name]=[{name:"wrapper",func:o}],Re.prototype.clone=function(){var t=new Re(this.__wrapped__);return t.__actions__=De(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=De(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=De(this.__views__),t},Re.prototype.reverse=function(){if(this.__filtered__){var t=new Re(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Re.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=Wi(t),n=e<0,i=r?t.length:0,o=function(t,e,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=we(e,t+s);break;case"takeRight":t=be(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=n?a:s-1,f=this.__iteratees__,l=f.length,h=0,p=we(u,this.__takeCount__);if(!r||i<k||i==u&&p==u)return Br(n&&r?t.reverse():t,this.__actions__);var d=[];t:for(;u--&&h<p;){for(var m=-1,g=t[c+=e];++m<l;){var v=f[m],y=v.iteratee,b=v.type,w=y(g);if(b==x)g=w;else if(!w){if(b==S)continue t;break t}}d[h++]=g}return d},Be.prototype.chain=function(){return ii(this)},Be.prototype.commit=function(){return new Ne(this.value(),this.__chain__)},Be.prototype.concat=si,Be.prototype.plant=function(t){for(var e,r=this;r instanceof Pe;){var n=Fn(r);e?i.__wrapped__=n:e=n;var i=n;r=r.__wrapped__}return i.__wrapped__=t,e},Be.prototype.reverse=function(){var t=this.__wrapped__,e=function(t){return r&&r.__dir__<0?t:t.reverse()};if(t instanceof Re){var r=t;return this.__actions__.length&&(r=new Re(this)),(r=r.reverse()).__actions__.push({func:oi,args:[e],thisArg:o}),new Ne(r,this.__chain__)}return this.thru(e)},Be.prototype.toString=function(){return this.value()+""},Be.prototype.run=Be.prototype.toJSON=Be.prototype.valueOf=Be.prototype.value=function(){return Br(this.__wrapped__,this.__actions__)},Be.prototype.collect=Be.prototype.map,Be.prototype.head=Be.prototype.first,Be.prototype.select=Be.prototype.filter,Be.prototype.tail=Be.prototype.rest,Be}();Nt._=te,(i=function(){return te}.call(e,r,e,t))===o||(t.exports=i)}).call(this)}).call(this,r(24)(t),r(7))},function(t,e,r){var n;t.exports=(n=n||function(t,e){var r=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),n={},i=n.lib={},o=i.Base={extend:function(t){var e=r(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,i=t.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;e[n+o>>>2]|=s<<24-(n+o)%4*8}else for(var o=0;o<i;o+=4)e[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var r,n=[],i=function(e){var e=e,r=987654321,n=4294967295;return function(){var i=((r=36969*(65535&r)+(r>>16)&n)<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n;return i/=4294967296,(i+=.5)*(t.random()>.5?1:-1)}},o=0;o<e;o+=4){var a=i(4294967296*(r||t.random()));r=987654071*a(),n.push(4294967296*a()|0)}return new s.init(n,e)}}),a=n.enc={},u=a.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new s.init(r,e/2)}},c=a.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new s.init(r,e)}},f=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},l=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r=this._data,n=r.words,i=r.sigBytes,o=this.blockSize,a=4*o,u=i/a,c=(u=e?t.ceil(u):t.max((0|u)-this._minBufferSize,0))*o,f=t.min(4*c,i);if(c){for(var l=0;l<c;l+=o)this._doProcessBlock(n,l);var h=n.splice(0,c);r.sigBytes-=f}return new s.init(h,f)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),h=(i.Hasher=l.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new h.HMAC.init(t,r).finalize(e)}}}),n.algo={});return n}(Math),n)},function(t,e,r){"use strict";var n=r(59),i=r(14);t.exports={checkState:function(t,e){if(!t)throw new n.InvalidState(e)},checkArgument:function(t,e,r,i){if(!t)throw new n.InvalidArgument(e,r,i)},checkArgumentType:function(t,e,o){if(o=o||"(unknown name)",i.isString(e)){if("Buffer"===e){if(!r(21).isBuffer(t))throw new n.InvalidArgumentType(t,e,o)}else if(typeof t!==e)throw new n.InvalidArgumentType(t,e,o)}else if(!(t instanceof e))throw new n.InvalidArgumentType(t,e.name,o)}}},function(t,e,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function n(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function i(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var o=r(101),s=Object.prototype.hasOwnProperty,a=Array.prototype.slice,u="foo"===function(){}.name;function c(t){return Object.prototype.toString.call(t)}function f(t){return!i(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var l=t.exports=v,h=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(o.isFunction(t)){if(u)return t.name;var e=t.toString().match(h);return e&&e[1]}}function d(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function m(t){if(u||!o.isFunction(t))return o.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function g(t,e,r,n,i){throw new l.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function v(t,e){t||g(t,!0,e,"==",l.ok)}function y(t,e,r,s){if(t===e)return!0;if(i(t)&&i(e))return 0===n(t,e);if(o.isDate(t)&&o.isDate(e))return t.getTime()===e.getTime();if(o.isRegExp(t)&&o.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(f(t)&&f(e)&&c(t)===c(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===n(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;var u=(s=s||{actual:[],expected:[]}).actual.indexOf(t);return-1!==u&&u===s.expected.indexOf(e)||(s.actual.push(t),s.expected.push(e),function(t,e,r,n){if(null===t||void 0===t||null===e||void 0===e)return!1;if(o.isPrimitive(t)||o.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=b(t),s=b(e);if(i&&!s||!i&&s)return!1;if(i)return t=a.call(t),e=a.call(e),y(t,e,r);var u,c,f=k(t),l=k(e);if(f.length!==l.length)return!1;for(f.sort(),l.sort(),c=f.length-1;c>=0;c--)if(f[c]!==l[c])return!1;for(c=f.length-1;c>=0;c--)if(u=f[c],!y(t[u],e[u],r,n))return!1;return!0}(t,e,r,s))}return r?t===e:t==e}function b(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function w(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function _(t,e,r,n){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!i&&g(i,r,"Missing expected exception"+n);var s="string"==typeof n,a=!t&&o.isError(i),u=!t&&i&&!r;if((a&&s&&w(i,r)||u)&&g(i,r,"Got unwanted exception"+n),t&&i&&r&&!w(i,r)||!t&&i)throw i}l.AssertionError=function(t){var e;this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=d(m((e=this).actual),128)+" "+e.operator+" "+d(m(e.expected),128),this.generatedMessage=!0);var r=t.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var n=new Error;if(n.stack){var i=n.stack,o=p(r),s=i.indexOf("\n"+o);if(s>=0){var a=i.indexOf("\n",s+1);i=i.substring(a+1)}this.stack=i}}},o.inherits(l.AssertionError,Error),l.fail=g,l.ok=v,l.equal=function(t,e,r){t!=e&&g(t,e,r,"==",l.equal)},l.notEqual=function(t,e,r){t==e&&g(t,e,r,"!=",l.notEqual)},l.deepEqual=function(t,e,r){y(t,e,!1)||g(t,e,r,"deepEqual",l.deepEqual)},l.deepStrictEqual=function(t,e,r){y(t,e,!0)||g(t,e,r,"deepStrictEqual",l.deepStrictEqual)},l.notDeepEqual=function(t,e,r){y(t,e,!1)&&g(t,e,r,"notDeepEqual",l.notDeepEqual)},l.notDeepStrictEqual=function t(e,r,n){y(e,r,!0)&&g(e,r,n,"notDeepStrictEqual",t)},l.strictEqual=function(t,e,r){t!==e&&g(t,e,r,"===",l.strictEqual)},l.notStrictEqual=function(t,e,r){t===e&&g(t,e,r,"!==",l.notStrictEqual)},l.throws=function(t,e,r){_(!0,t,e,r)},l.doesNotThrow=function(t,e,r){_(!1,t,e,r)},l.ifError=function(t){if(t)throw t};var k=Object.keys||function(t){var e=[];for(var r in t)s.call(t,r)&&e.push(r);return e}}).call(this,r(7))},function(t,e,r){"use strict";(function(e){const n=r(38),i=r(1456),o=r(1450),s=r(218),a=r(606),u=r(38),c=r(1449);class f{constructor(t,r,s){if(f.isCID(t)){let r=t;return this.version=r.version,this.codec=r.codec,void(this.multihash=e.from(r.multihash))}if("string"==typeof t)if(i.isEncoded(t)){const e=i.decode(t);t=parseInt(e.slice(0,1).toString("hex"),16),r=o.getCodec(e.slice(1)),s=o.rmPrefix(e.slice(1))}else r="dag-pb",s=n.fromB58String(t),t=0;else if(e.isBuffer(t)){const e=t.slice(0,1),n=parseInt(e.toString("hex"),16);if(0===n||1===n){const e=t;t=n,r=o.getCodec(e.slice(1)),s=o.rmPrefix(e.slice(1))}else r="dag-pb",s=t,t=0}this.codec=r,this.version=t,this.multihash=s,f.validateCID(this)}get buffer(){switch(this.version){case 0:return this.multihash;case 1:return e.concat([e.from("01","hex"),e.from(a[this.codec]),this.multihash]);default:throw new Error("unsupported version")}}get prefix(){return e.concat([e.from(`0${this.version}`,"hex"),a[this.codec],u.prefix(this.multihash)])}toV0(){if("dag-pb"!==this.codec)throw new Error("Cannot convert a non dag-pb CID to CIDv0");return new f(0,this.codec,this.multihash)}toV1(){return new f(1,this.codec,this.multihash)}toBaseEncodedString(t){switch(t=t||"base58btc",this.version){case 0:if("base58btc"!==t)throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");return n.toB58String(this.multihash);case 1:return i.encode(t,this.buffer).toString();default:throw new Error("Unsupported version")}}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(t){return this.codec===t.codec&&this.version===t.version&&this.multihash.equals(t.multihash)}static isCID(t){return!c.checkCIDComponents(t)}static validateCID(t){let e=c.checkCIDComponents(t);if(e)throw new Error(e)}}f.codecs=s,t.exports=f}).call(this,r(0).Buffer)},function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s=r(1598).Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var s=t.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function u(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,f=r;f<a;f+=n)c=u(t,f,f+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var l=1;for(c=u(t,f,t.length,e),f=0;f<s;f++)l*=e;this.imuln(l),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,l=67108863&u,h=Math.min(c,e.length-1),p=Math.max(0,c-t.length+1);p<=h;p++){var d=c-p|0;f+=(s=(i=0|t.words[d])*(o=0|e.words[p])+l)/67108864|0,l=67108863&s}r.words[c]=0|l,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(t=t||10,e=0|e||1,16===t||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=f[t],p=l[t];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modn(p).toString(t);r=(d=d.idivn(p)).isZero()?m+r:c[h-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===e,c=new t(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[a]=s;for(;a<o;a++)c[a]=0}else{for(a=0;a<o-i;a++)c[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[o-a-1]=s}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,f=0|s[0],l=8191&f,h=f>>>13,p=0|s[1],d=8191&p,m=p>>>13,g=0|s[2],v=8191&g,y=g>>>13,b=0|s[3],w=8191&b,_=b>>>13,k=0|s[4],S=8191&k,x=k>>>13,E=0|s[5],C=8191&E,A=E>>>13,M=0|s[6],I=8191&M,T=M>>>13,O=0|s[7],B=8191&O,P=O>>>13,N=0|s[8],R=8191&N,F=N>>>13,j=0|s[9],L=8191&j,D=j>>>13,U=0|a[0],z=8191&U,H=U>>>13,K=0|a[1],q=8191&K,V=K>>>13,W=0|a[2],G=8191&W,Y=W>>>13,$=0|a[3],Z=8191&$,X=$>>>13,J=0|a[4],Q=8191&J,tt=J>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ft=0|a[8],lt=8191&ft,ht=ft>>>13,pt=0|a[9],dt=8191&pt,mt=pt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(l,z))|0)+((8191&(i=(i=Math.imul(l,H))+Math.imul(h,z)|0))<<13)|0;c=((o=Math.imul(h,H))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(d,z),i=(i=Math.imul(d,H))+Math.imul(m,z)|0,o=Math.imul(m,H);var vt=(c+(n=n+Math.imul(l,q)|0)|0)+((8191&(i=(i=i+Math.imul(l,V)|0)+Math.imul(h,q)|0))<<13)|0;c=((o=o+Math.imul(h,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,H))+Math.imul(y,z)|0,o=Math.imul(y,H),n=n+Math.imul(d,q)|0,i=(i=i+Math.imul(d,V)|0)+Math.imul(m,q)|0,o=o+Math.imul(m,V)|0;var yt=(c+(n=n+Math.imul(l,G)|0)|0)+((8191&(i=(i=i+Math.imul(l,Y)|0)+Math.imul(h,G)|0))<<13)|0;c=((o=o+Math.imul(h,Y)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,z),i=(i=Math.imul(w,H))+Math.imul(_,z)|0,o=Math.imul(_,H),n=n+Math.imul(v,q)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(d,G)|0,i=(i=i+Math.imul(d,Y)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Y)|0;var bt=(c+(n=n+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,X)|0)+Math.imul(h,Z)|0))<<13)|0;c=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,H))+Math.imul(x,z)|0,o=Math.imul(x,H),n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,V)|0,n=n+Math.imul(v,G)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,Y)|0,n=n+Math.imul(d,Z)|0,i=(i=i+Math.imul(d,X)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,X)|0;var wt=(c+(n=n+Math.imul(l,Q)|0)|0)+((8191&(i=(i=i+Math.imul(l,tt)|0)+Math.imul(h,Q)|0))<<13)|0;c=((o=o+Math.imul(h,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(C,z),i=(i=Math.imul(C,H))+Math.imul(A,z)|0,o=Math.imul(A,H),n=n+Math.imul(S,q)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(x,q)|0,o=o+Math.imul(x,V)|0,n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,X)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,X)|0,n=n+Math.imul(d,Q)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(l,rt)|0)|0)+((8191&(i=(i=i+Math.imul(l,nt)|0)+Math.imul(h,rt)|0))<<13)|0;c=((o=o+Math.imul(h,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,z),i=(i=Math.imul(I,H))+Math.imul(T,z)|0,o=Math.imul(T,H),n=n+Math.imul(C,q)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(A,q)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(S,G)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Y)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(d,rt)|0,i=(i=i+Math.imul(d,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var kt=(c+(n=n+Math.imul(l,ot)|0)|0)+((8191&(i=(i=i+Math.imul(l,st)|0)+Math.imul(h,ot)|0))<<13)|0;c=((o=o+Math.imul(h,st)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,z),i=(i=Math.imul(B,H))+Math.imul(P,z)|0,o=Math.imul(P,H),n=n+Math.imul(I,q)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(T,q)|0,o=o+Math.imul(T,V)|0,n=n+Math.imul(C,G)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,Y)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var St=(c+(n=n+Math.imul(l,ut)|0)|0)+((8191&(i=(i=i+Math.imul(l,ct)|0)+Math.imul(h,ut)|0))<<13)|0;c=((o=o+Math.imul(h,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,H))+Math.imul(F,z)|0,o=Math.imul(F,H),n=n+Math.imul(B,q)|0,i=(i=i+Math.imul(B,V)|0)+Math.imul(P,q)|0,o=o+Math.imul(P,V)|0,n=n+Math.imul(I,G)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,Y)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(d,ut)|0,i=(i=i+Math.imul(d,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var xt=(c+(n=n+Math.imul(l,lt)|0)|0)+((8191&(i=(i=i+Math.imul(l,ht)|0)+Math.imul(h,lt)|0))<<13)|0;c=((o=o+Math.imul(h,ht)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,H))+Math.imul(D,z)|0,o=Math.imul(D,H),n=n+Math.imul(R,q)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(F,q)|0,o=o+Math.imul(F,V)|0,n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,X)|0,n=n+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0,n=n+Math.imul(d,lt)|0,i=(i=i+Math.imul(d,ht)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,ht)|0;var Et=(c+(n=n+Math.imul(l,dt)|0)|0)+((8191&(i=(i=i+Math.imul(l,mt)|0)+Math.imul(h,dt)|0))<<13)|0;c=((o=o+Math.imul(h,mt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,V))+Math.imul(D,q)|0,o=Math.imul(D,V),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,Y)|0,n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ct)|0,n=n+Math.imul(v,lt)|0,i=(i=i+Math.imul(v,ht)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,ht)|0;var Ct=(c+(n=n+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,mt)|0)+Math.imul(m,dt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(L,G),i=(i=Math.imul(L,Y))+Math.imul(D,G)|0,o=Math.imul(D,Y),n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(F,Z)|0,o=o+Math.imul(F,X)|0,n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(T,rt)|0,o=o+Math.imul(T,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,n=n+Math.imul(w,lt)|0,i=(i=i+Math.imul(w,ht)|0)+Math.imul(_,lt)|0,o=o+Math.imul(_,ht)|0;var At=(c+(n=n+Math.imul(v,dt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,dt)|0))<<13)|0;c=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(L,Z),i=(i=Math.imul(L,X))+Math.imul(D,Z)|0,o=Math.imul(D,X),n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(F,Q)|0,o=o+Math.imul(F,tt)|0,n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,ct)|0,n=n+Math.imul(S,lt)|0,i=(i=i+Math.imul(S,ht)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,ht)|0;var Mt=(c+(n=n+Math.imul(w,dt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,dt)|0))<<13)|0;c=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(L,Q),i=(i=Math.imul(L,tt))+Math.imul(D,Q)|0,o=Math.imul(D,tt),n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(F,rt)|0,o=o+Math.imul(F,nt)|0,n=n+Math.imul(B,ot)|0,i=(i=i+Math.imul(B,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,n=n+Math.imul(C,lt)|0,i=(i=i+Math.imul(C,ht)|0)+Math.imul(A,lt)|0,o=o+Math.imul(A,ht)|0;var It=(c+(n=n+Math.imul(S,dt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(x,dt)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(L,rt),i=(i=Math.imul(L,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,n=n+Math.imul(B,ut)|0,i=(i=i+Math.imul(B,ct)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,ct)|0,n=n+Math.imul(I,lt)|0,i=(i=i+Math.imul(I,ht)|0)+Math.imul(T,lt)|0,o=o+Math.imul(T,ht)|0;var Tt=(c+(n=n+Math.imul(C,dt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(A,dt)|0))<<13)|0;c=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(L,ot),i=(i=Math.imul(L,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,ct)|0)+Math.imul(F,ut)|0,o=o+Math.imul(F,ct)|0,n=n+Math.imul(B,lt)|0,i=(i=i+Math.imul(B,ht)|0)+Math.imul(P,lt)|0,o=o+Math.imul(P,ht)|0;var Ot=(c+(n=n+Math.imul(I,dt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(T,dt)|0))<<13)|0;c=((o=o+Math.imul(T,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(L,ut),i=(i=Math.imul(L,ct))+Math.imul(D,ut)|0,o=Math.imul(D,ct),n=n+Math.imul(R,lt)|0,i=(i=i+Math.imul(R,ht)|0)+Math.imul(F,lt)|0,o=o+Math.imul(F,ht)|0;var Bt=(c+(n=n+Math.imul(B,dt)|0)|0)+((8191&(i=(i=i+Math.imul(B,mt)|0)+Math.imul(P,dt)|0))<<13)|0;c=((o=o+Math.imul(P,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(L,lt),i=(i=Math.imul(L,ht))+Math.imul(D,lt)|0,o=Math.imul(D,ht);var Pt=(c+(n=n+Math.imul(R,dt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(F,dt)|0))<<13)|0;c=((o=o+Math.imul(F,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Nt=(c+(n=Math.imul(L,dt))|0)+((8191&(i=(i=Math.imul(L,mt))+Math.imul(D,dt)|0))<<13)|0;return c=((o=Math.imul(D,mt))+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=kt,u[7]=St,u[8]=xt,u[9]=Et,u[10]=Ct,u[11]=At,u[12]=Mt,u[13]=It,u[14]=Tt,u[15]=Ot,u[16]=Bt,u[17]=Pt,u[18]=Nt,0!==c&&(u[19]=c,r.length++),r};function d(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(p=h),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):r<63?h(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,l=(0|t.words[f])*(0|e.words[c]),h=67108863&l;a=67108863&(h=h+a|0),i+=(s=(s=s+(l/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):d(this,t,e)},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},m.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var l=u,h=c,p=0;p<s;p++){var d=r[f+p],m=n[f+p],g=r[f+p+s],v=n[f+p+s],y=l*g-h*v;v=l*v+h*g,g=y,r[f+p]=d+g,n[f+p]=m+v,r[f+p+s]=d-g,n[f+p+s]=m-v,p!==a&&(y=u*l-c*h,h=u*h+c*l,l=y)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),l=new Array(n),h=r.words;h.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,l,n,i);for(var p=0;p<n;p++){var d=a[p]*f[p]-u[p]*l[p];u[p]=a[p]*l[p]+u[p]*f[p],a[p]=d}return this.conjugate(a,u,n),this.transform(a,u,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),d(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-o|l>>>o,f=l&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var h=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,l);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=h)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),l=e.clone();!e.isZero();){for(var h=0,p=1;0==(e.words[0]&p)&&h<26;++h,p<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(l)),i.iushrn(1),s.iushrn(1);for(var d=0,m=1;0==(r.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(l)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;0==(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var l=0,h=1;0==(r.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new k(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(y,v),y.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,v),i(w,v),i(_,v),_.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new _}return g[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,i),h=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),d=s;0!==p.cmp(a);){for(var m=p,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<d);var v=this.pow(l,new o(1).iushln(d-g-1));h=h.redMul(v),l=v.redSqr(),p=p.redMul(l),d=g}return h},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var l=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new S(t)},i(S,k),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)}).call(this,r(24)(t))},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,s,a,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var f=new Error('Uncaught, unspecified "error" event. ('+e+")");throw f.context=e,f}if(o(r=this._events[t]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),r.apply(this,a)}else if(i(r))for(a=Array.prototype.slice.call(arguments,1),s=(c=r.slice()).length,u=0;u<s;u++)c[u].apply(this,a);return!0},r.prototype.addListener=function(t,e){var s;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(s=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){if(!n(e))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},r.prototype.removeListener=function(t,e){var r,o,s,a;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(r=this._events[t]).length,o=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(r)){for(a=s;a-- >0;)if(r[a]===e||r[a].listener&&r[a].listener===e){o=a;break}if(o<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[t]))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,r){"use strict";(function(e){var n=r(0),i=r(17),o=r(28),s=r(16);function a(t,e){if(t.length!==e.length)return!1;for(var r=t.length,n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}t.exports={fill:function(t,e){s.checkArgumentType(t,"Buffer","buffer"),s.checkArgumentType(e,"number","value");for(var r=t.length,n=0;n<r;n++)t[n]=e;return t},copy:function(t){var r=new e(t.length);return t.copy(r),r},isBuffer:function(t){return n.Buffer.isBuffer(t)||t instanceof Uint8Array},emptyBuffer:function(t){s.checkArgumentType(t,"number","bytes");for(var e=new n.Buffer(t),r=0;r<t;r++)e.write("\0",r);return e},concat:n.Buffer.concat,equals:a,equal:a,integerAsSingleByteBuffer:function(t){return s.checkArgumentType(t,"number","integer"),new n.Buffer([255&t])},integerAsBuffer:function(t){s.checkArgumentType(t,"number","integer");var r=[];return r.push(t>>24&255),r.push(t>>16&255),r.push(t>>8&255),r.push(255&t),new e(r)},integerFromBuffer:function(t){return s.checkArgumentType(t,"Buffer","buffer"),t[0]<<24|t[1]<<16|t[2]<<8|t[3]},integerFromSingleByteBuffer:function(t){return s.checkArgumentType(t,"Buffer","buffer"),t[0]},bufferToHex:function(t){return s.checkArgumentType(t,"Buffer","buffer"),t.toString("hex")},reverse:function(t){for(var e=new n.Buffer(t.length),r=0;r<t.length;r++)e[r]=t[t.length-r-1];return e},hexToBuffer:function(t){return i(o.isHexa(t)),new n.Buffer(t,"hex")}},t.exports.NULL_HASH=t.exports.fill(new e(32),0),t.exports.EMPTY_BUFFER=new e(0)}).call(this,r(0).Buffer)},function(t,e,r){var n=r(539),i=r(326),o=n.tfJSON,s=n.TfTypeError,a=n.TfPropertyTypeError,u=n.tfSubError,c=n.getValueTypeName,f={arrayOf:function(t){function e(e,r){return!!i.Array(e)&&(!i.Nil(e)&&e.every(function(e,n){try{return h(t,e,r)}catch(t){throw u(t,n)}}))}return t=l(t),e.toJSON=function(){return"["+o(t)+"]"},e},maybe:function t(e){function r(r,n){return i.Nil(r)||e(r,n,t)}return e=l(e),r.toJSON=function(){return"?"+o(e)},r},map:function(t,e){function r(r,n){if(!i.Object(r))return!1;if(i.Nil(r))return!1;for(var o in r){try{e&&h(e,o,n)}catch(t){throw u(t,o,"key")}try{var s=r[o];h(t,s,n)}catch(t){throw u(t,o)}}return!0}return t=l(t),e&&(e=l(e)),r.toJSON=e?function(){return"{"+o(e)+": "+o(t)+"}"}:function(){return"{"+o(t)+"}"},r},object:function(t){var e={};for(var r in t)e[r]=l(t[r]);function n(t,r){if(!i.Object(t))return!1;if(i.Nil(t))return!1;var n;try{for(n in e){h(e[n],t[n],r)}}catch(t){throw u(t,n)}if(r)for(n in t)if(!e[n])throw new a(void 0,n);return!0}return n.toJSON=function(){return o(e)},n},oneOf:function(){var t=[].slice.call(arguments).map(l);function e(e,r){return t.some(function(t){try{return h(t,e,r)}catch(t){return!1}})}return e.toJSON=function(){return t.map(o).join("|")},e},quacksLike:function(t){function e(e){return t===c(e)}return e.toJSON=function(){return t},e},tuple:function(){var t=[].slice.call(arguments).map(l);function e(e,r){return!i.Nil(e)&&(!i.Nil(e.length)&&((!r||e.length===t.length)&&t.every(function(t,n){try{return h(t,e[n],r)}catch(t){throw u(t,n)}})))}return e.toJSON=function(){return"("+t.map(o).join(", ")+")"},e},value:function(t){function e(e){return e===t}return e.toJSON=function(){return t},e}};function l(t){return i.String(t)?"?"===t[0]?f.maybe(t.slice(1)):i[t]||f.quacksLike(t):t&&i.Object(t)?i.Array(t)?f.arrayOf(t[0]):f.object(t):i.Function(t)?t:f.value(t)}function h(t,e,r,n){if(i.Function(t)){if(t(e,r))return!0;throw new s(n||t,e)}return h(l(t),e,r)}for(var p in i)h[p]=i[p];for(p in f)h[p]=f[p];var d=r(1255);for(p in d)h[p]=d[p];h.async=function t(e,r,n,i){if("function"==typeof n)return t(e,r,!1,n);try{h(e,r,n)}catch(t){return i(t)}i()},h.compile=l,h.TfTypeError=s,h.TfPropertyTypeError=a,t.exports=h},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";(function(e){const n=r(291),i=r(79),o=r(1100),s=r(290),a=r(35),u=r(86),c=new Error("Sorry, Not Implemented Yet.");function f(t){if(!(this instanceof f))return new f(t);if(null==t&&(t=""),t instanceof e)this.buffer=o.fromBuffer(t);else if("string"==typeof t||t instanceof String)this.buffer=o.fromString(t);else{if(!(t.buffer&&t.protos&&t.protoCodes))throw new Error("addr must be a string, Buffer, or another Multiaddr");this.buffer=o.fromBuffer(t.buffer)}}t.exports=f,f.prototype.toString=function(){return o.bufferToString(this.buffer)},f.prototype.toOptions=function(){const t={},e=this.toString().split("/");return t.family="ip4"===e[1]?"ipv4":"ipv6",t.host=e[2],t.transport=e[3],t.port=e[4],t},f.prototype.inspect=function(){return"<Multiaddr "+this.buffer.toString("hex")+" - "+o.bufferToString(this.buffer)+">"},f.prototype.protos=function(){return n(this.protoCodes(),function(t){return i(s(t))})},f.prototype.protoCodes=function(){const t=[],e=this.buffer;let r=0;for(;r<e.length;){const n=a.decode(e,r),i=a.decode.bytes,u=s(n);r+=o.sizeForAddr(u,e.slice(r+i))+i,t.push(n)}return t},f.prototype.protoNames=function(){return n(this.protos(),function(t){return t.name})},f.prototype.tuples=function(){return o.bufferToTuples(this.buffer)},f.prototype.stringTuples=function(){const t=o.bufferToTuples(this.buffer);return o.tuplesToStringTuples(t)},f.prototype.encapsulate=function(t){return t=f(t),f(this.toString()+t.toString())},f.prototype.decapsulate=function(t){t=t.toString();const e=this.toString(),r=e.lastIndexOf(t);if(r<0)throw new Error("Address "+this+" does not contain subaddress: "+t);return f(e.slice(0,r))},f.prototype.getPeerId=function(){let t=null;try{t=this.stringTuples().filter(t=>{if(t[0]===s.names.ipfs.code)return!0})[0][1],u.decode(t)}catch(e){t=null}return t},f.prototype.equals=function(t){return this.buffer.equals(t.buffer)},f.prototype.nodeAddress=function(){if(!this.isThinWaistAddress())throw new Error('Multiaddr must be "thin waist" address for nodeAddress.');const t=this.protoCodes(),e=this.toString().split("/").slice(1);return{family:41===t[0]?"IPv6":"IPv4",address:e[1],port:e[3]}},f.fromNodeAddress=function(t,e){if(!t)throw new Error("requires node address object");if(!e)throw new Error("requires transport protocol");return f("/"+["IPv6"===t.family?"ip6":"ip4",t.address,e,t.port].join("/"))},f.prototype.isThinWaistAddress=function(t){const e=(t||this).protos();return 2===e.length&&((4===e[0].code||41===e[0].code)&&(6===e[1].code||17===e[1].code))},f.prototype.fromStupidString=function(t){throw c},f.protocols=s,f.isMultiaddr=function(t){return t.constructor&&t.constructor.name?"Multiaddr"===t.constructor.name:Boolean(t.fromStupidString&&t.protos)},f.isName=function(t){return!!f.isMultiaddr(t)&&t.protos().some(t=>t.resolvable)},f.resolve=function(t,e){return f.isMultiaddr(t)&&f.isName(t)?e(new Error("not implemented yet")):e(new Error("not a valid name"))}}).call(this,r(0).Buffer)},function(t,e,r){
/** PROMISIFY CALLBACK-STYLE FUNCTIONS TO ES6 PROMISES
*
* EXAMPLE:
* const fn = promisify( (callback) => callback(null, "Hello world!") );
* fn((err, str) => console.log(str));
* fn().then((str) => console.log(str));
* //Both functions, will log 'Hello world!'
*
* Note: The function you pass, may have any arguments you want, but the latest
* have to be the callback, which you will call with: next(err, value)
*
* @param method: Function/Array/Map = The function(s) to promisify
* @param options: Map =
*  "context" (default is function): The context which to apply the called function
*  "replace" (default is falsy): When passed an array/map, if to replace the original object
*
* @return: A promise if passed a function, otherwise the object with the promises
*
* @license: MIT
* @version: 1.0.3
* @author: Manuel Di Iorio
**/
var n=function(t,e){return function(){var r=Array.prototype.slice.call(arguments),n=r.length-1,i=r&&r.length>0?r[n]:null;return("function"==typeof i?i:null)?t.apply(e,r):new Promise(function(n,i){r.push(function(t,e){if(t)return i(t);n(e)}),t.apply(e,r)})}};t.exports=function(t,e){e=e||{};var r=Object.prototype.toString.call(t);if("[object Object]"===r||"[object Array]"===r){var i=e.replace?t:{};for(var o in t)t.hasOwnProperty(o)&&(i[o]=n(t[o]));return i}return n(t,e.context||t)}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,i,o,s,a){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,i,o,s,a],f=0;(u=new Error(e.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,r){"use strict";var n=r(14),i=function(t){return!!n.isString(t)&&/^[0-9a-fA-F]+$/.test(t)};t.exports={isValidJSON:function(t){var e;if(!n.isString(t))return!1;try{e=JSON.parse(t)}catch(t){return!1}return"object"==typeof e},isHexa:i,isHexaString:i,cloneArray:function(t){return[].concat(t)},defineImmutable:function(t,e){return Object.keys(e).forEach(function(r){Object.defineProperty(t,r,{configurable:!1,enumerable:!0,value:e[r]})}),t},isNaturalNumber:function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t&&t>=0}}},function(t,e,r){var n=r(3).Buffer,i=r(327),o=r(540),s=r(22),a=r(33),u=r(538),c=r(41),f=r(1254),l=c.OP_RESERVED;function h(t){return a.Buffer(t)||function(t){return a.Number(t)&&(t===c.OP_0||t>=c.OP_1&&t<=c.OP_16||t===c.OP_1NEGATE)}(t)}function p(t){return a.Array(t)&&t.every(h)}function d(t){return 0===t.length?c.OP_0:1===t.length?t[0]>=1&&t[0]<=16?l+t[0]:129===t[0]?c.OP_1NEGATE:void 0:void 0}function m(t){if(n.isBuffer(t))return t;s(a.Array,t);var e=t.reduce(function(t,e){return n.isBuffer(e)?1===e.length&&void 0!==d(e)?t+1:t+o.encodingLength(e.length)+e.length:t+1},0),r=n.allocUnsafe(e),i=0;if(t.forEach(function(t){if(n.isBuffer(t)){var e=d(t);if(void 0!==e)return r.writeUInt8(e,i),void(i+=1);i+=o.encode(r,t.length,i),t.copy(r,i),i+=t.length}else r.writeUInt8(t,i),i+=1}),i!==r.length)throw new Error("Could not decode chunks");return r}function g(t){if(a.Array(t))return t;s(a.Buffer,t);for(var e=[],r=0;r<t.length;){var n=t[r];if(n>c.OP_0&&n<=c.OP_PUSHDATA4){var i=o.decode(t,r);if(null===i)return[];if((r+=i.size)+i.number>t.length)return[];var u=t.slice(r,r+i.number);r+=i.number;var f=d(u);void 0!==f?e.push(f):e.push(u)}else e.push(n),r+=1}return e}function v(t){var e=-129&t;return e>0&&e<4}t.exports={compile:m,decompile:g,fromASM:function(t){return s(a.String,t),m(t.split(" ").map(function(t){return void 0!==c[t]?c[t]:(s(a.Hex,t),n.from(t,"hex"))}))},toASM:function(t){return n.isBuffer(t)&&(t=g(t)),t.map(function(t){if(n.isBuffer(t)){var e=d(t);if(void 0===e)return t.toString("hex");t=e}return f[t]}).join(" ")},toStack:function(t){return t=g(t),s(p,t),t.map(function(t){return n.isBuffer(t)?t:t===c.OP_0?n.allocUnsafe(0):u.encode(t-l)})},number:r(538),isCanonicalPubKey:function(t){if(!n.isBuffer(t))return!1;if(t.length<33)return!1;switch(t[0]){case 2:case 3:return 33===t.length;case 4:return 65===t.length}return!1},isCanonicalSignature:function(t){return!!n.isBuffer(t)&&!!v(t[t.length-1])&&i.check(t.slice(0,-1))},isPushOnly:p,isDefinedHashType:v}},function(t,e,r){"use strict";(function(n){const i=r(38),o=r(81),s=r(17),a=r(1107);class u{constructor(t,e,r){s(n.isBuffer(t),"invalid id provided"),e&&r&&s(e.public.bytes.equals(r.bytes),"inconsistent arguments"),this._id=t,this._idB58String=i.toB58String(this.id),this._privKey=e,this._pubKey=r}get id(){return this._id}set id(t){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(t){this._privKey=t}get pubKey(){return this._pubKey?this._pubKey:this._privKey?this._privKey.public:void 0}set pubKey(t){this._pubKey=t}marshalPubKey(){if(this.pubKey)return o.keys.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return o.keys.marshalPrivateKey(this.privKey)}toPrint(){return this.toJSON()}toJSON(){return{id:this.toB58String(),privKey:c(this.marshalPrivKey()),pubKey:c(this.marshalPubKey())}}toHexString(){return i.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}isEqual(t){if(n.isBuffer(t))return this.id.equals(t);if(t.id)return this.id.equals(t.id);throw new Error("not valid Id")}isValid(t){this.privKey&&this.privKey.public&&this.privKey.public.bytes&&n.isBuffer(this.pubKey.bytes)&&this.privKey.public.bytes.equals(this.pubKey.bytes)?t():t(new Error("Keys not match"))}}function c(t){if(t)return t.toString("base64")}(e=t.exports=u).create=function(t,e){"function"==typeof t&&(e=t,t={}),(t=t||{}).bits=t.bits||2048,a([e=>o.keys.generateKeyPair("RSA",t.bits,e),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n))})},e.createFromHexString=function(t){return new u(i.fromHexString(t))},e.createFromBytes=function(t){return new u(t)},e.createFromB58String=function(t){return new u(i.fromB58String(t))},e.createFromPubKey=function(t,e){if("function"!=typeof e)throw new Error("callback is required");let r;try{let i=t;if("string"==typeof i&&(i=n.from(t,"base64")),!n.isBuffer(i))throw new Error("Supplied key is neither a base64 string nor a buffer");r=o.keys.unmarshalPublicKey(i)}catch(t){return e(t)}r.hash((t,n)=>{if(t)return e(t);e(null,new u(n,null,r))})},e.createFromPrivKey=function(t,e){if("function"!=typeof e)throw new Error("callback is required");let r=t;try{if("string"==typeof r&&(r=n.from(t,"base64")),!n.isBuffer(r))throw new Error("Supplied key is neither a base64 string nor a buffer")}catch(t){return e(t)}a([t=>o.keys.unmarshalPrivateKey(r,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,r,n)=>{if(t)return e(t);e(null,new u(r,n,n.public))})},e.createFromJSON=function(t,e){if("function"!=typeof e)throw new Error("callback is required");let r,s,c,f;try{r=i.fromB58String(t.id),s=t.privKey&&n.from(t.privKey,"base64"),c=t.pubKey&&n.from(t.pubKey,"base64"),f=c&&o.keys.unmarshalPublicKey(c)}catch(t){return e(t)}s?a([t=>o.keys.unmarshalPrivateKey(s,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)}),(t,e,r)=>{f?f.hash((n,i)=>{r(n,t,e,i)}):r(null,t,e)}],(t,n,i,o)=>t?e(t):f&&!n.equals(o)?e(new Error("Public and private key do not match")):r&&!n.equals(r)?e(new Error("Id and private key do not match")):void e(null,new u(r,i,f))):e(null,new u(r,null,f))},e.isPeerId=function(t){return Boolean("object"==typeof t&&t._id&&t._idB58String)}}).call(this,r(0).Buffer)},function(t,e){var r=Array.isArray;t.exports=r},function(t,e,r){"use strict";(function(e){var n=r(75),i=r(16),o=r(14),s=function(t){for(var r=new e(t.length),n=0;n<t.length;n++)r[n]=t[t.length-1-n];return r};n.Zero=new n(0),n.One=new n(1),n.Minus1=new n(-1),n.fromNumber=function(t){return i.checkArgument(o.isNumber(t)),new n(t)},n.fromString=function(t,e){return i.checkArgument(o.isString(t)),new n(t,e)},n.fromBuffer=function(t,e){void 0!==e&&"little"===e.endian&&(t=s(t));var r=t.toString("hex");return new n(r,16)},n.fromSM=function(t,r){var i;if(0===t.length)return n.fromBuffer(new e([0]));var o="big";return r&&(o=r.endian),"little"===o&&(t=s(t)),128&t[0]?(t[0]=127&t[0],(i=n.fromBuffer(t)).neg().copy(i)):i=n.fromBuffer(t),i},n.prototype.toNumber=function(){return parseInt(this.toString(10),10)},n.prototype.toBuffer=function(t){var r,i;if(t&&t.size){var o=(i=this.toString(16,2)).length/2;r=new e(i,"hex"),o===t.size?r=r:o>t.size?r=n.trim(r,o):o<t.size&&(r=n.pad(r,o,t.size))}else i=this.toString(16,2),r=new e(i,"hex");return void 0!==t&&"little"===t.endian&&(r=s(r)),r},n.prototype.toSMBigEndian=function(){var t;return-1===this.cmp(n.Zero)?128&(t=this.neg().toBuffer())[0]?t=e.concat([new e([128]),t]):t[0]=128|t[0]:128&(t=this.toBuffer())[0]&&(t=e.concat([new e([0]),t])),1===t.length&0===t[0]&&(t=new e([])),t},n.prototype.toSM=function(t){var e=t?t.endian:"big",r=this.toSMBigEndian();return"little"===e&&(r=s(r)),r},n.fromScriptNumBuffer=function(t,e,r){var o=r||4;if(i.checkArgument(t.length<=o,new Error("script number overflow")),e&&t.length>0&&0==(127&t[t.length-1])&&(t.length<=1||0==(128&t[t.length-2])))throw new Error("non-minimally encoded script number");return n.fromSM(t,{endian:"little"})},n.prototype.toScriptNumBuffer=function(){return this.toSM({endian:"little"})},n.prototype.gt=function(t){return this.cmp(t)>0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.lt=function(t){return this.cmp(t)<0},n.trim=function(t,e){return t.slice(e-t.length,t.length)},n.pad=function(t,r,n){for(var i=new e(n),o=0;o<t.length;o++)i[i.length-1-o]=t[t.length-1-o];for(o=0;o<n-r;o++)i[o]=0;return i},t.exports=n}).call(this,r(0).Buffer)},function(t,e,r){var n=r(22),i=Math.pow(2,31)-1;function o(t){return n.String(t)&&t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}o.toJSON=function(){return"BIP32 derivation path"};var s=21e14;var a=n.quacksLike("BigInteger"),u=n.quacksLike("Point"),c=n.compile({r:a,s:a}),f=n.compile({messagePrefix:n.oneOf(n.Buffer,n.String),bip32:{public:n.UInt32,private:n.UInt32},pubKeyHash:n.UInt8,scriptHash:n.UInt8,wif:n.UInt8}),l={BigInt:a,BIP32Path:o,Buffer256bit:n.BufferN(32),ECPoint:u,ECSignature:c,Hash160bit:n.BufferN(20),Hash256bit:n.BufferN(32),Network:f,Satoshi:function(t){return n.UInt53(t)&&t<=s},UInt31:function(t){return n.UInt32(t)&&t<=i}};for(var h in n)l[h]=n[h];t.exports=l},function(t,e){var r=1e3,n=60*r,i=60*n,o=24*i,s=365.25*o;function a(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}t.exports=function(t,e){e=e||{};var u,c=typeof t;if("string"===c&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(t);if("number"===c&&!1===isNaN(t))return e.long?a(u=t,o,"day")||a(u,i,"hour")||a(u,n,"minute")||a(u,r,"second")||u+" ms":function(t){if(t>=o)return Math.round(t/o)+"d";if(t>=i)return Math.round(t/i)+"h";if(t>=n)return Math.round(t/n)+"m";if(t>=r)return Math.round(t/r)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,r){t.exports={encode:r(1459),decode:r(1458),encodingLength:r(1457)}},function(t,e,r){var n;t.exports=(n=r(15),void(n.lib.Cipher||function(t){var e=n,r=e.lib,i=r.Base,o=r.WordArray,s=r.BufferedBlockAlgorithm,a=e.enc,u=(a.Utf8,a.Base64),c=e.algo,f=c.EvpKDF,l=r.Cipher=s.extend({cfg:i.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?S:w}return function(e){return{encrypt:function(r,n,i){return t(n).encrypt(e,r,n,i)},decrypt:function(r,n,i){return t(n).decrypt(e,r,n,i)}}}}()}),h=(r.StreamCipher=l.extend({_doFinalize:function(){var t=this._process(!0);return t},blockSize:1}),e.mode={}),p=r.BlockCipherMode=i.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),d=h.CBC=function(){var e=p.extend();function r(e,r,n){var i=this._iv;if(i){var o=i;this._iv=t}else var o=this._prevBlock;for(var s=0;s<n;s++)e[r+s]^=o[s]}return e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize;r.call(this,t,e,i),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),e.Decryptor=e.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,o=t.slice(e,e+i);n.decryptBlock(t,e),r.call(this,t,e,i),this._prevBlock=o}}),e}(),m=e.pad={},g=m.Pkcs7={pad:function(t,e){for(var r=4*e,n=r-t.sigBytes%r,i=n<<24|n<<16|n<<8|n,s=[],a=0;a<n;a+=4)s.push(i);var u=o.create(s,n);t.concat(u)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},v=(r.BlockCipher=l.extend({cfg:l.cfg.extend({mode:d,padding:g}),reset:function(){l.reset.call(this);var t=this.cfg,e=t.iv,r=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else{var n=r.createDecryptor;this._minBufferSize=1}this._mode=n.call(r,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else{var e=this._process(!0);t.unpad(e)}return e},blockSize:4}),r.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),y=e.format={},b=y.OpenSSL={stringify:function(t){var e=t.ciphertext,r=t.salt;if(r)var n=o.create([1398893684,1701076831]).concat(r).concat(e);else var n=e;return n.toString(u)},parse:function(t){var e=u.parse(t),r=e.words;if(1398893684==r[0]&&1701076831==r[1]){var n=o.create(r.slice(2,4));r.splice(0,4),e.sigBytes-=16}return v.create({ciphertext:e,salt:n})}},w=r.SerializableCipher=i.extend({cfg:i.extend({format:b}),encrypt:function(t,e,r,n){n=this.cfg.extend(n);var i=t.createEncryptor(r,n),o=i.finalize(e),s=i.cfg;return v.create({ciphertext:o,key:r,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,r,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var i=t.createDecryptor(r,n).finalize(e.ciphertext);return i},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),_=e.kdf={},k=_.OpenSSL={execute:function(t,e,r,n){n||(n=o.random(8));var i=f.create({keySize:e+r}).compute(t,n),s=o.create(i.words.slice(e),4*r);return i.sigBytes=4*e,v.create({key:i,iv:s,salt:n})}},S=r.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:k}),encrypt:function(t,e,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,t.keySize,t.ivSize);n.iv=i.iv;var o=w.encrypt.call(this,t,e,i.key,n);return o.mixIn(i),o},decrypt:function(t,e,r,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var i=n.kdf.execute(r,t.keySize,t.ivSize,e.salt);n.iv=i.iv;var o=w.decrypt.call(this,t,e,i.key,n);return o}})}()))},function(t,e,r){var n=r(158),i=r(157),o=r(1500),s={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"},a=function(t,e,r){return new Array(e-t.length+1).join(r||"0")+t},u=function(t){t=o.encode(t);for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r);if(0===n)break;var i=n.toString(16);e+=i.length<2?"0"+i:i}return"0x"+e},c=function(t){for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r).toString(16);e+=n.length<2?"0"+n:n}return"0x"+e},f=function(t){var e=p(t),r=e.toString(16);return e.lessThan(0)?"-0x"+r.substr(1):"0x"+r},l=function(t){if(b(t))return f(+t);if(g(t))return f(t);if(y(t))return u(JSON.stringify(t));if(v(t)){if(0===t.indexOf("-0x"))return f(t);if(0===t.indexOf("0x"))return t;if(!isFinite(t))return c(t)}return f(t)},h=function(t){t=t?t.toLowerCase():"ether";var e=s[t];if(void 0===e)throw new Error("This unit doesn't exists, please use the one of the following units"+JSON.stringify(s,null,2));return new n(e,10)},p=function(t){return g(t=t||0)?t:!v(t)||0!==t.indexOf("0x")&&0!==t.indexOf("-0x")?new n(t.toString(10),10):new n(t.replace("0x",""),16)},d=function(t){return/^0x[0-9a-f]{40}$/i.test(t)},m=function(t){t=t.replace("0x","");for(var e=i(t.toLowerCase()),r=0;r<40;r++)if(parseInt(e[r],16)>7&&t[r].toUpperCase()!==t[r]||parseInt(e[r],16)<=7&&t[r].toLowerCase()!==t[r])return!1;return!0},g=function(t){return t instanceof n||t&&t.constructor&&"BigNumber"===t.constructor.name},v=function(t){return"string"==typeof t||t&&t.constructor&&"String"===t.constructor.name},y=function(t){return"object"==typeof t},b=function(t){return"boolean"==typeof t};t.exports={padLeft:a,padRight:function(t,e,r){return t+new Array(e-t.length+1).join(r||"0")},toHex:l,toDecimal:function(t){return p(t).toNumber()},fromDecimal:f,toUtf8:function(t){var e="",r=0,n=t.length;for("0x"===t.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);if(0===i)break;e+=String.fromCharCode(i)}return o.decode(e)},toAscii:function(t){var e="",r=0,n=t.length;for("0x"===t.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e},fromUtf8:u,fromAscii:c,transformToFullName:function(t){if(-1!==t.name.indexOf("("))return t.name;var e=t.inputs.map(function(t){return t.type}).join();return t.name+"("+e+")"},extractDisplayName:function(t){var e=t.indexOf("(");return-1!==e?t.substr(0,e):t},extractTypeName:function(t){var e=t.indexOf("(");return-1!==e?t.substr(e+1,t.length-1-(e+1)).replace(" ",""):""},toWei:function(t,e){var r=p(t).times(h(e));return g(t)?r:r.toString(10)},fromWei:function(t,e){var r=p(t).dividedBy(h(e));return g(t)?r:r.toString(10)},toBigNumber:p,toTwosComplement:function(t){var e=p(t).round();return e.lessThan(0)?new n("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16).plus(e).plus(1):e},toAddress:function(t){return d(t)?t:/^[0-9a-f]{40}$/.test(t)?"0x"+t:"0x"+a(l(t).substr(2),40)},isBigNumber:g,isStrictAddress:d,isAddress:function(t){return!!/^(0x)?[0-9a-f]{40}$/i.test(t)&&(!(!/^(0x)?[0-9a-f]{40}$/.test(t)&&!/^(0x)?[0-9A-F]{40}$/.test(t))||m(t))},isChecksumAddress:m,toChecksumAddress:function(t){if(void 0===t)return"";t=t.toLowerCase().replace("0x","");for(var e=i(t),r="0x",n=0;n<t.length;n++)parseInt(e[n],16)>7?r+=t[n].toUpperCase():r+=t[n];return r},isFunction:function(t){return"function"==typeof t},isString:v,isObject:y,isBoolean:b,isArray:function(t){return t instanceof Array},isJson:function(t){try{return!!JSON.parse(t)}catch(t){return!1}},isBloom:function(t){return!(!/^(0x)?[0-9a-f]{512}$/i.test(t)||!/^(0x)?[0-9a-f]{512}$/.test(t)&&!/^(0x)?[0-9A-F]{512}$/.test(t))},isTopic:function(t){return!(!/^(0x)?[0-9a-f]{64}$/i.test(t)||!/^(0x)?[0-9a-f]{64}$/.test(t)&&!/^(0x)?[0-9A-F]{64}$/.test(t))}}},function(t,e,r){"use strict";(function(t){const n=r(86),i=r(607);e.names=i.names,e.codes=i.codes,e.defaultLengths=i.defaultLengths;const o=r(35);function s(t){e.decode(t)}e.toHexString=function(e){if(!t.isBuffer(e))throw new Error("must be passed a buffer");return e.toString("hex")},e.fromHexString=function(e){return t.from(e,"hex")},e.toB58String=function(e){if(!t.isBuffer(e))throw new Error("must be passed a buffer");return n.encode(e)},e.fromB58String=function(e){let r=e;return t.isBuffer(e)&&(r=e.toString()),t.from(n.decode(r))},e.decode=function(r){if(!t.isBuffer(r))throw new Error("multihash must be a Buffer");if(r.length<3)throw new Error("multihash too short. must be > 3 bytes.");let n=o.decode(r);if(!e.isValidCode(n))throw new Error(`multihash unknown function code: 0x${n.toString(16)}`);r=r.slice(o.decode.bytes);let s=o.decode(r);if(s<1)throw new Error(`multihash invalid length: 0x${s.toString(16)}`);if((r=r.slice(o.decode.bytes)).length!==s)throw new Error(`multihash length inconsistent: 0x${r.toString("hex")}`);return{code:n,name:i.codes[n],length:s,digest:r}},e.encode=function(r,n,i){if(!r||!n)throw new Error("multihash encode requires at least two args: digest, code");const s=e.coerceCode(n);if(!t.isBuffer(r))throw new Error("digest should be a Buffer");if(null==i&&(i=r.length),i&&r.length!==i)throw new Error("digest length should be equal to specified length.");return t.concat([t.from(o.encode(s)),t.from(o.encode(i)),r])},e.coerceCode=function(t){let r=t;if("string"==typeof t){if(!i.names[t])throw new Error(`Unrecognized hash function named: ${t}`);r=i.names[t]}if("number"!=typeof r)throw new Error(`Hash function code should be a number. Got: ${r}`);if(!i.codes[r]&&!e.isAppCode(r))throw new Error(`Unrecognized function code: ${r}`);return r},e.isAppCode=function(t){return t>0&&t<16},e.isValidCode=function(t){return!!e.isAppCode(t)||!!i.codes[t]},e.validate=s,e.prefix=function(t){return s(t),t.slice(0,2)}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";var n=e;n.version=r(1592).version,n.utils=r(1591),n.rand=r(635),n.curve=r(230),n.curves=r(1586),n.ec=r(1578),n.eddsa=r(1574)},function(t,e,r){"use strict";(function(e){var n=r(107),i=r(21),o=r(16),s=t.exports;s.sha1=function(t){return o.checkArgument(i.isBuffer(t)),n.createHash("sha1").update(t).digest()},s.sha1.blocksize=512,s.sha256=function(t){return o.checkArgument(i.isBuffer(t)),n.createHash("sha256").update(t).digest()},s.sha256.blocksize=512,s.sha256sha256=function(t){return o.checkArgument(i.isBuffer(t)),s.sha256(s.sha256(t))},s.ripemd160=function(t){return o.checkArgument(i.isBuffer(t)),n.createHash("ripemd160").update(t).digest()},s.sha256ripemd160=function(t){return o.checkArgument(i.isBuffer(t)),s.ripemd160(s.sha256(t))},s.sha512=function(t){return o.checkArgument(i.isBuffer(t)),n.createHash("sha512").update(t).digest()},s.sha512.blocksize=1024,s.hmac=function(t,r,n){o.checkArgument(i.isBuffer(r)),o.checkArgument(i.isBuffer(n)),o.checkArgument(t.blocksize);var s=t.blocksize/8;if(n.length>s)n=t(n);else if(n<s){var a=new e(s);a.fill(0),n.copy(a),n=a}var u=new e(s);u.fill(92);var c=new e(s);c.fill(54);for(var f=new e(s),l=new e(s),h=0;h<s;h++)f[h]=u[h]^n[h],l[h]=c[h]^n[h];return t(e.concat([f,t(e.concat([l,r]))]))},s.sha256hmac=function(t,e){return s.hmac(s.sha256,t,e)},s.sha512hmac=function(t,e){return s.hmac(s.sha512,t,e)}}).call(this,r(0).Buffer)},function(t){t.exports={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255}},function(t,e,r){(function(t){function r(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===r(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===r(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===r(t)},e.isError=function(t){return"[object Error]"===r(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,r(0).Buffer)},function(t,e,r){"use strict";var n=r(1687),i=r(1686);t.exports={errors:n,formatters:i}},function(t,e,r){"use strict";e.Connection=r(1006)},function(t,e,r){"use strict";const n=r(586),i=r(1393),o=r(340);e.Key=n,e.MemoryDatastore=i,e.utils=o},function(t,e,r){var n=r(591),i=r(1405),o=r(10);t.exports=function(t){return o(t)?n(t):i(t)}},function(t,e,r){"use strict";const n=r(1047),i=r(1046);e.encode=n,e.decode=i.decode,e.decodeFromReader=i.decodeFromReader},function(t,e,r){"use strict";const n=r(30),i=r(484).ensureMultiaddr,o=r(1096),s=r(17);class a{constructor(t){s(t,"Missing peerId. Use Peer.create(cb) to create one"),this.id=t,this.multiaddrs=new o,this.protocols=new Set,this._connectedMultiaddr=void 0}connect(t){if(t=i(t),!this.multiaddrs.has(t)&&t.toString()!==`/ipfs/${this.id.toB58String()}`)throw new Error("can't be connected to missing multiaddr from set");this._connectedMultiaddr=t}disconnect(){this._connectedMultiaddr=void 0}isConnected(){return this._connectedMultiaddr}}a.create=((t,e)=>{if("function"==typeof t)return e=t,t=null,void n.create((t,r)=>{if(t)return e(t);e(null,new a(r))});"function"==typeof t.toJSON?e(null,new a(t)):n.createFromJSON(t,(t,r)=>e(t,new a(r)))}),a.isPeerInfo=(t=>Boolean("object"==typeof t&&t.id&&t.multiaddrs)),t.exports=a},function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=r,r.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)}},function(t,e,r){t.exports=i;var n=r(20).EventEmitter;function i(){n.call(this)}r(6)(i,n),i.Readable=r(106),i.Writable=r(1628),i.Duplex=r(1627),i.Transform=r(1626),i.PassThrough=r(1625),i.Stream=i,i.prototype.pipe=function(t,e){var r=this;function i(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(r.on("end",a),r.on("close",u));var s=!1;function a(){s||(s=!0,t.end())}function u(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(f(),0===n.listenerCount(this,"error"))throw t}function f(){r.removeListener("data",i),t.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",u),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",f),r.removeListener("close",f),t.removeListener("close",f)}return r.on("error",c),t.on("error",c),r.on("end",f),r.on("close",f),t.on("close",f),t.emit("pipe",r),t}},function(t,e,r){"use strict";var n=r(6),i=r(365),o=r(363),s=r(362),a=r(87);function u(t){a.call(this,"digest"),this._hash=t}n(u,a),u.prototype._update=function(t){this._hash.update(t)},u.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new i:"rmd160"===t||"ripemd160"===t?new o:new u(s(t))}},function(t,e,r){"use strict";(function(e){var n=r(21),i=r(17),o=function t(e){if(!(this instanceof t))return new t(e);e?this.set(e):this.bufs=[]};o.prototype.set=function(t){return this.bufs=t.bufs||this.bufs||[],this},o.prototype.toBuffer=function(){return this.concat()},o.prototype.concat=function(){return e.concat(this.bufs)},o.prototype.write=function(t){return i(n.isBuffer(t)),this.bufs.push(t),this},o.prototype.writeReverse=function(t){return i(n.isBuffer(t)),this.bufs.push(n.reverse(t)),this},o.prototype.writeUInt8=function(t){var r=new e(1);return r.writeUInt8(t,0),this.write(r),this},o.prototype.writeUInt16BE=function(t){var r=new e(2);return r.writeUInt16BE(t,0),this.write(r),this},o.prototype.writeUInt16LE=function(t){var r=new e(2);return r.writeUInt16LE(t,0),this.write(r),this},o.prototype.writeUInt32BE=function(t){var r=new e(4);return r.writeUInt32BE(t,0),this.write(r),this},o.prototype.writeInt32LE=function(t){var r=new e(4);return r.writeInt32LE(t,0),this.write(r),this},o.prototype.writeUInt32LE=function(t){var r=new e(4);return r.writeUInt32LE(t,0),this.write(r),this},o.prototype.writeUInt64BEBN=function(t){var e=t.toBuffer({size:8});return this.write(e),this},o.prototype.writeUInt64LEBN=function(t){var e=t.toBuffer({size:8});return this.writeReverse(e),this},o.prototype.writeVarintNum=function(t){var e=o.varintBufNum(t);return this.write(e),this},o.prototype.writeVarintBN=function(t){var e=o.varintBufBN(t);return this.write(e),this},o.varintBufNum=function(t){var r=void 0;return t<253?(r=new e(1)).writeUInt8(t,0):t<65536?((r=new e(3)).writeUInt8(253,0),r.writeUInt16LE(t,1)):t<4294967296?((r=new e(5)).writeUInt8(254,0),r.writeUInt32LE(t,1)):((r=new e(9)).writeUInt8(255,0),r.writeInt32LE(-1&t,1),r.writeUInt32LE(Math.floor(t/4294967296),5)),r},o.varintBufBN=function(t){var r=void 0,n=t.toNumber();if(n<253)(r=new e(1)).writeUInt8(n,0);else if(n<65536)(r=new e(3)).writeUInt8(253,0),r.writeUInt16LE(n,1);else if(n<4294967296)(r=new e(5)).writeUInt8(254,0),r.writeUInt32LE(n,1);else{var i=new o;i.writeUInt8(255),i.writeUInt64LEBN(t);r=i.concat()}return r},t.exports=o}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e){const n=r(38),i=r(1321);function o(t,e,r,i){if("function"==typeof r&&(i=r,r=void 0),!i)throw new Error("Missing callback");o.digest(t,e,r,(t,o)=>{if(t)return i(t);i(null,n.encode(o,e,r))})}t.exports=o,o.Buffer=e,o.multihash=n,o.digest=function(t,e,r,n){if("function"==typeof r&&(n=r,r=void 0),!n)throw new Error("Missing callback");let i,s=n;r&&(s=((t,e)=>{if(t)return n(t);n(null,e.slice(0,r))}));try{i=o.createHash(e)}catch(t){return s(t)}i(t,s)},o.createHash=function(t){if(t=n.coerceCode(t),!o.functions[t])throw new Error("multihash function "+t+" not yet supported");return o.functions[t]},o.functions={17:i.sha1,18:i.sha2256,19:i.sha2512,20:i.sha3512,21:i.sha3384,22:i.sha3256,23:i.sha3224,24:i.shake128,25:i.shake256,26:i.keccak224,27:i.keccak256,28:i.keccak384,29:i.keccak512,34:i.murmur3128,35:i.murmur332,86:i.dblSha2256},i.addBlake(o.functions)}).call(this,r(0).Buffer)},function(t,e,r){var n=r(367),i=r(1684),o=r(668),s=r(1678),a=r(1677),u=function(t){if(!o.isHexStrict(t))throw new Error("The parameter must be a valid HEX string.");var e="",r=0,n=t.length;for("0x"===t.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e},c=function(t){if(!t)return"0x00";for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r).toString(16);e+=n.length<2?"0"+n:n}return"0x"+e},f=function(t){if(t=t?t.toLowerCase():"ether",!i.unitMap[t])throw new Error('This unit "'+t+"\" doesn't exist, please use the one of the following units"+JSON.stringify(i.unitMap,null,2));return t};t.exports={_fireError:function(t,e,r,i){return!n.isObject(t)||t instanceof Error||!t.data||((n.isObject(t.data)||n.isArray(t.data))&&(t.data=JSON.stringify(t.data,null,2)),t=t.message+"\n"+t.data),n.isString(t)&&(t=new Error(t)),n.isFunction(i)&&i(t),n.isFunction(r)&&((e&&n.isFunction(e.listeners)&&e.listeners("error").length||n.isFunction(i))&&e.catch(function(){}),setTimeout(function(){r(t)},1)),e&&n.isFunction(e.emit)&&setTimeout(function(){e.emit("error",t),e.removeAllListeners()},1),e},_jsonInterfaceMethodToString:function(t){if(n.isObject(t)&&t.name&&-1!==t.name.indexOf("("))return t.name;var e=t.inputs.map(function(t){return t.type}).join(",");return t.name+"("+e+")"},randomHex:a,_:n,BN:o.BN,isBN:o.isBN,isBigNumber:o.isBigNumber,isHex:o.isHex,isHexStrict:o.isHexStrict,sha3:o.sha3,keccak256:o.sha3,soliditySha3:s,isAddress:o.isAddress,checkAddressChecksum:o.checkAddressChecksum,toChecksumAddress:function(t){if(void 0===t)return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(t))throw new Error('Given address "'+t+'" is not a valid Ethereum address.');t=t.toLowerCase().replace(/^0x/i,"");for(var e=o.sha3(t).replace(/^0x/i,""),r="0x",n=0;n<t.length;n++)parseInt(e[n],16)>7?r+=t[n].toUpperCase():r+=t[n];return r},toHex:o.toHex,toBN:o.toBN,bytesToHex:o.bytesToHex,hexToBytes:o.hexToBytes,hexToNumberString:o.hexToNumberString,hexToNumber:o.hexToNumber,toDecimal:o.hexToNumber,numberToHex:o.numberToHex,fromDecimal:o.numberToHex,hexToUtf8:o.hexToUtf8,hexToString:o.hexToUtf8,toUtf8:o.hexToUtf8,utf8ToHex:o.utf8ToHex,stringToHex:o.utf8ToHex,fromUtf8:o.utf8ToHex,hexToAscii:u,toAscii:u,asciiToHex:c,fromAscii:c,unitMap:i.unitMap,toWei:function(t,e){if(e=f(e),!o.isBN(t)&&!n.isString(t))throw new Error("Please pass numbers as strings or BigNumber objects to avoid precision errors.");return o.isBN(t)?i.toWei(t,e):i.toWei(t,e).toString(10)},fromWei:function(t,e){if(e=f(e),!o.isBN(t)&&!n.isString(t))throw new Error("Please pass numbers as strings or BigNumber objects to avoid precision errors.");return o.isBN(t)?i.fromWei(t,e):i.fromWei(t,e).toString(10)},padLeft:o.leftPad,leftPad:o.leftPad,padRight:o.rightPad,rightPad:o.rightPad,toTwosComplement:o.toTwosComplement}},function(t,e,r){var n=r(972);function i(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function o(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}t.exports=n(i),t.exports.strict=n(o),i.proto=i(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})})},function(t,e,r){var n=r(11);r(95),r(506),r(505),r(13),n.random&&n.random.getBytes?t.exports=n.random:function(e){var r={},i=new Array(4),o=n.util.createBuffer();function s(){var t=n.prng.create(r);return t.getBytes=function(e,r){return t.generate(e,r)},t.getBytesSync=function(e){return t.generate(e)},t}r.formatKey=function(t){var e=n.util.createBuffer(t);return(t=new Array(4))[0]=e.getInt32(),t[1]=e.getInt32(),t[2]=e.getInt32(),t[3]=e.getInt32(),n.aes._expandKey(t,!1)},r.formatSeed=function(t){var e=n.util.createBuffer(t);return(t=new Array(4))[0]=e.getInt32(),t[1]=e.getInt32(),t[2]=e.getInt32(),t[3]=e.getInt32(),t},r.cipher=function(t,e){return n.aes._updateBlock(t,e,i,!1),o.putInt32(i[0]),o.putInt32(i[1]),o.putInt32(i[2]),o.putInt32(i[3]),o.getBytes()},r.increment=function(t){return++t[3],t},r.md=n.md.sha256;var a=s(),u=null;if("undefined"!=typeof window){var c=window.crypto||window.msCrypto;c&&c.getRandomValues&&(u=function(t){return c.getRandomValues(t)})}if(n.options.usePureJavaScript||!n.util.isNodejs&&!u){if("undefined"==typeof window||window.document,a.collectInt(+new Date,32),"undefined"!=typeof navigator){var f="";for(var l in navigator)try{"string"==typeof navigator[l]&&(f+=navigator[l])}catch(t){}a.collect(f),f=null}e&&(e().mousemove(function(t){a.collectInt(t.clientX,16),a.collectInt(t.clientY,16)}),e().keypress(function(t){a.collectInt(t.charCode,8)}))}if(n.random)for(var l in a)n.random[l]=a[l];else n.random=a;n.random.createInstance=s,t.exports=n.random}("undefined"!=typeof jQuery?jQuery:null)},function(t,e,r){t.exports=r(517),t.exports.Interpreter=r(1167)},function(t,e,r){"use strict";(function(e){var n=r(32),i=r(14),o=r(16),s=r(21),a=r(28),u=function t(e,r){if(!(this instanceof t))return new t(e,r);if(e instanceof n)this.set({r:e,s:r});else if(e){var i=e;this.set(i)}};u.prototype.set=function(t){return this.r=t.r||this.r||void 0,this.s=t.s||this.s||void 0,this.i=void 0!==t.i?t.i:this.i,this.compressed=void 0!==t.compressed?t.compressed:this.compressed,this.nhashtype=t.nhashtype||this.nhashtype||void 0,this},u.fromCompact=function(t){o.checkArgument(s.isBuffer(t),"Argument is expected to be a Buffer");var e=new u,r=!0,i=t.slice(0,1)[0]-27-4;i<0&&(r=!1,i+=4);var a=t.slice(1,33),c=t.slice(33,65);return o.checkArgument(0===i||1===i||2===i||3===i,new Error("i must be 0, 1, 2, or 3")),o.checkArgument(32===a.length,new Error("r must be 32 bytes")),o.checkArgument(32===c.length,new Error("s must be 32 bytes")),e.compressed=r,e.i=i,e.r=n.fromBuffer(a),e.s=n.fromBuffer(c),e},u.fromDER=u.fromBuffer=function(t,e){var r=u.parseDER(t,e),n=new u;return n.r=r.r,n.s=r.s,n},u.fromTxFormat=function(t){var e=t.readUInt8(t.length-1),r=t.slice(0,t.length-1),n=new u.fromDER(r,!1);return n.nhashtype=e,n},u.fromString=function(t){var r=new e(t,"hex");return u.fromDER(r)},u.parseDER=function(t,e){o.checkArgument(s.isBuffer(t),new Error("DER formatted signature should be a buffer")),i.isUndefined(e)&&(e=!0);var r=t[0];o.checkArgument(48===r,new Error("Header byte should be 0x30"));var a=t[1],u=t.slice(2).length;o.checkArgument(!e||a===u,new Error("Length byte should length of what follows")),a=a<u?a:u;var c=t[2];o.checkArgument(2===c,new Error("Integer byte for r should be 0x02"));var f=t[3],l=t.slice(4,4+f),h=n.fromBuffer(l),p=0===t[4];o.checkArgument(f===l.length,new Error("Length of r incorrect"));var d=t[4+f+0];o.checkArgument(2===d,new Error("Integer byte for s should be 0x02"));var m=t[4+f+1],g=t.slice(4+f+2,4+f+2+m),v=n.fromBuffer(g),y=0===t[4+f+2+2];o.checkArgument(m===g.length,new Error("Length of s incorrect"));var b=4+f+2+m;return o.checkArgument(a===b-2,new Error("Length of signature incorrect")),{header:r,length:a,rheader:c,rlength:f,rneg:p,rbuf:l,r:h,sheader:d,slength:m,sneg:y,sbuf:g,s:v}},u.prototype.toCompact=function(t,r){if(t="number"==typeof t?t:this.i,r="boolean"==typeof r?r:this.compressed,0!==t&&1!==t&&2!==t&&3!==t)throw new Error("i must be equal to 0, 1, 2, or 3");var n=t+27+4;!1===r&&(n-=4);var i=new e([n]),o=this.r.toBuffer({size:32}),s=this.s.toBuffer({size:32});return e.concat([i,o,s])},u.prototype.toBuffer=u.prototype.toDER=function(){var t=this.r.toBuffer(),r=this.s.toBuffer(),n=!!(128&t[0]),i=!!(128&r[0]),o=n?e.concat([new e([0]),t]):t,s=i?e.concat([new e([0]),r]):r,a=o.length,u=s.length,c=2+a+2+u;return e.concat([new e([48,c,2,a]),o,new e([2,u]),s])},u.prototype.toString=function(){return this.toDER().toString("hex")},u.isTxDER=function(t){if(t.length<9)return!1;if(t.length>73)return!1;if(48!==t[0])return!1;if(t[1]!==t.length-3)return!1;var e=t[3];if(5+e>=t.length)return!1;var r=t[5+e];if(e+r+7!==t.length)return!1;var n=t.slice(4);if(2!==t[2])return!1;if(0===e)return!1;if(128&n[0])return!1;if(e>1&&0===n[0]&&!(128&n[1]))return!1;var i=t.slice(6+e);return 2===t[6+e-2]&&(0!==r&&(!(128&i[0])&&!(r>1&&0===i[0]&&!(128&i[1]))))},u.prototype.hasLowS=function(){return!this.s.lt(new n(1))&&!this.s.gt(new n("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex"))},u.prototype.hasDefinedHashtype=function(){if(!a.isNaturalNumber(this.nhashtype))return!1;var t=this.nhashtype&~u.SIGHASH_ANYONECANPAY;return!(t<u.SIGHASH_ALL||t>u.SIGHASH_SINGLE)},u.prototype.toTxFormat=function(){var t=this.toDER(),r=new e(1);return r.writeUInt8(this.nhashtype,0),e.concat([t,r])},u.SIGHASH_ALL=1,u.SIGHASH_NONE=2,u.SIGHASH_SINGLE=3,u.SIGHASH_ANYONECANPAY=128,t.exports=u}).call(this,r(0).Buffer)},function(t,e,r){"use strict";var n=r(14);var i=function(t,e){var r=function(){if(n.isString(e.message))this.message=(t=e.message,r=arguments,t.replace("{0}",r[0]).replace("{1}",r[1]).replace("{2}",r[2]));else{if(!n.isFunction(e.message))throw new Error("Invalid error definition for "+e.name);this.message=e.message.apply(null,arguments)}var t,r;this.stack=this.message+"\n"+(new Error).stack};return(r.prototype=Object.create(t.prototype)).name=t.prototype.name+e.name,t[e.name]=r,e.errors&&o(r,e.errors),r},o=function(t,e){n.each(e,function(e){i(t,e)})},s={Error:function(){this.message="Internal error",this.stack=this.message+"\n"+(new Error).stack}};s.Error.prototype=Object.create(Error.prototype),s.Error.prototype.name="bitcore.Error";var a,u=r(1186);a=s.Error,o(a,u),t.exports=s.Error,t.exports.extend=function(t){return i(s.Error,t)}},function(t,e,r){var n=r(158),i=r(37),o=r(224),s=r(612),a=function(t){n.config(o.ETH_BIGNUMBER_ROUNDING_MODE);var e=i.padLeft(i.toTwosComplement(t).toString(16),64);return new s(e)},u=function(t){var e=t.staticPart()||"0";return function(t){return"1"===new n(t.substr(0,1),16).toString(2).substr(0,1)}(e)?new n(e,16).minus(new n("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16)).minus(1):new n(e,16)},c=function(t){var e=t.staticPart()||"0";return new n(e,16)};t.exports={formatInputInt:a,formatInputBytes:function(t){var e=i.toHex(t).substr(2),r=Math.floor((e.length+63)/64);return e=i.padRight(e,64*r),new s(e)},formatInputDynamicBytes:function(t){var e=i.toHex(t).substr(2),r=e.length/2,n=Math.floor((e.length+63)/64);return e=i.padRight(e,64*n),new s(a(r).value+e)},formatInputString:function(t){var e=i.fromUtf8(t).substr(2),r=e.length/2,n=Math.floor((e.length+63)/64);return e=i.padRight(e,64*n),new s(a(r).value+e)},formatInputBool:function(t){return new s("000000000000000000000000000000000000000000000000000000000000000"+(t?"1":"0"))},formatInputReal:function(t){return a(new n(t).times(new n(2).pow(128)))},formatOutputInt:u,formatOutputUInt:c,formatOutputReal:function(t){return u(t).dividedBy(new n(2).pow(128))},formatOutputUReal:function(t){return c(t).dividedBy(new n(2).pow(128))},formatOutputBool:function(t){return"0000000000000000000000000000000000000000000000000000000000000001"===t.staticPart()},formatOutputBytes:function(t,e){var r=e.match(/^bytes([0-9]*)/),n=parseInt(r[1]);return"0x"+t.staticPart().slice(0,2*n)},formatOutputDynamicBytes:function(t){var e=2*new n(t.dynamicPart().slice(0,64),16).toNumber();return"0x"+t.dynamicPart().substr(64,e)},formatOutputString:function(t){var e=2*new n(t.dynamicPart().slice(0,64),16).toNumber();return i.toUtf8(t.dynamicPart().substr(64,e))},formatOutputAddress:function(t){var e=t.staticPart();return"0x"+e.slice(e.length-40,e.length)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var n,i=r(762),o=(n=i)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol;function a(t){return s&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return a(t)?(0,o.default)(t):t},e.isAsync=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var n,i=r(888),o=(n=i)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol;function a(t){return s&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return a(t)?(0,o.default)(t):t},e.isAsync=a},function(t,e){t.exports=function(t,e){"function"==typeof t&&(e=t,t=!1);var r,n,i,o=[];function s(t,e){t&&(r=t,n&&f(r)),n=e,c()}function a(t){i=i||t||!0,c()}function u(t){i||(n?f(r,t):o.push(t))}if(t)return{push:u,end:a,source:s,buffer:o};return s.push=u,s.end=a,s.buffer=o,s;function c(){n&&(r?f(r):!o.length&&i?f(i):o.length&&f(null,o.shift()))}function f(t,r){var i=n;if(t&&e){var o=e;e=null,o(!0===t?null:t)}n=null,i(t,r)}}},function(t,e,r){"use strict";(function(e){var n=r(32),i=r(124),o=r(40),s=r(28),a=r(97),u=r(14),c=r(16);function f(t,e){if(!(this instanceof f))return new f(t,e);if(c.checkArgument(t,"First argument is required, please include public key data."),t instanceof f)return t;e=e||{};var r=this._classifyArgs(t,e);return r.point.validate(),s.defineImmutable(this,{point:r.point,compressed:r.compressed,network:r.network||a.defaultNetwork}),this}f.prototype._classifyArgs=function(t,r){var n={compressed:u.isUndefined(r.compressed)||r.compressed};if(t instanceof i)n.point=t;else if(t.x&&t.y)n=f._transformObject(t);else if("string"==typeof t)n=f._transformDER(new e(t,"hex"));else if(f._isBuffer(t))n=f._transformDER(t);else{if(!f._isPrivateKey(t))throw new TypeError("First argument is an unrecognized data format.");n=f._transformPrivateKey(t)}return n.network||(n.network=u.isUndefined(r.network)?void 0:a.get(r.network)),n},f._isPrivateKey=function(t){return t instanceof r(196)},f._isBuffer=function(t){return t instanceof e||t instanceof Uint8Array},f._transformPrivateKey=function(t){c.checkArgument(f._isPrivateKey(t),"Must be an instance of PrivateKey");var e={};return e.point=i.getG().mul(t.bn),e.compressed=t.compressed,e.network=t.network,e},f._transformDER=function(t,e){c.checkArgument(f._isBuffer(t),"Must be a hex buffer of DER encoded public key");var r,o,s,a,l={};if(e=!!u.isUndefined(e)||e,4!==t[0]&&(e||6!==t[0]&&7!==t[0]))if(3===t[0])s=t.slice(1),r=new n(s),(l=f._transformX(!0,r)).compressed=!0;else{if(2!==t[0])throw new TypeError("Invalid DER format public key");s=t.slice(1),r=new n(s),(l=f._transformX(!1,r)).compressed=!0}else{if(s=t.slice(1,33),a=t.slice(33,65),32!==s.length||32!==a.length||65!==t.length)throw new TypeError("Length of x and y must be 32 bytes");r=new n(s),o=new n(a),l.point=new i(r,o),l.compressed=!1}return l},f._transformX=function(t,e){c.checkArgument("boolean"==typeof t,"Must specify whether y is odd or not (true or false)");var r={};return r.point=i.fromX(t,e),r},f._transformObject=function(t){var e=new n(t.x,"hex"),r=new n(t.y,"hex");return new f(new i(e,r),{compressed:t.compressed})},f.fromPrivateKey=function(t){c.checkArgument(f._isPrivateKey(t),"Must be an instance of PrivateKey");var e=f._transformPrivateKey(t);return new f(e.point,{compressed:e.compressed,network:e.network})},f.fromDER=f.fromBuffer=function(t,e){c.checkArgument(f._isBuffer(t),"Must be a hex buffer of DER encoded public key");var r=f._transformDER(t,e);return new f(r.point,{compressed:r.compressed})},f.fromPoint=function(t,e){return c.checkArgument(t instanceof i,"First argument must be an instance of Point."),new f(t,{compressed:e})},f.fromString=function(t,r){var n=new e(t,r||"hex"),i=f._transformDER(n);return new f(i.point,{compressed:i.compressed})},f.fromX=function(t,e){var r=f._transformX(t,e);return new f(r.point,{compressed:r.compressed})},f.getValidationError=function(t){var e;try{new f(t)}catch(t){e=t}return e},f.isValid=function(t){return!f.getValidationError(t)},f.prototype.toObject=f.prototype.toJSON=function(){return{x:this.point.getX().toString("hex",2),y:this.point.getY().toString("hex",2),compressed:this.compressed}},f.prototype.toBuffer=f.prototype.toDER=function(){var t,r=this.point.getX(),n=this.point.getY(),i=r.toBuffer({size:32}),o=n.toBuffer({size:32});if(this.compressed){var s=o[o.length-1]%2;return t=new e(s?[3]:[2]),e.concat([t,i])}return t=new e([4]),e.concat([t,i,o])},f.prototype._getID=function(){return o.sha256ripemd160(this.toBuffer())},f.prototype.toAddress=function(t){return r(96).fromPublicKey(this,t||this.network)},f.prototype.toString=function(){return this.toDER().toString("hex")},f.prototype.inspect=function(){return"<PublicKey: "+this.toString()+(this.compressed?"":", uncompressed")+">"},t.exports=f}).call(this,r(0).Buffer)},function(t,e,r){"use strict";var n=e;n.version=r(1185).version,n.utils=r(1184),n.rand=r(1183),n.hmacDRBG=r(1182),n.curve=r(197),n.curves=r(1172),n.ec=r(1170)},function(t,e,r){"use strict";(function(e){var n=r(1306),i=r(1302);t.exports=function(t,r){if(r||(r={}),!t)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var o="object"!=typeof t||e.isBuffer(t)?n.parse(t):t,s=function(){var t=this;i(o,r.encodings||{}).forEach(function(e){t[e.name]=function(t){if(!t)return null;var e={};return Object.keys(t).forEach(function(r){e[r]=t[r].value}),e}(e.values)||e})};return s.prototype.toString=function(){return n.stringify(o)},s.prototype.toJSON=function(){return o},new s}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";var n=r(49),i=r(6);function o(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function s(t){return 1===t.length?"0"+t:t}function a(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}else for(n=0;n<t.length;n++)r[n]=0|t[n];return r},e.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=s(t[r].toString(16));return e},e.htonl=o,e.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=o(i)),r+=a(i.toString(16))}return r},e.zero2=s,e.zero8=a,e.join32=function(t,e,r,i){var o=r-e;n(o%4==0);for(var s=new Array(o/4),a=0,u=e;a<s.length;a++,u+=4){var c;c="big"===i?t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],s[a]=c>>>0}return s},e.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];"big"===e?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,r){return t+e+r>>>0},e.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},e.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},e.sum64=function(t,e,r,n){var i=t[e],o=n+t[e+1]>>>0,s=(o<n?1:0)+r+i;t[e]=s>>>0,t[e+1]=o},e.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},e.sum64_lo=function(t,e,r,n){return e+n>>>0},e.sum64_4_hi=function(t,e,r,n,i,o,s,a){var u=0,c=e;return u+=(c=c+n>>>0)<e?1:0,u+=(c=c+o>>>0)<o?1:0,t+r+i+s+(u+=(c=c+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(t,e,r,n,i,o,s,a){return e+n+o+a>>>0},e.sum64_5_hi=function(t,e,r,n,i,o,s,a,u,c){var f=0,l=e;return f+=(l=l+n>>>0)<e?1:0,f+=(l=l+o>>>0)<o?1:0,f+=(l=l+a>>>0)<a?1:0,t+r+i+s+u+(f+=(l=l+c>>>0)<c?1:0)>>>0},e.sum64_5_lo=function(t,e,r,n,i,o,s,a,u,c){return e+n+o+a+c>>>0},e.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},e.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},e.shr64_hi=function(t,e,r){return t>>>r},e.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0}},function(t,e,r){var n=r(657),i=r(54),o=r(1646),s=r(656),a=function(t){return n.isNumber(t)&&(t=Math.trunc(t)),new s(i.toTwosComplement(t).replace("0x",""))};t.exports={formatInputInt:a,formatInputBytes:function(t){if(!i.isHexStrict(t))throw new Error('Given parameter is not bytes: "'+t+'"');var e=t.replace(/^0x/i,"");if(e.length%2!=0)throw new Error('Given parameter bytes has an invalid length: "'+t+'"');if(e.length>64)throw new Error('Given parameter bytes is too long: "'+t+'"');var r=Math.floor((e.length+63)/64);return e=i.padRight(e,64*r),new s(e)},formatInputDynamicBytes:function(t){if(!i.isHexStrict(t))throw new Error('Given parameter is not bytes: "'+t+'"');var e=t.replace(/^0x/i,"");if(e.length%2!=0)throw new Error('Given parameter bytes has an invalid length: "'+t+'"');var r=e.length/2,n=Math.floor((e.length+63)/64);return e=i.padRight(e,64*n),new s(a(r).value+e)},formatInputString:function(t){if(!n.isString(t))throw new Error("Given parameter is not a valid string: "+t);var e=i.utf8ToHex(t).replace(/^0x/i,""),r=e.length/2,o=Math.floor((e.length+63)/64);return e=i.padRight(e,64*o),new s(a(r).value+e)},formatInputBool:function(t){return new s("000000000000000000000000000000000000000000000000000000000000000"+(t?"1":"0"))},formatOutputInt:function(t){var e=t.staticPart();if(!e&&!t.rawValue)throw new Error("Couldn't decode "+name+" from ABI: 0x"+t.rawValue);return function(t){return"1"===new o(t.substr(0,1),16).toString(2).substr(0,1)}(e)?new o(e,16).fromTwos(256).toString(10):new o(e,16).toString(10)},formatOutputUInt:function(t,e){var r=t.staticPart();if(!r&&!t.rawValue)throw new Error("Couldn't decode "+e+" from ABI: 0x"+t.rawValue);return new o(r,16).toString(10)},formatOutputBool:function(t,e){var r=t.staticPart();if(!r&&!t.rawValue)throw new Error("Couldn't decode "+e+" from ABI: 0x"+t.rawValue);return"0000000000000000000000000000000000000000000000000000000000000001"===r},formatOutputBytes:function(t,e){var r=e.match(/^bytes([0-9]*)/),n=parseInt(r[1]);if(t.staticPart().slice(0,2*n).length!==2*n)throw new Error("Couldn't decode "+e+" from ABI: 0x"+t.rawValue+" The size doesn't match.");return"0x"+t.staticPart().slice(0,2*n)},formatOutputDynamicBytes:function(t,e){var r=t.dynamicPart().slice(0,64);if(!r)throw new Error("Couldn't decode "+e+" from ABI: 0x"+t.rawValue);var n=2*new o(r,16).toNumber();return"0x"+t.dynamicPart().substr(64,n)},formatOutputString:function(t){var e=t.dynamicPart().slice(0,64);if(!e)throw new Error("ERROR: The returned value is not a convertible string:"+e);var r=2*new o(e,16).toNumber();return r?i.hexToUtf8("0x"+t.dynamicPart().substr(64,r).replace(/^0x/i,"")):""},formatOutputAddress:function(t,e){var r=t.staticPart();if(!r)throw new Error("Couldn't decode "+e+" from ABI: 0x"+t.rawValue);return i.toChecksumAddress("0x"+r.slice(r.length-40,r.length))},toTwosComplement:i.toTwosComplement}},function(t,e,r){"use strict";e.__esModule=!0;e.addLeadingSlash=function(t){return"/"===t.charAt(0)?t:"/"+t},e.stripLeadingSlash=function(t){return"/"===t.charAt(0)?t.substr(1):t};var n=e.hasBasename=function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)};e.stripBasename=function(t,e){return n(t,e)?t.substr(e.length):t},e.stripTrailingSlash=function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},e.parsePath=function(t){var e=t||"/",r="",n="",i=e.indexOf("#");-1!==i&&(n=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(r=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===r?"":r,hash:"#"===n?"":n}},e.createPath=function(t){var e=t.pathname,r=t.search,n=t.hash,i=e||"/";return r&&"?"!==r&&(i+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(i+="#"===n.charAt(0)?n:"#"+n),i}},function(t,e,r){"use strict";var n=function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(s,a)}u((n=n.apply(t,e||[])).next())})},i=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(220),s=r(353),a=r(135);function u(t,e){return n(this,void 0,void 0,function(){var r,o,s,a,u,c,f,l,h,p,d,m,g,v,y,b,w,_;return i(this,function(k){switch(k.label){case 0:return r="",o="",s=[],a="",(u=document.createElement("div")).style.display="none",u.innerHTML=t,u.children.length>=2&&("H1"===u.children[0].tagName||"H1"===u.children[1].tagName)?"P"===u.children[0].tagName&&u.children[0].children.length&&"IMG"===u.children[0].children[0].tagName?(c=u.children[0].children[0],f=c.src,a=f,r=u.children[1].textContent):r=u.children[0].textContent:1===u.children.length&&"H1"===u.children[0].tagName&&(o=u.children[0].textContent),a?(s.push(a),[3,5]):[3,1];case 1:return r?[3,5]:[3,2];case 2:l=u.getElementsByTagName("img"),h=0,p=0,d=128,m=function(){var t;return i(this,function(e){switch(e.label){case 0:return(t=l[h]).complete?(t.width>=d&&(s.push(t.src),p+=1),h+=1,[3,3]):[3,1];case 1:return[4,new Promise(function(e,r){t.onload=function(){return t.width>=d&&(s.push(t.src),p+=1),h+=1,e()},t.onerror=function(){return h+=1,e()}})];case 2:e.sent(),e.label=3;case 3:return[2]}})},k.label=3;case 3:return p<9&&h<l.length?[5,m()]:[3,5];case 4:return k.sent(),[3,3];case 5:return[4,function(t){return n(this,void 0,void 0,function(){var r,n,o,s,a,u,c;return i(this,function(i){switch(i.label){case 0:r=t.getElementsByClassName("tag"),n=0,i.label=1;case 1:return n<r.length?(o=r[n]).classList.contains("tag-mention")?(s=o.getAttribute("data-mention"),[4,e.getUserInfoFromUsername(s)]):[3,3]:[3,5];case 2:return a=i.sent(),o.innerHTML='<span class="mention">'+a.username+"</span>",o.href=window.location.pathname+"#/"+e.networkId+"/profile/"+s,o.setAttribute("target","_blank"),[3,4];case 3:o.classList.contains("tag-topic")?(u=o.getAttribute("data-topic"),o.innerHTML='<span class="topic">'+u+"</span>",o.href=window.location.pathname+"#/"+e.networkId+"/topic/"+u,o.setAttribute("target","_blank")):(c=o.getAttribute("data-error"),o.innerHTML='<span class="error">'+c+"</span>"),i.label=4;case 4:return n++,[3,1];case 5:return[2]}})})}(u)];case 6:for(k.sent(),g="",v=240,[].slice.call(u.getElementsByTagName("img")),y=0;y<u.children.length&&("P"!==(b=u.children[y]).tagName||b.children.length&&"IMG"===b.children[0].tagName||(w=b.textContent,g+=w,o+=b.innerHTML,!(g.length>=v)));y++);return _={title:r,summary:o,images:s,tags:[],html:u.innerHTML},u.remove(),[2,_]}})})}e.formatFeedCreationTime=function(t){return o.formatDate(s.getTransactionCreationTimestamp(t.transactionInfo))},e.getTopicsAndMentionsFromHTML=function(t,e){return n(this,void 0,void 0,function(){var r,n,o,s,a,u,c,f,l;return i(this,function(i){switch(i.label){case 0:r=document.createElement("div"),n=[],o=[],r.innerHTML=t,s=r.getElementsByClassName("tag"),a=0,i.label=1;case 1:return a<s.length?(u=s[a]).classList.contains("tag-mention")?(c=u.getAttribute("data-mention"),[4,e.getUserInfoFromUsername(c)]):[3,3]:[3,5];case 2:return f=i.sent(),o.push({name:f.username,address:f.address}),[3,4];case 3:u.classList.contains("tag-topic")&&(l=u.getAttribute("data-topic"),n.push(l)),i.label=4;case 4:return a++,[3,1];case 5:return r.remove(),[2,{topics:n,mentions:o}]}})})},e.generateSummaryFromHTML=u,e.generateFakeStateInfo=function(){return{earnings:0,upvotes:0,downvotes:0,reports:0,replies:0}},e.generateFeedInfoFromTransactionInfo=function(t,e){return n(this,void 0,void 0,function(){var r,n,o,s,c,f,l;return i(this,function(i){switch(i.label){case 0:return e?"post"!==(r=e.decodedInputData.name)?[3,4]:[4,t.retrieveMessage(e.decodedInputData.params.message.value)]:[2,null];case 1:return n=i.sent(),[4,u(a.renderMarkdown(n),t)];case 2:return o=i.sent(),[4,t.getUserInfoFromAddress(e.from)];case 3:return s=i.sent(),[3,15];case 4:return"upvote"!==r?[3,10]:(f=e.from,[4,t.getTransactionInfo({transactionHash:e.decodedInputData.params.parentTransactionHash.value})]);case 5:return e=i.sent(),[4,t.getUserInfoFromAddress(f)];case 6:return c=i.sent(),[4,t.getUserInfoFromAddress(e.from)];case 7:return s=i.sent(),[4,t.retrieveMessage(e.decodedInputData.params.message.value)];case 8:return n=i.sent(),[4,u(a.renderMarkdown(n),t)];case 9:return o=i.sent(),[3,15];case 10:return"reply"!==r?[3,14]:[4,t.retrieveMessage(e.decodedInputData.params.message.value)];case 11:return n=i.sent(),[4,u(a.renderMarkdown(n),t)];case 12:return o=i.sent(),[4,t.getUserInfoFromAddress(e.from)];case 13:return s=i.sent(),[3,15];case 14:throw"Invalid feed type: "+r;case 15:return[4,t.getFeedStateInfo(e.hash)];case 16:return l=i.sent(),[2,{summary:o,transactionInfo:e,userInfo:s,stateInfo:l,feedType:r,repostUserInfo:c}]}})})}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var n,i=r(1069),o=(n=i)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol;function a(t){return s&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return a(t)?(0,o.default)(t):t},e.isAsync=a},function(t,e,r){var n=r(11);t.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}},function(t,e,r){var n=r(11);r(13),r(94);var i=t.exports=n.asn1=n.asn1||{};function o(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}i.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},i.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},i.create=function(t,e,r,o,s){if(n.util.isArray(o)){for(var a=[],u=0;u<o.length;++u)void 0!==o[u]&&a.push(o[u]);o=a}var c={tagClass:t,type:e,constructed:r,composed:r||n.util.isArray(o),value:o};return s&&"bitStringContents"in s&&(c.bitStringContents=s.bitStringContents,c.original=i.copy(c)),c},i.copy=function(t,e){var r;if(n.util.isArray(t)){r=[];for(var o=0;o<t.length;++o)r.push(i.copy(t[o],e));return r}return"string"==typeof t?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:i.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)},i.equals=function(t,e,r){if(n.util.isArray(t)){if(!n.util.isArray(e))return!1;if(t.length!==e.length)return!1;for(var o=0;o<t.length;++o)if(!i.equals(t[o],e[o]))return!1;return!0}if(typeof t!=typeof e)return!1;if("string"==typeof t)return t===e;var s=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&i.equals(t.value,e.value);return r&&r.includeBitStringContents&&(s=s&&t.bitStringContents===e.bitStringContents),s},i.getBerValueLength=function(t){var e=t.getByte();if(128!==e)return 128&e?t.getInt((127&e)<<3):e};var s=function(t,e){var r=t.getByte();if(e--,128!==r){var n;if(128&r){var i=127&r;o(t,e,i),n=t.getInt(i<<3)}else n=r;if(n<0)throw new Error("Negative length: "+n);return n}};i.fromDer=function(t,e){return void 0===e&&(e={strict:!0,decodeBitStrings:!0}),"boolean"==typeof e&&(e={strict:e,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),"string"==typeof t&&(t=n.util.createBuffer(t)),function t(e,r,n,a){var u;o(e,r,2);var c=e.getByte();r--;var f=192&c;var l=31&c;u=e.length();var h=s(e,r);r-=u-e.length();if(void 0!==h&&h>r){if(a.strict){var p=new Error("Too few bytes to read ASN.1 value.");throw p.available=e.length(),p.remaining=r,p.requested=h,p}h=r}var d;var m;var g=32==(32&c);if(g)if(d=[],void 0===h)for(;;){if(o(e,r,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),r-=2;break}u=e.length(),d.push(t(e,r,n+1,a)),r-=u-e.length()}else for(;h>0;)u=e.length(),d.push(t(e,h,n+1,a)),r-=u-e.length(),h-=u-e.length();void 0===d&&f===i.Class.UNIVERSAL&&l===i.Type.BITSTRING&&(m=e.bytes(h));if(void 0===d&&a.decodeBitStrings&&f===i.Class.UNIVERSAL&&l===i.Type.BITSTRING&&h>1){var v=e.read,y=r,b=0;if(l===i.Type.BITSTRING&&(o(e,r,1),b=e.getByte(),r--),0===b)try{u=e.length();var w={verbose:a.verbose,strict:!0,decodeBitStrings:!0},_=t(e,r,n+1,w),k=u-e.length();r-=k,l==i.Type.BITSTRING&&k++;var S=_.tagClass;k!==h||S!==i.Class.UNIVERSAL&&S!==i.Class.CONTEXT_SPECIFIC||(d=[_])}catch(t){}void 0===d&&(e.read=v,r=y)}if(void 0===d){if(void 0===h){if(a.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");h=r}if(l===i.Type.BMPSTRING)for(d="";h>0;h-=2)o(e,r,2),d+=String.fromCharCode(e.getInt16()),r-=2;else d=e.getBytes(h)}var x=void 0===m?null:{bitStringContents:m};return i.create(f,l,g,d,x)}(t,t.length(),0,e)},i.toDer=function(t){var e=n.util.createBuffer(),r=t.tagClass|t.type,o=n.util.createBuffer(),s=!1;if("bitStringContents"in t&&(s=!0,t.original&&(s=i.equals(t,t.original))),s)o.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:o.putByte(0);for(var a=0;a<t.value.length;++a)void 0!==t.value[a]&&o.putBuffer(i.toDer(t.value[a]))}else if(t.type===i.Type.BMPSTRING)for(a=0;a<t.value.length;++a)o.putInt16(t.value.charCodeAt(a));else t.type===i.Type.INTEGER&&t.value.length>1&&(0===t.value.charCodeAt(0)&&0==(128&t.value.charCodeAt(1))||255===t.value.charCodeAt(0)&&128==(128&t.value.charCodeAt(1)))?o.putBytes(t.value.substr(1)):o.putBytes(t.value);if(e.putByte(r),o.length()<=127)e.putByte(127&o.length());else{var u=o.length(),c="";do{c+=String.fromCharCode(255&u),u>>>=8}while(u>0);e.putByte(128|c.length);for(a=c.length-1;a>=0;--a)e.putByte(c.charCodeAt(a))}return e.putBuffer(o),e},i.oidToDer=function(t){var e,r,i,o,s=t.split("."),a=n.util.createBuffer();a.putByte(40*parseInt(s[0],10)+parseInt(s[1],10));for(var u=2;u<s.length;++u){e=!0,r=[],i=parseInt(s[u],10);do{o=127&i,i>>>=7,e||(o|=128),r.push(o),e=!1}while(i>0);for(var c=r.length-1;c>=0;--c)a.putByte(r[c])}return a},i.derToOid=function(t){var e;"string"==typeof t&&(t=n.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var i=0;t.length()>0;)i<<=7,128&(r=t.getByte())?i+=127&r:(e+="."+(i+r),i=0);return e},i.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),o=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),a=0;if(t.length>11){var u=t.charAt(10),c=10;"+"!==u&&"-"!==u&&(a=parseInt(t.substr(10,2),10),c+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(o,s,a,0),c&&("+"===(u=t.charAt(c))||"-"===u)){var f=60*parseInt(t.substr(c+1,2),10)+parseInt(t.substr(c+4,2),10);f*=6e4,"+"===u?e.setTime(+e-f):e.setTime(+e+f)}return e},i.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),o=parseInt(t.substr(8,2),10),s=parseInt(t.substr(10,2),10),a=parseInt(t.substr(12,2),10),u=0,c=0,f=!1;"Z"===t.charAt(t.length-1)&&(f=!0);var l=t.length-5,h=t.charAt(l);"+"!==h&&"-"!==h||(c=60*parseInt(t.substr(l+1,2),10)+parseInt(t.substr(l+4,2),10),c*=6e4,"+"===h&&(c*=-1),f=!0);return"."===t.charAt(14)&&(u=1e3*parseFloat(t.substr(14),10)),f?(e.setUTCFullYear(r,n,i),e.setUTCHours(o,s,a,u),e.setTime(+e+c)):(e.setFullYear(r,n,i),e.setHours(o,s,a,u)),e},i.dateToUtcTime=function(t){if("string"==typeof t)return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z"},i.dateToGeneralizedTime=function(t){if("string"==typeof t)return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z"},i.integerToDer=function(t){var e=n.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r},i.derToInteger=function(t){"string"==typeof t&&(t=n.util.createBuffer(t));var e=8*t.length();if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)},i.validate=function(t,e,r,o){var s=!1;if(t.tagClass!==e.tagClass&&void 0!==e.tagClass||t.type!==e.type&&void 0!==e.type)o&&(t.tagClass!==e.tagClass&&o.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&o.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));else if(t.constructed===e.constructed||void 0===e.constructed){if(s=!0,e.value&&n.util.isArray(e.value))for(var a=0,u=0;s&&u<e.value.length;++u)s=e.value[u].optional||!1,t.value[a]&&((s=i.validate(t.value[a],e.value[u],r,o))?++a:e.value[u].optional&&(s=!0)),!s&&o&&o.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(s&&r)if(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{if(0!==t.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}else o&&o.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');return s};var a=/[^\\u0000-\\u00ff]/;i.prettyPrint=function(t,e,r){var o="";e=e||0,r=r||2,e>0&&(o+="\n");for(var s="",u=0;u<e*r;++u)s+=" ";switch(o+=s+"Tag: ",t.tagClass){case i.Class.UNIVERSAL:o+="Universal:";break;case i.Class.APPLICATION:o+="Application:";break;case i.Class.CONTEXT_SPECIFIC:o+="Context-Specific:";break;case i.Class.PRIVATE:o+="Private:"}if(t.tagClass===i.Class.UNIVERSAL)switch(o+=t.type,t.type){case i.Type.NONE:o+=" (None)";break;case i.Type.BOOLEAN:o+=" (Boolean)";break;case i.Type.INTEGER:o+=" (Integer)";break;case i.Type.BITSTRING:o+=" (Bit string)";break;case i.Type.OCTETSTRING:o+=" (Octet string)";break;case i.Type.NULL:o+=" (Null)";break;case i.Type.OID:o+=" (Object Identifier)";break;case i.Type.ODESC:o+=" (Object Descriptor)";break;case i.Type.EXTERNAL:o+=" (External or Instance of)";break;case i.Type.REAL:o+=" (Real)";break;case i.Type.ENUMERATED:o+=" (Enumerated)";break;case i.Type.EMBEDDED:o+=" (Embedded PDV)";break;case i.Type.UTF8:o+=" (UTF8)";break;case i.Type.ROID:o+=" (Relative Object Identifier)";break;case i.Type.SEQUENCE:o+=" (Sequence)";break;case i.Type.SET:o+=" (Set)";break;case i.Type.PRINTABLESTRING:o+=" (Printable String)";break;case i.Type.IA5String:o+=" (IA5String (ASCII))";break;case i.Type.UTCTIME:o+=" (UTC time)";break;case i.Type.GENERALIZEDTIME:o+=" (Generalized time)";break;case i.Type.BMPSTRING:o+=" (BMP String)"}else o+=t.type;if(o+="\n",o+=s+"Constructed: "+t.constructed+"\n",t.composed){var c=0,f="";for(u=0;u<t.value.length;++u)void 0!==t.value[u]&&(c+=1,f+=i.prettyPrint(t.value[u],e+1,r),u+1<t.value.length&&(f+=","));o+=s+"Sub values: "+c+f}else{if(o+=s+"Value: ",t.type===i.Type.OID){var l=i.derToOid(t.value);o+=l,n.pki&&n.pki.oids&&l in n.pki.oids&&(o+=" ("+n.pki.oids[l]+") ")}if(t.type===i.Type.INTEGER)try{o+=i.derToInteger(t.value)}catch(e){o+="0x"+n.util.bytesToHex(t.value)}else if(t.type===i.Type.BITSTRING){if(t.value.length>1?o+="0x"+n.util.bytesToHex(t.value.slice(1)):o+="(none)",t.value.length>0){var h=t.value.charCodeAt(0);1==h?o+=" (1 unused bit shown)":h>1&&(o+=" ("+h+" unused bits shown)")}}else t.type===i.Type.OCTETSTRING?(a.test(t.value)||(o+="("+t.value+") "),o+="0x"+n.util.bytesToHex(t.value)):t.type===i.Type.UTF8?o+=n.util.decodeUtf8(t.value):t.type===i.Type.PRINTABLESTRING||t.type===i.Type.IA5String?o+=t.value:a.test(t.value)?o+="0x"+n.util.bytesToHex(t.value):0===t.value.length?o+="[null]":o+=t.value}return o}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(null!==t&&"object"==typeof t&&Array.isArray(t.words))return t;this.sign=!1,this.words=null,this.length=0,this.red=null,"le"!==e&&"be"!==e||(r=e,e=10),null!==t&&this._init(t||0,e||10,r||"be")}function o(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var s=t.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function s(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26,i.prototype._init=function(t,e,n){if("number"==typeof t)return t<0&&(this.sign=!0,t=-t),void(t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3));if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.sign=!0),this.strip()},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o=0;if("be"===n){i=t.length-1;for(var s=0;i>=0;i-=3){var a=t[i]|t[i-1]<<8|t[i-2]<<16;this.words[s]|=a<<o&67108863,this.words[s+1]=a>>>26-o&67108863,(o+=24)>=26&&(o-=26,s++)}}else if("le"===n)for(i=0,s=0;i<t.length;i+=3){a=t[i]|t[i+1]<<8|t[i+2]<<16;this.words[s]|=a<<o&67108863,this.words[s+1]=a>>>26-o&67108863,(o+=24)>=26&&(o-=26,s++)}return this.strip()},i.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;for(var n=0,i=(r=t.length-6,0);r>=e;r-=6){var s=o(t,r,r+6);this.words[i]|=s<<n&67108863,this.words[i+1]|=s>>>26-n&4194303,(n+=24)>=26&&(n-=26,i++)}if(r+6!==e){s=o(t,e,r+6);this.words[i]|=s<<n&67108863,this.words[i+1]|=s>>>26-n&4194303}this.strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,u=Math.min(o,o-a)+r,c=0,f=r;f<u;f+=n)c=s(t,f,f+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var l=1;for(c=s(t,f,t.length,e),f=0;f<a;f++)l*=e;this.imuln(l),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.sign=this.sign,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.sign=!1),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var a=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],c=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(t,e){if(16===(t=t||10)||"hex"===t){for(var n="",i=0,o=(e=0|e||1,0),s=0;s<this.length;s++){var f=this.words[s],l=(16777215&(f<<i|o)).toString(16);n=0!==(o=f>>>24-i&16777215)||s!==this.length-1?a[6-l.length]+l+n:l+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return this.sign&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var h=u[t],p=c[t],d=(n="",this.clone());for(d.sign=!1;0!==d.cmpn(0);){var m=d.modn(p).toString(t);n=0!==(d=d.idivn(p)).cmpn(0)?a[h-m.length]+m+n:m+n}return 0===this.cmpn(0)&&(n="0"+n),this.sign&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toArray=function(){this.strip();var t=new Array(this.byteLength());t[0]=0;for(var e=this.clone(),r=0;0!==e.cmpn(0);r++){var n=e.andln(255);e.ishrn(8),t[t.length-r-1]=n}return t},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(0===this.cmpn(0))return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.neg=function(){if(0===this.cmpn(0))return this.clone();var t=this.clone();return t.sign=!this.sign,t},i.prototype.ior=function(t){for(this.sign=this.sign||t.sign;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.iand=function(t){var e;this.sign=this.sign&&t.sign,e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.ixor=function(t){var e,r;this.sign=this.sign||t.sign,this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);for(var n=t/26|0,i=t%26;this.length<=n;)this.words[this.length++]=0;return this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(t){if(this.sign&&!t.sign){this.sign=!1;var e=this.isub(t);return this.sign=!this.sign,this._normSign()}if(!this.sign&&t.sign){t.sign=!1;e=this.isub(t);return t.sign=!0,e._normSign()}var r,n;this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++){e=r.words[o]+n.words[o]+i;this.words[o]=67108863&e,i=e>>>26}for(;0!==i&&o<r.length;o++){e=r.words[o]+i;this.words[o]=67108863&e,i=e>>>26}if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(t){if(t.sign&&!this.sign){t.sign=!1;var e=this.sub(t);return t.sign=!0,e}if(!t.sign&&this.sign){this.sign=!1;e=t.sub(this);return this.sign=!0,e}return this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(t.sign){t.sign=!1;var e=this.iadd(t);return t.sign=!0,e._normSign()}if(this.sign)return this.sign=!1,this.iadd(t),this.sign=!0,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.sign=!1,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++){o=(e=r.words[s]-n.words[s]+o)>>26,this.words[s]=67108863&e}for(;0!==o&&s<r.length;s++){o=(e=r.words[s]+o)>>26,this.words[s]=67108863&e}if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.sign=!0),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)},i.prototype._smallMulTo=function(t,e){e.sign=t.sign!==this.sign,e.length=this.length+t.length;for(var r=0,n=0;n<e.length-1;n++){for(var i=r>>>26,o=67108863&r,s=Math.min(n,t.length-1),a=Math.max(0,n-this.length+1);a<=s;a++){var u=n-a,c=(0|this.words[u])*(0|t.words[a]),f=67108863&c;o=67108863&(f=f+o|0),i=(i=i+(c/67108864|0)|0)+(f>>>26)|0}e.words[n]=o,r=i}return 0!==r?e.words[n]=r:e.length--,e.strip()},i.prototype._bigMulTo=function(t,e){e.sign=t.sign!==this.sign,e.length=this.length+t.length;for(var r=0,n=0,i=0;i<e.length-1;i++){var o=n;n=0;for(var s=67108863&r,a=Math.min(i,t.length-1),u=Math.max(0,i-this.length+1);u<=a;u++){var c=i-u,f=(0|this.words[c])*(0|t.words[u]),l=67108863&f;s=67108863&(l=l+s|0),n+=(o=(o=o+(f/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}e.words[i]=s,r=o,o=n}return 0!==r?e.words[i]=r:e.length--,e.strip()},i.prototype.mulTo=function(t,e){return this.length+t.length<63?this._smallMulTo(t,e):this._bigMulTo(t,e)},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.imul=function(t){if(0===this.cmpn(0)||0===t.cmpn(0))return this.words[0]=0,this.length=1,this;var e=this.length,r=t.length;this.sign=t.sign!==this.sign,this.length=this.length+t.length,this.words[this.length-1]=0;for(var n=this.length-2;n>=0;n--){for(var i=0,o=0,s=Math.min(n,r-1),a=Math.max(0,n-e+1);a<=s;a++){var u=n-a,c=this.words[u]*t.words[a],f=67108863&c;i+=c/67108864|0,o=67108863&(f+=o),i+=f>>>26}this.words[n]=o,this.words[n+1]+=i,i=0}for(i=0,u=1;u<this.length;u++){var l=this.words[u]+i;this.words[u]=67108863&l,i=l>>>26}return this.strip()},i.prototype.imuln=function(t){r("number"==typeof t);for(var e=0,n=0;n<this.length;n++){var i=this.words[n]*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.mul(this)},i.prototype.ishln=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=67108863>>>26-e<<26-e;if(0!==e){for(var o=0,s=0;s<this.length;s++){var a=this.words[s]&i,u=this.words[s]-a<<e;this.words[s]=u|o,o=a>>>26-e}o&&(this.words[s]=o,this.length++)}if(0!==n){for(s=this.length-1;s>=0;s--)this.words[s+n]=this.words[s];for(s=0;s<n;s++)this.words[s]=0;this.length+=n}return this.strip()},i.prototype.ishrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=n;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s){this.length-=s;for(c=0;c<this.length;c++)this.words[c]=this.words[c+s]}else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=this.words[c];this.words[c]=f<<26-o|l>>>o,f=l&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip(),this},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(!this.sign,"imaskn works only with positive numbers"),0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),t<0?this.isubn(-t):this.sign?1===this.length&&this.words[0]<t?(this.words[0]=t-this.words[0],this.sign=!1,this):(this.sign=!1,this.isubn(t),this.sign=!0,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),t<0)return this.iaddn(-t);if(this.sign)return this.sign=!1,this.iaddn(t),this.sign=!0,this;this.words[0]-=t;for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.sign=!1,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i=t.length+n;if(this.words.length<i){for(var o=new Array(i),s=0;s<this.length;s++)o[s]=this.words[s];this.words=o}else s=this.length;for(this.length=Math.max(this.length,i);s<this.length;s++)this.words[s]=0;var a=0;for(s=0;s<t.length;s++){var u=this.words[s+n]+a,c=t.words[s]*e;a=((u-=67108863&c)>>26)-(c/67108864|0),this.words[s+n]=67108863&u}for(;s<this.length-n;s++){a=(u=this.words[s+n]+a)>>26,this.words[s+n]=67108863&u}if(0===a)return this.strip();r(-1===a),a=0;for(s=0;s<this.length;s++){a=(u=-this.words[s]+a)>>26,this.words[s]=67108863&u}return this.sign=!0,this.strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),o=t,s=o.words[o.length-1];0!==(r=26-this._countBits(s))&&(o=o.shln(r),n.ishln(r),s=o.words[o.length-1]);var a,u=n.length-o.length;if("mod"!==e){(a=new i(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(o,1,u);f.sign||(n=f,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var h=67108864*n.words[o.length+l]+n.words[o.length+l-1];for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(o,h,l);n.sign;)h--,n.sign=!1,n._ishlnsubmul(o,1,l),0!==n.cmpn(0)&&(n.sign=!n.sign);a&&(a.words[l]=h)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.ishrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(t,e){if(r(0!==t.cmpn(0)),this.sign&&!t.sign){var n,o=this.neg().divmod(t,e);return"mod"!==e&&(s=o.div.neg()),"div"!==e&&(n=0===o.mod.cmpn(0)?o.mod:t.sub(o.mod)),{div:s,mod:n}}if(!this.sign&&t.sign){var s;o=this.divmod(t.neg(),e);return"mod"!==e&&(s=o.div.neg()),{div:s,mod:o.mod}}return this.sign&&t.sign?this.neg().divmod(t.neg(),e):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,e)},i.prototype.div=function(t){return this.divmod(t,"div").div},i.prototype.mod=function(t){return this.divmod(t,"mod").mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(0===e.mod.cmpn(0))return e.div;var r=e.div.sign?e.mod.isub(t):e.mod,n=t.shrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:e.div.sign?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+this.words[i])%t;return n},i.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=this.words[n]+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(!t.sign),r(0!==t.cmpn(0));var e=this,n=t.clone();e=e.sign?e.mod(t):e.clone();for(var o=new i(1),s=new i(0),a=new i(0),u=new i(1),c=0;e.isEven()&&n.isEven();)e.ishrn(1),n.ishrn(1),++c;for(var f=n.clone(),l=e.clone();0!==e.cmpn(0);){for(;e.isEven();)e.ishrn(1),o.isEven()&&s.isEven()?(o.ishrn(1),s.ishrn(1)):(o.iadd(f).ishrn(1),s.isub(l).ishrn(1));for(;n.isEven();)n.ishrn(1),a.isEven()&&u.isEven()?(a.ishrn(1),u.ishrn(1)):(a.iadd(f).ishrn(1),u.isub(l).ishrn(1));e.cmp(n)>=0?(e.isub(n),o.isub(a),s.isub(u)):(n.isub(e),a.isub(o),u.isub(s))}return{a:a,b:u,gcd:n.ishln(c)}},i.prototype._invmp=function(t){r(!t.sign),r(0!==t.cmpn(0));var e=this,n=t.clone();e=e.sign?e.mod(t):e.clone();for(var o=new i(1),s=new i(0),a=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(;e.isEven();)e.ishrn(1),o.isEven()?o.ishrn(1):o.iadd(a).ishrn(1);for(;n.isEven();)n.ishrn(1),s.isEven()?s.ishrn(1):s.iadd(a).ishrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(s)):(n.isub(e),s.isub(o))}return 0===e.cmpn(1)?o:s},i.prototype.gcd=function(t){if(0===this.cmpn(0))return t.clone();if(0===t.cmpn(0))return this.clone();var e=this.clone(),r=t.clone();e.sign=!1,r.sign=!1;for(var n=0;e.isEven()&&r.isEven();n++)e.ishrn(1),r.ishrn(1);for(;;){for(;e.isEven();)e.ishrn(1);for(;r.isEven();)r.ishrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.ishln(n)},i.prototype.invm=function(t){return this.egcd(t).a.mod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n){for(var o=this.length;o<n+1;o++)this.words[o]=0;return this.words[n]|=i,this.length=n+1,this}var s=i;for(o=n;0!==s&&o<this.length;o++){var a=this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},i.prototype.cmpn=function(t){var e,r=t<0;if(r&&(t=-t),this.sign&&!r)return-1;if(!this.sign&&r)return 1;if(t&=67108863,this.strip(),this.length>1)e=1;else{var n=this.words[0];e=n===t?0:n<t?-1:1}return this.sign&&(e=-e),e},i.prototype.cmp=function(t){if(this.sign&&!t.sign)return-1;if(!this.sign&&t.sign)return 1;var e=this.ucmp(t);return this.sign?-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=this.words[r],i=t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.red=function(t){return new g(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(!this.sign,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var f={k256:null,p224:null,p192:null,p25519:null};function l(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).ishln(this.n).isub(this.p),this.tmp=this._tmp()}function h(){l.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function p(){l.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function d(){l.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function m(){l.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function g(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else this.m=t,this.prime=null}function v(t){g.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).ishln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv.sign=!0,this.minv=this.minv.mod(this.r)}l.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},l.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},l.prototype.split=function(t,e){t.ishrn(this.n,0,e)},l.prototype.imulK=function(t){return t.imul(this.k)},n(h,l),h.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];e.words[e.length++]=4194303&i;for(n=10;n<t.length;n++){var o=t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}t.words[n-10]=i>>>22,t.length-=9},h.prototype.imulK=function(t){var e;t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,n=0;n<t.length;n++){var i=t.words[n];e=64*i,e+=(r+=977*i)/67108864|0,r&=67108863,t.words[n]=r,r=e}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(p,l),n(d,l),n(m,l),m.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*t.words[r]+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(f[t])return f[t];var e;if("k256"===t)e=new h;else if("p224"===t)e=new p;else if("p192"===t)e=new d;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new m}return f[t]=e,e},g.prototype._verify1=function(t){r(!t.sign,"red works only with positives"),r(t.red,"red works only with red numbers")},g.prototype._verify2=function(t,e){r(!t.sign&&!e.sign,"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},g.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.mod(this.m)._forceRed(this)},g.prototype.neg=function(t){var e=t.clone();return e.sign=!e.sign,e.iadd(this.m)._forceRed(this)},g.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},g.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},g.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},g.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},g.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.shln(e))},g.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},g.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},g.prototype.isqr=function(t){return this.imul(t,t)},g.prototype.sqr=function(t){return this.mul(t,t)},g.prototype.sqrt=function(t){if(0===t.cmpn(0))return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).ishrn(2);return h=this.pow(t,n)}for(var o=this.m.subn(1),s=0;0!==o.cmpn(0)&&0===o.andln(1);)s++,o.ishrn(1);r(0!==o.cmpn(0));var a=new i(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).ishrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,o),h=this.pow(t,o.addn(1).ishrn(1)),p=this.pow(t,o),d=s;0!==p.cmp(a);){for(var m=p,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<d);var v=this.pow(l,new i(1).ishln(d-g-1));h=h.redMul(v),l=v.redSqr(),p=p.redMul(l),d=g}return h},g.prototype.invm=function(t){var e=t._invmp(this.m);return e.sign?(e.sign=!1,this.imod(e).redNeg()):this.imod(e)},g.prototype.pow=function(t,e){var r=[];if(0===e.cmpn(0))return new i(1);for(var n=e.clone();0!==n.cmpn(0);)r.push(n.andln(1)),n.ishrn(1);for(var o=t,s=0;s<r.length&&0===r[s];s++,o=this.sqr(o));if(++s<r.length)for(n=this.sqr(o);s<r.length;s++,n=this.sqr(n))0!==r[s]&&(o=this.mul(o,n));return o},g.prototype.convertTo=function(t){return t.clone()},g.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new v(t)},n(v,g),v.prototype.convertTo=function(t){return this.imod(t.shln(this.shift))},v.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},v.prototype.imul=function(t,e){if(0===t.cmpn(0)||0===e.cmpn(0))return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).ishrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},v.prototype.mul=function(t,e){if(0===t.cmpn(0)||0===e.cmpn(0))return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).ishrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},v.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)}).call(this,r(24)(t))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var n,i=r(1423),o=(n=i)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol;function a(t){return s&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return a(t)?(0,o.default)(t):t},e.isAsync=a},function(t,e,r){var n=r(37),i=r(224),o=r(223),s=function(t){if(void 0!==t)return function(t){return"latest"===t||"pending"===t||"earliest"===t}(t)?t:n.toHex(t)},a=function(t){return null!==t.blockNumber&&(t.blockNumber=n.toDecimal(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=n.toDecimal(t.transactionIndex)),t.nonce=n.toDecimal(t.nonce),t.gas=n.toDecimal(t.gas),t.gasPrice=n.toBigNumber(t.gasPrice),t.value=n.toBigNumber(t.value),t},u=function(t){return null!==t.blockNumber&&(t.blockNumber=n.toDecimal(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=n.toDecimal(t.transactionIndex)),null!==t.logIndex&&(t.logIndex=n.toDecimal(t.logIndex)),t},c=function(t){var e=new o(t);if(e.isValid()&&e.isDirect())return"0x"+e.address();if(n.isStrictAddress(t))return t;if(n.isAddress(t))return"0x"+t;throw new Error("invalid address")};t.exports={inputDefaultBlockNumberFormatter:function(t){return void 0===t?i.defaultBlock:s(t)},inputBlockNumberFormatter:s,inputCallFormatter:function(t){return t.from=t.from||i.defaultAccount,t.from&&(t.from=c(t.from)),t.to&&(t.to=c(t.to)),["gasPrice","gas","value","nonce"].filter(function(e){return void 0!==t[e]}).forEach(function(e){t[e]=n.fromDecimal(t[e])}),t},inputTransactionFormatter:function(t){return t.from=t.from||i.defaultAccount,t.from=c(t.from),t.to&&(t.to=c(t.to)),["gasPrice","gas","value","nonce"].filter(function(e){return void 0!==t[e]}).forEach(function(e){t[e]=n.fromDecimal(t[e])}),t},inputAddressFormatter:c,inputPostFormatter:function(t){return t.ttl=n.fromDecimal(t.ttl),t.workToProve=n.fromDecimal(t.workToProve),t.priority=n.fromDecimal(t.priority),n.isArray(t.topics)||(t.topics=t.topics?[t.topics]:[]),t.topics=t.topics.map(function(t){return 0===t.indexOf("0x")?t:n.fromUtf8(t)}),t},outputBigNumberFormatter:function(t){return n.toBigNumber(t)},outputTransactionFormatter:a,outputTransactionReceiptFormatter:function(t){return null!==t.blockNumber&&(t.blockNumber=n.toDecimal(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=n.toDecimal(t.transactionIndex)),t.cumulativeGasUsed=n.toDecimal(t.cumulativeGasUsed),t.gasUsed=n.toDecimal(t.gasUsed),n.isArray(t.logs)&&(t.logs=t.logs.map(function(t){return u(t)})),t},outputBlockFormatter:function(t){return t.gasLimit=n.toDecimal(t.gasLimit),t.gasUsed=n.toDecimal(t.gasUsed),t.size=n.toDecimal(t.size),t.timestamp=n.toDecimal(t.timestamp),null!==t.number&&(t.number=n.toDecimal(t.number)),t.difficulty=n.toBigNumber(t.difficulty),t.totalDifficulty=n.toBigNumber(t.totalDifficulty),n.isArray(t.transactions)&&t.transactions.forEach(function(t){if(!n.isString(t))return a(t)}),t},outputLogFormatter:u,outputPostFormatter:function(t){return t.expiry=n.toDecimal(t.expiry),t.sent=n.toDecimal(t.sent),t.ttl=n.toDecimal(t.ttl),t.workProved=n.toDecimal(t.workProved),t.topics||(t.topics=[]),t.topics=t.topics.map(function(t){return n.toAscii(t)}),t},outputSyncingFormatter:function(t){return t.startingBlock=n.toDecimal(t.startingBlock),t.currentBlock=n.toDecimal(t.currentBlock),t.highestBlock=n.toDecimal(t.highestBlock),t.knownStates&&(t.knownStates=n.toDecimal(t.knownStates),t.pulledStates=n.toDecimal(t.pulledStates)),t}}},function(t,e,r){var n=r(60),i=r(612),o=function(t){this._inputFormatter=t.inputFormatter,this._outputFormatter=t.outputFormatter};o.prototype.isType=function(t){throw"this method should be overrwritten for type "+t},o.prototype.staticPartLength=function(t){return(this.nestedTypes(t)||["[1]"]).map(function(t){return parseInt(t.slice(1,-1),10)||1}).reduce(function(t,e){return t*e},32)},o.prototype.isDynamicArray=function(t){var e=this.nestedTypes(t);return!!e&&!e[e.length-1].match(/[0-9]{1,}/g)},o.prototype.isStaticArray=function(t){var e=this.nestedTypes(t);return!!e&&!!e[e.length-1].match(/[0-9]{1,}/g)},o.prototype.staticArrayLength=function(t){var e=this.nestedTypes(t);return e?parseInt(e[e.length-1].match(/[0-9]{1,}/g)||1):1},o.prototype.nestedName=function(t){var e=this.nestedTypes(t);return e?t.substr(0,t.length-e[e.length-1].length):t},o.prototype.isDynamicType=function(){return!1},o.prototype.nestedTypes=function(t){return t.match(/(\[[0-9]*\])/g)},o.prototype.encode=function(t,e){var r,i,o,s=this;return this.isDynamicArray(e)?(r=t.length,i=s.nestedName(e),(o=[]).push(n.formatInputInt(r).encode()),t.forEach(function(t){o.push(s.encode(t,i))}),o):this.isStaticArray(e)?function(){for(var r=s.staticArrayLength(e),n=s.nestedName(e),i=[],o=0;o<r;o++)i.push(s.encode(t[o],n));return i}():this._inputFormatter(t,e).encode()},o.prototype.decode=function(t,e,r){var n=this;if(this.isDynamicArray(r))return function(){for(var i=parseInt("0x"+t.substr(2*e,64)),o=parseInt("0x"+t.substr(2*i,64)),s=i+32,a=n.nestedName(r),u=n.staticPartLength(a),c=32*Math.floor((u+31)/32),f=[],l=0;l<o*c;l+=c)f.push(n.decode(t,s+l,a));return f}();if(this.isStaticArray(r))return function(){for(var i=n.staticArrayLength(r),o=e,s=n.nestedName(r),a=n.staticPartLength(s),u=32*Math.floor((a+31)/32),c=[],f=0;f<i*u;f+=u)c.push(n.decode(t,o+f,s));return c}();if(this.isDynamicType(r))return function(){var o=parseInt("0x"+t.substr(2*e,64)),s=parseInt("0x"+t.substr(2*o,64)),a=Math.floor((s+31)/32),u=new i(t.substr(2*o,64*(1+a)),0);return n._outputFormatter(u,r)}();var o=this.staticPartLength(r),s=new i(t.substr(2*e,2*o));return this._outputFormatter(s,r)},t.exports=o},function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)r.call(n,i)&&(t[i]=n[i])}return t};var r=Object.prototype.hasOwnProperty},function(t,e,r){"use strict";const n=r(25),i=C("dns4"),o=C("dns6"),s=E(C("dnsaddr"),i,o),a=E(C("ip4"),C("ip6")),u=x(a,C("tcp")),c=x(a,C("udp")),f=x(c,C("utp")),l=E(x(s,C("tcp")),s),h=E(x(u,C("ws")),x(l,C("ws"))),p=E(x(u,C("wss")),x(l,C("wss"))),d=E(x(u,C("http")),x(l),x(l,C("http"))),m=E(x(h,C("p2p-webrtc-star"),C("ipfs")),x(p,C("p2p-webrtc-star"),C("ipfs"))),g=E(x(h,C("p2p-websocket-star"),C("ipfs")),x(p,C("p2p-websocket-star"),C("ipfs")),x(h,C("p2p-websocket-star")),x(p,C("p2p-websocket-star"))),v=x(d,C("p2p-webrtc-direct")),y=E(h,p,d,m,v,u,f);let b=E(x(y,C("ipfs")),m,C("ipfs"));const w=E(x(b,C("p2p-circuit"),b),x(b,C("p2p-circuit")),x(C("p2p-circuit"),b),x(y,C("p2p-circuit")),x(C("p2p-circuit"),y),C("p2p-circuit")),_=()=>E(x(w,_),w),k=_(),S=E(x(k,b,k),x(b,k),x(k,b),k,b);function x(){const t=Array.from(arguments);function e(e){return e.length<t.length?null:(t.some(t=>{if(null===(e="function"==typeof t?t().partialMatch(e):t.partialMatch(e)))return!0}),e)}return{input:t,matches:function(t){"string"==typeof t&&(t=n(t));let r=e(t.protoNames());return null!==r&&0===r.length},partialMatch:e}}function E(){const t=Array.from(arguments);function e(e){let r=null;return t.some(t=>{const n="function"==typeof t?t().partialMatch(e):t.partialMatch(e);if(n)return r=n,!0}),r}return{toString:function(){return"{ "+t.join(" ")+" }"},input:t,matches:function(t){"string"==typeof t&&(t=n(t));const r=e(t.protoNames());return null!==r&&0===r.length},partialMatch:e}}function C(t){const e=t;return{toString:function(){return e},matches:function(t){"string"==typeof t&&(t=n(t));const r=t.protoNames();return 1===r.length&&r[0]===e},partialMatch:function(t){return 0===t.length?null:t[0]===e?t.slice(1):null}}}e.DNS=l,e.DNS4=i,e.DNS6=o,e.IP=a,e.TCP=u,e.UDP=c,e.UTP=f,e.HTTP=d,e.WebSockets=h,e.WebSocketsSecure=p,e.WebSocketStar=g,e.WebRTCStar=m,e.WebRTCDirect=v,e.Reliable=y,e.Circuit=k,e.IPFS=S},function(t,e,r){"use strict";const n=r(512),i=r(1153),o=r(1151);(e=t.exports).aes=i,e.hmac=n,e.keys=o,e.randomBytes=r(485),e.pbkdf2=r(1108)},function(t,e,r){"use strict";var n=r(14),i=r(32),o=r(0),s=r(21),a=r(28),u=r(52),c=r(57),f=r(16),l=r(59);function h(t){if(!(this instanceof h))return new h(t);if(!n.isObject(t))throw new TypeError("Unrecognized argument for Output");var e;this.satoshis=t.satoshis,s.isBuffer(t.script)?this._scriptBuffer=t.script:(e=n.isString(t.script)&&a.isHexa(t.script)?new o.Buffer(t.script,"hex"):t.script,this.setScript(e))}Object.defineProperty(h.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this._script?this._script:(this.setScriptFromBuffer(this._scriptBuffer),this._script)}}),Object.defineProperty(h.prototype,"satoshis",{configurable:!1,enumerable:!0,get:function(){return this._satoshis},set:function(t){t instanceof i?(this._satoshisBN=t,this._satoshis=t.toNumber()):n.isString(t)?(this._satoshis=parseInt(t),this._satoshisBN=i.fromNumber(this._satoshis)):(f.checkArgument(a.isNaturalNumber(t),"Output satoshis is not a natural number"),this._satoshisBN=i.fromNumber(t),this._satoshis=t),f.checkState(a.isNaturalNumber(this._satoshis),"Output satoshis is not a natural number")}}),h.prototype.invalidSatoshis=function(){return this._satoshis>9007199254740991?"transaction txout satoshis greater than max safe integer":this._satoshis!==this._satoshisBN.toNumber()?"transaction txout satoshis has corrupted value":this._satoshis<0&&"transaction txout negative"},h.prototype.toObject=h.prototype.toJSON=function(){var t={satoshis:this.satoshis};return t.script=this._scriptBuffer.toString("hex"),t},h.fromObject=function(t){return new h(t)},h.prototype.setScriptFromBuffer=function(t){this._scriptBuffer=t;try{this._script=c.fromBuffer(this._scriptBuffer),this._script._isOutput=!0}catch(t){if(!(t instanceof l.Script.InvalidBuffer))throw t;this._script=null}},h.prototype.setScript=function(t){if(t instanceof c)this._scriptBuffer=t.toBuffer(),this._script=t,this._script._isOutput=!0;else if(n.isString(t))this._script=c.fromString(t),this._scriptBuffer=this._script.toBuffer(),this._script._isOutput=!0;else{if(!s.isBuffer(t))throw new TypeError("Invalid argument type: script");this.setScriptFromBuffer(t)}return this},h.prototype.inspect=function(){var t;return t=this.script?this.script.inspect():this._scriptBuffer.toString("hex"),"<Output ("+this.satoshis+" sats) "+t+">"},h.fromBufferReader=function(t){var e={};e.satoshis=t.readUInt64LEBN();var r=t.readVarintNum();return e.script=0!==r?t.read(r):new o.Buffer([]),new h(e)},h.prototype.toBufferWriter=function(t){t||(t=new u),t.writeUInt64LEBN(this._satoshisBN);var e=this._scriptBuffer;return t.writeVarintNum(e.length),t.write(e),t},t.exports=h},function(t,e,r){"use strict";(function(e){var n=r(0),i=r(58),o=r(57),s=r(82),a=r(84),u=r(52),c=r(32),f=r(40),l=r(519),h=r(16),p=r(14),d=function(t,l,h,p){var d,m=r(305),g=r(304),v=m.shallowCopy(t);for((p=new o(p)).removeCodeseparators(),d=0;d<v.inputs.length;d++)v.inputs[d]=new g(v.inputs[d]).setScript(o.empty());if(v.inputs[h]=new g(v.inputs[h]).setScript(p),(31&l)===i.SIGHASH_NONE||(31&l)===i.SIGHASH_SINGLE)for(d=0;d<v.inputs.length;d++)d!==h&&(v.inputs[d].sequenceNumber=0);if((31&l)===i.SIGHASH_NONE)v.outputs=[];else if((31&l)===i.SIGHASH_SINGLE){if(h>=v.outputs.length)return new e("0000000000000000000000000000000000000000000000000000000000000001","hex");for(v.outputs.length=h+1,d=0;d<h;d++)v.outputs[d]=new s({satoshis:c.fromBuffer(new n.Buffer("ffffffffffffffff","hex")),script:o.empty()})}l&i.SIGHASH_ANYONECANPAY&&(v.inputs=[v.inputs[h]]);var y=(new u).write(v.toBuffer()).writeInt32LE(l).toBuffer(),b=f.sha256sha256(y);return b=new a(b).readReverse()};t.exports={sighash:d,sign:function(t,e,r,n,i){var o=d(t,r,n,i);return l.sign(o,e,"little").set({nhashtype:r})},verify:function(t,e,r,n,i){h.checkArgument(!p.isUndefined(t)),h.checkArgument(!p.isUndefined(e)&&!p.isUndefined(e.nhashtype));var o=d(t,e.nhashtype,n,i);return l.verify(o,e,r,"little")}}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e){var n=r(14),i=r(16),o=r(21),s=r(32),a=function t(r){if(!(this instanceof t))return new t(r);if(!n.isUndefined(r))if(e.isBuffer(r))this.set({buf:r});else if(n.isString(r))this.set({buf:new e(r,"hex")});else{if(!n.isObject(r))throw new TypeError("Unrecognized argument for BufferReader");var i=r;this.set(i)}};a.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this.pos=t.pos||this.pos||0,this},a.prototype.eof=function(){return this.pos>=this.buf.length},a.prototype.finished=a.prototype.eof,a.prototype.read=function(t){i.checkArgument(!n.isUndefined(t),"Must specify a length");var e=this.buf.slice(this.pos,this.pos+t);return this.pos=this.pos+t,e},a.prototype.readAll=function(){var t=this.buf.slice(this.pos,this.buf.length);return this.pos=this.buf.length,t},a.prototype.readUInt8=function(){var t=this.buf.readUInt8(this.pos);return this.pos=this.pos+1,t},a.prototype.readUInt16BE=function(){var t=this.buf.readUInt16BE(this.pos);return this.pos=this.pos+2,t},a.prototype.readUInt16LE=function(){var t=this.buf.readUInt16LE(this.pos);return this.pos=this.pos+2,t},a.prototype.readUInt32BE=function(){var t=this.buf.readUInt32BE(this.pos);return this.pos=this.pos+4,t},a.prototype.readUInt32LE=function(){var t=this.buf.readUInt32LE(this.pos);return this.pos=this.pos+4,t},a.prototype.readUInt64BEBN=function(){var t=this.buf.slice(this.pos,this.pos+8),e=s.fromBuffer(t);return this.pos=this.pos+8,e},a.prototype.readUInt64LEBN=function(){var t,e=this.buf.readUInt32LE(this.pos),r=4294967296*this.buf.readUInt32LE(this.pos+4)+e;if(r<=9007199254740991)t=new s(r);else{var n=Array.prototype.slice.call(this.buf,this.pos,this.pos+8);t=new s(n,10,"le")}return this.pos=this.pos+8,t},a.prototype.readVarintNum=function(){var t=this.readUInt8();switch(t){case 253:return this.readUInt16LE();case 254:return this.readUInt32LE();case 255:var e=this.readUInt64LEBN().toNumber();if(e<=Math.pow(2,53))return e;throw new Error("number too large to retain precision - use readVarintBN");default:return t}},a.prototype.readVarLengthBuffer=function(){var t=this.readVarintNum(),e=this.read(t);return i.checkState(e.length===t,"Invalid length while reading varlength buffer. Expected to read: "+t+" and read "+e.length),e},a.prototype.readVarintBuf=function(){switch(this.buf.readUInt8(this.pos)){case 253:return this.read(3);case 254:return this.read(5);case 255:return this.read(9);default:return this.read(1)}},a.prototype.readVarintBN=function(){var t=this.readUInt8();switch(t){case 253:return new s(this.readUInt16LE());case 254:return new s(this.readUInt32LE());case 255:return this.readUInt64LEBN();default:return new s(t)}},a.prototype.reverse=function(){for(var t=new e(this.buf.length),r=0;r<t.length;r++)t[r]=this.buf[this.buf.length-1-r];return this.buf=t,this},a.prototype.readReverse=function(t){n.isUndefined(t)&&(t=this.buf.length);var e=this.buf.slice(this.pos,this.pos+t);return this.pos=this.pos+t,o.reverse(e)},t.exports=a}).call(this,r(0).Buffer)},function(t,e,r){(function(t){const n=r(17);function i(t,e){if("00"===t.slice(0,2))throw new Error("invalid RLP: extra zeros");return parseInt(t,e)}function o(e,r){if(e<56)return new t([e+r]);var n=a(e),i=a(r+55+n.length/2);return new t(i+n,"hex")}function s(t){return"0x"===t.slice(0,2)}function a(t){var e=t.toString(16);return e.length%2&&(e="0"+e),e}function u(e){if(!t.isBuffer(e))if("string"==typeof e)e=s(e)?new t(((n="string"!=typeof(i=e)?i:s(i)?i.slice(2):i).length%2&&(n="0"+n),n),"hex"):new t(e);else if("number"==typeof e)e?(r=a(e),e=new t(r,"hex")):e=new t([]);else if(null===e||void 0===e)e=new t([]);else{if(!e.toArray)throw new Error("invalid type");e=new t(e.toArray())}var r,n,i;return e}e.encode=function(r){if(r instanceof Array){for(var n=[],i=0;i<r.length;i++)n.push(e.encode(r[i]));var s=t.concat(n);return t.concat([o(s.length,192),s])}return 1===(r=u(r)).length&&r[0]<128?r:t.concat([o(r.length,128),r])},e.decode=function(e,r){if(!e||0===e.length)return new t([]);var o=function e(r){var n,o,s,a,u;var c=[];var f=r[0];if(f<=127)return{data:r.slice(0,1),remainder:r.slice(1)};if(f<=183){if(n=f-127,s=128===f?new t([]):r.slice(1,n),2===n&&s[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:s,remainder:r.slice(n)}}if(f<=191){if(o=f-182,n=i(r.slice(1,o).toString("hex"),16),(s=r.slice(o,n+o)).length<n)throw new Error("invalid RLP");return{data:s,remainder:r.slice(n+o)}}if(f<=247){for(n=f-191,a=r.slice(1,n);a.length;)u=e(a),c.push(u.data),a=u.remainder;return{data:c,remainder:r.slice(n)}}o=f-246,n=i(r.slice(1,o).toString("hex"),16);var l=o+n;if(l>r.length)throw new Error("invalid rlp: total length is larger than the data");if(0===(a=r.slice(o,l)).length)throw new Error("invalid rlp, List has a invalid length");for(;a.length;)u=e(a),c.push(u.data),a=u.remainder;return{data:c,remainder:r.slice(l)}}(e=u(e));return r?o:(n.equal(o.remainder.length,0,"invalid remainder"),o.data)},e.getLength=function(e){if(!e||0===e.length)return new t([]);var r=(e=u(e))[0];if(r<=127)return e.length;if(r<=183)return r-127;if(r<=191)return r-182;if(r<=247)return r-191;var n=r-246;return n+i(e.slice(1,n).toString("hex"),16)}}).call(this,r(0).Buffer)},function(t,e,r){var n=r(608);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},function(t,e,r){var n=r(3).Buffer,i=r(50).Transform,o=r(104).StringDecoder;function s(t){i.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(6)(s,i),s.prototype.update=function(t,e,r){"string"==typeof t&&(t=n.from(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){n=t}finally{r(n)}},s.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},s.prototype._finalOrDigest=function(t){var e=this.__final()||n.alloc(0);return t&&(e=this._toString(e,t,!0)),e},s.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new o(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n},t.exports=s},function(t,e,r){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,r,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,r)});case 3:return e.nextTick(function(){t.call(null,r,n)});case 4:return e.nextTick(function(){t.call(null,r,n,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}}:t.exports=e}).call(this,r(2))},function(t,e,r){"use strict";(function(e,n){var i=r(3).Buffer,o=e.crypto||e.msCrypto;o&&o.getRandomValues?t.exports=function(t,r){if(t>65536)throw new Error("requested too many random bytes");var s=new e.Uint8Array(t);t>0&&o.getRandomValues(s);var a=i.from(s.buffer);if("function"==typeof r)return n.nextTick(function(){r(null,a)});return a}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,r(7),r(2))},function(t,e,r){"use strict";var n=r(678),i=r.n(n),o={},s=0;e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&(e={path:e});var r=e,n=r.path,a=void 0===n?"/":n,u=r.exact,c=void 0!==u&&u,f=r.strict,l=void 0!==f&&f,h=r.sensitive,p=function(t,e){var r=""+e.end+e.strict+e.sensitive,n=o[r]||(o[r]={});if(n[t])return n[t];var a=[],u={re:i()(t,a,e),keys:a};return s<1e4&&(n[t]=u,s++),u}(a,{end:c,strict:l,sensitive:void 0!==h&&h}),d=p.re,m=p.keys,g=d.exec(t);if(!g)return null;var v=g[0],y=g.slice(1),b=t===v;return c&&!b?null:{path:a,url:"/"===a&&""===v?"/":v,isExact:b,params:m.reduce(function(t,e,r){return t[e.name]=y[r],t},{})}}},function(t,e,r){"use strict";var n=r(9),i=r.n(n),o=r(27),s=r.n(o),a=r(5),u=r.n(a),c=r(1),f=r.n(c),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var p=function(t){function e(){var r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n=h(this,t.call.apply(t,[this].concat(o))),n.state={match:n.computeMatch(n.props.history.location.pathname)},h(n,r)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getChildContext=function(){return{router:l({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},e.prototype.computeMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}},e.prototype.componentWillMount=function(){var t=this,e=this.props,r=e.children,n=e.history;s()(null==r||1===u.a.Children.count(r),"A <Router> may have only one child element"),this.unlisten=n.listen(function(){t.setState({match:t.computeMatch(n.location.pathname)})})},e.prototype.componentWillReceiveProps=function(t){i()(this.props.history===t.history,"You cannot change <Router history>")},e.prototype.componentWillUnmount=function(){this.unlisten()},e.prototype.render=function(){var t=this.props.children;return t?u.a.Children.only(t):null},e}(u.a.Component);p.propTypes={history:f.a.object.isRequired,children:f.a.node},p.contextTypes={router:f.a.object},p.childContextTypes={router:f.a.object.isRequired},e.a=p},function(t,e,r){var n=r(467),i=r(63),o=r(265),s=r(176);t.exports=function(t,e){var r,a;"function"==typeof t&&(e=t,t={}),r=e||function(){},a=0,e=function(t,e,n){a++||r(t,e,n)};var u=n(t&&t.timeout||5e3),c=i(function(t){t&&e(t)}),f=s();return{handshake:{read:u.read,abort:function(t){c.end(t),u.abort(t,function(t){}),e(t)},write:c.push,rest:function(){return c.end(),{source:u.read(),sink:f.sink}}},sink:u,source:o([c,f.source])}}},function(t,e,r){"use strict";const n=r(66)(r(1020)).Data,i=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],o=["directory","hamt-sharded-directory"];function s(t,e){if(!(this instanceof s))return new s(t,e);if(-1===i.indexOf(t))throw new Error("Type: "+t+" is not valid");this.type=t,this.data=e,this.blockSizes=[],this.addBlockSize=(t=>{this.blockSizes.push(t)}),this.removeBlockSize=(t=>{this.blockSizes.splice(t,1)}),this.fileSize=(()=>{if(o.indexOf(this.type)>=0)return;let t=0;return this.blockSizes.forEach(e=>{t+=e}),e&&(t+=e.length),t}),this.marshal=(()=>{let t;switch(this.type){case"raw":t=n.DataType.Raw;break;case"directory":t=n.DataType.Directory;break;case"file":t=n.DataType.File;break;case"metadata":t=n.DataType.Metadata;break;case"symlink":t=n.DataType.Symlink;break;case"hamt-sharded-directory":t=n.DataType.HAMTShard;break;default:throw new Error(`Unkown type: "${this.type}"`)}let e=this.fileSize();return e||(e=void 0),n.encode({Type:t,Data:this.data,filesize:e,blocksizes:this.blockSizes.length>0?this.blockSizes:void 0,hashType:this.hashType,fanout:this.fanout})})}s.unmarshal=(t=>{const e=n.decode(t);e.Data||(e.Data=void 0);const r=new s(i[e.Type],e.Data);return r.blockSizes=e.blocksizes,r}),t.exports=s},function(t,e,r){var n=r(11);n.pki=n.pki||{};var i=t.exports=n.pki.oids=n.oids=n.oids||{};function o(t,e){i[t]=e,i[e]=t}function s(t,e){i[t]=e}o("1.2.840.113549.1.1.1","rsaEncryption"),o("1.2.840.113549.1.1.4","md5WithRSAEncryption"),o("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),o("1.2.840.113549.1.1.7","RSAES-OAEP"),o("1.2.840.113549.1.1.8","mgf1"),o("1.2.840.113549.1.1.9","pSpecified"),o("1.2.840.113549.1.1.10","RSASSA-PSS"),o("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),o("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),o("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),o("1.2.840.10040.4.3","dsa-with-sha1"),o("1.3.14.3.2.7","desCBC"),o("1.3.14.3.2.26","sha1"),o("2.16.840.1.101.3.4.2.1","sha256"),o("2.16.840.1.101.3.4.2.2","sha384"),o("2.16.840.1.101.3.4.2.3","sha512"),o("1.2.840.113549.2.5","md5"),o("1.2.840.113549.1.7.1","data"),o("1.2.840.113549.1.7.2","signedData"),o("1.2.840.113549.1.7.3","envelopedData"),o("1.2.840.113549.1.7.4","signedAndEnvelopedData"),o("1.2.840.113549.1.7.5","digestedData"),o("1.2.840.113549.1.7.6","encryptedData"),o("1.2.840.113549.1.9.1","emailAddress"),o("1.2.840.113549.1.9.2","unstructuredName"),o("1.2.840.113549.1.9.3","contentType"),o("1.2.840.113549.1.9.4","messageDigest"),o("1.2.840.113549.1.9.5","signingTime"),o("1.2.840.113549.1.9.6","counterSignature"),o("1.2.840.113549.1.9.7","challengePassword"),o("1.2.840.113549.1.9.8","unstructuredAddress"),o("1.2.840.113549.1.9.14","extensionRequest"),o("1.2.840.113549.1.9.20","friendlyName"),o("1.2.840.113549.1.9.21","localKeyId"),o("1.2.840.113549.1.9.22.1","x509Certificate"),o("1.2.840.113549.1.12.10.1.1","keyBag"),o("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),o("1.2.840.113549.1.12.10.1.3","certBag"),o("1.2.840.113549.1.12.10.1.4","crlBag"),o("1.2.840.113549.1.12.10.1.5","secretBag"),o("1.2.840.113549.1.12.10.1.6","safeContentsBag"),o("1.2.840.113549.1.5.13","pkcs5PBES2"),o("1.2.840.113549.1.5.12","pkcs5PBKDF2"),o("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),o("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),o("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),o("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),o("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),o("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),o("1.2.840.113549.2.7","hmacWithSHA1"),o("1.2.840.113549.2.8","hmacWithSHA224"),o("1.2.840.113549.2.9","hmacWithSHA256"),o("1.2.840.113549.2.10","hmacWithSHA384"),o("1.2.840.113549.2.11","hmacWithSHA512"),o("1.2.840.113549.3.7","des-EDE3-CBC"),o("2.16.840.1.101.3.4.1.2","aes128-CBC"),o("2.16.840.1.101.3.4.1.22","aes192-CBC"),o("2.16.840.1.101.3.4.1.42","aes256-CBC"),o("2.5.4.3","commonName"),o("2.5.4.5","serialName"),o("2.5.4.6","countryName"),o("2.5.4.7","localityName"),o("2.5.4.8","stateOrProvinceName"),o("2.5.4.10","organizationName"),o("2.5.4.11","organizationalUnitName"),o("2.16.840.1.113730.1.1","nsCertType"),s("2.5.29.1","authorityKeyIdentifier"),s("2.5.29.2","keyAttributes"),s("2.5.29.3","certificatePolicies"),s("2.5.29.4","keyUsageRestriction"),s("2.5.29.5","policyMapping"),s("2.5.29.6","subtreesConstraint"),s("2.5.29.7","subjectAltName"),s("2.5.29.8","issuerAltName"),s("2.5.29.9","subjectDirectoryAttributes"),s("2.5.29.10","basicConstraints"),s("2.5.29.11","nameConstraints"),s("2.5.29.12","policyConstraints"),s("2.5.29.13","basicConstraints"),o("2.5.29.14","subjectKeyIdentifier"),o("2.5.29.15","keyUsage"),s("2.5.29.16","privateKeyUsagePeriod"),o("2.5.29.17","subjectAltName"),o("2.5.29.18","issuerAltName"),o("2.5.29.19","basicConstraints"),s("2.5.29.20","cRLNumber"),s("2.5.29.21","cRLReason"),s("2.5.29.22","expirationDate"),s("2.5.29.23","instructionCode"),s("2.5.29.24","invalidityDate"),s("2.5.29.25","cRLDistributionPoints"),s("2.5.29.26","issuingDistributionPoint"),s("2.5.29.27","deltaCRLIndicator"),s("2.5.29.28","issuingDistributionPoint"),s("2.5.29.29","certificateIssuer"),s("2.5.29.30","nameConstraints"),o("2.5.29.31","cRLDistributionPoints"),o("2.5.29.32","certificatePolicies"),s("2.5.29.33","policyMappings"),s("2.5.29.34","policyConstraints"),o("2.5.29.35","authorityKeyIdentifier"),s("2.5.29.36","policyConstraints"),o("2.5.29.37","extKeyUsage"),s("2.5.29.46","freshestCRL"),s("2.5.29.54","inhibitAnyPolicy"),o("1.3.6.1.4.1.11129.2.4.2","timestampList"),o("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),o("1.3.6.1.5.5.7.3.1","serverAuth"),o("1.3.6.1.5.5.7.3.2","clientAuth"),o("1.3.6.1.5.5.7.3.3","codeSigning"),o("1.3.6.1.5.5.7.3.4","emailProtection"),o("1.3.6.1.5.5.7.3.8","timeStamping")},function(t,e,r){var n=r(11);function i(t,e){n.cipher.registerAlgorithm(t,function(){return new n.aes.Algorithm(t,e)})}r(298),r(511),r(13),t.exports=n.aes=n.aes||{},n.aes.startEncrypting=function(t,e,r,n){var i=m({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i},n.aes.createEncryptionCipher=function(t,e){return m({key:t,output:null,decrypt:!1,mode:e})},n.aes.startDecrypting=function(t,e,r,n){var i=m({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i},n.aes.createDecryptionCipher=function(t,e){return m({key:t,output:null,decrypt:!0,mode:e})},n.aes.Algorithm=function(t,e){f||h();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(t,e){return d(r._w,t,e,!1)},decrypt:function(t,e){return d(r._w,t,e,!0)}}}),r._init=!1},n.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e,r=t.key;if("string"!=typeof r||16!==r.length&&24!==r.length&&32!==r.length){if(n.util.isArray(r)&&(16===r.length||24===r.length||32===r.length)){e=r,r=n.util.createBuffer();for(var i=0;i<e.length;++i)r.putByte(e[i])}}else r=n.util.createBuffer(r);if(!n.util.isArray(r)){e=r,r=[];var o=e.length();if(16===o||24===o||32===o){o>>>=2;for(i=0;i<o;++i)r.push(e.getInt32())}}if(!n.util.isArray(r)||4!==r.length&&6!==r.length&&8!==r.length)throw new Error("Invalid key parameter.");var s=this.mode.name,a=-1!==["CFB","OFB","CTR","GCM"].indexOf(s);this._w=p(r,t.decrypt&&!a),this._init=!0}},n.aes._expandKey=function(t,e){return f||h(),p(t,e)},n.aes._updateBlock=d,i("AES-ECB",n.cipher.modes.ecb),i("AES-CBC",n.cipher.modes.cbc),i("AES-CFB",n.cipher.modes.cfb),i("AES-OFB",n.cipher.modes.ofb),i("AES-CTR",n.cipher.modes.ctr),i("AES-GCM",n.cipher.modes.gcm);var o,s,a,u,c,f=!1,l=4;function h(){f=!0,a=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;o=new Array(256),s=new Array(256),u=new Array(4),c=new Array(4);for(e=0;e<4;++e)u[e]=new Array(256),c[e]=new Array(256);var r,n,i,l,h,p,d,m=0,g=0;for(e=0;e<256;++e){l=(l=g^g<<1^g<<2^g<<3^g<<4)>>8^255&l^99,o[m]=l,s[l]=m,p=(h=t[l])<<24^l<<16^l<<8^l^h,d=((r=t[m])^(n=t[r])^(i=t[n]))<<24^(m^i)<<16^(m^n^i)<<8^m^r^i;for(var v=0;v<4;++v)u[v][m]=p,c[v][l]=d,p=p<<24|p>>>8,d=d<<24|d>>>8;0===m?m=g=1:(m=r^t[t[t[r^i]]],g^=t[t[g]])}}function p(t,e){for(var r,n=t.slice(0),i=1,s=n.length,u=l*(s+6+1),f=s;f<u;++f)r=n[f-1],f%s==0?(r=o[r>>>16&255]<<24^o[r>>>8&255]<<16^o[255&r]<<8^o[r>>>24]^a[i]<<24,i++):s>6&&f%s==4&&(r=o[r>>>24]<<24^o[r>>>16&255]<<16^o[r>>>8&255]<<8^o[255&r]),n[f]=n[f-s]^r;if(e){for(var h,p=c[0],d=c[1],m=c[2],g=c[3],v=n.slice(0),y=(f=0,(u=n.length)-l);f<u;f+=l,y-=l)if(0===f||f===u-l)v[f]=n[y],v[f+1]=n[y+3],v[f+2]=n[y+2],v[f+3]=n[y+1];else for(var b=0;b<l;++b)h=n[y+b],v[f+(3&-b)]=p[o[h>>>24]]^d[o[h>>>16&255]]^m[o[h>>>8&255]]^g[o[255&h]];n=v}return n}function d(t,e,r,n){var i,a,f,l,h,p,d,m,g,v,y,b,w=t.length/4-1;n?(i=c[0],a=c[1],f=c[2],l=c[3],h=s):(i=u[0],a=u[1],f=u[2],l=u[3],h=o),p=e[0]^t[0],d=e[n?3:1]^t[1],m=e[2]^t[2],g=e[n?1:3]^t[3];for(var _=3,k=1;k<w;++k)v=i[p>>>24]^a[d>>>16&255]^f[m>>>8&255]^l[255&g]^t[++_],y=i[d>>>24]^a[m>>>16&255]^f[g>>>8&255]^l[255&p]^t[++_],b=i[m>>>24]^a[g>>>16&255]^f[p>>>8&255]^l[255&d]^t[++_],g=i[g>>>24]^a[p>>>16&255]^f[d>>>8&255]^l[255&m]^t[++_],p=v,d=y,m=b;r[0]=h[p>>>24]<<24^h[d>>>16&255]<<16^h[m>>>8&255]<<8^h[255&g]^t[++_],r[n?3:1]=h[d>>>24]<<24^h[m>>>16&255]<<16^h[g>>>8&255]<<8^h[255&p]^t[++_],r[2]=h[m>>>24]<<24^h[g>>>16&255]<<16^h[p>>>8&255]<<8^h[255&d]^t[++_],r[n?1:3]=h[g>>>24]<<24^h[p>>>16&255]<<16^h[d>>>8&255]<<8^h[255&m]^t[++_]}function m(t){var e,r="AES-"+((t=t||{}).mode||"CBC").toUpperCase(),i=(e=t.decrypt?n.cipher.createDecipher(r,t.key):n.cipher.createCipher(r,t.key)).start;return e.start=function(t,r){var o=null;r instanceof n.util.ByteBuffer&&(o=r,r={}),(r=r||{}).output=o,r.iv=t,i.call(e,r)},e}},function(t,e,r){"use strict";(function(e){var n=r(14),i=r(16),o=r(59),s=r(148),a=r(97),u=r(40),c=r(28),f=r(64);function l(t,e,r){if(!(this instanceof l))return new l(t,e,r);if(n.isArray(t)&&n.isNumber(e))return l.createMultisig(t,e,r);if(t instanceof l)return t;if(i.checkArgument(t,"First argument is required, please include address data.","guide/address.html"),e&&!a.get(e))throw new TypeError('Second argument must be "livenet" or "testnet".');if(r&&r!==l.PayToPublicKeyHash&&r!==l.PayToScriptHash)throw new TypeError('Third argument must be "pubkeyhash" or "scripthash".');var o=this._classifyArguments(t,e,r);return o.network=o.network||a.get(e)||a.defaultNetwork,o.type=o.type||r||l.PayToPublicKeyHash,c.defineImmutable(this,{hashBuffer:o.hashBuffer,network:o.network,type:o.type}),this}l.prototype._classifyArguments=function(t,r,i){if((t instanceof e||t instanceof Uint8Array)&&20===t.length)return l._transformHash(t);if((t instanceof e||t instanceof Uint8Array)&&21===t.length)return l._transformBuffer(t,r,i);if(t instanceof f)return l._transformPublicKey(t);if(t instanceof h)return l._transformScript(t,r);if("string"==typeof t)return l._transformString(t,r,i);if(n.isObject(t))return l._transformObject(t);throw new TypeError("First argument is an unrecognized data format.")},l.PayToPublicKeyHash="pubkeyhash",l.PayToScriptHash="scripthash",l._transformHash=function(t){var r={};if(!(t instanceof e||t instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(20!==t.length)throw new TypeError("Address hashbuffers must be exactly 20 bytes.");return r.hashBuffer=t,r},l._transformObject=function(t){return i.checkArgument(t.hash||t.hashBuffer,"Must provide a `hash` or `hashBuffer` property"),i.checkArgument(t.type,"Must provide a `type` property"),{hashBuffer:t.hash?new e(t.hash,"hex"):t.hashBuffer,network:a.get(t.network)||a.defaultNetwork,type:t.type}},l._classifyFromVersion=function(t){var e={},r=256*t[0]+t[1],n=a.get(r,"pubkeyhash"),i=a.get(r,"scripthash");return n?(e.network=n,e.type=l.PayToPublicKeyHash):i&&(e.network=i,e.type=l.PayToScriptHash),e},l._transformBuffer=function(t,r,n){var i={};if(!(t instanceof e||t instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(22!==t.length)throw new TypeError("Address buffers must be exactly 22 bytes.");r=a.get(r);var o=l._classifyFromVersion(t);if(!o.network||r&&r!==o.network)throw new TypeError("Address has mismatched network type.");if(!o.type||n&&n!==o.type)throw new TypeError("Address has mismatched type.");return i.hashBuffer=t.slice(2),i.network=o.network,i.type=o.type,i},l._transformPublicKey=function(t){var e={};if(!(t instanceof f))throw new TypeError("Address must be an instance of PublicKey.");return e.hashBuffer=u.sha256ripemd160(t.toBuffer()),e.type=l.PayToPublicKeyHash,e},l._transformScript=function(t,e){i.checkArgument(t instanceof h,"script must be a Script instance");var r=t.getAddressInfo(e);if(!r)throw new o.Script.CantDeriveAddress(t);return r},l.createMultisig=function(t,e,r){return r=r||t[0].network||a.defaultNetwork,l.payingTo(h.buildMultisigOut(t,e),r)},l._transformString=function(t,e,r){if("string"!=typeof t)throw new TypeError("data parameter supplied is not a string.");t=t.trim();var n=s.decode(t);return l._transformBuffer(n,e,r)},l.fromPublicKey=function(t,e){var r=l._transformPublicKey(t);return e=e||a.defaultNetwork,new l(r.hashBuffer,e,r.type)},l.fromPublicKeyHash=function(t,e){return new l(l._transformHash(t).hashBuffer,e,l.PayToPublicKeyHash)},l.fromScriptHash=function(t,e){return i.checkArgument(t,"hash parameter is required"),new l(l._transformHash(t).hashBuffer,e,l.PayToScriptHash)},l.payingTo=function(t,e){return i.checkArgument(t,"script is required"),i.checkArgument(t instanceof h,"script must be instance of Script"),l.fromScriptHash(u.sha256ripemd160(t.toBuffer()),e)},l.fromScript=function(t,e){i.checkArgument(t instanceof h,"script must be a Script instance");var r=l._transformScript(t,e);return new l(r.hashBuffer,e,r.type)},l.fromBuffer=function(t,e,r){var n=l._transformBuffer(t,e,r);return new l(n.hashBuffer,n.network,n.type)},l.fromString=function(t,e,r){var n=l._transformString(t,e,r);return new l(n.hashBuffer,n.network,n.type)},l.fromObject=function(t){return i.checkState(c.isHexa(t.hash),'Unexpected hash property, "'+t.hash+'", expected to be hex.'),new l(new e(t.hash,"hex"),t.network,t.type)},l.getValidationError=function(t,e,r){var n;try{new l(t,e,r)}catch(t){n=t}return n},l.isValid=function(t,e,r){return!l.getValidationError(t,e,r)},l.prototype.isPayToPublicKeyHash=function(){return this.type===l.PayToPublicKeyHash},l.prototype.isPayToScriptHash=function(){return this.type===l.PayToScriptHash},l.prototype.toBuffer=function(){var t=new e(this.network[this.type].toString(16),"hex");return e.concat([t,this.hashBuffer])},l.prototype.toObject=l.prototype.toJSON=function(){return{hash:this.hashBuffer.toString("hex"),type:this.type,network:this.network.toString()}},l.prototype.toString=function(){return s.encode(this.toBuffer())},l.prototype.inspect=function(){return"<Address: "+this.toString()+", type: "+this.type+", network: "+this.network+">"},t.exports=l;var h=r(57)}).call(this,r(0).Buffer)},function(t,e,r){"use strict";var n=r(14),i=r(21),o=r(28),s=[],a={};function u(){}function c(t,e){if(~s.indexOf(t))return t;if(!e)return a[t];n.isArray(e)||(e=[e]);var r=function(e){return s[i][e]===t};for(var i in s)if(n.any(e,r))return s[i]}function f(t){var e=new u;return o.defineImmutable(e,{name:t.name,alias:t.alias,pubkeyhash:t.pubkeyhash,privatekey:t.privatekey,scripthash:t.scripthash,xpubkey:t.xpubkey,xprivkey:t.xprivkey,zaddr:t.zaddr,zkey:t.zkey}),t.networkMagic&&o.defineImmutable(e,{networkMagic:i.integerAsBuffer(t.networkMagic)}),t.port&&o.defineImmutable(e,{port:t.port}),t.dnsSeeds&&o.defineImmutable(e,{dnsSeeds:t.dnsSeeds}),n.each(e,function(t){n.isUndefined(t)||n.isObject(t)||(a[t]=e)}),s.push(e),e}u.prototype.toString=function(){return this.name},f({name:"livenet",alias:"mainnet",pubkeyhash:7352,privatekey:128,scripthash:7357,xpubkey:76067358,xprivkey:76066276,zaddr:5786,zkey:43830,networkMagic:4179340459,port:8233,dnsSeeds:[]});var l=c("livenet");f({name:"testnet",alias:"regtest",pubkeyhash:7461,privatekey:239,scripthash:7354,xpubkey:70617039,xprivkey:70615956,zaddr:5814,zkey:44040});var h=c("testnet"),p={PORT:18233,NETWORK_MAGIC:i.integerAsBuffer(4187956406),DNS_SEEDS:["dnsseed.testnet.z.cash"]};for(var d in p)n.isObject(p[d])||(a[p[d]]=h);var m={PORT:18444,NETWORK_MAGIC:i.integerAsBuffer(2867347295),DNS_SEEDS:[]};for(var d in m)n.isObject(m[d])||(a[m[d]]=h);Object.defineProperty(h,"port",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?m.PORT:p.PORT}}),Object.defineProperty(h,"networkMagic",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?m.NETWORK_MAGIC:p.NETWORK_MAGIC}}),Object.defineProperty(h,"dnsSeeds",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?m.DNS_SEEDS:p.DNS_SEEDS}}),t.exports={add:f,remove:function(t){for(var e=0;e<s.length;e++)s[e]===t&&s.splice(e,1);for(var r in a)a[r]===t&&delete a[r]},defaultNetwork:l,livenet:l,mainnet:l,testnet:h,get:c,enableRegtest:function(){h.regtestEnabled=!0},disableRegtest:function(){h.regtestEnabled=!1}}},function(t,e,r){"use strict";e.ethAccountSnapshot=r(530),e.ethBlock=r(525),e.ethBlockList=r(1208),e.ethStateTrie=r(1200),e.ethStorageTrie=r(1196),e.ethTx=r(521),e.ethTxTrie=r(1192)},function(t,e,r){var n=r(533);r(1232),t.exports=n},function(t,e,r){"use strict";(function(n){const i=r(38),o=r(17);(e=t.exports=class{constructor(t,e,r){o(r,"A link requires a multihash to point to"),this._name=t,this._size=e,"string"==typeof r?this._multihash=i.fromB58String(r):n.isBuffer(r)&&(this._multihash=r)}toString(){return`DAGLink <${i.toB58String(this.multihash)} - name: "${this.name}", size: ${this.size}>`}toJSON(){return{name:this.name,size:this.size,multihash:i.toB58String(this._multihash)}}get name(){return this._name}set name(t){throw new Error("Can't set property: 'name' is immutable")}get size(){return this._size}set size(t){throw new Error("Can't set property: 'size' is immutable")}get multihash(){return this._multihash}set multihash(t){throw new Error("Can't set property: 'multihash' is immutable")}}).create=r(1295),e.util=r(1294)}).call(this,r(0).Buffer)},function(t,e,r){(function(t,n){var i=/%[sdj%]/g;e.format=function(t){if(!v(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(a(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,o=n.length,s=String(t).replace(i,function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}}),u=n[r];r<o;u=n[++r])m(u)||!w(u)?s+=" "+u:s+=" "+a(u);return s},e.deprecate=function(r,i){if(y(t.process))return function(){return e.deprecate(r,i).apply(this,arguments)};if(!0===n.noDeprecation)return r;var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),o=!0}return r.apply(this,arguments)}};var o,s={};function a(t,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(r)?n.showHidden=r:r&&e._extend(n,r),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),f(n,t,n.depth)}function u(t,e){var r=a.styles[e];return r?"["+a.colors[r][0]+"m"+t+"["+a.colors[r][1]+"m":t}function c(t,e){return t}function f(t,r,n){if(t.customInspect&&r&&S(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return v(i)||(i=f(t,i,n)),i}var o=function(t,e){if(y(e))return t.stylize("undefined","undefined");if(v(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(g(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(m(e))return t.stylize("null","null")}(t,r);if(o)return o;var s=Object.keys(r),a=function(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(r)),k(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(r);if(0===s.length){if(S(r)){var u=r.name?": "+r.name:"";return t.stylize("[Function"+u+"]","special")}if(b(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(_(r))return t.stylize(Date.prototype.toString.call(r),"date");if(k(r))return l(r)}var c,w="",x=!1,E=["{","}"];(p(r)&&(x=!0,E=["[","]"]),S(r))&&(w=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(w=" "+RegExp.prototype.toString.call(r)),_(r)&&(w=" "+Date.prototype.toUTCString.call(r)),k(r)&&(w=" "+l(r)),0!==s.length||x&&0!=r.length?n<0?b(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),c=x?function(t,e,r,n,i){for(var o=[],s=0,a=e.length;s<a;++s)A(e,String(s))?o.push(h(t,e,r,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,r,n,i,!0))}),o}(t,r,n,a,s):s.map(function(e){return h(t,r,n,a,e,x)}),t.seen.pop(),function(t,e,r){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(c,w,E)):E[0]+w+E[1]}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,r,n,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),A(n,i)||(s="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(a=m(r)?f(t,u.value,null):f(t,u.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),y(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function p(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function m(t){return null===t}function g(t){return"number"==typeof t}function v(t){return"string"==typeof t}function y(t){return void 0===t}function b(t){return w(t)&&"[object RegExp]"===x(t)}function w(t){return"object"==typeof t&&null!==t}function _(t){return w(t)&&"[object Date]"===x(t)}function k(t){return w(t)&&("[object Error]"===x(t)||t instanceof Error)}function S(t){return"function"==typeof t}function x(t){return Object.prototype.toString.call(t)}function E(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(y(o)&&(o=n.env.NODE_DEBUG||""),t=t.toUpperCase(),!s[t])if(new RegExp("\\b"+t+"\\b","i").test(o)){var r=n.pid;s[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else s[t]=function(){};return s[t]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=d,e.isNull=m,e.isNullOrUndefined=function(t){return null==t},e.isNumber=g,e.isString=v,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=y,e.isRegExp=b,e.isObject=w,e.isDate=_,e.isError=k,e.isFunction=S,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(1399);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,r;console.log("%s - %s",(t=new Date,r=[E(t.getHours()),E(t.getMinutes()),E(t.getSeconds())].join(":"),[t.getDate(),C[t.getMonth()],r].join(" ")),e.format.apply(e,arguments))},e.inherits=r(1398),e._extend=function(t,e){if(!e||!w(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(this,r(7),r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var n,i=r(1426),o=(n=i)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol;function a(t){return s&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return a(t)?(0,o.default)(t):t},e.isAsync=a},function(t,e,r){var n=r(37),i=r(156),o=function(t){this.name=t.name,this.call=t.call,this.params=t.params||0,this.inputFormatter=t.inputFormatter,this.outputFormatter=t.outputFormatter,this.requestManager=null};o.prototype.setRequestManager=function(t){this.requestManager=t},o.prototype.getCall=function(t){return n.isFunction(this.call)?this.call(t):this.call},o.prototype.extractCallback=function(t){if(n.isFunction(t[t.length-1]))return t.pop()},o.prototype.validateArgs=function(t){if(t.length!==this.params)throw i.InvalidNumberOfParams()},o.prototype.formatInput=function(t){return this.inputFormatter?this.inputFormatter.map(function(e,r){return e?e(t[r]):t[r]}):t},o.prototype.formatOutput=function(t){return this.outputFormatter&&t?this.outputFormatter(t):t},o.prototype.toPayload=function(t){var e=this.getCall(t),r=this.extractCallback(t),n=this.formatInput(t);return this.validateArgs(n),{method:e,params:n,callback:r}},o.prototype.attachToObject=function(t){var e=this.buildCall();e.call=this.call;var r=this.name.split(".");r.length>1?(t[r[0]]=t[r[0]]||{},t[r[0]][r[1]]=e):t[r[0]]=e},o.prototype.buildCall=function(){var t=this,e=function(){var e=t.toPayload(Array.prototype.slice.call(arguments));return e.callback?t.requestManager.sendAsync(e,function(r,n){e.callback(r,t.formatOutput(n))}):t.formatOutput(t.requestManager.send(e))};return e.request=this.request.bind(this),e},o.prototype.request=function(){var t=this.toPayload(Array.prototype.slice.call(arguments));return t.format=this.formatOutput.bind(this),t},t.exports=o},function(t,e,r){"use strict";var n=r(3).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=f,this.end=l,e=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function f(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=s(e[n]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=s(e[n]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=s(e[n]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,r){"use strict";var n=r(88),i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=l;var o=r(42);o.inherits=r(6);var s=r(655),a=r(364);o.inherits(l,s);for(var u=i(a.prototype),c=0;c<u.length;c++){var f=u[c];l.prototype[f]||(l.prototype[f]=a.prototype[f])}function l(t){if(!(this instanceof l))return new l(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),l.prototype._destroy=function(t,e){this.push(null),this.end(),n.nextTick(e,t)}},function(t,e,r){(e=t.exports=r(655)).Stream=e,e.Readable=e,e.Writable=r(364),e.Duplex=r(105),e.Transform=r(650),e.PassThrough=r(1629)},function(t,e,r){"use strict";e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=r(89),e.createHash=e.Hash=r(51),e.createHmac=e.Hmac=r(163);var n=r(1618),i=Object.keys(n),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);e.getHashes=function(){return o};var s=r(361);e.pbkdf2=s.pbkdf2,e.pbkdf2Sync=s.pbkdf2Sync;var a=r(1616);e.Cipher=a.Cipher,e.createCipher=a.createCipher,e.Cipheriv=a.Cipheriv,e.createCipheriv=a.createCipheriv,e.Decipher=a.Decipher,e.createDecipher=a.createDecipher,e.Decipheriv=a.Decipheriv,e.createDecipheriv=a.createDecipheriv,e.getCiphers=a.getCiphers,e.listCiphers=a.listCiphers;var u=r(1599);e.DiffieHellmanGroup=u.DiffieHellmanGroup,e.createDiffieHellmanGroup=u.createDiffieHellmanGroup,e.getDiffieHellman=u.getDiffieHellman,e.createDiffieHellman=u.createDiffieHellman,e.DiffieHellman=u.DiffieHellman;var c=r(1594);e.createSign=c.createSign,e.Sign=c.Sign,e.createVerify=c.createVerify,e.Verify=c.Verify,e.createECDH=r(1558);var f=r(1557);e.publicEncrypt=f.publicEncrypt,e.privateEncrypt=f.privateEncrypt,e.publicDecrypt=f.publicDecrypt,e.privateDecrypt=f.privateDecrypt;var l=r(1554);e.randomFill=l.randomFill,e.randomFillSync=l.randomFillSync,e.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(t,e,r){var n=r(68),i=r(656),o=function(t){this._inputFormatter=t.inputFormatter,this._outputFormatter=t.outputFormatter};o.prototype.isType=function(t){throw"This method should be overwritten for type "+t},o.prototype.staticPartLength=function(t){return(this.nestedTypes(t)||["[1]"]).map(function(t){return parseInt(t.slice(1,-1),10)||1}).reduce(function(t,e){return t*e},32)},o.prototype.isDynamicArray=function(t){var e=this.nestedTypes(t);return!!e&&!e[e.length-1].match(/[0-9]{1,}/g)},o.prototype.isStaticArray=function(t){var e=this.nestedTypes(t);return!!e&&!!e[e.length-1].match(/[0-9]{1,}/g)},o.prototype.staticArrayLength=function(t){var e=this.nestedTypes(t);return e?parseInt(e[e.length-1].match(/[0-9]{1,}/g)||1):1},o.prototype.nestedName=function(t){var e=this.nestedTypes(t);return e?t.substr(0,t.length-e[e.length-1].length):t},o.prototype.isDynamicType=function(){return!1},o.prototype.nestedTypes=function(t){return t.match(/(\[[0-9]*\])/g)},o.prototype.encode=function(t,e){var r,i,o,s=this;return this.isDynamicArray(e)?(r=t.length,i=s.nestedName(e),(o=[]).push(n.formatInputInt(r).encode()),t.forEach(function(t){o.push(s.encode(t,i))}),o):this.isStaticArray(e)?function(){for(var r=s.staticArrayLength(e),n=s.nestedName(e),i=[],o=0;o<r;o++)i.push(s.encode(t[o],n));return i}():this._inputFormatter(t,e).encode()},o.prototype.decode=function(t,e,r){var n=this;if(this.isDynamicArray(r))return function(){for(var i=parseInt("0x"+t.substr(2*e,64)),o=parseInt("0x"+t.substr(2*i,64)),s=i+32,a=n.nestedName(r),u=n.staticPartLength(a),c=32*Math.floor((u+31)/32),f=[],l=0;l<o*c;l+=c)f.push(n.decode(t,s+l,a));return f}();if(this.isStaticArray(r))return function(){for(var i=n.staticArrayLength(r),o=e,s=n.nestedName(r),a=n.staticPartLength(s),u=32*Math.floor((a+31)/32),c=[],f=0;f<i*u;f+=u)c.push(n.decode(t,o+f,s));return c}();if(this.isDynamicType(r))return function(){var o=parseInt("0x"+t.substr(2*e,64)),s=parseInt("0x"+t.substr(2*o,64)),a=Math.floor((s+31)/32),u=new i(t.substr(2*o,64*(1+a)),0,t);return n._outputFormatter(u,r)}();var o=this.staticPartLength(r),s=new i(t.substr(2*e,2*o),void 0,t);return this._outputFormatter(s,r)},t.exports=o},function(t,e,r){"use strict";var n=r(1656),i=r(43).errors,o=r(43).formatters,s=r(54),a=r(662),u=r(235).subscriptions,c=function(t){if(!t.call||!t.name)throw new Error('When creating a method you need to provide at least the "name" and "call" property.');this.name=t.name,this.call=t.call,this.params=t.params||0,this.inputFormatter=t.inputFormatter,this.outputFormatter=t.outputFormatter,this.transformPayload=t.transformPayload,this.extraFormatters=t.extraFormatters,this.requestManager=t.requestManager,this.accounts=t.accounts,this.defaultBlock=t.defaultBlock||"latest",this.defaultAccount=t.defaultAccount||null};c.prototype.setRequestManager=function(t,e){this.requestManager=t,e&&(this.accounts=e)},c.prototype.createFunction=function(t,e){var r=this.buildCall();return r.call=this.call,this.setRequestManager(t||this.requestManager,e||this.accounts),r},c.prototype.attachToObject=function(t){var e=this.buildCall();e.call=this.call;var r=this.name.split(".");r.length>1?(t[r[0]]=t[r[0]]||{},t[r[0]][r[1]]=e):t[r[0]]=e},c.prototype.getCall=function(t){return n.isFunction(this.call)?this.call(t):this.call},c.prototype.extractCallback=function(t){if(n.isFunction(t[t.length-1]))return t.pop()},c.prototype.validateArgs=function(t){if(t.length!==this.params)throw i.InvalidNumberOfParams(t.length,this.params,this.name)},c.prototype.formatInput=function(t){var e=this;return this.inputFormatter?this.inputFormatter.map(function(r,n){return r?r.call(e,t[n]):t[n]}):t},c.prototype.formatOutput=function(t){var e=this;return n.isArray(t)?t.map(function(t){return e.outputFormatter&&t?e.outputFormatter(t):t}):this.outputFormatter&&t?this.outputFormatter(t):t},c.prototype.toPayload=function(t){var e=this.getCall(t),r=this.extractCallback(t),n=this.formatInput(t);this.validateArgs(n);var i={method:e,params:n,callback:r};return this.transformPayload&&(i=this.transformPayload(i)),i},c.prototype._confirmTransaction=function(t,e,r){var i=this,f=!1,l=!0,h=0,p=0,d=null,m=n.isObject(r.params[0])&&r.params[0].gas?r.params[0].gas:null,g=n.isObject(r.params[0])&&r.params[0].data&&r.params[0].from&&!r.params[0].to,v=[new c({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,inputFormatter:[null],outputFormatter:o.outputTransactionReceiptFormatter}),new c({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[o.inputAddressFormatter,o.inputDefaultBlockNumberFormatter]}),new u({name:"subscribe",type:"eth",subscriptions:{newBlockHeaders:{subscriptionName:"newHeads",params:0,outputFormatter:o.outputBlockFormatter}}})],y={};n.each(v,function(t){t.attachToObject(y),t.requestManager=i.requestManager});var b=function(r,n,o,u,c){if(!o)return c||(c={unsubscribe:function(){clearInterval(d)}}),(r?a.resolve(r):y.getTransactionReceipt(e)).catch(function(e){c.unsubscribe(),f=!0,s._fireError({message:"Failed to check for transaction receipt:",data:e},t.eventEmitter,t.reject)}).then(function(e){if(!e||!e.blockHash)throw new Error("Receipt missing or blockHash null");return i.extraFormatters&&i.extraFormatters.receiptFormatter&&(e=i.extraFormatters.receiptFormatter(e)),t.eventEmitter.listeners("confirmation").length>0&&(void 0!==r&&0===p||t.eventEmitter.emit("confirmation",p,e),l=!1,25===++p&&(c.unsubscribe(),t.eventEmitter.removeAllListeners())),e}).then(function(e){if(g&&!f){if(!e.contractAddress)return l&&(c.unsubscribe(),f=!0),void s._fireError(new Error("The transaction receipt didn't contain a contract address."),t.eventEmitter,t.reject);y.getCode(e.contractAddress,function(r,n){n&&(n.length>2?(t.eventEmitter.emit("receipt",e),i.extraFormatters&&i.extraFormatters.contractDeployFormatter?t.resolve(i.extraFormatters.contractDeployFormatter(e)):t.resolve(e),l&&t.eventEmitter.removeAllListeners()):s._fireError(new Error("The contract code couldn't be stored, please check your gas limit."),t.eventEmitter,t.reject),l&&c.unsubscribe(),f=!0)})}return e}).then(function(e){g||f||(e.outOfGas||m&&m===e.gasUsed||!0!==e.status&&"0x1"!==e.status&&void 0!==e.status?(e&&(e=JSON.stringify(e,null,2)),!1===e.status||"0x0"===e.status?s._fireError(new Error("Transaction has been reverted by the EVM:\n"+e),t.eventEmitter,t.reject):s._fireError(new Error("Transaction ran out of gas. Please provide more gas:\n"+e),t.eventEmitter,t.reject)):(t.eventEmitter.emit("receipt",e),t.resolve(e),l&&t.eventEmitter.removeAllListeners()),l&&c.unsubscribe(),f=!0)}).catch(function(){h++,n?h-1>=750&&(c.unsubscribe(),f=!0,s._fireError(new Error("Transaction was not mined within750 seconds, please make sure your transaction was properly sent. Be aware that it might still be mined!"),t.eventEmitter,t.reject)):h-1>=50&&(c.unsubscribe(),f=!0,s._fireError(new Error("Transaction was not mined within 50 blocks, please make sure your transaction was properly sent. Be aware that it might still be mined!"),t.eventEmitter,t.reject))});c.unsubscribe(),f=!0,s._fireError({message:"Failed to subscribe to new newBlockHeaders to confirm the transaction receipts.",data:o},t.eventEmitter,t.reject)},w=function(t){n.isFunction(this.requestManager.provider.on)?y.subscribe("newBlockHeaders",b.bind(null,t,!1)):d=setInterval(b.bind(null,t,!0),1e3)}.bind(this);y.getTransactionReceipt(e).then(function(e){e&&e.blockHash?(t.eventEmitter.listeners("confirmation").length>0&&w(e),b(e,!1)):f||w()}).catch(function(){f||w()})};var f=function(t,e){return n.isNumber(t)?e.wallet[t]:n.isObject(t)&&t.address&&t.privateKey?t:e.wallet[t.toLowerCase()]};c.prototype.buildCall=function(){var t=this,e="eth_sendTransaction"===t.call||"eth_sendRawTransaction"===t.call,r=function(){var r=a(!e),i=t.toPayload(Array.prototype.slice.call(arguments)),o=function(n,o){try{o=t.formatOutput(o)}catch(t){n=t}if(o instanceof Error&&(n=o),n)return n.error&&(n=n.error),s._fireError(n,r.eventEmitter,r.reject,i.callback);i.callback&&i.callback(null,o),e?(r.eventEmitter.emit("transactionHash",o),t._confirmTransaction(r,o,i)):n||r.resolve(o)},u=function(e){var r=n.extend({},i,{method:"eth_sendRawTransaction",params:[e.rawTransaction]});t.requestManager.send(r,o)},l=function(t,e){var i;if(e&&e.accounts&&e.accounts.wallet&&e.accounts.wallet.length)if("eth_sendTransaction"===t.method){var s=t.params[0];if((i=f(n.isObject(s)?s.from:null,e.accounts))&&i.privateKey)return e.accounts.signTransaction(n.omit(s,"from"),i.privateKey).then(u)}else if("eth_sign"===t.method){var a=t.params[1];if((i=f(t.params[0],e.accounts))&&i.privateKey){var c=e.accounts.sign(a,i.privateKey);return t.callback&&t.callback(null,c.signature),void r.resolve(c.signature)}}return e.requestManager.send(t,o)};e&&n.isObject(i.params[0])&&!i.params[0].gasPrice?new c({name:"getGasPrice",call:"eth_gasPrice",params:0}).createFunction(t.requestManager)(function(e,r){r&&(i.params[0].gasPrice=r),l(i,t)}):l(i,t);return r.eventEmitter};return r.method=t,r.request=this.request.bind(this),r},c.prototype.request=function(){var t=this.toPayload(Array.prototype.slice.call(arguments));return t.format=this.formatOutput.bind(this),t},t.exports=c},function(t,e,r){"use strict";var n=r(1689),i=r(1657);t.exports={packageInit:function(t,e){if(e=Array.prototype.slice.call(e),!t)throw new Error('You need to instantiate using the "new" keyword.');Object.defineProperty(t,"currentProvider",{get:function(){return t._provider},set:function(e){return t.setProvider(e)},enumerable:!0,configurable:!0}),e[0]&&e[0]._requestManager?t._requestManager=new n.Manager(e[0].currentProvider):(t._requestManager=new n.Manager,t._requestManager.setProvider(e[0],e[1])),t.givenProvider=n.Manager.givenProvider,t.providers=n.Manager.providers,t._provider=t._requestManager.provider,t.setProvider||(t.setProvider=function(e,r){return t._requestManager.setProvider(e,r),t._provider=t._requestManager.provider,!0}),t.BatchRequest=n.BatchManager.bind(null,t._requestManager),t.extend=i(t)},addProviders:function(t){t.givenProvider=n.Manager.givenProvider,t.providers=n.Manager.providers}}},function(t,e,r){"use strict";var n,i=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),s=r(5),a=r(686),u=r(377),c=r(375),f=r(227),l=function(t){function e(e){var r=t.call(this,e)||this;return r.clickCard=function(){r.props.feedInfo.transactionInfo.hash&&(console.log("push: ","/"+r.props.ribbit.networkId+"/tx/"+r.props.feedInfo.transactionInfo.hash),f.default.push("/"+r.props.ribbit.networkId+"/tx/"+r.props.feedInfo.transactionInfo.hash))},r.state={},r}return i(e,t),e.prototype.componentDidMount=function(){this.addTargetBlankToAnchorElements()},e.prototype.componentDidUpdate=function(){this.addTargetBlankToAnchorElements()},e.prototype.addTargetBlankToAnchorElements=function(){if(this.elem)for(var t=this.elem.getElementsByTagName("A"),e=0;e<t.length;e++){t[e].setAttribute("target","_blank")}},e.prototype.render=function(){var t=this;if(!this.props.feedInfo)return null;var e=this.props.feedInfo.summary;this.props.feedInfo.transactionInfo,this.props.feedInfo.userInfo,this.props.feedInfo.stateInfo,this.props.feedInfo.repostUserInfo,this.props.feedInfo.feedType;return e.title?o.createElement("div",{className:"feed-card card",onClick:this.clickCard},o.createElement(u.default,{ribbit:this.props.ribbit,feedInfo:this.props.feedInfo}),o.createElement("div",{className:"content-panel"},e.images.length?o.createElement("div",{className:"cover",style:{backgroundImage:'url("'+e.images[0]+'")'}}):null,o.createElement("div",{className:"title"},e.title),o.createElement("div",{ref:function(e){return t.elem=e},className:"summary",dangerouslySetInnerHTML:{__html:e.summary}})),this.props.hideActionsPanel?null:o.createElement(c.default,{feedInfo:this.props.feedInfo,ribbit:this.props.ribbit})):o.createElement("div",{className:"feed-card card",onClick:this.clickCard},o.createElement(u.default,{feedInfo:this.props.feedInfo,ribbit:this.props.ribbit}),o.createElement("div",{className:"content-panel"},o.createElement("div",{ref:function(e){return t.elem=e},className:"summary",dangerouslySetInnerHTML:{__html:e.summary}}),o.createElement(a.default,{images:e.images}),this.props.hideActionsPanel?null:o.createElement(c.default,{feedInfo:this.props.feedInfo,ribbit:this.props.ribbit})))},e}(s.Component);e.default=l},function(t,e,r){"use strict";var n=r(88).nextTick,i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=l;var o=r(42);o.inherits=r(6);var s=r(390),a=r(387);o.inherits(l,s);for(var u=i(a.prototype),c=0;c<u.length;c++){var f=u[c];l.prototype[f]||(l.prototype[f]=a.prototype[f])}function l(t){if(!(this instanceof l))return new l(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n(p,this)}function p(t){t.end()}Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),l.prototype._destroy=function(t,e){this.push(null),this.end(),n(e,t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(e=(0,o.default)(e||i.default),!(0,n.default)(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function c(e){var n=(0,u.default)(t[r++]);e.push((0,a.default)(f)),n.apply(null,e)}function f(n){if(n||r===t.length)return e.apply(null,arguments);c((0,s.default)(arguments,1))}c([])};var n=c(r(31)),i=c(r(4)),o=c(r(249)),s=c(r(137)),a=c(r(136)),u=c(r(61));function c(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){(function(n){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(841)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++i)}),t.splice(o,0,n)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,r(2))},function(t,e,r){(function(t){var n,i=r(989),o=r(455),s=r(987),a=r(986),u=r(985);t&&t.ArrayBuffer&&(n=r(984));var c="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),f="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),l=c||f;e.protocol=3;var h=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=i(h),d={type:"error",data:"parser error"},m=r(983);function g(t,e,r){for(var n=new Array(t.length),i=a(t.length,r),o=function(t,r,i){e(r,function(e,r){n[t]=r,i(e,n)})},s=0;s<t.length;s++)o(s,t[s],i)}e.encodePacket=function(r,n,i,o){"function"==typeof n&&(o=n,n=!1),"function"==typeof i&&(o=i,i=null);var s=void 0===r.data?void 0:r.data.buffer||r.data;if(t.ArrayBuffer&&s instanceof ArrayBuffer)return function(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var i=t.data,o=new Uint8Array(i),s=new Uint8Array(1+i.byteLength);s[0]=h[t.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return n(s.buffer)}(r,n,o);if(m&&s instanceof t.Blob)return function(t,r,n){if(!r)return e.encodeBase64Packet(t,n);if(l)return function(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var i=new FileReader;return i.onload=function(){t.data=i.result,e.encodePacket(t,r,!0,n)},i.readAsArrayBuffer(t.data)}(t,r,n);var i=new Uint8Array(1);i[0]=h[t.type];var o=new m([i.buffer,t.data]);return n(o)}(r,n,o);if(s&&s.base64)return function(t,r){var n="b"+e.packets[t.type]+t.data.data;return r(n)}(r,o);var a=h[r.type];return void 0!==r.data&&(a+=i?u.encode(String(r.data),{strict:!1}):String(r.data)),o(""+a)},e.encodeBase64Packet=function(r,n){var i,o="b"+e.packets[r.type];if(m&&r.data instanceof t.Blob){var s=new FileReader;return s.onload=function(){var t=s.result.split(",")[1];n(o+t)},s.readAsDataURL(r.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(r.data))}catch(t){for(var a=new Uint8Array(r.data),u=new Array(a.length),c=0;c<a.length;c++)u[c]=a[c];i=String.fromCharCode.apply(null,u)}return o+=t.btoa(i),n(o)},e.decodePacket=function(t,r,n){if(void 0===t)return d;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),r);if(n&&!1===(t=function(t){try{t=u.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return d;var i=t.charAt(0);return Number(i)==i&&p[i]?t.length>1?{type:p[i],data:t.substring(1)}:{type:p[i]}:d}i=new Uint8Array(t)[0];var o=s(t,1);return m&&"blob"===r&&(o=new m([o])),{type:p[i],data:o}},e.decodeBase64Packet=function(t,e){var r=p[t.charAt(0)];if(!n)return{type:r,data:{base64:!0,data:t.substr(1)}};var i=n.decode(t.substr(1));return"blob"===e&&m&&(i=new m([i])),{type:r,data:i}},e.encodePayload=function(t,r,n){"function"==typeof r&&(n=r,r=null);var i=o(t);if(r&&i)return m&&!l?e.encodePayloadAsBlob(t,n):e.encodePayloadAsArrayBuffer(t,n);if(!t.length)return n("0:");g(t,function(t,n){e.encodePacket(t,!!i&&r,!1,function(t){n(null,function(t){return t.length+":"+t}(t))})},function(t,e){return n(e.join(""))})},e.decodePayload=function(t,r,n){if("string"!=typeof t)return e.decodePayloadAsBinary(t,r,n);var i;if("function"==typeof r&&(n=r,r=null),""===t)return n(d,0,1);for(var o,s,a="",u=0,c=t.length;u<c;u++){var f=t.charAt(u);if(":"===f){if(""===a||a!=(o=Number(a)))return n(d,0,1);if(a!=(s=t.substr(u+1,o)).length)return n(d,0,1);if(s.length){if(i=e.decodePacket(s,r,!1),d.type===i.type&&d.data===i.data)return n(d,0,1);if(!1===n(i,u+o,c))return}u+=o,a=""}else a+=f}return""!==a?n(d,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,r){if(!t.length)return r(new ArrayBuffer(0));g(t,function(t,r){e.encodePacket(t,!0,!0,function(t){return r(null,t)})},function(t,e){var n=e.reduce(function(t,e){var r;return t+(r="string"==typeof e?e.length:e.byteLength).toString().length+r+2},0),i=new Uint8Array(n),o=0;return e.forEach(function(t){var e="string"==typeof t,r=t;if(e){for(var n=new Uint8Array(t.length),s=0;s<t.length;s++)n[s]=t.charCodeAt(s);r=n.buffer}i[o++]=e?0:1;var a=r.byteLength.toString();for(s=0;s<a.length;s++)i[o++]=parseInt(a[s]);i[o++]=255;for(n=new Uint8Array(r),s=0;s<n.length;s++)i[o++]=n[s]}),r(i.buffer)})},e.encodePayloadAsBlob=function(t,r){g(t,function(t,r){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);t=n.buffer,e[0]=0}var o=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),s=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)s[i]=parseInt(o[i]);if(s[o.length]=255,m){var a=new m([e.buffer,s.buffer,t]);r(null,a)}})},function(t,e){return r(new m(e))})},e.decodePayloadAsBinary=function(t,r,n){"function"==typeof r&&(n=r,r=null);for(var i=t,o=[];i.byteLength>0;){for(var a=new Uint8Array(i),u=0===a[0],c="",f=1;255!==a[f];f++){if(c.length>310)return n(d,0,1);c+=a[f]}i=s(i,2+c.length),c=parseInt(c);var l=s(i,0,c);if(u)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(t){var h=new Uint8Array(l);l="";for(f=0;f<h.length;f++)l+=String.fromCharCode(h[f])}o.push(l),i=s(i,c)}var p=o.length;o.forEach(function(t,i){n(e.decodePacket(t,r,!0),i,p)})}}).call(this,r(7))},function(t,e,r){function n(t){if(t)return function(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}(t)}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<n.length;i++)if((r=n[i])===e||r.fn===e){n.splice(i,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks["$"+t];if(r)for(var n=0,i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,e);return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,r){(function(n){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(1004)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++i)}),t.splice(o,0,n)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,r(2))},function(t,e,r){"use strict";const n=r(1050);e.logger=((t,e)=>{const r=["bitswap"];e&&r.push(e),t&&r.push(`${t.toB58String().slice(0,8)}`);const i=n(r.join(":"));return i.error=n(r.concat(["error"]).join(":")),i})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var n,i=r(1089),o=(n=i)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol;function a(t){return s&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return a(t)?(0,o.default)(t):t},e.isAsync=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(e=(0,o.default)(e||i.default),!(0,n.default)(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function c(e){var n=(0,u.default)(t[r++]);e.push((0,a.default)(f)),n.apply(null,e)}function f(n){if(n||r===t.length)return e.apply(null,arguments);c((0,s.default)(arguments,1))}c([])};var n=c(r(31)),i=c(r(4)),o=c(r(289)),s=c(r(187)),a=c(r(288)),u=c(r(119));function c(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";const n=e;n.bignum=r(19),n.define=r(1139).define,n.base=r(142),n.constants=r(493),n.decoders=r(1135),n.encoders=r(1133)},function(t,e,r){var n=r(11);r(13);var i=t.exports=n.pem=n.pem||{};function o(t){for(var e=t.name+": ",r=[],n=function(t,e){return" "+e},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+"\r\n";var o=0,s=-1;for(i=0;i<e.length;++i,++o)if(o>65&&-1!==s){var a=e[s];","===a?(++s,e=e.substr(0,s)+"\r\n "+e.substr(s)):e=e.substr(0,s)+"\r\n"+a+e.substr(s+1),o=i-s-1,s=-1,++i}else" "!==e[i]&&"\t"!==e[i]&&","!==e[i]||(s=i);return e}function s(t){return t.replace(/^\s+/,"")}i.encode=function(t,e){e=e||{};var r,i="-----BEGIN "+t.type+"-----\r\n";if(t.procType&&(i+=o(r={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]})),t.contentDomain&&(i+=o(r={name:"Content-Domain",values:[t.contentDomain]})),t.dekInfo&&(r={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&r.values.push(t.dekInfo.parameters),i+=o(r)),t.headers)for(var s=0;s<t.headers.length;++s)i+=o(t.headers[s]);return t.procType&&(i+="\r\n"),i+=n.util.encode64(t.body,e.maxline||64)+"\r\n",i+="-----END "+t.type+"-----\r\n"},i.decode=function(t){for(var e,r=[],i=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,o=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,a=/\r?\n/;e=i.exec(t);){var u={type:e[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:n.util.decode64(e[3])};if(r.push(u),e[2]){for(var c=e[2].split(a),f=0;e&&f<c.length;){for(var l=c[f].replace(/\s+$/,""),h=f+1;h<c.length;++h){var p=c[h];if(!/\s/.test(p[0]))break;l+=p,f=h}if(e=l.match(o)){for(var d={name:e[1],values:[]},m=e[2].split(","),g=0;g<m.length;++g)d.values.push(s(m[g]));if(u.procType)if(u.contentDomain||"Content-Domain"!==d.name)if(u.dekInfo||"DEK-Info"!==d.name)u.headers.push(d);else{if(0===d.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');u.dekInfo={algorithm:m[0],parameters:m[1]||null}}else u.contentDomain=m[0]||"";else{if("Proc-Type"!==d.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==d.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');u.procType={version:m[0],type:m[1]}}}++f}if("ENCRYPTED"===u.procType&&!u.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===r.length)throw new Error("Invalid PEM formatted message.");return r}},function(t,e,r){var n=e;n.utils=r(1181),n.common=r(1180),n.sha=r(1179),n.ripemd=r(1178),n.hmac=r(1177),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},function(t,e,r){"use strict";(function(e){var n=r(32),i=r(21),o=r(65).curves.secp256k1,s=o.curve.point.bind(o.curve),a=o.curve.pointFromX.bind(o.curve),u=function(t,e,r){var n=s(t,e,r);return n.validate(),n};u.prototype=Object.getPrototypeOf(o.curve.point()),u.fromX=function(t,e){var r=a(t,e);return r.validate(),r},u.getG=function(){return o.curve.g},u.getN=function(){return new n(o.curve.n.toArray())},u.prototype._getX=u.prototype.getX,u.prototype.getX=function(){return new n(this._getX().toArray())},u.prototype._getY=u.prototype.getY,u.prototype.getY=function(){return new n(this._getY().toArray())},u.prototype.validate=function(){if(this.isInfinity())throw new Error("Point cannot be equal to Infinity");if(0===this.getX().cmp(n.Zero)||0===this.getY().cmp(n.Zero))throw new Error("Invalid x,y value for curve, cannot equal 0.");if(0!==a(this.getY().isOdd(),this.getX()).y.cmp(this.y))throw new Error("Invalid y value for curve.");var t=this.getX().gt(n.Minus1)&&this.getX().lt(u.getN()),e=this.getY().gt(n.Minus1)&&this.getY().lt(u.getN());if(!t||!e)throw new Error("Point does not lie on the curve");if(!this.mul(u.getN()).isInfinity())throw new Error("Point times N must be infinity");return this},u.pointToCompressed=function(t){var r,n=t.getX().toBuffer({size:32}),o=t.getY().toBuffer({size:32}),s=o[o.length-1]%2;return r=new e(s?[3]:[2]),i.concat([r,n])},t.exports=u}).call(this,r(0).Buffer)},function(t,e,r){var n=r(51);function i(t){return n("rmd160").update(t).digest()}function o(t){return n("sha256").update(t).digest()}t.exports={hash160:function(t){return i(o(t))},hash256:function(t){return o(o(t))},ripemd160:i,sha1:function(t){return n("sha1").update(t).digest()},sha256:o}},function(t,e,r){"use strict";e.DAGNode=r(334),e.DAGLink=r(100),e.resolver=r(1290),e.util=r(333)},function(t,e,r){(function(e){t.exports=a;var n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e},i=r(42);i.inherits=r(6);var o=r(569),s=r(568);function a(t){if(!(this instanceof a))return new a(t);o.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",u)}function u(){this.allowHalfOpen||this._writableState.ended||e.nextTick(this.end.bind(this))}i.inherits(a,o),function(t,e){for(var r=0,n=t.length;r<n;r++)e(t[r],r)}(n(s.prototype),function(t){a.prototype[t]||(a.prototype[t]=s.prototype[t])})}).call(this,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var n,i=r(1375),o=(n=i)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol;function a(t){return s&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return a(t)?(0,o.default)(t):t},e.isAsync=a},function(t,e,r){var n=r(37),i=function(t){this.name=t.name,this.getter=t.getter,this.setter=t.setter,this.outputFormatter=t.outputFormatter,this.inputFormatter=t.inputFormatter,this.requestManager=null};i.prototype.setRequestManager=function(t){this.requestManager=t},i.prototype.formatInput=function(t){return this.inputFormatter?this.inputFormatter(t):t},i.prototype.formatOutput=function(t){return this.outputFormatter&&null!==t&&void 0!==t?this.outputFormatter(t):t},i.prototype.extractCallback=function(t){if(n.isFunction(t[t.length-1]))return t.pop()},i.prototype.attachToObject=function(t){var e={get:this.buildGet(),enumerable:!0},r=this.name.split("."),n=r[0];r.length>1&&(t[r[0]]=t[r[0]]||{},t=t[r[0]],n=r[1]),Object.defineProperty(t,n,e),t[o(n)]=this.buildAsyncGet()};var o=function(t){return"get"+t.charAt(0).toUpperCase()+t.slice(1)};i.prototype.buildGet=function(){var t=this;return function(){return t.formatOutput(t.requestManager.send({method:t.getter}))}},i.prototype.buildAsyncGet=function(){var t=this,e=function(e){t.requestManager.sendAsync({method:t.getter},function(r,n){e(r,t.formatOutput(n))})};return e.request=this.request.bind(this),e},i.prototype.request=function(){var t={method:this.getter,params:[],callback:this.extractCallback(Array.prototype.slice.call(arguments))};return t.format=this.formatOutput.bind(this),t},t.exports=i},function(t,e,r){var n,i,o,s,a,u,c,f;t.exports=(n=r(15),r(355),r(354),o=(i=n).lib,s=o.Base,a=o.WordArray,u=i.algo,c=u.MD5,f=u.EvpKDF=s.extend({cfg:s.extend({keySize:4,hasher:c,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,n=r.hasher.create(),i=a.create(),o=i.words,s=r.keySize,u=r.iterations;o.length<s;){c&&n.update(c);var c=n.update(t).finalize(e);n.reset();for(var f=1;f<u;f++)c=n.finalize(c),n.reset();i.concat(c)}return i.sigBytes=4*s,i}}),i.EvpKDF=function(t,e,r){return f.create(r).compute(t,e)},n.EvpKDF)},function(t,e,r){var n;t.exports=(n=r(15),function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,s=e.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var u=s.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,i=t[n];t[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=t[e+0],u=t[e+1],p=t[e+2],d=t[e+3],m=t[e+4],g=t[e+5],v=t[e+6],y=t[e+7],b=t[e+8],w=t[e+9],_=t[e+10],k=t[e+11],S=t[e+12],x=t[e+13],E=t[e+14],C=t[e+15],A=o[0],M=o[1],I=o[2],T=o[3];M=h(M=h(M=h(M=h(M=l(M=l(M=l(M=l(M=f(M=f(M=f(M=f(M=c(M=c(M=c(M=c(M,I=c(I,T=c(T,A=c(A,M,I,T,s,7,a[0]),M,I,u,12,a[1]),A,M,p,17,a[2]),T,A,d,22,a[3]),I=c(I,T=c(T,A=c(A,M,I,T,m,7,a[4]),M,I,g,12,a[5]),A,M,v,17,a[6]),T,A,y,22,a[7]),I=c(I,T=c(T,A=c(A,M,I,T,b,7,a[8]),M,I,w,12,a[9]),A,M,_,17,a[10]),T,A,k,22,a[11]),I=c(I,T=c(T,A=c(A,M,I,T,S,7,a[12]),M,I,x,12,a[13]),A,M,E,17,a[14]),T,A,C,22,a[15]),I=f(I,T=f(T,A=f(A,M,I,T,u,5,a[16]),M,I,v,9,a[17]),A,M,k,14,a[18]),T,A,s,20,a[19]),I=f(I,T=f(T,A=f(A,M,I,T,g,5,a[20]),M,I,_,9,a[21]),A,M,C,14,a[22]),T,A,m,20,a[23]),I=f(I,T=f(T,A=f(A,M,I,T,w,5,a[24]),M,I,E,9,a[25]),A,M,d,14,a[26]),T,A,b,20,a[27]),I=f(I,T=f(T,A=f(A,M,I,T,x,5,a[28]),M,I,p,9,a[29]),A,M,y,14,a[30]),T,A,S,20,a[31]),I=l(I,T=l(T,A=l(A,M,I,T,g,4,a[32]),M,I,b,11,a[33]),A,M,k,16,a[34]),T,A,E,23,a[35]),I=l(I,T=l(T,A=l(A,M,I,T,u,4,a[36]),M,I,m,11,a[37]),A,M,y,16,a[38]),T,A,_,23,a[39]),I=l(I,T=l(T,A=l(A,M,I,T,x,4,a[40]),M,I,s,11,a[41]),A,M,d,16,a[42]),T,A,v,23,a[43]),I=l(I,T=l(T,A=l(A,M,I,T,w,4,a[44]),M,I,S,11,a[45]),A,M,C,16,a[46]),T,A,p,23,a[47]),I=h(I,T=h(T,A=h(A,M,I,T,s,6,a[48]),M,I,y,10,a[49]),A,M,E,15,a[50]),T,A,g,21,a[51]),I=h(I,T=h(T,A=h(A,M,I,T,S,6,a[52]),M,I,d,10,a[53]),A,M,_,15,a[54]),T,A,u,21,a[55]),I=h(I,T=h(T,A=h(A,M,I,T,b,6,a[56]),M,I,C,10,a[57]),A,M,v,15,a[58]),T,A,x,21,a[59]),I=h(I,T=h(T,A=h(A,M,I,T,m,6,a[60]),M,I,k,10,a[61]),A,M,p,15,a[62]),T,A,w,21,a[63]),o[0]=o[0]+A|0,o[1]=o[1]+M|0,o[2]=o[2]+I|0,o[3]=o[3]+T|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;r[i>>>5]|=128<<24-i%32;var o=t.floor(n/4294967296),s=n;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,u=a.words,c=0;c<4;c++){var f=u[c];u[c]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}return a},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function c(t,e,r,n,i,o,s){var a=t+(e&r|~e&n)+i+s;return(a<<o|a>>>32-o)+e}function f(t,e,r,n,i,o,s){var a=t+(e&n|r&~n)+i+s;return(a<<o|a>>>32-o)+e}function l(t,e,r,n,i,o,s){var a=t+(e^r^n)+i+s;return(a<<o|a>>>32-o)+e}function h(t,e,r,n,i,o,s){var a=t+(r^(e|~n))+i+s;return(a<<o|a>>>32-o)+e}e.MD5=o._createHelper(u),e.HmacMD5=o._createHmacHelper(u)}(Math),n.MD5)},function(t,e,r){var n,i,o;t.exports=(n=r(15),o=(i=n).lib.WordArray,i.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var i=[],o=0;o<r;o+=3)for(var s=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<r;a++)i.push(n.charAt(s>>>6*(3-a)&63));var u=n.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(t){var e=t.length,r=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var i=0;i<r.length;i++)n[r.charCodeAt(i)]=i}var s=r.charAt(64);if(s){var a=t.indexOf(s);-1!==a&&(e=a)}return function(t,e,r){for(var n=[],i=0,s=0;s<e;s++)if(s%4){var a=r[t.charCodeAt(s-1)]<<s%4*2,u=r[t.charCodeAt(s)]>>>6-s%4*2;n[i>>>2]|=(a|u)<<24-i%4*8,i++}return o.create(n,i)}(t,e,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},n.enc.Base64)},function(t,e,r){var n=r(3).Buffer;function i(t,e){this._block=n.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}i.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=n.from(t,e));for(var r=this._block,i=this._blockSize,o=t.length,s=this._len,a=0;a<o;){for(var u=s%i,c=Math.min(o-a,i-u),f=0;f<c;f++)r[u+f]=t[a+f];a+=c,(s+=c)%i==0&&this._update(r)}return this._len+=o,this},i.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},function(t,e,r){"use strict";var n=r(9),i=r.n(n),o=r(27),s=r.n(o),a=r(5),u=r.n(a),c=r(1),f=r.n(c),l=r(90),h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var d=function(t){return 0===u.a.Children.count(t)},m=function(t){function e(){var r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n=p(this,t.call.apply(t,[this].concat(o))),n.state={match:n.computeMatch(n.props,n.context.router)},p(n,r)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getChildContext=function(){return{router:h({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},e.prototype.computeMatch=function(t,e){var r=t.computedMatch,n=t.location,i=t.path,o=t.strict,a=t.exact,u=t.sensitive;if(r)return r;s()(e,"You should not use <Route> or withRouter() outside a <Router>");var c=e.route,f=(n||c.location).pathname;return i?Object(l.a)(f,{path:i,strict:o,exact:a,sensitive:u}):c.match},e.prototype.componentWillMount=function(){i()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),i()(!(this.props.component&&this.props.children&&!d(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),i()(!(this.props.render&&this.props.children&&!d(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},e.prototype.componentWillReceiveProps=function(t,e){i()(!(t.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),i()(!(!t.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(t,e.router)})},e.prototype.render=function(){var t=this.state.match,e=this.props,r=e.children,n=e.component,i=e.render,o=this.context.router,s=o.history,a=o.route,c=o.staticContext,f={match:t,location:this.props.location||a.location,history:s,staticContext:c};return n?t?u.a.createElement(n,f):null:i?t?i(f):null:r?"function"==typeof r?r(f):d(r)?null:u.a.Children.only(r):null},e}(u.a.Component);m.propTypes={computedMatch:f.a.object,path:f.a.string,exact:f.a.bool,strict:f.a.bool,sensitive:f.a.bool,component:f.a.func,render:f.a.func,children:f.a.oneOfType([f.a.func,f.a.node]),location:f.a.object},m.contextTypes={router:f.a.shape({history:f.a.object.isRequired,route:f.a.object.isRequired,staticContext:f.a.object})},m.childContextTypes={router:f.a.object.isRequired},e.a=m},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=new(r(696))({html:!0,linkify:!0,typographer:!0,breaks:!0});n.inline.ruler.before("escape","tag",function(t,e){var r=null;if(t.src.startsWith("@{",t.pos)?r="mention":t.src.startsWith("#{",t.pos)&&(r="topic"),!r)return!1;for(var n="",i=-1,o=t.pos+2;o<t.src.length;){if(t.src.startsWith("}",o)){i=o;break}"\\"===t.src[o]&&(o+=1),o+=1}if(!(i>=0))return!1;if((n=t.src.slice(t.pos+2,i))&&!e){var s=t.push("tag");return s.content=n.trim(),s.tagMode=r,t.pos+=n.length+"#{}".length,!0}return!1}),n.renderer.rules.tag=function(t,e){var r=t[e]?t[e].content:null,n=t[e]?t[e].tagMode:null;return r&&n?"mention"===n?'<a class="tag tag-mention" data-mention="'+r+'">loading...</a>':"topic"===n?'<a class="tag tag-topic" data-topic="'+r+'">loading...</a>':'<a class="tag tag-error"  data-error="Invalid tag">loading...</a>':'<a class="tag tag-error" data-error="Invalid tag">lloading...</a>'},e.renderMarkdown=function(t){return n.render(t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){"use strict";const n=r(66);t.exports=n(r(842))},function(t,e,r){"use strict";const n=r(25),i=r(48),o=r(30),s=r(138);t.exports=function(t){function e(t,e,r){return r=r||(()=>{}),t.write(s.CircuitRelay.encode({type:s.CircuitRelay.Type.STATUS,code:e})),r()}return{getB58String:function(t){let e=null;n.isMultiaddr(t)?e=n(t).getPeerId():i.isPeerInfo(t)&&(e=t.id.toB58String());return e},peerInfoFromMa:function(e){let r;if(i.isPeerInfo(e))r=e;else if(n.isMultiaddr(e)){const n=e.getPeerId();try{r=t._peerBook.get(n)}catch(t){r=new i(o.createFromB58String(n))}r.multiaddrs.add(e)}else if(o.isPeerId(e)){const n=e.toB58String();r=t._peerBook.has(n)?t._peerBook.get(n):e}return r},isPeerConnected:function(e){return t.muxedConns[e]||t.conns[e]},validateAddrs:function(t,r,i,o){try{t.dstPeer.addrs.forEach(t=>n(t))}catch(t){return e(r,i===s.CircuitRelay.Type.HOP?s.CircuitRelay.Status.HOP_DST_MULTIADDR_INVALID:s.CircuitRelay.Status.STOP_DST_MULTIADDR_INVALID),o(t)}try{t.srcPeer.addrs.forEach(t=>n(t))}catch(t){return e(r,i===s.CircuitRelay.Type.HOP?s.CircuitRelay.Status.HOP_SRC_MULTIADDR_INVALID:s.CircuitRelay.Status.STOP_SRC_MULTIADDR_INVALID),o(t)}return o(null)},writeResponse:e}}},function(t,e,r){(function(n){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(882)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++i)}),t.splice(o,0,n)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,r(2))},function(t,e,r){(function(n){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(928)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++i)}),t.splice(o,0,n)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,r(2))},function(t,e,r){"use strict";const n=e;n.Reporter=r(1138).Reporter,n.DecoderBuffer=r(494).DecoderBuffer,n.EncoderBuffer=r(494).EncoderBuffer,n.Node=r(1137)},function(t,e,r){var n=r(11);r(72),r(13);var i=t.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=i,i.create=function(){s||(o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),64),s=!0);var t=null,e=n.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,o=0;o<r;++o)i.fullMessageLength.push(0);return e=n.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(o,s){"utf8"===s&&(o=n.util.encodeUtf8(o));var u=o.length;i.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=u[1],u[1]=u[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,u[0]=u[1]/4294967296>>>0;return e.putBytes(o),a(t,r,e),(e.read>2048||0===e.length())&&e.compact(),i},i.digest=function(){var s=n.util.createBuffer();s.putBytes(e.bytes());var u,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;s.putBytes(o.substr(0,i.blockLength-c));for(var f=8*i.fullMessageLength[0],l=0;l<i.fullMessageLength.length-1;++l)f+=(u=8*i.fullMessageLength[l+1])/4294967296>>>0,s.putInt32(f>>>0),f=u>>>0;s.putInt32(f);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};a(h,r,s);var p=n.util.createBuffer();return p.putInt32(h.h0),p.putInt32(h.h1),p.putInt32(h.h2),p.putInt32(h.h3),p.putInt32(h.h4),p},i};var o=null,s=!1;function a(t,e,r){for(var n,i,o,s,a,u,c,f=r.length();f>=64;){for(i=t.h0,o=t.h1,s=t.h2,a=t.h3,u=t.h4,c=0;c<16;++c)n=r.getInt32(),e[c]=n,n=(i<<5|i>>>27)+(a^o&(s^a))+u+1518500249+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<20;++c)n=(n=e[c-3]^e[c-8]^e[c-14]^e[c-16])<<1|n>>>31,e[c]=n,n=(i<<5|i>>>27)+(a^o&(s^a))+u+1518500249+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<32;++c)n=(n=e[c-3]^e[c-8]^e[c-14]^e[c-16])<<1|n>>>31,e[c]=n,n=(i<<5|i>>>27)+(o^s^a)+u+1859775393+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<40;++c)n=(n=e[c-6]^e[c-16]^e[c-28]^e[c-32])<<2|n>>>30,e[c]=n,n=(i<<5|i>>>27)+(o^s^a)+u+1859775393+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<60;++c)n=(n=e[c-6]^e[c-16]^e[c-28]^e[c-32])<<2|n>>>30,e[c]=n,n=(i<<5|i>>>27)+(o&s|a&(o^s))+u+2400959708+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<80;++c)n=(n=e[c-6]^e[c-16]^e[c-28]^e[c-32])<<2|n>>>30,e[c]=n,n=(i<<5|i>>>27)+(o^s^a)+u+3395469782+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+o|0,t.h2=t.h2+s|0,t.h3=t.h3+a|0,t.h4=t.h4+u|0,f-=64}}},function(t,e,r){var n=r(11);r(72),r(13),(t.exports=n.hmac=n.hmac||{}).create=function(){var t=null,e=null,r=null,i=null,o={start:function(o,s){if(null!==o)if("string"==typeof o){if(!((o=o.toLowerCase())in n.md.algorithms))throw new Error('Unknown hash algorithm "'+o+'"');e=n.md.algorithms[o].create()}else e=o;if(null===s)s=t;else{if("string"==typeof s)s=n.util.createBuffer(s);else if(n.util.isArray(s)){var a=s;s=n.util.createBuffer();for(var u=0;u<a.length;++u)s.putByte(a[u])}var c=s.length();c>e.blockLength&&(e.start(),e.update(s.bytes()),s=e.digest()),r=n.util.createBuffer(),i=n.util.createBuffer(),c=s.length();for(u=0;u<c;++u){a=s.at(u);r.putByte(54^a),i.putByte(92^a)}if(c<e.blockLength)for(a=e.blockLength-c,u=0;u<a;++u)r.putByte(54),i.putByte(92);t=s,r=r.bytes(),i=i.bytes()}e.start(),e.update(r)},update:function(t){e.update(t)},getMac:function(){var t=e.digest().bytes();return e.start(),e.update(i),e.update(t),e.digest()}};return o.digest=o.getMac,o}},function(t,e,r){t.exports=r(11),r(95),r(1149),r(73),r(298),r(498),r(191),r(1147),r(144),r(1146),r(496),r(1145),r(499),r(296),r(122),r(503),r(501),r(1144),r(509),r(502),r(505),r(294),r(56),r(504),r(1143),r(1142),r(510),r(13)},function(t,e,r){"use strict";(function(e){var n=r(14),i=r(16),o=r(74),s=r(21),a=r(28),u=r(64),c=r(59),f=r(58);function l(t){if(!(this instanceof l))return new l(t);if(t instanceof l)return t;if(n.isObject(t))return this._fromObject(t);throw new c.InvalidArgument("TransactionSignatures must be instantiated from an object")}o(l,f),l.prototype._fromObject=function(t){return this._checkObjectArgs(t),this.publicKey=new u(t.publicKey),this.prevTxId=s.isBuffer(t.prevTxId)?t.prevTxId:new e(t.prevTxId,"hex"),this.outputIndex=t.outputIndex,this.inputIndex=t.inputIndex,this.signature=t.signature instanceof f?t.signature:s.isBuffer(t.signature)?f.fromBuffer(t.signature):f.fromString(t.signature),this.sigtype=t.sigtype,this},l.prototype._checkObjectArgs=function(t){i.checkArgument(u(t.publicKey),"publicKey"),i.checkArgument(!n.isUndefined(t.inputIndex),"inputIndex"),i.checkArgument(!n.isUndefined(t.outputIndex),"outputIndex"),i.checkState(n.isNumber(t.inputIndex),"inputIndex must be a number"),i.checkState(n.isNumber(t.outputIndex),"outputIndex must be a number"),i.checkArgument(t.signature,"signature"),i.checkArgument(t.prevTxId,"prevTxId"),i.checkState(t.signature instanceof f||s.isBuffer(t.signature)||a.isHexa(t.signature),"signature must be a buffer or hexa value"),i.checkState(s.isBuffer(t.prevTxId)||a.isHexa(t.prevTxId),"prevTxId must be a buffer or hexa value"),i.checkArgument(t.sigtype,"sigtype"),i.checkState(n.isNumber(t.sigtype),"sigtype must be a number")},l.prototype.toObject=l.prototype.toJSON=function(){return{publicKey:this.publicKey.toString(),prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,inputIndex:this.inputIndex,signature:this.signature.toString(),sigtype:this.sigtype}},l.fromObject=function(t){return i.checkArgument(t),new l(t)},t.exports=l}).call(this,r(0).Buffer)},function(t,e,r){"use strict";var n=r(14),i=r(16),o=r(59),s=r(52),a=r(0),u=r(21),c=r(28),f=r(57),l=r(83),h=r(82);function p(t){return this instanceof p?t?this._fromObject(t):void 0:new p(t)}p.MAXINT=4294967295,p.DEFAULT_SEQNUMBER=4294967295,p.DEFAULT_LOCKTIME_SEQNUMBER=4294967294,p.DEFAULT_RBF_SEQNUMBER=4294967293,Object.defineProperty(p.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this.isNull()?null:(this._script||(this._script=new f(this._scriptBuffer),this._script._isInput=!0),this._script)}}),p.fromObject=function(t){return i.checkArgument(n.isObject(t)),(new p)._fromObject(t)},p.prototype._fromObject=function(t){var e;if(e=n.isString(t.prevTxId)&&c.isHexa(t.prevTxId)?new a.Buffer(t.prevTxId,"hex"):t.prevTxId,this.output=t.output?t.output instanceof h?t.output:new h(t.output):void 0,this.prevTxId=e||t.txidbuf,this.outputIndex=n.isUndefined(t.outputIndex)?t.txoutnum:t.outputIndex,this.sequenceNumber=n.isUndefined(t.sequenceNumber)?n.isUndefined(t.seqnum)?4294967295:t.seqnum:t.sequenceNumber,n.isUndefined(t.script)&&n.isUndefined(t.scriptBuffer))throw new o.Transaction.Input.MissingScript;return this.setScript(t.scriptBuffer||t.script),this},p.prototype.toObject=p.prototype.toJSON=function(){var t={prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,sequenceNumber:this.sequenceNumber,script:this._scriptBuffer.toString("hex")};return this.script&&(t.scriptString=this.script.toString()),this.output&&(t.output=this.output.toObject()),t},p.fromBufferReader=function(t){var e=new p;return e.prevTxId=t.readReverse(32),e.outputIndex=t.readUInt32LE(),e._scriptBuffer=t.readVarLengthBuffer(),e.sequenceNumber=t.readUInt32LE(),e},p.prototype.toBufferWriter=function(t){t||(t=new s),t.writeReverse(this.prevTxId),t.writeUInt32LE(this.outputIndex);var e=this._scriptBuffer;return t.writeVarintNum(e.length),t.write(e),t.writeUInt32LE(this.sequenceNumber),t},p.prototype.setScript=function(t){if(this._script=null,t instanceof f)this._script=t,this._script._isInput=!0,this._scriptBuffer=t.toBuffer();else if(c.isHexa(t))this._scriptBuffer=new a.Buffer(t,"hex");else if(n.isString(t))this._script=new f(t),this._script._isInput=!0,this._scriptBuffer=this._script.toBuffer();else{if(!u.isBuffer(t))throw new TypeError("Invalid argument type: script");this._scriptBuffer=new a.Buffer(t)}return this},p.prototype.getSignatures=function(){throw new o.AbstractMethodInvoked("Trying to sign unsupported output type (only P2PKH and P2SH multisig inputs are supported) for input: "+JSON.stringify(this))},p.prototype.isFullySigned=function(){throw new o.AbstractMethodInvoked("Input#isFullySigned")},p.prototype.isFinal=function(){return 4294967295!==this.sequenceNumber},p.prototype.addSignature=function(){throw new o.AbstractMethodInvoked("Input#addSignature")},p.prototype.clearSignatures=function(){throw new o.AbstractMethodInvoked("Input#clearSignatures")},p.prototype.isValidSignature=function(t,e){return e.signature.nhashtype=e.sigtype,l.verify(t,e.signature,e.publicKey,e.inputIndex,this.output.script)},p.prototype.isNull=function(){return"0000000000000000000000000000000000000000000000000000000000000000"===this.prevTxId.toString("hex")&&4294967295===this.outputIndex},p.prototype._estimateSize=function(){return this.toBufferWriter().toBuffer().length},t.exports=p},function(t,e,r){"use strict";(function(e){var n=r(14),i=r(195),o=r(0),s=r(40).sha256sha256,a=function t(r){if(!(this instanceof t))return new t(r);if(e.isBuffer(r)){var n=r;this.fromBuffer(n)}else if("string"==typeof r){var i=r;this.fromString(i)}else r&&this.set(r)};a.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this},a.validChecksum=function(t,e){return n.isString(t)&&(t=new o.Buffer(i.decode(t))),n.isString(e)&&(e=new o.Buffer(i.decode(e))),e||(e=t.slice(-4),t=t.slice(0,-4)),a.checksum(t).toString("hex")===e.toString("hex")},a.decode=function(t){if("string"!=typeof t)throw new Error("Input must be a string");var r=new e(i.decode(t));if(r.length<4)throw new Error("Input string too short");var n=r.slice(0,-4),o=r.slice(-4),a=s(n).slice(0,4);if(o.toString("hex")!==a.toString("hex"))throw new Error("Checksum mismatch");return n},a.checksum=function(t){return s(t).slice(0,4)},a.encode=function(t){if(!e.isBuffer(t))throw new Error("Input must be a buffer");var r=new e(t.length+4),n=a.checksum(t);return t.copy(r),n.copy(r,t.length),i.encode(r)},a.prototype.fromBuffer=function(t){return this.buf=t,this},a.prototype.fromString=function(t){var e=a.decode(t);return this.buf=e,this},a.prototype.toBuffer=function(){return this.buf},a.prototype.toString=function(){return a.encode(this.buf)},t.exports=a}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(313),i=r(528),o=r(527);t.exports=function(t,e,r){const s=o(t,e);return{resolver:{multicodec:t,resolve:u,tree:function(t,e,r){"function"==typeof e&&(r=e,e=void 0);e||(e={});n([e=>s.deserialize(t,e),(t,r)=>a(t,e,r)],r)},isLink:i(u),_resolveFromEthObject:c,_treeFromEthObject:a,_mapFromEthObject:r},util:s};function a(t,e,i){n([n=>r(t,e,n),(t,e)=>e(null,t.map(t=>t.path))],i)}function u(t,e,r){n([e=>s.deserialize(t,e),(t,r)=>c(t,e,r)],r)}function c(t,e,n){if(!e||"/"===e){const e={value:t,remainderPath:""};return n(null,e)}r(t,{},(t,r)=>{if(t)return n(t);const i=e.split("/");let o=r.filter(t=>t.path===e.slice(0,t.path.length));const s=(o=o.filter(t=>t.path.split("/").every((t,e)=>t===i[e]))).sort((t,e)=>t.path.length<e.path.length),a=s[0];if(!a){let t=new Error('Path not found ("'+e+'").');return n(t)}const u=e.slice(a.path.length+1),c={value:a.value,remainderPath:u};return n(null,c)})}}},function(t,e,r){"use strict";const n=r(18),i=r(38);t.exports=function(t,e){const r=i.encode(e,"keccak-256");return new n(1,t,r)}},function(t,e){t.exports={bitcoin:{messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},testnet:{messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},litecoin:{messagePrefix:"Litecoin Signed Message:\n",bip32:{public:27108450,private:27106558},pubKeyHash:48,scriptHash:50,wif:176}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e){t.exports=function(t){return t&&("string"==typeof t?function(e){return e[t]}:"object"==typeof t&&"function"==typeof t.exec?function(e){var r=t.exec(e);return r&&r[0]}:t)}},function(t,e,r){"use strict";t.exports=function(t,e){var r,n;function i(o){if(r=o,n)return i.abort();!function i(){for(var o=!0,s=!1;o;)if(s=!1,r(null,function(a,u){if(s=!0,a=a||n){if(o=!1,e)e(!0===a?null:a);else if(a&&!0!==a)throw a}else t&&!1===t(u)||n?(o=!1,r(n||!0,e||function(){})):o||i()}),!s)return void(o=!1)}()}return i.abort=function(t,e){if("function"==typeof t&&(e=t,t=!0),n=t||!0,r)return r(n,e||function(){})},i}},function(t,e){t.exports={InvalidNumberOfParams:function(){return new Error("Invalid number of input parameters")},InvalidConnection:function(t){return new Error("CONNECTION ERROR: Couldn't connect to node "+t+".")},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(t){var e=t&&t.error&&t.error.message?t.error.message:"Invalid JSON RPC response: "+JSON.stringify(t);return new Error(e)},ConnectionTimeout:function(t){return new Error("CONNECTION TIMEOUT: timeout of "+t+" ms achived")}}},function(t,e,r){var n=r(1523),i=r(613);t.exports=function(t,e){return e&&"hex"===e.encoding&&(t.length>2&&"0x"===t.substr(0,2)&&(t=t.substr(2)),t=n.enc.Hex.parse(t)),i(t,{outputLength:256}).toString()}},function(t,e,r){var n;/*! bignumber.js v2.0.7 https://github.com/MikeMcl/bignumber.js/LICENCE */!function(i){"use strict";var o,s,a,u=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,c=Math.ceil,f=Math.floor,l=" not a boolean or binary digit",h="rounding mode",p="number type has more than 15 significant digits",d="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",m=1e14,g=14,v=9007199254740991,y=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],b=1e7,w=1e9;function _(t){var e=0|t;return t>0||t===e?e:e-1}function k(t){for(var e,r,n=1,i=t.length,o=t[0]+"";n<i;){for(e=t[n++]+"",r=g-e.length;r--;e="0"+e);o+=e}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function S(t,e){var r,n,i=t.c,o=e.c,s=t.s,a=e.s,u=t.e,c=e.e;if(!s||!a)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=u==c,!i||!o)return n?0:!i^r?1:-1;if(!n)return u>c^r?1:-1;for(a=(u=i.length)<(c=o.length)?u:c,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^r?1:-1;return u==c?0:u>c^r?1:-1}function x(t,e,r){return(t=I(t))>=e&&t<=r}function E(t){return"[object Array]"==Object.prototype.toString.call(t)}function C(t,e,r){for(var n,i,o=[0],s=0,a=t.length;s<a;){for(i=o.length;i--;o[i]*=e);for(o[n=0]+=d.indexOf(t.charAt(s++));n<o.length;n++)o[n]>r-1&&(null==o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}function A(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function M(t,e){var r,n;if(e<0){for(n="0.";++e;n+="0");t=n+t}else if(++e>(r=t.length)){for(n="0",e-=r;--e;n+="0");t+=n}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}function I(t){return(t=parseFloat(t))<0?c(t):f(t)}o=function t(e){var r,n,i,o,T,O,B,P=0,N=Y.prototype,R=new Y(1),F=20,j=4,L=-7,D=21,U=-1e7,z=1e7,H=!0,K=J,q=!1,V=1,W=100,G={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0};function Y(t,e){var r,n,i,o,s,c,f=this;if(!(f instanceof Y))return H&&tt(26,"constructor call without new",t),new Y(t,e);if(null!=e&&K(e,2,64,P,"base")){if(c=t+"",10==(e|=0))return et(f=new Y(t instanceof Y?t:c),F+f.e+1,j);if((o="number"==typeof t)&&0*t!=0||!new RegExp("^-?"+(r="["+d.slice(0,e)+"]+")+"(?:\\."+r+")?$",e<37?"i":"").test(c))return a(f,c,o,e);o?(f.s=1/t<0?(c=c.slice(1),-1):1,H&&c.replace(/^0\.0*|\./,"").length>15&&tt(P,p,t),o=!1):f.s=45===c.charCodeAt(0)?(c=c.slice(1),-1):1,c=$(c,10,e,f.s)}else{if(t instanceof Y)return f.s=t.s,f.e=t.e,f.c=(t=t.c)?t.slice():t,void(P=0);if((o="number"==typeof t)&&0*t==0){if(f.s=1/t<0?(t=-t,-1):1,t===~~t){for(n=0,i=t;i>=10;i/=10,n++);return f.e=n,f.c=[t],void(P=0)}c=t+""}else{if(!u.test(c=t+""))return a(f,c,o);f.s=45===c.charCodeAt(0)?(c=c.slice(1),-1):1}}for((n=c.indexOf("."))>-1&&(c=c.replace(".","")),(i=c.search(/e/i))>0?(n<0&&(n=i),n+=+c.slice(i+1),c=c.substring(0,i)):n<0&&(n=c.length),i=0;48===c.charCodeAt(i);i++);for(s=c.length;48===c.charCodeAt(--s););if(c=c.slice(i,s+1))if(s=c.length,o&&H&&s>15&&tt(P,p,f.s*t),(n=n-i-1)>z)f.c=f.e=null;else if(n<U)f.c=[f.e=0];else{if(f.e=n,f.c=[],i=(n+1)%g,n<0&&(i+=g),i<s){for(i&&f.c.push(+c.slice(0,i)),s-=g;i<s;)f.c.push(+c.slice(i,i+=g));c=c.slice(i),i=g-c.length}else i-=s;for(;i--;c+="0");f.c.push(+c)}else f.c=[f.e=0];P=0}function $(t,e,n,i){var o,s,a,u,c,f,l,h=t.indexOf("."),p=F,m=j;for(n<37&&(t=t.toLowerCase()),h>=0&&(a=W,W=0,t=t.replace(".",""),c=(l=new Y(n)).pow(t.length-h),W=a,l.c=C(M(k(c.c),c.e),10,e),l.e=l.c.length),s=a=(f=C(t,n,e)).length;0==f[--a];f.pop());if(!f[0])return"0";if(h<0?--s:(c.c=f,c.e=s,c.s=i,f=(c=r(c,l,p,m,e)).c,u=c.r,s=c.e),h=f[o=s+p+1],a=e/2,u=u||o<0||null!=f[o+1],u=m<4?(null!=h||u)&&(0==m||m==(c.s<0?3:2)):h>a||h==a&&(4==m||u||6==m&&1&f[o-1]||m==(c.s<0?8:7)),o<1||!f[0])t=u?M("1",-p):"0";else{if(f.length=o,u)for(--e;++f[--o]>e;)f[o]=0,o||(++s,f.unshift(1));for(a=f.length;!f[--a];);for(h=0,t="";h<=a;t+=d.charAt(f[h++]));t=M(t,s)}return t}function Z(t,e,r,n){var i,o,s,a,u;if(r=null!=r&&K(r,0,8,n,h)?0|r:j,!t.c)return t.toString();if(i=t.c[0],s=t.e,null==e)u=k(t.c),u=19==n||24==n&&s<=L?A(u,s):M(u,s);else if(o=(t=et(new Y(t),e,r)).e,a=(u=k(t.c)).length,19==n||24==n&&(e<=o||o<=L)){for(;a<e;u+="0",a++);u=A(u,o)}else if(e-=s,u=M(u,o),o+1>a){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=o-a)>0)for(o+1==a&&(u+=".");e--;u+="0");return t.s<0&&i?"-"+u:u}function X(t,e){var r,n,i=0;for(E(t[0])&&(t=t[0]),r=new Y(t[0]);++i<t.length;){if(!(n=new Y(t[i])).s){r=n;break}e.call(r,n)&&(r=n)}return r}function J(t,e,r,n,i){return(t<e||t>r||t!=I(t))&&tt(n,(i||"decimal places")+(t<e||t>r?" out of range":" not an integer"),t),!0}function Q(t,e,r){for(var n=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,n++);return(r=n+r*g-1)>z?t.c=t.e=null:r<U?t.c=[t.e=0]:(t.e=r,t.c=e),t}function tt(t,e,r){var n=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][t]+"() "+e+": "+r);throw n.name="BigNumber Error",P=0,n}function et(t,e,r,n){var i,o,s,a,u,l,h,p=t.c,d=y;if(p){t:{for(i=1,a=p[0];a>=10;a/=10,i++);if((o=e-i)<0)o+=g,s=e,h=(u=p[l=0])/d[i-s-1]%10|0;else if((l=c((o+1)/g))>=p.length){if(!n)break t;for(;p.length<=l;p.push(0));u=h=0,i=1,s=(o%=g)-g+1}else{for(u=a=p[l],i=1;a>=10;a/=10,i++);h=(s=(o%=g)-g+i)<0?0:u/d[i-s-1]%10|0}if(n=n||e<0||null!=p[l+1]||(s<0?u:u%d[i-s-1]),n=r<4?(h||n)&&(0==r||r==(t.s<0?3:2)):h>5||5==h&&(4==r||n||6==r&&(o>0?s>0?u/d[i-s]:0:p[l-1])%10&1||r==(t.s<0?8:7)),e<1||!p[0])return p.length=0,n?(e-=t.e+1,p[0]=d[e%g],t.e=-e||0):p[0]=t.e=0,t;if(0==o?(p.length=l,a=1,l--):(p.length=l+1,a=d[g-o],p[l]=s>0?f(u/d[i-s]%d[s])*a:0),n)for(;;){if(0==l){for(o=1,s=p[0];s>=10;s/=10,o++);for(s=p[0]+=a,a=1;s>=10;s/=10,a++);o!=a&&(t.e++,p[0]==m&&(p[0]=1));break}if(p[l]+=a,p[l]!=m)break;p[l--]=0,a=1}for(o=p.length;0===p[--o];p.pop());}t.e>z?t.c=t.e=null:t.e<U&&(t.c=[t.e=0])}return t}return Y.another=t,Y.ROUND_UP=0,Y.ROUND_DOWN=1,Y.ROUND_CEIL=2,Y.ROUND_FLOOR=3,Y.ROUND_HALF_UP=4,Y.ROUND_HALF_DOWN=5,Y.ROUND_HALF_EVEN=6,Y.ROUND_HALF_CEIL=7,Y.ROUND_HALF_FLOOR=8,Y.EUCLID=9,Y.config=function(){var t,e,r=0,n={},i=arguments,o=i[0],a=o&&"object"==typeof o?function(){if(o.hasOwnProperty(e))return null!=(t=o[e])}:function(){if(i.length>r)return null!=(t=i[r++])};return a(e="DECIMAL_PLACES")&&K(t,0,w,2,e)&&(F=0|t),n[e]=F,a(e="ROUNDING_MODE")&&K(t,0,8,2,e)&&(j=0|t),n[e]=j,a(e="EXPONENTIAL_AT")&&(E(t)?K(t[0],-w,0,2,e)&&K(t[1],0,w,2,e)&&(L=0|t[0],D=0|t[1]):K(t,-w,w,2,e)&&(L=-(D=0|(t<0?-t:t)))),n[e]=[L,D],a(e="RANGE")&&(E(t)?K(t[0],-w,-1,2,e)&&K(t[1],1,w,2,e)&&(U=0|t[0],z=0|t[1]):K(t,-w,w,2,e)&&(0|t?U=-(z=0|(t<0?-t:t)):H&&tt(2,e+" cannot be zero",t))),n[e]=[U,z],a(e="ERRORS")&&(t===!!t||1===t||0===t?(P=0,K=(H=!!t)?J:x):H&&tt(2,e+l,t)),n[e]=H,a(e="CRYPTO")&&(t===!!t||1===t||0===t?(q=!(!t||!s||"object"!=typeof s),t&&!q&&H&&tt(2,"crypto unavailable",s)):H&&tt(2,e+l,t)),n[e]=q,a(e="MODULO_MODE")&&K(t,0,9,2,e)&&(V=0|t),n[e]=V,a(e="POW_PRECISION")&&K(t,0,w,2,e)&&(W=0|t),n[e]=W,a(e="FORMAT")&&("object"==typeof t?G=t:H&&tt(2,e+" not an object",t)),n[e]=G,n},Y.max=function(){return X(arguments,N.lt)},Y.min=function(){return X(arguments,N.gt)},Y.random=(n=9007199254740992*Math.random()&2097151?function(){return f(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,r,i,o,a,u=0,l=[],h=new Y(R);if(t=null!=t&&K(t,0,w,14)?0|t:F,o=c(t/g),q)if(s&&s.getRandomValues){for(e=s.getRandomValues(new Uint32Array(o*=2));u<o;)(a=131072*e[u]+(e[u+1]>>>11))>=9e15?(r=s.getRandomValues(new Uint32Array(2)),e[u]=r[0],e[u+1]=r[1]):(l.push(a%1e14),u+=2);u=o/2}else if(s&&s.randomBytes){for(e=s.randomBytes(o*=7);u<o;)(a=281474976710656*(31&e[u])+1099511627776*e[u+1]+4294967296*e[u+2]+16777216*e[u+3]+(e[u+4]<<16)+(e[u+5]<<8)+e[u+6])>=9e15?s.randomBytes(7).copy(e,u):(l.push(a%1e14),u+=7);u=o/7}else H&&tt(14,"crypto unavailable",s);if(!u)for(;u<o;)(a=n())<9e15&&(l[u++]=a%1e14);for(o=l[--u],t%=g,o&&t&&(a=y[g-t],l[u]=f(o/a)*a);0===l[u];l.pop(),u--);if(u<0)l=[i=0];else{for(i=-1;0===l[0];l.shift(),i-=g);for(u=1,a=l[0];a>=10;a/=10,u++);u<g&&(i-=g-u)}return h.e=i,h.c=l,h}),r=function(){function t(t,e,r){var n,i,o,s,a=0,u=t.length,c=e%b,f=e/b|0;for(t=t.slice();u--;)a=((i=c*(o=t[u]%b)+(n=f*o+(s=t[u]/b|0)*c)%b*b+a)/r|0)+(n/b|0)+f*s,t[u]=i%r;return a&&t.unshift(a),t}function e(t,e,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.shift());}return function(n,i,o,s,a){var u,c,l,h,p,d,v,y,b,w,k,S,x,E,C,A,M,I=n.s==i.s?1:-1,T=n.c,O=i.c;if(!(T&&T[0]&&O&&O[0]))return new Y(n.s&&i.s&&(T?!O||T[0]!=O[0]:O)?T&&0==T[0]||!O?0*I:I/0:NaN);for(b=(y=new Y(I)).c=[],I=o+(c=n.e-i.e)+1,a||(a=m,c=_(n.e/g)-_(i.e/g),I=I/g|0),l=0;O[l]==(T[l]||0);l++);if(O[l]>(T[l]||0)&&c--,I<0)b.push(1),h=!0;else{for(E=T.length,A=O.length,l=0,I+=2,(p=f(a/(O[0]+1)))>1&&(O=t(O,p,a),T=t(T,p,a),A=O.length,E=T.length),x=A,k=(w=T.slice(0,A)).length;k<A;w[k++]=0);(M=O.slice()).unshift(0),C=O[0],O[1]>=a/2&&C++;do{if(p=0,(u=e(O,w,A,k))<0){if(S=w[0],A!=k&&(S=S*a+(w[1]||0)),(p=f(S/C))>1)for(p>=a&&(p=a-1),v=(d=t(O,p,a)).length,k=w.length;1==e(d,w,v,k);)p--,r(d,A<v?M:O,v,a),v=d.length,u=1;else 0==p&&(u=p=1),v=(d=O.slice()).length;if(v<k&&d.unshift(0),r(w,d,k,a),k=w.length,-1==u)for(;e(O,w,A,k)<1;)p++,r(w,A<k?M:O,k,a),k=w.length}else 0===u&&(p++,w=[0]);b[l++]=p,w[0]?w[k++]=T[x]||0:(w=[T[x]],k=1)}while((x++<E||null!=w[0])&&I--);h=null!=w[0],b[0]||b.shift()}if(a==m){for(l=1,I=b[0];I>=10;I/=10,l++);et(y,o+(y.e=l+c*g-1)+1,s,h)}else y.e=c,y.r=+h;return y}}(),i=/^(-?)0([xbo])/i,o=/^([^.]+)\.$/,T=/^\.([^.]+)$/,O=/^-?(Infinity|NaN)$/,B=/^\s*\+|^\s+|\s+$/g,a=function(t,e,r,n){var s,a=r?e:e.replace(B,"");if(O.test(a))t.s=isNaN(a)?null:a<0?-1:1;else{if(!r&&(a=a.replace(i,function(t,e,r){return s="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=s?t:e}),n&&(s=n,a=a.replace(o,"$1").replace(T,"0.$1")),e!=a))return new Y(a,s);H&&tt(P,"not a"+(n?" base "+n:"")+" number",e),t.s=null}t.c=t.e=null,P=0},N.absoluteValue=N.abs=function(){var t=new Y(this);return t.s<0&&(t.s=1),t},N.ceil=function(){return et(new Y(this),this.e+1,2)},N.comparedTo=N.cmp=function(t,e){return P=1,S(this,new Y(t,e))},N.decimalPlaces=N.dp=function(){var t,e,r=this.c;if(!r)return null;if(t=((e=r.length-1)-_(this.e/g))*g,e=r[e])for(;e%10==0;e/=10,t--);return t<0&&(t=0),t},N.dividedBy=N.div=function(t,e){return P=3,r(this,new Y(t,e),F,j)},N.dividedToIntegerBy=N.divToInt=function(t,e){return P=4,r(this,new Y(t,e),0,1)},N.equals=N.eq=function(t,e){return P=5,0===S(this,new Y(t,e))},N.floor=function(){return et(new Y(this),this.e+1,3)},N.greaterThan=N.gt=function(t,e){return P=6,S(this,new Y(t,e))>0},N.greaterThanOrEqualTo=N.gte=function(t,e){return P=7,1===(e=S(this,new Y(t,e)))||0===e},N.isFinite=function(){return!!this.c},N.isInteger=N.isInt=function(){return!!this.c&&_(this.e/g)>this.c.length-2},N.isNaN=function(){return!this.s},N.isNegative=N.isNeg=function(){return this.s<0},N.isZero=function(){return!!this.c&&0==this.c[0]},N.lessThan=N.lt=function(t,e){return P=8,S(this,new Y(t,e))<0},N.lessThanOrEqualTo=N.lte=function(t,e){return P=9,-1===(e=S(this,new Y(t,e)))||0===e},N.minus=N.sub=function(t,e){var r,n,i,o,s=this,a=s.s;if(P=10,e=(t=new Y(t,e)).s,!a||!e)return new Y(NaN);if(a!=e)return t.s=-e,s.plus(t);var u=s.e/g,c=t.e/g,f=s.c,l=t.c;if(!u||!c){if(!f||!l)return f?(t.s=-e,t):new Y(l?s:NaN);if(!f[0]||!l[0])return l[0]?(t.s=-e,t):new Y(f[0]?s:3==j?-0:0)}if(u=_(u),c=_(c),f=f.slice(),a=u-c){for((o=a<0)?(a=-a,i=f):(c=u,i=l),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(n=(o=(a=f.length)<(e=l.length))?a:e,a=e=0;e<n;e++)if(f[e]!=l[e]){o=f[e]<l[e];break}if(o&&(i=f,f=l,l=i,t.s=-t.s),(e=(n=l.length)-(r=f.length))>0)for(;e--;f[r++]=0);for(e=m-1;n>a;){if(f[--n]<l[n]){for(r=n;r&&!f[--r];f[r]=e);--f[r],f[n]+=m}f[n]-=l[n]}for(;0==f[0];f.shift(),--c);return f[0]?Q(t,f,c):(t.s=3==j?-1:1,t.c=[t.e=0],t)},N.modulo=N.mod=function(t,e){var n,i,o=this;return P=11,t=new Y(t,e),!o.c||!t.s||t.c&&!t.c[0]?new Y(NaN):!t.c||o.c&&!o.c[0]?new Y(o):(9==V?(i=t.s,t.s=1,n=r(o,t,0,3),t.s=i,n.s*=i):n=r(o,t,0,V),o.minus(n.times(t)))},N.negated=N.neg=function(){var t=new Y(this);return t.s=-t.s||null,t},N.plus=N.add=function(t,e){var r,n=this,i=n.s;if(P=12,e=(t=new Y(t,e)).s,!i||!e)return new Y(NaN);if(i!=e)return t.s=-e,n.minus(t);var o=n.e/g,s=t.e/g,a=n.c,u=t.c;if(!o||!s){if(!a||!u)return new Y(i/0);if(!a[0]||!u[0])return u[0]?t:new Y(a[0]?n:0*i)}if(o=_(o),s=_(s),a=a.slice(),i=o-s){for(i>0?(s=o,r=u):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(e=u.length)<0&&(r=u,u=a,a=r,e=i),i=0;e;)i=(a[--e]=a[e]+u[e]+i)/m|0,a[e]%=m;return i&&(a.unshift(i),++s),Q(t,a,s)},N.precision=N.sd=function(t){var e,r,n=this,i=n.c;if(null!=t&&t!==!!t&&1!==t&&0!==t&&(H&&tt(13,"argument"+l,t),t!=!!t&&(t=null)),!i)return null;if(e=(r=i.length-1)*g+1,r=i[r]){for(;r%10==0;r/=10,e--);for(r=i[0];r>=10;r/=10,e++);}return t&&n.e+1>e&&(e=n.e+1),e},N.round=function(t,e){var r=new Y(this);return(null==t||K(t,0,w,15))&&et(r,~~t+this.e+1,null!=e&&K(e,0,8,15,h)?0|e:j),r},N.shift=function(t){var e=this;return K(t,-v,v,16,"argument")?e.times("1e"+I(t)):new Y(e.c&&e.c[0]&&(t<-v||t>v)?e.s*(t<0?0:1/0):e)},N.squareRoot=N.sqrt=function(){var t,e,n,i,o,s=this,a=s.c,u=s.s,c=s.e,f=F+4,l=new Y("0.5");if(1!==u||!a||!a[0])return new Y(!u||u<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(u=Math.sqrt(+s))||u==1/0?(((e=k(a)).length+c)%2==0&&(e+="0"),u=Math.sqrt(e),c=_((c+1)/2)-(c<0||c%2),n=new Y(e=u==1/0?"1e"+c:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+c)):n=new Y(u+""),n.c[0])for((u=(c=n.e)+f)<3&&(u=0);;)if(o=n,n=l.times(o.plus(r(s,o,f,1))),k(o.c).slice(0,u)===(e=k(n.c)).slice(0,u)){if(n.e<c&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(et(n,n.e+F+2,1),t=!n.times(n).eq(s));break}if(!i&&(et(o,o.e+F+2,0),o.times(o).eq(s))){n=o;break}f+=4,u+=4,i=1}return et(n,n.e+F+1,j,t)},N.times=N.mul=function(t,e){var r,n,i,o,s,a,u,c,f,l,h,p,d,v,y,w=this,k=w.c,S=(P=17,t=new Y(t,e)).c;if(!(k&&S&&k[0]&&S[0]))return!w.s||!t.s||k&&!k[0]&&!S||S&&!S[0]&&!k?t.c=t.e=t.s=null:(t.s*=w.s,k&&S?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=_(w.e/g)+_(t.e/g),t.s*=w.s,(u=k.length)<(l=S.length)&&(d=k,k=S,S=d,i=u,u=l,l=i),i=u+l,d=[];i--;d.push(0));for(v=m,y=b,i=l;--i>=0;){for(r=0,h=S[i]%y,p=S[i]/y|0,o=i+(s=u);o>i;)r=((c=h*(c=k[--s]%y)+(a=p*c+(f=k[s]/y|0)*h)%y*y+d[o]+r)/v|0)+(a/y|0)+p*f,d[o--]=c%v;d[o]=r}return r?++n:d.shift(),Q(t,d,n)},N.toDigits=function(t,e){var r=new Y(this);return t=null!=t&&K(t,1,w,18,"precision")?0|t:null,e=null!=e&&K(e,0,8,18,h)?0|e:j,t?et(r,t,e):r},N.toExponential=function(t,e){return Z(this,null!=t&&K(t,0,w,19)?1+~~t:null,e,19)},N.toFixed=function(t,e){return Z(this,null!=t&&K(t,0,w,20)?~~t+this.e+1:null,e,20)},N.toFormat=function(t,e){var r=Z(this,null!=t&&K(t,0,w,21)?~~t+this.e+1:null,e,21);if(this.c){var n,i=r.split("."),o=+G.groupSize,s=+G.secondaryGroupSize,a=G.groupSeparator,u=i[0],c=i[1],f=this.s<0,l=f?u.slice(1):u,h=l.length;if(s&&(n=o,o=s,s=n,h-=n),o>0&&h>0){for(n=h%o||o,u=l.substr(0,n);n<h;n+=o)u+=a+l.substr(n,o);s>0&&(u+=a+l.slice(n)),f&&(u="-"+u)}r=c?u+G.decimalSeparator+((s=+G.fractionGroupSize)?c.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+G.fractionGroupSeparator):c):u}return r},N.toFraction=function(t){var e,n,i,o,s,a,u,c,f,l=H,h=this,p=h.c,d=new Y(R),m=n=new Y(R),v=u=new Y(R);if(null!=t&&(H=!1,a=new Y(t),H=l,(l=a.isInt())&&!a.lt(R)||(H&&tt(22,"max denominator "+(l?"out of range":"not an integer"),t),t=!l&&a.c&&et(a,a.e+1,1).gte(R)?a:null)),!p)return h.toString();for(f=k(p),o=d.e=f.length-h.e-1,d.c[0]=y[(s=o%g)<0?g+s:s],t=!t||a.cmp(d)>0?o>0?d:m:a,s=z,z=1/0,a=new Y(f),u.c[0]=0;c=r(a,d,0,1),1!=(i=n.plus(c.times(v))).cmp(t);)n=v,v=i,m=u.plus(c.times(i=m)),u=i,d=a.minus(c.times(i=d)),a=i;return i=r(t.minus(n),v,0,1),u=u.plus(i.times(m)),n=n.plus(i.times(v)),u.s=m.s=h.s,e=r(m,v,o*=2,j).minus(h).abs().cmp(r(u,n,o,j).minus(h).abs())<1?[m.toString(),v.toString()]:[u.toString(),n.toString()],z=s,e},N.toNumber=function(){var t=this;return+t||(t.s?0*t.s:NaN)},N.toPower=N.pow=function(t){var e,r,n=f(t<0?-t:+t),i=this;if(!K(t,-v,v,23,"exponent")&&(!isFinite(t)||n>v&&(t/=0)||parseFloat(t)!=t&&!(t=NaN)))return new Y(Math.pow(+i,t));for(e=W?c(W/g+2):0,r=new Y(R);;){if(n%2){if(!(r=r.times(i)).c)break;e&&r.c.length>e&&(r.c.length=e)}if(!(n=f(n/2)))break;i=i.times(i),e&&i.c&&i.c.length>e&&(i.c.length=e)}return t<0&&(r=R.div(r)),e?et(r,W,j):r},N.toPrecision=function(t,e){return Z(this,null!=t&&K(t,1,w,24,"precision")?0|t:null,e,24)},N.toString=function(t){var e,r=this,n=r.s,i=r.e;return null===i?n?(e="Infinity",n<0&&(e="-"+e)):e="NaN":(e=k(r.c),e=null!=t&&K(t,2,64,25,"base")?$(M(e,i),0|t,10,n):i<=L||i>=D?A(e,i):M(e,i),n<0&&r.c[0]&&(e="-"+e)),e},N.truncated=N.trunc=function(){return et(new Y(this),this.e+1,1)},N.valueOf=N.toJSON=function(){return this.toString()},null!=e&&Y.config(e),Y}(),void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)}()},function(t,e,r){var n=e;n.Reporter=r(1569).Reporter,n.DecoderBuffer=r(630).DecoderBuffer,n.EncoderBuffer=r(630).EncoderBuffer,n.Node=r(1568)},function(t,e,r){var n=e;n.bignum=r(19),n.define=r(1570).define,n.base=r(159),n.constants=r(629),n.decoders=r(1566),n.encoders=r(1564)},function(t,e,r){"use strict";var n=r(67),i=r(49);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=o,o.prototype.update=function(t,e){if(t=n.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=n.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},o.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},o.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},function(t,e,r){(function(e){t.exports=function(t,r){for(var n=Math.min(t.length,r.length),i=new e(n),o=0;o<n;++o)i[o]=t[o]^r[o];return i}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";var n=r(6),i=r(1619),o=r(87),s=r(3).Buffer,a=r(647),u=r(363),c=r(362),f=s.alloc(128);function l(t,e){o.call(this,"digest"),"string"==typeof e&&(e=s.from(e));var r="sha512"===t||"sha384"===t?128:64;(this._alg=t,this._key=e,e.length>r)?e=("rmd160"===t?new u:c(t)).update(e).digest():e.length<r&&(e=s.concat([e,f],r));for(var n=this._ipad=s.allocUnsafe(r),i=this._opad=s.allocUnsafe(r),a=0;a<r;a++)n[a]=54^e[a],i[a]=92^e[a];this._hash="rmd160"===t?new u:c(t),this._hash.update(n)}n(l,o),l.prototype._update=function(t){this._hash.update(t)},l.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new u:c(this._alg)).update(this._opad).update(t).digest()},t.exports=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new l("rmd160",e):"md5"===t?new i(a,e):new l(t,e)}},function(t,e,r){"use strict";var n=r(1666),i=r(1665);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=b(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(c),l=["%","/","?",";","#"].concat(f),h=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(1664);function b(t,e,r){if(t&&i.isObject(t)&&t instanceof o)return t;var n=new o;return n.parse(t,e,r),n}o.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",c=t.split(a);c[0]=c[0].replace(/\\/g,"/");var b=t=c.join(a);if(b=b.trim(),!r&&1===t.split("#").length){var w=u.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var _=s.exec(b);if(_){var k=(_=_[0]).toLowerCase();this.protocol=k,b=b.substr(_.length)}if(r||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||_&&g[_]||(b=b.substr(2),this.slashes=!0)}if(!g[_]&&(S||_&&!v[_])){for(var x,E,C=-1,A=0;A<h.length;A++){-1!==(M=b.indexOf(h[A]))&&(-1===C||M<C)&&(C=M)}-1!==(E=-1===C?b.lastIndexOf("@"):b.lastIndexOf("@",C))&&(x=b.slice(0,E),b=b.slice(E+1),this.auth=decodeURIComponent(x)),C=-1;for(A=0;A<l.length;A++){var M;-1!==(M=b.indexOf(l[A]))&&(-1===C||M<C)&&(C=M)}-1===C&&(C=b.length),this.host=b.slice(0,C),b=b.slice(C),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var T=this.hostname.split(/\./),O=(A=0,T.length);A<O;A++){var B=T[A];if(B&&!B.match(p)){for(var P="",N=0,R=B.length;N<R;N++)B.charCodeAt(N)>127?P+="x":P+=B[N];if(!P.match(p)){var F=T.slice(0,A),j=T.slice(A+1),L=B.match(d);L&&(F.push(L[1]),j.unshift(L[2])),j.length&&(b="/"+j.join(".")+b),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=n.toASCII(this.hostname));var D=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+D,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[k])for(A=0,O=f.length;A<O;A++){var z=f[A];if(-1!==b.indexOf(z)){var H=encodeURIComponent(z);H===z&&(H=escape(z)),b=b.split(z).join(H)}}var K=b.indexOf("#");-1!==K&&(this.hash=b.substr(K),b=b.slice(0,K));var q=b.indexOf("?");if(-1!==q?(this.search=b.substr(q),this.query=b.substr(q+1),e&&(this.query=y.parse(this.query)),b=b.slice(0,q)):e&&(this.search="",this.query={}),b&&(this.pathname=b),v[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){D=this.pathname||"";var V=this.search||"";this.path=D+V}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=y.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||v[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+n},o.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var f=u[c];"protocol"!==f&&(r[f]=t[f])}return v[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!v[t.protocol]){for(var l=Object.keys(t),h=0;h<l.length;h++){var p=l[h];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||g[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",y=r.search||"";r.path=m+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),w=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=w||b||r.host&&t.pathname,k=_,S=r.pathname&&r.pathname.split("/")||[],x=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!v[r.protocol]);if(x&&(r.hostname="",r.port=null,r.host&&(""===S[0]?S[0]=r.host:S.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),_=_&&(""===d[0]||""===S[0])),w)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,S=d;else if(d.length)S||(S=[]),S.pop(),S=S.concat(d),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(x)r.hostname=r.host=S.shift(),(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift());return r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=S.slice(-1)[0],C=(r.host||t.host||S.length>1)&&("."===E||".."===E)||""===E,A=0,M=S.length;M>=0;M--)"."===(E=S[M])?S.splice(M,1):".."===E?(S.splice(M,1),A++):A&&(S.splice(M,1),A--);if(!_&&!k)for(;A--;A)S.unshift("..");!_||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),C&&"/"!==S.join("/").substr(-1)&&S.push("");var I,T=""===S[0]||S[0]&&"/"===S[0].charAt(0);x&&(r.hostname=r.host=T?"":S.length?S.shift():"",(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift()));return(_=_||r.host&&S.length)&&!T&&S.unshift(""),S.length?r.pathname=S.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,s,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var c in r=Object(arguments[u]))i.call(r,c)&&(a[c]=r[c]);if(n){s=n(r);for(var f=0;f<s.length;f++)o.call(r,s[f])&&(a[s[f]]=r[s[f]])}}return a}},function(t,e,r){"use strict";r.r(e);var n=r(9),i=r.n(n),o=r(27),s=r.n(o),a=r(373),u=r(372),c=function(t){return"/"===t.charAt(0)?t:"/"+t},f=function(t){return"/"===t.charAt(0)?t.substr(1):t},l=function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)},h=function(t,e){return l(t,e)?t.substr(e.length):t},p=function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},d=function(t){var e=t||"/",r="",n="",i=e.indexOf("#");-1!==i&&(n=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(r=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===r?"":r,hash:"#"===n?"":n}},m=function(t){var e=t.pathname,r=t.search,n=t.hash,i=e||"/";return r&&"?"!==r&&(i+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(i+="#"===n.charAt(0)?n:"#"+n),i},g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v=function(t,e,r,n){var i=void 0;"string"==typeof t?(i=d(t)).state=e:(void 0===(i=g({},t)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==e&&void 0===i.state&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return r&&(i.key=r),n?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=Object(a.default)(i.pathname,n.pathname)):i.pathname=n.pathname:i.pathname||(i.pathname="/"),i},y=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&Object(u.default)(t.state,e.state)},b=function(){var t=null,e=[];return{setPrompt:function(e){return i()(null==t,"A history supports only one prompt at a time"),t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,r,n,o){if(null!=t){var s="function"==typeof t?t(e,r):t;"string"==typeof s?"function"==typeof n?n(s,o):(i()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==s)}else o(!0)},appendListener:function(t){var r=!0,n=function(){r&&t.apply(void 0,arguments)};return e.push(n),function(){r=!1,e=e.filter(function(t){return t!==n})}},notifyListeners:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];e.forEach(function(t){return t.apply(void 0,r)})}}},w=!("undefined"==typeof window||!window.document||!window.document.createElement),_=function(t,e,r){return t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent("on"+e,r)},k=function(t,e,r){return t.removeEventListener?t.removeEventListener(e,r,!1):t.detachEvent("on"+e,r)},S=function(t,e){return e(window.confirm(t))},x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C=function(){try{return window.history.state||{}}catch(t){return{}}},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(w,"Browser history needs a DOM");var e,r=window.history,n=(-1===(e=window.navigator.userAgent).indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),a=t.forceRefresh,u=void 0!==a&&a,f=t.getUserConfirmation,d=void 0===f?S:f,g=t.keyLength,y=void 0===g?6:g,A=t.basename?p(c(t.basename)):"",M=function(t){var e=t||{},r=e.key,n=e.state,o=window.location,s=o.pathname+o.search+o.hash;return i()(!A||l(s,A),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+s+'" to begin with "'+A+'".'),A&&(s=h(s,A)),v(s,n,r)},I=function(){return Math.random().toString(36).substr(2,y)},T=b(),O=function(t){E(q,t),q.length=r.length,T.notifyListeners(q.location,q.action)},B=function(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||R(M(t.state))},P=function(){R(M(C()))},N=!1,R=function(t){N?(N=!1,O()):T.confirmTransitionTo(t,"POP",d,function(e){e?O({action:"POP",location:t}):F(t)})},F=function(t){var e=q.location,r=L.indexOf(e.key);-1===r&&(r=0);var n=L.indexOf(t.key);-1===n&&(n=0);var i=r-n;i&&(N=!0,U(i))},j=M(C()),L=[j.key],D=function(t){return A+m(t)},U=function(t){r.go(t)},z=0,H=function(t){1===(z+=t)?(_(window,"popstate",B),o&&_(window,"hashchange",P)):0===z&&(k(window,"popstate",B),o&&k(window,"hashchange",P))},K=!1,q={length:r.length,action:"POP",location:j,createHref:D,push:function(t,e){i()(!("object"===(void 0===t?"undefined":x(t))&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o=v(t,e,I(),q.location);T.confirmTransitionTo(o,"PUSH",d,function(t){if(t){var e=D(o),s=o.key,a=o.state;if(n)if(r.pushState({key:s,state:a},null,e),u)window.location.href=e;else{var c=L.indexOf(q.location.key),f=L.slice(0,-1===c?0:c+1);f.push(o.key),L=f,O({action:"PUSH",location:o})}else i()(void 0===a,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=e}})},replace:function(t,e){i()(!("object"===(void 0===t?"undefined":x(t))&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o=v(t,e,I(),q.location);T.confirmTransitionTo(o,"REPLACE",d,function(t){if(t){var e=D(o),s=o.key,a=o.state;if(n)if(r.replaceState({key:s,state:a},null,e),u)window.location.replace(e);else{var c=L.indexOf(q.location.key);-1!==c&&(L[c]=o.key),O({action:"REPLACE",location:o})}else i()(void 0===a,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(e)}})},go:U,goBack:function(){return U(-1)},goForward:function(){return U(1)},block:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=T.setPrompt(t);return K||(H(1),K=!0),function(){return K&&(K=!1,H(-1)),e()}},listen:function(t){var e=T.appendListener(t);return H(1),function(){H(-1),e()}}};return q},M=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+f(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:f,decodePath:c},slash:{encodePath:c,decodePath:c}},T=function(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)},O=function(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)},B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(w,"Hash history needs a DOM");var e=window.history,r=-1===window.navigator.userAgent.indexOf("Firefox"),n=t.getUserConfirmation,o=void 0===n?S:n,a=t.hashType,u=void 0===a?"slash":a,f=t.basename?p(c(t.basename)):"",d=I[u],g=d.encodePath,x=d.decodePath,E=function(){var t=x(T());return i()(!f||l(t,f),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+f+'".'),f&&(t=h(t,f)),v(t)},C=b(),A=function(t){M(V,t),V.length=e.length,C.notifyListeners(V.location,V.action)},B=!1,P=null,N=function(){var t=T(),e=g(t);if(t!==e)O(e);else{var r=E(),n=V.location;if(!B&&y(n,r))return;if(P===m(r))return;P=null,R(r)}},R=function(t){B?(B=!1,A()):C.confirmTransitionTo(t,"POP",o,function(e){e?A({action:"POP",location:t}):F(t)})},F=function(t){var e=V.location,r=U.lastIndexOf(m(e));-1===r&&(r=0);var n=U.lastIndexOf(m(t));-1===n&&(n=0);var i=r-n;i&&(B=!0,z(i))},j=T(),L=g(j);j!==L&&O(L);var D=E(),U=[m(D)],z=function(t){i()(r,"Hash history go(n) causes a full page reload in this browser"),e.go(t)},H=0,K=function(t){1===(H+=t)?_(window,"hashchange",N):0===H&&k(window,"hashchange",N)},q=!1,V={length:e.length,action:"POP",location:D,createHref:function(t){return"#"+g(f+m(t))},push:function(t,e){i()(void 0===e,"Hash history cannot push state; it is ignored");var r=v(t,void 0,void 0,V.location);C.confirmTransitionTo(r,"PUSH",o,function(t){if(t){var e=m(r),n=g(f+e);if(T()!==n){P=e,function(t){window.location.hash=t}(n);var o=U.lastIndexOf(m(V.location)),s=U.slice(0,-1===o?0:o+1);s.push(e),U=s,A({action:"PUSH",location:r})}else i()(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),A()}})},replace:function(t,e){i()(void 0===e,"Hash history cannot replace state; it is ignored");var r=v(t,void 0,void 0,V.location);C.confirmTransitionTo(r,"REPLACE",o,function(t){if(t){var e=m(r),n=g(f+e);T()!==n&&(P=e,O(n));var i=U.indexOf(m(V.location));-1!==i&&(U[i]=e),A({action:"REPLACE",location:r})}})},go:z,goBack:function(){return z(-1)},goForward:function(){return z(1)},block:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=C.setPrompt(t);return q||(K(1),q=!0),function(){return q&&(q=!1,K(-1)),e()}},listen:function(t){var e=C.appendListener(t);return K(1),function(){K(-1),e()}}};return V},P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R=function(t,e,r){return Math.min(Math.max(t,e),r)},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.getUserConfirmation,r=t.initialEntries,n=void 0===r?["/"]:r,o=t.initialIndex,s=void 0===o?0:o,a=t.keyLength,u=void 0===a?6:a,c=b(),f=function(t){N(y,t),y.length=y.entries.length,c.notifyListeners(y.location,y.action)},l=function(){return Math.random().toString(36).substr(2,u)},h=R(s,0,n.length-1),p=n.map(function(t){return v(t,void 0,"string"==typeof t?l():t.key||l())}),d=m,g=function(t){var r=R(y.index+t,0,y.entries.length-1),n=y.entries[r];c.confirmTransitionTo(n,"POP",e,function(t){t?f({action:"POP",location:n,index:r}):f()})},y={length:p.length,action:"POP",location:p[h],index:h,entries:p,createHref:d,push:function(t,r){i()(!("object"===(void 0===t?"undefined":P(t))&&void 0!==t.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var n=v(t,r,l(),y.location);c.confirmTransitionTo(n,"PUSH",e,function(t){if(t){var e=y.index+1,r=y.entries.slice(0);r.length>e?r.splice(e,r.length-e,n):r.push(n),f({action:"PUSH",location:n,index:e,entries:r})}})},replace:function(t,r){i()(!("object"===(void 0===t?"undefined":P(t))&&void 0!==t.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var n=v(t,r,l(),y.location);c.confirmTransitionTo(n,"REPLACE",e,function(t){t&&(y.entries[y.index]=n,f({action:"REPLACE",location:n}))})},go:g,goBack:function(){return g(-1)},goForward:function(){return g(1)},canGo:function(t){var e=y.index+t;return e>=0&&e<y.entries.length},block:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return c.setPrompt(t)},listen:function(t){return c.appendListener(t)}};return y};r.d(e,"createBrowserHistory",function(){return A}),r.d(e,"createHashHistory",function(){return B}),r.d(e,"createMemoryHistory",function(){return F}),r.d(e,"createLocation",function(){return v}),r.d(e,"locationsAreEqual",function(){return y}),r.d(e,"parsePath",function(){return d}),r.d(e,"createPath",function(){return m})},function(t,e,r){t.exports=function(){"use strict";var t=navigator.userAgent,e=navigator.platform,r=/gecko\/\d/i.test(t),n=/MSIE \d/.test(t),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),o=/Edge\/(\d+)/.exec(t),s=n||i||o,a=s&&(n?document.documentMode||6:+(o||i)[1]),u=!o&&/WebKit\//.test(t),c=u&&/Qt\/\d+\.\d+/.test(t),f=!o&&/Chrome\//.test(t),l=/Opera\//.test(t),h=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),d=/PhantomJS/.test(t),m=!o&&/AppleWebKit/.test(t)&&/Mobile\/\w+/.test(t),g=/Android/.test(t),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),y=m||/Mac/.test(e),b=/\bCrOS\b/.test(t),w=/win/i.test(e),_=l&&t.match(/Version\/(\d*\.\d*)/);_&&(_=Number(_[1])),_&&_>=15&&(l=!1,u=!0);var k=y&&(c||l&&(null==_||_<12.11)),S=r||s&&a>=9;function x(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var E,C=function(t,e){var r=t.className,n=x(e).exec(r);if(n){var i=r.slice(n.index+n[0].length);t.className=r.slice(0,n.index)+(i?n[1]+i:"")}};function A(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function M(t,e){return A(t).appendChild(e)}function I(t,e,r,n){var i=document.createElement(t);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof e)i.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)i.appendChild(e[o]);return i}function T(t,e,r,n){var i=I(t,e,r,n);return i.setAttribute("role","presentation"),i}function O(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function B(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function P(t,e){var r=t.className;x(e).test(r)||(t.className+=(r?" ":"")+e)}function N(t,e){for(var r=t.split(" "),n=0;n<r.length;n++)r[n]&&!x(r[n]).test(e)&&(e+=" "+r[n]);return e}E=document.createRange?function(t,e,r,n){var i=document.createRange();return i.setEnd(n||t,r),i.setStart(t,e),i}:function(t,e,r){var n=document.body.createTextRange();try{n.moveToElementText(t.parentNode)}catch(t){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",e),n};var R=function(t){t.select()};function F(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function j(t,e,r){for(var n in e||(e={}),t)!t.hasOwnProperty(n)||!1===r&&e.hasOwnProperty(n)||(e[n]=t[n]);return e}function L(t,e,r,n,i){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var o=n||0,s=i||0;;){var a=t.indexOf("\t",o);if(a<0||a>=e)return s+(e-o);s+=a-o,s+=r-s%r,o=a+1}}m?R=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:s&&(R=function(t){try{t.select()}catch(t){}});var D=function(){this.id=null};function U(t,e){for(var r=0;r<t.length;++r)if(t[r]==e)return r;return-1}D.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var z=30,H={toString:function(){return"CodeMirror.Pass"}},K={scroll:!1},q={origin:"*mouse"},V={origin:"+move"};function W(t,e,r){for(var n=0,i=0;;){var o=t.indexOf("\t",n);-1==o&&(o=t.length);var s=o-n;if(o==t.length||i+s>=e)return n+Math.min(s,e-i);if(i+=o-n,n=o+1,(i+=r-i%r)>=e)return n}}var G=[""];function Y(t){for(;G.length<=t;)G.push($(G)+" ");return G[t]}function $(t){return t[t.length-1]}function Z(t,e){for(var r=[],n=0;n<t.length;n++)r[n]=e(t[n],n);return r}function X(){}function J(t,e){var r;return Object.create?r=Object.create(t):(X.prototype=t,r=new X),e&&j(e,r),r}var Q=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function tt(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Q.test(t))}function et(t,e){return e?!!(e.source.indexOf("\\w")>-1&&tt(t))||e.test(t):tt(t)}function rt(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var nt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function it(t){return t.charCodeAt(0)>=768&&nt.test(t)}function ot(t,e,r){for(;(r<0?e>0:e<t.length)&&it(t.charAt(e));)e+=r;return e}function st(t,e,r){for(var n=e>r?-1:1;;){if(e==r)return e;var i=(e+r)/2,o=n<0?Math.ceil(i):Math.floor(i);if(o==e)return t(o)?e:r;t(o)?r=o:e=o+n}}function at(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var r=t;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(e<o){r=i;break}e-=o}return r.lines[e]}function ut(t,e,r){var n=[],i=e.line;return t.iter(e.line,r.line+1,function(t){var o=t.text;i==r.line&&(o=o.slice(0,r.ch)),i==e.line&&(o=o.slice(e.ch)),n.push(o),++i}),n}function ct(t,e,r){var n=[];return t.iter(e,r,function(t){n.push(t.text)}),n}function ft(t,e){var r=e-t.height;if(r)for(var n=t;n;n=n.parent)n.height+=r}function lt(t){if(null==t.parent)return null;for(var e=t.parent,r=U(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var i=0;n.children[i]!=e;++i)r+=n.children[i].chunkSize();return r+e.first}function ht(t,e){var r=t.first;t:do{for(var n=0;n<t.children.length;++n){var i=t.children[n],o=i.height;if(e<o){t=i;continue t}e-=o,r+=i.chunkSize()}return r}while(!t.lines);for(var s=0;s<t.lines.length;++s){var a=t.lines[s],u=a.height;if(e<u)break;e-=u}return r+s}function pt(t,e){return e>=t.first&&e<t.first+t.size}function dt(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function mt(t,e,r){if(void 0===r&&(r=null),!(this instanceof mt))return new mt(t,e,r);this.line=t,this.ch=e,this.sticky=r}function gt(t,e){return t.line-e.line||t.ch-e.ch}function vt(t,e){return t.sticky==e.sticky&&0==gt(t,e)}function yt(t){return mt(t.line,t.ch)}function bt(t,e){return gt(t,e)<0?e:t}function wt(t,e){return gt(t,e)<0?t:e}function _t(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function kt(t,e){if(e.line<t.first)return mt(t.first,0);var r=t.first+t.size-1;return e.line>r?mt(r,at(t,r).text.length):function(t,e){var r=t.ch;return null==r||r>e?mt(t.line,e):r<0?mt(t.line,0):t}(e,at(t,e.line).text.length)}function St(t,e){for(var r=[],n=0;n<e.length;n++)r[n]=kt(t,e[n]);return r}var xt=!1,Et=!1;function Ct(t,e,r){this.marker=t,this.from=e,this.to=r}function At(t,e){if(t)for(var r=0;r<t.length;++r){var n=t[r];if(n.marker==e)return n}}function Mt(t,e){for(var r,n=0;n<t.length;++n)t[n]!=e&&(r||(r=[])).push(t[n]);return r}function It(t,e){if(e.full)return null;var r=pt(t,e.from.line)&&at(t,e.from.line).markedSpans,n=pt(t,e.to.line)&&at(t,e.to.line).markedSpans;if(!r&&!n)return null;var i=e.from.ch,o=e.to.ch,s=0==gt(e.from,e.to),a=function(t,e,r){var n;if(t)for(var i=0;i<t.length;++i){var o=t[i],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);if(a||o.from==e&&"bookmark"==s.type&&(!r||!o.marker.insertLeft)){var u=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);(n||(n=[])).push(new Ct(s,o.from,u?null:o.to))}}return n}(r,i,s),u=function(t,e,r){var n;if(t)for(var i=0;i<t.length;++i){var o=t[i],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);if(a||o.from==e&&"bookmark"==s.type&&(!r||o.marker.insertLeft)){var u=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);(n||(n=[])).push(new Ct(s,u?null:o.from-e,null==o.to?null:o.to-e))}}return n}(n,o,s),c=1==e.text.length,f=$(e.text).length+(c?i:0);if(a)for(var l=0;l<a.length;++l){var h=a[l];if(null==h.to){var p=At(u,h.marker);p?c&&(h.to=null==p.to?null:p.to+f):h.to=i}}if(u)for(var d=0;d<u.length;++d){var m=u[d];if(null!=m.to&&(m.to+=f),null==m.from){var g=At(a,m.marker);g||(m.from=f,c&&(a||(a=[])).push(m))}else m.from+=f,c&&(a||(a=[])).push(m)}a&&(a=Tt(a)),u&&u!=a&&(u=Tt(u));var v=[a];if(!c){var y,b=e.text.length-2;if(b>0&&a)for(var w=0;w<a.length;++w)null==a[w].to&&(y||(y=[])).push(new Ct(a[w].marker,null,null));for(var _=0;_<b;++_)v.push(y);v.push(u)}return v}function Tt(t){for(var e=0;e<t.length;++e){var r=t[e];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function Ot(t){var e=t.markedSpans;if(e){for(var r=0;r<e.length;++r)e[r].marker.detachLine(t);t.markedSpans=null}}function Bt(t,e){if(e){for(var r=0;r<e.length;++r)e[r].marker.attachLine(t);t.markedSpans=e}}function Pt(t){return t.inclusiveLeft?-1:0}function Nt(t){return t.inclusiveRight?1:0}function Rt(t,e){var r=t.lines.length-e.lines.length;if(0!=r)return r;var n=t.find(),i=e.find(),o=gt(n.from,i.from)||Pt(t)-Pt(e);if(o)return-o;var s=gt(n.to,i.to)||Nt(t)-Nt(e);return s||e.id-t.id}function Ft(t,e){var r,n=Et&&t.markedSpans;if(n)for(var i=void 0,o=0;o<n.length;++o)(i=n[o]).marker.collapsed&&null==(e?i.from:i.to)&&(!r||Rt(r,i.marker)<0)&&(r=i.marker);return r}function jt(t){return Ft(t,!0)}function Lt(t){return Ft(t,!1)}function Dt(t,e,r,n,i){var o=at(t,e),s=Et&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var u=s[a];if(u.marker.collapsed){var c=u.marker.find(0),f=gt(c.from,r)||Pt(u.marker)-Pt(i),l=gt(c.to,n)||Nt(u.marker)-Nt(i);if(!(f>=0&&l<=0||f<=0&&l>=0)&&(f<=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?gt(c.to,r)>=0:gt(c.to,r)>0)||f>=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?gt(c.from,n)<=0:gt(c.from,n)<0)))return!0}}}function Ut(t){for(var e;e=jt(t);)t=e.find(-1,!0).line;return t}function zt(t,e){var r=at(t,e),n=Ut(r);return r==n?e:lt(n)}function Ht(t,e){if(e>t.lastLine())return e;var r,n=at(t,e);if(!Kt(t,n))return e;for(;r=Lt(n);)n=r.find(1,!0).line;return lt(n)+1}function Kt(t,e){var r=Et&&e.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)if((n=r[i]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&qt(t,e,n))return!0}}function qt(t,e,r){if(null==r.to){var n=r.marker.find(1,!0);return qt(t,n.line,At(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==e.text.length)return!0;for(var i=void 0,o=0;o<e.markedSpans.length;++o)if((i=e.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&qt(t,e,i))return!0}function Vt(t){for(var e=0,r=(t=Ut(t)).parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==t)break;e+=i.height}for(var o=r.parent;o;o=(r=o).parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==r)break;e+=a.height}return e}function Wt(t){if(0==t.height)return 0;for(var e,r=t.text.length,n=t;e=jt(n);){var i=e.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=t;e=Lt(n);){var o=e.find(0,!0);r-=n.text.length-o.from.ch,n=o.to.line,r+=n.text.length-o.to.ch}return r}function Gt(t){var e=t.display,r=t.doc;e.maxLine=at(r,r.first),e.maxLineLength=Wt(e.maxLine),e.maxLineChanged=!0,r.iter(function(t){var r=Wt(t);r>e.maxLineLength&&(e.maxLineLength=r,e.maxLine=t)})}var Yt=null;function $t(t,e,r){var n;Yt=null;for(var i=0;i<t.length;++i){var o=t[i];if(o.from<e&&o.to>e)return i;o.to==e&&(o.from!=o.to&&"before"==r?n=i:Yt=i),o.from==e&&(o.from!=o.to&&"before"!=r?n=i:Yt=i)}return null!=n?n:Yt}var Zt=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",e="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,n=/[stwN]/,i=/[LRr]/,o=/[Lb1n]/,s=/[1n]/;function a(t,e,r){this.level=t,this.from=e,this.to=r}return function(u,c){var f,l="ltr"==c?"L":"R";if(0==u.length||"ltr"==c&&!r.test(u))return!1;for(var h=u.length,p=[],d=0;d<h;++d)p.push((f=u.charCodeAt(d))<=247?t.charAt(f):1424<=f&&f<=1524?"R":1536<=f&&f<=1785?e.charAt(f-1536):1774<=f&&f<=2220?"r":8192<=f&&f<=8203?"w":8204==f?"b":"L");for(var m=0,g=l;m<h;++m){var v=p[m];"m"==v?p[m]=g:g=v}for(var y=0,b=l;y<h;++y){var w=p[y];"1"==w&&"r"==b?p[y]="n":i.test(w)&&(b=w,"r"==w&&(p[y]="R"))}for(var _=1,k=p[0];_<h-1;++_){var S=p[_];"+"==S&&"1"==k&&"1"==p[_+1]?p[_]="1":","!=S||k!=p[_+1]||"1"!=k&&"n"!=k||(p[_]=k),k=S}for(var x=0;x<h;++x){var E=p[x];if(","==E)p[x]="N";else if("%"==E){var C=void 0;for(C=x+1;C<h&&"%"==p[C];++C);for(var A=x&&"!"==p[x-1]||C<h&&"1"==p[C]?"1":"N",M=x;M<C;++M)p[M]=A;x=C-1}}for(var I=0,T=l;I<h;++I){var O=p[I];"L"==T&&"1"==O?p[I]="L":i.test(O)&&(T=O)}for(var B=0;B<h;++B)if(n.test(p[B])){var P=void 0;for(P=B+1;P<h&&n.test(p[P]);++P);for(var N="L"==(B?p[B-1]:l),R="L"==(P<h?p[P]:l),F=N==R?N?"L":"R":l,j=B;j<P;++j)p[j]=F;B=P-1}for(var L,D=[],U=0;U<h;)if(o.test(p[U])){var z=U;for(++U;U<h&&o.test(p[U]);++U);D.push(new a(0,z,U))}else{var H=U,K=D.length;for(++U;U<h&&"L"!=p[U];++U);for(var q=H;q<U;)if(s.test(p[q])){H<q&&D.splice(K,0,new a(1,H,q));var V=q;for(++q;q<U&&s.test(p[q]);++q);D.splice(K,0,new a(2,V,q)),H=q}else++q;H<U&&D.splice(K,0,new a(1,H,U))}return"ltr"==c&&(1==D[0].level&&(L=u.match(/^\s+/))&&(D[0].from=L[0].length,D.unshift(new a(0,0,L[0].length))),1==$(D).level&&(L=u.match(/\s+$/))&&($(D).to-=L[0].length,D.push(new a(0,h-L[0].length,h)))),"rtl"==c?D.reverse():D}}();function Xt(t,e){var r=t.order;return null==r&&(r=t.order=Zt(t.text,e)),r}var Jt=[],Qt=function(t,e,r){if(t.addEventListener)t.addEventListener(e,r,!1);else if(t.attachEvent)t.attachEvent("on"+e,r);else{var n=t._handlers||(t._handlers={});n[e]=(n[e]||Jt).concat(r)}};function te(t,e){return t._handlers&&t._handlers[e]||Jt}function ee(t,e,r){if(t.removeEventListener)t.removeEventListener(e,r,!1);else if(t.detachEvent)t.detachEvent("on"+e,r);else{var n=t._handlers,i=n&&n[e];if(i){var o=U(i,r);o>-1&&(n[e]=i.slice(0,o).concat(i.slice(o+1)))}}}function re(t,e){var r=te(t,e);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function ne(t,e,r){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),re(t,r||e.type,t,e),ce(e)||e.codemirrorIgnore}function ie(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var r=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),n=0;n<e.length;++n)-1==U(r,e[n])&&r.push(e[n])}function oe(t,e){return te(t,e).length>0}function se(t){t.prototype.on=function(t,e){Qt(this,t,e)},t.prototype.off=function(t,e){ee(this,t,e)}}function ae(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function ue(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function ce(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function fe(t){ae(t),ue(t)}function le(t){return t.target||t.srcElement}function he(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),y&&t.ctrlKey&&1==e&&(e=3),e}var pe,de,me=function(){if(s&&a<9)return!1;var t=I("div");return"draggable"in t||"dragDrop"in t}();function ge(t){if(null==pe){var e=I("span","​");M(t,I("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(pe=e.offsetWidth<=1&&e.offsetHeight>2&&!(s&&a<8))}var r=pe?I("span","​"):I("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function ve(t){if(null!=de)return de;var e=M(t,document.createTextNode("AخA")),r=E(e,0,1).getBoundingClientRect(),n=E(e,1,2).getBoundingClientRect();return A(t),!(!r||r.left==r.right)&&(de=n.right-r.right<3)}var ye,be=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,r=[],n=t.length;e<=n;){var i=t.indexOf("\n",e);-1==i&&(i=t.length);var o=t.slice(e,"\r"==t.charAt(i-1)?i-1:i),s=o.indexOf("\r");-1!=s?(r.push(o.slice(0,s)),e+=s+1):(r.push(o),e=i+1)}return r}:function(t){return t.split(/\r\n?|\n/)},we=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},_e="oncopy"in(ye=I("div"))||(ye.setAttribute("oncopy","return;"),"function"==typeof ye.oncopy),ke=null,Se={},xe={};function Ee(t){if("string"==typeof t&&xe.hasOwnProperty(t))t=xe[t];else if(t&&"string"==typeof t.name&&xe.hasOwnProperty(t.name)){var e=xe[t.name];"string"==typeof e&&(e={name:e}),(t=J(e,t)).name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return Ee("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return Ee("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function Ce(t,e){e=Ee(e);var r=Se[e.name];if(!r)return Ce(t,"text/plain");var n=r(t,e);if(Ae.hasOwnProperty(e.name)){var i=Ae[e.name];for(var o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=e.name,e.helperType&&(n.helperType=e.helperType),e.modeProps)for(var s in e.modeProps)n[s]=e.modeProps[s];return n}var Ae={};function Me(t,e){var r=Ae.hasOwnProperty(t)?Ae[t]:Ae[t]={};j(e,r)}function Ie(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var r={};for(var n in e){var i=e[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function Te(t,e){for(var r;t.innerMode&&(r=t.innerMode(e))&&r.mode!=t;)e=r.state,t=r.mode;return r||{mode:t,state:e}}function Oe(t,e,r){return!t.startState||t.startState(e,r)}var Be=function(t,e,r){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};Be.prototype.eol=function(){return this.pos>=this.string.length},Be.prototype.sol=function(){return this.pos==this.lineStart},Be.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Be.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Be.prototype.eat=function(t){var e=this.string.charAt(this.pos);if("string"==typeof t?e==t:e&&(t.test?t.test(e):t(e)))return++this.pos,e},Be.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Be.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Be.prototype.skipToEnd=function(){this.pos=this.string.length},Be.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Be.prototype.backUp=function(t){this.pos-=t},Be.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=L(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?L(this.string,this.lineStart,this.tabSize):0)},Be.prototype.indentation=function(){return L(this.string,null,this.tabSize)-(this.lineStart?L(this.string,this.lineStart,this.tabSize):0)},Be.prototype.match=function(t,e,r){if("string"!=typeof t){var n=this.string.slice(this.pos).match(t);return n&&n.index>0?null:(n&&!1!==e&&(this.pos+=n[0].length),n)}var i=function(t){return r?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);if(i(o)==i(t))return!1!==e&&(this.pos+=t.length),!0},Be.prototype.current=function(){return this.string.slice(this.start,this.pos)},Be.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Be.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Be.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var Pe=function(t,e){this.state=t,this.lookAhead=e},Ne=function(t,e,r,n){this.state=e,this.doc=t,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function Re(t,e,r,n){var i=[t.state.modeGen],o={};qe(t,e.text,t.doc.mode,r,function(t,e){return i.push(t,e)},o,n);for(var s=r.state,a=function(n){r.baseTokens=i;var a=t.state.overlays[n],u=1,c=0;r.state=!0,qe(t,e.text,a.mode,r,function(t,e){for(var r=u;c<t;){var n=i[u];n>t&&i.splice(u,1,t,i[u+1],n),u+=2,c=Math.min(t,n)}if(e)if(a.opaque)i.splice(r,u-r,t,"overlay "+e),u=r+2;else for(;r<u;r+=2){var o=i[r+1];i[r+1]=(o?o+" ":"")+"overlay "+e}},o),r.state=s,r.baseTokens=null,r.baseTokenPos=1},u=0;u<t.state.overlays.length;++u)a(u);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Fe(t,e,r){if(!e.styles||e.styles[0]!=t.state.modeGen){var n=je(t,lt(e)),i=e.text.length>t.options.maxHighlightLength&&Ie(t.doc.mode,n.state),o=Re(t,e,n);i&&(n.state=i),e.stateAfter=n.save(!i),e.styles=o.styles,o.classes?e.styleClasses=o.classes:e.styleClasses&&(e.styleClasses=null),r===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function je(t,e,r){var n=t.doc,i=t.display;if(!n.mode.startState)return new Ne(n,!0,e);var o=function(t,e,r){for(var n,i,o=t.doc,s=r?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>s;--a){if(a<=o.first)return o.first;var u=at(o,a-1),c=u.stateAfter;if(c&&(!r||a+(c instanceof Pe?c.lookAhead:0)<=o.modeFrontier))return a;var f=L(u.text,null,t.options.tabSize);(null==i||n>f)&&(i=a-1,n=f)}return i}(t,e,r),s=o>n.first&&at(n,o-1).stateAfter,a=s?Ne.fromSaved(n,s,o):new Ne(n,Oe(n.mode),o);return n.iter(o,e,function(r){Le(t,r.text,a);var n=a.line;r.stateAfter=n==e-1||n%5==0||n>=i.viewFrom&&n<i.viewTo?a.save():null,a.nextLine()}),r&&(n.modeFrontier=a.line),a}function Le(t,e,r,n){var i=t.doc.mode,o=new Be(e,t.options.tabSize,r);for(o.start=o.pos=n||0,""==e&&De(i,r.state);!o.eol();)Ue(i,o,r.state),o.start=o.pos}function De(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var r=Te(t,e);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Ue(t,e,r,n){for(var i=0;i<10;i++){n&&(n[0]=Te(t,r).mode);var o=t.token(e,r);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}Ne.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return null!=e&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},Ne.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},Ne.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Ne.fromSaved=function(t,e,r){return e instanceof Pe?new Ne(t,Ie(t.mode,e.state),r,e.lookAhead):new Ne(t,Ie(t.mode,e),r)},Ne.prototype.save=function(t){var e=!1!==t?Ie(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Pe(e,this.maxLookAhead):e};var ze=function(t,e,r){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=r};function He(t,e,r,n){var i,o=t.doc,s=o.mode;e=kt(o,e);var a,u=at(o,e.line),c=je(t,e.line,r),f=new Be(u.text,t.options.tabSize,c);for(n&&(a=[]);(n||f.pos<e.ch)&&!f.eol();)f.start=f.pos,i=Ue(s,f,c.state),n&&a.push(new ze(f,i,Ie(o.mode,c.state)));return n?a:new ze(f,i,c.state)}function Ke(t,e){if(t)for(;;){var r=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;t=t.slice(0,r.index)+t.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==e[n]?e[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(e[n])||(e[n]+=" "+r[2])}return t}function qe(t,e,r,n,i,o,s){var a=r.flattenSpans;null==a&&(a=t.options.flattenSpans);var u,c=0,f=null,l=new Be(e,t.options.tabSize,n),h=t.options.addModeClass&&[null];for(""==e&&Ke(De(r,n.state),o);!l.eol();){if(l.pos>t.options.maxHighlightLength?(a=!1,s&&Le(t,e,n,l.pos),l.pos=e.length,u=null):u=Ke(Ue(r,l,n.state,h),o),h){var p=h[0].name;p&&(u="m-"+(u?p+" "+u:p))}if(!a||f!=u){for(;c<l.start;)c=Math.min(l.start,c+5e3),i(c,f);f=u}l.start=l.pos}for(;c<l.pos;){var d=Math.min(l.pos,c+5e3);i(d,f),c=d}}var Ve=function(t,e,r){this.text=t,Bt(this,e),this.height=r?r(this):1};function We(t){t.parent=null,Ot(t)}Ve.prototype.lineNo=function(){return lt(this)},se(Ve);var Ge={},Ye={};function $e(t,e){if(!t||/^\s*$/.test(t))return null;var r=e.addModeClass?Ye:Ge;return r[t]||(r[t]=t.replace(/\S+/g,"cm-$&"))}function Ze(t,e){var r=T("span",null,null,u?"padding-right: .1px":null),n={pre:T("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:(s||u)&&t.getOption("lineWrapping")};e.measure={};for(var i=0;i<=(e.rest?e.rest.length:0);i++){var o=i?e.rest[i-1]:e.line,a=void 0;n.pos=0,n.addToken=Je,ve(t.display.measure)&&(a=Xt(o,t.doc.direction))&&(n.addToken=Qe(n.addToken,a)),n.map=[];var c=e!=t.display.externalMeasured&&lt(o);er(o,n,Fe(t,o,c)),o.styleClasses&&(o.styleClasses.bgClass&&(n.bgClass=N(o.styleClasses.bgClass,n.bgClass||"")),o.styleClasses.textClass&&(n.textClass=N(o.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(ge(t.display.measure))),0==i?(e.measure.map=n.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(n.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(u){var f=n.content.lastChild;(/\bcm-tab\b/.test(f.className)||f.querySelector&&f.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return re(t,"renderLine",t,e.line,n.pre),n.pre.className&&(n.textClass=N(n.pre.className,n.textClass||"")),n}function Xe(t){var e=I("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function Je(t,e,r,n,i,o,u){if(e){var c,f=t.splitSpaces?function(t,e){if(t.length>1&&!/  /.test(t))return t;for(var r=e,n="",i=0;i<t.length;i++){var o=t.charAt(i);" "!=o||!r||i!=t.length-1&&32!=t.charCodeAt(i+1)||(o=" "),n+=o,r=" "==o}return n}(e,t.trailingSpace):e,l=t.cm.state.specialChars,h=!1;if(l.test(e)){c=document.createDocumentFragment();for(var p=0;;){l.lastIndex=p;var d=l.exec(e),m=d?d.index-p:e.length-p;if(m){var g=document.createTextNode(f.slice(p,p+m));s&&a<9?c.appendChild(I("span",[g])):c.appendChild(g),t.map.push(t.pos,t.pos+m,g),t.col+=m,t.pos+=m}if(!d)break;p+=m+1;var v=void 0;if("\t"==d[0]){var y=t.cm.options.tabSize,b=y-t.col%y;(v=c.appendChild(I("span",Y(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),t.col+=b}else"\r"==d[0]||"\n"==d[0]?((v=c.appendChild(I("span","\r"==d[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",d[0]),t.col+=1):((v=t.cm.options.specialCharPlaceholder(d[0])).setAttribute("cm-text",d[0]),s&&a<9?c.appendChild(I("span",[v])):c.appendChild(v),t.col+=1);t.map.push(t.pos,t.pos+1,v),t.pos++}}else t.col+=e.length,c=document.createTextNode(f),t.map.push(t.pos,t.pos+e.length,c),s&&a<9&&(h=!0),t.pos+=e.length;if(t.trailingSpace=32==f.charCodeAt(e.length-1),r||n||i||h||u){var w=r||"";n&&(w+=n),i&&(w+=i);var _=I("span",[c],w,u);return o&&(_.title=o),t.content.appendChild(_)}t.content.appendChild(c)}}function Qe(t,e){return function(r,n,i,o,s,a,u){i=i?i+" cm-force-border":"cm-force-border";for(var c=r.pos,f=c+n.length;;){for(var l=void 0,h=0;h<e.length&&!((l=e[h]).to>c&&l.from<=c);h++);if(l.to>=f)return t(r,n,i,o,s,a,u);t(r,n.slice(0,l.to-c),i,o,null,a,u),o=null,n=n.slice(l.to-c),c=l.to}}}function tr(t,e,r,n){var i=!n&&r.widgetNode;i&&t.map.push(t.pos,t.pos+e,i),!n&&t.cm.display.input.needsContentAttribute&&(i||(i=t.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(t.cm.display.input.setUneditable(i),t.content.appendChild(i)),t.pos+=e,t.trailingSpace=!1}function er(t,e,r){var n=t.markedSpans,i=t.text,o=0;if(n)for(var s,a,u,c,f,l,h,p=i.length,d=0,m=1,g="",v=0;;){if(v==d){u=c=f=l=a="",h=null,v=1/0;for(var y=[],b=void 0,w=0;w<n.length;++w){var _=n[w],k=_.marker;"bookmark"==k.type&&_.from==d&&k.widgetNode?y.push(k):_.from<=d&&(null==_.to||_.to>d||k.collapsed&&_.to==d&&_.from==d)?(null!=_.to&&_.to!=d&&v>_.to&&(v=_.to,c=""),k.className&&(u+=" "+k.className),k.css&&(a=(a?a+";":"")+k.css),k.startStyle&&_.from==d&&(f+=" "+k.startStyle),k.endStyle&&_.to==v&&(b||(b=[])).push(k.endStyle,_.to),k.title&&!l&&(l=k.title),k.collapsed&&(!h||Rt(h.marker,k)<0)&&(h=_)):_.from>d&&v>_.from&&(v=_.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==v&&(c+=" "+b[S]);if(!h||h.from==d)for(var x=0;x<y.length;++x)tr(e,0,y[x]);if(h&&(h.from||0)==d){if(tr(e,(null==h.to?p+1:h.to)-d,h.marker,null==h.from),null==h.to)return;h.to==d&&(h=!1)}}if(d>=p)break;for(var E=Math.min(p,v);;){if(g){var C=d+g.length;if(!h){var A=C>E?g.slice(0,E-d):g;e.addToken(e,A,s?s+u:u,f,d+A.length==v?c:"",l,a)}if(C>=E){g=g.slice(E-d),d=E;break}d=C,f=""}g=i.slice(o,o=r[m++]),s=$e(r[m++],e.cm.options)}}else for(var M=1;M<r.length;M+=2)e.addToken(e,i.slice(o,o=r[M]),$e(r[M+1],e.cm.options))}function rr(t,e,r){this.line=e,this.rest=function(t){for(var e,r;e=Lt(t);)t=e.find(1,!0).line,(r||(r=[])).push(t);return r}(e),this.size=this.rest?lt($(this.rest))-r+1:1,this.node=this.text=null,this.hidden=Kt(t,e)}function nr(t,e,r){for(var n,i=[],o=e;o<r;o=n){var s=new rr(t.doc,at(t.doc,o),o);n=o+s.size,i.push(s)}return i}var ir=null,or=null;function sr(t,e){var r=te(t,e);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);ir?n=ir.delayedCallbacks:or?n=or:(n=or=[],setTimeout(ar,0));for(var o=function(t){n.push(function(){return r[t].apply(null,i)})},s=0;s<r.length;++s)o(s)}}function ar(){var t=or;or=null;for(var e=0;e<t.length;++e)t[e]()}function ur(t,e,r,n){for(var i=0;i<e.changes.length;i++){var o=e.changes[i];"text"==o?lr(t,e):"gutter"==o?pr(t,e,r,n):"class"==o?hr(t,e):"widget"==o&&dr(t,e,n)}e.changes=null}function cr(t){return t.node==t.text&&(t.node=I("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),s&&a<8&&(t.node.style.zIndex=2)),t.node}function fr(t,e){var r=t.display.externalMeasured;return r&&r.line==e.line?(t.display.externalMeasured=null,e.measure=r.measure,r.built):Ze(t,e)}function lr(t,e){var r=e.text.className,n=fr(t,e);e.text==e.node&&(e.node=n.pre),e.text.parentNode.replaceChild(n.pre,e.text),e.text=n.pre,n.bgClass!=e.bgClass||n.textClass!=e.textClass?(e.bgClass=n.bgClass,e.textClass=n.textClass,hr(t,e)):r&&(e.text.className=r)}function hr(t,e){!function(t,e){var r=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),e.background)r?e.background.className=r:(e.background.parentNode.removeChild(e.background),e.background=null);else if(r){var n=cr(e);e.background=n.insertBefore(I("div",null,r),n.firstChild),t.display.input.setUneditable(e.background)}}(t,e),e.line.wrapClass?cr(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var r=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=r||""}function pr(t,e,r,n){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var i=cr(e);e.gutterBackground=I("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),i.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var s=cr(e),a=e.gutter=I("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(t.display.input.setUneditable(a),s.insertBefore(a,e.text),e.line.gutterClass&&(a.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=a.appendChild(I("div",dt(t.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var u=0;u<t.options.gutters.length;++u){var c=t.options.gutters[u],f=o.hasOwnProperty(c)&&o[c];f&&a.appendChild(I("div",[f],"CodeMirror-gutter-elt","left: "+n.gutterLeft[c]+"px; width: "+n.gutterWidth[c]+"px"))}}}function dr(t,e,r){e.alignable&&(e.alignable=null);for(var n=e.node.firstChild,i=void 0;n;n=i)i=n.nextSibling,"CodeMirror-linewidget"==n.className&&e.node.removeChild(n);gr(t,e,r)}function mr(t,e,r,n){var i=fr(t,e);return e.text=e.node=i.pre,i.bgClass&&(e.bgClass=i.bgClass),i.textClass&&(e.textClass=i.textClass),hr(t,e),pr(t,e,r,n),gr(t,e,n),e.node}function gr(t,e,r){if(vr(t,e.line,e,r,!0),e.rest)for(var n=0;n<e.rest.length;n++)vr(t,e.rest[n],e,r,!1)}function vr(t,e,r,n,i){if(e.widgets)for(var o=cr(r),s=0,a=e.widgets;s<a.length;++s){var u=a[s],c=I("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),yr(u,c,r,n),t.display.input.setUneditable(c),i&&u.above?o.insertBefore(c,r.gutter||r.text):o.appendChild(c),sr(u,"redraw")}}function yr(t,e,r,n){if(t.noHScroll){(r.alignable||(r.alignable=[])).push(e);var i=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(i-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=i+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function br(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!O(document.body,t.node)){var r="position: relative;";t.coverGutter&&(r+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(r+="width: "+e.display.wrapper.clientWidth+"px;"),M(e.display.measure,I("div",[t.node],null,r))}return t.height=t.node.parentNode.offsetHeight}function wr(t,e){for(var r=le(e);r!=t.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==t.sizer&&r!=t.mover)return!0}function _r(t){return t.lineSpace.offsetTop}function kr(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Sr(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=M(t.measure,I("pre","x")),r=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(t.cachedPaddingH=n),n}function xr(t){return z-t.display.nativeBarWidth}function Er(t){return t.display.scroller.clientWidth-xr(t)-t.display.barWidth}function Cr(t){return t.display.scroller.clientHeight-xr(t)-t.display.barHeight}function Ar(t,e,r){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var n=0;n<t.rest.length;n++)if(t.rest[n]==e)return{map:t.measure.maps[n],cache:t.measure.caches[n]};for(var i=0;i<t.rest.length;i++)if(lt(t.rest[i])>r)return{map:t.measure.maps[i],cache:t.measure.caches[i],before:!0}}function Mr(t,e,r,n){return Or(t,Tr(t,e),r,n)}function Ir(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[an(t,e)];var r=t.display.externalMeasured;return r&&e>=r.lineN&&e<r.lineN+r.size?r:void 0}function Tr(t,e){var r=lt(e),n=Ir(t,r);n&&!n.text?n=null:n&&n.changes&&(ur(t,n,r,en(t)),t.curOp.forceUpdate=!0),n||(n=function(t,e){var r=lt(e=Ut(e)),n=t.display.externalMeasured=new rr(t.doc,e,r);n.lineN=r;var i=n.built=Ze(t,n);return n.text=i.pre,M(t.display.lineMeasure,i.pre),n}(t,e));var i=Ar(n,e,r);return{line:e,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Or(t,e,r,n,i){e.before&&(r=-1);var o,u=r+(n||"");return e.cache.hasOwnProperty(u)?o=e.cache[u]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(function(t,e,r){var n=t.options.lineWrapping,i=n&&Er(t);if(!e.measure.heights||n&&e.measure.width!=i){var o=e.measure.heights=[];if(n){e.measure.width=i;for(var s=e.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var u=s[a],c=s[a+1];Math.abs(u.bottom-c.bottom)>2&&o.push((u.bottom+c.top)/2-r.top)}}o.push(r.bottom-r.top)}}(t,e.view,e.rect),e.hasHeights=!0),(o=function(t,e,r,n){var i,o=Nr(e.map,r,n),u=o.node,c=o.start,f=o.end,l=o.collapse;if(3==u.nodeType){for(var h=0;h<4;h++){for(;c&&it(e.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+f<o.coverEnd&&it(e.line.text.charAt(o.coverStart+f));)++f;if((i=s&&a<9&&0==c&&f==o.coverEnd-o.coverStart?u.parentNode.getBoundingClientRect():Rr(E(u,c,f).getClientRects(),n)).left||i.right||0==c)break;f=c,c-=1,l="right"}s&&a<11&&(i=function(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(t){if(null!=ke)return ke;var e=M(t,I("span","x")),r=e.getBoundingClientRect(),n=E(e,0,1).getBoundingClientRect();return ke=Math.abs(r.left-n.left)>1}(t))return e;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*r,right:e.right*r,top:e.top*n,bottom:e.bottom*n}}(t.display.measure,i))}else{var p;c>0&&(l=n="right"),i=t.options.lineWrapping&&(p=u.getClientRects()).length>1?p["right"==n?p.length-1:0]:u.getBoundingClientRect()}if(s&&a<9&&!c&&(!i||!i.left&&!i.right)){var d=u.parentNode.getClientRects()[0];i=d?{left:d.left,right:d.left+tn(t.display),top:d.top,bottom:d.bottom}:Pr}for(var m=i.top-e.rect.top,g=i.bottom-e.rect.top,v=(m+g)/2,y=e.view.measure.heights,b=0;b<y.length-1&&!(v<y[b]);b++);var w=b?y[b-1]:0,_=y[b],k={left:("right"==l?i.right:i.left)-e.rect.left,right:("left"==l?i.left:i.right)-e.rect.left,top:w,bottom:_};return i.left||i.right||(k.bogus=!0),t.options.singleCursorHeightPerLine||(k.rtop=m,k.rbottom=g),k}(t,e,r,n)).bogus||(e.cache[u]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Br,Pr={left:0,right:0,top:0,bottom:0};function Nr(t,e,r){for(var n,i,o,s,a,u,c=0;c<t.length;c+=3)if(a=t[c],u=t[c+1],e<a?(i=0,o=1,s="left"):e<u?o=1+(i=e-a):(c==t.length-3||e==u&&t[c+3]>e)&&(i=(o=u-a)-1,e>=u&&(s="right")),null!=i){if(n=t[c+2],a==u&&r==(n.insertLeft?"left":"right")&&(s=r),"left"==r&&0==i)for(;c&&t[c-2]==t[c-3]&&t[c-1].insertLeft;)n=t[2+(c-=3)],s="left";if("right"==r&&i==u-a)for(;c<t.length-3&&t[c+3]==t[c+4]&&!t[c+5].insertLeft;)n=t[(c+=3)+2],s="right";break}return{node:n,start:i,end:o,collapse:s,coverStart:a,coverEnd:u}}function Rr(t,e){var r=Pr;if("left"==e)for(var n=0;n<t.length&&(r=t[n]).left==r.right;n++);else for(var i=t.length-1;i>=0&&(r=t[i]).left==r.right;i--);return r}function Fr(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function jr(t){t.display.externalMeasure=null,A(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)Fr(t.display.view[e])}function Lr(t){jr(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Dr(){return f&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Ur(){return f&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function zr(t){var e=0;if(t.widgets)for(var r=0;r<t.widgets.length;++r)t.widgets[r].above&&(e+=br(t.widgets[r]));return e}function Hr(t,e,r,n,i){if(!i){var o=zr(e);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var s=Vt(e);if("local"==n?s+=_r(t.display):s-=t.display.viewOffset,"page"==n||"window"==n){var a=t.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==n?0:Ur());var u=a.left+("window"==n?0:Dr());r.left+=u,r.right+=u}return r.top+=s,r.bottom+=s,r}function Kr(t,e,r){if("div"==r)return e;var n=e.left,i=e.top;if("page"==r)n-=Dr(),i-=Ur();else if("local"==r||!r){var o=t.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var s=t.display.lineSpace.getBoundingClientRect();return{left:n-s.left,top:i-s.top}}function qr(t,e,r,n,i){return n||(n=at(t.doc,e.line)),Hr(t,n,Mr(t,n,e.ch,i),r)}function Vr(t,e,r,n,i,o){function s(e,s){var a=Or(t,i,e,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,Hr(t,n,a,r)}n=n||at(t.doc,e.line),i||(i=Tr(t,n));var a=Xt(n,t.doc.direction),u=e.ch,c=e.sticky;if(u>=n.text.length?(u=n.text.length,c="before"):u<=0&&(u=0,c="after"),!a)return s("before"==c?u-1:u,"before"==c);function f(t,e,r){var n=a[e],i=1==n.level;return s(r?t-1:t,i!=r)}var l=$t(a,u,c),h=Yt,p=f(u,l,"before"==c);return null!=h&&(p.other=f(u,h,"before"!=c)),p}function Wr(t,e){var r=0;e=kt(t.doc,e),t.options.lineWrapping||(r=tn(t.display)*e.ch);var n=at(t.doc,e.line),i=Vt(n)+_r(t.display);return{left:r,right:r,top:i,bottom:i+n.height}}function Gr(t,e,r,n,i){var o=mt(t,e,r);return o.xRel=i,n&&(o.outside=!0),o}function Yr(t,e,r){var n=t.doc;if((r+=t.display.viewOffset)<0)return Gr(n.first,0,null,!0,-1);var i=ht(n,r),o=n.first+n.size-1;if(i>o)return Gr(n.first+n.size-1,at(n,o).text.length,null,!0,1);e<0&&(e=0);for(var s=at(n,i);;){var a=Jr(t,s,i,e,r),u=Lt(s),c=u&&u.find(0,!0);if(!u||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;i=lt(s=c.to.line)}}function $r(t,e,r,n){n-=zr(e);var i=e.text.length,o=st(function(e){return Or(t,r,e-1).bottom<=n},i,0);return i=st(function(e){return Or(t,r,e).top>n},o,i),{begin:o,end:i}}function Zr(t,e,r,n){r||(r=Tr(t,e));var i=Hr(t,e,Or(t,r,n),"line").top;return $r(t,e,r,i)}function Xr(t,e,r,n){return!(t.bottom<=r)&&(t.top>r||(n?t.left:t.right)>e)}function Jr(t,e,r,n,i){i-=Vt(e);var o=Tr(t,e),s=zr(e),a=0,u=e.text.length,c=!0,f=Xt(e,t.doc.direction);if(f){var l=(t.options.lineWrapping?function(t,e,r,n,i,o,s){var a=$r(t,e,n,s),u=a.begin,c=a.end;/\s/.test(e.text.charAt(c-1))&&c--;for(var f=null,l=null,h=0;h<i.length;h++){var p=i[h];if(!(p.from>=c||p.to<=u)){var d=1!=p.level,m=Or(t,n,d?Math.min(c,p.to)-1:Math.max(u,p.from)).right,g=m<o?o-m+1e9:m-o;(!f||l>g)&&(f=p,l=g)}}return f||(f=i[i.length-1]),f.from<u&&(f={from:u,to:f.to,level:f.level}),f.to>c&&(f={from:f.from,to:c,level:f.level}),f}:function(t,e,r,n,i,o,s){var a=st(function(a){var u=i[a],c=1!=u.level;return Xr(Vr(t,mt(r,c?u.to:u.from,c?"before":"after"),"line",e,n),o,s,!0)},0,i.length-1),u=i[a];if(a>0){var c=1!=u.level,f=Vr(t,mt(r,c?u.from:u.to,c?"after":"before"),"line",e,n);Xr(f,o,s,!0)&&f.top>s&&(u=i[a-1])}return u})(t,e,r,o,f,n,i);c=1!=l.level,a=c?l.from:l.to-1,u=c?l.to:l.from-1}var h,p,d=null,m=null,g=st(function(e){var r=Or(t,o,e);return r.top+=s,r.bottom+=s,!!Xr(r,n,i,!1)&&(r.top<=i&&r.left<=n&&(d=e,m=r),!0)},a,u),v=!1;if(m){var y=n-m.left<m.right-n,b=y==c;g=d+(b?0:1),p=b?"after":"before",h=y?m.left:m.right}else{c||g!=u&&g!=a||g++,p=0==g?"after":g==e.text.length?"before":Or(t,o,g-(c?1:0)).bottom+s<=i==c?"after":"before";var w=Vr(t,mt(r,g,p),"line",e,o);h=w.left,v=i<w.top||i>=w.bottom}return g=ot(e.text,g,1),Gr(r,g,p,v,n-h)}function Qr(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Br){Br=I("pre");for(var e=0;e<49;++e)Br.appendChild(document.createTextNode("x")),Br.appendChild(I("br"));Br.appendChild(document.createTextNode("x"))}M(t.measure,Br);var r=Br.offsetHeight/50;return r>3&&(t.cachedTextHeight=r),A(t.measure),r||1}function tn(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=I("span","xxxxxxxxxx"),r=I("pre",[e]);M(t.measure,r);var n=e.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(t.cachedCharWidth=i),i||10}function en(t){for(var e=t.display,r={},n={},i=e.gutters.clientLeft,o=e.gutters.firstChild,s=0;o;o=o.nextSibling,++s)r[t.options.gutters[s]]=o.offsetLeft+o.clientLeft+i,n[t.options.gutters[s]]=o.clientWidth;return{fixedPos:rn(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function rn(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function nn(t){var e=Qr(t.display),r=t.options.lineWrapping,n=r&&Math.max(5,t.display.scroller.clientWidth/tn(t.display)-3);return function(i){if(Kt(t.doc,i))return 0;var o=0;if(i.widgets)for(var s=0;s<i.widgets.length;s++)i.widgets[s].height&&(o+=i.widgets[s].height);return r?o+(Math.ceil(i.text.length/n)||1)*e:o+e}}function on(t){var e=t.doc,r=nn(t);e.iter(function(t){var e=r(t);e!=t.height&&ft(t,e)})}function sn(t,e,r,n){var i=t.display;if(!r&&"true"==le(e).getAttribute("cm-not-content"))return null;var o,s,a=i.lineSpace.getBoundingClientRect();try{o=e.clientX-a.left,s=e.clientY-a.top}catch(e){return null}var u,c=Yr(t,o,s);if(n&&1==c.xRel&&(u=at(t.doc,c.line).text).length==c.ch){var f=L(u,u.length,t.options.tabSize)-u.length;c=mt(c.line,Math.max(0,Math.round((o-Sr(t.display).left)/tn(t.display))-f))}return c}function an(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var r=t.display.view,n=0;n<r.length;n++)if((e-=r[n].size)<0)return n}function un(t){t.display.input.showSelection(t.display.input.prepareSelection())}function cn(t,e){void 0===e&&(e=!0);for(var r=t.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),s=0;s<r.sel.ranges.length;s++)if(e||s!=r.sel.primIndex){var a=r.sel.ranges[s];if(!(a.from().line>=t.display.viewTo||a.to().line<t.display.viewFrom)){var u=a.empty();(u||t.options.showCursorWhenSelecting)&&fn(t,a.head,i),u||hn(t,a,o)}}return n}function fn(t,e,r){var n=Vr(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),i=r.appendChild(I("div"," ","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*t.options.cursorHeight+"px",n.other){var o=r.appendChild(I("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=n.other.left+"px",o.style.top=n.other.top+"px",o.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function ln(t,e){return t.top-e.top||t.left-e.left}function hn(t,e,r){var n=t.display,i=t.doc,o=document.createDocumentFragment(),s=Sr(t.display),a=s.left,u=Math.max(n.sizerWidth,Er(t)-n.sizer.offsetLeft)-s.right,c="ltr"==i.direction;function f(t,e,r,n){e<0&&(e=0),e=Math.round(e),n=Math.round(n),o.appendChild(I("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==r?u-t:r)+"px;\n                             height: "+(n-e)+"px"))}function l(e,r,n){var o,s,l=at(i,e),h=l.text.length;function p(r,n){return qr(t,mt(e,r),"div",l,n)}function d(e,r,n){var i=Zr(t,l,null,e),o="ltr"==r==("after"==n)?"left":"right",s="after"==n?i.begin:i.end-(/\s/.test(l.text.charAt(i.end-1))?2:1);return p(s,o)[o]}var m=Xt(l,i.direction);return function(t,e,r,n){if(!t)return n(e,r,"ltr",0);for(var i=!1,o=0;o<t.length;++o){var s=t[o];(s.from<r&&s.to>e||e==r&&s.to==e)&&(n(Math.max(s.from,e),Math.min(s.to,r),1==s.level?"rtl":"ltr",o),i=!0)}i||n(e,r,"ltr")}(m,r||0,null==n?h:n,function(t,e,i,l){var g="ltr"==i,v=p(t,g?"left":"right"),y=p(e-1,g?"right":"left"),b=null==r&&0==t,w=null==n&&e==h,_=0==l,k=!m||l==m.length-1;if(y.top-v.top<=3){var S=(c?b:w)&&_,x=(c?w:b)&&k,E=S?a:(g?v:y).left,C=x?u:(g?y:v).right;f(E,v.top,C-E,v.bottom)}else{var A,M,I,T;g?(A=c&&b&&_?a:v.left,M=c?u:d(t,i,"before"),I=c?a:d(e,i,"after"),T=c&&w&&k?u:y.right):(A=c?d(t,i,"before"):a,M=!c&&b&&_?u:v.right,I=!c&&w&&k?a:y.left,T=c?d(e,i,"after"):u),f(A,v.top,M-A,v.bottom),v.bottom<y.top&&f(a,v.bottom,null,y.top),f(I,y.top,T-I,y.bottom)}(!o||ln(v,o)<0)&&(o=v),ln(y,o)<0&&(o=y),(!s||ln(v,s)<0)&&(s=v),ln(y,s)<0&&(s=y)}),{start:o,end:s}}var h=e.from(),p=e.to();if(h.line==p.line)l(h.line,h.ch,p.ch);else{var d=at(i,h.line),m=at(i,p.line),g=Ut(d)==Ut(m),v=l(h.line,h.ch,g?d.text.length+1:null).end,y=l(p.line,g?0:null,p.ch).start;g&&(v.top<y.top-2?(f(v.right,v.top,null,v.bottom),f(a,y.top,y.left,y.bottom)):f(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&f(a,v.bottom,null,y.top)}r.appendChild(o)}function pn(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var r=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){return e.cursorDiv.style.visibility=(r=!r)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function dn(t){t.state.focused||(t.display.input.focus(),gn(t))}function mn(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,vn(t))},100)}function gn(t,e){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(re(t,"focus",t,e),t.state.focused=!0,P(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),u&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),pn(t))}function vn(t,e){t.state.delayingBlurEvent||(t.state.focused&&(re(t,"blur",t,e),t.state.focused=!1,C(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function yn(t){for(var e=t.display,r=e.lineDiv.offsetTop,n=0;n<e.view.length;n++){var i=e.view[n],o=void 0;if(!i.hidden){if(s&&a<8){var u=i.node.offsetTop+i.node.offsetHeight;o=u-r,r=u}else{var c=i.node.getBoundingClientRect();o=c.bottom-c.top}var f=i.line.height-o;if(o<2&&(o=Qr(e)),(f>.005||f<-.005)&&(ft(i.line,o),bn(i.line),i.rest))for(var l=0;l<i.rest.length;l++)bn(i.rest[l])}}}function bn(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var r=t.widgets[e],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function wn(t,e,r){var n=r&&null!=r.top?Math.max(0,r.top):t.scroller.scrollTop;n=Math.floor(n-_r(t));var i=r&&null!=r.bottom?r.bottom:n+t.wrapper.clientHeight,o=ht(e,n),s=ht(e,i);if(r&&r.ensure){var a=r.ensure.from.line,u=r.ensure.to.line;a<o?(o=a,s=ht(e,Vt(at(e,a))+t.wrapper.clientHeight)):Math.min(u,e.lastLine())>=s&&(o=ht(e,Vt(at(e,u))-t.wrapper.clientHeight),s=u)}return{from:o,to:Math.max(s,o+1)}}function _n(t){var e=t.display,r=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var n=rn(e)-e.scroller.scrollLeft+t.doc.scrollLeft,i=e.gutters.offsetWidth,o=n+"px",s=0;s<r.length;s++)if(!r[s].hidden){t.options.fixedGutter&&(r[s].gutter&&(r[s].gutter.style.left=o),r[s].gutterBackground&&(r[s].gutterBackground.style.left=o));var a=r[s].alignable;if(a)for(var u=0;u<a.length;u++)a[u].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=n+i+"px")}}function kn(t){if(!t.options.lineNumbers)return!1;var e=t.doc,r=dt(t.options,e.first+e.size-1),n=t.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(I("div",[I("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,s=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-s)+1,n.lineNumWidth=n.lineNumInnerWidth+s,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",ai(t),!0}return!1}function Sn(t,e){var r=t.display,n=Qr(t.display);e.top<0&&(e.top=0);var i=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:r.scroller.scrollTop,o=Cr(t),s={};e.bottom-e.top>o&&(e.bottom=e.top+o);var a=t.doc.height+kr(r),u=e.top<n,c=e.bottom>a-n;if(e.top<i)s.scrollTop=u?0:e.top;else if(e.bottom>i+o){var f=Math.min(e.top,(c?a:e.bottom)-o);f!=i&&(s.scrollTop=f)}var l=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:r.scroller.scrollLeft,h=Er(t)-(t.options.fixedGutter?r.gutters.offsetWidth:0),p=e.right-e.left>h;return p&&(e.right=e.left+h),e.left<10?s.scrollLeft=0:e.left<l?s.scrollLeft=Math.max(0,e.left-(p?0:10)):e.right>h+l-3&&(s.scrollLeft=e.right+(p?0:10)-h),s}function xn(t,e){null!=e&&(An(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function En(t){An(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Cn(t,e,r){null==e&&null==r||An(t),null!=e&&(t.curOp.scrollLeft=e),null!=r&&(t.curOp.scrollTop=r)}function An(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var r=Wr(t,e.from),n=Wr(t,e.to);Mn(t,r,n,e.margin)}}function Mn(t,e,r,n){var i=Sn(t,{left:Math.min(e.left,r.left),top:Math.min(e.top,r.top)-n,right:Math.max(e.right,r.right),bottom:Math.max(e.bottom,r.bottom)+n});Cn(t,i.scrollLeft,i.scrollTop)}function In(t,e){Math.abs(t.doc.scrollTop-e)<2||(r||si(t,{top:e}),Tn(t,e,!0),r&&si(t),ei(t,100))}function Tn(t,e,r){e=Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e),(t.display.scroller.scrollTop!=e||r)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function On(t,e,r,n){e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),(r?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!n||(t.doc.scrollLeft=e,_n(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Bn(t){var e=t.display,r=e.gutters.offsetWidth,n=Math.round(t.doc.height+kr(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+xr(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:r}}var Pn=function(t,e,r){this.cm=r;var n=this.vert=I("div",[I("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=I("div",[I("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t(n),t(i),Qt(n,"scroll",function(){n.clientHeight&&e(n.scrollTop,"vertical")}),Qt(i,"scroll",function(){i.clientWidth&&e(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Pn.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,r=t.scrollHeight>t.clientHeight+1,n=t.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=e?n+"px":"0";var i=t.viewHeight-(e?n:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:e?n:0}},Pn.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Pn.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Pn.prototype.zeroWidthHack=function(){var t=y&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new D,this.disableVert=new D},Pn.prototype.enableZeroWidthBar=function(t,e,r){t.style.pointerEvents="auto",e.set(1e3,function n(){var i=t.getBoundingClientRect(),o="vert"==r?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1);o!=t?t.style.pointerEvents="none":e.set(1e3,n)})},Pn.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var Nn=function(){};function Rn(t,e){e||(e=Bn(t));var r=t.display.barWidth,n=t.display.barHeight;Fn(t,e);for(var i=0;i<4&&r!=t.display.barWidth||n!=t.display.barHeight;i++)r!=t.display.barWidth&&t.options.lineWrapping&&yn(t),Fn(t,Bn(t)),r=t.display.barWidth,n=t.display.barHeight}function Fn(t,e){var r=t.display,n=r.scrollbars.update(e);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=e.gutterWidth+"px"):r.gutterFiller.style.display=""}Nn.prototype.update=function(){return{bottom:0,right:0}},Nn.prototype.setScrollLeft=function(){},Nn.prototype.setScrollTop=function(){},Nn.prototype.clear=function(){};var jn={native:Pn,null:Nn};function Ln(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&C(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new jn[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),Qt(e,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,r){"horizontal"==r?On(t,e):In(t,e)},t),t.display.scrollbars.addClass&&P(t.display.wrapper,t.display.scrollbars.addClass)}var Dn=0;function Un(t){var e;t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Dn},e=t.curOp,ir?ir.ops.push(e):e.ownsGroup=ir={ops:[e],delayedCallbacks:[]}}function zn(t){var e=t.curOp;!function(t,e){var r=t.ownsGroup;if(r)try{!function(t){var e=t.delayedCallbacks,r=0;do{for(;r<e.length;r++)e[r].call(null);for(var n=0;n<t.ops.length;n++){var i=t.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<e.length)}(r)}finally{ir=null,e(r)}}(e,function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;!function(t){for(var e=t.ops,r=0;r<e.length;r++)Hn(e[r]);for(var n=0;n<e.length;n++)(i=e[n]).updatedDisplay=i.mustUpdate&&ii(i.cm,i.update);for(var i,o=0;o<e.length;o++)Kn(e[o]);for(var s=0;s<e.length;s++)qn(e[s]);for(var a=0;a<e.length;a++)Vn(e[a])}(t)})}function Hn(t){var e=t.cm,r=e.display;!function(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=xr(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=xr(t)+"px",e.scrollbarsClipped=!0)}(e),t.updateMaxLine&&Gt(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<r.viewFrom||t.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new ni(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Kn(t){var e=t.cm,r=e.display;t.updatedDisplay&&yn(e),t.barMeasure=Bn(e),r.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Mr(e,r.maxLine,r.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+t.adjustWidthTo+xr(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+t.adjustWidthTo-Er(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=r.input.prepareSelection())}function qn(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&On(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var r=t.focus&&t.focus==B();t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,r),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Rn(e,t.barMeasure),t.updatedDisplay&&ui(e,t.barMeasure),t.selectionChanged&&pn(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),r&&dn(t.cm)}function Vn(t){var e=t.cm,r=e.display,n=e.doc;if(t.updatedDisplay&&oi(e,t.update),null==r.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=t.scrollTop&&Tn(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&On(e,t.scrollLeft,!0,!0),t.scrollToPos){var i=function(t,e,r,n){var i;null==n&&(n=0),t.options.lineWrapping||e!=r||(e=e.ch?mt(e.line,"before"==e.sticky?e.ch-1:e.ch,"after"):e,r="before"==e.sticky?mt(e.line,e.ch+1,"before"):e);for(var o=0;o<5;o++){var s=!1,a=Vr(t,e),u=r&&r!=e?Vr(t,r):a;i={left:Math.min(a.left,u.left),top:Math.min(a.top,u.top)-n,right:Math.max(a.left,u.left),bottom:Math.max(a.bottom,u.bottom)+n};var c=Sn(t,i),f=t.doc.scrollTop,l=t.doc.scrollLeft;if(null!=c.scrollTop&&(In(t,c.scrollTop),Math.abs(t.doc.scrollTop-f)>1&&(s=!0)),null!=c.scrollLeft&&(On(t,c.scrollLeft),Math.abs(t.doc.scrollLeft-l)>1&&(s=!0)),!s)break}return i}(e,kt(n,t.scrollToPos.from),kt(n,t.scrollToPos.to),t.scrollToPos.margin);!function(t,e){if(!ne(t,"scrollCursorIntoView")){var r=t.display,n=r.sizer.getBoundingClientRect(),i=null;if(e.top+n.top<0?i=!0:e.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!d){var o=I("div","​",null,"position: absolute;\n                         top: "+(e.top-r.viewOffset-_r(t.display))+"px;\n                         height: "+(e.bottom-e.top+xr(t)+r.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(i),t.display.lineSpace.removeChild(o)}}}(e,i)}var o=t.maybeHiddenMarkers,s=t.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||re(o[a],"hide");if(s)for(var u=0;u<s.length;++u)s[u].lines.length&&re(s[u],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&re(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Wn(t,e){if(t.curOp)return e();Un(t);try{return e()}finally{zn(t)}}function Gn(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Un(t);try{return e.apply(t,arguments)}finally{zn(t)}}}function Yn(t){return function(){if(this.curOp)return t.apply(this,arguments);Un(this);try{return t.apply(this,arguments)}finally{zn(this)}}}function $n(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Un(e);try{return t.apply(this,arguments)}finally{zn(e)}}}function Zn(t,e,r,n){null==e&&(e=t.doc.first),null==r&&(r=t.doc.first+t.doc.size),n||(n=0);var i=t.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>e)&&(i.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=i.viewTo)Et&&zt(t.doc,e)<i.viewTo&&Jn(t);else if(r<=i.viewFrom)Et&&Ht(t.doc,r+n)>i.viewFrom?Jn(t):(i.viewFrom+=n,i.viewTo+=n);else if(e<=i.viewFrom&&r>=i.viewTo)Jn(t);else if(e<=i.viewFrom){var o=Qn(t,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):Jn(t)}else if(r>=i.viewTo){var s=Qn(t,e,e,-1);s?(i.view=i.view.slice(0,s.index),i.viewTo=s.lineN):Jn(t)}else{var a=Qn(t,e,e,-1),u=Qn(t,r,r+n,1);a&&u?(i.view=i.view.slice(0,a.index).concat(nr(t,a.lineN,u.lineN)).concat(i.view.slice(u.index)),i.viewTo+=n):Jn(t)}var c=i.externalMeasured;c&&(r<c.lineN?c.lineN+=n:e<c.lineN+c.size&&(i.externalMeasured=null))}function Xn(t,e,r){t.curOp.viewChanged=!0;var n=t.display,i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size&&(n.externalMeasured=null),!(e<n.viewFrom||e>=n.viewTo)){var o=n.view[an(t,e)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==U(s,r)&&s.push(r)}}}function Jn(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function Qn(t,e,r,n){var i,o=an(t,e),s=t.display.view;if(!Et||r==t.doc.first+t.doc.size)return{index:o,lineN:r};for(var a=t.display.viewFrom,u=0;u<o;u++)a+=s[u].size;if(a!=e){if(n>0){if(o==s.length-1)return null;i=a+s[o].size-e,o++}else i=a-e;e+=i,r+=i}for(;zt(t.doc,r)!=r;){if(o==(n<0?0:s.length-1))return null;r+=n*s[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function ti(t){for(var e=t.display.view,r=0,n=0;n<e.length;n++){var i=e[n];i.hidden||i.node&&!i.changes||++r}return r}function ei(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,F(ri,t))}function ri(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var r=+new Date+t.options.workTime,n=je(t,e.highlightFrontier),i=[];e.iter(n.line,Math.min(e.first+e.size,t.display.viewTo+500),function(o){if(n.line>=t.display.viewFrom){var s=o.styles,a=o.text.length>t.options.maxHighlightLength?Ie(e.mode,n.state):null,u=Re(t,o,n,!0);a&&(n.state=a),o.styles=u.styles;var c=o.styleClasses,f=u.classes;f?o.styleClasses=f:c&&(o.styleClasses=null);for(var l=!s||s.length!=o.styles.length||c!=f&&(!c||!f||c.bgClass!=f.bgClass||c.textClass!=f.textClass),h=0;!l&&h<s.length;++h)l=s[h]!=o.styles[h];l&&i.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=t.options.maxHighlightLength&&Le(t,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return ei(t,t.options.workDelay),!0}),e.highlightFrontier=n.line,e.modeFrontier=Math.max(e.modeFrontier,n.line),i.length&&Wn(t,function(){for(var e=0;e<i.length;e++)Xn(t,i[e],"text")})}}var ni=function(t,e,r){var n=t.display;this.viewport=e,this.visible=wn(n,t.doc,e),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Er(t),this.force=r,this.dims=en(t),this.events=[]};function ii(t,e){var r=t.display,n=t.doc;if(e.editorIsHidden)return Jn(t),!1;if(!e.force&&e.visible.from>=r.viewFrom&&e.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==ti(t))return!1;kn(t)&&(Jn(t),e.dims=en(t));var i=n.first+n.size,o=Math.max(e.visible.from-t.options.viewportMargin,n.first),s=Math.min(i,e.visible.to+t.options.viewportMargin);r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(n.first,r.viewFrom)),r.viewTo>s&&r.viewTo-s<20&&(s=Math.min(i,r.viewTo)),Et&&(o=zt(t.doc,o),s=Ht(t.doc,s));var a=o!=r.viewFrom||s!=r.viewTo||r.lastWrapHeight!=e.wrapperHeight||r.lastWrapWidth!=e.wrapperWidth;!function(t,e,r){var n=t.display;0==n.view.length||e>=n.viewTo||r<=n.viewFrom?(n.view=nr(t,e,r),n.viewFrom=e):(n.viewFrom>e?n.view=nr(t,e,n.viewFrom).concat(n.view):n.viewFrom<e&&(n.view=n.view.slice(an(t,e))),n.viewFrom=e,n.viewTo<r?n.view=n.view.concat(nr(t,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,an(t,r)))),n.viewTo=r}(t,o,s),r.viewOffset=Vt(at(t.doc,r.viewFrom)),t.display.mover.style.top=r.viewOffset+"px";var c=ti(t);if(!a&&0==c&&!e.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var f=function(t){if(t.hasFocus())return null;var e=B();if(!e||!O(t.display.lineDiv,e))return null;var r={activeElt:e};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&O(t.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}(t);return c>4&&(r.lineDiv.style.display="none"),function(t,e,r){var n=t.display,i=t.options.lineNumbers,o=n.lineDiv,s=o.firstChild;function a(e){var r=e.nextSibling;return u&&y&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),r}for(var c=n.view,f=n.viewFrom,l=0;l<c.length;l++){var h=c[l];if(h.hidden);else if(h.node&&h.node.parentNode==o){for(;s!=h.node;)s=a(s);var p=i&&null!=e&&e<=f&&h.lineNumber;h.changes&&(U(h.changes,"gutter")>-1&&(p=!1),ur(t,h,f,r)),p&&(A(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(dt(t.options,f)))),s=h.node.nextSibling}else{var d=mr(t,h,f,r);o.insertBefore(d,s)}f+=h.size}for(;s;)s=a(s)}(t,r.updateLineNumbers,e.dims),c>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,function(t){if(t&&t.activeElt&&t.activeElt!=B()&&(t.activeElt.focus(),t.anchorNode&&O(document.body,t.anchorNode)&&O(document.body,t.focusNode))){var e=window.getSelection(),r=document.createRange();r.setEnd(t.anchorNode,t.anchorOffset),r.collapse(!1),e.removeAllRanges(),e.addRange(r),e.extend(t.focusNode,t.focusOffset)}}(f),A(r.cursorDiv),A(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,a&&(r.lastWrapHeight=e.wrapperHeight,r.lastWrapWidth=e.wrapperWidth,ei(t,400)),r.updateLineNumbers=null,!0}function oi(t,e){for(var r=e.viewport,n=!0;(n&&t.options.lineWrapping&&e.oldDisplayWidth!=Er(t)||(r&&null!=r.top&&(r={top:Math.min(t.doc.height+kr(t.display)-Cr(t),r.top)}),e.visible=wn(t.display,t.doc,r),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&ii(t,e);n=!1){yn(t);var i=Bn(t);un(t),Rn(t,i),ui(t,i),e.force=!1}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function si(t,e){var r=new ni(t,e);if(ii(t,r)){yn(t),oi(t,r);var n=Bn(t);un(t),Rn(t,n),ui(t,n),r.finish()}}function ai(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function ui(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+xr(t)+"px"}function ci(t){var e=t.display.gutters,r=t.options.gutters;A(e);for(var n=0;n<r.length;++n){var i=r[n],o=e.appendChild(I("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=n?"":"none",ai(t)}function fi(t){var e=U(t.gutters,"CodeMirror-linenumbers");-1==e&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}ni.prototype.signal=function(t,e){oe(t,e)&&this.events.push(arguments)},ni.prototype.finish=function(){for(var t=0;t<this.events.length;t++)re.apply(null,this.events[t])};var li=0,hi=null;function pi(t){var e=t.wheelDeltaX,r=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==r&&t.detail&&t.axis==t.VERTICAL_AXIS?r=t.detail:null==r&&(r=t.wheelDelta),{x:e,y:r}}function di(t){var e=pi(t);return e.x*=hi,e.y*=hi,e}function mi(t,e){var n=pi(e),i=n.x,o=n.y,s=t.display,a=s.scroller,c=a.scrollWidth>a.clientWidth,f=a.scrollHeight>a.clientHeight;if(i&&c||o&&f){if(o&&y&&u)t:for(var h=e.target,p=s.view;h!=a;h=h.parentNode)for(var d=0;d<p.length;d++)if(p[d].node==h){t.display.currentWheelTarget=h;break t}if(i&&!r&&!l&&null!=hi)return o&&f&&In(t,Math.max(0,a.scrollTop+o*hi)),On(t,Math.max(0,a.scrollLeft+i*hi)),(!o||o&&f)&&ae(e),void(s.wheelStartX=null);if(o&&null!=hi){var m=o*hi,g=t.doc.scrollTop,v=g+s.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(t.doc.height,v+m+50),si(t,{top:g,bottom:v})}li<20&&(null==s.wheelStartX?(s.wheelStartX=a.scrollLeft,s.wheelStartY=a.scrollTop,s.wheelDX=i,s.wheelDY=o,setTimeout(function(){if(null!=s.wheelStartX){var t=a.scrollLeft-s.wheelStartX,e=a.scrollTop-s.wheelStartY,r=e&&s.wheelDY&&e/s.wheelDY||t&&s.wheelDX&&t/s.wheelDX;s.wheelStartX=s.wheelStartY=null,r&&(hi=(hi*li+r)/(li+1),++li)}},200)):(s.wheelDX+=i,s.wheelDY+=o))}}s?hi=-.53:r?hi=15:f?hi=-.7:h&&(hi=-1/3);var gi=function(t,e){this.ranges=t,this.primIndex=e};gi.prototype.primary=function(){return this.ranges[this.primIndex]},gi.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var r=this.ranges[e],n=t.ranges[e];if(!vt(r.anchor,n.anchor)||!vt(r.head,n.head))return!1}return!0},gi.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new vi(yt(this.ranges[e].anchor),yt(this.ranges[e].head));return new gi(t,this.primIndex)},gi.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},gi.prototype.contains=function(t,e){e||(e=t);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(gt(e,n.from())>=0&&gt(t,n.to())<=0)return r}return-1};var vi=function(t,e){this.anchor=t,this.head=e};function yi(t,e){var r=t[e];t.sort(function(t,e){return gt(t.from(),e.from())}),e=U(t,r);for(var n=1;n<t.length;n++){var i=t[n],o=t[n-1];if(gt(o.to(),i.from())>=0){var s=wt(o.from(),i.from()),a=bt(o.to(),i.to()),u=o.empty()?i.from()==i.head:o.from()==o.head;n<=e&&--e,t.splice(--n,2,new vi(u?a:s,u?s:a))}}return new gi(t,e)}function bi(t,e){return new gi([new vi(t,e||t)],0)}function wi(t){return t.text?mt(t.from.line+t.text.length-1,$(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function _i(t,e){if(gt(t,e.from)<0)return t;if(gt(t,e.to)<=0)return wi(e);var r=t.line+e.text.length-(e.to.line-e.from.line)-1,n=t.ch;return t.line==e.to.line&&(n+=wi(e).ch-e.to.ch),mt(r,n)}function ki(t,e){for(var r=[],n=0;n<t.sel.ranges.length;n++){var i=t.sel.ranges[n];r.push(new vi(_i(i.anchor,e),_i(i.head,e)))}return yi(r,t.sel.primIndex)}function Si(t,e,r){return t.line==e.line?mt(r.line,t.ch-e.ch+r.ch):mt(r.line+(t.line-e.line),t.ch)}function xi(t){t.doc.mode=Ce(t.options,t.doc.modeOption),Ei(t)}function Ei(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,ei(t,100),t.state.modeGen++,t.curOp&&Zn(t)}function Ci(t,e){return 0==e.from.ch&&0==e.to.ch&&""==$(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Ai(t,e,r,n){function i(t){return r?r[t]:null}function o(t,r,i){!function(t,e,r,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Ot(t),Bt(t,r);var i=n?n(t):1;i!=t.height&&ft(t,i)}(t,r,i,n),sr(t,"change",t,e)}function s(t,e){for(var r=[],o=t;o<e;++o)r.push(new Ve(c[o],i(o),n));return r}var a=e.from,u=e.to,c=e.text,f=at(t,a.line),l=at(t,u.line),h=$(c),p=i(c.length-1),d=u.line-a.line;if(e.full)t.insert(0,s(0,c.length)),t.remove(c.length,t.size-c.length);else if(Ci(t,e)){var m=s(0,c.length-1);o(l,l.text,p),d&&t.remove(a.line,d),m.length&&t.insert(a.line,m)}else if(f==l)if(1==c.length)o(f,f.text.slice(0,a.ch)+h+f.text.slice(u.ch),p);else{var g=s(1,c.length-1);g.push(new Ve(h+f.text.slice(u.ch),p,n)),o(f,f.text.slice(0,a.ch)+c[0],i(0)),t.insert(a.line+1,g)}else if(1==c.length)o(f,f.text.slice(0,a.ch)+c[0]+l.text.slice(u.ch),i(0)),t.remove(a.line+1,d);else{o(f,f.text.slice(0,a.ch)+c[0],i(0)),o(l,h+l.text.slice(u.ch),p);var v=s(1,c.length-1);d>1&&t.remove(a.line+1,d-1),t.insert(a.line+1,v)}sr(t,"change",t,e)}function Mi(t,e,r){!function t(n,i,o){if(n.linked)for(var s=0;s<n.linked.length;++s){var a=n.linked[s];if(a.doc!=i){var u=o&&a.sharedHist;r&&!u||(e(a.doc,u),t(a.doc,n,u))}}}(t,null,!0)}function Ii(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,on(t),xi(t),Ti(t),t.options.lineWrapping||Gt(t),t.options.mode=e.modeOption,Zn(t)}function Ti(t){("rtl"==t.doc.direction?P:C)(t.display.lineDiv,"CodeMirror-rtl")}function Oi(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function Bi(t,e){var r={from:yt(e.from),to:wi(e),text:ut(t,e.from,e.to)};return ji(t,r,e.from.line,e.to.line+1),Mi(t,function(t){return ji(t,r,e.from.line,e.to.line+1)},!0),r}function Pi(t){for(;t.length;){var e=$(t);if(!e.ranges)break;t.pop()}}function Ni(t,e,r,n){var i=t.history;i.undone.length=0;var o,s,a=+new Date;if((i.lastOp==n||i.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&i.lastModTime>a-(t.cm?t.cm.options.historyEventDelay:500)||"*"==e.origin.charAt(0)))&&(o=function(t,e){return e?(Pi(t.done),$(t.done)):t.done.length&&!$(t.done).ranges?$(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),$(t.done)):void 0}(i,i.lastOp==n)))s=$(o.changes),0==gt(e.from,e.to)&&0==gt(e.from,s.to)?s.to=wi(e):o.changes.push(Bi(t,e));else{var u=$(i.done);for(u&&u.ranges||Fi(t.sel,i.done),o={changes:[Bi(t,e)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=e.origin,s||re(t,"historyAdded")}function Ri(t,e,r,n){var i=t.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(t,e,r,n){var i=e.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}(t,o,$(i.done),e))?i.done[i.done.length-1]=e:Fi(e,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&!1!==n.clearRedo&&Pi(i.undone)}function Fi(t,e){var r=$(e);r&&r.ranges&&r.equals(t)||e.push(t)}function ji(t,e,r,n){var i=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,r),Math.min(t.first+t.size,n),function(r){r.markedSpans&&((i||(i=e["spans_"+t.id]={}))[o]=r.markedSpans),++o})}function Li(t){if(!t)return null;for(var e,r=0;r<t.length;++r)t[r].marker.explicitlyCleared?e||(e=t.slice(0,r)):e&&e.push(t[r]);return e?e.length?e:null:t}function Di(t,e){var r=function(t,e){var r=e["spans_"+t.id];if(!r)return null;for(var n=[],i=0;i<e.text.length;++i)n.push(Li(r[i]));return n}(t,e),n=It(t,e);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],s=n[i];if(o&&s)t:for(var a=0;a<s.length;++a){for(var u=s[a],c=0;c<o.length;++c)if(o[c].marker==u.marker)continue t;o.push(u)}else s&&(r[i]=s)}return r}function Ui(t,e,r){for(var n=[],i=0;i<t.length;++i){var o=t[i];if(o.ranges)n.push(r?gi.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];n.push({changes:a});for(var u=0;u<s.length;++u){var c=s[u],f=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),e)for(var l in c)(f=l.match(/^spans_(\d+)$/))&&U(e,Number(f[1]))>-1&&($(a)[l]=c[l],delete c[l])}}}return n}function zi(t,e,r,n){if(n){var i=t.anchor;if(r){var o=gt(e,i)<0;o!=gt(r,i)<0?(i=e,e=r):o!=gt(e,r)<0&&(e=r)}return new vi(i,e)}return new vi(r||e,e)}function Hi(t,e,r,n,i){null==i&&(i=t.cm&&(t.cm.display.shift||t.extend)),Gi(t,new gi([zi(t.sel.primary(),e,r,i)],0),n)}function Ki(t,e,r){for(var n=[],i=t.cm&&(t.cm.display.shift||t.extend),o=0;o<t.sel.ranges.length;o++)n[o]=zi(t.sel.ranges[o],e[o],null,i);var s=yi(n,t.sel.primIndex);Gi(t,s,r)}function qi(t,e,r,n){var i=t.sel.ranges.slice(0);i[e]=r,Gi(t,yi(i,t.sel.primIndex),n)}function Vi(t,e,r,n){Gi(t,bi(e,r),n)}function Wi(t,e,r){var n=t.history.done,i=$(n);i&&i.ranges?(n[n.length-1]=e,Yi(t,e,r)):Gi(t,e,r)}function Gi(t,e,r){Yi(t,e,r),Ri(t,t.sel,t.cm?t.cm.curOp.id:NaN,r)}function Yi(t,e,r){(oe(t,"beforeSelectionChange")||t.cm&&oe(t.cm,"beforeSelectionChange"))&&(e=function(t,e,r){var n={ranges:e.ranges,update:function(e){this.ranges=[];for(var r=0;r<e.length;r++)this.ranges[r]=new vi(kt(t,e[r].anchor),kt(t,e[r].head))},origin:r&&r.origin};return re(t,"beforeSelectionChange",t,n),t.cm&&re(t.cm,"beforeSelectionChange",t.cm,n),n.ranges!=e.ranges?yi(n.ranges,n.ranges.length-1):e}(t,e,r));var n=r&&r.bias||(gt(e.primary().head,t.sel.primary().head)<0?-1:1);$i(t,Xi(t,e,n,!0)),r&&!1===r.scroll||!t.cm||En(t.cm)}function $i(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,ie(t.cm)),sr(t,"cursorActivity",t))}function Zi(t){$i(t,Xi(t,t.sel,null,!1))}function Xi(t,e,r,n){for(var i,o=0;o<e.ranges.length;o++){var s=e.ranges[o],a=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],u=Qi(t,s.anchor,a&&a.anchor,r,n),c=Qi(t,s.head,a&&a.head,r,n);(i||u!=s.anchor||c!=s.head)&&(i||(i=e.ranges.slice(0,o)),i[o]=new vi(u,c))}return i?yi(i,e.primIndex):e}function Ji(t,e,r,n,i){var o=at(t,e.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],u=a.marker;if((null==a.from||(u.inclusiveLeft?a.from<=e.ch:a.from<e.ch))&&(null==a.to||(u.inclusiveRight?a.to>=e.ch:a.to>e.ch))){if(i&&(re(u,"beforeCursorEnter"),u.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!u.atomic)continue;if(r){var c=u.find(n<0?1:-1),f=void 0;if((n<0?u.inclusiveRight:u.inclusiveLeft)&&(c=to(t,c,-n,c&&c.line==e.line?o:null)),c&&c.line==e.line&&(f=gt(c,r))&&(n<0?f<0:f>0))return Ji(t,c,e,n,i)}var l=u.find(n<0?-1:1);return(n<0?u.inclusiveLeft:u.inclusiveRight)&&(l=to(t,l,n,l.line==e.line?o:null)),l?Ji(t,l,e,n,i):null}}return e}function Qi(t,e,r,n,i){var o=n||1,s=Ji(t,e,r,o,i)||!i&&Ji(t,e,r,o,!0)||Ji(t,e,r,-o,i)||!i&&Ji(t,e,r,-o,!0);return s||(t.cantEdit=!0,mt(t.first,0))}function to(t,e,r,n){return r<0&&0==e.ch?e.line>t.first?kt(t,mt(e.line-1)):null:r>0&&e.ch==(n||at(t,e.line)).text.length?e.line<t.first+t.size-1?mt(e.line+1,0):null:new mt(e.line,e.ch+r)}function eo(t){t.setSelection(mt(t.firstLine(),0),mt(t.lastLine()),K)}function ro(t,e,r){var n={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(e,r,i,o){e&&(n.from=kt(t,e)),r&&(n.to=kt(t,r)),i&&(n.text=i),void 0!==o&&(n.origin=o)}),re(t,"beforeChange",t,n),t.cm&&re(t.cm,"beforeChange",t.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function no(t,e,r){if(t.cm){if(!t.cm.curOp)return Gn(t.cm,no)(t,e,r);if(t.cm.state.suppressEdits)return}if(!(oe(t,"beforeChange")||t.cm&&oe(t.cm,"beforeChange"))||(e=ro(t,e,!0))){var n=xt&&!r&&function(t,e,r){var n=null;if(t.iter(e.line,r.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var r=t.markedSpans[e].marker;!r.readOnly||n&&-1!=U(n,r)||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:e,to:r}],o=0;o<n.length;++o)for(var s=n[o],a=s.find(0),u=0;u<i.length;++u){var c=i[u];if(!(gt(c.to,a.from)<0||gt(c.from,a.to)>0)){var f=[u,1],l=gt(c.from,a.from),h=gt(c.to,a.to);(l<0||!s.inclusiveLeft&&!l)&&f.push({from:c.from,to:a.from}),(h>0||!s.inclusiveRight&&!h)&&f.push({from:a.to,to:c.to}),i.splice.apply(i,f),u+=f.length-3}}return i}(t,e.from,e.to);if(n)for(var i=n.length-1;i>=0;--i)io(t,{from:n[i].from,to:n[i].to,text:i?[""]:e.text,origin:e.origin});else io(t,e)}}function io(t,e){if(1!=e.text.length||""!=e.text[0]||0!=gt(e.from,e.to)){var r=ki(t,e);Ni(t,e,r,t.cm?t.cm.curOp.id:NaN),ao(t,e,r,It(t,e));var n=[];Mi(t,function(t,r){r||-1!=U(n,t.history)||(lo(t.history,e),n.push(t.history)),ao(t,e,null,It(t,e))})}}function oo(t,e,r){var n=t.cm&&t.cm.state.suppressEdits;if(!n||r){for(var i,o=t.history,s=t.sel,a="undo"==e?o.done:o.undone,u="undo"==e?o.undone:o.done,c=0;c<a.length&&(i=a[c],r?!i.ranges||i.equals(t.sel):i.ranges);c++);if(c!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=a.pop()).ranges){if(n)return void a.push(i);break}if(Fi(i,u),r&&!i.equals(t.sel))return void Gi(t,i,{clearRedo:!1});s=i}var f=[];Fi(s,u),u.push({changes:f,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var l=oe(t,"beforeChange")||t.cm&&oe(t.cm,"beforeChange"),h=function(r){var n=i.changes[r];if(n.origin=e,l&&!ro(t,n,!1))return a.length=0,{};f.push(Bi(t,n));var o=r?ki(t,n):$(a);ao(t,n,o,Di(t,n)),!r&&t.cm&&t.cm.scrollIntoView({from:n.from,to:wi(n)});var s=[];Mi(t,function(t,e){e||-1!=U(s,t.history)||(lo(t.history,n),s.push(t.history)),ao(t,n,null,Di(t,n))})},p=i.changes.length-1;p>=0;--p){var d=h(p);if(d)return d.v}}}}function so(t,e){if(0!=e&&(t.first+=e,t.sel=new gi(Z(t.sel.ranges,function(t){return new vi(mt(t.anchor.line+e,t.anchor.ch),mt(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){Zn(t.cm,t.first,t.first-e,e);for(var r=t.cm.display,n=r.viewFrom;n<r.viewTo;n++)Xn(t.cm,n,"gutter")}}function ao(t,e,r,n){if(t.cm&&!t.cm.curOp)return Gn(t.cm,ao)(t,e,r,n);if(e.to.line<t.first)so(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var i=e.text.length-1-(t.first-e.from.line);so(t,i),e={from:mt(t.first,0),to:mt(e.to.line+i,e.to.ch),text:[$(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:mt(o,at(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=ut(t,e.from,e.to),r||(r=ki(t,e)),t.cm?function(t,e,r){var n=t.doc,i=t.display,o=e.from,s=e.to,a=!1,u=o.line;t.options.lineWrapping||(u=lt(Ut(at(n,o.line))),n.iter(u,s.line+1,function(t){if(t==i.maxLine)return a=!0,!0})),n.sel.contains(e.from,e.to)>-1&&ie(t),Ai(n,e,r,nn(t)),t.options.lineWrapping||(n.iter(u,o.line+e.text.length,function(t){var e=Wt(t);e>i.maxLineLength&&(i.maxLine=t,i.maxLineLength=e,i.maxLineChanged=!0,a=!1)}),a&&(t.curOp.updateMaxLine=!0)),function(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var r=t.first,n=e-1;n>r;n--){var i=at(t,n).stateAfter;if(i&&(!(i instanceof Pe)||n+i.lookAhead<e)){r=n+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,r)}}(n,o.line),ei(t,400);var c=e.text.length-(s.line-o.line)-1;e.full?Zn(t):o.line!=s.line||1!=e.text.length||Ci(t.doc,e)?Zn(t,o.line,s.line+1,c):Xn(t,o.line,"text");var f=oe(t,"changes"),l=oe(t,"change");if(l||f){var h={from:o,to:s,text:e.text,removed:e.removed,origin:e.origin};l&&sr(t,"change",t,h),f&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(h)}t.display.selForContextMenu=null}(t.cm,e,n):Ai(t,e,n),Yi(t,r,K)}}function uo(t,e,r,n,i){var o;n||(n=r),gt(n,r)<0&&(r=(o=[n,r])[0],n=o[1]),"string"==typeof e&&(e=t.splitLines(e)),no(t,{from:r,to:n,text:e,origin:i})}function co(t,e,r,n){r<t.line?t.line+=n:e<t.line&&(t.line=e,t.ch=0)}function fo(t,e,r,n){for(var i=0;i<t.length;++i){var o=t[i],s=!0;if(o.ranges){o.copied||((o=t[i]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)co(o.ranges[a].anchor,e,r,n),co(o.ranges[a].head,e,r,n)}else{for(var u=0;u<o.changes.length;++u){var c=o.changes[u];if(r<c.from.line)c.from=mt(c.from.line+n,c.from.ch),c.to=mt(c.to.line+n,c.to.ch);else if(e<=c.to.line){s=!1;break}}s||(t.splice(0,i+1),i=0)}}}function lo(t,e){var r=e.from.line,n=e.to.line,i=e.text.length-(n-r)-1;fo(t.done,r,n,i),fo(t.undone,r,n,i)}function ho(t,e,r,n){var i=e,o=e;return"number"==typeof e?o=at(t,_t(t,e)):i=lt(e),null==i?null:(n(o,i)&&t.cm&&Xn(t.cm,i,r),o)}function po(t){this.lines=t,this.parent=null;for(var e=0,r=0;r<t.length;++r)t[r].parent=this,e+=t[r].height;this.height=e}function mo(t){this.children=t;for(var e=0,r=0,n=0;n<t.length;++n){var i=t[n];e+=i.chunkSize(),r+=i.height,i.parent=this}this.size=e,this.height=r,this.parent=null}vi.prototype.from=function(){return wt(this.anchor,this.head)},vi.prototype.to=function(){return bt(this.anchor,this.head)},vi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},po.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var r=t,n=t+e;r<n;++r){var i=this.lines[r];this.height-=i.height,We(i),sr(i,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,r){this.height+=r,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var n=0;n<e.length;++n)e[n].parent=this},iterN:function(t,e,r){for(var n=t+e;t<n;++t)if(r(this.lines[t]))return!0}},mo.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(t<i){var o=Math.min(e,i-t),s=n.height;if(n.removeInner(t,o),this.height-=s-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(e-=o))break;t=0}else t-=i}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof po))){var a=[];this.collapse(a),this.children=[new po(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,r){this.size+=e.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(t<=o){if(i.insertInner(t,e,r),i.lines&&i.lines.length>50){for(var s=i.lines.length%25+25,a=s;a<i.lines.length;){var u=new po(i.lines.slice(a,a+=25));i.height-=u.height,this.children.splice(++n,0,u),u.parent=this}i.lines=i.lines.slice(0,s),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),r=new mo(e);if(t.parent){t.size-=r.size,t.height-=r.height;var n=U(t.parent.children,t);t.parent.children.splice(n+1,0,r)}else{var i=new mo(t.children);i.parent=t,t.children=[i,r],t=i}r.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(t<o){var s=Math.min(e,o-t);if(i.iterN(t,s,r))return!0;if(0==(e-=s))break;t=0}else t-=o}}};var go=function(t,e,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=t,this.node=e};function vo(t,e,r){Vt(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&xn(t,r)}go.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,r=this.line,n=lt(r);if(null!=n&&e){for(var i=0;i<e.length;++i)e[i]==this&&e.splice(i--,1);e.length||(r.widgets=null);var o=br(this);ft(r,Math.max(0,r.height-o)),t&&(Wn(t,function(){vo(t,r,-o),Xn(t,n,"widget")}),sr(t,"lineWidgetCleared",t,this,n))}},go.prototype.changed=function(){var t=this,e=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=br(this)-e;i&&(ft(n,n.height+i),r&&Wn(r,function(){r.curOp.forceUpdate=!0,vo(r,n,i),sr(r,"lineWidgetChanged",r,t,lt(n))}))},se(go);var yo=0,bo=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++yo};function wo(t,e,r,n,i){if(n&&n.shared)return function(t,e,r,n,i){(n=j(n)).shared=!1;var o=[wo(t,e,r,n,i)],s=o[0],a=n.widgetNode;return Mi(t,function(t){a&&(n.widgetNode=a.cloneNode(!0)),o.push(wo(t,kt(t,e),kt(t,r),n,i));for(var u=0;u<t.linked.length;++u)if(t.linked[u].isParent)return;s=$(o)}),new _o(o,s)}(t,e,r,n,i);if(t.cm&&!t.cm.curOp)return Gn(t.cm,wo)(t,e,r,n,i);var o=new bo(t,i),s=gt(e,r);if(n&&j(n,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=T("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Dt(t,e.line,e,r,o)||e.line!=r.line&&Dt(t,r.line,e,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Et=!0}o.addToHistory&&Ni(t,{from:e,to:r,origin:"markText"},t.sel,NaN);var a,u=e.line,c=t.cm;if(t.iter(u,r.line+1,function(t){c&&o.collapsed&&!c.options.lineWrapping&&Ut(t)==c.display.maxLine&&(a=!0),o.collapsed&&u!=e.line&&ft(t,0),function(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}(t,new Ct(o,u==e.line?e.ch:null,u==r.line?r.ch:null)),++u}),o.collapsed&&t.iter(e.line,r.line+1,function(e){Kt(t,e)&&ft(e,0)}),o.clearOnEnter&&Qt(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(xt=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++yo,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)Zn(c,e.line,r.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var f=e.line;f<=r.line;f++)Xn(c,f,"text");o.atomic&&Zi(c.doc),sr(c,"markerAdded",c,o)}return o}bo.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Un(t),oe(this,"clear")){var r=this.find();r&&sr(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=At(s.markedSpans,this);t&&!this.collapsed?Xn(t,lt(s),"text"):t&&(null!=a.to&&(i=lt(s)),null!=a.from&&(n=lt(s))),s.markedSpans=Mt(s.markedSpans,a),null==a.from&&this.collapsed&&!Kt(this.doc,s)&&t&&ft(s,Qr(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var c=Ut(this.lines[u]),f=Wt(c);f>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=f,t.display.maxLineChanged=!0)}null!=n&&t&&this.collapsed&&Zn(t,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Zi(t.doc)),t&&sr(t,"markerCleared",t,this,n,i),e&&zn(t),this.parent&&this.parent.clear()}},bo.prototype.find=function(t,e){var r,n;null==t&&"bookmark"==this.type&&(t=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],s=At(o.markedSpans,this);if(null!=s.from&&(r=mt(e?o:lt(o),s.from),-1==t))return r;if(null!=s.to&&(n=mt(e?o:lt(o),s.to),1==t))return n}return r&&{from:r,to:n}},bo.prototype.changed=function(){var t=this,e=this.find(-1,!0),r=this,n=this.doc.cm;e&&n&&Wn(n,function(){var i=e.line,o=lt(e.line),s=Ir(n,o);if(s&&(Fr(s),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Kt(r.doc,i)&&null!=r.height){var a=r.height;r.height=null;var u=br(r)-a;u&&ft(i,i.height+u)}sr(n,"markerChanged",n,t)})},bo.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=U(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},bo.prototype.detachLine=function(t){if(this.lines.splice(U(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},se(bo);var _o=function(t,e){this.markers=t,this.primary=e;for(var r=0;r<t.length;++r)t[r].parent=this};function ko(t){return t.findMarks(mt(t.first,0),t.clipPos(mt(t.lastLine())),function(t){return t.parent})}function So(t){for(var e=function(e){var r=t[e],n=[r.primary.doc];Mi(r.primary.doc,function(t){return n.push(t)});for(var i=0;i<r.markers.length;i++){var o=r.markers[i];-1==U(n,o.doc)&&(o.parent=null,r.markers.splice(i--,1))}},r=0;r<t.length;r++)e(r)}_o.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();sr(this,"clear")}},_o.prototype.find=function(t,e){return this.primary.find(t,e)},se(_o);var xo=0,Eo=function(t,e,r,n,i){if(!(this instanceof Eo))return new Eo(t,e,r,n,i);null==r&&(r=0),mo.call(this,[new po([new Ve("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var o=mt(r,0);this.sel=bi(o),this.history=new Oi(null),this.id=++xo,this.modeOption=e,this.lineSep=n,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Ai(this,{from:o,to:o,text:t}),Gi(this,bi(o),K)};Eo.prototype=J(mo.prototype,{constructor:Eo,iter:function(t,e,r){r?this.iterN(t-this.first,e-t,r):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var r=0,n=0;n<e.length;++n)r+=e[n].height;this.insertInner(t-this.first,e,r)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=ct(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:$n(function(t){var e=mt(this.first,0),r=this.first+this.size-1;no(this,{from:e,to:mt(r,at(this,r).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Cn(this.cm,0,0),Gi(this,bi(e),K)}),replaceRange:function(t,e,r,n){e=kt(this,e),r=r?kt(this,r):e,uo(this,t,e,r,n)},getRange:function(t,e,r){var n=ut(this,kt(this,t),kt(this,e));return!1===r?n:n.join(r||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(pt(this,t))return at(this,t)},getLineNumber:function(t){return lt(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=at(this,t)),Ut(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return kt(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:$n(function(t,e,r){Vi(this,kt(this,"number"==typeof t?mt(t,e||0):t),null,r)}),setSelection:$n(function(t,e,r){Vi(this,kt(this,t),kt(this,e||t),r)}),extendSelection:$n(function(t,e,r){Hi(this,kt(this,t),e&&kt(this,e),r)}),extendSelections:$n(function(t,e){Ki(this,St(this,t),e)}),extendSelectionsBy:$n(function(t,e){var r=Z(this.sel.ranges,t);Ki(this,St(this,r),e)}),setSelections:$n(function(t,e,r){if(t.length){for(var n=[],i=0;i<t.length;i++)n[i]=new vi(kt(this,t[i].anchor),kt(this,t[i].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),Gi(this,yi(n,e),r)}}),addSelection:$n(function(t,e,r){var n=this.sel.ranges.slice(0);n.push(new vi(kt(this,t),kt(this,e||t))),Gi(this,yi(n,n.length-1),r)}),getSelection:function(t){for(var e,r=this.sel.ranges,n=0;n<r.length;n++){var i=ut(this,r[n].from(),r[n].to());e=e?e.concat(i):i}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=ut(this,r[n].from(),r[n].to());!1!==t&&(i=i.join(t||this.lineSeparator())),e[n]=i}return e},replaceSelection:function(t,e,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=t;this.replaceSelections(n,e,r||"+input")},replaceSelections:$n(function(t,e,r){for(var n=[],i=this.sel,o=0;o<i.ranges.length;o++){var s=i.ranges[o];n[o]={from:s.from(),to:s.to(),text:this.splitLines(t[o]),origin:r}}for(var a=e&&"end"!=e&&function(t,e,r){for(var n=[],i=mt(t.first,0),o=i,s=0;s<e.length;s++){var a=e[s],u=Si(a.from,i,o),c=Si(wi(a),i,o);if(i=a.to,o=c,"around"==r){var f=t.sel.ranges[s],l=gt(f.head,f.anchor)<0;n[s]=new vi(l?c:u,l?u:c)}else n[s]=new vi(u,u)}return new gi(n,t.sel.primIndex)}(this,n,e),u=n.length-1;u>=0;u--)no(this,n[u]);a?Wi(this,a):this.cm&&En(this.cm)}),undo:$n(function(){oo(this,"undo")}),redo:$n(function(){oo(this,"redo")}),undoSelection:$n(function(){oo(this,"undo",!0)}),redoSelection:$n(function(){oo(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,r=0,n=0;n<t.done.length;n++)t.done[n].ranges||++e;for(var i=0;i<t.undone.length;i++)t.undone[i].ranges||++r;return{undo:e,redo:r}},clearHistory:function(){this.history=new Oi(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Ui(this.history.done),undone:Ui(this.history.undone)}},setHistory:function(t){var e=this.history=new Oi(this.history.maxGeneration);e.done=Ui(t.done.slice(0),null,!0),e.undone=Ui(t.undone.slice(0),null,!0)},setGutterMarker:$n(function(t,e,r){return ho(this,t,"gutter",function(t){var n=t.gutterMarkers||(t.gutterMarkers={});return n[e]=r,!r&&rt(n)&&(t.gutterMarkers=null),!0})}),clearGutter:$n(function(t){var e=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[t]&&ho(e,r,"gutter",function(){return r.gutterMarkers[t]=null,rt(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(t){var e;if("number"==typeof t){if(!pt(this,t))return null;if(e=t,!(t=at(this,t)))return null}else if(null==(e=lt(t)))return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:$n(function(t,e,r){return ho(this,t,"gutter"==e?"gutter":"class",function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[n]){if(x(r).test(t[n]))return!1;t[n]+=" "+r}else t[n]=r;return!0})}),removeLineClass:$n(function(t,e,r){return ho(this,t,"gutter"==e?"gutter":"class",function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",i=t[n];if(!i)return!1;if(null==r)t[n]=null;else{var o=i.match(x(r));if(!o)return!1;var s=o.index+o[0].length;t[n]=i.slice(0,o.index)+(o.index&&s!=i.length?" ":"")+i.slice(s)||null}return!0})}),addLineWidget:$n(function(t,e,r){return function(t,e,r,n){var i=new go(t,r,n),o=t.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),ho(t,e,"widget",function(e){var r=e.widgets||(e.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=e,o&&!Kt(t,e)){var n=Vt(e)<t.scrollTop;ft(e,e.height+br(i)),n&&xn(o,i.height),o.curOp.forceUpdate=!0}return!0}),o&&sr(o,"lineWidgetAdded",o,i,"number"==typeof e?e:lt(e)),i}(this,t,e,r)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,r){return wo(this,kt(this,t),kt(this,e),r,r&&r.type||"range")},setBookmark:function(t,e){var r={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return wo(this,t=kt(this,t),t,r,"bookmark")},findMarksAt:function(t){var e=[],r=at(this,(t=kt(this,t)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&e.push(i.marker.parent||i.marker)}return e},findMarks:function(t,e,r){t=kt(this,t),e=kt(this,e);var n=[],i=t.line;return this.iter(t.line,e.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var u=s[a];null!=u.to&&i==t.line&&t.ch>=u.to||null==u.from&&i!=t.line||null!=u.from&&i==e.line&&u.from>=e.ch||r&&!r(u.marker)||n.push(u.marker.parent||u.marker)}++i}),n},getAllMarks:function(){var t=[];return this.iter(function(e){var r=e.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&t.push(r[n].marker)}),t},posFromIndex:function(t){var e,r=this.first,n=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+n;if(o>t)return e=t,!0;t-=o,++r}),kt(this,mt(r,e))},indexFromPos:function(t){var e=(t=kt(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,t.line,function(t){e+=t.text.length+r}),e},copy:function(t){var e=new Eo(ct(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,r=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<r&&(r=t.to);var n=new Eo(ct(this,e,r),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],function(t,e){for(var r=0;r<e.length;r++){var n=e[r],i=n.find(),o=t.clipPos(i.from),s=t.clipPos(i.to);if(gt(o,s)){var a=wo(t,o,s,n.primary,n.primary.type);n.markers.push(a),a.parent=n}}}(n,ko(this)),n},unlinkDoc:function(t){if(t instanceof ks&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e){var r=this.linked[e];if(r.doc==t){this.linked.splice(e,1),t.unlinkDoc(this),So(ko(this));break}}if(t.history==this.history){var n=[t.id];Mi(t,function(t){return n.push(t.id)},!0),t.history=new Oi(null),t.history.done=Ui(this.history.done,n),t.history.undone=Ui(this.history.undone,n)}},iterLinkedDocs:function(t){Mi(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):be(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:$n(function(t){var e;"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(t){return t.order=null}),this.cm&&Wn(e=this.cm,function(){Ti(e),Zn(e)}))})}),Eo.prototype.eachLine=Eo.prototype.iter;var Co=0;function Ao(t){var e=this;if(Mo(e),!ne(e,t)&&!wr(e.display,t)){ae(t),s&&(Co=+new Date);var r=sn(e,t,!0),n=t.dataTransfer.files;if(r&&!e.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),a=0,u=function(t,n){if(!e.options.allowDropFileTypes||-1!=U(e.options.allowDropFileTypes,t.type)){var s=new FileReader;s.onload=Gn(e,function(){var t=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[n]=t,++a==i){var u={from:r=kt(e.doc,r),to:r,text:e.doc.splitLines(o.join(e.doc.lineSeparator())),origin:"paste"};no(e.doc,u),Wi(e.doc,bi(r,wi(u)))}}),s.readAsText(t)}},c=0;c<i;++c)u(n[c],c);else{if(e.state.draggingText&&e.doc.sel.contains(r)>-1)return e.state.draggingText(t),void setTimeout(function(){return e.display.input.focus()},20);try{var f=t.dataTransfer.getData("Text");if(f){var l;if(e.state.draggingText&&!e.state.draggingText.copy&&(l=e.listSelections()),Yi(e.doc,bi(r,r)),l)for(var h=0;h<l.length;++h)uo(e.doc,"",l[h].anchor,l[h].head,"drag");e.replaceSelection(f,"around","paste"),e.display.input.focus()}}catch(t){}}}}function Mo(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function Io(t){if(document.getElementsByClassName)for(var e=document.getElementsByClassName("CodeMirror"),r=0;r<e.length;r++){var n=e[r].CodeMirror;n&&t(n)}}var To=!1;function Oo(){var t;To||(Qt(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,Io(Bo)},100))}),Qt(window,"blur",function(){return Io(vn)}),To=!0)}function Bo(t){var e=t.display;e.lastWrapHeight==e.wrapper.clientHeight&&e.lastWrapWidth==e.wrapper.clientWidth||(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize())}for(var Po={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},No=0;No<10;No++)Po[No+48]=Po[No+96]=String(No);for(var Ro=65;Ro<=90;Ro++)Po[Ro]=String.fromCharCode(Ro);for(var Fo=1;Fo<=12;Fo++)Po[Fo+111]=Po[Fo+63235]="F"+Fo;var jo={};function Lo(t){var e,r,n,i,o=t.split(/-(?!$)/);t=o[o.length-1];for(var s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);n=!0}}return e&&(t="Alt-"+t),r&&(t="Ctrl-"+t),i&&(t="Cmd-"+t),n&&(t="Shift-"+t),t}function Do(t){var e={};for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete t[r];continue}for(var i=Z(r.split(" "),Lo),o=0;o<i.length;o++){var s=void 0,a=void 0;o==i.length-1?(a=i.join(" "),s=n):(a=i.slice(0,o+1).join(" "),s="...");var u=e[a];if(u){if(u!=s)throw new Error("Inconsistent bindings for "+a)}else e[a]=s}delete t[r]}for(var c in e)t[c]=e[c];return t}function Uo(t,e,r,n){var i=(e=qo(e)).call?e.call(t,n):e[t];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return Uo(t,e.fallthrough,r,n);for(var o=0;o<e.fallthrough.length;o++){var s=Uo(t,e.fallthrough[o],r,n);if(s)return s}}}function zo(t){var e="string"==typeof t?t:Po[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function Ho(t,e,r){var n=t;return e.altKey&&"Alt"!=n&&(t="Alt-"+t),(k?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(t="Ctrl-"+t),(k?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(t="Cmd-"+t),!r&&e.shiftKey&&"Shift"!=n&&(t="Shift-"+t),t}function Ko(t,e){if(l&&34==t.keyCode&&t.char)return!1;var r=Po[t.keyCode];return null!=r&&!t.altGraphKey&&(3==t.keyCode&&t.code&&(r=t.code),Ho(r,t,e))}function qo(t){return"string"==typeof t?jo[t]:t}function Vo(t,e){for(var r=t.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=e(r[i]);n.length&&gt(o.from,$(n).to)<=0;){var s=n.pop();if(gt(s.from,o.from)<0){o.from=s.from;break}}n.push(o)}Wn(t,function(){for(var e=n.length-1;e>=0;e--)uo(t.doc,"",n[e].from,n[e].to,"+delete");En(t)})}function Wo(t,e,r){var n=ot(t.text,e+r,r);return n<0||n>t.text.length?null:n}function Go(t,e,r){var n=Wo(t,e.ch,r);return null==n?null:new mt(e.line,n,r<0?"after":"before")}function Yo(t,e,r,n,i){if(t){var o=Xt(r,e.doc.direction);if(o){var s,a=i<0?$(o):o[0],u=i<0==(1==a.level),c=u?"after":"before";if(a.level>0||"rtl"==e.doc.direction){var f=Tr(e,r);s=i<0?r.text.length-1:0;var l=Or(e,f,s).top;s=st(function(t){return Or(e,f,t).top==l},i<0==(1==a.level)?a.from:a.to-1,s),"before"==c&&(s=Wo(r,s,1))}else s=i<0?a.to:a.from;return new mt(n,s,c)}}return new mt(n,i<0?r.text.length:0,i<0?"before":"after")}jo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},jo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},jo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},jo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},jo.default=y?jo.macDefault:jo.pcDefault;var $o={selectAll:eo,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),K)},killLine:function(t){return Vo(t,function(e){if(e.empty()){var r=at(t.doc,e.head.line).text.length;return e.head.ch==r&&e.head.line<t.lastLine()?{from:e.head,to:mt(e.head.line+1,0)}:{from:e.head,to:mt(e.head.line,r)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){return Vo(t,function(e){return{from:mt(e.from().line,0),to:kt(t.doc,mt(e.to().line+1,0))}})},delLineLeft:function(t){return Vo(t,function(t){return{from:mt(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){return Vo(t,function(e){var r=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:r},"div");return{from:n,to:e.from()}})},delWrappedLineRight:function(t){return Vo(t,function(e){var r=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:r},"div");return{from:e.from(),to:n}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(mt(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(mt(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return Zo(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return Xo(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return function(t,e){var r=at(t.doc,e),n=function(t){for(var e;e=Lt(t);)t=e.find(1,!0).line;return t}(r);return n!=r&&(e=lt(n)),Yo(!0,t,r,e,-1)}(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){var r=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:r},"div")},V)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){var r=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:r},"div")},V)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(e){var r=t.cursorCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:r},"div");return n.ch<t.getLine(n.line).search(/\S/)?Xo(t,e.head):n},V)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"char")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],r=t.listSelections(),n=t.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),s=L(t.getLine(o.line),o.ch,n);e.push(Y(n-s%n))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return Wn(t,function(){for(var e=t.listSelections(),r=[],n=0;n<e.length;n++)if(e[n].empty()){var i=e[n].head,o=at(t.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new mt(i.line,i.ch-1)),i.ch>0)i=new mt(i.line,i.ch+1),t.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),mt(i.line,i.ch-2),i,"+transpose");else if(i.line>t.doc.first){var s=at(t.doc,i.line-1).text;s&&(i=new mt(i.line,1),t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+s.charAt(s.length-1),mt(i.line-1,s.length-1),i,"+transpose"))}r.push(new vi(i,i))}t.setSelections(r)})},newlineAndIndent:function(t){return Wn(t,function(){for(var e=t.listSelections(),r=e.length-1;r>=0;r--)t.replaceRange(t.doc.lineSeparator(),e[r].anchor,e[r].head,"+input");e=t.listSelections();for(var n=0;n<e.length;n++)t.indentLine(e[n].from().line,null,!0);En(t)})},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function Zo(t,e){var r=at(t.doc,e),n=Ut(r);return n!=r&&(e=lt(n)),Yo(!0,t,n,e,1)}function Xo(t,e){var r=Zo(t,e.line),n=at(t.doc,r.line),i=Xt(n,t.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,n.text.search(/\S/)),s=e.line==r.line&&e.ch<=o&&e.ch;return mt(r.line,s?0:o,r.sticky)}return r}function Jo(t,e,r){if("string"==typeof e&&!(e=$o[e]))return!1;t.display.input.ensurePolled();var n=t.display.shift,i=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),r&&(t.display.shift=!1),i=e(t)!=H}finally{t.display.shift=n,t.state.suppressEdits=!1}return i}var Qo=new D;function ts(t,e,r,n){var i=t.state.keySeq;if(i){if(zo(e))return"handled";if(/\'$/.test(e)?t.state.keySeq=null:Qo.set(50,function(){t.state.keySeq==i&&(t.state.keySeq=null,t.display.input.reset())}),es(t,i+" "+e,r,n))return!0}return es(t,e,r,n)}function es(t,e,r,n){var i=function(t,e,r){for(var n=0;n<t.state.keyMaps.length;n++){var i=Uo(e,t.state.keyMaps[n],r,t);if(i)return i}return t.options.extraKeys&&Uo(e,t.options.extraKeys,r,t)||Uo(e,t.options.keyMap,r,t)}(t,e,n);return"multi"==i&&(t.state.keySeq=e),"handled"==i&&sr(t,"keyHandled",t,e,r),"handled"!=i&&"multi"!=i||(ae(r),pn(t)),!!i}function rs(t,e){var r=Ko(e,!0);return!!r&&(e.shiftKey&&!t.state.keySeq?ts(t,"Shift-"+r,e,function(e){return Jo(t,e,!0)})||ts(t,r,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return Jo(t,e)}):ts(t,r,e,function(e){return Jo(t,e)}))}var ns=null;function is(t){var e=this;if(e.curOp.focus=B(),!ne(e,t)){s&&a<11&&27==t.keyCode&&(t.returnValue=!1);var r=t.keyCode;e.display.shift=16==r||t.shiftKey;var n=rs(e,t);l&&(ns=n?r:null,!n&&88==r&&!_e&&(y?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=r||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||function(t){var e=t.display.lineDiv;function r(t){18!=t.keyCode&&t.altKey||(C(e,"CodeMirror-crosshair"),ee(document,"keyup",r),ee(document,"mouseover",r))}P(e,"CodeMirror-crosshair"),Qt(document,"keyup",r),Qt(document,"mouseover",r)}(e)}}function os(t){16==t.keyCode&&(this.doc.sel.shift=!1),ne(this,t)}function ss(t){var e=this;if(!(wr(e.display,t)||ne(e,t)||t.ctrlKey&&!t.altKey||y&&t.metaKey)){var r=t.keyCode,n=t.charCode;if(l&&r==ns)return ns=null,void ae(t);if(!l||t.which&&!(t.which<10)||!rs(e,t)){var i=String.fromCharCode(null==n?r:n);"\b"!=i&&(function(t,e,r){return ts(t,"'"+r+"'",e,function(e){return Jo(t,e,!0)})}(e,t,i)||e.display.input.onKeyPress(t))}}}var as,us,cs=function(t,e,r){this.time=t,this.pos=e,this.button=r};function fs(t){var e=this,r=e.display;if(!(ne(e,t)||r.activeTouch&&r.input.supportsTouch()))if(r.input.ensurePolled(),r.shift=t.shiftKey,wr(r,t))u||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100));else if(!ps(e,t)){var n=sn(e,t),i=he(t),o=n?function(t,e){var r=+new Date;return us&&us.compare(r,t,e)?(as=us=null,"triple"):as&&as.compare(r,t,e)?(us=new cs(r,t,e),as=null,"double"):(as=new cs(r,t,e),us=null,"single")}(n,i):"single";window.focus(),1==i&&e.state.selectingText&&e.state.selectingText(t),n&&function(t,e,r,n,i){var o="Click";return"double"==n?o="Double"+o:"triple"==n&&(o="Triple"+o),ts(t,Ho(o=(1==e?"Left":2==e?"Middle":"Right")+o,i),i,function(e){if("string"==typeof e&&(e=$o[e]),!e)return!1;var n=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n=e(t,r)!=H}finally{t.state.suppressEdits=!1}return n})}(e,i,n,o,t)||(1==i?n?function(t,e,r,n){s?setTimeout(F(dn,t),0):t.curOp.focus=B();var i,o=function(t,e,r){var n=t.getOption("configureMouse"),i=n?n(t,e,r):{};if(null==i.unit){var o=b?r.shiftKey&&r.metaKey:r.altKey;i.unit=o?"rectangle":"single"==e?"char":"double"==e?"word":"line"}return(null==i.extend||t.doc.extend)&&(i.extend=t.doc.extend||r.shiftKey),null==i.addNew&&(i.addNew=y?r.metaKey:r.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(y?r.altKey:r.ctrlKey)),i}(t,r,n),c=t.doc.sel;t.options.dragDrop&&me&&!t.isReadOnly()&&"single"==r&&(i=c.contains(e))>-1&&(gt((i=c.ranges[i]).from(),e)<0||e.xRel>0)&&(gt(i.to(),e)>0||e.xRel<0)?function(t,e,r,n){var i=t.display,o=!1,c=Gn(t,function(e){u&&(i.scroller.draggable=!1),t.state.draggingText=!1,ee(i.wrapper.ownerDocument,"mouseup",c),ee(i.wrapper.ownerDocument,"mousemove",f),ee(i.scroller,"dragstart",l),ee(i.scroller,"drop",c),o||(ae(e),n.addNew||Hi(t.doc,r,null,null,n.extend),u||s&&9==a?setTimeout(function(){i.wrapper.ownerDocument.body.focus(),i.input.focus()},20):i.input.focus())}),f=function(t){o=o||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},l=function(){return o=!0};u&&(i.scroller.draggable=!0),t.state.draggingText=c,c.copy=!n.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),Qt(i.wrapper.ownerDocument,"mouseup",c),Qt(i.wrapper.ownerDocument,"mousemove",f),Qt(i.scroller,"dragstart",l),Qt(i.scroller,"drop",c),mn(t),setTimeout(function(){return i.input.focus()},20)}(t,n,e,o):function(t,e,r,n){var i=t.display,o=t.doc;ae(e);var s,a,u=o.sel,c=u.ranges;if(n.addNew&&!n.extend?(a=o.sel.contains(r),s=a>-1?c[a]:new vi(r,r)):(s=o.sel.primary(),a=o.sel.primIndex),"rectangle"==n.unit)n.addNew||(s=new vi(r,r)),r=sn(t,e,!0,!0),a=-1;else{var f=ls(t,r,n.unit);s=n.extend?zi(s,f.anchor,f.head,n.extend):f}n.addNew?-1==a?(a=c.length,Gi(o,yi(c.concat([s]),a),{scroll:!1,origin:"*mouse"})):c.length>1&&c[a].empty()&&"char"==n.unit&&!n.extend?(Gi(o,yi(c.slice(0,a).concat(c.slice(a+1)),0),{scroll:!1,origin:"*mouse"}),u=o.sel):qi(o,a,s,q):(a=0,Gi(o,new gi([s],0),q),u=o.sel);var l=r;function h(e){if(0!=gt(l,e))if(l=e,"rectangle"==n.unit){for(var i=[],c=t.options.tabSize,f=L(at(o,r.line).text,r.ch,c),h=L(at(o,e.line).text,e.ch,c),p=Math.min(f,h),d=Math.max(f,h),m=Math.min(r.line,e.line),g=Math.min(t.lastLine(),Math.max(r.line,e.line));m<=g;m++){var v=at(o,m).text,y=W(v,p,c);p==d?i.push(new vi(mt(m,y),mt(m,y))):v.length>y&&i.push(new vi(mt(m,y),mt(m,W(v,d,c))))}i.length||i.push(new vi(r,r)),Gi(o,yi(u.ranges.slice(0,a).concat(i),a),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var b,w=s,_=ls(t,e,n.unit),k=w.anchor;gt(_.anchor,k)>0?(b=_.head,k=wt(w.from(),_.anchor)):(b=_.anchor,k=bt(w.to(),_.head));var S=u.ranges.slice(0);S[a]=function(t,e){var r=e.anchor,n=e.head,i=at(t.doc,r.line);if(0==gt(r,n)&&r.sticky==n.sticky)return e;var o=Xt(i);if(!o)return e;var s=$t(o,r.ch,r.sticky),a=o[s];if(a.from!=r.ch&&a.to!=r.ch)return e;var u,c=s+(a.from==r.ch==(1!=a.level)?0:1);if(0==c||c==o.length)return e;if(n.line!=r.line)u=(n.line-r.line)*("ltr"==t.doc.direction?1:-1)>0;else{var f=$t(o,n.ch,n.sticky),l=f-s||(n.ch-r.ch)*(1==a.level?-1:1);u=f==c-1||f==c?l<0:l>0}var h=o[c+(u?-1:0)],p=u==(1==h.level),d=p?h.from:h.to,m=p?"after":"before";return r.ch==d&&r.sticky==m?e:new vi(new mt(r.line,d,m),n)}(t,new vi(kt(o,k),b)),Gi(o,yi(S,a),q)}}var p=i.wrapper.getBoundingClientRect(),d=0;function m(e){t.state.selectingText=!1,d=1/0,ae(e),i.input.focus(),ee(i.wrapper.ownerDocument,"mousemove",g),ee(i.wrapper.ownerDocument,"mouseup",v),o.history.lastSelOrigin=null}var g=Gn(t,function(e){he(e)?function e(r){var s=++d,a=sn(t,r,!0,"rectangle"==n.unit);if(a)if(0!=gt(a,l)){t.curOp.focus=B(),h(a);var u=wn(i,o);(a.line>=u.to||a.line<u.from)&&setTimeout(Gn(t,function(){d==s&&e(r)}),150)}else{var c=r.clientY<p.top?-20:r.clientY>p.bottom?20:0;c&&setTimeout(Gn(t,function(){d==s&&(i.scroller.scrollTop+=c,e(r))}),50)}}(e):m(e)}),v=Gn(t,m);t.state.selectingText=v,Qt(i.wrapper.ownerDocument,"mousemove",g),Qt(i.wrapper.ownerDocument,"mouseup",v)}(t,n,e,o)}(e,n,o,t):le(t)==r.scroller&&ae(t):2==i?(n&&Hi(e.doc,n),setTimeout(function(){return r.input.focus()},20)):3==i&&(S?ds(e,t):mn(e)))}}function ls(t,e,r){if("char"==r)return new vi(e,e);if("word"==r)return t.findWordAt(e);if("line"==r)return new vi(mt(e.line,0),kt(t.doc,mt(e.line+1,0)));var n=r(t,e);return new vi(n.from,n.to)}function hs(t,e,r,n){var i,o;if(e.touches)i=e.touches[0].clientX,o=e.touches[0].clientY;else try{i=e.clientX,o=e.clientY}catch(e){return!1}if(i>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;n&&ae(e);var s=t.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!oe(t,r))return ce(e);o-=a.top-s.viewOffset;for(var u=0;u<t.options.gutters.length;++u){var c=s.gutters.childNodes[u];if(c&&c.getBoundingClientRect().right>=i){var f=ht(t.doc,o),l=t.options.gutters[u];return re(t,r,t,f,l,e),ce(e)}}}function ps(t,e){return hs(t,e,"gutterClick",!0)}function ds(t,e){wr(t.display,e)||function(t,e){return!!oe(t,"gutterContextMenu")&&hs(t,e,"gutterContextMenu",!1)}(t,e)||ne(t,e,"contextmenu")||t.display.input.onContextMenu(e)}function ms(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Lr(t)}cs.prototype.compare=function(t,e,r){return this.time+400>t&&0==gt(e,this.pos)&&r==this.button};var gs={toString:function(){return"CodeMirror.Init"}},vs={},ys={};function bs(t){ci(t),Zn(t),_n(t)}function ws(t,e,r){var n=r&&r!=gs;if(!e!=!n){var i=t.display.dragFunctions,o=e?Qt:ee;o(t.display.scroller,"dragstart",i.start),o(t.display.scroller,"dragenter",i.enter),o(t.display.scroller,"dragover",i.over),o(t.display.scroller,"dragleave",i.leave),o(t.display.scroller,"drop",i.drop)}}function _s(t){t.options.lineWrapping?(P(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(C(t.display.wrapper,"CodeMirror-wrap"),Gt(t)),on(t),Zn(t),Lr(t),setTimeout(function(){return Rn(t)},100)}function ks(t,e){var n=this;if(!(this instanceof ks))return new ks(t,e);this.options=e=e?j(e):{},j(vs,e,!1),fi(e);var i=e.value;"string"==typeof i&&(i=new Eo(i,e.mode,null,e.lineSeparator,e.direction)),this.doc=i;var o=new ks.inputStyles[e.inputStyle](this),c=this.display=new function(t,e,n){var i=this;this.input=n,i.scrollbarFiller=I("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=I("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=T("div",null,"CodeMirror-code"),i.selectionDiv=I("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=I("div",null,"CodeMirror-cursors"),i.measure=I("div",null,"CodeMirror-measure"),i.lineMeasure=I("div",null,"CodeMirror-measure"),i.lineSpace=T("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var o=T("div",[i.lineSpace],"CodeMirror-lines");i.mover=I("div",[o],null,"position: relative"),i.sizer=I("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=I("div",null,null,"position: absolute; height: "+z+"px; width: 1px;"),i.gutters=I("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=I("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=I("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),s&&a<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),u||r&&v||(i.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(i.wrapper):t(i.wrapper)),i.viewFrom=i.viewTo=e.first,i.reportedViewFrom=i.reportedViewTo=e.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,n.init(i)}(t,i,o);for(var f in c.wrapper.CodeMirror=this,ci(this),ms(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Ln(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new D,keySeq:null,specialChars:null},e.autofocus&&!v&&c.input.focus(),s&&a<11&&setTimeout(function(){return n.display.input.reset(!0)},20),function(t){var e=t.display;Qt(e.scroller,"mousedown",Gn(t,fs)),Qt(e.scroller,"dblclick",s&&a<11?Gn(t,function(e){if(!ne(t,e)){var r=sn(t,e);if(r&&!ps(t,e)&&!wr(t.display,e)){ae(e);var n=t.findWordAt(r);Hi(t.doc,n.anchor,n.head)}}}):function(e){return ne(t,e)||ae(e)}),S||Qt(e.scroller,"contextmenu",function(e){return ds(t,e)});var r,n={end:0};function i(){e.activeTouch&&(r=setTimeout(function(){return e.activeTouch=null},1e3),(n=e.activeTouch).end=+new Date)}function o(t,e){if(null==e.left)return!0;var r=e.left-t.left,n=e.top-t.top;return r*r+n*n>400}Qt(e.scroller,"touchstart",function(i){if(!ne(t,i)&&!function(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}(i)&&!ps(t,i)){e.input.ensurePolled(),clearTimeout(r);var o=+new Date;e.activeTouch={start:o,moved:!1,prev:o-n.end<=300?n:null},1==i.touches.length&&(e.activeTouch.left=i.touches[0].pageX,e.activeTouch.top=i.touches[0].pageY)}}),Qt(e.scroller,"touchmove",function(){e.activeTouch&&(e.activeTouch.moved=!0)}),Qt(e.scroller,"touchend",function(r){var n=e.activeTouch;if(n&&!wr(e,r)&&null!=n.left&&!n.moved&&new Date-n.start<300){var s,a=t.coordsChar(e.activeTouch,"page");s=!n.prev||o(n,n.prev)?new vi(a,a):!n.prev.prev||o(n,n.prev.prev)?t.findWordAt(a):new vi(mt(a.line,0),kt(t.doc,mt(a.line+1,0))),t.setSelection(s.anchor,s.head),t.focus(),ae(r)}i()}),Qt(e.scroller,"touchcancel",i),Qt(e.scroller,"scroll",function(){e.scroller.clientHeight&&(In(t,e.scroller.scrollTop),On(t,e.scroller.scrollLeft,!0),re(t,"scroll",t))}),Qt(e.scroller,"mousewheel",function(e){return mi(t,e)}),Qt(e.scroller,"DOMMouseScroll",function(e){return mi(t,e)}),Qt(e.wrapper,"scroll",function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0}),e.dragFunctions={enter:function(e){ne(t,e)||fe(e)},over:function(e){ne(t,e)||(function(t,e){var r=sn(t,e);if(r){var n=document.createDocumentFragment();fn(t,r,n),t.display.dragCursor||(t.display.dragCursor=I("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),M(t.display.dragCursor,n)}}(t,e),fe(e))},start:function(e){return function(t,e){if(s&&(!t.state.draggingText||+new Date-Co<100))fe(e);else if(!ne(t,e)&&!wr(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!h)){var r=I("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",l&&(r.width=r.height=1,t.display.wrapper.appendChild(r),r._top=r.offsetTop),e.dataTransfer.setDragImage(r,0,0),l&&r.parentNode.removeChild(r)}}(t,e)},drop:Gn(t,Ao),leave:function(e){ne(t,e)||Mo(t)}};var u=e.input.getField();Qt(u,"keyup",function(e){return os.call(t,e)}),Qt(u,"keydown",Gn(t,is)),Qt(u,"keypress",Gn(t,ss)),Qt(u,"focus",function(e){return gn(t,e)}),Qt(u,"blur",function(e){return vn(t,e)})}(this),Oo(),Un(this),this.curOp.forceUpdate=!0,Ii(this,i),e.autofocus&&!v||this.hasFocus()?setTimeout(F(gn,this),20):vn(this),ys)ys.hasOwnProperty(f)&&ys[f](n,e[f],gs);kn(this),e.finishInit&&e.finishInit(this);for(var p=0;p<Ss.length;++p)Ss[p](n);zn(this),u&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(c.lineDiv).textRendering&&(c.lineDiv.style.textRendering="auto")}ks.defaults=vs,ks.optionHandlers=ys;var Ss=[];function xs(t,e,r,n){var i,o=t.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=je(t,e).state:r="prev");var s=t.options.tabSize,a=at(o,e),u=L(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,f=a.text.match(/^\s*/)[0];if(n||/\S/.test(a.text)){if("smart"==r&&((c=o.mode.indent(i,a.text.slice(f.length),a.text))==H||c>150)){if(!n)return;r="prev"}}else c=0,r="not";"prev"==r?c=e>o.first?L(at(o,e-1).text,null,s):0:"add"==r?c=u+t.options.indentUnit:"subtract"==r?c=u-t.options.indentUnit:"number"==typeof r&&(c=u+r),c=Math.max(0,c);var l="",h=0;if(t.options.indentWithTabs)for(var p=Math.floor(c/s);p;--p)h+=s,l+="\t";if(h<c&&(l+=Y(c-h)),l!=f)return uo(o,l,mt(e,0),mt(e,f.length),"+input"),a.stateAfter=null,!0;for(var d=0;d<o.sel.ranges.length;d++){var m=o.sel.ranges[d];if(m.head.line==e&&m.head.ch<f.length){var g=mt(e,f.length);qi(o,d,new vi(g,g));break}}}ks.defineInitHook=function(t){return Ss.push(t)};var Es=null;function Cs(t){Es=t}function As(t,e,r,n,i){var o=t.doc;t.display.shift=!1,n||(n=o.sel);var s,a=t.state.pasteIncoming||"paste"==i,u=be(e),c=null;if(a&&n.ranges.length>1)if(Es&&Es.text.join("\n")==e){if(n.ranges.length%Es.text.length==0){c=[];for(var f=0;f<Es.text.length;f++)c.push(o.splitLines(Es.text[f]))}}else u.length==n.ranges.length&&t.options.pasteLinesPerSelection&&(c=Z(u,function(t){return[t]}));for(var l=n.ranges.length-1;l>=0;l--){var h=n.ranges[l],p=h.from(),d=h.to();h.empty()&&(r&&r>0?p=mt(p.line,p.ch-r):t.state.overwrite&&!a?d=mt(d.line,Math.min(at(o,d.line).text.length,d.ch+$(u).length)):Es&&Es.lineWise&&Es.text.join("\n")==e&&(p=d=mt(p.line,0))),s=t.curOp.updateInput;var m={from:p,to:d,text:c?c[l%c.length]:u,origin:i||(a?"paste":t.state.cutIncoming?"cut":"+input")};no(t.doc,m),sr(t,"inputRead",t,m)}e&&!a&&Is(t,e),En(t),t.curOp.updateInput=s,t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function Ms(t,e){var r=t.clipboardData&&t.clipboardData.getData("Text");if(r)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||Wn(e,function(){return As(e,r,0,null,"paste")}),!0}function Is(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var r=t.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=t.getModeAt(i.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(e.indexOf(o.electricChars.charAt(a))>-1){s=xs(t,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(at(t.doc,i.head.line).text.slice(0,i.head.ch))&&(s=xs(t,i.head.line,"smart"));s&&sr(t,"electricInput",t,i.head.line)}}}function Ts(t){for(var e=[],r=[],n=0;n<t.doc.sel.ranges.length;n++){var i=t.doc.sel.ranges[n].head.line,o={anchor:mt(i,0),head:mt(i+1,0)};r.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:r}}function Os(t,e){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck",!!e)}function Bs(){var t=I("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=I("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return u?t.style.width="1000px":t.setAttribute("wrap","off"),m&&(t.style.border="1px solid black"),Os(t),e}function Ps(t,e,r,n,i){var o=e,s=r,a=at(t,e.line);function u(n){var o,s;if(null==(o=i?function(t,e,r,n){var i=Xt(e,t.doc.direction);if(!i)return Go(e,r,n);r.ch>=e.text.length?(r.ch=e.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var o=$t(i,r.ch,r.sticky),s=i[o];if("ltr"==t.doc.direction&&s.level%2==0&&(n>0?s.to>r.ch:s.from<r.ch))return Go(e,r,n);var a,u=function(t,r){return Wo(e,t instanceof mt?t.ch:t,r)},c=function(r){return t.options.lineWrapping?(a=a||Tr(t,e),Zr(t,e,a,r)):{begin:0,end:e.text.length}},f=c("before"==r.sticky?u(r,-1):r.ch);if("rtl"==t.doc.direction||1==s.level){var l=1==s.level==n<0,h=u(r,l?1:-1);if(null!=h&&(l?h<=s.to&&h<=f.end:h>=s.from&&h>=f.begin)){var p=l?"before":"after";return new mt(r.line,h,p)}}var d=function(t,e,n){for(var o=function(t,e){return e?new mt(r.line,u(t,1),"before"):new mt(r.line,t,"after")};t>=0&&t<i.length;t+=e){var s=i[t],a=e>0==(1!=s.level),c=a?n.begin:u(n.end,-1);if(s.from<=c&&c<s.to)return o(c,a);if(c=a?s.from:u(s.to,-1),n.begin<=c&&c<n.end)return o(c,a)}},m=d(o+n,n,f);if(m)return m;var g=n>0?f.end:u(f.begin,-1);return null==g||n>0&&g==e.text.length||!(m=d(n>0?0:i.length-1,n,c(g)))?null:m}(t.cm,a,e,r):Go(a,e,r))){if(n||((s=e.line+r)<t.first||s>=t.first+t.size||(e=new mt(s,e.ch,e.sticky),!(a=at(t,s)))))return!1;e=Yo(i,t.cm,a,e.line,r)}else e=o;return!0}if("char"==n)u();else if("column"==n)u(!0);else if("word"==n||"group"==n)for(var c=null,f="group"==n,l=t.cm&&t.cm.getHelper(e,"wordChars"),h=!0;!(r<0)||u(!h);h=!1){var p=a.text.charAt(e.ch)||"\n",d=et(p,l)?"w":f&&"\n"==p?"n":!f||/\s/.test(p)?null:"p";if(!f||h||d||(d="s"),c&&c!=d){r<0&&(r=1,u(),e.sticky="after");break}if(d&&(c=d),r>0&&!u(!h))break}var m=Qi(t,e,o,s,!0);return vt(o,m)&&(m.hitSide=!0),m}function Ns(t,e,r,n){var i,o,s=t.doc,a=e.left;if("page"==n){var u=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(u-.5*Qr(t.display),3);i=(r>0?e.bottom:e.top)+r*c}else"line"==n&&(i=r>0?e.bottom+3:e.top-3);for(;(o=Yr(t,a,i)).outside;){if(r<0?i<=0:i>=s.height){o.hitSide=!0;break}i+=5*r}return o}var Rs=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new D,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Fs(t,e){var r=Ir(t,e.line);if(!r||r.hidden)return null;var n=at(t.doc,e.line),i=Ar(r,n,e.line),o=Xt(n,t.doc.direction),s="left";if(o){var a=$t(o,e.ch);s=a%2?"right":"left"}var u=Nr(i.map,e.ch,s);return u.offset="right"==u.collapse?u.end:u.start,u}function js(t,e){return e&&(t.bad=!0),t}function Ls(t,e,r){var n;if(e==t.display.lineDiv){if(!(n=t.display.lineDiv.childNodes[r]))return js(t.clipPos(mt(t.display.viewTo-1)),!0);e=null,r=0}else for(n=e;;n=n.parentNode){if(!n||n==t.display.lineDiv)return null;if(n.parentNode&&n.parentNode==t.display.lineDiv)break}for(var i=0;i<t.display.view.length;i++){var o=t.display.view[i];if(o.node==n)return Ds(o,e,r)}}function Ds(t,e,r){var n=t.text.firstChild,i=!1;if(!e||!O(n,e))return js(mt(lt(t.line),0),!0);if(e==n&&(i=!0,e=n.childNodes[r],r=0,!e)){var o=t.rest?$(t.rest):t.line;return js(mt(lt(o),o.text.length),i)}var s=3==e.nodeType?e:null,a=e;for(s||1!=e.childNodes.length||3!=e.firstChild.nodeType||(s=e.firstChild,r&&(r=s.nodeValue.length));a.parentNode!=n;)a=a.parentNode;var u=t.measure,c=u.maps;function f(e,r,n){for(var i=-1;i<(c?c.length:0);i++)for(var o=i<0?u.map:c[i],s=0;s<o.length;s+=3){var a=o[s+2];if(a==e||a==r){var f=lt(i<0?t.line:t.rest[i]),l=o[s]+n;return(n<0||a!=e)&&(l=o[s+(n?1:0)]),mt(f,l)}}}var l=f(s,a,r);if(l)return js(l,i);for(var h=a.nextSibling,p=s?s.nodeValue.length-r:0;h;h=h.nextSibling){if(l=f(h,h.firstChild,0))return js(mt(l.line,l.ch-p),i);p+=h.textContent.length}for(var d=a.previousSibling,m=r;d;d=d.previousSibling){if(l=f(d,d.firstChild,-1))return js(mt(l.line,l.ch+m),i);m+=d.textContent.length}}Rs.prototype.init=function(t){var e=this,r=this,n=r.cm,i=r.div=t.lineDiv;function o(t){if(!ne(n,t)){if(n.somethingSelected())Cs({lineWise:!1,text:n.getSelections()}),"cut"==t.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var e=Ts(n);Cs({lineWise:!0,text:e.text}),"cut"==t.type&&n.operation(function(){n.setSelections(e.ranges,0,K),n.replaceSelection("",null,"cut")})}if(t.clipboardData){t.clipboardData.clearData();var o=Es.text.join("\n");if(t.clipboardData.setData("Text",o),t.clipboardData.getData("Text")==o)return void t.preventDefault()}var s=Bs(),a=s.firstChild;n.display.lineSpace.insertBefore(s,n.display.lineSpace.firstChild),a.value=Es.text.join("\n");var u=document.activeElement;R(a),setTimeout(function(){n.display.lineSpace.removeChild(s),u.focus(),u==i&&r.showPrimarySelection()},50)}}Os(i,n.options.spellcheck),Qt(i,"paste",function(t){ne(n,t)||Ms(t,n)||a<=11&&setTimeout(Gn(n,function(){return e.updateFromDOM()}),20)}),Qt(i,"compositionstart",function(t){e.composing={data:t.data,done:!1}}),Qt(i,"compositionupdate",function(t){e.composing||(e.composing={data:t.data,done:!1})}),Qt(i,"compositionend",function(t){e.composing&&(t.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)}),Qt(i,"touchstart",function(){return r.forceCompositionEnd()}),Qt(i,"input",function(){e.composing||e.readFromDOMSoon()}),Qt(i,"copy",o),Qt(i,"cut",o)},Rs.prototype.prepareSelection=function(){var t=cn(this.cm,!1);return t.focus=this.cm.state.focused,t},Rs.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Rs.prototype.showPrimarySelection=function(){var t=window.getSelection(),e=this.cm,n=e.doc.sel.primary(),i=n.from(),o=n.to();if(e.display.viewTo==e.display.viewFrom||i.line>=e.display.viewTo||o.line<e.display.viewFrom)t.removeAllRanges();else{var s=Ls(e,t.anchorNode,t.anchorOffset),a=Ls(e,t.focusNode,t.focusOffset);if(!s||s.bad||!a||a.bad||0!=gt(wt(s,a),i)||0!=gt(bt(s,a),o)){var u=e.display.view,c=i.line>=e.display.viewFrom&&Fs(e,i)||{node:u[0].measure.map[2],offset:0},f=o.line<e.display.viewTo&&Fs(e,o);if(!f){var l=u[u.length-1].measure,h=l.maps?l.maps[l.maps.length-1]:l.map;f={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(c&&f){var p,d=t.rangeCount&&t.getRangeAt(0);try{p=E(c.node,c.offset,f.offset,f.node)}catch(t){}p&&(!r&&e.state.focused?(t.collapse(c.node,c.offset),p.collapsed||(t.removeAllRanges(),t.addRange(p))):(t.removeAllRanges(),t.addRange(p)),d&&null==t.anchorNode?t.addRange(d):r&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},Rs.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},Rs.prototype.showMultipleSelections=function(t){M(this.cm.display.cursorDiv,t.cursors),M(this.cm.display.selectionDiv,t.selection)},Rs.prototype.rememberSelection=function(){var t=window.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Rs.prototype.selectionInEditor=function(){var t=window.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return O(this.div,e)},Rs.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Rs.prototype.blur=function(){this.div.blur()},Rs.prototype.getField=function(){return this.div},Rs.prototype.supportsTouch=function(){return!0},Rs.prototype.receivedFocus=function(){var t=this;this.selectionInEditor()?this.pollSelection():Wn(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))})},Rs.prototype.selectionChanged=function(){var t=window.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Rs.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=window.getSelection(),e=this.cm;if(g&&f&&this.cm.options.gutters.length&&function(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=Ls(e,t.anchorNode,t.anchorOffset),n=Ls(e,t.focusNode,t.focusOffset);r&&n&&Wn(e,function(){Gi(e.doc,bi(r,n),K),(r.bad||n.bad)&&(e.curOp.selectionChanged=!0)})}}},Rs.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t,e,r,n=this.cm,i=n.display,o=n.doc.sel.primary(),s=o.from(),a=o.to();if(0==s.ch&&s.line>n.firstLine()&&(s=mt(s.line-1,at(n.doc,s.line-1).length)),a.ch==at(n.doc,a.line).text.length&&a.line<n.lastLine()&&(a=mt(a.line+1,0)),s.line<i.viewFrom||a.line>i.viewTo-1)return!1;s.line==i.viewFrom||0==(t=an(n,s.line))?(e=lt(i.view[0].line),r=i.view[0].node):(e=lt(i.view[t].line),r=i.view[t-1].node.nextSibling);var u,c,f=an(n,a.line);if(f==i.view.length-1?(u=i.viewTo-1,c=i.lineDiv.lastChild):(u=lt(i.view[f+1].line)-1,c=i.view[f+1].node.previousSibling),!r)return!1;for(var l=n.doc.splitLines(function(t,e,r,n,i){var o="",s=!1,a=t.doc.lineSeparator();function u(){s&&(o+=a,s=!1)}function c(t){t&&(u(),o+=t)}function f(e){if(1==e.nodeType){var r=e.getAttribute("cm-text");if(null!=r)return void c(r||e.textContent.replace(/\u200b/g,""));var o,l=e.getAttribute("cm-marker");if(l){var h=t.findMarks(mt(n,0),mt(i+1,0),(m=+l,function(t){return t.id==m}));return void(h.length&&(o=h[0].find(0))&&c(ut(t.doc,o.from,o.to).join(a)))}if("false"==e.getAttribute("contenteditable"))return;var p=/^(pre|div|p)$/i.test(e.nodeName);p&&u();for(var d=0;d<e.childNodes.length;d++)f(e.childNodes[d]);p&&(s=!0)}else 3==e.nodeType&&c(e.nodeValue);var m}for(;f(e),e!=r;)e=e.nextSibling;return o}(n,r,c,e,u)),h=ut(n.doc,mt(e,0),mt(u,at(n.doc,u).text.length));l.length>1&&h.length>1;)if($(l)==$(h))l.pop(),h.pop(),u--;else{if(l[0]!=h[0])break;l.shift(),h.shift(),e++}for(var p=0,d=0,m=l[0],g=h[0],v=Math.min(m.length,g.length);p<v&&m.charCodeAt(p)==g.charCodeAt(p);)++p;for(var y=$(l),b=$(h),w=Math.min(y.length-(1==l.length?p:0),b.length-(1==h.length?p:0));d<w&&y.charCodeAt(y.length-d-1)==b.charCodeAt(b.length-d-1);)++d;if(1==l.length&&1==h.length&&e==s.line)for(;p&&p>s.ch&&y.charCodeAt(y.length-d-1)==b.charCodeAt(b.length-d-1);)p--,d++;l[l.length-1]=y.slice(0,y.length-d).replace(/^\u200b+/,""),l[0]=l[0].slice(p).replace(/\u200b+$/,"");var _=mt(e,p),k=mt(u,h.length?$(h).length-d:0);return l.length>1||l[0]||gt(_,k)?(uo(n.doc,l,_,k,"+input"),!0):void 0},Rs.prototype.ensurePolled=function(){this.forceCompositionEnd()},Rs.prototype.reset=function(){this.forceCompositionEnd()},Rs.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Rs.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()},80))},Rs.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||Wn(this.cm,function(){return Zn(t.cm)})},Rs.prototype.setUneditable=function(t){t.contentEditable="false"},Rs.prototype.onKeyPress=function(t){0!=t.charCode&&(t.preventDefault(),this.cm.isReadOnly()||Gn(this.cm,As)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},Rs.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},Rs.prototype.onContextMenu=function(){},Rs.prototype.resetPosition=function(){},Rs.prototype.needsContentAttribute=!0;var Us=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new D,this.hasSelection=!1,this.composing=null};Us.prototype.init=function(t){var e=this,r=this,n=this.cm;this.createField(t);var i=this.textarea;function o(t){if(!ne(n,t)){if(n.somethingSelected())Cs({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var e=Ts(n);Cs({lineWise:!0,text:e.text}),"cut"==t.type?n.setSelections(e.ranges,null,K):(r.prevInput="",i.value=e.text.join("\n"),R(i))}"cut"==t.type&&(n.state.cutIncoming=!0)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),m&&(i.style.width="0px"),Qt(i,"input",function(){s&&a>=9&&e.hasSelection&&(e.hasSelection=null),r.poll()}),Qt(i,"paste",function(t){ne(n,t)||Ms(t,n)||(n.state.pasteIncoming=!0,r.fastPoll())}),Qt(i,"cut",o),Qt(i,"copy",o),Qt(t.scroller,"paste",function(e){wr(t,e)||ne(n,e)||(n.state.pasteIncoming=!0,r.focus())}),Qt(t.lineSpace,"selectstart",function(e){wr(t,e)||ae(e)}),Qt(i,"compositionstart",function(){var t=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:t,range:n.markText(t,n.getCursor("to"),{className:"CodeMirror-composing"})}}),Qt(i,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},Us.prototype.createField=function(t){this.wrapper=Bs(),this.textarea=this.wrapper.firstChild},Us.prototype.prepareSelection=function(){var t=this.cm,e=t.display,r=t.doc,n=cn(t);if(t.options.moveInputWithCursor){var i=Vr(t,r.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),s=e.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,i.top+s.top-o.top)),n.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,i.left+s.left-o.left))}return n},Us.prototype.showSelection=function(t){var e=this.cm,r=e.display;M(r.cursorDiv,t.cursors),M(r.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},Us.prototype.reset=function(t){if(!this.contextMenuPending&&!this.composing){var e=this.cm;if(e.somethingSelected()){this.prevInput="";var r=e.getSelection();this.textarea.value=r,e.state.focused&&R(this.textarea),s&&a>=9&&(this.hasSelection=r)}else t||(this.prevInput=this.textarea.value="",s&&a>=9&&(this.hasSelection=null))}},Us.prototype.getField=function(){return this.textarea},Us.prototype.supportsTouch=function(){return!1},Us.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||B()!=this.textarea))try{this.textarea.focus()}catch(t){}},Us.prototype.blur=function(){this.textarea.blur()},Us.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Us.prototype.receivedFocus=function(){this.slowPoll()},Us.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},Us.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0,e.polling.set(20,function r(){var n=e.poll();n||t?(e.pollingFast=!1,e.slowPoll()):(t=!0,e.polling.set(60,r))})},Us.prototype.poll=function(){var t=this,e=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||we(r)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var i=r.value;if(i==n&&!e.somethingSelected())return!1;if(s&&a>=9&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||n||(n="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var u=0,c=Math.min(n.length,i.length);u<c&&n.charCodeAt(u)==i.charCodeAt(u);)++u;return Wn(e,function(){As(e,i.slice(u),n.length-u,null,t.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?r.value=t.prevInput="":t.prevInput=i,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Us.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Us.prototype.onKeyPress=function(){s&&a>=9&&(this.hasSelection=null),this.fastPoll()},Us.prototype.onContextMenu=function(t){var e=this,r=e.cm,n=r.display,i=e.textarea,o=sn(r,t),c=n.scroller.scrollTop;if(o&&!l){var f=r.options.resetSelectionOnContextMenu;f&&-1==r.doc.sel.contains(o)&&Gn(r,Gi)(r.doc,bi(o),K);var h=i.style.cssText,p=e.wrapper.style.cssText;e.wrapper.style.cssText="position: absolute";var d,m=e.wrapper.getBoundingClientRect();if(i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-m.top-5)+"px; left: "+(t.clientX-m.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",u&&(d=window.scrollY),n.input.focus(),u&&window.scrollTo(null,d),n.input.reset(),r.somethingSelected()||(i.value=e.prevInput=" "),e.contextMenuPending=!0,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll),s&&a>=9&&v(),S){fe(t);var g=function(){ee(window,"mouseup",g),setTimeout(y,20)};Qt(window,"mouseup",g)}else setTimeout(y,50)}function v(){if(null!=i.selectionStart){var t=r.somethingSelected(),o="​"+(t?i.value:"");i.value="⇚",i.value=o,e.prevInput=t?"":"​",i.selectionStart=1,i.selectionEnd=o.length,n.selForContextMenu=r.doc.sel}}function y(){if(e.contextMenuPending=!1,e.wrapper.style.cssText=p,i.style.cssText=h,s&&a<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=c),null!=i.selectionStart){(!s||s&&a<9)&&v();var t=0,o=function(){n.selForContextMenu==r.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==e.prevInput?Gn(r,eo)(r):t++<10?n.detectingSelectAll=setTimeout(o,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(o,200)}}},Us.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t},Us.prototype.setUneditable=function(){},Us.prototype.needsContentAttribute=!1,function(t){var e=t.optionHandlers;function r(r,n,i,o){t.defaults[r]=n,i&&(e[r]=o?function(t,e,r){r!=gs&&i(t,e,r)}:i)}t.defineOption=r,t.Init=gs,r("value","",function(t,e){return t.setValue(e)},!0),r("mode",null,function(t,e){t.doc.modeOption=e,xi(t)},!0),r("indentUnit",2,xi,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,function(t){Ei(t),Lr(t),Zn(t)},!0),r("lineSeparator",null,function(t,e){if(t.doc.lineSep=e,e){var r=[],n=t.doc.first;t.doc.iter(function(t){for(var i=0;;){var o=t.text.indexOf(e,i);if(-1==o)break;i=o+e.length,r.push(mt(n,o))}n++});for(var i=r.length-1;i>=0;i--)uo(t.doc,e,r[i],mt(r[i].line,r[i].ch+e.length))}}),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,e,r){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),r!=gs&&t.refresh()}),r("specialCharPlaceholder",Xe,function(t){return t.refresh()},!0),r("electricChars",!0),r("inputStyle",v?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),r("spellcheck",!1,function(t,e){return t.getInputField().spellcheck=e},!0),r("rtlMoveVisually",!w),r("wholeLineUpdateBefore",!0),r("theme","default",function(t){ms(t),bs(t)},!0),r("keyMap","default",function(t,e,r){var n=qo(e),i=r!=gs&&qo(r);i&&i.detach&&i.detach(t,n),n.attach&&n.attach(t,i||null)}),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,_s,!0),r("gutters",[],function(t){fi(t.options),bs(t)},!0),r("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?rn(t.display)+"px":"0",t.refresh()},!0),r("coverGutterNextToScrollbar",!1,function(t){return Rn(t)},!0),r("scrollbarStyle","native",function(t){Ln(t),Rn(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),r("lineNumbers",!1,function(t){fi(t.options),bs(t)},!0),r("firstLineNumber",1,bs,!0),r("lineNumberFormatter",function(t){return t},bs,!0),r("showCursorWhenSelecting",!1,un,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("readOnly",!1,function(t,e){"nocursor"==e&&(vn(t),t.display.input.blur()),t.display.input.readOnlyChanged(e)}),r("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),r("dragDrop",!0,ws),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,un,!0),r("singleCursorHeightPerLine",!0,un,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,Ei,!0),r("addModeClass",!1,Ei,!0),r("pollInterval",100),r("undoDepth",200,function(t,e){return t.doc.history.undoDepth=e}),r("historyEventDelay",1250),r("viewportMargin",10,function(t){return t.refresh()},!0),r("maxHighlightLength",1e4,Ei,!0),r("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),r("tabindex",null,function(t,e){return t.display.input.getField().tabIndex=e||""}),r("autofocus",null),r("direction","ltr",function(t,e){return t.doc.setDirection(e)},!0)}(ks),function(t){var e=t.optionHandlers,r=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,r){var n=this.options,i=n[t];n[t]==r&&"mode"!=t||(n[t]=r,e.hasOwnProperty(t)&&Gn(this,e[t])(this,r,i),re(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](qo(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,r=0;r<e.length;++r)if(e[r]==t||e[r].name==t)return e.splice(r,1),!0},addOverlay:Yn(function(e,r){var n=e.token?e:t.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");!function(t,e,r){for(var n=0,i=r(e);n<t.length&&r(t[n])<=i;)n++;t.splice(n,0,e)}(this.state.overlays,{mode:n,modeSpec:e,opaque:r&&r.opaque,priority:r&&r.priority||0},function(t){return t.priority}),this.state.modeGen++,Zn(this)}),removeOverlay:Yn(function(t){for(var e=this.state.overlays,r=0;r<e.length;++r){var n=e[r].modeSpec;if(n==t||"string"==typeof t&&n.name==t)return e.splice(r,1),this.state.modeGen++,void Zn(this)}}),indentLine:Yn(function(t,e,r){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),pt(this.doc,t)&&xs(this,t,e,r)}),indentSelection:Yn(function(t){for(var e=this.doc.sel.ranges,r=-1,n=0;n<e.length;n++){var i=e[n];if(i.empty())i.head.line>r&&(xs(this,i.head.line,t,!0),r=i.head.line,n==this.doc.sel.primIndex&&En(this));else{var o=i.from(),s=i.to(),a=Math.max(r,o.line);r=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var u=a;u<r;++u)xs(this,u,t);var c=this.doc.sel.ranges;0==o.ch&&e.length==c.length&&c[n].from().ch>0&&qi(this.doc,n,new vi(o,c[n].to()),K)}}}),getTokenAt:function(t,e){return He(this,t,e)},getLineTokens:function(t,e){return He(this,mt(t),e,!0)},getTokenTypeAt:function(t){t=kt(this.doc,t);var e,r=Fe(this,at(this.doc,t.line)),n=0,i=(r.length-1)/2,o=t.ch;if(0==o)e=r[2];else for(;;){var s=n+i>>1;if((s?r[2*s-1]:0)>=o)i=s;else{if(!(r[2*s+1]<o)){e=r[2*s+2];break}n=s+1}}var a=e?e.indexOf("overlay "):-1;return a<0?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var r=this.doc.mode;return r.innerMode?t.innerMode(r,this.getTokenAt(e).state).mode:r},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var n=[];if(!r.hasOwnProperty(e))return n;var i=r[e],o=this.getModeAt(t);if("string"==typeof o[e])i[o[e]]&&n.push(i[o[e]]);else if(o[e])for(var s=0;s<o[e].length;s++){var a=i[o[e][s]];a&&n.push(a)}else o.helperType&&i[o.helperType]?n.push(i[o.helperType]):i[o.name]&&n.push(i[o.name]);for(var u=0;u<i._global.length;u++){var c=i._global[u];c.pred(o,this)&&-1==U(n,c.val)&&n.push(c.val)}return n},getStateAfter:function(t,e){var r=this.doc;return je(this,(t=_t(r,null==t?r.first+r.size-1:t))+1,e).state},cursorCoords:function(t,e){var r=this.doc.sel.primary();return Vr(this,null==t?r.head:"object"==typeof t?kt(this.doc,t):t?r.from():r.to(),e||"page")},charCoords:function(t,e){return qr(this,kt(this.doc,t),e||"page")},coordsChar:function(t,e){return Yr(this,(t=Kr(this,t,e||"page")).left,t.top)},lineAtHeight:function(t,e){return t=Kr(this,{top:t,left:0},e||"page").top,ht(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,r){var n,i=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,i=!0),n=at(this.doc,t)}else n=t;return Hr(this,n,{top:0,left:0},e||"page",r||i).top+(i?this.doc.height-Vt(n):0)},defaultTextHeight:function(){return Qr(this.display)},defaultCharWidth:function(){return tn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,r,n,i){var o,s,a,u=this.display,c=(t=Vr(this,kt(this.doc,t))).bottom,f=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),u.sizer.appendChild(e),"over"==n)c=t.top;else if("above"==n||"near"==n){var l=Math.max(u.wrapper.clientHeight,this.doc.height),h=Math.max(u.sizer.clientWidth,u.lineSpace.clientWidth);("above"==n||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?c=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=l&&(c=t.bottom),f+e.offsetWidth>h&&(f=h-e.offsetWidth)}e.style.top=c+"px",e.style.left=e.style.right="","right"==i?(f=u.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?f=0:"middle"==i&&(f=(u.sizer.clientWidth-e.offsetWidth)/2),e.style.left=f+"px"),r&&(o=this,s={left:f,top:c,right:f+e.offsetWidth,bottom:c+e.offsetHeight},null!=(a=Sn(o,s)).scrollTop&&In(o,a.scrollTop),null!=a.scrollLeft&&On(o,a.scrollLeft))},triggerOnKeyDown:Yn(is),triggerOnKeyPress:Yn(ss),triggerOnKeyUp:os,triggerOnMouseDown:Yn(fs),execCommand:function(t){if($o.hasOwnProperty(t))return $o[t].call(null,this)},triggerElectric:Yn(function(t){Is(this,t)}),findPosH:function(t,e,r,n){var i=1;e<0&&(i=-1,e=-e);for(var o=kt(this.doc,t),s=0;s<e&&!(o=Ps(this.doc,o,i,r,n)).hitSide;++s);return o},moveH:Yn(function(t,e){var r=this;this.extendSelectionsBy(function(n){return r.display.shift||r.doc.extend||n.empty()?Ps(r.doc,n.head,t,e,r.options.rtlMoveVisually):t<0?n.from():n.to()},V)}),deleteH:Yn(function(t,e){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):Vo(this,function(r){var i=Ps(n,r.head,t,e,!1);return t<0?{from:i,to:r.head}:{from:r.head,to:i}})}),findPosV:function(t,e,r,n){var i=1,o=n;e<0&&(i=-1,e=-e);for(var s=kt(this.doc,t),a=0;a<e;++a){var u=Vr(this,s,"div");if(null==o?o=u.left:u.left=o,(s=Ns(this,u,i,r)).hitSide)break}return s},moveV:Yn(function(t,e){var r=this,n=this.doc,i=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(s){if(o)return t<0?s.from():s.to();var a=Vr(r,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),i.push(a.left);var u=Ns(r,a,t,e);return"page"==e&&s==n.sel.primary()&&xn(r,qr(r,u,"div").top-a.top),u},V),i.length)for(var s=0;s<n.sel.ranges.length;s++)n.sel.ranges[s].goalColumn=i[s]}),findWordAt:function(t){var e=this.doc,r=at(e,t.line).text,n=t.ch,i=t.ch;if(r){var o=this.getHelper(t,"wordChars");"before"!=t.sticky&&i!=r.length||!n?++i:--n;for(var s=r.charAt(n),a=et(s,o)?function(t){return et(t,o)}:/\s/.test(s)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!et(t)};n>0&&a(r.charAt(n-1));)--n;for(;i<r.length&&a(r.charAt(i));)++i}return new vi(mt(t.line,n),mt(t.line,i))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?P(this.display.cursorDiv,"CodeMirror-overwrite"):C(this.display.cursorDiv,"CodeMirror-overwrite"),re(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==B()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Yn(function(t,e){Cn(this,t,e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-xr(this)-this.display.barHeight,width:t.scrollWidth-xr(this)-this.display.barWidth,clientHeight:Cr(this),clientWidth:Er(this)}},scrollIntoView:Yn(function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:mt(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?function(t,e){An(t),t.curOp.scrollToPos=e}(this,t):Mn(this,t.from,t.to,t.margin)}),setSize:Yn(function(t,e){var r=this,n=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=n(t)),null!=e&&(this.display.wrapper.style.height=n(e)),this.options.lineWrapping&&jr(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){Xn(r,i,"widget");break}++i}),this.curOp.forceUpdate=!0,re(this,"refresh",this)}),operation:function(t){return Wn(this,t)},startOperation:function(){return Un(this)},endOperation:function(){return zn(this)},refresh:Yn(function(){var t=this.display.cachedTextHeight;Zn(this),this.curOp.forceUpdate=!0,Lr(this),Cn(this,this.doc.scrollLeft,this.doc.scrollTop),ai(this),(null==t||Math.abs(t-Qr(this.display))>.5)&&on(this),re(this,"refresh",this)}),swapDoc:Yn(function(t){var e=this.doc;return e.cm=null,Ii(this,t),Lr(this),this.display.input.reset(),Cn(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,sr(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},se(t),t.registerHelper=function(e,n,i){r.hasOwnProperty(e)||(r[e]=t[e]={_global:[]}),r[e][n]=i},t.registerGlobalHelper=function(e,n,i,o){t.registerHelper(e,n,o),r[e]._global.push({pred:i,val:o})}}(ks);var zs,Hs="iter insert remove copy getEditor constructor".split(" ");for(var Ks in Eo.prototype)Eo.prototype.hasOwnProperty(Ks)&&U(Hs,Ks)<0&&(ks.prototype[Ks]=function(t){return function(){return t.apply(this.doc,arguments)}}(Eo.prototype[Ks]));return se(Eo),ks.inputStyles={textarea:Us,contenteditable:Rs},ks.defineMode=function(t){ks.defaults.mode||"null"==t||(ks.defaults.mode=t),function(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Se[t]=e}.apply(this,arguments)},ks.defineMIME=function(t,e){xe[t]=e},ks.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),ks.defineMIME("text/plain","null"),ks.defineExtension=function(t,e){ks.prototype[t]=e},ks.defineDocExtension=function(t,e){Eo.prototype[t]=e},ks.fromTextArea=function(t,e){if((e=e?j(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var r=B();e.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body}function n(){t.value=a.getValue()}var i;if(t.form&&(Qt(t.form,"submit",n),!e.leaveSubmitMethodAlone)){var o=t.form;i=o.submit;try{var s=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=s}}catch(t){}}e.finishInit=function(e){e.save=n,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,n(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(ee(t.form,"submit",n),"function"==typeof t.form.submit&&(t.form.submit=i))}},t.style.display="none";var a=ks(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},e);return a},(zs=ks).off=ee,zs.on=Qt,zs.wheelEventPixels=di,zs.Doc=Eo,zs.splitLines=be,zs.countColumn=L,zs.findColumn=W,zs.isWordChar=tt,zs.Pass=H,zs.signal=re,zs.Line=Ve,zs.changeEnd=wi,zs.scrollbarModel=jn,zs.Pos=mt,zs.cmpPos=gt,zs.modes=Se,zs.mimeModes=xe,zs.resolveMode=Ee,zs.getMode=Ce,zs.modeExtensions=Ae,zs.extendMode=Me,zs.copyState=Ie,zs.startState=Oe,zs.innerMode=Te,zs.commands=$o,zs.keyMap=jo,zs.keyName=Ko,zs.isModifierKey=zo,zs.lookupKey=Uo,zs.normalizeKeyMap=Do,zs.StringStream=Be,zs.SharedTextMarker=_o,zs.TextMarker=bo,zs.LineWidget=go,zs.e_preventDefault=ae,zs.e_stopPropagation=ue,zs.e_stop=fe,zs.addClass=P,zs.contains=O,zs.rmClass=C,zs.keyNames=Po,ks.version="5.36.0",ks}()},function(t,e,r){var n=r(450);t.exports=function(t,e){return function(r){var i,o,s=[];function a(t){s.push(t)}t=t||function(t){this.queue(t)},e=e||function(){this.queue(null)};var u,c={emit:function(t,e){"data"==t&&a(e),"end"==t&&(i=!0,a(null)),"error"==t&&(o=e)},queue:a};return function(a,f){if(i=i||a,a)return r(a,function(){if(u){var t=u;u=null,t(a)}f(a)});u=f,n(function n(a){if(u)if(f=u,o)u=null,f(o);else if(s.length){var l=s.shift();u=null,f(null===l,l)}else r(i,function(s,l){if(s&&!0!==s)return o=s,a();if(i=i||s)e.call(c);else if(null!==l&&(t.call(c,l),o||i))return r(o||i,function(){u=null,f(o||i)});a(n)})})}}}},function(t,e,r){var n=r(771);function i(t,e){return(t=t||[]).push(e),t}t.exports=function(t,e,r,o){var s,a;function u(i){var c=null,f=!1,l=0;if(i,s)return i(!!s.abort||s,function(t){o(t),a&&a()});var h=!1,p=n(function(){h||s||(h=!0,i(null,function(n,u){h=!1,function(u,h){s||((s=n)?f||o(!0===s?null:s):(c=e(c,h),l=c&&c.length||0,null!=c&&function e(){if(f)return;var r=c;c=null;f=!0;l=0;t(r,function(t){f=!1,!0!==s||l?s&&!0!==s?(o(s),a&&a()):t?i(s=!!t.abort||t,o):l?e():p():o(t)})}(),l<r&&p()))}(0,u)}))});u.abort=function(t){a=function(e){t&&t()};var e=new Error("aborted");e.abort=!0,i(s=e,function(t){t=!0===t?null:t,f||(o&&o(t),a&&a(t))})},p()}return e=e||i,u.abort=function(t){s=new Error("aborted before connecting"),a=function(e){t&&t()}},u}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){"use strict";(function(n){const i=r(8),o=r(47),s=r(880);function a(t){const e=(~~(1e9*Math.random())).toString(36);function r(t){return r=>{Array.isArray(r)&&(r=r.join(" ")),t("(%s) %s",e,r)}}const n=r(s("mss:"+t));return n.error=r(s("mss:"+t+":error")),n}(e=t.exports).writeEncoded=((t,e,r)=>{!function(t,e){const r=n.isBuffer(t)?[t]:[n.from(t)];i(i.values(r),o.encode(),i.collect((t,r)=>{if(t)return e(t);e(null,r[0])}))}(e,(e,n)=>{if(e)return r(e);t.write(n)})}),e.log={},e.log.dialer=(()=>a("dialer\t")),e.log.listener=(()=>a("listener\t"))}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(260);t.exports=function(t,e){const r=new n.Listener;Object.keys(t).forEach(e=>{e&&r.addHandler(e,t[e].handlerFunc,t[e].matchFunc)}),r.handle(e,t=>{})}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var n,i=r(899),o=(n=i)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol;function a(t){return s&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return a(t)?(0,o.default)(t):t},e.isAsync=a},function(t,e,r){"use strict";t.exports=function(){var t,e;return{source:function(r,n){t?t(r,n):e=[r,n]},sink:function(r){if("function"!=typeof r)throw new Error("read must be function");if(t)throw new Error("already piped");if(t=r,e){var n=e;e=null,t.apply(null,n)}}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var n,i=r(925),o=(n=i)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol;function a(t){return s&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return a(t)?(0,o.default)(t):t},e.isAsync=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){(function(n){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(982)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++i)}),t.splice(o,0,n)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,r(2))},function(t,e){t.exports=function(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e){e.encode=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e},e.decode=function(t){for(var e={},r=t.split("&"),n=0,i=r.length;n<i;n++){var o=r[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},function(t,e,r){(function(n){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(997)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++i)}),t.splice(o,0,n)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,r(2))},function(t,e,r){"use strict";const n=r(1053),i=r(1052);class o{constructor(t){this.set=new Map,this._stats=t}get length(){return this.set.size}add(t,e){const r=t.buffer.toString(),n=this.set.get(r);n?(n.inc(),n.priority=e):(this.set.set(r,new i(t,e)),this._stats&&this._stats.push(null,"wantListSize",1))}remove(t){const e=t.buffer.toString(),r=this.set.get(e);r&&(r.dec(),r.hasRefs()||(this.set.delete(e),this._stats&&this._stats.push(null,"wantListSize",-1)))}removeForce(t){this.set.has(t)&&this.set.delete(t)}forEach(t){return this.set.forEach(t)}entries(){return this.set.entries()}sortedEntries(){return new Map(n(Array.from(this.set.entries()),t=>t[1].key))}contains(t){const e=t.buffer.toString();return this.set.get(e)}}o.Entry=i,t.exports=o},function(t,e,r){"use strict";(function(e){const n=r(66),i=r(219),o=r(1057),s=r(17),a=r(185),u=r(18),c=r(604),f=r(1056),l=r(53),h=n(r(1055)),p=r(1054);class d{constructor(t){this.full=t,this.wantlist=new Map,this.blocks=new Map}get empty(){return 0===this.blocks.size&&0===this.wantlist.size}addEntry(t,e,r){s(t&&u.isCID(t),"must be a valid cid");const n=t.buffer.toString(),i=this.wantlist.get(n);i?(i.priority=e,i.cancel=Boolean(r)):this.wantlist.set(n,new p(t,e,r))}addBlock(t){s(i.isBlock(t),"must be a valid cid");const e=t.cid.buffer.toString();this.blocks.set(e,t)}cancel(t){s(u.isCID(t),"must be a valid cid");const e=t.buffer.toString();this.wantlist.delete(e),this.addEntry(t,0,!0)}serializeToBitswap100(){const t={wantlist:{entries:Array.from(this.wantlist.values()).map(t=>({block:t.cid.buffer,priority:Number(t.priority),cancel:Boolean(t.cancel)}))},blocks:Array.from(this.blocks.values()).map(t=>t.data)};return this.full&&(t.wantlist.full=!0),h.Message.encode(t)}serializeToBitswap110(){const t={wantlist:{entries:Array.from(this.wantlist.values()).map(t=>({block:t.cid.buffer,priority:Number(t.priority),cancel:Boolean(t.cancel)}))},payload:[]};return this.full&&(t.wantlist.full=!0),this.blocks.forEach(e=>{t.payload.push({prefix:e.cid.prefix,data:e.data})}),h.Message.encode(t)}equals(t){const e=(t,e)=>{if(t.equals&&"function"==typeof t.equals)return t.equals(e)};return!(this.full!==t.full||!o(this.wantlist,t.wantlist,e)||!o(this.blocks,t.blocks,e))}get[Symbol.toStringTag](){const t=Array.from(this.wantlist.keys()),e=Array.from(this.blocks.keys());return`BitswapMessage <full: ${this.full}, list: ${t}, blocks: ${e}>`}}d.deserialize=((t,r)=>{let n;try{n=h.Message.decode(t)}catch(t){return e(()=>r(t))}const o=n.wantlist&&n.wantlist.full||!1,s=new d(o);return n.wantlist&&n.wantlist.entries.forEach(t=>{const e=new u(t.block);s.addEntry(e,t.priority,t.cancel)}),n.blocks.length>0?a(n.blocks,(t,e)=>{l(t,"sha2-256",(r,n)=>{if(r)return e(r);const o=new u(n);s.addBlock(new i(t,o)),e()})},t=>{if(t)return r(t);r(null,s)}):n.payload.length>0?a(n.payload,(t,e)=>{t.prefix&&t.data||e();const r=f(t.prefix),n=r[0],o=r[1],a=r[2];l(t.data,a,(r,a)=>{if(r)return e(r);const f=new u(n,c[o.toString("16")],a);s.addBlock(new i(t.data,f)),e()})},t=>{if(t)return r(t);r(null,s)}):void r(null,s)}),d.Entry=p,t.exports=d}).call(this,r(12).setImmediate)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){(0,n.default)(t,(0,i.default)((0,o.default)(e)),r)};var n=s(r(473)),i=s(r(469)),o=s(r(71));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){"use strict";var n=r(3).Buffer,i=r(1121);function o(){this.negative=0,this.words=null,this.length=0}o.fromNumber=function(t){var e=new o;return e.words=[67108863&t],e.length=1,e},o.fromBuffer=function(t){var e=new o;return e.words=new Array(10),e.words[0]=(3&t[28])<<24|t[29]<<16|t[30]<<8|t[31],e.words[1]=(15&t[25])<<22|t[26]<<14|t[27]<<6|t[28]>>>2,e.words[2]=(63&t[22])<<20|t[23]<<12|t[24]<<4|t[25]>>>4,e.words[3]=(255&t[19])<<18|t[20]<<10|t[21]<<2|t[22]>>>6,e.words[4]=(3&t[15])<<24|t[16]<<16|t[17]<<8|t[18],e.words[5]=(15&t[12])<<22|t[13]<<14|t[14]<<6|t[15]>>>2,e.words[6]=(63&t[9])<<20|t[10]<<12|t[11]<<4|t[12]>>>4,e.words[7]=(255&t[6])<<18|t[7]<<10|t[8]<<2|t[9]>>>6,e.words[8]=(3&t[2])<<24|t[3]<<16|t[4]<<8|t[5],e.words[9]=t[0]<<14|t[1]<<6|t[2]>>>2,e.length=10,e.strip()},o.prototype.toBuffer=function(){for(var t=this.words,e=this.length;e<10;++e)t[e]=0;return n.from([t[9]>>>14&255,t[9]>>>6&255,(63&t[9])<<2|t[8]>>>24&3,t[8]>>>16&255,t[8]>>>8&255,255&t[8],t[7]>>>18&255,t[7]>>>10&255,t[7]>>>2&255,(3&t[7])<<6|t[6]>>>20&63,t[6]>>>12&255,t[6]>>>4&255,(15&t[6])<<4|t[5]>>>22&15,t[5]>>>14&255,t[5]>>>6&255,(63&t[5])<<2|t[4]>>>24&3,t[4]>>>16&255,t[4]>>>8&255,255&t[4],t[3]>>>18&255,t[3]>>>10&255,t[3]>>>2&255,(3&t[3])<<6|t[2]>>>20&63,t[2]>>>12&255,t[2]>>>4&255,(15&t[2])<<4|t[1]>>>22&15,t[1]>>>14&255,t[1]>>>6&255,(63&t[1])<<2|t[0]>>>24&3,t[0]>>>16&255,t[0]>>>8&255,255&t[0]])},o.prototype.clone=function(){var t=new o;t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];return t.length=this.length,t.negative=this.negative,t},o.prototype.strip=function(){for(;this.length>1&&0==(0|this.words[this.length-1]);)this.length--;return this},o.prototype.normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.ucmp=function(t){if(this.length!==t.length)return this.length>t.length?1:-1;for(var e=this.length-1;e>=0;--e)if(this.words[e]!==t.words[e])return this.words[e]>t.words[e]?1:-1;return 0},o.prototype.gtOne=function(){return this.length>1||this.words[0]>1},o.prototype.isOverflow=function(){return this.ucmp(o.n)>=0},o.prototype.isHigh=function(){return 1===this.ucmp(o.nh)},o.prototype.bitLengthGT256=function(){return this.length>10||10===this.length&&this.words[9]>4194303},o.prototype.iuaddn=function(t){this.words[0]+=t;for(var e=0;this.words[e]>67108863&&e<this.length;++e)this.words[e]-=67108864,this.words[e+1]+=1;return e===this.length&&(this.words[e]=1,this.length+=1),this},o.prototype.iadd=function(t){if(this.negative!==t.negative)return 0!==this.negative?(this.negative=0,this.isub(t),this.negative^=1):(t.negative=0,this.isub(t),t.negative=1),this.normSign();var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0,i=0;n<r.length;++n){var o=e.words[n]+r.words[n]+i;this.words[n]=67108863&o,i=o>>>26}for(;0!==i&&n<e.length;++n)o=e.words[n]+i,this.words[n]=67108863&o,i=o>>>26;if(this.length=e.length,0!==i)this.words[this.length++]=i;else if(e!==this)for(;n<e.length;++n)this.words[n]=e.words[n];return this},o.prototype.add=function(t){return this.clone().iadd(t)},o.prototype.isub=function(t){if(this.negative!==t.negative)return 0!==this.negative?(this.negative=0,this.iadd(t),this.negative=1):(t.negative=0,this.iadd(t),t.negative=1),this.normSign();var e,r,n=this.ucmp(t);if(0===n)return this.negative=0,this.words[0]=0,this.length=1,this;n>0?(e=this,r=t):(e=t,r=this);for(var i=0,o=0;i<r.length;++i){var s=e.words[i]-r.words[i]+o;o=s>>26,this.words[i]=67108863&s}for(;0!==o&&i<e.length;++i)o=(s=e.words[i]+o)>>26,this.words[i]=67108863&s;if(0===o&&i<e.length&&e!==this)for(;i<e.length;++i)this.words[i]=e.words[i];return this.length=Math.max(this.length,i),e!==this&&(this.negative^=1),this.strip().normSign()},o.prototype.sub=function(t){return this.clone().isub(t)},o.umulTo=function(t,e,r){r.length=t.length+e.length-1;var n=t.words[0]*e.words[0],i=n/67108864|0;r.words[0]=67108863&n;for(var o=1,s=r.length;o<s;o++){for(var a=i>>>26,u=67108863&i,c=Math.max(0,o-t.length+1),f=Math.min(o,e.length-1);c<=f;c++){var l=o-c,h=t.words[l]*e.words[c]+u;a+=h/67108864|0,u=67108863&h}r.words[o]=u,i=a}return 0!==i&&(r.words[r.length++]=i),r.strip()},o.umulTo10x10=Math.imul?i.umulTo10x10:o.umulTo,o.umulnTo=function(t,e,r){if(0===e)return r.words=[0],r.length=1,r;for(var n=0,i=0;n<t.length;++n){var o=t.words[n]*e+i;r.words[n]=67108863&o,i=o/67108864|0}return i>0?(r.words[n]=i,r.length=t.length+1):r.length=t.length,r},o.prototype.umul=function(t){var e=new o;return e.words=new Array(this.length+t.length),10===this.length&&10===t.length?o.umulTo10x10(this,t,e):1===this.length?o.umulnTo(t,this.words[0],e):1===t.length?o.umulnTo(this,t.words[0],e):o.umulTo(this,t,e)},o.prototype.isplit=function(t){t.length=Math.min(this.length,9);for(var e=0;e<t.length;++e)t.words[e]=this.words[e];if(this.length<=9)return this.words[0]=0,this.length=1,this;var r=this.words[9];for(t.words[t.length++]=4194303&r,e=10;e<this.length;++e){var n=this.words[e];this.words[e-10]=(4194303&n)<<4|r>>>22,r=n}return r>>>=22,this.words[e-10]=r,0===r&&this.length>10?this.length-=10:this.length-=9,this},o.prototype.fireduce=function(){return this.isOverflow()&&this.isub(o.n),this},o.prototype.ureduce=function(){var t=this.clone().isplit(o.tmp).umul(o.nc).iadd(o.tmp);return t.bitLengthGT256()&&(t=t.isplit(o.tmp).umul(o.nc).iadd(o.tmp)).bitLengthGT256()&&(t=t.isplit(o.tmp).umul(o.nc).iadd(o.tmp)),t.fireduce()},o.prototype.ishrn=function(t){for(var e=(1<<t)-1,r=26-t,n=this.length-1,i=0;n>=0;--n){var o=this.words[n];this.words[n]=i<<r|o>>>t,i=o&e}return this.length>1&&0===this.words[this.length-1]&&(this.length-=1),this},o.prototype.uinvm=function(){for(var t=this.clone(),e=o.n.clone(),r=o.fromNumber(1),n=o.fromNumber(0),i=o.fromNumber(0),s=o.fromNumber(1);t.isEven()&&e.isEven();){for(var a=1,u=1;0==(t.words[0]&u)&&0==(e.words[0]&u)&&a<26;++a,u<<=1);t.ishrn(a),e.ishrn(a)}for(var c=e.clone(),f=t.clone();!t.isZero();){for(var l=0,h=1;0==(t.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(t.ishrn(l);l-- >0;)(r.isOdd()||n.isOdd())&&(r.iadd(c),n.isub(f)),r.ishrn(1),n.ishrn(1);for(var p=0,d=1;0==(e.words[0]&d)&&p<26;++p,d<<=1);if(p>0)for(e.ishrn(p);p-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(c),s.isub(f)),i.ishrn(1),s.ishrn(1);t.ucmp(e)>=0?(t.isub(e),r.isub(i),n.isub(s)):(e.isub(t),i.isub(r),s.isub(n))}if(1===i.negative){i.negative=0;var m=i.ureduce();return m.negative^=1,m.normSign().iadd(o.n)}return i.ureduce()},o.prototype.imulK=function(){this.words[this.length]=0,this.words[this.length+1]=0,this.length+=2;for(var t=0,e=0;t<this.length;++t){var r=0|this.words[t];e+=977*r,this.words[t]=67108863&e,e=64*r+(e/67108864|0)}return 0===this.words[this.length-1]&&(this.length-=1,0===this.words[this.length-1]&&(this.length-=1)),this},o.prototype.redIReduce=function(){this.isplit(o.tmp).imulK().iadd(o.tmp),this.bitLengthGT256()&&this.isplit(o.tmp).imulK().iadd(o.tmp);var t=this.ucmp(o.p);return 0===t?(this.words[0]=0,this.length=1):t>0?this.isub(o.p):this.strip(),this},o.prototype.redNeg=function(){return this.isZero()?o.fromNumber(0):o.p.sub(this)},o.prototype.redAdd=function(t){return this.clone().redIAdd(t)},o.prototype.redIAdd=function(t){return this.iadd(t),this.ucmp(o.p)>=0&&this.isub(o.p),this},o.prototype.redIAdd7=function(){return this.iuaddn(7),this.ucmp(o.p)>=0&&this.isub(o.p),this},o.prototype.redSub=function(t){return this.clone().redISub(t)},o.prototype.redISub=function(t){return this.isub(t),0!==this.negative&&this.iadd(o.p),this},o.prototype.redMul=function(t){return this.umul(t).redIReduce()},o.prototype.redSqr=function(){return this.umul(this).redIReduce()},o.prototype.redSqrt=function(){if(this.isZero())return this.clone();for(var t=this.redSqr(),e=t.redSqr(),r=e.redSqr().redMul(e),n=r.redMul(t),i=n.redMul(this),o=i,s=0;s<54;++s)o=o.redSqr().redSqr().redSqr().redSqr().redMul(i);for(o=o.redSqr().redSqr().redSqr().redSqr().redMul(n),s=0;s<5;++s)o=o.redSqr().redSqr().redSqr().redSqr().redMul(i);return 0===(o=(o=o.redSqr().redSqr().redSqr().redSqr().redMul(r)).redSqr().redSqr().redSqr().redSqr().redSqr().redSqr().redMul(r)).redSqr().ucmp(this)?o:null},o.prototype.redInvm=function(){for(var t,e=this.clone(),r=o.p.clone(),n=o.fromNumber(1),i=o.fromNumber(0);e.gtOne()&&r.gtOne();){for(var s=0,a=1;0==(e.words[0]&a)&&s<26;++s,a<<=1);if(s>0)for(e.ishrn(s);s-- >0;)n.isOdd()&&n.iadd(o.p),n.ishrn(1);for(var u=0,c=1;0==(r.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(r.ishrn(u);u-- >0;)i.isOdd()&&i.iadd(o.p),i.ishrn(1);e.ucmp(r)>=0?(e.isub(r),n.isub(i)):(r.isub(e),i.isub(n))}return 0!==(t=1===e.length&&1===e.words[0]?n:i).negative&&t.iadd(o.p),0!==t.negative?(t.negative=0,t.redIReduce().redNeg()):t.redIReduce()},o.prototype.getNAF=function(t){for(var e=[],r=1<<t+1,n=r-1,i=r>>1,o=this.clone();!o.isZero();){for(var s=0,a=1;0==(o.words[0]&a)&&s<26;++s,a<<=1)e.push(0);if(0!==s)o.ishrn(s);else{var u=o.words[0]&n;if(u>=i)e.push(i-u),o.iuaddn(u-i).ishrn(1);else if(e.push(u),o.words[0]-=u,!o.isZero()){for(s=t-1;s>0;--s)e.push(0);o.ishrn(t)}}}return e},o.prototype.inspect=function(){if(this.isZero())return"0";for(var t=this.toBuffer().toString("hex"),e=0;"0"===t[e];++e);return t.slice(e)},o.n=o.fromBuffer(n.from("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","hex")),o.nh=o.n.clone().ishrn(1),o.nc=o.fromBuffer(n.from("000000000000000000000000000000014551231950B75FC4402DA1732FC9BEBF","hex")),o.p=o.fromBuffer(n.from("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","hex")),o.psn=o.p.sub(o.n),o.tmp=new o,o.tmp.words=new Array(10),o.fromNumber(1).words[3]=0,t.exports=o},function(t,e,r){var n,i=r(11);t.exports=i.jsbn=i.jsbn||{};function o(t,e,r){this.data=[],null!=t&&("number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function s(){return new o(null)}function a(t,e,r,n,i,o){for(var s=16383&e,a=e>>14;--o>=0;){var u=16383&this.data[t],c=this.data[t++]>>14,f=a*u+c*s;i=((u=s*u+((16383&f)<<14)+r.data[n]+i)>>28)+(f>>14)+a*c,r.data[n++]=268435455&u}return i}i.jsbn.BigInteger=o,"undefined"==typeof navigator?(o.prototype.am=a,n=28):"Microsoft Internet Explorer"==navigator.appName?(o.prototype.am=function(t,e,r,n,i,o){for(var s=32767&e,a=e>>15;--o>=0;){var u=32767&this.data[t],c=this.data[t++]>>15,f=a*u+c*s;i=((u=s*u+((32767&f)<<15)+r.data[n]+(1073741823&i))>>>30)+(f>>>15)+a*c+(i>>>30),r.data[n++]=1073741823&u}return i},n=30):"Netscape"!=navigator.appName?(o.prototype.am=function(t,e,r,n,i,o){for(;--o>=0;){var s=e*this.data[t++]+r.data[n]+i;i=Math.floor(s/67108864),r.data[n++]=67108863&s}return i},n=26):(o.prototype.am=a,n=28),o.prototype.DB=n,o.prototype.DM=(1<<n)-1,o.prototype.DV=1<<n;o.prototype.FV=Math.pow(2,52),o.prototype.F1=52-n,o.prototype.F2=2*n-52;var u,c,f="0123456789abcdefghijklmnopqrstuvwxyz",l=new Array;for(u="0".charCodeAt(0),c=0;c<=9;++c)l[u++]=c;for(u="a".charCodeAt(0),c=10;c<36;++c)l[u++]=c;for(u="A".charCodeAt(0),c=10;c<36;++c)l[u++]=c;function h(t){return f.charAt(t)}function p(t,e){var r=l[t.charCodeAt(e)];return null==r?-1:r}function d(t){var e=s();return e.fromInt(t),e}function m(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function g(t){this.m=t}function v(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function y(t,e){return t&e}function b(t,e){return t|e}function w(t,e){return t^e}function _(t,e){return t&~e}function k(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function S(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function x(){}function E(t){return t}function C(t){this.r2=s(),this.q3=s(),o.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}g.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},g.prototype.revert=function(t){return t},g.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},g.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},g.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},v.prototype.convert=function(t){var e=s();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(o.ZERO)>0&&this.m.subTo(e,e),e},v.prototype.revert=function(t){var e=s();return t.copyTo(e),this.reduce(e),e},v.prototype.reduce=function(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t.data[e],n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},v.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},v.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},o.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s},o.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0},o.prototype.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var n=t.length,i=!1,s=0;--n>=0;){var a=8==r?255&t[n]:p(t,n);a<0?"-"==t.charAt(n)&&(i=!0):(i=!1,0==s?this.data[this.t++]=a:s+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this.data[this.t++]=a>>this.DB-s):this.data[this.t-1]|=a<<s,(s+=r)>=this.DB&&(s-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&o.ZERO.subTo(this,this)},o.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t},o.prototype.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s},o.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s},o.prototype.lShiftTo=function(t,e){var r,n=t%this.DB,i=this.DB-n,o=(1<<i)-1,s=Math.floor(t/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)e.data[r+s+1]=this.data[r]>>i|a,a=(this.data[r]&o)<<n;for(r=s-1;r>=0;--r)e.data[r]=0;e.data[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()},o.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var s=r+1;s<this.t;++s)e.data[s-r-1]|=(this.data[s]&o)<<i,e.data[s-r]=this.data[s]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}},o.prototype.subTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()},o.prototype.multiplyTo=function(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&o.ZERO.subTo(e,e)},o.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()},o.prototype.divRemTo=function(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=s());var a=s(),u=this.s,c=t.s,f=this.DB-m(n.data[n.t-1]);f>0?(n.lShiftTo(f,a),i.lShiftTo(f,r)):(n.copyTo(a),i.copyTo(r));var l=a.t,h=a.data[l-1];if(0!=h){var p=h*(1<<this.F1)+(l>1?a.data[l-2]>>this.F2:0),d=this.FV/p,g=(1<<this.F1)/p,v=1<<this.F2,y=r.t,b=y-l,w=null==e?s():e;for(a.dlShiftTo(b,w),r.compareTo(w)>=0&&(r.data[r.t++]=1,r.subTo(w,r)),o.ONE.dlShiftTo(l,w),w.subTo(a,a);a.t<l;)a.data[a.t++]=0;for(;--b>=0;){var _=r.data[--y]==h?this.DM:Math.floor(r.data[y]*d+(r.data[y-1]+v)*g);if((r.data[y]+=a.am(0,_,r,b,0,l))<_)for(a.dlShiftTo(b,w),r.subTo(w,r);r.data[y]<--_;)r.subTo(w,r)}null!=e&&(r.drShiftTo(l,e),u!=c&&o.ZERO.subTo(e,e)),r.t=l,r.clamp(),f>0&&r.rShiftTo(f,r),u<0&&o.ZERO.subTo(r,r)}}},o.prototype.invDigit=function(){if(this.t<1)return 0;var t=this.data[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},o.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},o.prototype.exp=function(t,e){if(t>4294967295||t<1)return o.ONE;var r=s(),n=s(),i=e.convert(this),a=m(t)-1;for(i.copyTo(r);--a>=0;)if(e.sqrTo(r,n),(t&1<<a)>0)e.mulTo(n,i,r);else{var u=r;r=n,n=u}return e.revert(r)},o.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(r=this.data[s]>>a)>0&&(i=!0,o=h(r));s>=0;)a<e?(r=(this.data[s]&(1<<a)-1)<<e-a,r|=this.data[--s]>>(a+=this.DB-e)):(r=this.data[s]>>(a-=e)&n,a<=0&&(a+=this.DB,--s)),r>0&&(i=!0),i&&(o+=h(r));return i?o:"0"},o.prototype.negate=function(){var t=s();return o.ZERO.subTo(this,t),t},o.prototype.abs=function(){return this.s<0?this.negate():this},o.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this.data[r]-t.data[r]))return e;return 0},o.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+m(this.data[this.t-1]^this.s&this.DM)},o.prototype.mod=function(t){var e=s();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(o.ZERO)>0&&t.subTo(e,e),e},o.prototype.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new g(e):new v(e),this.exp(t,r)},o.ZERO=d(0),o.ONE=d(1),x.prototype.convert=E,x.prototype.revert=E,x.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},x.prototype.sqrTo=function(t,e){t.squareTo(e)},C.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=s();return t.copyTo(e),this.reduce(e),e},C.prototype.revert=function(t){return t},C.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},C.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},C.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var A=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],M=(1<<26)/A[A.length-1];o.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},o.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=d(r),i=s(),o=s(),a="";for(this.divRemTo(n,i,o);i.signum()>0;)a=(r+o.intValue()).toString(t).substr(1)+a,i.divRemTo(n,i,o);return o.intValue().toString(t)+a},o.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,s=0,a=0,u=0;u<t.length;++u){var c=p(t,u);c<0?"-"==t.charAt(u)&&0==this.signum()&&(i=!0):(a=e*a+c,++s>=r&&(this.dMultiply(n),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(a,0)),i&&o.ZERO.subTo(this,this)},o.prototype.fromNumber=function(t,e,r){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(o.ONE.shiftLeft(t-1),b,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(o.ONE.shiftLeft(t-1),this);else{var n=new Array,i=7&t;n.length=1+(t>>3),e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},o.prototype.bitwiseTo=function(t,e,r){var n,i,o=Math.min(t.t,this.t);for(n=0;n<o;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=o;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},o.prototype.changeBit=function(t,e){var r=o.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r},o.prototype.addTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()},o.prototype.dMultiply=function(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},o.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}},o.prototype.multiplyLowerTo=function(t,e,r){var n,i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;i>0;)r.data[--i]=0;for(n=r.t-this.t;i<n;++i)r.data[i+this.t]=this.am(0,t.data[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t.data[i],r,i,0,e-i);r.clamp()},o.prototype.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},o.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r},o.prototype.millerRabin=function(t){var e=this.subtract(o.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n,i=e.shiftRight(r),s={nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(256*Math.random())}},a=0;a<t;++a){do{n=new o(this.bitLength(),s)}while(n.compareTo(o.ONE)<=0||n.compareTo(e)>=0);var u=n.modPow(i,this);if(0!=u.compareTo(o.ONE)&&0!=u.compareTo(e)){for(var c=1;c++<r&&0!=u.compareTo(e);)if(0==(u=u.modPowInt(2,this)).compareTo(o.ONE))return!1;if(0!=u.compareTo(e))return!1}}return!0},o.prototype.clone=function(){var t=s();return this.copyTo(t),t},o.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},o.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},o.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},o.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},o.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var r,n=this.DB-t*this.DB%8,i=0;if(t-- >0)for(n<this.DB&&(r=this.data[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this.data[t]&(1<<n)-1)<<8-n,r|=this.data[--t]>>(n+=this.DB-8)):(r=this.data[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(e[i++]=r);return e},o.prototype.equals=function(t){return 0==this.compareTo(t)},o.prototype.min=function(t){return this.compareTo(t)<0?this:t},o.prototype.max=function(t){return this.compareTo(t)>0?this:t},o.prototype.and=function(t){var e=s();return this.bitwiseTo(t,y,e),e},o.prototype.or=function(t){var e=s();return this.bitwiseTo(t,b,e),e},o.prototype.xor=function(t){var e=s();return this.bitwiseTo(t,w,e),e},o.prototype.andNot=function(t){var e=s();return this.bitwiseTo(t,_,e),e},o.prototype.not=function(){for(var t=s(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t},o.prototype.shiftLeft=function(t){var e=s();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},o.prototype.shiftRight=function(t){var e=s();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},o.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this.data[t])return t*this.DB+k(this.data[t]);return this.s<0?this.t*this.DB:-1},o.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=S(this.data[r]^e);return t},o.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this.data[e]&1<<t%this.DB)},o.prototype.setBit=function(t){return this.changeBit(t,b)},o.prototype.clearBit=function(t){return this.changeBit(t,_)},o.prototype.flipBit=function(t){return this.changeBit(t,w)},o.prototype.add=function(t){var e=s();return this.addTo(t,e),e},o.prototype.subtract=function(t){var e=s();return this.subTo(t,e),e},o.prototype.multiply=function(t){var e=s();return this.multiplyTo(t,e),e},o.prototype.divide=function(t){var e=s();return this.divRemTo(t,e,null),e},o.prototype.remainder=function(t){var e=s();return this.divRemTo(t,null,e),e},o.prototype.divideAndRemainder=function(t){var e=s(),r=s();return this.divRemTo(t,e,r),new Array(e,r)},o.prototype.modPow=function(t,e){var r,n,i=t.bitLength(),o=d(1);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new g(e):e.isEven()?new C(e):new v(e);var a=new Array,u=3,c=r-1,f=(1<<r)-1;if(a[1]=n.convert(this),r>1){var l=s();for(n.sqrTo(a[1],l);u<=f;)a[u]=s(),n.mulTo(l,a[u-2],a[u]),u+=2}var h,p,y=t.t-1,b=!0,w=s();for(i=m(t.data[y])-1;y>=0;){for(i>=c?h=t.data[y]>>i-c&f:(h=(t.data[y]&(1<<i+1)-1)<<c-i,y>0&&(h|=t.data[y-1]>>this.DB+i-c)),u=r;0==(1&h);)h>>=1,--u;if((i-=u)<0&&(i+=this.DB,--y),b)a[h].copyTo(o),b=!1;else{for(;u>1;)n.sqrTo(o,w),n.sqrTo(w,o),u-=2;u>0?n.sqrTo(o,w):(p=o,o=w,w=p),n.mulTo(w,a[h],o)}for(;y>=0&&0==(t.data[y]&1<<i);)n.sqrTo(o,w),p=o,o=w,w=p,--i<0&&(i=this.DB-1,--y)}return n.revert(o)},o.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return o.ZERO;for(var r=t.clone(),n=this.clone(),i=d(1),s=d(0),a=d(0),u=d(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(i.isEven()&&s.isEven()||(i.addTo(this,i),s.subTo(t,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),e?(a.isEven()&&u.isEven()||(a.addTo(this,a),u.subTo(t,u)),a.rShiftTo(1,a)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(a,i),s.subTo(u,s)):(n.subTo(r,n),e&&a.subTo(i,a),u.subTo(s,u))}return 0!=n.compareTo(o.ONE)?o.ZERO:u.compareTo(t)>=0?u.subtract(t):u.signum()<0?(u.addTo(t,u),u.signum()<0?u.add(t):u):u},o.prototype.pow=function(t){return this.exp(t,new x)},o.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),r.rShiftTo(o,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},o.prototype.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r.data[0]<=A[A.length-1]){for(e=0;e<A.length;++e)if(r.data[0]==A[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<A.length;){for(var n=A[e],i=e+1;i<A.length&&n<M;)n*=A[i++];for(n=r.modInt(n);e<i;)if(n%A[e++]==0)return!1}return r.millerRabin(t)}},function(t,e,r){var n=r(11);if(r(73),r(189),r(94),r(503),r(502),r(56),r(13),void 0===i)var i=n.jsbn.BigInteger;var o=n.asn1;n.pki=n.pki||{},t.exports=n.pki.rsa=n.rsa=n.rsa||{};var s=n.pki,a=[6,4,2,4,2,4,6,2],u={name:"PrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},c={name:"RSAPrivateKey",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},f={name:"RSAPublicKey",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},l=n.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},h=function(t){var e;if(!(t.algorithm in s.oids)){var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}e=s.oids[t.algorithm];var n=o.oidToDer(e).getBytes(),i=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),a=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);a.value.push(o.create(o.Class.UNIVERSAL,o.Type.OID,!1,n)),a.value.push(o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,""));var u=o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(a),i.value.push(u),o.toDer(i).getBytes()},p=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);var o;e.dP||(e.dP=e.d.mod(e.p.subtract(i.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(i.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));do{o=new i(n.util.bytesToHex(n.random.getBytes(e.n.bitLength()/8)),16)}while(o.compareTo(e.n)>=0||!o.gcd(e.n).equals(i.ONE));for(var s=(t=t.multiply(o.modPow(e.e,e.n)).mod(e.n)).mod(e.p).modPow(e.dP,e.p),a=t.mod(e.q).modPow(e.dQ,e.q);s.compareTo(a)<0;)s=s.add(e.p);var u=s.subtract(a).multiply(e.qInv).mod(e.p).multiply(e.q).add(a);return u=u.multiply(o.modInverse(e.n)).mod(e.n)};function d(t,e,r){var i=n.util.createBuffer(),o=Math.ceil(e.n.bitLength()/8);if(t.length>o-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=t.length,s.max=o-11,s}i.putByte(0),i.putByte(r);var a,u=o-3-t.length;if(0===r||1===r){a=0===r?0:255;for(var c=0;c<u;++c)i.putByte(a)}else for(;u>0;){var f=0,l=n.random.getBytes(u);for(c=0;c<u;++c)0===(a=l.charCodeAt(c))?++f:i.putByte(a);u=f}return i.putByte(0),i.putBytes(t),i}function m(t,e,r,i){var o=Math.ceil(e.n.bitLength()/8),s=n.util.createBuffer(t),a=s.getByte(),u=s.getByte();if(0!==a||r&&0!==u&&1!==u||!r&&2!=u||r&&0===u&&void 0===i)throw new Error("Encryption block is invalid.");var c=0;if(0===u){c=o-3-i;for(var f=0;f<c;++f)if(0!==s.getByte())throw new Error("Encryption block is invalid.")}else if(1===u)for(c=0;s.length()>1;){if(255!==s.getByte()){--s.read;break}++c}else if(2===u)for(c=0;s.length()>1;){if(0===s.getByte()){--s.read;break}++c}if(0!==s.getByte()||c!==o-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}function g(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=n.util.hexToBytes(e);return r.length>1&&(0===r.charCodeAt(0)&&0==(128&r.charCodeAt(1))||255===r.charCodeAt(0)&&128==(128&r.charCodeAt(1)))?r.substr(1):r}function v(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function y(t){return"undefined"!=typeof window&&"object"==typeof window.crypto&&"object"==typeof window.crypto.subtle&&"function"==typeof window.crypto.subtle[t]}function b(t){return"undefined"!=typeof window&&"object"==typeof window.msCrypto&&"object"==typeof window.msCrypto.subtle&&"function"==typeof window.msCrypto.subtle[t]}function w(t){for(var e=n.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),i=0;i<e.length;++i)r[i]=e.charCodeAt(i);return r}s.rsa.encrypt=function(t,e,r){var o,s=r,a=Math.ceil(e.n.bitLength()/8);!1!==r&&!0!==r?(s=2===r,o=d(t,e,r)):(o=n.util.createBuffer()).putBytes(t);for(var u=new i(o.toHex(),16),c=p(u,e,s).toString(16),f=n.util.createBuffer(),l=a-Math.ceil(c.length/2);l>0;)f.putByte(0),--l;return f.putBytes(n.util.hexToBytes(c)),f.getBytes()},s.rsa.decrypt=function(t,e,r,o){var s=Math.ceil(e.n.bitLength()/8);if(t.length!==s){var a=new Error("Encrypted message length is invalid.");throw a.length=t.length,a.expected=s,a}var u=new i(n.util.createBuffer(t).toHex(),16);if(u.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var c=p(u,e,r).toString(16),f=n.util.createBuffer(),l=s-Math.ceil(c.length/2);l>0;)f.putByte(0),--l;return f.putBytes(n.util.hexToBytes(c)),!1!==o?m(f.getBytes(),e,r):f.getBytes()},s.rsa.createKeyPairGenerationState=function(t,e,r){"string"==typeof t&&(t=parseInt(t,10)),t=t||2048;var o,s=(r=r||{}).prng||n.random,a={nextBytes:function(t){for(var e=s.getBytesSync(t.length),r=0;r<t.length;++r)t[r]=e.charCodeAt(r)}},u=r.algorithm||"PRIMEINC";if("PRIMEINC"!==u)throw new Error("Invalid key generation algorithm: "+u);return(o={algorithm:u,state:0,bits:t,rng:a,eInt:e||65537,e:new i(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null}).e.fromInt(o.eInt),o},s.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new i(null);r.fromInt(30);for(var n,o=0,u=function(t,e){return t|e},c=+new Date,f=0;null===t.keys&&(e<=0||f<e);){if(0===t.state){var l=null===t.p?t.pBits:t.qBits,h=l-1;0===t.pqState?(t.num=new i(l,t.rng),t.num.testBit(h)||t.num.bitwiseTo(i.ONE.shiftLeft(h),u,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),o=0,++t.pqState):1===t.pqState?t.num.bitLength()>l?t.pqState=0:t.num.isProbablePrime(v(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(a[o++%8],0):2===t.pqState?t.pqState=0===t.num.subtract(i.ONE).gcd(t.e).compareTo(i.ONE)?3:0:3===t.pqState&&(t.pqState=0,null===t.p?t.p=t.num:t.q=t.num,null!==t.p&&null!==t.q&&++t.state,t.num=null)}else if(1===t.state)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(2===t.state)t.p1=t.p.subtract(i.ONE),t.q1=t.q.subtract(i.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(3===t.state)0===t.phi.gcd(t.e).compareTo(i.ONE)?++t.state:(t.p=null,t.q=null,t.state=0);else if(4===t.state)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(5===t.state){var p=t.e.modInverse(t.phi);t.keys={privateKey:s.rsa.setPrivateKey(t.n,t.e,p,t.p,t.q,p.mod(t.p1),p.mod(t.q1),t.q.modInverse(t.p)),publicKey:s.rsa.setPublicKey(t.n,t.e)}}f+=(n=+new Date)-c,c=n}return null!==t.keys},s.rsa.generateKeyPair=function(t,e,r,a){if(1===arguments.length?"object"==typeof t?(r=t,t=void 0):"function"==typeof t&&(a=t,t=void 0):2===arguments.length?"number"==typeof t?"function"==typeof e?(a=e,e=void 0):"number"!=typeof e&&(r=e,e=void 0):(r=t,a=e,t=void 0,e=void 0):3===arguments.length&&("number"==typeof e?"function"==typeof r&&(a=r,r=void 0):(a=r,r=e,e=void 0)),r=r||{},void 0===t&&(t=r.bits||2048),void 0===e&&(e=r.e||65537),!n.options.usePureJavaScript&&a&&t>=256&&t<=16384&&(65537===e||3===e)){if(y("generateKey")&&y("exportKey"))return window.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:w(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(t){return window.crypto.subtle.exportKey("pkcs8",t.privateKey)}).then(void 0,function(t){a(t)}).then(function(t){if(t){var e=s.privateKeyFromAsn1(o.fromDer(n.util.createBuffer(t)));a(null,{privateKey:e,publicKey:s.setRsaPublicKey(e.n,e.e)})}});if(b("generateKey")&&b("exportKey")){var u=window.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:w(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);return u.oncomplete=function(t){var e=t.target.result,r=window.msCrypto.subtle.exportKey("pkcs8",e.privateKey);r.oncomplete=function(t){var e=t.target.result,r=s.privateKeyFromAsn1(o.fromDer(n.util.createBuffer(e)));a(null,{privateKey:r,publicKey:s.setRsaPublicKey(r.n,r.e)})},r.onerror=function(t){a(t)}},void(u.onerror=function(t){a(t)})}}var c=s.rsa.createKeyPairGenerationState(t,e,r);if(!a)return s.rsa.stepKeyPairGenerationState(c,0),c.keys;!function(t,e,r){"function"==typeof e&&(r=e,e={});var o={algorithm:{name:(e=e||{}).algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(o.prng=e.prng);function a(){u(t.pBits,function(e,n){return e?r(e):(t.p=n,null!==t.q?c(e,t.q):void u(t.qBits,c))})}function u(t,e){n.prime.generateProbablePrime(t,o,e)}function c(e,n){if(e)return r(e);if(t.q=n,t.p.compareTo(t.q)<0){var o=t.p;t.p=t.q,t.q=o}if(0!==t.p.subtract(i.ONE).gcd(t.e).compareTo(i.ONE))return t.p=null,void a();if(0!==t.q.subtract(i.ONE).gcd(t.e).compareTo(i.ONE))return t.q=null,void u(t.qBits,c);if(t.p1=t.p.subtract(i.ONE),t.q1=t.q.subtract(i.ONE),t.phi=t.p1.multiply(t.q1),0!==t.phi.gcd(t.e).compareTo(i.ONE))return t.p=t.q=null,void a();if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits)return t.q=null,void u(t.qBits,c);var f=t.e.modInverse(t.phi);t.keys={privateKey:s.rsa.setPrivateKey(t.n,t.e,f,t.p,t.q,f.mod(t.p1),f.mod(t.q1),t.q.modInverse(t.p)),publicKey:s.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}a()}(c,r,a)},s.setRsaPublicKey=s.rsa.setPublicKey=function(t,e){var r={n:t,e:e,encrypt:function(t,e,i){if("string"==typeof e?e=e.toUpperCase():void 0===e&&(e="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===e)e={encode:function(t,e,r){return d(t,e,2).getBytes()}};else if("RSA-OAEP"===e||"RSAES-OAEP"===e)e={encode:function(t,e){return n.pkcs1.encode_rsa_oaep(e,t,i)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(e))e={encode:function(t){return t}};else if("string"==typeof e)throw new Error('Unsupported encryption scheme: "'+e+'".');var o=e.encode(t,r,!0);return s.rsa.encrypt(o,r,!0)},verify:function(t,e,n){"string"==typeof n?n=n.toUpperCase():void 0===n&&(n="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===n?n={verify:function(t,e){return e=m(e,r,!0),t===o.fromDer(e).value[1].value}}:"NONE"!==n&&"NULL"!==n&&null!==n||(n={verify:function(t,e){return t===(e=m(e,r,!0))}});var i=s.rsa.decrypt(e,r,!0,!1);return n.verify(t,i,r.n.bitLength())}};return r},s.setRsaPrivateKey=s.rsa.setPrivateKey=function(t,e,r,i,o,a,u,c){var f={n:t,e:e,d:r,p:i,q:o,dP:a,dQ:u,qInv:c,decrypt:function(t,e,r){"string"==typeof e?e=e.toUpperCase():void 0===e&&(e="RSAES-PKCS1-V1_5");var i=s.rsa.decrypt(t,f,!1,!1);if("RSAES-PKCS1-V1_5"===e)e={decode:m};else if("RSA-OAEP"===e||"RSAES-OAEP"===e)e={decode:function(t,e){return n.pkcs1.decode_rsa_oaep(e,t,r)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(e))throw new Error('Unsupported encryption scheme: "'+e+'".');e={decode:function(t){return t}}}return e.decode(i,f,!1)},sign:function(t,e){var r=!1;"string"==typeof e&&(e=e.toUpperCase()),void 0===e||"RSASSA-PKCS1-V1_5"===e?(e={encode:h},r=1):"NONE"!==e&&"NULL"!==e&&null!==e||(e={encode:function(){return t}},r=1);var n=e.encode(t,f.n.bitLength());return s.rsa.encrypt(n,f,r)}};return f},s.wrapRsaPrivateKey=function(t){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(0).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s.oids.rsaEncryption).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,o.toDer(t).getBytes())])},s.privateKeyFromAsn1=function(t){var e,r,a,f,l,h,p,d,m={},g=[];if(o.validate(t,u,m,g)&&(t=o.fromDer(n.util.createBuffer(m.privateKey))),m={},g=[],!o.validate(t,c,m,g)){var v=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw v.errors=g,v}return e=n.util.createBuffer(m.privateKeyModulus).toHex(),r=n.util.createBuffer(m.privateKeyPublicExponent).toHex(),a=n.util.createBuffer(m.privateKeyPrivateExponent).toHex(),f=n.util.createBuffer(m.privateKeyPrime1).toHex(),l=n.util.createBuffer(m.privateKeyPrime2).toHex(),h=n.util.createBuffer(m.privateKeyExponent1).toHex(),p=n.util.createBuffer(m.privateKeyExponent2).toHex(),d=n.util.createBuffer(m.privateKeyCoefficient).toHex(),s.setRsaPrivateKey(new i(e,16),new i(r,16),new i(a,16),new i(f,16),new i(l,16),new i(h,16),new i(p,16),new i(d,16))},s.privateKeyToAsn1=s.privateKeyToRSAPrivateKey=function(t){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(0).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,g(t.n)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,g(t.e)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,g(t.d)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,g(t.p)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,g(t.q)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,g(t.dP)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,g(t.dQ)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,g(t.qInv))])},s.publicKeyFromAsn1=function(t){var e={},r=[];if(o.validate(t,l,e,r)){var a,u=o.derToOid(e.publicKeyOid);if(u!==s.oids.rsaEncryption)throw(a=new Error("Cannot read public key. Unknown OID.")).oid=u,a;t=e.rsaPublicKey}if(r=[],!o.validate(t,f,e,r))throw(a=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=r,a;var c=n.util.createBuffer(e.publicKeyModulus).toHex(),h=n.util.createBuffer(e.publicKeyExponent).toHex();return s.setRsaPublicKey(new i(c,16),new i(h,16))},s.publicKeyToAsn1=s.publicKeyToSubjectPublicKeyInfo=function(t){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s.oids.rsaEncryption).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]),o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,[s.publicKeyToRSAPublicKey(t)])])},s.publicKeyToRSAPublicKey=function(t){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,g(t.n)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,g(t.e))])}},function(t,e,r){var n=r(11);function i(t,e){n.cipher.registerAlgorithm(t,function(){return new n.des.Algorithm(t,e)})}r(298),r(511),r(13),t.exports=n.des=n.des||{},n.des.startEncrypting=function(t,e,r,n){var i=d({key:t,output:r,decrypt:!1,mode:n||(null===e?"ECB":"CBC")});return i.start(e),i},n.des.createEncryptionCipher=function(t,e){return d({key:t,output:null,decrypt:!1,mode:e})},n.des.startDecrypting=function(t,e,r,n){var i=d({key:t,output:r,decrypt:!0,mode:n||(null===e?"ECB":"CBC")});return i.start(e),i},n.des.createDecryptionCipher=function(t,e){return d({key:t,output:null,decrypt:!0,mode:e})},n.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(t,e){return p(r._keys,t,e,!1)},decrypt:function(t,e){return p(r._keys,t,e,!0)}}}),r._init=!1},n.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=n.util.createBuffer(t.key);if(0===this.name.indexOf("3DES")&&24!==e.length())throw new Error("Invalid Triple-DES key size: "+8*e.length());this._keys=function(t){for(var e,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],o=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],u=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],f=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],l=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],p=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],m=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],g=t.length()>8?3:1,v=[],y=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,w=0;w<g;w++){var _=t.getInt32(),k=t.getInt32();_^=(e=252645135&(_>>>4^k))<<4,_^=e=65535&((k^=e)>>>-16^_),_^=(e=858993459&(_>>>2^(k^=e<<-16)))<<2,_^=e=65535&((k^=e)>>>-16^_),_^=(e=1431655765&(_>>>1^(k^=e<<-16)))<<1,_^=e=16711935&((k^=e)>>>8^_),e=(_^=(e=1431655765&(_>>>1^(k^=e<<8)))<<1)<<8|(k^=e)>>>20&240,_=k<<24|k<<8&16711680|k>>>8&65280|k>>>24&240,k=e;for(var S=0;S<y.length;++S){y[S]?(_=_<<2|_>>>26,k=k<<2|k>>>26):(_=_<<1|_>>>27,k=k<<1|k>>>27);var x=r[(_&=-15)>>>28]|n[_>>>24&15]|i[_>>>20&15]|o[_>>>16&15]|s[_>>>12&15]|a[_>>>8&15]|u[_>>>4&15],E=c[(k&=-15)>>>28]|f[k>>>24&15]|l[k>>>20&15]|h[k>>>16&15]|p[k>>>12&15]|d[k>>>8&15]|m[k>>>4&15];e=65535&(E>>>16^x),v[b++]=x^e,v[b++]=E^e<<16}}return v}(e),this._init=!0}},i("DES-ECB",n.cipher.modes.ecb),i("DES-CBC",n.cipher.modes.cbc),i("DES-CFB",n.cipher.modes.cfb),i("DES-OFB",n.cipher.modes.ofb),i("DES-CTR",n.cipher.modes.ctr),i("3DES-ECB",n.cipher.modes.ecb),i("3DES-CBC",n.cipher.modes.cbc),i("3DES-CFB",n.cipher.modes.cfb),i("3DES-OFB",n.cipher.modes.ofb),i("3DES-CTR",n.cipher.modes.ctr);var o=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],s=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],a=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],u=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],c=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],f=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],l=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],h=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function p(t,e,r,n){var i,p,d=32===t.length?3:9;i=3===d?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var m=e[0],g=e[1];m^=(p=252645135&(m>>>4^g))<<4,m^=(p=65535&(m>>>16^(g^=p)))<<16,m^=p=858993459&((g^=p)>>>2^m),m^=p=16711935&((g^=p<<2)>>>8^m),m=(m^=(p=1431655765&(m>>>1^(g^=p<<8)))<<1)<<1|m>>>31,g=(g^=p)<<1|g>>>31;for(var v=0;v<d;v+=3){for(var y=i[v+1],b=i[v+2],w=i[v];w!=y;w+=b){var _=g^t[w],k=(g>>>4|g<<28)^t[w+1];p=m,m=g,g=p^(s[_>>>24&63]|u[_>>>16&63]|f[_>>>8&63]|h[63&_]|o[k>>>24&63]|a[k>>>16&63]|c[k>>>8&63]|l[63&k])}p=m,m=g,g=p}g=g>>>1|g<<31,g^=p=1431655765&((m=m>>>1|m<<31)>>>1^g),g^=(p=16711935&(g>>>8^(m^=p<<1)))<<8,g^=(p=858993459&(g>>>2^(m^=p)))<<2,g^=p=65535&((m^=p)>>>16^g),g^=p=252645135&((m^=p<<16)>>>4^g),m^=p<<4,r[0]=m,r[1]=g}function d(t){var e,r="DES-"+((t=t||{}).mode||"CBC").toUpperCase(),i=(e=t.decrypt?n.cipher.createDecipher(r,t.key):n.cipher.createCipher(r,t.key)).start;return e.start=function(t,r){var o=null;r instanceof n.util.ByteBuffer&&(o=r,r={}),(r=r||{}).output=o,r.iv=t,i.call(e,r)},e}},function(t,e,r){"use strict";(function(e){var n=r(14),i=r(32),o=r(21),s=r(84),a=r(52),u=r(40),c=(r(28),r(16)),f=function t(e){if(!(this instanceof t))return new t(e);var r=t._from(e);return this.version=r.version,this.prevHash=r.prevHash,this.merkleRoot=r.merkleRoot,this.reserved=r.reserved,this.time=r.time,this.timestamp=r.time,this.bits=r.bits,this.nonce=r.nonce,this.solution=r.solution,r.hash&&c.checkState(this.hash===r.hash,"Argument object hash property does not match block hash."),this};f._from=function(t){var e={};if(o.isBuffer(t))e=f._fromBufferReader(s(t));else{if(!n.isObject(t))throw new TypeError("Unrecognized argument for BlockHeader");e=f._fromObject(t)}return e},f._fromObject=function(t){c.checkArgument(t,"data is required");var r=t.prevHash,i=t.merkleRoot,s=t.reserved,a=t.nonce,u=t.solution;return n.isString(t.prevHash)&&(r=o.reverse(new e(t.prevHash,"hex"))),n.isString(t.merkleRoot)&&(i=o.reverse(new e(t.merkleRoot,"hex"))),n.isString(t.reserved)&&(s=o.reverse(new e(t.reserved,"hex"))),n.isString(t.nonce)&&(a=o.reverse(new e(t.nonce,"hex"))),n.isString(t.solution)&&(u=new e(t.solution,"hex")),{hash:t.hash,version:t.version,prevHash:r,merkleRoot:i,reserved:s,time:t.time,timestamp:t.time,bits:t.bits,nonce:a,solution:u}},f.fromObject=function(t){var e=f._fromObject(t);return new f(e)},f.fromRawBlock=function(t){o.isBuffer(t)||(t=new e(t,"binary"));var r=s(t);r.pos=f.Constants.START_OF_HEADER;var n=f._fromBufferReader(r);return new f(n)},f.fromBuffer=function(t){var e=f._fromBufferReader(s(t));return new f(e)},f.fromString=function(t){var r=new e(t,"hex");return f.fromBuffer(r)},f._fromBufferReader=function(t){var e={};e.version=t.readUInt32LE(),e.prevHash=t.read(32),e.merkleRoot=t.read(32),e.reserved=t.read(32),e.time=t.readUInt32LE(),e.bits=t.readUInt32LE(),e.nonce=t.read(32);var r=t.readVarintNum();return e.solution=t.read(r),e},f.fromBufferReader=function(t){var e=f._fromBufferReader(t);return new f(e)},f.prototype.toObject=f.prototype.toJSON=function(){return{hash:this.hash,version:this.version,prevHash:o.reverse(this.prevHash).toString("hex"),merkleRoot:o.reverse(this.merkleRoot).toString("hex"),reserved:o.reverse(this.reserved).toString("hex"),time:this.time,bits:this.bits,nonce:o.reverse(this.nonce).toString("hex"),solution:this.solution.toString("hex")}},f.prototype.toBuffer=function(){return this.toBufferWriter().concat()},f.prototype.toString=function(){return this.toBuffer().toString("hex")},f.prototype.toBufferWriter=function(t){return t||(t=new a),t.writeUInt32LE(this.version),t.write(this.prevHash),t.write(this.merkleRoot),t.write(this.reserved),t.writeUInt32LE(this.time),t.writeUInt32LE(this.bits),t.write(this.nonce),t.writeVarintNum(this.solution.length),t.write(this.solution),t},f.prototype.getTargetDifficulty=function(t){t=t||this.bits;for(var e=new i(16777215&t),r=8*((t>>>24)-3);r-- >0;)e=e.mul(new i(2));return e},f.prototype.getDifficulty=function(){var t=this.getTargetDifficulty(537133055).mul(new i(Math.pow(10,8))),e=this.getTargetDifficulty(),r=t.div(e).toString(10),n=r.length-8;return r=r.slice(0,n)+"."+r.slice(n),parseFloat(r)},f.prototype._getHash=function(){var t=this.toBuffer();return u.sha256sha256(t)};var l={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=s(this._getHash()).readReverse().toString("hex")),this._id},set:n.noop};Object.defineProperty(f.prototype,"id",l),Object.defineProperty(f.prototype,"hash",l),f.prototype.validTimestamp=function(){var t=Math.round((new Date).getTime()/1e3);return!(this.time>t+f.Constants.MAX_TIME_OFFSET)},f.prototype.validProofOfWork=function(){var t=new i(this.id,"hex"),e=this.getTargetDifficulty();return!(t.cmp(e)>0)},f.prototype.inspect=function(){return"<BlockHeader "+this.id+">"},f.Constants={START_OF_HEADER:8,MAX_TIME_OFFSET:7200,LARGEST_HASH:new i("10000000000000000000000000000000000000000000000000000000000000000","hex")},t.exports=f}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e,n){function i(){}i.getRandomBuffer=function(t){return e.browser?i.getRandomBufferBrowser(t):i.getRandomBufferNode(t)},i.getRandomBufferNode=function(t){return r(107).randomBytes(t)},i.getRandomBufferBrowser=function(t){if(!window.crypto&&!window.msCrypto)throw new Error("window.crypto not available");if(window.crypto&&window.crypto.getRandomValues)var e=window.crypto;else{if(!window.msCrypto||!window.msCrypto.getRandomValues)throw new Error("window.crypto.getRandomValues not available");e=window.msCrypto}var r=new Uint8Array(t);return e.getRandomValues(r),new n(r)},i.getPseudoRandomBuffer=function(t){for(var e,r=new n(t),i=0;i<=t;i++){0===i-4*Math.floor(i/4)?(e=4294967296*Math.random(),r[i]=255&e):r[i]=255&(e>>>=8)}return r},t.exports=i}).call(this,r(2),r(0).Buffer)},function(t,e,r){t.exports=r(305),t.exports.Input=r(304),t.exports.Output=r(82),t.exports.UnspentOutput=r(516),t.exports.Signature=r(146),t.exports.Sighash=r(83)},function(t,e,r){"use strict";(function(e){var n=r(14),i=r(518),o=r(0),s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz".split(""),a=function t(r){if(!(this instanceof t))return new t(r);if(e.isBuffer(r)){var n=r;this.fromBuffer(n)}else if("string"==typeof r){var i=r;this.fromString(i)}else r&&this.set(r)};a.validCharacters=function(t){return o.Buffer.isBuffer(t)&&(t=t.toString()),n.all(n.map(t,function(t){return n.contains(s,t)}))},a.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this},a.encode=function(t){if(!o.Buffer.isBuffer(t))throw new Error("Input should be a buffer");return i.encode(t)},a.decode=function(t){if("string"!=typeof t)throw new Error("Input should be a string");return new e(i.decode(t))},a.prototype.fromBuffer=function(t){return this.buf=t,this},a.prototype.fromString=function(t){var e=a.decode(t);return this.buf=e,this},a.prototype.toBuffer=function(){return this.buf},a.prototype.toString=function(){return a.encode(this.buf)},t.exports=a}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e){var n=r(14),i=r(96),o=r(148),s=r(32),a=r(28),u=r(97),c=r(124),f=r(64),l=r(193),h=r(16);function p(t,e){if(!(this instanceof p))return new p(t,e);if(t instanceof p)return t;var r=this._classifyArguments(t,e);if(!r.bn||0===r.bn.cmp(new s(0)))throw new TypeError("Number can not be equal to zero, undefined, null or false");if(!r.bn.lt(c.getN()))throw new TypeError("Number must be less than N");if(void 0===r.network)throw new TypeError('Must specify the network ("livenet" or "testnet")');return a.defineImmutable(this,{bn:r.bn,compressed:r.compressed,network:r.network}),Object.defineProperty(this,"publicKey",{configurable:!1,enumerable:!0,get:this.toPublicKey.bind(this)}),this}p.prototype._classifyArguments=function(t,r){var i={compressed:!0,network:r?u.get(r):u.defaultNetwork};if(n.isUndefined(t)||n.isNull(t))i.bn=p._getRandomBN();else if(t instanceof s)i.bn=t;else if(t instanceof e||t instanceof Uint8Array)i=p._transformBuffer(t,r);else if(t.bn&&t.network)i=p._transformObject(t);else if(!r&&u.get(t))i.bn=p._getRandomBN(),i.network=u.get(t);else{if("string"!=typeof t)throw new TypeError("First argument is an unrecognized data type.");a.isHexa(t)?i.bn=new s(new e(t,"hex")):i=p._transformWIF(t,r)}return i},p._getRandomBN=function(){var t,e;do{var r=l.getRandomBuffer(32);t=(e=s.fromBuffer(r)).lt(c.getN())}while(!t);return e},p._transformBuffer=function(t,e){var r={};if(32===t.length)return p._transformBNBuffer(t,e);if(r.network=u.get(t[0],"privatekey"),!r.network)throw new Error("Invalid network");if(e&&r.network!==u.get(e))throw new TypeError("Private key network mismatch");if(34===t.length&&1===t[33])r.compressed=!0;else{if(33!==t.length)throw new Error("Length of buffer must be 33 (uncompressed) or 34 (compressed)");r.compressed=!1}return r.bn=s.fromBuffer(t.slice(1,33)),r},p._transformBNBuffer=function(t,e){var r={};return r.network=u.get(e)||u.defaultNetwork,r.bn=s.fromBuffer(t),r.compressed=!1,r},p._transformWIF=function(t,e){return p._transformBuffer(o.decode(t),e)},p.fromBuffer=function(t,e){return new p(t,e)},p._transformObject=function(t){return{bn:new s(t.bn,"hex"),network:u.get(t.network),compressed:t.compressed}},p.fromString=p.fromWIF=function(t){return h.checkArgument(n.isString(t),"First argument is expected to be a string."),new p(t)},p.fromObject=function(t){return h.checkArgument(n.isObject(t),"First argument is expected to be an object."),new p(t)},p.fromRandom=function(t){return new p(p._getRandomBN(),t)},p.getValidationError=function(t,e){var r;try{new p(t,e)}catch(t){r=t}return r},p.isValid=function(t,e){return!!t&&!p.getValidationError(t,e)},p.prototype.toString=function(){return this.toBuffer().toString("hex")},p.prototype.toWIF=function(){var t,r=this.network;return t=this.compressed?e.concat([new e([r.privatekey]),this.bn.toBuffer({size:32}),new e([1])]):e.concat([new e([r.privatekey]),this.bn.toBuffer({size:32})]),o.encode(t)},p.prototype.toBigNumber=function(){return this.bn},p.prototype.toBuffer=function(){return this.bn.toBuffer()},p.prototype.toPublicKey=function(){return this._pubkey||(this._pubkey=f.fromPrivateKey(this)),this._pubkey},p.prototype.toAddress=function(t){var e=this.toPublicKey();return i.fromPublicKey(e,t||this.network)},p.prototype.toObject=p.prototype.toJSON=function(){return{bn:this.bn.toString("hex"),compressed:this.compressed,network:this.network.toString()}},p.prototype.inspect=function(){var t=this.compressed?"":", uncompressed";return"<PrivateKey: "+this.toString()+", network: "+this.network+t+">"},t.exports=p}).call(this,r(0).Buffer)},function(t,e,r){"use strict";var n=e;n.base=r(1176),n.short=r(1175),n.mont=r(1174),n.edwards=r(1173)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(function(e,r){var i;try{i=t.apply(this,e)}catch(t){return r(t)}(0,n.default)(i)&&"function"==typeof i.then?i.then(function(t){a(r,null,t)},function(t){a(r,t.message?t:new Error(t))}):r(null,i)})};var n=s(r(23)),i=s(r(1218)),o=s(r(1217));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){try{t(e,r)}catch(t){(0,o.default)(u,t)}}function u(t){throw t}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var n,i=r(198),o=(n=i)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol;function a(t){return s&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return a(t)?(0,o.default)(t):t},e.isAsync=a},function(t,e,r){"use strict";t.exports=r(529)(r(1219))},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});const n=r(1262),i=4096,o="utf8";class s{constructor(e){if(this.length=0,this._encoding=o,this._writeOffset=0,this._readOffset=0,s.isSmartBufferOptions(e))if(e.encoding&&(n.checkEncoding(e.encoding),this._encoding=e.encoding),e.size){if(!(n.isFiniteInteger(e.size)&&e.size>0))throw new Error(n.ERRORS.INVALID_SMARTBUFFER_SIZE);this._buff=t.allocUnsafe(e.size)}else if(e.buff){if(!(e.buff instanceof t))throw new Error(n.ERRORS.INVALID_SMARTBUFFER_BUFFER);this._buff=e.buff,this.length=e.buff.length}else this._buff=t.allocUnsafe(i);else{if(void 0!==e)throw new Error(n.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=t.allocUnsafe(i)}}static fromSize(t,e){return new this({size:t,encoding:e})}static fromBuffer(t,e){return new this({buff:t,encoding:e})}static fromOptions(t){return new this(t)}static isSmartBufferOptions(t){const e=t;return e&&(void 0!==e.encoding||void 0!==e.size||void 0!==e.buff)}readInt8(e){return this._readNumberValue(t.prototype.readInt8,1,e)}readInt16BE(e){return this._readNumberValue(t.prototype.readInt16BE,2,e)}readInt16LE(e){return this._readNumberValue(t.prototype.readInt16LE,2,e)}readInt32BE(e){return this._readNumberValue(t.prototype.readInt32BE,4,e)}readInt32LE(e){return this._readNumberValue(t.prototype.readInt32LE,4,e)}writeInt8(e,r){return this._writeNumberValue(t.prototype.writeInt8,1,e,r),this}insertInt8(e,r){return this._insertNumberValue(t.prototype.writeInt8,1,e,r),this}writeInt16BE(e,r){return this._writeNumberValue(t.prototype.writeInt16BE,2,e,r),this}insertInt16BE(e,r){return this._insertNumberValue(t.prototype.writeInt16BE,2,e,r),this}writeInt16LE(e,r){return this._writeNumberValue(t.prototype.writeInt16LE,2,e,r),this}insertInt16LE(e,r){return this._insertNumberValue(t.prototype.writeInt16LE,2,e,r),this}writeInt32BE(e,r){return this._writeNumberValue(t.prototype.writeInt32BE,4,e,r),this}insertInt32BE(e,r){return this._insertNumberValue(t.prototype.writeInt32BE,4,e,r),this}writeInt32LE(e,r){return this._writeNumberValue(t.prototype.writeInt32LE,4,e,r),this}insertInt32LE(e,r){return this._insertNumberValue(t.prototype.writeInt32LE,4,e,r),this}readUInt8(e){return this._readNumberValue(t.prototype.readUInt8,1,e)}readUInt16BE(e){return this._readNumberValue(t.prototype.readUInt16BE,2,e)}readUInt16LE(e){return this._readNumberValue(t.prototype.readUInt16LE,2,e)}readUInt32BE(e){return this._readNumberValue(t.prototype.readUInt32BE,4,e)}readUInt32LE(e){return this._readNumberValue(t.prototype.readUInt32LE,4,e)}writeUInt8(e,r){return this._writeNumberValue(t.prototype.writeUInt8,1,e,r),this}insertUInt8(e,r){return this._insertNumberValue(t.prototype.writeUInt8,1,e,r),this}writeUInt16BE(e,r){return this._writeNumberValue(t.prototype.writeUInt16BE,2,e,r),this}insertUInt16BE(e,r){return this._insertNumberValue(t.prototype.writeUInt16BE,2,e,r),this}writeUInt16LE(e,r){return this._writeNumberValue(t.prototype.writeUInt16LE,2,e,r),this}insertUInt16LE(e,r){return this._insertNumberValue(t.prototype.writeUInt16LE,2,e,r),this}writeUInt32BE(e,r){return this._writeNumberValue(t.prototype.writeUInt32BE,4,e,r),this}insertUInt32BE(e,r){return this._insertNumberValue(t.prototype.writeUInt32BE,4,e,r),this}writeUInt32LE(e,r){return this._writeNumberValue(t.prototype.writeUInt32LE,4,e,r),this}insertUInt32LE(e,r){return this._insertNumberValue(t.prototype.writeUInt32LE,4,e,r),this}readFloatBE(e){return this._readNumberValue(t.prototype.readFloatBE,4,e)}readFloatLE(e){return this._readNumberValue(t.prototype.readFloatLE,4,e)}writeFloatBE(e,r){return this._writeNumberValue(t.prototype.writeFloatBE,4,e,r),this}insertFloatBE(e,r){return this._insertNumberValue(t.prototype.writeFloatBE,4,e,r),this}writeFloatLE(e,r){return this._writeNumberValue(t.prototype.writeFloatLE,4,e,r),this}insertFloatLE(e,r){return this._insertNumberValue(t.prototype.writeFloatLE,4,e,r),this}readDoubleBE(e){return this._readNumberValue(t.prototype.readDoubleBE,8,e)}readDoubleLE(e){return this._readNumberValue(t.prototype.readDoubleLE,8,e)}writeDoubleBE(e,r){return this._writeNumberValue(t.prototype.writeDoubleBE,8,e,r),this}insertDoubleBE(e,r){return this._insertNumberValue(t.prototype.writeDoubleBE,8,e,r),this}writeDoubleLE(e,r){return this._writeNumberValue(t.prototype.writeDoubleLE,8,e,r),this}insertDoubleLE(e,r){return this._insertNumberValue(t.prototype.writeDoubleLE,8,e,r),this}readString(t,e){let r;"number"==typeof t?(n.checkLengthValue(t),r=Math.min(t,this.length-this._readOffset)):(e=t,r=this.length-this._readOffset),void 0!==e&&n.checkEncoding(e);const i=this._buff.slice(this._readOffset,this._readOffset+r).toString(e||this._encoding);return this._readOffset+=r,i}insertString(t,e,r){return n.checkOffsetValue(e),this._handleString(t,!0,e,r)}writeString(t,e,r){return this._handleString(t,!1,e,r)}readStringNT(t){void 0!==t&&n.checkEncoding(t);let e=this.length;for(let t=this._readOffset;t<this.length;t++)if(0===this._buff[t]){e=t;break}const r=this._buff.slice(this._readOffset,e);return this._readOffset=e+1,r.toString(t||this._encoding)}insertStringNT(t,e,r){n.checkOffsetValue(e),this.insertString(t,e,r),this.insertUInt8(0,e+t.length)}writeStringNT(t,e,r){this.writeString(t,e,r),this.writeUInt8(0,"number"==typeof e?e+t.length:this.writeOffset)}readBuffer(t){void 0!==t&&n.checkLengthValue(t);const e="number"==typeof t?t:this.length,r=Math.min(this.length,this._readOffset+e),i=this._buff.slice(this._readOffset,r);return this._readOffset=r,i}insertBuffer(t,e){return n.checkOffsetValue(e),this._handleBuffer(t,!0,e)}writeBuffer(t,e){return this._handleBuffer(t,!1,e)}readBufferNT(){let t=this.length;for(let e=this._readOffset;e<this.length;e++)if(0===this._buff[e]){t=e;break}const e=this._buff.slice(this._readOffset,t);return this._readOffset=t+1,e}insertBufferNT(t,e){return n.checkOffsetValue(e),this.insertBuffer(t,e),this.insertUInt8(0,e+t.length),this}writeBufferNT(t,e){return void 0!==e&&n.checkOffsetValue(e),this.writeBuffer(t,e),this.writeUInt8(0,"number"==typeof e?e+t.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(t){n.checkOffsetValue(t),n.checkTargetOffset(t,this),this._readOffset=t}get writeOffset(){return this._writeOffset}set writeOffset(t){n.checkOffsetValue(t),n.checkTargetOffset(t,this),this._writeOffset=t}get encoding(){return this._encoding}set encoding(t){n.checkEncoding(t),this._encoding=t}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(t){const e="string"==typeof t?t:this._encoding;return n.checkEncoding(e),this._buff.toString(e,0,this.length)}destroy(){return this.clear(),this}_handleString(e,r,i,o){let s=this._writeOffset,a=this._encoding;"number"==typeof i?s=i:"string"==typeof i&&(n.checkEncoding(i),a=i),"string"==typeof o&&(n.checkEncoding(o),a=o);const u=t.byteLength(e,a);return r?this.ensureInsertable(u,s):this._ensureWriteable(u,s),this._buff.write(e,s,u,a),r?this._writeOffset+=u:"number"==typeof i?this._writeOffset=Math.max(this._writeOffset,s+u):this._writeOffset+=u,this}_handleBuffer(t,e,r){const n="number"==typeof r?r:this._writeOffset;return e?this.ensureInsertable(t.length,n):this._ensureWriteable(t.length,n),t.copy(this._buff,n),e?this._writeOffset+=t.length:"number"==typeof r?this._writeOffset=Math.max(this._writeOffset,n+t.length):this._writeOffset+=t.length,this}ensureReadable(t,e){let r=this._readOffset;if(void 0!==e&&(n.checkOffsetValue(e),r=e),r<0||r+t>this.length)throw new Error(n.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(t,e){n.checkOffsetValue(e),this._ensureCapacity(this.length+t),e<this.length&&this._buff.copy(this._buff,e+t,e,this._buff.length),e+t>this.length?this.length=e+t:this.length+=t}_ensureWriteable(t,e){const r="number"==typeof e?e:this._writeOffset;this._ensureCapacity(r+t),r+t>this.length&&(this.length=r+t)}_ensureCapacity(e){const r=this._buff.length;if(e>r){let n=this._buff,i=3*r/2+1;i<e&&(i=e),this._buff=t.allocUnsafe(i),n.copy(this._buff,0,0,r)}}_readNumberValue(t,e,r){this.ensureReadable(e,r);const n=t.call(this._buff,"number"==typeof r?r:this._readOffset);return void 0===r&&(this._readOffset+=e),n}_insertNumberValue(t,e,r,i){n.checkOffsetValue(i),this.ensureInsertable(e,i),t.call(this._buff,r,i),this._writeOffset+=e}_writeNumberValue(t,e,r,i){if("number"==typeof i){if(i<0)throw new Error(n.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);n.checkOffsetValue(i)}const o="number"==typeof i?i:this._writeOffset;this._ensureWriteable(e,o),t.call(this._buff,r,o),"number"==typeof i?this._writeOffset=Math.max(this._writeOffset,o+e):this._writeOffset+=e}}e.SmartBuffer=s}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(201).SmartBuffer,i=r(607),o=r(218),s=r(38),a=r(18);(e=t.exports).SHA1_LENGTH=i.defaultLengths[i.names.sha1],e.find=((t,e)=>{for(let r=0;r<t.length;r++)if(t[r]===e)return r;return-1}),e.parsePersonLine=(t=>{let e=t.match(/^(([^<]+)\s)?\s?<([^>]+)>\s?(\d+\s[+\-\d]+)?$/);return null===e?null:{name:e[2],email:e[3],date:e[4]}}),e.serializePersonLine=(t=>{let e=[];return t.name&&e.push(t.name),e.push("<"+t.email+">"),t.date&&e.push(t.date),e.join(" ")}),e.shaToCid=(t=>{let r=new n;return r.writeUInt8(1),r.writeBuffer(o["git-raw"]),r.writeUInt8(i.names.sha1),r.writeUInt8(e.SHA1_LENGTH),r.writeBuffer(t),r.toBuffer()}),e.cidToSha=(t=>{let e=s.decode(new a(t).multihash);return"sha1"!==e.name?null:e.digest})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(543),o=(n=i)&&n.__esModule?n:{default:n};e.default=o.default,t.exports=e.default},function(t,e,r){"use strict";const n=r(205);e.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},e.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},e.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},e.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},e.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},e.SHIFT32=Math.pow(2,32),e.SHIFT16=Math.pow(2,16),e.MAX_SAFE_HIGH=2097151,e.NEG_ONE=new n(-1),e.TEN=new n(10),e.TWO=new n(2),e.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5}},function(t,e,r){var n;/*! bignumber.js v3.0.1 https://github.com/MikeMcl/bignumber.js/LICENCE */!function(i){"use strict";var o,s,a=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,u=Math.ceil,c=Math.floor,f=" not a boolean or binary digit",l="rounding mode",h="number type has more than 15 significant digits",p="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",d=1e14,m=14,g=9007199254740991,v=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],y=1e7,b=1e9;function w(t){var e=0|t;return t>0||t===e?e:e-1}function _(t){for(var e,r,n=1,i=t.length,o=t[0]+"";n<i;){for(e=t[n++]+"",r=m-e.length;r--;e="0"+e);o+=e}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function k(t,e){var r,n,i=t.c,o=e.c,s=t.s,a=e.s,u=t.e,c=e.e;if(!s||!a)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=u==c,!i||!o)return n?0:!i^r?1:-1;if(!n)return u>c^r?1:-1;for(a=(u=i.length)<(c=o.length)?u:c,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^r?1:-1;return u==c?0:u>c^r?1:-1}function S(t,e,r){return(t=M(t))>=e&&t<=r}function x(t){return"[object Array]"==Object.prototype.toString.call(t)}function E(t,e,r){for(var n,i,o=[0],s=0,a=t.length;s<a;){for(i=o.length;i--;o[i]*=e);for(o[n=0]+=p.indexOf(t.charAt(s++));n<o.length;n++)o[n]>r-1&&(null==o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}function C(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function A(t,e){var r,n;if(e<0){for(n="0.";++e;n+="0");t=n+t}else if(++e>(r=t.length)){for(n="0",e-=r;--e;n+="0");t+=n}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}function M(t){return(t=parseFloat(t))<0?u(t):c(t)}(o=function t(e){var r,n,i,o,I,T,O,B=0,P=G.prototype,N=new G(1),R=20,F=4,j=-7,L=21,D=-1e7,U=1e7,z=!0,H=X,K=!1,q=1,V=0,W={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0};function G(t,e){var r,n,i,o,u,f,l=this;if(!(l instanceof G))return z&&Q(26,"constructor call without new",t),new G(t,e);if(null!=e&&H(e,2,64,B,"base")){if(f=t+"",10==(e|=0))return tt(l=new G(t instanceof G?t:f),R+l.e+1,F);if((o="number"==typeof t)&&0*t!=0||!new RegExp("^-?"+(r="["+p.slice(0,e)+"]+")+"(?:\\."+r+")?$",e<37?"i":"").test(f))return s(l,f,o,e);o?(l.s=1/t<0?(f=f.slice(1),-1):1,z&&f.replace(/^0\.0*|\./,"").length>15&&Q(B,h,t),o=!1):l.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1,f=Y(f,10,e,l.s)}else{if(t instanceof G)return l.s=t.s,l.e=t.e,l.c=(t=t.c)?t.slice():t,void(B=0);if((o="number"==typeof t)&&0*t==0){if(l.s=1/t<0?(t=-t,-1):1,t===~~t){for(n=0,i=t;i>=10;i/=10,n++);return l.e=n,l.c=[t],void(B=0)}f=t+""}else{if(!a.test(f=t+""))return s(l,f,o);l.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1}}for((n=f.indexOf("."))>-1&&(f=f.replace(".","")),(i=f.search(/e/i))>0?(n<0&&(n=i),n+=+f.slice(i+1),f=f.substring(0,i)):n<0&&(n=f.length),i=0;48===f.charCodeAt(i);i++);for(u=f.length;48===f.charCodeAt(--u););if(f=f.slice(i,u+1))if(u=f.length,o&&z&&u>15&&(t>g||t!==c(t))&&Q(B,h,l.s*t),(n=n-i-1)>U)l.c=l.e=null;else if(n<D)l.c=[l.e=0];else{if(l.e=n,l.c=[],i=(n+1)%m,n<0&&(i+=m),i<u){for(i&&l.c.push(+f.slice(0,i)),u-=m;i<u;)l.c.push(+f.slice(i,i+=m));f=f.slice(i),i=m-f.length}else i-=u;for(;i--;f+="0");l.c.push(+f)}else l.c=[l.e=0];B=0}function Y(t,e,n,i){var o,s,a,u,c,f,l,h=t.indexOf("."),d=R,m=F;for(n<37&&(t=t.toLowerCase()),h>=0&&(a=V,V=0,t=t.replace(".",""),c=(l=new G(n)).pow(t.length-h),V=a,l.c=E(A(_(c.c),c.e),10,e),l.e=l.c.length),s=a=(f=E(t,n,e)).length;0==f[--a];f.pop());if(!f[0])return"0";if(h<0?--s:(c.c=f,c.e=s,c.s=i,f=(c=r(c,l,d,m,e)).c,u=c.r,s=c.e),h=f[o=s+d+1],a=e/2,u=u||o<0||null!=f[o+1],u=m<4?(null!=h||u)&&(0==m||m==(c.s<0?3:2)):h>a||h==a&&(4==m||u||6==m&&1&f[o-1]||m==(c.s<0?8:7)),o<1||!f[0])t=u?A("1",-d):"0";else{if(f.length=o,u)for(--e;++f[--o]>e;)f[o]=0,o||(++s,f.unshift(1));for(a=f.length;!f[--a];);for(h=0,t="";h<=a;t+=p.charAt(f[h++]));t=A(t,s)}return t}function $(t,e,r,n){var i,o,s,a,u;if(r=null!=r&&H(r,0,8,n,l)?0|r:F,!t.c)return t.toString();if(i=t.c[0],s=t.e,null==e)u=_(t.c),u=19==n||24==n&&s<=j?C(u,s):A(u,s);else if(o=(t=tt(new G(t),e,r)).e,a=(u=_(t.c)).length,19==n||24==n&&(e<=o||o<=j)){for(;a<e;u+="0",a++);u=C(u,o)}else if(e-=s,u=A(u,o),o+1>a){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=o-a)>0)for(o+1==a&&(u+=".");e--;u+="0");return t.s<0&&i?"-"+u:u}function Z(t,e){var r,n,i=0;for(x(t[0])&&(t=t[0]),r=new G(t[0]);++i<t.length;){if(!(n=new G(t[i])).s){r=n;break}e.call(r,n)&&(r=n)}return r}function X(t,e,r,n,i){return(t<e||t>r||t!=M(t))&&Q(n,(i||"decimal places")+(t<e||t>r?" out of range":" not an integer"),t),!0}function J(t,e,r){for(var n=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,n++);return(r=n+r*m-1)>U?t.c=t.e=null:r<D?t.c=[t.e=0]:(t.e=r,t.c=e),t}function Q(t,e,r){var n=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][t]+"() "+e+": "+r);throw n.name="BigNumber Error",B=0,n}function tt(t,e,r,n){var i,o,s,a,f,l,h,p=t.c,g=v;if(p){t:{for(i=1,a=p[0];a>=10;a/=10,i++);if((o=e-i)<0)o+=m,s=e,h=(f=p[l=0])/g[i-s-1]%10|0;else if((l=u((o+1)/m))>=p.length){if(!n)break t;for(;p.length<=l;p.push(0));f=h=0,i=1,s=(o%=m)-m+1}else{for(f=a=p[l],i=1;a>=10;a/=10,i++);h=(s=(o%=m)-m+i)<0?0:f/g[i-s-1]%10|0}if(n=n||e<0||null!=p[l+1]||(s<0?f:f%g[i-s-1]),n=r<4?(h||n)&&(0==r||r==(t.s<0?3:2)):h>5||5==h&&(4==r||n||6==r&&(o>0?s>0?f/g[i-s]:0:p[l-1])%10&1||r==(t.s<0?8:7)),e<1||!p[0])return p.length=0,n?(e-=t.e+1,p[0]=g[(m-e%m)%m],t.e=-e||0):p[0]=t.e=0,t;if(0==o?(p.length=l,a=1,l--):(p.length=l+1,a=g[m-o],p[l]=s>0?c(f/g[i-s]%g[s])*a:0),n)for(;;){if(0==l){for(o=1,s=p[0];s>=10;s/=10,o++);for(s=p[0]+=a,a=1;s>=10;s/=10,a++);o!=a&&(t.e++,p[0]==d&&(p[0]=1));break}if(p[l]+=a,p[l]!=d)break;p[l--]=0,a=1}for(o=p.length;0===p[--o];p.pop());}t.e>U?t.c=t.e=null:t.e<D&&(t.c=[t.e=0])}return t}return G.another=t,G.ROUND_UP=0,G.ROUND_DOWN=1,G.ROUND_CEIL=2,G.ROUND_FLOOR=3,G.ROUND_HALF_UP=4,G.ROUND_HALF_DOWN=5,G.ROUND_HALF_EVEN=6,G.ROUND_HALF_CEIL=7,G.ROUND_HALF_FLOOR=8,G.EUCLID=9,G.config=G.set=function(){var t,e,r=0,n={},i=arguments,o=i[0],s=o&&"object"==typeof o?function(){if(o.hasOwnProperty(e))return null!=(t=o[e])}:function(){if(i.length>r)return null!=(t=i[r++])};return s(e="DECIMAL_PLACES")&&H(t,0,b,2,e)&&(R=0|t),n[e]=R,s(e="ROUNDING_MODE")&&H(t,0,8,2,e)&&(F=0|t),n[e]=F,s(e="EXPONENTIAL_AT")&&(x(t)?H(t[0],-b,0,2,e)&&H(t[1],0,b,2,e)&&(j=0|t[0],L=0|t[1]):H(t,-b,b,2,e)&&(j=-(L=0|(t<0?-t:t)))),n[e]=[j,L],s(e="RANGE")&&(x(t)?H(t[0],-b,-1,2,e)&&H(t[1],1,b,2,e)&&(D=0|t[0],U=0|t[1]):H(t,-b,b,2,e)&&(0|t?D=-(U=0|(t<0?-t:t)):z&&Q(2,e+" cannot be zero",t))),n[e]=[D,U],s(e="ERRORS")&&(t===!!t||1===t||0===t?(B=0,H=(z=!!t)?X:S):z&&Q(2,e+f,t)),n[e]=z,s(e="CRYPTO")&&(!0===t||!1===t||1===t||0===t?t?!(t="undefined"==typeof crypto)&&crypto&&(crypto.getRandomValues||crypto.randomBytes)?K=!0:z?Q(2,"crypto unavailable",t?void 0:crypto):K=!1:K=!1:z&&Q(2,e+f,t)),n[e]=K,s(e="MODULO_MODE")&&H(t,0,9,2,e)&&(q=0|t),n[e]=q,s(e="POW_PRECISION")&&H(t,0,b,2,e)&&(V=0|t),n[e]=V,s(e="FORMAT")&&("object"==typeof t?W=t:z&&Q(2,e+" not an object",t)),n[e]=W,n},G.max=function(){return Z(arguments,P.lt)},G.min=function(){return Z(arguments,P.gt)},G.random=(n=9007199254740992*Math.random()&2097151?function(){return c(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,r,i,o,s,a=0,f=[],l=new G(N);if(t=null!=t&&H(t,0,b,14)?0|t:R,o=u(t/m),K)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(o*=2));a<o;)(s=131072*e[a]+(e[a+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),e[a]=r[0],e[a+1]=r[1]):(f.push(s%1e14),a+=2);a=o/2}else if(crypto.randomBytes){for(e=crypto.randomBytes(o*=7);a<o;)(s=281474976710656*(31&e[a])+1099511627776*e[a+1]+4294967296*e[a+2]+16777216*e[a+3]+(e[a+4]<<16)+(e[a+5]<<8)+e[a+6])>=9e15?crypto.randomBytes(7).copy(e,a):(f.push(s%1e14),a+=7);a=o/7}else K=!1,z&&Q(14,"crypto unavailable",crypto);if(!K)for(;a<o;)(s=n())<9e15&&(f[a++]=s%1e14);for(o=f[--a],t%=m,o&&t&&(s=v[m-t],f[a]=c(o/s)*s);0===f[a];f.pop(),a--);if(a<0)f=[i=0];else{for(i=-1;0===f[0];f.shift(),i-=m);for(a=1,s=f[0];s>=10;s/=10,a++);a<m&&(i-=m-a)}return l.e=i,l.c=f,l}),r=function(){function t(t,e,r){var n,i,o,s,a=0,u=t.length,c=e%y,f=e/y|0;for(t=t.slice();u--;)a=((i=c*(o=t[u]%y)+(n=f*o+(s=t[u]/y|0)*c)%y*y+a)/r|0)+(n/y|0)+f*s,t[u]=i%r;return a&&t.unshift(a),t}function e(t,e,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.shift());}return function(n,i,o,s,a){var u,f,l,h,p,g,v,y,b,_,k,S,x,E,C,A,M,I=n.s==i.s?1:-1,T=n.c,O=i.c;if(!(T&&T[0]&&O&&O[0]))return new G(n.s&&i.s&&(T?!O||T[0]!=O[0]:O)?T&&0==T[0]||!O?0*I:I/0:NaN);for(b=(y=new G(I)).c=[],I=o+(f=n.e-i.e)+1,a||(a=d,f=w(n.e/m)-w(i.e/m),I=I/m|0),l=0;O[l]==(T[l]||0);l++);if(O[l]>(T[l]||0)&&f--,I<0)b.push(1),h=!0;else{for(E=T.length,A=O.length,l=0,I+=2,(p=c(a/(O[0]+1)))>1&&(O=t(O,p,a),T=t(T,p,a),A=O.length,E=T.length),x=A,k=(_=T.slice(0,A)).length;k<A;_[k++]=0);(M=O.slice()).unshift(0),C=O[0],O[1]>=a/2&&C++;do{if(p=0,(u=e(O,_,A,k))<0){if(S=_[0],A!=k&&(S=S*a+(_[1]||0)),(p=c(S/C))>1)for(p>=a&&(p=a-1),v=(g=t(O,p,a)).length,k=_.length;1==e(g,_,v,k);)p--,r(g,A<v?M:O,v,a),v=g.length,u=1;else 0==p&&(u=p=1),v=(g=O.slice()).length;if(v<k&&g.unshift(0),r(_,g,k,a),k=_.length,-1==u)for(;e(O,_,A,k)<1;)p++,r(_,A<k?M:O,k,a),k=_.length}else 0===u&&(p++,_=[0]);b[l++]=p,_[0]?_[k++]=T[x]||0:(_=[T[x]],k=1)}while((x++<E||null!=_[0])&&I--);h=null!=_[0],b[0]||b.shift()}if(a==d){for(l=1,I=b[0];I>=10;I/=10,l++);tt(y,o+(y.e=l+f*m-1)+1,s,h)}else y.e=f,y.r=+h;return y}}(),i=/^(-?)0([xbo])(?=\w[\w.]*$)/i,o=/^([^.]+)\.$/,I=/^\.([^.]+)$/,T=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g,s=function(t,e,r,n){var s,a=r?e:e.replace(O,"");if(T.test(a))t.s=isNaN(a)?null:a<0?-1:1;else{if(!r&&(a=a.replace(i,function(t,e,r){return s="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=s?t:e}),n&&(s=n,a=a.replace(o,"$1").replace(I,"0.$1")),e!=a))return new G(a,s);z&&Q(B,"not a"+(n?" base "+n:"")+" number",e),t.s=null}t.c=t.e=null,B=0},P.absoluteValue=P.abs=function(){var t=new G(this);return t.s<0&&(t.s=1),t},P.ceil=function(){return tt(new G(this),this.e+1,2)},P.comparedTo=P.cmp=function(t,e){return B=1,k(this,new G(t,e))},P.decimalPlaces=P.dp=function(){var t,e,r=this.c;if(!r)return null;if(t=((e=r.length-1)-w(this.e/m))*m,e=r[e])for(;e%10==0;e/=10,t--);return t<0&&(t=0),t},P.dividedBy=P.div=function(t,e){return B=3,r(this,new G(t,e),R,F)},P.dividedToIntegerBy=P.divToInt=function(t,e){return B=4,r(this,new G(t,e),0,1)},P.equals=P.eq=function(t,e){return B=5,0===k(this,new G(t,e))},P.floor=function(){return tt(new G(this),this.e+1,3)},P.greaterThan=P.gt=function(t,e){return B=6,k(this,new G(t,e))>0},P.greaterThanOrEqualTo=P.gte=function(t,e){return B=7,1===(e=k(this,new G(t,e)))||0===e},P.isFinite=function(){return!!this.c},P.isInteger=P.isInt=function(){return!!this.c&&w(this.e/m)>this.c.length-2},P.isNaN=function(){return!this.s},P.isNegative=P.isNeg=function(){return this.s<0},P.isZero=function(){return!!this.c&&0==this.c[0]},P.lessThan=P.lt=function(t,e){return B=8,k(this,new G(t,e))<0},P.lessThanOrEqualTo=P.lte=function(t,e){return B=9,-1===(e=k(this,new G(t,e)))||0===e},P.minus=P.sub=function(t,e){var r,n,i,o,s=this,a=s.s;if(B=10,e=(t=new G(t,e)).s,!a||!e)return new G(NaN);if(a!=e)return t.s=-e,s.plus(t);var u=s.e/m,c=t.e/m,f=s.c,l=t.c;if(!u||!c){if(!f||!l)return f?(t.s=-e,t):new G(l?s:NaN);if(!f[0]||!l[0])return l[0]?(t.s=-e,t):new G(f[0]?s:3==F?-0:0)}if(u=w(u),c=w(c),f=f.slice(),a=u-c){for((o=a<0)?(a=-a,i=f):(c=u,i=l),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(n=(o=(a=f.length)<(e=l.length))?a:e,a=e=0;e<n;e++)if(f[e]!=l[e]){o=f[e]<l[e];break}if(o&&(i=f,f=l,l=i,t.s=-t.s),(e=(n=l.length)-(r=f.length))>0)for(;e--;f[r++]=0);for(e=d-1;n>a;){if(f[--n]<l[n]){for(r=n;r&&!f[--r];f[r]=e);--f[r],f[n]+=d}f[n]-=l[n]}for(;0==f[0];f.shift(),--c);return f[0]?J(t,f,c):(t.s=3==F?-1:1,t.c=[t.e=0],t)},P.modulo=P.mod=function(t,e){var n,i,o=this;return B=11,t=new G(t,e),!o.c||!t.s||t.c&&!t.c[0]?new G(NaN):!t.c||o.c&&!o.c[0]?new G(o):(9==q?(i=t.s,t.s=1,n=r(o,t,0,3),t.s=i,n.s*=i):n=r(o,t,0,q),o.minus(n.times(t)))},P.negated=P.neg=function(){var t=new G(this);return t.s=-t.s||null,t},P.plus=P.add=function(t,e){var r,n=this,i=n.s;if(B=12,e=(t=new G(t,e)).s,!i||!e)return new G(NaN);if(i!=e)return t.s=-e,n.minus(t);var o=n.e/m,s=t.e/m,a=n.c,u=t.c;if(!o||!s){if(!a||!u)return new G(i/0);if(!a[0]||!u[0])return u[0]?t:new G(a[0]?n:0*i)}if(o=w(o),s=w(s),a=a.slice(),i=o-s){for(i>0?(s=o,r=u):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(e=u.length)<0&&(r=u,u=a,a=r,e=i),i=0;e;)i=(a[--e]=a[e]+u[e]+i)/d|0,a[e]=d===a[e]?0:a[e]%d;return i&&(a.unshift(i),++s),J(t,a,s)},P.precision=P.sd=function(t){var e,r,n=this,i=n.c;if(null!=t&&t!==!!t&&1!==t&&0!==t&&(z&&Q(13,"argument"+f,t),t!=!!t&&(t=null)),!i)return null;if(e=(r=i.length-1)*m+1,r=i[r]){for(;r%10==0;r/=10,e--);for(r=i[0];r>=10;r/=10,e++);}return t&&n.e+1>e&&(e=n.e+1),e},P.round=function(t,e){var r=new G(this);return(null==t||H(t,0,b,15))&&tt(r,~~t+this.e+1,null!=e&&H(e,0,8,15,l)?0|e:F),r},P.shift=function(t){var e=this;return H(t,-g,g,16,"argument")?e.times("1e"+M(t)):new G(e.c&&e.c[0]&&(t<-g||t>g)?e.s*(t<0?0:1/0):e)},P.squareRoot=P.sqrt=function(){var t,e,n,i,o,s=this,a=s.c,u=s.s,c=s.e,f=R+4,l=new G("0.5");if(1!==u||!a||!a[0])return new G(!u||u<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(u=Math.sqrt(+s))||u==1/0?(((e=_(a)).length+c)%2==0&&(e+="0"),u=Math.sqrt(e),c=w((c+1)/2)-(c<0||c%2),n=new G(e=u==1/0?"1e"+c:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+c)):n=new G(u+""),n.c[0])for((u=(c=n.e)+f)<3&&(u=0);;)if(o=n,n=l.times(o.plus(r(s,o,f,1))),_(o.c).slice(0,u)===(e=_(n.c)).slice(0,u)){if(n.e<c&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(tt(n,n.e+R+2,1),t=!n.times(n).eq(s));break}if(!i&&(tt(o,o.e+R+2,0),o.times(o).eq(s))){n=o;break}f+=4,u+=4,i=1}return tt(n,n.e+R+1,F,t)},P.times=P.mul=function(t,e){var r,n,i,o,s,a,u,c,f,l,h,p,g,v,b,_=this,k=_.c,S=(B=17,t=new G(t,e)).c;if(!(k&&S&&k[0]&&S[0]))return!_.s||!t.s||k&&!k[0]&&!S||S&&!S[0]&&!k?t.c=t.e=t.s=null:(t.s*=_.s,k&&S?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=w(_.e/m)+w(t.e/m),t.s*=_.s,(u=k.length)<(l=S.length)&&(g=k,k=S,S=g,i=u,u=l,l=i),i=u+l,g=[];i--;g.push(0));for(v=d,b=y,i=l;--i>=0;){for(r=0,h=S[i]%b,p=S[i]/b|0,o=i+(s=u);o>i;)r=((c=h*(c=k[--s]%b)+(a=p*c+(f=k[s]/b|0)*h)%b*b+g[o]+r)/v|0)+(a/b|0)+p*f,g[o--]=c%v;g[o]=r}return r?++n:g.shift(),J(t,g,n)},P.toDigits=function(t,e){var r=new G(this);return t=null!=t&&H(t,1,b,18,"precision")?0|t:null,e=null!=e&&H(e,0,8,18,l)?0|e:F,t?tt(r,t,e):r},P.toExponential=function(t,e){return $(this,null!=t&&H(t,0,b,19)?1+~~t:null,e,19)},P.toFixed=function(t,e){return $(this,null!=t&&H(t,0,b,20)?~~t+this.e+1:null,e,20)},P.toFormat=function(t,e){var r=$(this,null!=t&&H(t,0,b,21)?~~t+this.e+1:null,e,21);if(this.c){var n,i=r.split("."),o=+W.groupSize,s=+W.secondaryGroupSize,a=W.groupSeparator,u=i[0],c=i[1],f=this.s<0,l=f?u.slice(1):u,h=l.length;if(s&&(n=o,o=s,s=n,h-=n),o>0&&h>0){for(n=h%o||o,u=l.substr(0,n);n<h;n+=o)u+=a+l.substr(n,o);s>0&&(u+=a+l.slice(n)),f&&(u="-"+u)}r=c?u+W.decimalSeparator+((s=+W.fractionGroupSize)?c.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+W.fractionGroupSeparator):c):u}return r},P.toFraction=function(t){var e,n,i,o,s,a,u,c,f,l=z,h=this,p=h.c,d=new G(N),g=n=new G(N),y=u=new G(N);if(null!=t&&(z=!1,a=new G(t),z=l,(l=a.isInt())&&!a.lt(N)||(z&&Q(22,"max denominator "+(l?"out of range":"not an integer"),t),t=!l&&a.c&&tt(a,a.e+1,1).gte(N)?a:null)),!p)return h.toString();for(f=_(p),o=d.e=f.length-h.e-1,d.c[0]=v[(s=o%m)<0?m+s:s],t=!t||a.cmp(d)>0?o>0?d:g:a,s=U,U=1/0,a=new G(f),u.c[0]=0;c=r(a,d,0,1),1!=(i=n.plus(c.times(y))).cmp(t);)n=y,y=i,g=u.plus(c.times(i=g)),u=i,d=a.minus(c.times(i=d)),a=i;return i=r(t.minus(n),y,0,1),u=u.plus(i.times(g)),n=n.plus(i.times(y)),u.s=g.s=h.s,e=r(g,y,o*=2,F).minus(h).abs().cmp(r(u,n,o,F).minus(h).abs())<1?[g.toString(),y.toString()]:[u.toString(),n.toString()],U=s,e},P.toNumber=function(){return+this},P.toPower=P.pow=function(t,e){var r,n,i,o=c(t<0?-t:+t),s=this;if(null!=e&&(B=23,e=new G(e)),!H(t,-g,g,23,"exponent")&&(!isFinite(t)||o>g&&(t/=0)||parseFloat(t)!=t&&!(t=NaN))||0==t)return r=Math.pow(+s,t),new G(e?r%e:r);for(e?t>1&&s.gt(N)&&s.isInt()&&e.gt(N)&&e.isInt()?s=s.mod(e):(i=e,e=null):V&&(r=u(V/m+2)),n=new G(N);;){if(o%2){if(!(n=n.times(s)).c)break;r?n.c.length>r&&(n.c.length=r):e&&(n=n.mod(e))}if(!(o=c(o/2)))break;s=s.times(s),r?s.c&&s.c.length>r&&(s.c.length=r):e&&(s=s.mod(e))}return e?n:(t<0&&(n=N.div(n)),i?n.mod(i):r?tt(n,V,F):n)},P.toPrecision=function(t,e){return $(this,null!=t&&H(t,1,b,24,"precision")?0|t:null,e,24)},P.toString=function(t){var e,r=this,n=r.s,i=r.e;return null===i?n?(e="Infinity",n<0&&(e="-"+e)):e="NaN":(e=_(r.c),e=null!=t&&H(t,2,64,25,"base")?Y(A(e,i),0|t,10,n):i<=j||i>=L?C(e,i):A(e,i),n<0&&r.c[0]&&(e="-"+e)),e},P.truncated=P.trunc=function(){return tt(new G(this),this.e+1,1)},P.valueOf=P.toJSON=function(){var t,e=this,r=e.e;return null===r?e.toString():(t=_(e.c),t=r<=j||r>=L?C(t,r):A(t,r),e.s<0?"-"+t:t)},null!=e&&G.config(e),G}()).default=o.BigNumber=o,void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)}()},function(t,e,r){"use strict";(function(n){const i=r(100);(e=t.exports).cloneData=function(t){let e;return t.data&&t.data.length>0?(e=n.alloc(t.data.length),t.data.copy(e)):e=n.alloc(0),e},e.cloneLinks=function(t){return t.links.slice()},e.linkSort=function(t,e){const r=n.from(t.name||""),i=n.from(e.name||"");return r.compare(i)},e.toDAGLink=function(t){return new i("",t.size,t.multihash)}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e){const n=r(53),i=r(1307),o=r(333).serialize,s=r(206).linkSort,a=r(334),u=r(100);t.exports=function(t,r,c,f){if("function"==typeof t?(f=t,t=void 0):"string"==typeof t&&(t=e.from(t)),"function"==typeof r&&(f=r,r=[]),"function"==typeof c&&(f=c,c=void 0),!e.isBuffer(t))return f(new Error("Passed 'data' is not a buffer or a string!"));c||(c="sha2-256");const l=r.map(t=>u.util.isDagLink(t)?t:u.util.createDagLinkFromB58EncodedHash(t)),h=i(l,s);o({data:t,links:h},(e,r)=>{if(e)return f(e);n(r,c,(e,n)=>{if(e)return f(e);const i=new a(t,h,r,n);f(null,i)})})}}).call(this,r(0).Buffer)},function(t,e,r){(function(e,n){t.exports=u;var i=r(565).AbstractLevelDOWN,o=r(101),s=r(1337),a=r(79);function u(t){if(!(this instanceof u))return new u(t);i.call(this,t)}o.inherits(u,i),u.prototype._open=function(t,e){var r=this;if(this._idbOpts=a({storeName:this.location,keyEncoding:"none",valueEncoding:"none"},t),this._idbOpts.idb)i(this._idbOpts.idb);else{var n=indexedDB.open(this.location);n.onerror=function(t){e(t.target.error)},n.onsuccess=function(){i(n.result)}}function i(n){r._db=n;var i=r._db.objectStoreNames.contains(r._idbOpts.storeName);if(t.errorIfExists&&i)return r._db.close(),void e(new Error("store already exists"));if(!t.createIfMissing&&!i)return r._db.close(),void e(new Error("store does not exist"));if(t.createIfMissing&&!i){r._db.close();var o=indexedDB.open(r.location,r._db.version+1);return o.onerror=function(t){e(t.target.error)},o.onupgradeneeded=function(){o.result.createObjectStore(r._idbOpts.storeName,r._idbOpts)},void(o.onsuccess=function(){r._db=o.result,e(null,r)})}e(null,r)}},u.prototype._get=function(t,r,n){var i=t;"binary"!==(r=a(this._idbOpts,r)).keyEncoding||Array.isArray(t)||(t=Array.prototype.slice.call(t));var o=this._db.transaction(this._idbOpts.storeName),s=o.objectStore(this._idbOpts.storeName).openCursor(IDBKeyRange.only(t));o.onabort=function(){n(o.error)},s.onsuccess=function(){var t=s.result;if(t){var o=t.value;if(o instanceof Uint8Array&&(o=new e(o)),"binary"!==r.valueEncoding||e.isBuffer(o)||(o=new e(o)),r.asBuffer&&!e.isBuffer(o))if(null==o)o=new e(0);else if("string"==typeof o)o=new e(o);else if("boolean"==typeof o)o=new e(String(o));else if("number"==typeof o)o=new e(String(o));else if(Array.isArray(o))o=new e(String(o));else{if(!(o instanceof Uint8Array))return void n(new TypeError("can't coerce `"+o.constructor.name+"` into a Buffer"));o=new e(o)}n(null,o,i)}else n(new Error("NotFound"))}},u.prototype._del=function(t,e,r){"binary"!==(e=a(this._idbOpts,e)).keyEncoding||Array.isArray(t)||(t=Array.prototype.slice.call(t));var n="readwrite";!0===e.sync&&(n="readwriteflush");var i=this._db.transaction(this._idbOpts.storeName,n);i.objectStore(this._idbOpts.storeName).delete(t);i.onabort=function(){r(i.error)},i.oncomplete=function(){r()}},u.prototype._put=function(t,e,r,n){"binary"!==(r=a(this._idbOpts,r)).keyEncoding||Array.isArray(t)||(t=Array.prototype.slice.call(t));var i="readwrite";!0===r.sync&&(i="readwriteflush");var o=this._db.transaction(this._idbOpts.storeName,i);o.objectStore(this._idbOpts.storeName).put(e,t);o.onabort=function(){n(o.error)},o.oncomplete=function(){n()}},u.prototype._iterator=function(t){return new s(this,t)},u.prototype._batch=function(t,e,r){if(0===t.length)return n.nextTick(r);var i="readwrite";!0===e.sync&&(i="readwriteflush");var o=this._db.transaction(this._idbOpts.storeName,i),s=o.objectStore(this._idbOpts.storeName);o.onabort=function(){r(o.error)},o.oncomplete=function(){r()},t.forEach(function(t){"binary"!==a(e,t).keyEncoding||Array.isArray(t.key)||(t.key=Array.prototype.slice.call(t.key)),"del"===t.type?s.delete(t.key):s.put(t.value,t.key)})},u.prototype._close=function(t){this._db.close(),n.nextTick(t)},u.prototype._approximateSize=function(t,e,r){var i=new Error("Not implemented");if(!r)throw i;n.nextTick(function(){r(i)})},u.destroy=function(t,e){var r;if(null!=t&&"object"==typeof t)r=a({location:t.location,storeName:t.location},t._idbOpts);else{if("string"!=typeof t)throw new TypeError("location must be a string or an object");r={location:t,storeName:t}}if("string"!=typeof r.location)throw new TypeError("location must be a string");if("string"!=typeof r.storeName)throw new TypeError("db.storeName must be a string");var n=indexedDB.open(r.location);n.onerror=function(t){e(t.target.error)},n.onsuccess=function(){var t=n.result;function i(t){var r=indexedDB.deleteDatabase(t);r.onerror=function(t){e(t.target.error)},r.onsuccess=function(){e()}}if(t.close(),0!==t.objectStoreNames.length)if(t.objectStoreNames.contains(r.storeName)){var o=indexedDB.open(r.location,t.version+1);o.onerror=function(t){e(t.target.error)},o.onupgradeneeded=function(){(t=o.result).deleteObjectStore(r.storeName)},o.onsuccess=function(){(t=o.result).close(),0===t.objectStoreNames.length?i(r.location):e()}}else e();else i(r.location)}}}).call(this,r(0).Buffer,r(2))},function(t,e,r){var n=r(1344).create,i=n("LevelUPError"),o=n("NotFoundError",i);o.prototype.notFound=!0,o.prototype.status=404,t.exports={LevelUPError:i,InitializationError:n("InitializationError",i),OpenError:n("OpenError",i),ReadError:n("ReadError",i),WriteError:n("WriteError",i),NotFoundError:o,EncodingError:n("EncodingError",i)}},function(t,e,r){"use strict";(function(e){const n=r(8),i=r(1352),o=r(45).utils.asyncFilter,s=r(45).utils.asyncSort,a=r(45).Key;t.exports=class{constructor(t,e){this.db=i(t,Object.assign({},e,{compression:!1,valueEncoding:"binary"}))}open(t){this.db.open(t)}put(t,e,r){this.db.put(t.toString(),e,r)}get(t,e){this.db.get(t.toString(),e)}has(t,e){this.db.get(t.toString(),(t,r)=>{if(t)return t.notFound?void e(null,!1):void e(t);e(null,!0)})}delete(t,e){this.db.del(t.toString(),e)}close(t){this.db.close(t)}batch(){const t=[];return{put:(e,r)=>{t.push({type:"put",key:e.toString(),value:r})},delete:e=>{t.push({type:"del",key:e.toString()})},commit:e=>{this.db.batch(t,e)}}}query(t){let r=!0;null!=t.keysOnly&&(r=!t.keysOnly);const i=this.db.db.iterator({keys:!0,values:r,keyAsBuffer:!0});let u=[(t,n)=>{if(t)return i.end(e=>{n(e||t)});i.next((t,o,s)=>{if(t)return n(t);if(null==t&&null==o&&null==s)return i.end(t=>{n(t||!0)});const u={key:new a(o,!1)};r&&(u.value=e.from(s)),n(null,u)})}],c=[];if(null!=t.prefix){const e=t.prefix;c.push((t,r)=>r(null,t.key.toString().startsWith(e)))}if(null!=t.filters&&(c=c.concat(t.filters)),u=u.concat(c.map(t=>o(t))),null!=t.orders&&(u=u.concat(t.orders.map(t=>s(t)))),null!=t.offset){let e=0;u.push(n.filter(()=>e++>=t.offset))}return null!=t.limit&&u.push(n.take(t.limit)),n.apply(null,u)}}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},function(t,e,r){"use strict";const n=r(8);t.exports=class{constructor(t,e){this.child=t,this.transform=e}open(t){this.child.open(t)}put(t,e,r){this.child.put(this.transform.convert(t),e,r)}get(t,e){this.child.get(this.transform.convert(t),e)}has(t,e){this.child.has(this.transform.convert(t),e)}delete(t,e){this.child.delete(this.transform.convert(t),e)}batch(){const t=this.child.batch();return{put:(e,r)=>{t.put(this.transform.convert(e),r)},delete:e=>{t.delete(this.transform.convert(e))},commit:e=>{t.commit(e)}}}query(t){return n(this.child.query(t),n.map(t=>(t.key=this.transform.invert(t.key),t)))}close(t){this.child.close(t)}}},function(t,e){t.exports=function(){var t,e,r,n,i=function(i,o){t?t(i,o):i?(n=i,r=o):e=o};return i.resolve=function(i){if(t)throw new Error("already resolved");if(!(t=i))throw new Error("no read cannot resolve!"+t);e&&i(null,e),r&&i(n,r)},i.abort=function(t){i.resolve(function(e,r){r(t||!0)})},i}},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return n.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var s=i>=0?arguments[i]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,n="/"===s.charAt(0))}return e=r(o(e.split("/"),function(t){return!!t}),!n).join("/"),(n?"/":"")+e||"."},e.normalize=function(t){var n=e.isAbsolute(t),i="/"===s(t,-1);return(t=r(o(t.split("/"),function(t){return!!t}),!n).join("/"))||n||(t="."),t&&i&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split("/")),o=n(r.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var c=[];for(u=a;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},e.basename=function(t,e){var r=i(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return i(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},function(t,e,r){"use strict";(function(r){(e=t.exports).raw=r.from("55","hex"),e.base1=r.from("01","hex"),e.base2=r.from("00","hex"),e.base8=r.from("07","hex"),e.base10=r.from("09","hex"),e.cbor=r.from("51","hex"),e.protobuf=r.from("50","hex"),e.rlp=r.from("60","hex"),e.bencode=r.from("63","hex"),e.multicodec=r.from("30","hex"),e.multihash=r.from("31","hex"),e.multiaddr=r.from("32","hex"),e.multibase=r.from("33","hex"),e.md4=r.from("d4","hex"),e.md5=r.from("d5","hex"),e.sha1=r.from("11","hex"),e["sha2-256"]=r.from("12","hex"),e["sha2-512"]=r.from("13","hex"),e["dbl-sha2-256"]=r.from("56","hex"),e["sha3-224"]=r.from("17","hex"),e["sha3-256"]=r.from("16","hex"),e["sha3-384"]=r.from("15","hex"),e["sha3-512"]=r.from("14","hex"),e["shake-128"]=r.from("18","hex"),e["shake-256"]=r.from("19","hex"),e["keccak-224"]=r.from("1a","hex"),e["keccak-256"]=r.from("1b","hex"),e["keccak-384"]=r.from("1c","hex"),e["keccak-512"]=r.from("1d","hex"),e.murmur3=r.from("22","hex"),e["blake2b-8"]=r.from("b201","hex"),e["blake2b-16"]=r.from("b202","hex"),e["blake2b-24"]=r.from("b203","hex"),e["blake2b-32"]=r.from("b204","hex"),e["blake2b-40"]=r.from("b205","hex"),e["blake2b-48"]=r.from("b206","hex"),e["blake2b-56"]=r.from("b207","hex"),e["blake2b-64"]=r.from("b208","hex"),e["blake2b-72"]=r.from("b209","hex"),e["blake2b-80"]=r.from("b20a","hex"),e["blake2b-88"]=r.from("b20b","hex"),e["blake2b-96"]=r.from("b20c","hex"),e["blake2b-104"]=r.from("b20d","hex"),e["blake2b-112"]=r.from("b20e","hex"),e["blake2b-120"]=r.from("b20f","hex"),e["blake2b-128"]=r.from("b210","hex"),e["blake2b-136"]=r.from("b211","hex"),e["blake2b-144"]=r.from("b212","hex"),e["blake2b-152"]=r.from("b213","hex"),e["blake2b-160"]=r.from("b214","hex"),e["blake2b-168"]=r.from("b215","hex"),e["blake2b-176"]=r.from("b216","hex"),e["blake2b-184"]=r.from("b217","hex"),e["blake2b-192"]=r.from("b218","hex"),e["blake2b-200"]=r.from("b219","hex"),e["blake2b-208"]=r.from("b21a","hex"),e["blake2b-216"]=r.from("b21b","hex"),e["blake2b-224"]=r.from("b21c","hex"),e["blake2b-232"]=r.from("b21d","hex"),e["blake2b-240"]=r.from("b21e","hex"),e["blake2b-248"]=r.from("b21f","hex"),e["blake2b-256"]=r.from("b220","hex"),e["blake2b-264"]=r.from("b221","hex"),e["blake2b-272"]=r.from("b222","hex"),e["blake2b-280"]=r.from("b223","hex"),e["blake2b-288"]=r.from("b224","hex"),e["blake2b-296"]=r.from("b225","hex"),e["blake2b-304"]=r.from("b226","hex"),e["blake2b-312"]=r.from("b227","hex"),e["blake2b-320"]=r.from("b228","hex"),e["blake2b-328"]=r.from("b229","hex"),e["blake2b-336"]=r.from("b22a","hex"),e["blake2b-344"]=r.from("b22b","hex"),e["blake2b-352"]=r.from("b22c","hex"),e["blake2b-360"]=r.from("b22d","hex"),e["blake2b-368"]=r.from("b22e","hex"),e["blake2b-376"]=r.from("b22f","hex"),e["blake2b-384"]=r.from("b230","hex"),e["blake2b-392"]=r.from("b231","hex"),e["blake2b-400"]=r.from("b232","hex"),e["blake2b-408"]=r.from("b233","hex"),e["blake2b-416"]=r.from("b234","hex"),e["blake2b-424"]=r.from("b235","hex"),e["blake2b-432"]=r.from("b236","hex"),e["blake2b-440"]=r.from("b237","hex"),e["blake2b-448"]=r.from("b238","hex"),e["blake2b-456"]=r.from("b239","hex"),e["blake2b-464"]=r.from("b23a","hex"),e["blake2b-472"]=r.from("b23b","hex"),e["blake2b-480"]=r.from("b23c","hex"),e["blake2b-488"]=r.from("b23d","hex"),e["blake2b-496"]=r.from("b23e","hex"),e["blake2b-504"]=r.from("b23f","hex"),e["blake2b-512"]=r.from("b240","hex"),e["blake2s-8"]=r.from("b241","hex"),e["blake2s-16"]=r.from("b242","hex"),e["blake2s-24"]=r.from("b243","hex"),e["blake2s-32"]=r.from("b244","hex"),e["blake2s-40"]=r.from("b245","hex"),e["blake2s-48"]=r.from("b246","hex"),e["blake2s-56"]=r.from("b247","hex"),e["blake2s-64"]=r.from("b248","hex"),e["blake2s-72"]=r.from("b249","hex"),e["blake2s-80"]=r.from("b24a","hex"),e["blake2s-88"]=r.from("b24b","hex"),e["blake2s-96"]=r.from("b24c","hex"),e["blake2s-104"]=r.from("b24d","hex"),e["blake2s-112"]=r.from("b24e","hex"),e["blake2s-120"]=r.from("b24f","hex"),e["blake2s-128"]=r.from("b250","hex"),e["blake2s-136"]=r.from("b251","hex"),e["blake2s-144"]=r.from("b252","hex"),e["blake2s-152"]=r.from("b253","hex"),e["blake2s-160"]=r.from("b254","hex"),e["blake2s-168"]=r.from("b255","hex"),e["blake2s-176"]=r.from("b256","hex"),e["blake2s-184"]=r.from("b257","hex"),e["blake2s-192"]=r.from("b258","hex"),e["blake2s-200"]=r.from("b259","hex"),e["blake2s-208"]=r.from("b25a","hex"),e["blake2s-216"]=r.from("b25b","hex"),e["blake2s-224"]=r.from("b25c","hex"),e["blake2s-232"]=r.from("b25d","hex"),e["blake2s-240"]=r.from("b25e","hex"),e["blake2s-248"]=r.from("b25f","hex"),e["blake2s-256"]=r.from("b260","hex"),e["skein256-8"]=r.from("b301","hex"),e["skein256-16"]=r.from("b302","hex"),e["skein256-24"]=r.from("b303","hex"),e["skein256-32"]=r.from("b304","hex"),e["skein256-40"]=r.from("b305","hex"),e["skein256-48"]=r.from("b306","hex"),e["skein256-56"]=r.from("b307","hex"),e["skein256-64"]=r.from("b308","hex"),e["skein256-72"]=r.from("b309","hex"),e["skein256-80"]=r.from("b30a","hex"),e["skein256-88"]=r.from("b30b","hex"),e["skein256-96"]=r.from("b30c","hex"),e["skein256-104"]=r.from("b30d","hex"),e["skein256-112"]=r.from("b30e","hex"),e["skein256-120"]=r.from("b30f","hex"),e["skein256-128"]=r.from("b310","hex"),e["skein256-136"]=r.from("b311","hex"),e["skein256-144"]=r.from("b312","hex"),e["skein256-152"]=r.from("b313","hex"),e["skein256-160"]=r.from("b314","hex"),e["skein256-168"]=r.from("b315","hex"),e["skein256-176"]=r.from("b316","hex"),e["skein256-184"]=r.from("b317","hex"),e["skein256-192"]=r.from("b318","hex"),e["skein256-200"]=r.from("b319","hex"),e["skein256-208"]=r.from("b31a","hex"),e["skein256-216"]=r.from("b31b","hex"),e["skein256-224"]=r.from("b31c","hex"),e["skein256-232"]=r.from("b31d","hex"),e["skein256-240"]=r.from("b31e","hex"),e["skein256-248"]=r.from("b31f","hex"),e["skein256-256"]=r.from("b320","hex"),e["skein512-8"]=r.from("b321","hex"),e["skein512-16"]=r.from("b322","hex"),e["skein512-24"]=r.from("b323","hex"),e["skein512-32"]=r.from("b324","hex"),e["skein512-40"]=r.from("b325","hex"),e["skein512-48"]=r.from("b326","hex"),e["skein512-56"]=r.from("b327","hex"),e["skein512-64"]=r.from("b328","hex"),e["skein512-72"]=r.from("b329","hex"),e["skein512-80"]=r.from("b32a","hex"),e["skein512-88"]=r.from("b32b","hex"),e["skein512-96"]=r.from("b32c","hex"),e["skein512-104"]=r.from("b32d","hex"),e["skein512-112"]=r.from("b32e","hex"),e["skein512-120"]=r.from("b32f","hex"),e["skein512-128"]=r.from("b330","hex"),e["skein512-136"]=r.from("b331","hex"),e["skein512-144"]=r.from("b332","hex"),e["skein512-152"]=r.from("b333","hex"),e["skein512-160"]=r.from("b334","hex"),e["skein512-168"]=r.from("b335","hex"),e["skein512-176"]=r.from("b336","hex"),e["skein512-184"]=r.from("b337","hex"),e["skein512-192"]=r.from("b338","hex"),e["skein512-200"]=r.from("b339","hex"),e["skein512-208"]=r.from("b33a","hex"),e["skein512-216"]=r.from("b33b","hex"),e["skein512-224"]=r.from("b33c","hex"),e["skein512-232"]=r.from("b33d","hex"),e["skein512-240"]=r.from("b33e","hex"),e["skein512-248"]=r.from("b33f","hex"),e["skein512-256"]=r.from("b340","hex"),e["skein512-264"]=r.from("b341","hex"),e["skein512-272"]=r.from("b342","hex"),e["skein512-280"]=r.from("b343","hex"),e["skein512-288"]=r.from("b344","hex"),e["skein512-296"]=r.from("b345","hex"),e["skein512-304"]=r.from("b346","hex"),e["skein512-312"]=r.from("b347","hex"),e["skein512-320"]=r.from("b348","hex"),e["skein512-328"]=r.from("b349","hex"),e["skein512-336"]=r.from("b34a","hex"),e["skein512-344"]=r.from("b34b","hex"),e["skein512-352"]=r.from("b34c","hex"),e["skein512-360"]=r.from("b34d","hex"),e["skein512-368"]=r.from("b34e","hex"),e["skein512-376"]=r.from("b34f","hex"),e["skein512-384"]=r.from("b350","hex"),e["skein512-392"]=r.from("b351","hex"),e["skein512-400"]=r.from("b352","hex"),e["skein512-408"]=r.from("b353","hex"),e["skein512-416"]=r.from("b354","hex"),e["skein512-424"]=r.from("b355","hex"),e["skein512-432"]=r.from("b356","hex"),e["skein512-440"]=r.from("b357","hex"),e["skein512-448"]=r.from("b358","hex"),e["skein512-456"]=r.from("b359","hex"),e["skein512-464"]=r.from("b35a","hex"),e["skein512-472"]=r.from("b35b","hex"),e["skein512-480"]=r.from("b35c","hex"),e["skein512-488"]=r.from("b35d","hex"),e["skein512-496"]=r.from("b35e","hex"),e["skein512-504"]=r.from("b35f","hex"),e["skein512-512"]=r.from("b360","hex"),e["skein1024-8"]=r.from("b361","hex"),e["skein1024-16"]=r.from("b362","hex"),e["skein1024-24"]=r.from("b363","hex"),e["skein1024-32"]=r.from("b364","hex"),e["skein1024-40"]=r.from("b365","hex"),e["skein1024-48"]=r.from("b366","hex"),e["skein1024-56"]=r.from("b367","hex"),e["skein1024-64"]=r.from("b368","hex"),e["skein1024-72"]=r.from("b369","hex"),e["skein1024-80"]=r.from("b36a","hex"),e["skein1024-88"]=r.from("b36b","hex"),e["skein1024-96"]=r.from("b36c","hex"),e["skein1024-104"]=r.from("b36d","hex"),e["skein1024-112"]=r.from("b36e","hex"),e["skein1024-120"]=r.from("b36f","hex"),e["skein1024-128"]=r.from("b370","hex"),e["skein1024-136"]=r.from("b371","hex"),e["skein1024-144"]=r.from("b372","hex"),e["skein1024-152"]=r.from("b373","hex"),e["skein1024-160"]=r.from("b374","hex"),e["skein1024-168"]=r.from("b375","hex"),e["skein1024-176"]=r.from("b376","hex"),e["skein1024-184"]=r.from("b377","hex"),e["skein1024-192"]=r.from("b378","hex"),e["skein1024-200"]=r.from("b379","hex"),e["skein1024-208"]=r.from("b37a","hex"),e["skein1024-216"]=r.from("b37b","hex"),e["skein1024-224"]=r.from("b37c","hex"),e["skein1024-232"]=r.from("b37d","hex"),e["skein1024-240"]=r.from("b37e","hex"),e["skein1024-248"]=r.from("b37f","hex"),e["skein1024-256"]=r.from("b380","hex"),e["skein1024-264"]=r.from("b381","hex"),e["skein1024-272"]=r.from("b382","hex"),e["skein1024-280"]=r.from("b383","hex"),e["skein1024-288"]=r.from("b384","hex"),e["skein1024-296"]=r.from("b385","hex"),e["skein1024-304"]=r.from("b386","hex"),e["skein1024-312"]=r.from("b387","hex"),e["skein1024-320"]=r.from("b388","hex"),e["skein1024-328"]=r.from("b389","hex"),e["skein1024-336"]=r.from("b38a","hex"),e["skein1024-344"]=r.from("b38b","hex"),e["skein1024-352"]=r.from("b38c","hex"),e["skein1024-360"]=r.from("b38d","hex"),e["skein1024-368"]=r.from("b38e","hex"),e["skein1024-376"]=r.from("b38f","hex"),e["skein1024-384"]=r.from("b390","hex"),e["skein1024-392"]=r.from("b391","hex"),e["skein1024-400"]=r.from("b392","hex"),e["skein1024-408"]=r.from("b393","hex"),e["skein1024-416"]=r.from("b394","hex"),e["skein1024-424"]=r.from("b395","hex"),e["skein1024-432"]=r.from("b396","hex"),e["skein1024-440"]=r.from("b397","hex"),e["skein1024-448"]=r.from("b398","hex"),e["skein1024-456"]=r.from("b399","hex"),e["skein1024-464"]=r.from("b39a","hex"),e["skein1024-472"]=r.from("b39b","hex"),e["skein1024-480"]=r.from("b39c","hex"),e["skein1024-488"]=r.from("b39d","hex"),e["skein1024-496"]=r.from("b39e","hex"),e["skein1024-504"]=r.from("b39f","hex"),e["skein1024-512"]=r.from("b3a0","hex"),e["skein1024-520"]=r.from("b3a1","hex"),e["skein1024-528"]=r.from("b3a2","hex"),e["skein1024-536"]=r.from("b3a3","hex"),e["skein1024-544"]=r.from("b3a4","hex"),e["skein1024-552"]=r.from("b3a5","hex"),e["skein1024-560"]=r.from("b3a6","hex"),e["skein1024-568"]=r.from("b3a7","hex"),e["skein1024-576"]=r.from("b3a8","hex"),e["skein1024-584"]=r.from("b3a9","hex"),e["skein1024-592"]=r.from("b3aa","hex"),e["skein1024-600"]=r.from("b3ab","hex"),e["skein1024-608"]=r.from("b3ac","hex"),e["skein1024-616"]=r.from("b3ad","hex"),e["skein1024-624"]=r.from("b3ae","hex"),e["skein1024-632"]=r.from("b3af","hex"),e["skein1024-640"]=r.from("b3b0","hex"),e["skein1024-648"]=r.from("b3b1","hex"),e["skein1024-656"]=r.from("b3b2","hex"),e["skein1024-664"]=r.from("b3b3","hex"),e["skein1024-672"]=r.from("b3b4","hex"),e["skein1024-680"]=r.from("b3b5","hex"),e["skein1024-688"]=r.from("b3b6","hex"),e["skein1024-696"]=r.from("b3b7","hex"),e["skein1024-704"]=r.from("b3b8","hex"),e["skein1024-712"]=r.from("b3b9","hex"),e["skein1024-720"]=r.from("b3ba","hex"),e["skein1024-728"]=r.from("b3bb","hex"),e["skein1024-736"]=r.from("b3bc","hex"),e["skein1024-744"]=r.from("b3bd","hex"),e["skein1024-752"]=r.from("b3be","hex"),e["skein1024-760"]=r.from("b3bf","hex"),e["skein1024-768"]=r.from("b3c0","hex"),e["skein1024-776"]=r.from("b3c1","hex"),e["skein1024-784"]=r.from("b3c2","hex"),e["skein1024-792"]=r.from("b3c3","hex"),e["skein1024-800"]=r.from("b3c4","hex"),e["skein1024-808"]=r.from("b3c5","hex"),e["skein1024-816"]=r.from("b3c6","hex"),e["skein1024-824"]=r.from("b3c7","hex"),e["skein1024-832"]=r.from("b3c8","hex"),e["skein1024-840"]=r.from("b3c9","hex"),e["skein1024-848"]=r.from("b3ca","hex"),e["skein1024-856"]=r.from("b3cb","hex"),e["skein1024-864"]=r.from("b3cc","hex"),e["skein1024-872"]=r.from("b3cd","hex"),e["skein1024-880"]=r.from("b3ce","hex"),e["skein1024-888"]=r.from("b3cf","hex"),e["skein1024-896"]=r.from("b3d0","hex"),e["skein1024-904"]=r.from("b3d1","hex"),e["skein1024-912"]=r.from("b3d2","hex"),e["skein1024-920"]=r.from("b3d3","hex"),e["skein1024-928"]=r.from("b3d4","hex"),e["skein1024-936"]=r.from("b3d5","hex"),e["skein1024-944"]=r.from("b3d6","hex"),e["skein1024-952"]=r.from("b3d7","hex"),e["skein1024-960"]=r.from("b3d8","hex"),e["skein1024-968"]=r.from("b3d9","hex"),e["skein1024-976"]=r.from("b3da","hex"),e["skein1024-984"]=r.from("b3db","hex"),e["skein1024-992"]=r.from("b3dc","hex"),e["skein1024-1000"]=r.from("b3dd","hex"),e["skein1024-1008"]=r.from("b3de","hex"),e["skein1024-1016"]=r.from("b3df","hex"),e["skein1024-1024"]=r.from("b3e0","hex"),e.ip4=r.from("04","hex"),e.ip6=r.from("29","hex"),e.tcp=r.from("06","hex"),e.udp=r.from("0111","hex"),e.dccp=r.from("21","hex"),e.sctp=r.from("84","hex"),e.udt=r.from("012d","hex"),e.utp=r.from("012e","hex"),e.ipfs=r.from("01a5","hex"),e.http=r.from("01e0","hex"),e.https=r.from("01bb","hex"),e.quic=r.from("01cc","hex"),e.ws=r.from("01dd","hex"),e.onion=r.from("01bc","hex"),e["p2p-circuit"]=r.from("0122","hex"),e["git-raw"]=r.from("78","hex"),e["dag-pb"]=r.from("70","hex"),e["dag-cbor"]=r.from("71","hex"),e["git-raw"]=r.from("78","hex"),e["eth-block"]=r.from("90","hex"),e["eth-block-list"]=r.from("91","hex"),e["eth-tx-trie"]=r.from("92","hex"),e["eth-tx"]=r.from("93","hex"),e["eth-tx-receipt-trie"]=r.from("94","hex"),e["eth-tx-receipt"]=r.from("95","hex"),e["eth-state-trie"]=r.from("96","hex"),e["eth-account-snapshot"]=r.from("97","hex"),e["eth-storage-trie"]=r.from("98","hex"),e["bitcoin-block"]=r.from("b0","hex"),e["bitcoin-tx"]=r.from("b1","hex"),e["zcash-block"]=r.from("c0","hex"),e["zcash-tx"]=r.from("c1","hex"),e["stellar-block"]=r.from("d0","hex"),e["stellar-tx"]=r.from("d1","hex"),e["torrent-info"]=r.from("7b","hex"),e["torrent-file"]=r.from("7c","hex"),e["ed25519-pub"]=r.from("ed","hex")}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e){const n=r(18);t.exports=class{constructor(t,r){if(!t||!e.isBuffer(t))throw new Error("first argument  must be a buffer");if(!r||!n.isCID(r))throw new Error("second argument must be a CID");this._data=t,this._cid=r}get data(){return this._data}set data(t){throw new Error("Tried to change an immutable block")}get cid(){return this._cid}set cid(t){throw new Error("Tried to change an immutable block")}static isBlock(t){return t&&"Block"===t.constructor.name}}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";var n=function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(s,a)}u((n=n.apply(t,e||[])).next())})},i=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(1465),s=r(227);function a(t){var e,r="";for(e=0;e<t.length;e++)r+=("000"+t.charCodeAt(e).toString(16)).slice(-4);return r}function u(t){var e,r=t.match(/.{1,4}/g)||[],n="";for(e=0;e<r.length;e++)n+=String.fromCharCode(parseInt(r[e],16));return n}function c(t){return o.compressToUTF16(t)}function f(t){return o.decompressFromUTF16(t)}e.hexEncode=a,window.hexEncode=a,e.hexDecode=u,window.hexDecode=u,e.compressString=c,window.compressString=c,e.decompressString=f,window.decompressString=f,e.formatDate=function(t){if(!t)return"";var e=new Date(t),r=Date.now()-e.getTime(),n=Math.abs(r);return n<=864e5?n<=36e5?(r<0?"future ":"")+Math.ceil(n/6e4)+"m":(r<0?"future ":"")+Math.floor(n/36e5)+"h":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]+" "+e.getDate()+" "+e.getFullYear()},e.checkUserRegistration=function(t){return n(this,void 0,void 0,function(){var e;return i(this,function(r){switch(r.label){case 0:return[4,t.getUsernameFromAddress(t.accountAddress)];case 1:return(e=r.sent())&&e.length||s.default.replace("/"+t.networkId+"/signup"),[2]}})})}},function(t,e,r){var n=r(103);t.exports={eth:function(){return[new n({name:"newFilter",call:function(t){switch(t[0]){case"latest":return t.shift(),this.params=0,"eth_newBlockFilter";case"pending":return t.shift(),this.params=0,"eth_newPendingTransactionFilter";default:return"eth_newFilter"}},params:1}),new n({name:"uninstallFilter",call:"eth_uninstallFilter",params:1}),new n({name:"getLogs",call:"eth_getFilterLogs",params:1}),new n({name:"poll",call:"eth_getFilterChanges",params:1})]},shh:function(){return[new n({name:"newFilter",call:"shh_newFilter",params:1}),new n({name:"uninstallFilter",call:"shh_uninstallFilter",params:1}),new n({name:"getLogs",call:"shh_getMessages",params:1}),new n({name:"poll",call:"shh_getFilterChanges",params:1})]}}},function(t,e,r){var n=r(77),i=r(37),o=function(t){return null===t||void 0===t?null:0===(t=String(t)).indexOf("0x")?t:i.fromUtf8(t)},s=function(t,e){i.isString(t.options)||t.get(function(t,r){t&&e(t),i.isArray(r)&&r.forEach(function(t){e(null,t)})})},a=function(t){t.requestManager.startPolling({method:t.implementation.poll.call,params:[t.filterId]},t.filterId,function(e,r){if(e)return t.callbacks.forEach(function(t){t(e)});i.isArray(r)&&r.forEach(function(e){e=t.formatter?t.formatter(e):e,t.callbacks.forEach(function(t){t(null,e)})})},t.stopWatching.bind(t))},u=function(t,e,r,u,c,f){var l=this,h={};return r.forEach(function(e){e.setRequestManager(t),e.attachToObject(h)}),this.requestManager=t,this.options=function(t){return i.isString(t)?t:((t=t||{}).topics=t.topics||[],t.topics=t.topics.map(function(t){return i.isArray(t)?t.map(o):o(t)}),{topics:t.topics,from:t.from,to:t.to,address:t.address,fromBlock:n.inputBlockNumberFormatter(t.fromBlock),toBlock:n.inputBlockNumberFormatter(t.toBlock)})}(e),this.implementation=h,this.filterId=null,this.callbacks=[],this.getLogsCallbacks=[],this.pollFilters=[],this.formatter=u,this.implementation.newFilter(this.options,function(t,e){if(t)l.callbacks.forEach(function(e){e(t)}),f(t);else if(l.filterId=e,l.getLogsCallbacks.forEach(function(t){l.get(t)}),l.getLogsCallbacks=[],l.callbacks.forEach(function(t){s(l,t)}),l.callbacks.length>0&&a(l),"function"==typeof c)return l.watch(c)}),this};u.prototype.watch=function(t){return this.callbacks.push(t),this.filterId&&(s(this,t),a(this)),this},u.prototype.stopWatching=function(t){if(this.requestManager.stopPolling(this.filterId),this.callbacks=[],!t)return this.implementation.uninstallFilter(this.filterId);this.implementation.uninstallFilter(this.filterId,t)},u.prototype.get=function(t){var e=this;if(!i.isFunction(t)){if(null===this.filterId)throw new Error("Filter ID Error: filter().get() can't be chained synchronous, please provide a callback for the get() method.");return this.implementation.getLogs(this.filterId).map(function(t){return e.formatter?e.formatter(t):t})}return null===this.filterId?this.getLogsCallbacks.push(t):this.implementation.getLogs(this.filterId,function(r,n){r?t(r):t(null,n.map(function(t){return e.formatter?e.formatter(t):t}))}),this},t.exports=u},function(t,e,r){var n=r(158),i=function(t,e){for(var r=t;r.length<2*e;)r="0"+r;return r},o=function(t){var e="A".charCodeAt(0),r="Z".charCodeAt(0);return(t=(t=t.toUpperCase()).substr(4)+t.substr(0,4)).split("").map(function(t){var n=t.charCodeAt(0);return n>=e&&n<=r?n-e+10:t}).join("")},s=function(t){for(var e,r=t;r.length>2;)e=r.slice(0,9),r=parseInt(e,10)%97+r.slice(e.length);return parseInt(r,10)%97},a=function(t){this._iban=t};a.fromAddress=function(t){var e=new n(t,16).toString(36),r=i(e,15);return a.fromBban(r.toUpperCase())},a.fromBban=function(t){var e=("0"+(98-s(o("XE00"+t)))).slice(-2);return new a("XE"+e+t)},a.createIndirect=function(t){return a.fromBban("ETH"+t.institution+t.identifier)},a.isValid=function(t){return new a(t).isValid()},a.prototype.isValid=function(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&1===s(o(this._iban))},a.prototype.isDirect=function(){return 34===this._iban.length||35===this._iban.length},a.prototype.isIndirect=function(){return 20===this._iban.length},a.prototype.checksum=function(){return this._iban.substr(2,2)},a.prototype.institution=function(){return this.isIndirect()?this._iban.substr(7,4):""},a.prototype.client=function(){return this.isIndirect()?this._iban.substr(11):""},a.prototype.address=function(){if(this.isDirect()){var t=this._iban.substr(4),e=new n(t,36);return i(e.toString(16),20)}return""},a.prototype.toString=function(){return this._iban},t.exports=a},function(t,e,r){var n=r(158);t.exports={ETH_PADDING:32,ETH_SIGNATURE_LENGTH:4,ETH_UNITS:["wei","kwei","Mwei","Gwei","szabo","finney","femtoether","picoether","nanoether","microether","milliether","nano","micro","milli","ether","grand","Mether","Gether","Tether","Pether","Eether","Zether","Yether","Nether","Dether","Vether","Uether"],ETH_BIGNUMBER_ROUNDING_MODE:{ROUNDING_MODE:n.ROUND_DOWN},ETH_POLLING_TIMEOUT:500,defaultBlock:"latest",defaultAccount:void 0}},function(t,e,r){var n,i,o,s,a,u;t.exports=(n=r(15),o=(i=n).lib,s=o.Base,a=o.WordArray,(u=i.x64={}).Word=s.extend({init:function(t,e){this.high=t,this.low=e}}),u.WordArray=s.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,r=[],n=0;n<e;n++){var i=t[n];r.push(i.high),r.push(i.low)}return a.create(r,this.sigBytes)},clone:function(){for(var t=s.clone.call(this),e=t.words=this.words.slice(0),r=e.length,n=0;n<r;n++)e[n]=e[n].clone();return t}}),n)},function(t,e,r){var n=r(60),i=r(1499),o=r(1498),s=r(1497),a=r(1496),u=r(1495),c=r(1494),f=r(1493),l=r(1492),h=r(1491),p=function(t,e){return t.isDynamicType(e)||t.isDynamicArray(e)},d=function(t){this._types=t};d.prototype._requireType=function(t){var e=this._types.filter(function(e){return e.isType(t)})[0];if(!e)throw Error("invalid solidity type!: "+t);return e},d.prototype.encodeParam=function(t,e){return this.encodeParams([t],[e])},d.prototype.encodeParams=function(t,e){var r=this.getSolidityTypes(t),n=r.map(function(r,n){return r.encode(e[n],t[n])}),i=r.reduce(function(e,n,i){var o=n.staticPartLength(t[i]),s=32*Math.floor((o+31)/32);return e+(p(r[i],t[i])?32:s)},0);return this.encodeMultiWithOffset(t,r,n,i)},d.prototype.encodeMultiWithOffset=function(t,e,r,i){var o="",s=this;return t.forEach(function(a,u){if(p(e[u],t[u])){o+=n.formatInputInt(i).encode();var c=s.encodeWithOffset(t[u],e[u],r[u],i);i+=c.length/2}else o+=s.encodeWithOffset(t[u],e[u],r[u],i)}),t.forEach(function(n,a){if(p(e[a],t[a])){var u=s.encodeWithOffset(t[a],e[a],r[a],i);i+=u.length/2,o+=u}}),o},d.prototype.encodeWithOffset=function(t,e,r,i){var o,s,a,u=this;return e.isDynamicArray(t)?(o=e.nestedName(t),s=e.staticPartLength(o),a=r[0],function(){var t=2;if(e.isDynamicArray(o))for(var u=1;u<r.length;u++)t+=+r[u-1][0]||0,a+=n.formatInputInt(i+u*s+32*t).encode()}(),function(){for(var t=0;t<r.length-1;t++){var n=a/2;a+=u.encodeWithOffset(o,e,r[t+1],i+n)}}(),a):e.isStaticArray(t)?function(){var o=e.nestedName(t),s=e.staticPartLength(o),a="";return e.isDynamicArray(o)&&function(){for(var t=0,e=0;e<r.length;e++)t+=+(r[e-1]||[])[0]||0,a+=n.formatInputInt(i+e*s+32*t).encode()}(),function(){for(var t=0;t<r.length;t++){var n=a/2;a+=u.encodeWithOffset(o,e,r[t],i+n)}}(),a}():r},d.prototype.decodeParam=function(t,e){return this.decodeParams([t],e)[0]},d.prototype.decodeParams=function(t,e){var r=this.getSolidityTypes(t),n=this.getOffsets(t,r);return r.map(function(r,i){return r.decode(e,n[i],t[i],i)})},d.prototype.getOffsets=function(t,e){for(var r=e.map(function(e,r){return e.staticPartLength(t[r])}),n=1;n<r.length;n++)r[n]+=r[n-1];return r.map(function(r,n){return r-e[n].staticPartLength(t[n])})},d.prototype.getSolidityTypes=function(t){var e=this;return t.map(function(t){return e._requireType(t)})};var m=new d([new i,new o,new s,new a,new u,new h,new c,new f,new l]);t.exports=m},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(166);e.default=n.createHashHistory()},function(t,e,r){(function(e){var n=r(1571),i=r(1561),o=r(1560),s=r(233),a=r(361);function u(t){var r;"object"!=typeof t||e.isBuffer(t)||(r=t.passphrase,t=t.key),"string"==typeof t&&(t=new e(t));var u,c,f=o(t,r),l=f.tag,h=f.data;switch(l){case"CERTIFICATE":c=n.certificate.decode(h,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(c||(c=n.PublicKey.decode(h,"der")),u=c.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(c.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return c.subjectPrivateKey=c.subjectPublicKey,{type:"ec",data:c};case"1.2.840.10040.4.1":return c.algorithm.params.pub_key=n.DSAparam.decode(c.subjectPublicKey.data,"der"),{type:"dsa",data:c.algorithm.params};default:throw new Error("unknown key id "+u)}throw new Error("unknown key type "+l);case"ENCRYPTED PRIVATE KEY":h=function(t,r){var n=t.algorithm.decrypt.kde.kdeparams.salt,o=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),u=i[t.algorithm.decrypt.cipher.algo.join(".")],c=t.algorithm.decrypt.cipher.iv,f=t.subjectPrivateKey,l=parseInt(u.split("-")[1],10)/8,h=a.pbkdf2Sync(r,n,o,l),p=s.createDecipheriv(u,h,c),d=[];return d.push(p.update(f)),d.push(p.final()),e.concat(d)}(h=n.EncryptedPrivateKey.decode(h,"der"),r);case"PRIVATE KEY":switch(u=(c=n.PrivateKey.decode(h,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(c.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:c.algorithm.curve,privateKey:n.ECPrivateKey.decode(c.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return c.algorithm.params.priv_key=n.DSAparam.decode(c.subjectPrivateKey,"der"),{type:"dsa",params:c.algorithm.params};default:throw new Error("unknown key id "+u)}throw new Error("unknown key type "+l);case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(h,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(h,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(h,"der")};case"EC PRIVATE KEY":return{curve:(h=n.ECPrivateKey.decode(h,"der")).parameters.value,privateKey:h.privateKey};default:throw new Error("unknown key type "+l)}}t.exports=u,u.signature=n.signature}).call(this,r(0).Buffer)},function(t,e,r){"use strict";var n=r(67),i=r(161),o=r(633),s=r(49),a=n.sum32,u=n.sum32_4,c=n.sum32_5,f=o.ch32,l=o.maj32,h=o.s0_256,p=o.s1_256,d=o.g0_256,m=o.g1_256,g=i.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}n.inherits(y,g),t.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=u(m(r[n-2]),r[n-7],d(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],g=this.h[2],v=this.h[3],y=this.h[4],b=this.h[5],w=this.h[6],_=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var k=c(_,p(y),f(y,b,w),this.k[n],r[n]),S=a(h(i),l(i,o,g));_=w,w=b,b=y,y=a(v,k),v=g,g=o,o=i,i=a(k,S)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],v),this.h[4]=a(this.h[4],y),this.h[5]=a(this.h[5],b),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],_)},y.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(t,e,r){"use strict";var n=e;n.base=r(1590),n.short=r(1589),n.mont=r(1588),n.edwards=r(1587)},function(t,e,r){var n=r(3).Buffer,i=r(365);t.exports=function(t,e,r,o){if(n.isBuffer(t)||(t=n.from(t,"binary")),e&&(n.isBuffer(e)||(e=n.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var s=r/8,a=n.alloc(s),u=n.alloc(o||0),c=n.alloc(0);s>0||o>0;){var f=new i;f.update(c),f.update(t),e&&f.update(e),c=f.digest();var l=0;if(s>0){var h=a.length-s;l=Math.min(s,c.length),c.copy(a,h,0,l),s-=l}if(l<c.length&&o>0){var p=u.length-o,d=Math.min(o,c.length-l);c.copy(u,p,l,l+d),o-=d}}return c.fill(0),{key:a,iv:u}}},function(t,e,r){var n=r(3).Buffer;function i(t){n.isBuffer(t)||(t=n.from(t));for(var e=t.length/4|0,r=new Array(e),i=0;i<e;i++)r[i]=t.readUInt32BE(4*i);return r}function o(t){for(;0<t.length;t++)t[0]=0}function s(t,e,r,n,i){for(var o,s,a,u,c=r[0],f=r[1],l=r[2],h=r[3],p=t[0]^e[0],d=t[1]^e[1],m=t[2]^e[2],g=t[3]^e[3],v=4,y=1;y<i;y++)o=c[p>>>24]^f[d>>>16&255]^l[m>>>8&255]^h[255&g]^e[v++],s=c[d>>>24]^f[m>>>16&255]^l[g>>>8&255]^h[255&p]^e[v++],a=c[m>>>24]^f[g>>>16&255]^l[p>>>8&255]^h[255&d]^e[v++],u=c[g>>>24]^f[p>>>16&255]^l[d>>>8&255]^h[255&m]^e[v++],p=o,d=s,m=a,g=u;return o=(n[p>>>24]<<24|n[d>>>16&255]<<16|n[m>>>8&255]<<8|n[255&g])^e[v++],s=(n[d>>>24]<<24|n[m>>>16&255]<<16|n[g>>>8&255]<<8|n[255&p])^e[v++],a=(n[m>>>24]<<24|n[g>>>16&255]<<16|n[p>>>8&255]<<8|n[255&d])^e[v++],u=(n[g>>>24]<<24|n[p>>>16&255]<<16|n[d>>>8&255]<<8|n[255&m])^e[v++],[o>>>=0,s>>>=0,a>>>=0,u>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],o=[[],[],[],[]],s=0,a=0,u=0;u<256;++u){var c=a^a<<1^a<<2^a<<3^a<<4;c=c>>>8^255&c^99,r[s]=c,n[c]=s;var f=t[s],l=t[f],h=t[l],p=257*t[c]^16843008*c;i[0][s]=p<<24|p>>>8,i[1][s]=p<<16|p>>>16,i[2][s]=p<<8|p>>>24,i[3][s]=p,p=16843009*h^65537*l^257*f^16843008*s,o[0][c]=p<<24|p>>>8,o[1][c]=p<<16|p>>>16,o[2][c]=p<<8|p>>>24,o[3][c]=p,0===s?s=a=1:(s=f^t[t[t[h^f]]],a^=t[t[a]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:o}}();function c(t){this._key=i(t),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=4*(r+1),i=[],o=0;o<e;o++)i[o]=t[o];for(o=e;o<n;o++){var s=i[o-1];o%e==0?(s=s<<8|s>>>24,s=u.SBOX[s>>>24]<<24|u.SBOX[s>>>16&255]<<16|u.SBOX[s>>>8&255]<<8|u.SBOX[255&s],s^=a[o/e|0]<<24):e>6&&o%e==4&&(s=u.SBOX[s>>>24]<<24|u.SBOX[s>>>16&255]<<16|u.SBOX[s>>>8&255]<<8|u.SBOX[255&s]),i[o]=i[o-e]^s}for(var c=[],f=0;f<n;f++){var l=n-f,h=i[l-(f%4?0:4)];c[f]=f<4||l<=4?h:u.INV_SUB_MIX[0][u.SBOX[h>>>24]]^u.INV_SUB_MIX[1][u.SBOX[h>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[h>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&h]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=c},c.prototype.encryptBlockRaw=function(t){return s(t=i(t),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},c.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=n.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r},c.prototype.decryptBlock=function(t){var e=(t=i(t))[1];t[1]=t[3],t[3]=e;var r=s(t,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),o=n.allocUnsafe(16);return o.writeUInt32BE(r[0],0),o.writeUInt32BE(r[3],4),o.writeUInt32BE(r[2],8),o.writeUInt32BE(r[1],12),o},c.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},t.exports.AES=c},function(t,e,r){var n=r(1609),i=r(1601),o=r(640);e.createCipher=e.Cipher=n.createCipher,e.createCipheriv=e.Cipheriv=n.createCipheriv,e.createDecipher=e.Decipher=i.createDecipher,e.createDecipheriv=e.Decipheriv=i.createDecipheriv,e.listCiphers=e.getCiphers=function(){return Object.keys(o)}},function(t,e,r){"use strict";var n=r(110),i=r(109),o=r(54),s=function(){var t=this;n.packageInit(this,arguments),[new i({name:"getId",call:"net_version",params:0,outputFormatter:o.hexToNumber}),new i({name:"isListening",call:"net_listening",params:0}),new i({name:"getPeerCount",call:"net_peerCount",params:0,outputFormatter:o.hexToNumber})].forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager)})};n.addProviders(s),t.exports=s},function(t,e,r){"use strict";var n=r(1652),i=function(t){this.name=t.name,this.type=t.type,this.subscriptions=t.subscriptions||{},this.requestManager=null};i.prototype.setRequestManager=function(t){this.requestManager=t},i.prototype.attachToObject=function(t){var e=this.buildCall();e.call=this.call;var r=this.name.split(".");r.length>1?(t[r[0]]=t[r[0]]||{},t[r[0]][r[1]]=e):t[r[0]]=e},i.prototype.buildCall=function(){var t=this;return function(){t.subscriptions[arguments[0]]||console.warn("Subscription "+JSON.stringify(arguments[0])+" doesn't exist. Subscribing anyway.");var e=new n({subscription:t.subscriptions[arguments[0]],requestManager:t.requestManager,type:t.type});return e.subscribe.apply(e,arguments)}},t.exports={subscriptions:i,subscription:n}},function(t,e,r){"use strict";var n=function(t){};t.exports=function(t,e,r,i,o,s,a,u){if(n(e),!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[r,i,o,s,a,u],l=0;(c=new Error(e.replace(/%s/g,function(){return f[l++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(t,e,r){"use strict";var n=r(5),i=r.n(n),o=r(1),s=r.n(o),a=r(677),u=r.n(a),c=r(134),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};e.a=function(t){var e=function(e){var r=e.wrappedComponentRef,n=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(e,["wrappedComponentRef"]);return i.a.createElement(c.a,{render:function(e){return i.a.createElement(t,f({},n,e,{ref:r}))}})};return e.displayName="withRouter("+(t.displayName||t.name)+")",e.WrappedComponent=t,e.propTypes={wrappedComponentRef:s.a.func},u()(e,t)}},function(t,e,r){"use strict";var n=r(5),i=r.n(n),o=r(1),s=r.n(o),a=r(9),u=r.n(a),c=r(27),f=r.n(c),l=r(90);var h=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){f()(this.context.router,"You should not use <Switch> outside a <Router>")},e.prototype.componentWillReceiveProps=function(t){u()(!(t.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),u()(!(!t.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},e.prototype.render=function(){var t=this.context.router.route,e=this.props.children,r=this.props.location||t.location,n=void 0,o=void 0;return i.a.Children.forEach(e,function(e){if(i.a.isValidElement(e)){var s=e.props,a=s.path,u=s.exact,c=s.strict,f=s.sensitive,h=s.from,p=a||h;null==n&&(o=e,n=p?Object(l.a)(r.pathname,{path:p,exact:u,strict:c,sensitive:f}):t.match)}}),n?i.a.cloneElement(o,{location:r,computedMatch:n}):null},e}(i.a.Component);h.contextTypes={router:s.a.shape({route:s.a.object.isRequired}).isRequired},h.propTypes={children:s.a.node,location:s.a.object},e.a=h},function(t,e,r){"use strict";var n=r(9),i=r.n(n),o=r(27),s=r.n(o),a=r(5),u=r.n(a),c=r(1),f=r.n(c),l=r(69),h=r(91),p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var m=function(t,e){return t?p({},e,{pathname:Object(l.addLeadingSlash)(t)+e.pathname}):e},g=function(t){return"string"==typeof t?Object(l.parsePath)(t):(r=(e=t).pathname,n=void 0===r?"/":r,i=e.search,o=void 0===i?"":i,s=e.hash,a=void 0===s?"":s,{pathname:n,search:"?"===o?"":o,hash:"#"===a?"":a});var e,r,n,i,o,s,a},v=function(t){return"string"==typeof t?t:Object(l.createPath)(t)},y=function(t){return function(){s()(!1,"You cannot %s with <StaticRouter>",t)}},b=function(){},w=function(t){function e(){var r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n=d(this,t.call.apply(t,[this].concat(o))),n.createHref=function(t){return Object(l.addLeadingSlash)(n.props.basename+v(t))},n.handlePush=function(t){var e=n.props,r=e.basename,i=e.context;i.action="PUSH",i.location=m(r,g(t)),i.url=v(i.location)},n.handleReplace=function(t){var e=n.props,r=e.basename,i=e.context;i.action="REPLACE",i.location=m(r,g(t)),i.url=v(i.location)},n.handleListen=function(){return b},n.handleBlock=function(){return b},d(n,r)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},e.prototype.componentWillMount=function(){i()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},e.prototype.render=function(){var t=this.props,e=t.basename,r=(t.context,t.location),n=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(t,["basename","context","location"]),i={createHref:this.createHref,action:"POP",location:function(t,e){if(!t)return e;var r=Object(l.addLeadingSlash)(t);return 0!==e.pathname.indexOf(r)?e:p({},e,{pathname:e.pathname.substr(r.length)})}(e,g(r)),push:this.handlePush,replace:this.handleReplace,go:y("go"),goBack:y("goBack"),goForward:y("goForward"),listen:this.handleListen,block:this.handleBlock};return u.a.createElement(h.a,p({},n,{history:i}))},e}(u.a.Component);w.propTypes={basename:f.a.string,context:f.a.object.isRequired,location:f.a.oneOfType([f.a.string,f.a.object])},w.defaultProps={basename:"",location:"/"},w.childContextTypes={router:f.a.object.isRequired},e.a=w},function(t,e,r){"use strict";var n=r(5),i=r.n(n),o=r(1),s=r.n(o),a=r(9),u=r.n(a),c=r(27),f=r.n(c),l=r(166);var h=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},e.prototype.componentWillMount=function(){f()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},e.prototype.componentDidMount=function(){this.isStatic()||this.perform()},e.prototype.componentDidUpdate=function(t){var e=Object(l.createLocation)(t.to),r=Object(l.createLocation)(this.props.to);Object(l.locationsAreEqual)(e,r)?u()(!1,"You tried to redirect to the same route you're currently on: \""+r.pathname+r.search+'"'):this.perform()},e.prototype.perform=function(){var t=this.context.router.history,e=this.props,r=e.push,n=e.to;r?t.push(n):t.replace(n)},e.prototype.render=function(){return null},e}(i.a.Component);h.propTypes={push:s.a.bool,from:s.a.string,to:s.a.oneOfType([s.a.string,s.a.object]).isRequired},h.defaultProps={push:!1},h.contextTypes={router:s.a.shape({history:s.a.shape({push:s.a.func.isRequired,replace:s.a.func.isRequired}).isRequired,staticContext:s.a.object}).isRequired},e.a=h},function(t,e,r){"use strict";var n=r(5),i=r.n(n),o=r(1),s=r.n(o),a=r(27),u=r.n(a);var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.enable=function(t){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(t)},e.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},e.prototype.componentWillMount=function(){u()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},e.prototype.componentWillReceiveProps=function(t){t.when?this.props.when&&this.props.message===t.message||this.enable(t.message):this.disable()},e.prototype.componentWillUnmount=function(){this.disable()},e.prototype.render=function(){return null},e}(i.a.Component);c.propTypes={when:s.a.bool,message:s.a.oneOfType([s.a.func,s.a.string]).isRequired},c.defaultProps={when:!0},c.contextTypes={router:s.a.shape({history:s.a.shape({block:s.a.func.isRequired}).isRequired}).isRequired},e.a=c},function(t,e,r){"use strict";var n=r(9),i=r.n(n),o=r(5),s=r.n(o),a=r(1),u=r.n(a),c=r(679),f=r.n(c),l=r(91);function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var p=function(t){function e(){var r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n=h(this,t.call.apply(t,[this].concat(o))),n.history=f()(n.props),h(n,r)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){i()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},e.prototype.render=function(){return s.a.createElement(l.a,{history:this.history,children:this.props.children})},e}(s.a.Component);p.propTypes={initialEntries:u.a.array,initialIndex:u.a.number,getUserConfirmation:u.a.func,keyLength:u.a.number,children:u.a.node},e.a=p},function(t,e,r){"use strict";r.r(e);var n=r(9),i=r.n(n),o=r(5),s=r.n(o),a=r(1),u=r.n(a),c=r(676),f=r.n(c),l=r(91).a;function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var p=function(t){function e(){var r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n=h(this,t.call.apply(t,[this].concat(o))),n.history=f()(n.props),h(n,r)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){i()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},e.prototype.render=function(){return s.a.createElement(l,{history:this.history,children:this.props.children})},e}(s.a.Component);p.propTypes={basename:u.a.string,forceRefresh:u.a.bool,getUserConfirmation:u.a.func,keyLength:u.a.number,children:u.a.node};var d=p,m=r(675),g=r.n(m);function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var y=function(t){function e(){var r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n=v(this,t.call.apply(t,[this].concat(o))),n.history=g()(n.props),v(n,r)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){i()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},e.prototype.render=function(){return s.a.createElement(l,{history:this.history,children:this.props.children})},e}(s.a.Component);y.propTypes={basename:u.a.string,getUserConfirmation:u.a.func,hashType:u.a.oneOf(["hashbang","noslash","slash"]),children:u.a.node};var b=y,w=r(27),_=r.n(w),k=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function S(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var x=function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)},E=function(t){function e(){var r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n=S(this,t.call.apply(t,[this].concat(o))),n.handleClick=function(t){if(n.props.onClick&&n.props.onClick(t),!t.defaultPrevented&&0===t.button&&!n.props.target&&!x(t)){t.preventDefault();var e=n.context.router.history,r=n.props,i=r.replace,o=r.to;i?e.replace(o):e.push(o)}},S(n,r)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(){var t=this.props,e=(t.replace,t.to),r=t.innerRef,n=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(t,["replace","to","innerRef"]);_()(this.context.router,"You should not use <Link> outside a <Router>");var i=this.context.router.history.createHref("string"==typeof e?{pathname:e}:e);return s.a.createElement("a",k({},n,{onClick:this.handleClick,href:i,ref:r}))},e}(s.a.Component);E.propTypes={onClick:u.a.func,target:u.a.string,replace:u.a.bool,to:u.a.oneOfType([u.a.string,u.a.object]).isRequired,innerRef:u.a.oneOfType([u.a.string,u.a.func])},E.defaultProps={replace:!1},E.contextTypes={router:u.a.shape({history:u.a.shape({push:u.a.func.isRequired,replace:u.a.func.isRequired,createHref:u.a.func.isRequired}).isRequired}).isRequired};var C=E,A=r(242).a,M=r(134).a,I=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var O=function(t){var e=t.to,r=t.exact,n=t.strict,i=t.location,o=t.activeClassName,a=t.className,u=t.activeStyle,c=t.style,f=t.isActive,l=t.ariaCurrent,h=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(t,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","ariaCurrent"]);return s.a.createElement(M,{path:"object"===(void 0===e?"undefined":T(e))?e.pathname:e,exact:r,strict:n,location:i,children:function(t){var r=t.location,n=t.match,i=!!(f?f(n,r):n);return s.a.createElement(C,I({to:e,className:i?[a,o].filter(function(t){return t}).join(" "):a,style:i?I({},c,u):c,"aria-current":i&&l},h))}})};O.propTypes={to:C.propTypes.to,exact:u.a.bool,strict:u.a.bool,location:u.a.object,activeClassName:u.a.string,className:u.a.string,activeStyle:u.a.object,style:u.a.object,isActive:u.a.func,ariaCurrent:u.a.oneOf(["page","step","location","true"])},O.defaultProps={activeClassName:"active",ariaCurrent:"true"};var B=O,P=r(241).a,N=r(240).a,R=r(239).a,F=r(238).a,j=r(90).a,L=r(237).a;r.d(e,"BrowserRouter",function(){return d}),r.d(e,"HashRouter",function(){return b}),r.d(e,"Link",function(){return C}),r.d(e,"MemoryRouter",function(){return A}),r.d(e,"NavLink",function(){return B}),r.d(e,"Prompt",function(){return P}),r.d(e,"Redirect",function(){return N}),r.d(e,"Route",function(){return M}),r.d(e,"Router",function(){return l}),r.d(e,"StaticRouter",function(){return R}),r.d(e,"Switch",function(){return F}),r.d(e,"matchPath",function(){return j}),r.d(e,"withRouter",function(){return L})},function(t,e,r){"use strict";var n,i=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),s=r(135),a=function(t){function e(e){var r=t.call(this,e)||this;return r.unfollowUser=function(){r.props.ribbit.unfollowUser(r.props.userInfo.username).then(function(){r.setState({following:!1})}).catch(function(t){alert(t)})},r.followUser=function(){r.props.ribbit.followUser(r.props.userInfo.username).then(function(){r.setState({following:!0})}).catch(function(t){alert(t)})},r.state={following:!1,mouseOver:!1},r}return i(e,t),e.prototype.componentDidMount=function(){this.initState(this.props.userInfo)},e.prototype.componentWillReceiveProps=function(t){if(!this.props.userInfo||t.userInfo.username!==this.props.userInfo.username)return this.initState(t.userInfo)},e.prototype.initState=function(t){if(t){var e=t.username,r=!!this.props.ribbit.settings.followingUsernames.filter(function(t){return t.username===e}).length;this.setState({following:r})}},e.prototype.render=function(){var t=this,e=this.props.userInfo;this.props.ribbit;if(!e)return null;var r=s.renderMarkdown(e.bio||"ribbit, ribbit, ribbit...");return o.createElement("div",{className:"profile-card card"},o.createElement("div",{className:"cover",style:{backgroundImage:e.cover?'url("'+e.cover+'")':null}}),o.createElement("div",{className:"avatar",style:{backgroundImage:'url("'+e.avatar+'")'}}),o.createElement("div",{className:"name-group"},o.createElement("p",{className:"name"},e.name),o.createElement("p",{className:"username"},"@",e.username)),this.props.ribbit.userInfo.username===this.props.userInfo.username?null:o.createElement("div",{className:"button-group"},this.state.following?this.state.mouseOver?o.createElement("div",{className:"follow-btn",onMouseEnter:function(){return t.setState({mouseOver:!0})},onMouseLeave:function(){return t.setState({mouseOver:!1})},onClick:this.unfollowUser},"Unfollow"):o.createElement("div",{className:"follow-btn",onMouseEnter:function(){return t.setState({mouseOver:!0})},onMouseLeave:function(){return t.setState({mouseOver:!1})}},"Following"):o.createElement("div",{className:"follow-btn",onClick:this.followUser},"Follow")),o.createElement("div",{className:"bio",dangerouslySetInnerHTML:{__html:r}}))},e}(o.Component);e.default=a},function(t,e,r){"use strict";t.exports=class{constructor(t,e){this._options=e||{},Object.assign(this,t)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(752)),i=o(r(248));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)(n.default,1),t.exports=e.default},function(t,e,r){"use strict";const n=r(168);t.exports=function(t){const e=t||100;var r=[];return n(function(t){for(r=r.concat(t);r.length>=e;){const t=e,n=r.slice(0,t);r=r.slice(t),this.queue(n)}},function(t){r.length&&(this.queue(r),r=[]),this.queue(null)})}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(r,n,i){return t(r,e,n,i)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(137),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var n,i=r(788),o=(n=i)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol;function a(t){return s&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return a(t)?(0,o.default)(t):t},e.isAsync=a},function(t,e,r){"use strict";t.exports={PROTOCOL:"/ipfs/ping/1.0.0",PING_LENGTH:32}},function(t,e,r){"use strict";t.exports={relay:"/libp2p/circuit/relay/0.1.0"}},function(t,e,r){"use strict";const n=r(8),i=r(47),o=r(92),s=r(114),a=s("libp2p:circuit:stream-handler");a.err=s("libp2p:circuit:error:stream-handler");t.exports=class{constructor(t,e,r,i){this.conn=t,this.stream=null,this.shake=null,this.timeout=e||6e4,this.maxLength=i||4096,"function"==typeof e&&(this.timeout=r||6e4),this.stream=o({timeout:this.timeout},e),this.shake=this.stream.handshake,n(this.stream,t,this.stream)}isValid(){return this.conn&&this.shake&&this.stream}read(t){this.isValid()||t(new Error("handler is not in a valid state")),i.decodeFromReader(this.shake,{maxLength:this.maxLength},(e,r)=>e?(a.err(e),t(e)):t(null,r))}write(t,e){e=e||(()=>{}),this.isValid()||e(new Error("handler is not in a valid state")),n(n.values([t]),i.encode(),n.collect((t,r)=>{if(t)return a.err(t),this.shake.abort(t),e(t);r.forEach(t=>this.shake.write(t)),e()}))}getRawConn(){return this.conn}rest(){const t=this.shake.rest();return this.conn=null,this.stream=null,this.shake=null,t}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var n,i=r(844),o=(n=i)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol;function a(t){return s&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return a(t)?(0,o.default)(t):t},e.isAsync=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(261),o=(n=i)&&n.__esModule?n:{default:n};e.default=o.default,t.exports=e.default},function(t,e){t.exports=function(t){return t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var n,i=r(869),o=(n=i)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol;function a(t){return s&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return a(t)?(0,o.default)(t):t},e.isAsync=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={},t.exports=e.default},function(t,e,r){"use strict";e.Listener=e.listener=r(881),e.Dialer=e.dialer=r(864),e.matchSemver=r(863),e.matchExact=r(418)},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(173),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){((0,n.default)(t)?h:p)(t,(0,f.default)(e),r)};var n=l(r(10)),i=l(r(428)),o=l(r(427)),s=l(r(425)),a=l(r(4)),u=l(r(262)),c=l(r(174)),f=l(r(62));function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e,r){r=(0,u.default)(r||a.default);var n=0,o=0,s=t.length;function f(t,e){t?r(t):++o!==s&&e!==i.default||r(null)}for(0===s&&r(null);n<s;n++)e(t[n],n,(0,c.default)(f))}var p=(0,s.default)(o.default,1/0);t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e){function r(t,e,r){var n=t.length;if(!n)return r(e);function i(){--n||r(e)}t.forEach(function(t){t?t(e,i):i()}),n||i()}t.exports=function(t){return function(e,n){!function i(){e?r(t,e,n):t.length?t[0]?t[0](null,function(e,o){e?(t.shift(),!0===e?i():r(t,e,n)):n(null,o)}):(t.shift(),i()):n(!0)}()}}},function(t,e,r){"use strict";(function(t){const n=r(66),i=r(30),o=r(81),s=r(436),a=r(268),u=r(141),c=u("libp2p:secio");c.error=u("libp2p:secio:error");const f=n(r(916)),l=r(267);e.createProposal=(t=>(t.proposal.out={rand:o.randomBytes(16),pubkey:t.key.local.public.bytes,exchanges:l.exchanges.join(","),ciphers:l.ciphers.join(","),hashes:l.hashes.join(",")},t.proposalEncoded.out=f.Propose.encode(t.proposal.out),t.proposalEncoded.out)),e.createExchange=((e,r)=>{o.keys.generateEphemeralKeyPair(e.protocols.local.curveT,(n,i)=>{if(n)return r(n);e.ephemeralKey.local=i.key,e.shared.generate=i.genSharedKey;const o=t.concat([e.proposalEncoded.out,e.proposalEncoded.in,e.ephemeralKey.local]);e.key.local.sign(o,(t,n)=>{if(t)return r(t);e.exchange.out={epubkey:e.ephemeralKey.local,signature:n},r(null,f.Exchange.encode(e.exchange.out))})})}),e.identify=((t,e,r)=>{c("1.1 identify"),t.proposalEncoded.in=e,t.proposal.in=f.Propose.decode(e);const n=t.proposal.in.pubkey;t.key.remote=o.keys.unmarshalPublicKey(n),i.createFromPubKey(n.toString("base64"),(e,n)=>{if(e)return r(e);if(t.id.remote){if(t.id.remote.toB58String()!==n.toB58String())return r(new Error("dialed to the wrong peer, Ids do not match"))}else t.id.remote=n;c("1.1 identify - %s - identified remote peer as %s",t.id.local.toB58String(),t.id.remote.toB58String()),r()})}),e.selectProtocols=((t,e)=>{c("1.2 selection");const r={pubKeyBytes:t.key.local.public.bytes,exchanges:l.exchanges,hashes:l.hashes,ciphers:l.ciphers,nonce:t.proposal.out.rand},n={pubKeyBytes:t.proposal.in.pubkey,exchanges:t.proposal.in.exchanges.split(","),hashes:t.proposal.in.hashes.split(","),ciphers:t.proposal.in.ciphers.split(","),nonce:t.proposal.in.rand};l.selectBest(r,n,(r,n)=>{if(r)return e(r);t.protocols.remote={order:n.order,curveT:n.curveT,cipherT:n.cipherT,hashT:n.hashT},t.protocols.local={order:n.order,curveT:n.curveT,cipherT:n.cipherT,hashT:n.hashT},e()})}),e.verify=((e,r,n)=>{c("2.1. verify"),e.exchange.in=f.Exchange.decode(r),e.ephemeralKey.remote=e.exchange.in.epubkey;const i=t.concat([e.proposalEncoded.in,e.proposalEncoded.out,e.ephemeralKey.remote]);e.key.remote.verify(i,e.exchange.in.signature,(t,e)=>t?n(t):e?(c("2.1. verify - signature verified"),void n()):n(new Error("Bad signature")))}),e.generateKeys=((t,e)=>{c("2.2. keys"),a([e=>t.shared.generate(t.exchange.in.epubkey,e),(e,r)=>{t.shared.secret=e,o.keys.keyStretcher(t.protocols.local.cipherT,t.protocols.local.hashT,t.shared.secret,r)},(e,r)=>{if(t.protocols.local.order>0)t.protocols.local.keys=e.k1,t.protocols.remote.keys=e.k2;else{if(!(t.protocols.local.order<0))return r(new Error("you are trying to talk to yourself"));t.protocols.local.keys=e.k2,t.protocols.remote.keys=e.k1}c("2.3. mac + cipher"),s([e=>l.makeMacAndCipher(t.protocols.local,e),e=>l.makeMacAndCipher(t.protocols.remote,e)],r)}],e)}),e.verifyNonce=((t,e)=>{const r=t.proposal.out.rand;if(!r.equals(e))throw new Error(`Failed to read our encrypted nonce: ${r.toString("hex")} != ${e.toString("hex")}`)})}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(t){const n=r(53),i=r(47),o=r(8),s=r(81),a=r(436);var u,c,f;e.exchanges=["P-256","P-384","P-521"],e.ciphers=["AES-256","AES-128"],e.hashes=["SHA256","SHA512"],e.theBest=((t,e,r)=>{let n,i;if(t<0)n=r,i=e;else{if(!(t>0))return e[0];n=e,i=r}for(let t of n)for(let e of i)if(t===e)return t;throw new Error("No algorithms in common!")}),e.makeMacAndCipher=((t,e)=>{a([r=>(u=t.hashT,c=t.keys.macKey,e=r,void s.hmac.create(u,c,e)),e=>(function(t,e,r,n){if("AES-128"===t||"AES-256"===t)return s.aes.create(r,e,n);n(new Error(`unrecognized cipher type: ${t}`))})(t.cipherT,t.keys.iv,t.keys.cipherKey,e)],(r,n)=>{if(r)return e(r);t.mac=n[0],t.cipher=n[1],e()})}),e.selectBest=((r,n,i)=>{e.digest(t.concat([n.pubKeyBytes,r.nonce]),(o,s)=>{if(o)return i(o);e.digest(t.concat([r.pubKeyBytes,n.nonce]),(o,a)=>{if(o)return i(o);const u=t.compare(s,a);if(0===u)return i(new Error("you are trying to talk to yourself"));i(null,{curveT:e.theBest(u,r.exchanges,n.exchanges),cipherT:e.theBest(u,r.ciphers,n.ciphers),hashT:e.theBest(u,r.hashes,n.hashes),order:u})})})}),e.digest=((t,e)=>{n.digest(t,"sha2-256",t.length,e)}),e.write=function(t,e,r){r=r||(()=>{}),o(o.values([e]),i.encode({fixed:!0,bytes:4}),o.collect((e,n)=>{if(e)return r(e);t.shake.write(n[0]),r()}))},e.read=function(t,e){i.decodeFromReader(t,{fixed:!0,bytes:4},e)}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(e=(0,o.default)(e||i.default),!(0,n.default)(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function c(e){var n=(0,u.default)(t[r++]);e.push((0,a.default)(f)),n.apply(null,e)}function f(n){if(n||r===t.length)return e.apply(null,arguments);c((0,s.default)(arguments,1))}c([])};var n=c(r(31)),i=c(r(4)),o=c(r(270)),s=c(r(178)),a=c(r(269)),u=c(r(177));function c(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){(function(n){r(599);var i=r(450);function o(t,e){function r(){i(),e()}function n(t){i(),e(t)}function i(){t.removeListener("close",r),t.removeListener("error",n)}t.on("close",r),t.on("error",n)}function o(t){t.destroy?t.destroy():console.error("warning, stream-to-pull-stream: \nthe wrapped node-stream does not implement `destroy`, \nthis may cause resource leaks.")}function s(t,e,r){var s,a,u=!1;function c(){a||(a=!0,r&&r(!0===s?null:s))}function f(){u||(u=!0,h(),s?c():t(s=!0,c))}function l(e){h(),s||t(s=e,c)}function h(){e.on("finish",f),e.removeListener("close",f),e.removeListener("error",l)}e.on("close",f),e.on("finish",f),e.on("error",l),n.nextTick(function(){i(function(r){t(null,function(t,n){if(s=s||t,!0===t)return e._isStdio?c():e.end();if(s=s||t)return o(e),c();e._isStdio?e.write(n,function(){r()}):!1===e.write(n)?e.once("drain",r):r()})})})}function a(t){var e,r=[],n=[],i=!1;function s(){for(;(r.length||e)&&n.length;)n.shift()(r.length?null:e,r.shift());!r.length&&i&&(i=!1,t.resume())}return t.on("data",function(e){r.push(e),s(),r.length&&t.pause&&(i=!0,t.pause())}),t.on("end",function(){e=!0,s()}),t.on("close",function(){e=!0,s()}),t.on("error",function(t){e=t,s()}),function(r,i){if(!i)throw new Error("*must* provide cb");if(r){function a(){for(;n.length;)n.shift()(r);i(r)}if(e)return a();t.once("close",a),o(t)}else n.push(i),s()}}var u=a,c=function(t,e){return function(r){return s(r,t,e)}},f=function(t){return a(t)};(e=t.exports=function(t,e){return t.writable&&t.write?t.readable?function(r){return s(r,t,e),a(t)}:c(t,e):f(t)}).sink=c,e.source=f,e.read=u,e.read1=a,e.read2=function(t){var e,r=!1,n=!1;function i(){var r=t.read();if(null!==r&&e){var n=e;e=null,n(null,r)}}return t.on("readable",function(){n=!0,e&&i()}).on("end",function(){r=!0,e&&e(r)}).on("error",function(t){r=t,e&&e(r)}),function(t,o){e=o,r?o(r):n&&i()}},e.duplex=function(t,e){return{source:f(t),sink:c(t,e)}},e.transform=function(t){return function(e){var r=f(t);return c(t)(e),r}}}).call(this,r(2))},function(t,e,r){var n=r(115),i=r(116);function o(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=o,i(o.prototype),o.prototype.onError=function(t,e){var r=new Error(t);return r.type="TransportError",r.description=e,this.emit("error",r),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(t){var e=n.decodePacket(t,this.socket.binaryType);this.onPacket(e)},o.prototype.onPacket=function(t){this.emit("packet",t)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,r){(function(e){var n=r(991);t.exports=function(t){var r=t.xdomain,i=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!r||n))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!i&&o)return new XDomainRequest}catch(t){}if(!r)try{return new(e[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}}).call(this,r(7))},function(t,e,r){var n=r(996)("socket.io-parser"),i=r(116),o=r(994),s=r(460),a=r(459);function u(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=u,e.Decoder=l;var c=e.ERROR+'"encode error"';function f(t){var r=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(r+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(r+=t.nsp+","),null!=t.id&&(r+=t.id),null!=t.data){var i=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(t.data);if(!1===i)return c;r+=i}return n("encoded %j as %s",t,r),r}function l(){this.reconstructor=null}function h(t){this.reconPack=t,this.buffers=[]}function p(t){return{type:e.ERROR,data:"parser error: "+t}}u.prototype.encode=function(t,r){(n("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)?function(t,e){o.removeBlobs(t,function(t){var r=o.deconstructPacket(t),n=f(r.packet),i=r.buffers;i.unshift(n),e(i)})}(t,r):r([f(t)])},i(l.prototype),l.prototype.add=function(t){var r;if("string"==typeof t)r=function(t){var r=0,i={type:Number(t.charAt(0))};if(null==e.types[i.type])return p("unknown packet type "+i.type);if(e.BINARY_EVENT===i.type||e.BINARY_ACK===i.type){for(var o="";"-"!==t.charAt(++r)&&(o+=t.charAt(r),r!=t.length););if(o!=Number(o)||"-"!==t.charAt(r))throw new Error("Illegal attachments");i.attachments=Number(o)}if("/"===t.charAt(r+1))for(i.nsp="";++r;){var a=t.charAt(r);if(","===a)break;if(i.nsp+=a,r===t.length)break}else i.nsp="/";var u=t.charAt(r+1);if(""!==u&&Number(u)==u){for(i.id="";++r;){var a=t.charAt(r);if(null==a||Number(a)!=a){--r;break}if(i.id+=t.charAt(r),r===t.length)break}i.id=Number(i.id)}if(t.charAt(++r)){var c=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(r)),f=!1!==c&&(i.type===e.ERROR||s(c));if(!f)return p("invalid payload");i.data=c}return n("decoded %s as %j",t,i),i}(t),e.BINARY_EVENT===r.type||e.BINARY_ACK===r.type?(this.reconstructor=new h(r),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",r)):this.emit("decoded",r);else{if(!a(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(r=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",r))}},l.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},h.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},h.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){((0,n.default)(t)?h:p)(t,(0,f.default)(e),r)};var n=l(r(10)),i=l(r(286)),o=l(r(478)),s=l(r(477)),a=l(r(4)),u=l(r(289)),c=l(r(288)),f=l(r(119));function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e,r){r=(0,u.default)(r||a.default);var n=0,o=0,s=t.length;function f(t,e){t?r(t):++o!==s&&e!==i.default||r(null)}for(0===s&&r(null);n<s;n++)e(t[n],n,(0,c.default)(f))}var p=(0,s.default)(o.default,1/0);t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(480),o=(n=i)&&n.__esModule?n:{default:n};e.default=o.default,t.exports=e.default},function(t,e){var r=9007199254740991,n="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",s=/^(?:0|[1-9]\d*)$/;function a(t,e){return function(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}(e,function(e){return t[e]})}var u,c,f=Object.prototype,l=f.hasOwnProperty,h=f.toString,p=f.propertyIsEnumerable,d=(u=Object.keys,c=Object,function(t){return u(c(t))});function m(t,e){var r=y(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&b(t)}(t)&&l.call(t,"callee")&&(!p.call(t,"callee")||h.call(t)==n)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],i=r.length,o=!!i;for(var s in t)!e&&!l.call(t,s)||o&&("length"==s||v(s,i))||r.push(s);return r}function g(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||f,e!==n)return d(t);var e,r,n,i=[];for(var o in Object(t))l.call(t,o)&&"constructor"!=o&&i.push(o);return i}function v(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||s.test(t))&&t>-1&&t%1==0&&t<e}var y=Array.isArray;function b(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?h.call(t):"";return e==i||e==o}(t)}t.exports=function(t){return t?a(t,function(t){return b(t)?m(t):g(t)}(t)):[]}},function(t,e,r){(function(e){var r="Expected a function",n=NaN,i="[object Symbol]",o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,f="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,h=f||l||Function("return this")(),p=Object.prototype.toString,d=Math.max,m=Math.min,g=function(){return h.Date.now()};function v(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function y(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&p.call(t)==i}(t))return n;if(v(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=v(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var r=a.test(t);return r||u.test(t)?c(t.slice(2),r?2:8):s.test(t)?n:+t}t.exports=function(t,e,n){var i,o,s,a,u,c,f=0,l=!1,h=!1,p=!0;if("function"!=typeof t)throw new TypeError(r);function b(e){var r=i,n=o;return i=o=void 0,f=e,a=t.apply(n,r)}function w(t){var r=t-c;return void 0===c||r>=e||r<0||h&&t-f>=s}function _(){var t=g();if(w(t))return k(t);u=setTimeout(_,function(t){var r=e-(t-c);return h?m(r,s-(t-f)):r}(t))}function k(t){return u=void 0,p&&i?b(t):(i=o=void 0,a)}function S(){var t=g(),r=w(t);if(i=arguments,o=this,c=t,r){if(void 0===u)return function(t){return f=t,u=setTimeout(_,e),l?b(t):a}(c);if(h)return u=setTimeout(_,e),b(c)}return void 0===u&&(u=setTimeout(_,e)),a}return e=y(e)||0,v(n)&&(l=!!n.leading,s=(h="maxWait"in n)?d(y(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),S.cancel=function(){void 0!==u&&clearTimeout(u),f=0,i=c=o=u=void 0},S.flush=function(){return void 0===u?a:k(g())},S}}).call(this,r(7))},function(t,e,r){"use strict";t.exports={maxProvidersPerRequest:3,providerRequestTimeout:1e4,hasBlockTimeout:15e3,provideTimeout:15e3,kMaxPriority:Math.pow(2,31)-1,rebroadcastDelay:1e4,maxListeners:1e3}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(475),o=(n=i)&&n.__esModule?n:{default:n};e.default=o.default,t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(r,n,i){return t(r,e,n,i)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(e=(0,o.default)(e||i.default),!(0,n.default)(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function c(e){var n=(0,u.default)(t[r++]);e.push((0,a.default)(f)),n.apply(null,e)}function f(n){if(n||r===t.length)return e.apply(null,arguments);c((0,s.default)(arguments,1))}c([])};var n=c(r(31)),i=c(r(4)),o=c(r(284)),s=c(r(186)),a=c(r(283)),u=c(r(71));function c(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,n.default)(i.default,t,e)};var n=o(r(479)),i=o(r(1087));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default},function(t,e,r){"use strict";const n=r(291);function i(t){if("number"==typeof t){if(i.codes[t])return i.codes[t];throw new Error("no protocol with code: "+t)}if("string"==typeof t||t instanceof String){if(i.names[t])return i.names[t];throw new Error("no protocol with name: "+t)}throw new Error("invalid protocol id type: "+t)}function o(t,e,r,n){return{code:t,size:e,name:r,resolvable:Boolean(n)}}i.lengthPrefixedVarSize=-1,i.V=-1,i.table=[[4,32,"ip4"],[6,16,"tcp"],[17,16,"udp"],[33,16,"dccp"],[41,128,"ip6"],[54,-1,"dns4","resolvable"],[55,-1,"dns6","resolvable"],[56,-1,"dnsaddr","resolvable"],[132,16,"sctp"],[302,0,"utp"],[421,i.lengthPrefixedVarSize,"ipfs"],[480,0,"http"],[443,0,"https"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[290,0,"p2p-circuit"]],i.names={},i.codes={},n(i.table,function(t){const e=o.apply(null,t);i.codes[e.code]=e,i.names[e.name]=e}),i.object=o,t.exports=i},function(t,e,r){(function(t,r){var n=200,i="Expected a function",o="__lodash_hash_undefined__",s=1,a=2,u=1/0,c=9007199254740991,f="[object Arguments]",l="[object Array]",h="[object Boolean]",p="[object Date]",d="[object Error]",m="[object Function]",g="[object GeneratorFunction]",v="[object Map]",y="[object Number]",b="[object Object]",w="[object RegExp]",_="[object Set]",k="[object String]",S="[object Symbol]",x="[object ArrayBuffer]",E="[object DataView]",C=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A=/^\w*$/,M=/^\./,I=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T=/\\(\\)?/g,O=/^\[object .+?Constructor\]$/,B=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[f]=P[l]=P[x]=P[h]=P[E]=P[p]=P[d]=P[m]=P[v]=P[y]=P[b]=P[w]=P[_]=P[k]=P["[object WeakMap]"]=!1;var N="object"==typeof t&&t&&t.Object===Object&&t,R="object"==typeof self&&self&&self.Object===Object&&self,F=N||R||Function("return this")(),j="object"==typeof e&&e&&!e.nodeType&&e,L=j&&"object"==typeof r&&r&&!r.nodeType&&r,D=L&&L.exports===j&&N.process,U=function(){try{return D&&D.binding("util")}catch(t){}}(),z=U&&U.isTypedArray;function H(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function K(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function q(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function V(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function W(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var G,Y,$,Z=Array.prototype,X=Function.prototype,J=Object.prototype,Q=F["__core-js_shared__"],tt=(G=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",et=X.toString,rt=J.hasOwnProperty,nt=J.toString,it=RegExp("^"+et.call(rt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=F.Symbol,st=F.Uint8Array,at=J.propertyIsEnumerable,ut=Z.splice,ct=(Y=Object.keys,$=Object,function(t){return Y($(t))}),ft=Vt(F,"DataView"),lt=Vt(F,"Map"),ht=Vt(F,"Promise"),pt=Vt(F,"Set"),dt=Vt(F,"WeakMap"),mt=Vt(Object,"create"),gt=Qt(ft),vt=Qt(lt),yt=Qt(ht),bt=Qt(pt),wt=Qt(dt),_t=ot?ot.prototype:void 0,kt=_t?_t.valueOf:void 0,St=_t?_t.toString:void 0;function xt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Et(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ct(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function At(t){var e=-1,r=t?t.length:0;for(this.__data__=new Ct;++e<r;)this.add(t[e])}function Mt(t){this.__data__=new Et(t)}function It(t,e){var r=ne(t)||re(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!rt.call(t,o)||i&&("length"==o||Gt(o,n))||r.push(o);return r}function Tt(t,e){for(var r=t.length;r--;)if(ee(t[r][0],e))return r;return-1}xt.prototype.clear=function(){this.__data__=mt?mt(null):{}},xt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},xt.prototype.get=function(t){var e=this.__data__;if(mt){var r=e[t];return r===o?void 0:r}return rt.call(e,t)?e[t]:void 0},xt.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:rt.call(e,t)},xt.prototype.set=function(t,e){return this.__data__[t]=mt&&void 0===e?o:e,this},Et.prototype.clear=function(){this.__data__=[]},Et.prototype.delete=function(t){var e=this.__data__,r=Tt(e,t);return!(r<0||(r==e.length-1?e.pop():ut.call(e,r,1),0))},Et.prototype.get=function(t){var e=this.__data__,r=Tt(e,t);return r<0?void 0:e[r][1]},Et.prototype.has=function(t){return Tt(this.__data__,t)>-1},Et.prototype.set=function(t,e){var r=this.__data__,n=Tt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},Ct.prototype.clear=function(){this.__data__={hash:new xt,map:new(lt||Et),string:new xt}},Ct.prototype.delete=function(t){return qt(this,t).delete(t)},Ct.prototype.get=function(t){return qt(this,t).get(t)},Ct.prototype.has=function(t){return qt(this,t).has(t)},Ct.prototype.set=function(t,e){return qt(this,t).set(t,e),this},At.prototype.add=At.prototype.push=function(t){return this.__data__.set(t,o),this},At.prototype.has=function(t){return this.__data__.has(t)},Mt.prototype.clear=function(){this.__data__=new Et},Mt.prototype.delete=function(t){return this.__data__.delete(t)},Mt.prototype.get=function(t){return this.__data__.get(t)},Mt.prototype.has=function(t){return this.__data__.has(t)},Mt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Et){var i=r.__data__;if(!lt||i.length<n-1)return i.push([t,e]),this;r=this.__data__=new Ct(i)}return r.set(t,e),this};var Ot,Bt,Pt=(Ot=function(t,e){return t&&Nt(t,e,le)},function(t,e){if(null==t)return t;if(!ie(t))return Ot(t,e);for(var r=t.length,n=Bt?r:-1,i=Object(t);(Bt?n--:++n<r)&&!1!==e(i[n],n,i););return t}),Nt=function(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===r(o[u],u,o))break}return e}}();function Rt(t,e){for(var r=0,n=(e=Yt(e,t)?[e]:Ht(e)).length;null!=t&&r<n;)t=t[Jt(e[r++])];return r&&r==n?t:void 0}function Ft(t,e){return null!=t&&e in Object(t)}function jt(t,e,r,n,i){return t===e||(null==t||null==e||!ae(t)&&!ue(e)?t!=t&&e!=e:function(t,e,r,n,i,o){var u=ne(t),c=ne(e),m=l,g=l;u||(m=(m=Wt(t))==f?b:m);c||(g=(g=Wt(e))==f?b:g);var C=m==b&&!q(t),A=g==b&&!q(e),M=m==g;if(M&&!C)return o||(o=new Mt),u||fe(t)?Kt(t,e,r,n,i,o):function(t,e,r,n,i,o,u){switch(r){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x:return!(t.byteLength!=e.byteLength||!n(new st(t),new st(e)));case h:case p:case y:return ee(+t,+e);case d:return t.name==e.name&&t.message==e.message;case w:case k:return t==e+"";case v:var c=V;case _:var f=o&a;if(c||(c=W),t.size!=e.size&&!f)return!1;var l=u.get(t);if(l)return l==e;o|=s,u.set(t,e);var m=Kt(c(t),c(e),n,i,o,u);return u.delete(t),m;case S:if(kt)return kt.call(t)==kt.call(e)}return!1}(t,e,m,r,n,i,o);if(!(i&a)){var I=C&&rt.call(t,"__wrapped__"),T=A&&rt.call(e,"__wrapped__");if(I||T){var O=I?t.value():t,B=T?e.value():e;return o||(o=new Mt),r(O,B,n,i,o)}}if(!M)return!1;return o||(o=new Mt),function(t,e,r,n,i,o){var s=i&a,u=le(t),c=u.length,f=le(e).length;if(c!=f&&!s)return!1;for(var l=c;l--;){var h=u[l];if(!(s?h in e:rt.call(e,h)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var m=s;++l<c;){h=u[l];var g=t[h],v=e[h];if(n)var y=s?n(v,g,h,e,t,o):n(g,v,h,t,e,o);if(!(void 0===y?g===v||r(g,v,n,i,o):y)){d=!1;break}m||(m="constructor"==h)}if(d&&!m){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,r,n,i,o)}(t,e,jt,r,n,i))}function Lt(t){return!(!ae(t)||tt&&tt in t)&&(oe(t)||q(t)?it:O).test(Qt(t))}function Dt(t){return"function"==typeof t?t:null==t?he:"object"==typeof t?ne(t)?function(t,e){if(Yt(t)&&$t(e))return Zt(Jt(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:Rt(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){var n,i=-1,o=(e=Yt(e,t)?[e]:Ht(e)).length;for(;++i<o;){var s=Jt(e[i]);if(!(n=null!=t&&r(t,s)))break;t=t[s]}if(n)return n;return!!(o=t?t.length:0)&&se(o)&&Gt(s,o)&&(ne(t)||re(t))}(t,e,Ft)}(r,t):jt(e,n,void 0,s|a)}}(t[0],t[1]):function(t){var e=function(t){var e=le(t),r=e.length;for(;r--;){var n=e[r],i=t[n];e[r]=[n,i,$t(i)]}return e}(t);if(1==e.length&&e[0][2])return Zt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var i=r.length,o=i,u=!n;if(null==t)return!o;for(t=Object(t);i--;){var c=r[i];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){var f=(c=r[i])[0],l=t[f],h=c[1];if(u&&c[2]){if(void 0===l&&!(f in t))return!1}else{var p=new Mt;if(n)var d=n(l,h,f,t,e,p);if(!(void 0===d?jt(h,l,n,s|a,p):d))return!1}}return!0}(r,t,e)}}(t):Yt(e=t)?(r=Jt(e),function(t){return null==t?void 0:t[r]}):function(t){return function(e){return Rt(e,t)}}(e);var e,r}function Ut(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||J,e!==n)return ct(t);var e,r,n,i=[];for(var o in Object(t))rt.call(t,o)&&"constructor"!=o&&i.push(o);return i}function zt(t,e){var r=-1,n=ie(t)?Array(t.length):[];return Pt(t,function(t,i,o){n[++r]=e(t,i,o)}),n}function Ht(t){return ne(t)?t:Xt(t)}function Kt(t,e,r,n,i,o){var u=i&a,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var h=-1,p=!0,d=i&s?new At:void 0;for(o.set(t,e),o.set(e,t);++h<c;){var m=t[h],g=e[h];if(n)var v=u?n(g,m,h,e,t,o):n(m,g,h,t,e,o);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!K(e,function(t,e){if(!d.has(e)&&(m===t||r(m,t,n,i,o)))return d.add(e)})){p=!1;break}}else if(m!==g&&!r(m,g,n,i,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function qt(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Vt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Lt(r)?r:void 0}var Wt=function(t){return nt.call(t)};function Gt(t,e){return!!(e=null==e?c:e)&&("number"==typeof t||B.test(t))&&t>-1&&t%1==0&&t<e}function Yt(t,e){if(ne(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!ce(t))||(A.test(t)||!C.test(t)||null!=e&&t in Object(e))}function $t(t){return t==t&&!ae(t)}function Zt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(ft&&Wt(new ft(new ArrayBuffer(1)))!=E||lt&&Wt(new lt)!=v||ht&&"[object Promise]"!=Wt(ht.resolve())||pt&&Wt(new pt)!=_||dt&&"[object WeakMap]"!=Wt(new dt))&&(Wt=function(t){var e=nt.call(t),r=e==b?t.constructor:void 0,n=r?Qt(r):void 0;if(n)switch(n){case gt:return E;case vt:return v;case yt:return"[object Promise]";case bt:return _;case wt:return"[object WeakMap]"}return e});var Xt=te(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(ce(t))return St?St.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}(e);var r=[];return M.test(t)&&r.push(""),t.replace(I,function(t,e,n,i){r.push(n?i.replace(T,"$1"):e||t)}),r});function Jt(t){if("string"==typeof t||ce(t))return t;var e=t+"";return"0"==e&&1/t==-u?"-0":e}function Qt(t){if(null!=t){try{return et.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function te(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(te.Cache||Ct),r}function ee(t,e){return t===e||t!=t&&e!=e}function re(t){return function(t){return ue(t)&&ie(t)}(t)&&rt.call(t,"callee")&&(!at.call(t,"callee")||nt.call(t)==f)}te.Cache=Ct;var ne=Array.isArray;function ie(t){return null!=t&&se(t.length)&&!oe(t)}function oe(t){var e=ae(t)?nt.call(t):"";return e==m||e==g}function se(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function ae(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ue(t){return!!t&&"object"==typeof t}function ce(t){return"symbol"==typeof t||ue(t)&&nt.call(t)==S}var fe=z?function(t){return function(e){return t(e)}}(z):function(t){return ue(t)&&se(t.length)&&!!P[nt.call(t)]};function le(t){return ie(t)?It(t):Ut(t)}function he(t){return t}r.exports=function(t,e){return(ne(t)?H:zt)(t,Dt(e))}}).call(this,r(7),r(24)(t))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){var n=r(11);r(56),r(13),(t.exports=n.pss=n.pss||{}).create=function(t){3===arguments.length&&(t={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var e,r=t.md,i=t.mgf,o=r.digestLength,s=t.salt||null;if("string"==typeof s&&(s=n.util.createBuffer(s)),"saltLength"in t)e=t.saltLength;else{if(null===s)throw new Error("Salt length not specified or specific salt not given.");e=s.length()}if(null!==s&&s.length()!==e)throw new Error("Given salt length does not match length of given salt.");var a=t.prng||n.random,u={encode:function(t,u){var c,f,l=u-1,h=Math.ceil(l/8),p=t.digest().getBytes();if(h<o+e+2)throw new Error("Message is too long to encrypt.");f=null===s?a.getBytesSync(e):s.bytes();var d=new n.util.ByteBuffer;d.fillWithByte(0,8),d.putBytes(p),d.putBytes(f),r.start(),r.update(d.getBytes());var m=r.digest().getBytes(),g=new n.util.ByteBuffer;g.fillWithByte(0,h-e-o-2),g.putByte(1),g.putBytes(f);var v=g.getBytes(),y=h-o-1,b=i.generate(m,y),w="";for(c=0;c<y;c++)w+=String.fromCharCode(v.charCodeAt(c)^b.charCodeAt(c));var _=65280>>8*h-l&255;return(w=String.fromCharCode(w.charCodeAt(0)&~_)+w.substr(1))+m+String.fromCharCode(188)},verify:function(t,s,a){var u,c=a-1,f=Math.ceil(c/8);if(s=s.substr(-f),f<o+e+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==s.charCodeAt(f-1))throw new Error("Encoded message does not end in 0xBC.");var l=f-o-1,h=s.substr(0,l),p=s.substr(l,o),d=65280>>8*f-c&255;if(0!=(h.charCodeAt(0)&d))throw new Error("Bits beyond keysize not zero as expected.");var m=i.generate(p,l),g="";for(u=0;u<l;u++)g+=String.fromCharCode(h.charCodeAt(u)^m.charCodeAt(u));g=String.fromCharCode(g.charCodeAt(0)&~d)+g.substr(1);var v=f-o-e-2;for(u=0;u<v;u++)if(0!==g.charCodeAt(u))throw new Error("Leftmost octets not zero as expected");if(1!==g.charCodeAt(v))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var y=g.substr(-e),b=new n.util.ByteBuffer;return b.fillWithByte(0,8),b.putBytes(t),b.putBytes(y),r.start(),r.update(b.getBytes()),p===r.digest().getBytes()}};return u}},function(t,e,r){var n=r(11);r(95),r(73),r(191),r(72),r(1148),r(94),r(122),r(294),r(190),r(13);var i=n.asn1,o=t.exports=n.pki=n.pki||{},s=o.oids,a={};a.CN=s.commonName,a.commonName="CN",a.C=s.countryName,a.countryName="C",a.L=s.localityName,a.localityName="L",a.ST=s.stateOrProvinceName,a.stateOrProvinceName="ST",a.O=s.organizationName,a.organizationName="O",a.OU=s.organizationalUnitName,a.organizationalUnitName="OU",a.E=s.emailAddress,a.emailAddress="E";var u=n.pki.rsa.publicKeyValidator,c={name:"Certificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},u,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},f={name:"rsapss",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},l={name:"CertificationRequestInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},u,{name:"CertificationRequestInfo.attributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0}]}]}]},h={name:"CertificationRequest",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[l,{name:"CertificationRequest.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function p(t,e){"string"==typeof e&&(e={shortName:e});for(var r,n=null,i=0;null===n&&i<t.attributes.length;++i)r=t.attributes[i],e.type&&e.type===r.type?n=r:e.name&&e.name===r.name?n=r:e.shortName&&e.shortName===r.shortName&&(n=r);return n}o.RDNAttributesAsArray=function(t,e){for(var r,n,o,u=[],c=0;c<t.value.length;++c){r=t.value[c];for(var f=0;f<r.value.length;++f)o={},n=r.value[f],o.type=i.derToOid(n.value[0].value),o.value=n.value[1].value,o.valueTagClass=n.value[1].type,o.type in s&&(o.name=s[o.type],o.name in a&&(o.shortName=a[o.name])),e&&(e.update(o.type),e.update(o.value)),u.push(o)}return u},o.CRIAttributesAsArray=function(t){for(var e=[],r=0;r<t.length;++r)for(var n=t[r],u=i.derToOid(n.value[0].value),c=n.value[1].value,f=0;f<c.length;++f){var l={};if(l.type=u,l.value=c[f].value,l.valueTagClass=c[f].type,l.type in s&&(l.name=s[l.type],l.name in a&&(l.shortName=a[l.name])),l.type===s.extensionRequest){l.extensions=[];for(var h=0;h<l.value.length;++h)l.extensions.push(o.certificateExtensionFromAsn1(l.value[h]))}e.push(l)}return e};var d=function(t,e,r){var n={};if(t!==s["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:s.sha1},mgf:{algorithmOid:s.mgf1,hash:{algorithmOid:s.sha1}},saltLength:20});var o={},a=[];if(!i.validate(e,f,o,a)){var u=new Error("Cannot read RSASSA-PSS parameter block.");throw u.errors=a,u}return void 0!==o.hashOid&&(n.hash=n.hash||{},n.hash.algorithmOid=i.derToOid(o.hashOid)),void 0!==o.maskGenOid&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=i.derToOid(o.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=i.derToOid(o.maskGenHashOid)),void 0!==o.saltLength&&(n.saltLength=o.saltLength.charCodeAt(0)),n};function m(t){for(var e,r,o=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),s=t.attributes,a=0;a<s.length;++a){var u=(e=s[a]).value,c=i.Type.PRINTABLESTRING;"valueTagClass"in e&&(c=e.valueTagClass)===i.Type.UTF8&&(u=n.util.encodeUtf8(u)),r=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.UNIVERSAL,c,!1,u)])]),o.value.push(r)}return o}function g(t){for(var e,r=0;r<t.length;++r){if(void 0===(e=t[r]).name&&(e.type&&e.type in o.oids?e.name=o.oids[e.type]:e.shortName&&e.shortName in a&&(e.name=o.oids[a[e.shortName]])),void 0===e.type){if(!(e.name&&e.name in o.oids))throw(u=new Error("Attribute type not specified.")).attribute=e,u;e.type=o.oids[e.name]}if(void 0===e.shortName&&e.name&&e.name in a&&(e.shortName=a[e.name]),e.type===s.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=i.Type.SEQUENCE,!e.value&&e.extensions)){e.value=[];for(var n=0;n<e.extensions.length;++n)e.value.push(o.certificateExtensionToAsn1(v(e.extensions[n])))}var u;if(void 0===e.value)throw(u=new Error("Attribute value not specified.")).attribute=e,u}}function v(t,e){if(e=e||{},void 0===t.name&&t.id&&t.id in o.oids&&(t.name=o.oids[t.id]),void 0===t.id){if(!(t.name&&t.name in o.oids))throw(_=new Error("Extension ID not specified.")).extension=t,_;t.id=o.oids[t.name]}if(void 0!==t.value)return t;if("keyUsage"===t.name){var r=0,a=0,u=0;t.digitalSignature&&(a|=128,r=7),t.nonRepudiation&&(a|=64,r=6),t.keyEncipherment&&(a|=32,r=5),t.dataEncipherment&&(a|=16,r=4),t.keyAgreement&&(a|=8,r=3),t.keyCertSign&&(a|=4,r=2),t.cRLSign&&(a|=2,r=1),t.encipherOnly&&(a|=1,r=0),t.decipherOnly&&(u|=128,r=7);var c=String.fromCharCode(r);0!==u?c+=String.fromCharCode(a)+String.fromCharCode(u):0!==a&&(c+=String.fromCharCode(a)),t.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,c)}else if("basicConstraints"===t.name)t.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),t.cA&&t.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in t&&t.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.pathLenConstraint).getBytes()));else if("extKeyUsage"===t.name){t.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);var f=t.value.value;for(var l in t)!0===t[l]&&(l in s?f.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s[l]).getBytes())):-1!==l.indexOf(".")&&f.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(l).getBytes())))}else if("nsCertType"===t.name){r=0,a=0;t.client&&(a|=128,r=7),t.server&&(a|=64,r=6),t.email&&(a|=32,r=5),t.objsign&&(a|=16,r=4),t.reserved&&(a|=8,r=3),t.sslCA&&(a|=4,r=2),t.emailCA&&(a|=2,r=1),t.objCA&&(a|=1,r=0);c=String.fromCharCode(r);0!==a&&(c+=String.fromCharCode(a)),t.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,c)}else if("subjectAltName"===t.name||"issuerAltName"===t.name){t.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);for(var h=0;h<t.altNames.length;++h){c=(y=t.altNames[h]).value;if(7===y.type&&y.ip){if(null===(c=n.util.bytesFromIP(y.ip)))throw(_=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=t,_}else 8===y.type&&(c=y.oid?i.oidToDer(i.oidToDer(y.oid)):i.oidToDer(c));t.value.value.push(i.create(i.Class.CONTEXT_SPECIFIC,y.type,!1,c))}}else if("subjectKeyIdentifier"===t.name&&e.cert){var p=e.cert.generateSubjectKeyIdentifier();t.subjectKeyIdentifier=p.toHex(),t.value=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,p.getBytes())}else if("authorityKeyIdentifier"===t.name&&e.cert){t.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);f=t.value.value;if(t.keyIdentifier){var d=!0===t.keyIdentifier?e.cert.generateSubjectKeyIdentifier().getBytes():t.keyIdentifier;f.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!1,d))}if(t.authorityCertIssuer){var g=[i.create(i.Class.CONTEXT_SPECIFIC,4,!0,[m(!0===t.authorityCertIssuer?e.cert.issuer:t.authorityCertIssuer)])];f.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,g))}if(t.serialNumber){var v=n.util.hexToBytes(!0===t.serialNumber?e.cert.serialNumber:t.serialNumber);f.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!1,v))}}else if("cRLDistributionPoints"===t.name){t.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);f=t.value.value;var y,b=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),w=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(h=0;h<t.altNames.length;++h){c=(y=t.altNames[h]).value;if(7===y.type&&y.ip){if(null===(c=n.util.bytesFromIP(y.ip)))throw(_=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=t,_}else 8===y.type&&(c=y.oid?i.oidToDer(i.oidToDer(y.oid)):i.oidToDer(c));w.value.push(i.create(i.Class.CONTEXT_SPECIFIC,y.type,!1,c))}b.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[w])),f.push(b)}var _;if(void 0===t.value)throw(_=new Error("Extension value not specified.")).extension=t,_;return t}function y(t,e){switch(t){case s["RSASSA-PSS"]:var r=[];return void 0!==e.hash.algorithmOid&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])),void 0!==e.mgf.algorithmOid&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.mgf.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.mgf.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])])),void 0!==e.saltLength&&r.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.saltLength).getBytes())])),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,r);default:return i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")}}o.certificateFromPem=function(t,e,r){var s=n.pem.decode(t)[0];if("CERTIFICATE"!==s.type&&"X509 CERTIFICATE"!==s.type&&"TRUSTED CERTIFICATE"!==s.type){var a=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw a.headerType=s.type,a}if(s.procType&&"ENCRYPTED"===s.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=i.fromDer(s.body,r);return o.certificateFromAsn1(u,e)},o.certificateToPem=function(t,e){var r={type:"CERTIFICATE",body:i.toDer(o.certificateToAsn1(t)).getBytes()};return n.pem.encode(r,{maxline:e})},o.publicKeyFromPem=function(t){var e=n.pem.decode(t)[0];if("PUBLIC KEY"!==e.type&&"RSA PUBLIC KEY"!==e.type){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=e.type,r}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var s=i.fromDer(e.body);return o.publicKeyFromAsn1(s)},o.publicKeyToPem=function(t,e){var r={type:"PUBLIC KEY",body:i.toDer(o.publicKeyToAsn1(t)).getBytes()};return n.pem.encode(r,{maxline:e})},o.publicKeyToRSAPublicKeyPem=function(t,e){var r={type:"RSA PUBLIC KEY",body:i.toDer(o.publicKeyToRSAPublicKey(t)).getBytes()};return n.pem.encode(r,{maxline:e})},o.getPublicKeyFingerprint=function(t,e){var r,s=(e=e||{}).md||n.md.sha1.create();switch(e.type||"RSAPublicKey"){case"RSAPublicKey":r=i.toDer(o.publicKeyToRSAPublicKey(t)).getBytes();break;case"SubjectPublicKeyInfo":r=i.toDer(o.publicKeyToAsn1(t)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+e.type+'".')}s.start(),s.update(r);var a=s.digest();if("hex"===e.encoding){var u=a.toHex();return e.delimiter?u.match(/.{2}/g).join(e.delimiter):u}if("binary"===e.encoding)return a.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".');return a},o.certificationRequestFromPem=function(t,e,r){var s=n.pem.decode(t)[0];if("CERTIFICATE REQUEST"!==s.type){var a=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw a.headerType=s.type,a}if(s.procType&&"ENCRYPTED"===s.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var u=i.fromDer(s.body,r);return o.certificationRequestFromAsn1(u,e)},o.certificationRequestToPem=function(t,e){var r={type:"CERTIFICATE REQUEST",body:i.toDer(o.certificationRequestToAsn1(t)).getBytes()};return n.pem.encode(r,{maxline:e})},o.createCertificate=function(){var t={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return t.siginfo.algorithmOid=null,t.validity={},t.validity.notBefore=new Date,t.validity.notAfter=new Date,t.issuer={},t.issuer.getField=function(e){return p(t.issuer,e)},t.issuer.addField=function(e){g([e]),t.issuer.attributes.push(e)},t.issuer.attributes=[],t.issuer.hash=null,t.subject={},t.subject.getField=function(e){return p(t.subject,e)},t.subject.addField=function(e){g([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.extensions=[],t.publicKey=null,t.md=null,t.setSubject=function(e,r){g(e),t.subject.attributes=e,delete t.subject.uniqueId,r&&(t.subject.uniqueId=r),t.subject.hash=null},t.setIssuer=function(e,r){g(e),t.issuer.attributes=e,delete t.issuer.uniqueId,r&&(t.issuer.uniqueId=r),t.issuer.hash=null},t.setExtensions=function(e){for(var r=0;r<e.length;++r)v(e[r],{cert:t});t.extensions=e},t.getExtension=function(e){"string"==typeof e&&(e={name:e});for(var r,n=null,i=0;null===n&&i<t.extensions.length;++i)r=t.extensions[i],e.id&&r.id===e.id?n=r:e.name&&r.name===e.name&&(n=r);return n},t.sign=function(e,r){t.md=r||n.md.sha1.create();var a=s[t.md.algorithm+"WithRSAEncryption"];if(!a){var u=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw u.algorithm=t.md.algorithm,u}t.signatureOid=t.siginfo.algorithmOid=a,t.tbsCertificate=o.getTBSCertificate(t);var c=i.toDer(t.tbsCertificate);t.md.update(c.getBytes()),t.signature=e.sign(t.md)},t.verify=function(e){var r=!1;if(!t.issued(e)){var a=e.issuer,u=t.subject;throw(m=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=a.attributes,m.actualIssuer=u.attributes,m}var c=e.md;if(null===c){if(e.signatureOid in s)switch(s[e.signatureOid]){case"sha1WithRSAEncryption":c=n.md.sha1.create();break;case"md5WithRSAEncryption":c=n.md.md5.create();break;case"sha256WithRSAEncryption":c=n.md.sha256.create();break;case"sha384WithRSAEncryption":c=n.md.sha384.create();break;case"sha512WithRSAEncryption":c=n.md.sha512.create();break;case"RSASSA-PSS":c=n.md.sha256.create()}if(null===c)throw(m=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=e.signatureOid,m;var f=e.tbsCertificate||o.getTBSCertificate(e),l=i.toDer(f);c.update(l.getBytes())}if(null!==c){var h;switch(e.signatureOid){case s.sha1WithRSAEncryption:h=void 0;break;case s["RSASSA-PSS"]:var p,d,m;if(void 0===(p=s[e.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[p])throw(m=new Error("Unsupported MGF hash function.")).oid=e.signatureParameters.mgf.hash.algorithmOid,m.name=p,m;if(void 0===(d=s[e.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[d])throw(m=new Error("Unsupported MGF function.")).oid=e.signatureParameters.mgf.algorithmOid,m.name=d,m;if(d=n.mgf[d].create(n.md[p].create()),void 0===(p=s[e.signatureParameters.hash.algorithmOid])||void 0===n.md[p])throw{message:"Unsupported RSASSA-PSS hash function.",oid:e.signatureParameters.hash.algorithmOid,name:p};h=n.pss.create(n.md[p].create(),d,e.signatureParameters.saltLength)}r=t.publicKey.verify(c.digest().getBytes(),e.signature,h)}return r},t.isIssuer=function(e){var r=!1,n=t.issuer,i=e.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){var o,s;r=!0;for(var a=0;r&&a<n.attributes.length;++a)o=n.attributes[a],s=i.attributes[a],o.type===s.type&&o.value===s.value||(r=!1)}return r},t.issued=function(e){return e.isIssuer(t)},t.generateSubjectKeyIdentifier=function(){return o.getPublicKeyFingerprint(t.publicKey,{type:"RSAPublicKey"})},t.verifySubjectKeyIdentifier=function(){for(var e=s.subjectKeyIdentifier,r=0;r<t.extensions.length;++r){var i=t.extensions[r];if(i.id===e){var o=t.generateSubjectKeyIdentifier().getBytes();return n.util.hexToBytes(i.subjectKeyIdentifier)===o}}return!1},t},o.certificateFromAsn1=function(t,e){var r={},a=[];if(!i.validate(t,c,r,a))throw(h=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=a,h;if(i.derToOid(r.publicKeyOid)!==o.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=o.createCertificate();u.version=r.certVersion?r.certVersion.charCodeAt(0):0;var f=n.util.createBuffer(r.certSerialNumber);u.serialNumber=f.toHex(),u.signatureOid=n.asn1.derToOid(r.certSignatureOid),u.signatureParameters=d(u.signatureOid,r.certSignatureParams,!0),u.siginfo.algorithmOid=n.asn1.derToOid(r.certinfoSignatureOid),u.siginfo.parameters=d(u.siginfo.algorithmOid,r.certinfoSignatureParams,!1),u.signature=r.certSignature;var l=[];if(void 0!==r.certValidity1UTCTime&&l.push(i.utcTimeToDate(r.certValidity1UTCTime)),void 0!==r.certValidity2GeneralizedTime&&l.push(i.generalizedTimeToDate(r.certValidity2GeneralizedTime)),void 0!==r.certValidity3UTCTime&&l.push(i.utcTimeToDate(r.certValidity3UTCTime)),void 0!==r.certValidity4GeneralizedTime&&l.push(i.generalizedTimeToDate(r.certValidity4GeneralizedTime)),l.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(l.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(u.validity.notBefore=l[0],u.validity.notAfter=l[1],u.tbsCertificate=r.tbsCertificate,e){var h;if(u.md=null,u.signatureOid in s)switch(s[u.signatureOid]){case"sha1WithRSAEncryption":u.md=n.md.sha1.create();break;case"md5WithRSAEncryption":u.md=n.md.md5.create();break;case"sha256WithRSAEncryption":u.md=n.md.sha256.create();break;case"sha384WithRSAEncryption":u.md=n.md.sha384.create();break;case"sha512WithRSAEncryption":u.md=n.md.sha512.create();break;case"RSASSA-PSS":u.md=n.md.sha256.create()}if(null===u.md)throw(h=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=u.signatureOid,h;var m=i.toDer(u.tbsCertificate);u.md.update(m.getBytes())}var v=n.md.sha1.create();u.issuer.getField=function(t){return p(u.issuer,t)},u.issuer.addField=function(t){g([t]),u.issuer.attributes.push(t)},u.issuer.attributes=o.RDNAttributesAsArray(r.certIssuer,v),r.certIssuerUniqueId&&(u.issuer.uniqueId=r.certIssuerUniqueId),u.issuer.hash=v.digest().toHex();var y=n.md.sha1.create();return u.subject.getField=function(t){return p(u.subject,t)},u.subject.addField=function(t){g([t]),u.subject.attributes.push(t)},u.subject.attributes=o.RDNAttributesAsArray(r.certSubject,y),r.certSubjectUniqueId&&(u.subject.uniqueId=r.certSubjectUniqueId),u.subject.hash=y.digest().toHex(),r.certExtensions?u.extensions=o.certificateExtensionsFromAsn1(r.certExtensions):u.extensions=[],u.publicKey=o.publicKeyFromAsn1(r.subjectPublicKeyInfo),u},o.certificateExtensionsFromAsn1=function(t){for(var e=[],r=0;r<t.value.length;++r)for(var n=t.value[r],i=0;i<n.value.length;++i)e.push(o.certificateExtensionFromAsn1(n.value[i]));return e},o.certificateExtensionFromAsn1=function(t){var e={};if(e.id=i.derToOid(t.value[0].value),e.critical=!1,t.value[1].type===i.Type.BOOLEAN?(e.critical=0!==t.value[1].value.charCodeAt(0),e.value=t.value[2].value):e.value=t.value[1].value,e.id in s)if(e.name=s[e.id],"keyUsage"===e.name){var r=0,o=0;(u=i.fromDer(e.value)).value.length>1&&(r=u.value.charCodeAt(1),o=u.value.length>2?u.value.charCodeAt(2):0),e.digitalSignature=128==(128&r),e.nonRepudiation=64==(64&r),e.keyEncipherment=32==(32&r),e.dataEncipherment=16==(16&r),e.keyAgreement=8==(8&r),e.keyCertSign=4==(4&r),e.cRLSign=2==(2&r),e.encipherOnly=1==(1&r),e.decipherOnly=128==(128&o)}else if("basicConstraints"===e.name){(u=i.fromDer(e.value)).value.length>0&&u.value[0].type===i.Type.BOOLEAN?e.cA=0!==u.value[0].value.charCodeAt(0):e.cA=!1;var a=null;u.value.length>0&&u.value[0].type===i.Type.INTEGER?a=u.value[0].value:u.value.length>1&&(a=u.value[1].value),null!==a&&(e.pathLenConstraint=i.derToInteger(a))}else if("extKeyUsage"===e.name)for(var u=i.fromDer(e.value),c=0;c<u.value.length;++c){var f=i.derToOid(u.value[c].value);f in s?e[s[f]]=!0:e[f]=!0}else if("nsCertType"===e.name){r=0;(u=i.fromDer(e.value)).value.length>1&&(r=u.value.charCodeAt(1)),e.client=128==(128&r),e.server=64==(64&r),e.email=32==(32&r),e.objsign=16==(16&r),e.reserved=8==(8&r),e.sslCA=4==(4&r),e.emailCA=2==(2&r),e.objCA=1==(1&r)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){var l;e.altNames=[];u=i.fromDer(e.value);for(var h=0;h<u.value.length;++h){var p={type:(l=u.value[h]).type,value:l.value};switch(e.altNames.push(p),l.type){case 1:case 2:case 6:break;case 7:p.ip=n.util.bytesToIP(l.value);break;case 8:p.oid=i.derToOid(l.value)}}}else if("subjectKeyIdentifier"===e.name){u=i.fromDer(e.value);e.subjectKeyIdentifier=n.util.bytesToHex(u.value)}return e},o.certificationRequestFromAsn1=function(t,e){var r={},a=[];if(!i.validate(t,h,r,a))throw(c=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=a,c;if(i.derToOid(r.publicKeyOid)!==o.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=o.createCertificationRequest();if(u.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,u.signatureOid=n.asn1.derToOid(r.csrSignatureOid),u.signatureParameters=d(u.signatureOid,r.csrSignatureParams,!0),u.siginfo.algorithmOid=n.asn1.derToOid(r.csrSignatureOid),u.siginfo.parameters=d(u.siginfo.algorithmOid,r.csrSignatureParams,!1),u.signature=r.csrSignature,u.certificationRequestInfo=r.certificationRequestInfo,e){var c;if(u.md=null,u.signatureOid in s)switch(s[u.signatureOid]){case"sha1WithRSAEncryption":u.md=n.md.sha1.create();break;case"md5WithRSAEncryption":u.md=n.md.md5.create();break;case"sha256WithRSAEncryption":u.md=n.md.sha256.create();break;case"sha384WithRSAEncryption":u.md=n.md.sha384.create();break;case"sha512WithRSAEncryption":u.md=n.md.sha512.create();break;case"RSASSA-PSS":u.md=n.md.sha256.create()}if(null===u.md)throw(c=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=u.signatureOid,c;var f=i.toDer(u.certificationRequestInfo);u.md.update(f.getBytes())}var l=n.md.sha1.create();return u.subject.getField=function(t){return p(u.subject,t)},u.subject.addField=function(t){g([t]),u.subject.attributes.push(t)},u.subject.attributes=o.RDNAttributesAsArray(r.certificationRequestInfoSubject,l),u.subject.hash=l.digest().toHex(),u.publicKey=o.publicKeyFromAsn1(r.subjectPublicKeyInfo),u.getAttribute=function(t){return p(u,t)},u.addAttribute=function(t){g([t]),u.attributes.push(t)},u.attributes=o.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),u},o.createCertificationRequest=function(){var t={version:0,signatureOid:null,signature:null,siginfo:{}};return t.siginfo.algorithmOid=null,t.subject={},t.subject.getField=function(e){return p(t.subject,e)},t.subject.addField=function(e){g([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.publicKey=null,t.attributes=[],t.getAttribute=function(e){return p(t,e)},t.addAttribute=function(e){g([e]),t.attributes.push(e)},t.md=null,t.setSubject=function(e){g(e),t.subject.attributes=e,t.subject.hash=null},t.setAttributes=function(e){g(e),t.attributes=e},t.sign=function(e,r){t.md=r||n.md.sha1.create();var a=s[t.md.algorithm+"WithRSAEncryption"];if(!a){var u=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw u.algorithm=t.md.algorithm,u}t.signatureOid=t.siginfo.algorithmOid=a,t.certificationRequestInfo=o.getCertificationRequestInfo(t);var c=i.toDer(t.certificationRequestInfo);t.md.update(c.getBytes()),t.signature=e.sign(t.md)},t.verify=function(){var e=!1,r=t.md;if(null===r){if(t.signatureOid in s)switch(s[t.signatureOid]){case"sha1WithRSAEncryption":r=n.md.sha1.create();break;case"md5WithRSAEncryption":r=n.md.md5.create();break;case"sha256WithRSAEncryption":r=n.md.sha256.create();break;case"sha384WithRSAEncryption":r=n.md.sha384.create();break;case"sha512WithRSAEncryption":r=n.md.sha512.create();break;case"RSASSA-PSS":r=n.md.sha256.create()}if(null===r)throw(h=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=t.signatureOid,h;var a=t.certificationRequestInfo||o.getCertificationRequestInfo(t),u=i.toDer(a);r.update(u.getBytes())}if(null!==r){var c;switch(t.signatureOid){case s.sha1WithRSAEncryption:break;case s["RSASSA-PSS"]:var f,l,h;if(void 0===(f=s[t.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[f])throw(h=new Error("Unsupported MGF hash function.")).oid=t.signatureParameters.mgf.hash.algorithmOid,h.name=f,h;if(void 0===(l=s[t.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[l])throw(h=new Error("Unsupported MGF function.")).oid=t.signatureParameters.mgf.algorithmOid,h.name=l,h;if(l=n.mgf[l].create(n.md[f].create()),void 0===(f=s[t.signatureParameters.hash.algorithmOid])||void 0===n.md[f])throw(h=new Error("Unsupported RSASSA-PSS hash function.")).oid=t.signatureParameters.hash.algorithmOid,h.name=f,h;c=n.pss.create(n.md[f].create(),l,t.signatureParameters.saltLength)}e=t.publicKey.verify(r.digest().getBytes(),t.signature,c)}return e},t},o.getTBSCertificate=function(t){var e=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(t.serialNumber)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.siginfo.algorithmOid).getBytes()),y(t.siginfo.algorithmOid,t.siginfo.parameters)]),m(t.issuer),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(t.validity.notBefore)),i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(t.validity.notAfter))]),m(t.subject),o.publicKeyToAsn1(t.publicKey)]);return t.issuer.uniqueId&&e.value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+t.issuer.uniqueId)])),t.subject.uniqueId&&e.value.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+t.subject.uniqueId)])),t.extensions.length>0&&e.value.push(o.certificateExtensionsToAsn1(t.extensions)),e},o.getCertificationRequestInfo=function(t){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),m(t.subject),o.publicKeyToAsn1(t.publicKey),function(t){var e=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===t.attributes.length)return e;for(var r=t.attributes,o=0;o<r.length;++o){var s=r[o],a=s.value,u=i.Type.UTF8;"valueTagClass"in s&&(u=s.valueTagClass),u===i.Type.UTF8&&(a=n.util.encodeUtf8(a));var c=!1;"valueConstructed"in s&&(c=s.valueConstructed);var f=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,u,c,a)])]);e.value.push(f)}return e}(t)])},o.distinguishedNameToAsn1=function(t){return m(t)},o.certificateToAsn1=function(t){var e=t.tbsCertificate||o.getTBSCertificate(t);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[e,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.signatureOid).getBytes()),y(t.signatureOid,t.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+t.signature)])},o.certificateExtensionsToAsn1=function(t){var e=i.create(i.Class.CONTEXT_SPECIFIC,3,!0,[]),r=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);e.value.push(r);for(var n=0;n<t.length;++n)r.value.push(o.certificateExtensionToAsn1(t[n]));return e},o.certificateExtensionToAsn1=function(t){var e=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);e.value.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.id).getBytes())),t.critical&&e.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=t.value;return"string"!=typeof t.value&&(r=i.toDer(r).getBytes()),e.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,r)),e},o.certificationRequestToAsn1=function(t){var e=t.certificationRequestInfo||o.getCertificationRequestInfo(t);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[e,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.signatureOid).getBytes()),y(t.signatureOid,t.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+t.signature)])},o.createCaStore=function(t){var e={certs:{}};function r(t){return s(t),e.certs[t.hash]||null}function s(t){if(!t.hash){var e=n.md.sha1.create();t.attributes=o.RDNAttributesAsArray(m(t),e),t.hash=e.digest().toHex()}}if(e.getIssuer=function(t){return r(t.issuer)},e.addCertificate=function(t){if("string"==typeof t&&(t=n.pki.certificateFromPem(t)),s(t.subject),!e.hasCertificate(t))if(t.subject.hash in e.certs){var r=e.certs[t.subject.hash];n.util.isArray(r)||(r=[r]),r.push(t),e.certs[t.subject.hash]=r}else e.certs[t.subject.hash]=t},e.hasCertificate=function(t){"string"==typeof t&&(t=n.pki.certificateFromPem(t));var e=r(t.subject);if(!e)return!1;n.util.isArray(e)||(e=[e]);for(var s=i.toDer(o.certificateToAsn1(t)).getBytes(),a=0;a<e.length;++a){if(s===i.toDer(o.certificateToAsn1(e[a])).getBytes())return!0}return!1},e.listAllCertificates=function(){var t=[];for(var r in e.certs)if(e.certs.hasOwnProperty(r)){var i=e.certs[r];if(n.util.isArray(i))for(var o=0;o<i.length;++o)t.push(i[o]);else t.push(i)}return t},e.removeCertificate=function(t){var a;if("string"==typeof t&&(t=n.pki.certificateFromPem(t)),s(t.subject),!e.hasCertificate(t))return null;var u=r(t.subject);if(!n.util.isArray(u))return a=e.certs[t.subject.hash],delete e.certs[t.subject.hash],a;for(var c=i.toDer(o.certificateToAsn1(t)).getBytes(),f=0;f<u.length;++f){c===i.toDer(o.certificateToAsn1(u[f])).getBytes()&&(a=u[f],u.splice(f,1))}return 0===u.length&&delete e.certs[t.subject.hash],a},t)for(var a=0;a<t.length;++a){var u=t[a];e.addCertificate(u)}return e},o.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},o.verifyCertificateChain=function(t,e,r){var i=(e=e.slice(0)).slice(0),s=new Date,a=!0,u=null,c=0;do{var f=e.shift(),l=null,h=!1;if((s<f.validity.notBefore||s>f.validity.notAfter)&&(u={message:"Certificate is not valid yet or has expired.",error:o.certificateError.certificate_expired,notBefore:f.validity.notBefore,notAfter:f.validity.notAfter,now:s}),null===u){if(null===(l=e[0]||t.getIssuer(f))&&f.isIssuer(f)&&(h=!0,l=f),l){var p=l;n.util.isArray(p)||(p=[p]);for(var d=!1;!d&&p.length>0;){l=p.shift();try{d=l.verify(f)}catch(t){}}d||(u={message:"Certificate signature is invalid.",error:o.certificateError.bad_certificate})}null!==u||l&&!h||t.hasCertificate(f)||(u={message:"Certificate is not trusted.",error:o.certificateError.unknown_ca})}if(null===u&&l&&!f.isIssuer(l)&&(u={message:"Certificate issuer is invalid.",error:o.certificateError.bad_certificate}),null===u)for(var m={keyUsage:!0,basicConstraints:!0},g=0;null===u&&g<f.extensions.length;++g){var v=f.extensions[g];!v.critical||v.name in m||(u={message:"Certificate has an unsupported critical extension.",error:o.certificateError.unsupported_certificate})}if(null===u&&(!a||0===e.length&&(!l||h))){var y=f.getExtension("basicConstraints"),b=f.getExtension("keyUsage");if(null!==b&&(b.keyCertSign&&null!==y||(u={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:o.certificateError.bad_certificate})),null!==u||null===y||y.cA||(u={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:o.certificateError.bad_certificate}),null===u&&null!==b&&"pathLenConstraint"in y)c-1>y.pathLenConstraint&&(u={message:"Certificate basicConstraints pathLenConstraint violated.",error:o.certificateError.bad_certificate})}var w=null===u||u.error,_=r?r(w,c,i):w;if(!0!==_)throw!0===w&&(u={message:"The application rejected the certificate.",error:o.certificateError.bad_certificate}),(_||0===_)&&("object"!=typeof _||n.util.isArray(_)?"string"==typeof _&&(u.error=_):(_.message&&(u.message=_.message),_.error&&(u.error=_.error))),u;u=null,a=!1,++c}while(e.length>0);return!0}},function(t,e,r){(function(e){var n=r(11);r(144),r(72),r(13);var i,o=n.pkcs5=n.pkcs5||{};n.util.isNodejs&&!n.options.usePureJavaScript&&(i=r(507)),t.exports=n.pbkdf2=o.pbkdf2=function(t,r,o,s,a,u){if("function"==typeof a&&(u=a,a=null),n.util.isNodejs&&!n.options.usePureJavaScript&&i.pbkdf2&&(null===a||"object"!=typeof a)&&(i.pbkdf2Sync.length>4||!a||"sha1"===a))return"string"!=typeof a&&(a="sha1"),t=new e(t,"binary"),r=new e(r,"binary"),u?4===i.pbkdf2Sync.length?i.pbkdf2(t,r,o,s,function(t,e){if(t)return u(t);u(null,e.toString("binary"))}):i.pbkdf2(t,r,o,s,a,function(t,e){if(t)return u(t);u(null,e.toString("binary"))}):4===i.pbkdf2Sync.length?i.pbkdf2Sync(t,r,o,s).toString("binary"):i.pbkdf2Sync(t,r,o,s,a).toString("binary");if(void 0!==a&&null!==a||(a="sha1"),"string"==typeof a){if(!(a in n.md.algorithms))throw new Error("Unknown hash algorithm: "+a);a=n.md[a].create()}var c=a.digestLength;if(s>4294967295*c){var f=new Error("Derived key is too long.");if(u)return u(f);throw f}var l=Math.ceil(s/c),h=s-(l-1)*c,p=n.hmac.create();p.start(a,t);var d,m,g,v="";if(!u){for(var y=1;y<=l;++y){p.start(null,null),p.update(r),p.update(n.util.int32ToBytes(y)),d=g=p.digest().getBytes();for(var b=2;b<=o;++b)p.start(null,null),p.update(g),m=p.digest().getBytes(),d=n.util.xorBytes(d,m,c),g=m;v+=y<l?d:d.substr(0,h)}return v}y=1;function w(){if(y>l)return u(null,v);p.start(null,null),p.update(r),p.update(n.util.int32ToBytes(y)),d=g=p.digest().getBytes(),b=2,_()}function _(){if(b<=o)return p.start(null,null),p.update(g),m=p.digest().getBytes(),d=n.util.xorBytes(d,m,c),g=m,++b,n.util.setImmediate(_);v+=y<l?d:d.substr(0,h),++y,w()}w()}}).call(this,r(0).Buffer)},function(t,e,r){var n=r(11);r(72),r(13);var i=t.exports=n.md5=n.md5||{};n.md.md5=n.md.algorithms.md5=i,i.create=function(){c||function(){o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),64),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],a=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],u=new Array(64);for(var t=0;t<64;++t)u[t]=Math.floor(4294967296*Math.abs(Math.sin(t+1)));c=!0}();var t=null,e=n.util.createBuffer(),r=new Array(16),i={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,o=0;o<r;++o)i.fullMessageLength.push(0);return e=n.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},i}};return i.start(),i.update=function(o,s){"utf8"===s&&(o=n.util.encodeUtf8(o));var a=o.length;i.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var u=i.fullMessageLength.length-1;u>=0;--u)i.fullMessageLength[u]+=a[1],a[1]=a[0]+(i.fullMessageLength[u]/4294967296>>>0),i.fullMessageLength[u]=i.fullMessageLength[u]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(o),f(t,r,e),(e.read>2048||0===e.length())&&e.compact(),i},i.digest=function(){var s=n.util.createBuffer();s.putBytes(e.bytes());var a=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;s.putBytes(o.substr(0,i.blockLength-a));for(var u,c=0,l=i.fullMessageLength.length-1;l>=0;--l)c=(u=8*i.fullMessageLength[l]+c)/4294967296>>>0,s.putInt32Le(u>>>0);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3};f(h,r,s);var p=n.util.createBuffer();return p.putInt32Le(h.h0),p.putInt32Le(h.h1),p.putInt32Le(h.h2),p.putInt32Le(h.h3),p},i};var o=null,s=null,a=null,u=null,c=!1;function f(t,e,r){for(var n,i,o,c,f,l,h,p=r.length();p>=64;){for(i=t.h0,o=t.h1,c=t.h2,f=t.h3,h=0;h<16;++h)e[h]=r.getInt32Le(),n=i+(f^o&(c^f))+u[h]+e[h],i=f,f=c,c=o,o+=n<<(l=a[h])|n>>>32-l;for(;h<32;++h)n=i+(c^f&(o^c))+u[h]+e[s[h]],i=f,f=c,c=o,o+=n<<(l=a[h])|n>>>32-l;for(;h<48;++h)n=i+(o^c^f)+u[h]+e[s[h]],i=f,f=c,c=o,o+=n<<(l=a[h])|n>>>32-l;for(;h<64;++h)n=i+(c^(o|~f))+u[h]+e[s[h]],i=f,f=c,c=o,o+=n<<(l=a[h])|n>>>32-l;t.h0=t.h0+i|0,t.h1=t.h1+o|0,t.h2=t.h2+c|0,t.h3=t.h3+f|0,p-=64}}},function(t,e,r){var n=r(11);r(13),t.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(t,e){var r=t;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+t);return new n.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})},n.cipher.createDecipher=function(t,e){var r=t;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+t);return new n.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})},n.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),n.cipher.algorithms[t]=e},n.cipher.getAlgorithm=function(t){return(t=t.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[t]:null};var i=n.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};i.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=t.output||n.util.createBuffer(),this.mode.start(e)},i.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(t){!t||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(e){return t(this.blockSize,e,!1)},this.mode.unpad=function(e){return t(this.blockSize,e,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,e)))}},function(t,e,r){"use strict";t.exports="enum KeyType {\n  RSA = 0;\n  Ed25519 = 1;\n  Secp256k1 = 2;\n}\nmessage PublicKey {\n  required KeyType Type = 1;\n  required bytes Data = 2;\n}\nmessage PrivateKey {\n  required KeyType Type = 1;\n  required bytes Data = 2;\n}"},function(t,e,r){"use strict";t.exports=(()=>{if("undefined"!=typeof self&&(r(1155)(self),self.crypto))return self.crypto;throw new Error("Please use an environment with crypto support")})},function(t,e,r){"use strict";t.exports=function(t,e){return t.then(t=>{e(null,t)},t=>{e(t)})}},function(t,e,r){"use strict";t.exports={_cache:{},_count:0,_eraseIndex:0,_usedList:{},_usedIndex:{},_CACHE_SIZE:5e3,get:function(t,e,r){var n=t+"/"+e+"/"+(r=!!r);if(this._cache[n])return this._cacheHit(n),this._cache[n]},set:function(t,e,r,n){var i=t+"/"+e+"/"+(r=!!r);this._cache[i]=n,this._cacheHit(i)},_cacheHit:function(t){this._usedIndex[t]&&delete this._usedList[this._usedIndex[t]],this._usedList[this._count]=t,this._usedIndex[t]=this._count,this._count++,this._cacheRemove()},_cacheRemove:function(){for(;this._eraseIndex<this._count-this._CACHE_SIZE;){if(this._usedList[this._eraseIndex]){var t=this._usedList[this._eraseIndex];delete this._usedIndex[t],delete this._cache[t]}delete this._usedList[this._eraseIndex],this._eraseIndex++}}}},function(t,e,r){"use strict";var n=r(14),i=r(59),o=r(16),s={BTC:[1e8,8],mBTC:[1e5,5],uBTC:[100,2],bits:[100,2],satoshis:[1,0]};function a(t,e){if(!(this instanceof a))return new a(t,e);if(n.isNumber(e)){if(e<=0)throw new i.Unit.InvalidRate(e);t/=e,e=a.BTC}this._value=this._from(t,e);var r=this;Object.keys(s).forEach(function(t){Object.defineProperty(r,t,{get:function(){return r.to(t)},enumerable:!0})})}Object.keys(s).forEach(function(t){a[t]=t}),a.fromObject=function(t){return o.checkArgument(n.isObject(t),"Argument is expected to be an object"),new a(t.amount,t.code)},a.fromBTC=function(t){return new a(t,a.BTC)},a.fromMillis=a.fromMilis=function(t){return new a(t,a.mBTC)},a.fromMicros=a.fromBits=function(t){return new a(t,a.bits)},a.fromSatoshis=function(t){return new a(t,a.satoshis)},a.fromFiat=function(t,e){return new a(t,e)},a.prototype._from=function(t,e){if(!s[e])throw new i.Unit.UnknownCode(e);return parseInt((t*s[e][0]).toFixed())},a.prototype.to=function(t){if(n.isNumber(t)){if(t<=0)throw new i.Unit.InvalidRate(t);return parseFloat((this.BTC*t).toFixed(2))}if(!s[t])throw new i.Unit.UnknownCode(t);var e=this._value/s[t][0];return parseFloat(e.toFixed(s[t][1]))},a.prototype.toBTC=function(){return this.to(a.BTC)},a.prototype.toMillis=a.prototype.toMilis=function(){return this.to(a.mBTC)},a.prototype.toMicros=a.prototype.toBits=function(){return this.to(a.bits)},a.prototype.toSatoshis=function(){return this.to(a.satoshis)},a.prototype.atRate=function(t){return this.to(t)},a.prototype.toString=function(){return this.satoshis+" satoshis"},a.prototype.toObject=a.prototype.toJSON=function(){return{amount:this.BTC,code:a.BTC}},a.prototype.inspect=function(){return"<Unit: "+this.toString()+">"},t.exports=a},function(t,e,r){t.exports=r(147),t.exports.PublicKey=r(1165),t.exports.PublicKeyHash=r(1164),t.exports.MultiSig=r(1163),t.exports.MultiSigScriptHash=r(1162)},function(t,e,r){"use strict";(function(e){var n=r(14),i=r(16),o=r(0),s=e.compare||r(1166),a=r(59),u=r(21),c=r(28),f=r(84),l=r(52),h=r(40),p=r(58),d=r(83),m=r(96),g=r(516),v=r(304),y=v.PublicKeyHash,b=v.PublicKey,w=v.MultiSigScriptHash,_=v.MultiSig,k=r(82),S=r(57),x=r(196),E=r(32),C=r(1161);function A(t){if(!(this instanceof A))return new A(t);if(this.inputs=[],this.outputs=[],this.joinSplits=[],this._inputAmount=void 0,this._outputAmount=void 0,t){if(t instanceof A)return A.shallowCopy(t);if(c.isHexa(t))this.fromString(t);else if(u.isBuffer(t))this.fromBuffer(t);else{if(!n.isObject(t))throw new a.InvalidArgument("Must provide an object or string to deserialize a transaction");this.fromObject(t)}}else this._newTransaction()}A.DUST_AMOUNT=546,A.FEE_SECURITY_MARGIN=15,A.MAX_MONEY=21e14,A.NLOCKTIME_BLOCKHEIGHT_LIMIT=5e8,A.NLOCKTIME_MAX_VALUE=4294967295,A.FEE_PER_KB=1e4,A.CHANGE_OUTPUT_MAX_SIZE=62,A.MAXIMUM_EXTRA_SIZE=26,A.shallowCopy=function(t){return new A(t.toBuffer())};var M={configurable:!1,enumerable:!0,get:function(){return new f(this._getHash()).readReverse().toString("hex")}};Object.defineProperty(A.prototype,"hash",M),Object.defineProperty(A.prototype,"id",M);var I={configurable:!1,enumerable:!0,get:function(){return this._getInputAmount()}};Object.defineProperty(A.prototype,"inputAmount",I),I.get=function(){return this._getOutputAmount()},Object.defineProperty(A.prototype,"outputAmount",I),A.prototype._getHash=function(){return h.sha256sha256(this.toBuffer())},A.prototype.serialize=function(t){return!0===t||t&&t.disableAll?this.uncheckedSerialize():this.checkedSerialize(t)},A.prototype.uncheckedSerialize=A.prototype.toString=function(){return this.toBuffer().toString("hex")},A.prototype.checkedSerialize=function(t){var e=this.getSerializationError(t);if(e)throw e.message+=" Use Transaction#uncheckedSerialize if you want to skip security checks. See http://bitcore.io/guide/transaction.html#Serialization for more info.",e;return this.uncheckedSerialize()},A.prototype.invalidSatoshis=function(){for(var t=!1,e=0;e<this.outputs.length;e++)this.outputs[e].invalidSatoshis()&&(t=!0);return t},A.prototype.getSerializationError=function(t){if(t=t||{},this.invalidSatoshis())return new a.Transaction.InvalidSatoshis;var e,r=this._getUnspentValue();return r<0?t.disableMoreOutputThanInput||(e=new a.Transaction.InvalidOutputAmountSum):e=this._hasFeeError(t,r),e||this._hasDustOutputs(t)||this._isMissingSignatures(t)},A.prototype._hasFeeError=function(t,e){if(!n.isUndefined(this._fee)&&this._fee!==e)return new a.Transaction.FeeError.Different("Unspent value is "+e+" but specified fee is "+this._fee);if(!t.disableLargeFees){var r=Math.floor(A.FEE_SECURITY_MARGIN*this._estimateFee());if(e>r)return this._missingChange()?new a.Transaction.ChangeAddressMissing("Fee is too large and no change address was provided"):new a.Transaction.FeeError.TooLarge("expected less than "+r+" but got "+e)}if(!t.disableSmallFees){var i=Math.ceil(this._estimateFee()/A.FEE_SECURITY_MARGIN);if(e<i)return new a.Transaction.FeeError.TooSmall("expected more than "+i+" but got "+e)}},A.prototype._missingChange=function(){return!this._changeScript},A.prototype._hasDustOutputs=function(t){var e,r;if(!t.disableDustOutputs)for(e in this.outputs)if((r=this.outputs[e]).satoshis<A.DUST_AMOUNT&&!r.script.isDataOut())return new a.Transaction.DustOutputs},A.prototype._isMissingSignatures=function(t){if(!t.disableIsFullySigned)return this.isFullySigned()?void 0:new a.Transaction.MissingSignatures},A.prototype.inspect=function(){return"<Transaction: "+this.uncheckedSerialize()+">"},A.prototype.toBuffer=function(){var t=new l;return this.toBufferWriter(t).toBuffer()},A.prototype.toBufferWriter=function(t){return t.writeUInt32LE(this.version),t.writeVarintNum(this.inputs.length),n.each(this.inputs,function(e){e.toBufferWriter(t)}),t.writeVarintNum(this.outputs.length),n.each(this.outputs,function(e){e.toBufferWriter(t)}),t.writeUInt32LE(this.nLockTime),this.version>=2&&(t.writeVarintNum(this.joinSplits.length),n.each(this.joinSplits,function(e){e.toBufferWriter(t)}),this.joinSplits.length>0&&(t.write(this.joinSplitPubKey),t.write(this.joinSplitSig))),t},A.prototype.fromBuffer=function(t){var e=new f(t);return this.fromBufferReader(e)},A.prototype.fromBufferReader=function(t){var e,r,n,o;for(i.checkArgument(!t.finished(),"No transaction data received"),this.version=t.readUInt32LE(),r=t.readVarintNum(),e=0;e<r;e++){var s=v.fromBufferReader(t);this.inputs.push(s)}for(n=t.readVarintNum(),e=0;e<n;e++)this.outputs.push(k.fromBufferReader(t));if(this.nLockTime=t.readUInt32LE(),this.version>=2){for(o=t.readVarintNum(),e=0;e<o;e++)this.joinSplits.push(C.fromBufferReader(t));o>0&&(this.joinSplitPubKey=t.read(32),this.joinSplitSig=t.read(64))}return this},A.prototype.toObject=A.prototype.toJSON=function(){var t=[];this.inputs.forEach(function(e){t.push(e.toObject())});var e=[];this.outputs.forEach(function(t){e.push(t.toObject())});var r={hash:this.hash,version:this.version,inputs:t,outputs:e,nLockTime:this.nLockTime};if(this.version>=2){var i=[];this.joinSplits.forEach(function(t){i.push(t.toObject())}),r.joinSplits=i,this.joinSplits.length>0&&(r.joinSplitPubKey=u.reverse(this.joinSplitPubKey).toString("hex"),r.joinSplitSig=this.joinSplitSig.toString("hex"))}return this._changeScript&&(r.changeScript=this._changeScript.toString()),n.isUndefined(this._changeIndex)||(r.changeIndex=this._changeIndex),n.isUndefined(this._fee)||(r.fee=this._fee),r},A.prototype.fromObject=function(t){i.checkArgument(n.isObject(t)||t instanceof A);var r,o=this;return r=t instanceof A?r.toObject():t,n.each(r.inputs,function(t){if(t.output&&t.output.script){var e,r=new S(t.output.script);if(r.isPublicKeyHashOut())e=new v.PublicKeyHash(t);else if(r.isScriptHashOut()&&t.publicKeys&&t.threshold)e=new v.MultiSigScriptHash(t,t.publicKeys,t.threshold,t.signatures);else{if(!r.isPublicKeyOut())throw new a.Transaction.Input.UnsupportedScript(t.output.script);e=new v.PublicKey(t)}o.addInput(e)}else o.uncheckedAddInput(new v(t))}),n.each(r.outputs,function(t){o.addOutput(new k(t))}),r.changeIndex&&(this._changeIndex=r.changeIndex),r.changeScript&&(this._changeScript=new S(r.changeScript)),r.fee&&(this._fee=r.fee),this.nLockTime=r.nLockTime,this.version=r.version,this.version>=2&&(n.each(r.joinSplits,function(t){o.joinSplits.push(new C(t))}),o.joinSplits.length>0&&(o.joinSplitPubKey=u.reverse(new e(r.joinSplitPubKey,"hex")),o.joinSplitSig=new e(r.joinSplitSig,"hex"))),this._checkConsistency(t),this},A.prototype._checkConsistency=function(t){n.isUndefined(this._changeIndex)||(i.checkState(this._changeScript),i.checkState(this.outputs[this._changeIndex]),i.checkState(this.outputs[this._changeIndex].script.toString()===this._changeScript.toString())),t&&t.hash&&i.checkState(t.hash===this.hash,"Hash in object does not match transaction hash")},A.prototype.lockUntilDate=function(t){if(i.checkArgument(t),n.isNumber(t)&&t<A.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new a.Transaction.LockTimeTooEarly;n.isDate(t)&&(t=t.getTime()/1e3);for(var e=0;e<this.inputs.length;e++)this.inputs[e].sequenceNumber===v.DEFAULT_SEQNUMBER&&(this.inputs[e].sequenceNumber=v.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=t,this},A.prototype.lockUntilBlockHeight=function(t){if(i.checkArgument(n.isNumber(t)),t>=A.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new a.Transaction.BlockHeightTooHigh;if(t<0)throw new a.Transaction.NLockTimeOutOfRange;for(var e=0;e<this.inputs.length;e++)this.inputs[e].sequenceNumber===v.DEFAULT_SEQNUMBER&&(this.inputs[e].sequenceNumber=v.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=t,this},A.prototype.getLockTime=function(){return this.nLockTime?this.nLockTime<A.NLOCKTIME_BLOCKHEIGHT_LIMIT?this.nLockTime:new Date(1e3*this.nLockTime):null},A.prototype.fromString=function(t){this.fromBuffer(new o.Buffer(t,"hex"))},A.prototype._newTransaction=function(){this.version=1,this.nLockTime=0},A.prototype.from=function(t,e,r){if(n.isArray(t)){var i=this;return n.each(t,function(t){i.from(t,e,r)}),this}return n.any(this.inputs,function(e){return e.prevTxId.toString("hex")===t.txId&&e.outputIndex===t.outputIndex})?this:(e&&r?this._fromMultisigUtxo(t,e,r):this._fromNonP2SH(t),this)},A.prototype._fromNonP2SH=function(t){var e;e=(t=new g(t)).script.isPublicKeyHashOut()?y:t.script.isPublicKeyOut()?b:v,this.addInput(new e({output:new k({script:t.script,satoshis:t.satoshis}),prevTxId:t.txId,outputIndex:t.outputIndex,script:S.empty()}))},A.prototype._fromMultisigUtxo=function(t,e,r){var n;if(i.checkArgument(r<=e.length,"Number of required signatures must be greater than the number of public keys"),(t=new g(t)).script.isMultisigOut())n=_;else{if(!t.script.isScriptHashOut())throw new Error("@TODO");n=w}this.addInput(new n({output:new k({script:t.script,satoshis:t.satoshis}),prevTxId:t.txId,outputIndex:t.outputIndex,script:S.empty()},e,r))},A.prototype.addInput=function(t,e,r){if(i.checkArgumentType(t,v,"input"),!t.output&&(n.isUndefined(e)||n.isUndefined(r)))throw new a.Transaction.NeedMoreInfo("Need information about the UTXO script and satoshis");return t.output||!e||n.isUndefined(r)||(e=e instanceof S?e:new S(e),i.checkArgumentType(r,"number","satoshis"),t.output=new k({script:e,satoshis:r})),this.uncheckedAddInput(t)},A.prototype.uncheckedAddInput=function(t){return i.checkArgumentType(t,v,"input"),this.inputs.push(t),this._inputAmount=void 0,this._updateChangeOutput(),this},A.prototype.hasAllUtxoInfo=function(){return n.all(this.inputs.map(function(t){return!!t.output}))},A.prototype.fee=function(t){return i.checkArgument(n.isNumber(t),"amount must be a number"),this._fee=t,this._updateChangeOutput(),this},A.prototype.feePerKb=function(t){return i.checkArgument(n.isNumber(t),"amount must be a number"),this._feePerKb=t,this._updateChangeOutput(),this},A.prototype.change=function(t){return i.checkArgument(t,"address is required"),this._changeScript=S.fromAddress(t),this._updateChangeOutput(),this},A.prototype.getChangeOutput=function(){return n.isUndefined(this._changeIndex)?null:this.outputs[this._changeIndex]},A.prototype.to=function(t,e){if(n.isArray(t)){var r=this;return n.each(t,function(t){r.to(t.address,t.satoshis)}),this}return i.checkArgument(c.isNaturalNumber(e),"Amount is expected to be a positive integer"),this.addOutput(new k({script:S(new m(t)),satoshis:e})),this},A.prototype.addData=function(t){return this.addOutput(new k({script:S.buildDataOut(t),satoshis:0})),this},A.prototype.addOutput=function(t){return i.checkArgumentType(t,k,"output"),this._addOutput(t),this._updateChangeOutput(),this},A.prototype.clearOutputs=function(){return this.outputs=[],this._clearSignatures(),this._outputAmount=void 0,this._changeIndex=void 0,this._updateChangeOutput(),this},A.prototype._addOutput=function(t){this.outputs.push(t),this._outputAmount=void 0},A.prototype._getOutputAmount=function(){if(n.isUndefined(this._outputAmount)){var t=this;this._outputAmount=0,n.each(this.outputs,function(e){t._outputAmount+=e.satoshis})}return this._outputAmount},A.prototype._getInputAmount=function(){if(n.isUndefined(this._inputAmount)){var t=this;this._inputAmount=0,n.each(this.inputs,function(e){if(n.isUndefined(e.output))throw new a.Transaction.Input.MissingPreviousOutput;t._inputAmount+=e.output.satoshis})}return this._inputAmount},A.prototype._updateChangeOutput=function(){if(this._changeScript){this._clearSignatures(),n.isUndefined(this._changeIndex)||this._removeOutput(this._changeIndex);var t=this._getUnspentValue()-this.getFee();t>0?(this._changeIndex=this.outputs.length,this._addOutput(new k({script:this._changeScript,satoshis:t}))):this._changeIndex=void 0}},A.prototype.getFee=function(){return this.isCoinbase()?0:n.isUndefined(this._fee)?this._changeScript?this._estimateFee():this._getUnspentValue():this._fee},A.prototype._estimateFee=function(){var t=this._estimateSize(),e=this._getUnspentValue();return A._estimateFee(t,e,this._feePerKb)},A.prototype._getUnspentValue=function(){return this._getInputAmount()-this._getOutputAmount()},A.prototype._clearSignatures=function(){n.each(this.inputs,function(t){t.clearSignatures()})},A._estimateFee=function(t,e,r){return e>Math.ceil(t/1e3)*(r||A.FEE_PER_KB)&&(t+=A.CHANGE_OUTPUT_MAX_SIZE),Math.ceil(t/1e3)*(r||A.FEE_PER_KB)},A.prototype._estimateSize=function(){var t=A.MAXIMUM_EXTRA_SIZE;return n.each(this.inputs,function(e){t+=e._estimateSize()}),n.each(this.outputs,function(e){t+=e.script.toBuffer().length+9}),t},A.prototype._removeOutput=function(t){var e=this.outputs[t];this.outputs=n.without(this.outputs,e),this._outputAmount=void 0},A.prototype.removeOutput=function(t){this._removeOutput(t),this._updateChangeOutput()},A.prototype.sort=function(){return this.sortInputs(function(t){var e=Array.prototype.concat.apply([],t);return e.sort(function(t,e){return s(t.prevTxId,e.prevTxId)||t.outputIndex-e.outputIndex}),e}),this.sortOutputs(function(t){var e=Array.prototype.concat.apply([],t);return e.sort(function(t,e){return t.satoshis-e.satoshis||s(t.script.toBuffer(),e.script.toBuffer())}),e}),this},A.prototype.shuffleOutputs=function(){return this.sortOutputs(n.shuffle)},A.prototype.sortOutputs=function(t){var e=t(this.outputs);return this._newOutputOrder(e)},A.prototype.sortInputs=function(t){return this.inputs=t(this.inputs),this._clearSignatures(),this},A.prototype._newOutputOrder=function(t){if(this.outputs.length!==t.length||0!==n.difference(this.outputs,t).length)throw new a.Transaction.InvalidSorting;if(!n.isUndefined(this._changeIndex)){var e=this.outputs[this._changeIndex];this._changeIndex=n.findIndex(t,e)}return this.outputs=t,this},A.prototype.removeInput=function(t,e){var r;if((r=!e&&n.isNumber(t)?t:n.findIndex(this.inputs,function(r){return r.prevTxId.toString("hex")===t&&r.outputIndex===e}))<0||r>=this.inputs.length)throw new a.Transaction.InvalidIndex(r,this.inputs.length);var i=this.inputs[r];this.inputs=n.without(this.inputs,i),this._inputAmount=void 0,this._updateChangeOutput()},A.prototype.sign=function(t,e){i.checkState(this.hasAllUtxoInfo());var r=this;return n.isArray(t)?(n.each(t,function(t){r.sign(t,e)}),this):(n.each(this.getSignatures(t,e),function(t){r.applySignature(t)}),this)},A.prototype.getSignatures=function(t,e){t=new x(t),e=e||p.SIGHASH_ALL;var r=this,i=[],o=h.sha256ripemd160(t.publicKey.toBuffer());return n.each(this.inputs,function(s,a){n.each(s.getSignatures(r,t,a,e,o),function(t){i.push(t)})}),i},A.prototype.applySignature=function(t){return this.inputs[t.inputIndex].addSignature(this,t),this},A.prototype.isFullySigned=function(){return n.each(this.inputs,function(t){if(t.isFullySigned===v.prototype.isFullySigned)throw new a.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction")}),n.all(n.map(this.inputs,function(t){return t.isFullySigned()}))},A.prototype.isValidSignature=function(t){if(this.inputs[t.inputIndex].isValidSignature===v.prototype.isValidSignature)throw new a.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction");return this.inputs[t.inputIndex].isValidSignature(this,t)},A.prototype.verifySignature=function(t,e,r,n){return d.verify(this,t,e,r,n)},A.prototype.verify=function(){if(0===this.inputs.length)return"transaction txins empty";if(0===this.outputs.length)return"transaction txouts empty";for(var t=new E(0),e=0;e<this.outputs.length;e++){var r=this.outputs[e];if(r.invalidSatoshis())return"transaction txout "+e+" satoshis is invalid";if(r._satoshisBN.gt(new E(A.MAX_MONEY,10)))return"transaction txout "+e+" greater than MAX_MONEY";if((t=t.add(r._satoshisBN)).gt(new E(A.MAX_MONEY)))return"transaction txout "+e+" total output greater than MAX_MONEY"}if(this.toBuffer().length>1e6)return"transaction over the maximum block size";var i={};for(e=0;e<this.inputs.length;e++){var o=this.inputs[e],s=o.prevTxId+":"+o.outputIndex;if(!n.isUndefined(i[s]))return"transaction input "+e+" duplicate input";i[s]=!0}if(this.isCoinbase()){var a=this.inputs[0]._scriptBuffer;if(a.length<2||a.length>100)return"coinbase transaction script size invalid"}else for(e=0;e<this.inputs.length;e++)if(this.inputs[e].isNull())return"transaction input "+e+" has null input";return!0},A.prototype.isCoinbase=function(){return 1===this.inputs.length&&this.inputs[0].isNull()},A.prototype.isRBF=function(){for(var t=0;t<this.inputs.length;t++){if(this.inputs[t].sequenceNumber<v.MAXINT-1)return!0}return!1},A.prototype.enableRBF=function(){for(var t=0;t<this.inputs.length;t++){var e=this.inputs[t];e.sequenceNumber>=v.MAXINT-1&&(e.sequenceNumber=v.DEFAULT_RBF_SEQNUMBER)}return this},t.exports=A}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e){var n=r(14),i=r(16),o=r(21),s=r(28);function a(t){if(!(this instanceof a))return new a(t);var e;if(n.isNumber(t))e=t;else{if(!n.isString(t))throw new TypeError('Unrecognized num type: "'+typeof t+'" for Opcode');e=a.map[t]}return s.defineImmutable(this,{num:e}),this}for(var u in a.fromBuffer=function(t){return i.checkArgument(o.isBuffer(t)),new a(Number("0x"+t.toString("hex")))},a.fromNumber=function(t){return i.checkArgument(n.isNumber(t)),new a(t)},a.fromString=function(t){i.checkArgument(n.isString(t));var e=a.map[t];if(void 0===e)throw new TypeError("Invalid opcodestr");return new a(e)},a.prototype.toHex=function(){return this.num.toString(16)},a.prototype.toBuffer=function(){return new e(this.toHex(),"hex")},a.prototype.toNumber=function(){return this.num},a.prototype.toString=function(){var t=a.reverseMap[this.num];if(void 0===t)throw new Error("Opcode does not have a string representation");return t},a.smallInt=function(t){return i.checkArgument(n.isNumber(t),"Invalid Argument: n should be number"),i.checkArgument(t>=0&&t<=16,"Invalid Argument: n must be between 0 and 16"),0===t?a("OP_0"):new a(a.map.OP_1+t-1)},a.map={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP1:176,OP_NOP2:177,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255},a.reverseMap=[],a.map)a.reverseMap[a.map[u]]=u;n.extend(a,a.map),a.isSmallIntOp=function(t){return t instanceof a&&(t=t.toNumber()),t===a.map.OP_0||t>=a.map.OP_1&&t<=a.map.OP_16},a.prototype.inspect=function(){return"<Opcode: "+this.toString()+", hex: "+this.toHex()+", decimal: "+this.num+">"},t.exports=a}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e){const n=r(523),i=r(313),o=r(198),s=r(85),a=r(1199),u=r(150),c=r(149);r(1197),r(527),r(528),r(526);function f(t){return t.map(t=>t.toString(16)).join("/")}t.exports=function(t,r){const l=c(t,a,function(o,s,c){!function e(r,i,o){let s=[];"leaf"===r.type&&s.push({path:f(r.getKey()),value:r.getValue()});n(r.getChildren(),(r,n)=>{const o=f(r[0]),c=r[1];if(a.isRawNode(c)){const t=new a(c);s.push({path:o,value:t}),e(t,i,(t,e)=>{if(t)return n(t);e.forEach(t=>{t.path=o+"/"+t.path}),s=s.concat(e),n()})}else{let e={"/":u(t,c).toBaseEncodedString()};s.push({path:o,value:e}),n()}},t=>{if(t)return o(t);o(null,s)})}(o,s,(t,o)=>{if(t)return c(t);if(!r)return c(null,o);let a=o.slice();const u=o.filter(t=>e.isBuffer(t.value));n(u,(t,e)=>i([e=>r.util.deserialize(t.value,e),(t,e)=>r.resolver._mapFromEthObject(t,s,e)],(r,n)=>{if(r)return e(r);n.forEach(e=>{a.push({path:t.path+"/"+e.path,value:e.value})}),e()}),t=>{if(t)return c(t);c(null,a)})})});return l.util.deserialize=o(t=>{const e=s.decode(t);return new a(e)}),l}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e){var n=r(669),i=r(670);function o(t){var e=t;if("string"!=typeof e)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof e+", while padToEven.");return e.length%2&&(e="0"+e),e}function s(t){return"0x"+o(t.toString(16))}t.exports={arrayContainsArray:function(t,e,r){if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof t+"'");if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof e+"'");return e[Boolean(r)?"some":"every"](function(e){return t.indexOf(e)>=0})},intToBuffer:function(t){var r=s(t);return new e(r.slice(2),"hex")},getBinarySize:function(t){if("string"!=typeof t)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof t+"'.");return e.byteLength(t,"utf8")},isHexPrefixed:n,stripHexPrefix:i,padToEven:o,intToHex:s,fromAscii:function(t){for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r).toString(16);e+=n.length<2?"0"+n:n}return"0x"+e},fromUtf8:function(t){return"0x"+o(new e(t,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(t){var e="",r=0,n=t.length;for("0x"===t.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e},toUtf8:function(t){return new e(o(i(t).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(t,e,r){if(!Array.isArray(t))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof t+"'");if("string"!=typeof e)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof e+"'.");for(var n=[],i=0;i<t.length;i++){var o=t[i][e];if(r&&!o)o="";else if("string"!=typeof o)throw new Error("invalid abi");n.push(o)}return n},isHexString:function(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";t.exports=r(1214)(r(1211))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(e=(0,o.default)(e||i.default),!(0,n.default)(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function c(e){var n=(0,u.default)(t[r++]);e.push((0,a.default)(f)),n.apply(null,e)}function f(n){if(n||r===t.length)return e.apply(null,arguments);c((0,s.default)(arguments,1))}c([])};var n=c(r(31)),i=c(r(4)),o=c(r(312)),s=c(r(311)),a=c(r(310)),u=c(r(199));function c(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t){t.exports={COMPRESSED_TYPE_INVALID:"compressed should be a boolean",EC_PRIVATE_KEY_TYPE_INVALID:"private key should be a Buffer",EC_PRIVATE_KEY_LENGTH_INVALID:"private key length is invalid",EC_PRIVATE_KEY_RANGE_INVALID:"private key range is invalid",EC_PRIVATE_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting private key is invalid",EC_PRIVATE_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PRIVATE_KEY_EXPORT_DER_FAIL:"couldn't export to DER format",EC_PRIVATE_KEY_IMPORT_DER_FAIL:"couldn't import from DER format",EC_PUBLIC_KEYS_TYPE_INVALID:"public keys should be an Array",EC_PUBLIC_KEYS_LENGTH_INVALID:"public keys Array should have at least 1 element",EC_PUBLIC_KEY_TYPE_INVALID:"public key should be a Buffer",EC_PUBLIC_KEY_LENGTH_INVALID:"public key length is invalid",EC_PUBLIC_KEY_PARSE_FAIL:"the public key could not be parsed or is invalid",EC_PUBLIC_KEY_CREATE_FAIL:"private was invalid, try again",EC_PUBLIC_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting public key is invalid",EC_PUBLIC_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PUBLIC_KEY_COMBINE_FAIL:"the sum of the public keys is not valid",ECDH_FAIL:"scalar was invalid (zero or overflow)",ECDSA_SIGNATURE_TYPE_INVALID:"signature should be a Buffer",ECDSA_SIGNATURE_LENGTH_INVALID:"signature length is invalid",ECDSA_SIGNATURE_PARSE_FAIL:"couldn't parse signature",ECDSA_SIGNATURE_PARSE_DER_FAIL:"couldn't parse DER signature",ECDSA_SIGNATURE_SERIALIZE_DER_FAIL:"couldn't serialize signature to DER format",ECDSA_SIGN_FAIL:"nonce generation function failed or private key is invalid",ECDSA_RECOVER_FAIL:"couldn't recover public key from signature",MSG32_TYPE_INVALID:"message should be a Buffer",MSG32_LENGTH_INVALID:"message length is invalid",OPTIONS_TYPE_INVALID:"options should be an Object",OPTIONS_DATA_TYPE_INVALID:"options.data should be a Buffer",OPTIONS_DATA_LENGTH_INVALID:"options.data length is invalid",OPTIONS_NONCEFN_TYPE_INVALID:"options.noncefn should be a Function",RECOVERY_ID_TYPE_INVALID:"recovery should be a Number",RECOVERY_ID_VALUE_INVALID:"recovery should have value between -1 and 4",TWEAK_TYPE_INVALID:"tweak should be a Buffer",TWEAK_LENGTH_INVALID:"tweak length is invalid"}},function(t,e,r){var n=r(532),i=r(531),o=r(1231);t.exports={Curve:i,Point:n,getCurveByName:o}},function(t,e,r){(function(e){var n=r(327),i=r(22),o=r(33),s=r(99);function a(t,e){i(o.tuple(o.BigInt,o.BigInt),arguments),this.r=t,this.s=e}a.parseCompact=function(t){i(o.BufferN(65),t);var e=t.readUInt8(0)-27;if(e!==(7&e))throw new Error("Invalid signature parameter");return{compressed:!!(4&e),i:3&e,signature:a.fromRSBuffer(t.slice(1))}},a.fromRSBuffer=function(t){return i(o.BufferN(64),t),new a(s.fromBuffer(t.slice(0,32)),s.fromBuffer(t.slice(32,64)))},a.fromDER=function(t){var e=n.decode(t);return new a(s.fromDERInteger(e.r),s.fromDERInteger(e.s))},a.parseScriptSignature=function(t){var e=t.readUInt8(t.length-1),r=-129&e;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);return{signature:a.fromDER(t.slice(0,-1)),hashType:e}},a.prototype.toCompact=function(t,r){r&&(t+=4),t+=27;var n=e.alloc(65);return n.writeUInt8(t,0),this.toRSBuffer(n,1),n},a.prototype.toDER=function(){var t=e.from(this.r.toDERInteger()),r=e.from(this.s.toDERInteger());return n.encode(t,r)},a.prototype.toRSBuffer=function(t,r){return t=t||e.alloc(64),this.r.toBuffer(32).copy(t,r),this.s.toBuffer(32).copy(t,r+32),t},a.prototype.toScriptSignature=function(t){var r=-129&t;if(r<=0||r>=4)throw new Error("Invalid hashType "+t);var n=e.alloc(1);return n.writeUInt8(t,0),e.concat([this.toDER(),n])},t.exports=a}).call(this,r(0).Buffer)},function(t,e,r){"use strict";var n=r(51),i=r(1235);t.exports=i(function(t){var e=n("sha256").update(t).digest();return n("sha256").update(e).digest()})},function(t,e,r){var n=r(3).Buffer,i=r(1236),o=r(317),s=r(29),a=r(325),u=r(151),c=r(22),f=r(33);function l(t){var e=o.decode(t);if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");return{version:e.readUInt8(0),hash:e.slice(1)}}function h(t){var e=i.decode(t),r=i.fromWords(e.words.slice(1));return{version:e.words[0],prefix:e.prefix,data:n.from(r)}}function p(t,e){c(f.tuple(f.Hash160bit,f.UInt8),arguments);var r=n.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),o.encode(r)}function d(t,e,r){var n=i.toWords(t);return n.unshift(e),i.encode(r,n)}t.exports={fromBase58Check:l,fromBech32:h,fromOutputScript:function(t,e){if(e=e||u.bitcoin,a.pubKeyHash.output.check(t))return p(s.compile(t).slice(3,23),e.pubKeyHash);if(a.scriptHash.output.check(t))return p(s.compile(t).slice(2,22),e.scriptHash);if(a.witnessPubKeyHash.output.check(t))return d(s.compile(t).slice(2,22),0,e.bech32);if(a.witnessScriptHash.output.check(t))return d(s.compile(t).slice(2,34),0,e.bech32);throw new Error(s.toASM(t)+" has no matching Address")},toBase58Check:p,toBech32:d,toOutputScript:function(t,e){var r;e=e||u.bitcoin;try{r=l(t)}catch(t){}if(r){if(r.version===e.pubKeyHash)return a.pubKeyHash.output.encode(r.hash);if(r.version===e.scriptHash)return a.scriptHash.output.encode(r.hash)}else{try{r=h(t)}catch(t){}if(r){if(r.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(0===r.version){if(20===r.data.length)return a.witnessPubKeyHash.output.encode(r.data);if(32===r.data.length)return a.witnessScriptHash.output.encode(r.data)}}}throw new Error(t+" has no matching Script")}}},function(t,e,r){var n=r(318),i=r(125),o=r(1234),s=r(89),a=r(22),u=r(33),c=r(1229),f=r(151),l=r(99),h=r(315),p=o.__curve;function d(t,e,r){if(r&&a({compressed:u.maybe(u.Boolean),network:u.maybe(u.Network)},r),r=r||{},t){if(t.signum()<=0)throw new Error("Private key must be greater than 0");if(t.compareTo(p.n)>=0)throw new Error("Private key must be less than the curve order");if(e)throw new TypeError("Unexpected publicKey parameter");this.d=t}else a(u.ECPoint,e),this.__Q=e;this.compressed=void 0===r.compressed||r.compressed,this.network=r.network||f.bitcoin}Object.defineProperty(d.prototype,"Q",{get:function(){return!this.__Q&&this.d&&(this.__Q=p.G.multiply(this.d)),this.__Q}}),d.fromPublicKeyBuffer=function(t,e){var r=h.Point.decodeFrom(p,t);return new d(null,r,{compressed:r.compressed,network:e})},d.fromWIF=function(t,e){var r=c.decode(t),n=r.version;if(u.Array(e)){if(!(e=e.filter(function(t){return n===t.wif}).pop()))throw new Error("Unknown network version")}else if(e=e||f.bitcoin,n!==e.wif)throw new Error("Invalid network version");return new d(l.fromBuffer(r.privateKey),null,{compressed:r.compressed,network:e})},d.makeRandom=function(t){var e,r=(t=t||{}).rng||s;do{var n=r(32);a(u.Buffer256bit,n),e=l.fromBuffer(n)}while(e.signum()<=0||e.compareTo(p.n)>=0);return new d(e,null,t)},d.prototype.getAddress=function(){return n.toBase58Check(i.hash160(this.getPublicKeyBuffer()),this.getNetwork().pubKeyHash)},d.prototype.getNetwork=function(){return this.network},d.prototype.getPublicKeyBuffer=function(){return this.Q.getEncoded(this.compressed)},d.prototype.sign=function(t){if(!this.d)throw new Error("Missing private key");return o.sign(t,this.d)},d.prototype.toWIF=function(){if(!this.d)throw new Error("Missing private key");return c.encode(this.network.wif,this.d.toBuffer(32),this.compressed)},d.prototype.verify=function(t,e){return o.verify(t,e,this.Q)},t.exports=d},function(t,e,r){var n=r(3).Buffer,i=r(125),o=r(29),s=r(534),a=r(41),u=r(22),c=r(33),f=r(321);function l(t){var e=t.length;return f.encodingLength(e)+e}function h(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}h.DEFAULT_SEQUENCE=4294967295,h.SIGHASH_ALL=1,h.SIGHASH_NONE=2,h.SIGHASH_SINGLE=3,h.SIGHASH_ANYONECANPAY=128,h.ADVANCED_TRANSACTION_MARKER=0,h.ADVANCED_TRANSACTION_FLAG=1;var p=n.allocUnsafe(0),d=[],m=n.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),g=n.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),v=n.from("ffffffffffffffff","hex"),y={script:p,valueBuffer:v};h.fromBuffer=function(t,e){var r=0;function n(e){return r+=e,t.slice(r-e,r)}function i(){var e=t.readUInt32LE(r);return r+=4,e}function o(){var e=s.readUInt64LE(t,r);return r+=8,e}function a(){var e=f.decode(t,r);return r+=f.decode.bytes,e}function u(){return n(a())}function c(){for(var t=a(),e=[],r=0;r<t;r++)e.push(u());return e}var l=new h;l.version=function(){var e=t.readInt32LE(r);return r+=4,e}();var p=t.readUInt8(r),m=t.readUInt8(r+1),g=!1;p===h.ADVANCED_TRANSACTION_MARKER&&m===h.ADVANCED_TRANSACTION_FLAG&&(r+=2,g=!0);for(var v=a(),y=0;y<v;++y)l.ins.push({hash:n(32),index:i(),script:u(),sequence:i(),witness:d});var b=a();for(y=0;y<b;++y)l.outs.push({value:o(),script:u()});if(g){for(y=0;y<v;++y)l.ins[y].witness=c();if(!l.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(l.locktime=i(),e)return l;if(r!==t.length)throw new Error("Transaction has unexpected data");return l},h.fromHex=function(t){return h.fromBuffer(n.from(t,"hex"))},h.isCoinbaseHash=function(t){u(c.Hash256bit,t);for(var e=0;e<32;++e)if(0!==t[e])return!1;return!0},h.prototype.isCoinbase=function(){return 1===this.ins.length&&h.isCoinbaseHash(this.ins[0].hash)},h.prototype.addInput=function(t,e,r,n){return u(c.tuple(c.Hash256bit,c.UInt32,c.maybe(c.UInt32),c.maybe(c.Buffer)),arguments),c.Null(r)&&(r=h.DEFAULT_SEQUENCE),this.ins.push({hash:t,index:e,script:n||p,sequence:r,witness:d})-1},h.prototype.addOutput=function(t,e){return u(c.tuple(c.Buffer,c.Satoshi),arguments),this.outs.push({script:t,value:e})-1},h.prototype.hasWitnesses=function(){return this.ins.some(function(t){return 0!==t.witness.length})},h.prototype.weight=function(){return 3*this.__byteLength(!1)+this.__byteLength(!0)},h.prototype.virtualSize=function(){return Math.ceil(this.weight()/4)},h.prototype.byteLength=function(){return this.__byteLength(!0)},h.prototype.__byteLength=function(t){var e=t&&this.hasWitnesses();return(e?10:8)+f.encodingLength(this.ins.length)+f.encodingLength(this.outs.length)+this.ins.reduce(function(t,e){return t+40+l(e.script)},0)+this.outs.reduce(function(t,e){return t+8+l(e.script)},0)+(e?this.ins.reduce(function(t,e){return t+(r=e.witness,n=r.length,f.encodingLength(n)+r.reduce(function(t,e){return t+l(e)},0));var r,n},0):0)},h.prototype.clone=function(){var t=new h;return t.version=this.version,t.locktime=this.locktime,t.ins=this.ins.map(function(t){return{hash:t.hash,index:t.index,script:t.script,sequence:t.sequence,witness:t.witness}}),t.outs=this.outs.map(function(t){return{script:t.script,value:t.value}}),t},h.prototype.hashForSignature=function(t,e,r){if(u(c.tuple(c.UInt32,c.Buffer,c.Number),arguments),t>=this.ins.length)return g;var s=o.compile(o.decompile(e).filter(function(t){return t!==a.OP_CODESEPARATOR})),f=this.clone();if((31&r)===h.SIGHASH_NONE)f.outs=[],f.ins.forEach(function(e,r){r!==t&&(e.sequence=0)});else if((31&r)===h.SIGHASH_SINGLE){if(t>=this.outs.length)return g;f.outs.length=t+1;for(var l=0;l<t;l++)f.outs[l]=y;f.ins.forEach(function(e,r){r!==t&&(e.sequence=0)})}r&h.SIGHASH_ANYONECANPAY?(f.ins=[f.ins[t]],f.ins[0].script=s):(f.ins.forEach(function(t){t.script=p}),f.ins[t].script=s);var d=n.allocUnsafe(f.__byteLength(!1)+4);return d.writeInt32LE(r,d.length-4),f.__toBuffer(d,0,!1),i.hash256(d)},h.prototype.hashForWitnessV0=function(t,e,r,o){var a,p;function d(t){p+=t.copy(a,p)}function g(t){p=a.writeUInt32LE(t,p)}function v(t){p=s.writeUInt64LE(a,t,p)}function y(t){var e;e=t.length,f.encode(e,a,p),p+=f.encode.bytes,d(t)}u(c.tuple(c.UInt32,c.Buffer,c.Satoshi,c.UInt32),arguments);var b=m,w=m,_=m;if(o&h.SIGHASH_ANYONECANPAY||(a=n.allocUnsafe(36*this.ins.length),p=0,this.ins.forEach(function(t){d(t.hash),g(t.index)}),w=i.hash256(a)),o&h.SIGHASH_ANYONECANPAY||(31&o)===h.SIGHASH_SINGLE||(31&o)===h.SIGHASH_NONE||(a=n.allocUnsafe(4*this.ins.length),p=0,this.ins.forEach(function(t){g(t.sequence)}),_=i.hash256(a)),(31&o)!==h.SIGHASH_SINGLE&&(31&o)!==h.SIGHASH_NONE){var k=this.outs.reduce(function(t,e){return t+8+l(e.script)},0);a=n.allocUnsafe(k),p=0,this.outs.forEach(function(t){v(t.value),y(t.script)}),b=i.hash256(a)}else if((31&o)===h.SIGHASH_SINGLE&&t<this.outs.length){var S=this.outs[t];a=n.allocUnsafe(8+l(S.script)),p=0,v(S.value),y(S.script),b=i.hash256(a)}a=n.allocUnsafe(156+l(e)),p=0;var x=this.ins[t];return g(this.version),d(w),d(_),d(x.hash),g(x.index),y(e),v(r),g(x.sequence),d(b),g(this.locktime),g(o),i.hash256(a)},h.prototype.getHash=function(){return i.hash256(this.__toBuffer(void 0,void 0,!1))},h.prototype.getId=function(){return this.getHash().reverse().toString("hex")},h.prototype.toBuffer=function(t,e){return this.__toBuffer(t,e,!0)},h.prototype.__toBuffer=function(t,e,r){t||(t=n.allocUnsafe(this.__byteLength(r)));var i,o=e||0;function a(e){o+=e.copy(t,o)}function u(e){o=t.writeUInt8(e,o)}function c(e){o=t.writeUInt32LE(e,o)}function l(e){f.encode(e,t,o),o+=f.encode.bytes}function p(t){l(t.length),a(t)}i=this.version,o=t.writeInt32LE(i,o);var d=r&&this.hasWitnesses();return d&&(u(h.ADVANCED_TRANSACTION_MARKER),u(h.ADVANCED_TRANSACTION_FLAG)),l(this.ins.length),this.ins.forEach(function(t){a(t.hash),c(t.index),p(t.script),c(t.sequence)}),l(this.outs.length),this.outs.forEach(function(e){var r;e.valueBuffer?a(e.valueBuffer):(r=e.value,o=s.writeUInt64LE(t,r,o)),p(e.script)}),d&&this.ins.forEach(function(t){var e;l((e=t.witness).length),e.forEach(p)}),c(this.locktime),void 0!==e?t.slice(e,o):t},h.prototype.toHex=function(){return this.toBuffer().toString("hex")},h.prototype.setInputScript=function(t,e){u(c.tuple(c.Number,c.Buffer),arguments),this.ins[t].script=e},h.prototype.setWitness=function(t,e){u(c.tuple(c.Number,[c.Buffer]),arguments),this.ins[t].witness=e},t.exports=h},function(t,e,r){"use strict";var n=r(3).Buffer,i=9007199254740991;function o(t){if(t<0||t>i||t%1!=0)throw new RangeError("value out of range")}function s(t){return o(t),t<253?1:t<=65535?3:t<=4294967295?5:9}t.exports={encode:function t(e,r,i){if(o(e),r||(r=n.allocUnsafe(s(e))),!n.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");return i||(i=0),e<253?(r.writeUInt8(e,i),t.bytes=1):e<=65535?(r.writeUInt8(253,i),r.writeUInt16LE(e,i+1),t.bytes=3):e<=4294967295?(r.writeUInt8(254,i),r.writeUInt32LE(e,i+1),t.bytes=5):(r.writeUInt8(255,i),r.writeUInt32LE(e>>>0,i+1),r.writeUInt32LE(e/4294967296|0,i+5),t.bytes=9),r},decode:function t(e,r){if(!n.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");r||(r=0);var i=e.readUInt8(r);if(i<253)return t.bytes=1,i;if(253===i)return t.bytes=3,e.readUInt16LE(r+1);if(254===i)return t.bytes=5,e.readUInt32LE(r+1);t.bytes=9;var s=e.readUInt32LE(r+1),a=4294967296*e.readUInt32LE(r+5)+s;return o(a),a},encodingLength:s}},function(t,e,r){t.exports={input:r(1249),output:r(1248)}},function(t,e,r){t.exports={input:r(1251),output:r(1250)}},function(t,e,r){t.exports={input:r(1253),output:r(537)}},function(t,e,r){var n=r(29).decompile,i=r(324),o=r(1252),s=r(323),a=r(322),u=r(1247),c=r(1244),f=r(1242),l=r(1240),h={MULTISIG:"multisig",NONSTANDARD:"nonstandard",NULLDATA:"nulldata",P2PK:"pubkey",P2PKH:"pubkeyhash",P2SH:"scripthash",P2WPKH:"witnesspubkeyhash",P2WSH:"witnessscripthash",WITNESS_COMMITMENT:"witnesscommitment"};t.exports={classifyInput:function(t,e){var r=n(t);return a.input.check(r)?h.P2PKH:u.input.check(r,e)?h.P2SH:i.input.check(r,e)?h.MULTISIG:s.input.check(r)?h.P2PK:h.NONSTANDARD},classifyOutput:function(t){if(c.output.check(t))return h.P2WPKH;if(f.output.check(t))return h.P2WSH;if(a.output.check(t))return h.P2PKH;if(u.output.check(t))return h.P2SH;var e=n(t);return i.output.check(e)?h.MULTISIG:s.output.check(e)?h.P2PK:l.output.check(e)?h.WITNESS_COMMITMENT:o.output.check(e)?h.NULLDATA:h.NONSTANDARD},classifyWitness:function(t,e){var r=n(t);return c.input.check(r)?h.P2WPKH:f.input.check(r,e)?h.P2WSH:h.NONSTANDARD},multisig:i,nullData:o,pubKey:s,pubKeyHash:a,scriptHash:u,witnessPubKeyHash:c,witnessScriptHash:f,witnessCommitment:l,types:h}},function(t,e){var r={Array:function(t){return null!==t&&void 0!==t&&t.constructor===Array},Boolean:function(t){return"boolean"==typeof t},Function:function(t){return"function"==typeof t},Nil:function(t){return void 0===t||null===t},Number:function(t){return"number"==typeof t},Object:function(t){return"object"==typeof t},String:function(t){return"string"==typeof t},"":function(){return!0}};for(var n in r.Null=r.Nil,r)r[n].toJSON=function(t){return t}.bind(null,n);t.exports=r},function(t,e,r){var n=r(3).Buffer;t.exports={check:function(t){if(t.length<8)return!1;if(t.length>72)return!1;if(48!==t[0])return!1;if(t[1]!==t.length-2)return!1;if(2!==t[2])return!1;var e=t[3];if(0===e)return!1;if(5+e>=t.length)return!1;if(2!==t[4+e])return!1;var r=t[5+e];return!(0===r||6+e+r!==t.length||128&t[4]||e>1&&0===t[4]&&!(128&t[5])||128&t[e+6]||r>1&&0===t[e+6]&&!(128&t[e+7]))},decode:function(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(48!==t[0])throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(2!==t[2])throw new Error("Expected DER integer");var e=t[3];if(0===e)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(2!==t[4+e])throw new Error("Expected DER integer (2)");var r=t[5+e];if(0===r)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(128&t[4])throw new Error("R value is negative");if(e>1&&0===t[4]&&!(128&t[5]))throw new Error("R value excessively padded");if(128&t[e+6])throw new Error("S value is negative");if(r>1&&0===t[e+6]&&!(128&t[e+7]))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}},encode:function(t,e){var r=t.length,i=e.length;if(0===r)throw new Error("R length is zero");if(0===i)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(i>33)throw new Error("S length is too long");if(128&t[0])throw new Error("R value is negative");if(128&e[0])throw new Error("S value is negative");if(r>1&&0===t[0]&&!(128&t[1]))throw new Error("R value excessively padded");if(i>1&&0===e[0]&&!(128&e[1]))throw new Error("S value excessively padded");var o=n.allocUnsafe(6+r+i);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=t.length,t.copy(o,4),o[4+r]=2,o[5+r]=e.length,e.copy(o,6+r),o}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){"use strict";(function(t){const n=r(205),i=r(204),o=i.SHIFT32,s=i.SHIFT16;e.parseHalf=function(t){var e,r,n;return n=128&t[0]?-1:1,e=(124&t[0])>>2,r=(3&t[0])<<8|t[1],e?31===e?n*(r?NaN:Infinity):n*Math.pow(2,e-25)*(1024+r):5.960464477539063e-8*n*r},e.arrayBufferToBignumber=function(t){const e=t.byteLength;let r="";for(let n=0;n<e;n++)r+=(i=t[n])<16?"0"+i.toString(16):i.toString(16);var i;return new n(r,16)},e.buildMap=(t=>{const e=new Map,r=Object.keys(t),n=r.length;for(let i=0;i<n;i++)e.set(r[i],t[r[i]]);return e}),e.buildInt32=((t,e)=>t*s+e),e.buildInt64=((t,r,i,s)=>{const a=e.buildInt32(t,r),u=e.buildInt32(i,s);return a>2097151?new n(a).times(o).plus(u):a*o+u}),e.writeHalf=function(e,r){const n=new t(4);n.writeFloatBE(r,0);const i=n.readUInt32BE(0);if(0!=(8191&i))return!1;var o=i>>16&32768;const s=i>>23&255,a=8388607&i;if(s>=113&&s<=142)o+=(s-112<<10)+(a>>13);else{if(!(s>=103&&s<113))return!1;if(a&(1<<126-s)-1)return!1;o+=a+8388608>>126-s}return e.writeUInt16BE(o,0),!0},e.keySorter=function(t,e){var r=t[0].byteLength,n=e[0].byteLength;return r>n?1:n>r?-1:t[0].compare(e[0])},e.isNegativeZero=(t=>0===t&&1/t<0),e.nextPowerOf2=(t=>{let e=0;if(t&&!(t&t-1))return t;for(;0!==t;)t>>=1,e+=1;return 1<<e})}).call(this,r(0).Buffer)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){"use strict";e.defined=function(t){return null!==t&&void 0!==t&&("number"!=typeof t||!isNaN(t))}},function(t,e,r){"use strict";(function(n){const i=r(18),o=r(66)(r(1296)),s=r(100),a=r(334);(e=t.exports).serialize=function(t,e){let r;"DAGNode"!==t.constructor.name&&t.links&&(t.links=t.links.map(t=>s.util.isDagLink(t)?t:s.util.createDagLinkFromB58EncodedHash(t)));try{r=o.PBNode.encode(function(t){const e={};return t.data&&t.data.length>0?e.Data=t.data:e.Data=null,t.links&&t.links.length>0?e.Links=t.links.map(t=>({Hash:t.multihash,Name:t.name,Tsize:t.size})):e.Links=null,e}(t))}catch(t){return e(t)}e(null,r)},e.deserialize=function(t,e){const r=o.PBNode.decode(t),i=r.Links.map(t=>new s(t.Name,t.Tsize,t.Hash)),u=null==r.Data?n.alloc(0):n.from(r.Data);a.create(u,i,e)},e.cid=function(t,e){if(t.multihash)return e(null,new i(t.multihash));e(new Error("not valid dagPB node"))}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(n){const i=r(38),o=r(17);(e=t.exports=class{constructor(t,e,r,s){o(r,"DAGNode needs its serialized format"),o(s,"DAGNode needs its multihash"),"string"==typeof s&&(s=i.fromB58String(s)),this._data=t||n.alloc(0),this._links=e||[],this._serialized=r,this._multihash=s,this._size=this.links.reduce((t,e)=>t+e.size,this.serialized.length),this._json={data:this.data,links:this.links.map(t=>t.toJSON()),multihash:i.toB58String(this.multihash),size:this.size}}toJSON(){return this._json}toString(){return`DAGNode <${i.toB58String(this.multihash)} - data: "${this.data.toString()}", links: ${this.links.length}, size: ${this.size}>`}get data(){return this._data}set data(t){throw new Error("Can't set property: 'data' is immutable")}get links(){return this._links}set links(t){throw new Error("Can't set property: 'links' is immutable")}get serialized(){return this._serialized}set serialized(t){throw new Error("Can't set property: 'serialized' is immutable")}get size(){return this._size}set size(t){throw new Error("Can't set property: 'size' is immutable")}get multihash(){return this._multihash}set multihash(t){throw new Error("Can't set property: 'multihash' is immutable")}}).create=r(207),e.clone=r(1293),e.addLink=r(1292),e.rmLink=r(1291)}).call(this,r(0).Buffer)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default},function(t,e,r){e.source=r(213),e.through=r(1333),e.sink=r(560),e.duplex=r(559)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default},function(t,e,r){var n=r(1386),i=r(1385),o=r(1384);t.exports=function(t,e,r){return e==e?o(t,e,r):n(t,i,r)}},function(t,e){e.endianness=function(){return"LE"},e.hostname=function(){return"undefined"!=typeof location?location.hostname:""},e.loadavg=function(){return[]},e.uptime=function(){return 0},e.freemem=function(){return Number.MAX_VALUE},e.totalmem=function(){return Number.MAX_VALUE},e.cpus=function(){return[]},e.type=function(){return"Browser"},e.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},e.networkInterfaces=e.getNetworkInterfaces=function(){return{}},e.arch=function(){return"javascript"},e.platform=function(){return"browser"},e.tmpdir=e.tmpDir=function(){return"/tmp"},e.EOL="\n",e.homedir=function(){return"/"}},function(t,e,r){"use strict";const n=r(8),i=r(213),o=r(214),s=r(339),a=r(341);e.asyncFilter=function(t){let e,r,n=!1;return function(i){return function o(s,a){if(r)return a(r);s?(r=s,i(s,n?()=>{n?e=a:a(s)}:a)):i(null,(i,s)=>{i?a(i):r?a(r):(n=!0,t(s,(t,i)=>{n=!1,r?(a(r),e(r)):t?o(t,a):i?a(null,s):o(null,a)}))})}}},e.asyncSort=function(t){const e=i(),r=n.collect((r,i)=>{if(r)return e.abort(r);t(i,(t,r)=>{if(t)return e.abort(t);e.resolve(n.values(i))})});return function(t){return r(t),e}},e.replaceStartWith=function(t,e){const r=new RegExp("^"+e);return t.replace(r,"")},e.tmpdir=(()=>o.join(s.tmpdir(),a()))},function(t,e,r){var n=r(585),i=r(584);t.exports=function(t,e,r){var o=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[o+a]=s[a];return e||i(s)}},function(t,e,r){(function(n){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(1397)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++i)}),t.splice(o,0,n)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){((0,n.default)(t)?h:p)(t,(0,f.default)(e),r)};var n=l(r(10)),i=l(r(588)),o=l(r(592)),s=l(r(587)),a=l(r(4)),u=l(r(348)),c=l(r(215)),f=l(r(76));function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e,r){r=(0,u.default)(r||a.default);var n=0,o=0,s=t.length;function f(t,e){t?r(t):++o!==s&&e!==i.default||r(null)}for(0===s&&r(null);n<s;n++)e(t[n],n,(0,c.default)(f))}var p=(0,s.default)(o.default,1/0);t.exports=e.default},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,r){var n=r(594),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();t.exports=o},function(t,e,r){var n=r(595),i=r(1420),o=r(1419),s="[object Null]",a="[object Undefined]",u=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?a:s:u&&u in Object(t)?i(t):o(t)}},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(216),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default},function(t,e,r){"use strict";(function(e){const n=r(598),i=r(1421),o=r(1402),s=r(1401),a=r(17),u=r(214),c=r(342),f=r(1396),l=r(8),h=r(1395),p=r(1394),d=r(1389),m=r(1380),g=r(1379),v=r(1353),y=c("repo"),b=Number.MAX_SAFE_INTEGER,w={memory:r(561),fs:r(561)},_=r(1334).repoVersion;function k(t,e){l(t.query({}),l.reduce((t,e)=>t.plus(e.value.byteLength).plus(e.key._buf.byteLength),new f(0),e))}function S(t,e){return r=>{e(r&&!t(r)?r:null)}}function x(t){return S(t=>"Already open"===t.message,t)}t.exports=class{constructor(t,e){a.equal(typeof t,"string","missing repoPath"),this.options=function(t){const e=Object.assign({},v,t);return e.storageBackends=Object.assign({},v.storageBackends,e.storageBackends),e.storageBackendOptions=Object.assign({},v.storageBackendOptions,e.storageBackendOptions),e}(e),this.closed=!0,this.path=t,this._locker=w[this.options.lock],a(this._locker,"Unknown lock type: "+this.options.lock),this.root=h.create("root",this.path,this.options),this.version=p(this.root),this.config=d(this.root),this.apiAddr=m(this.root)}init(t,e){y("initializing at: %s",this.path),i([t=>this.root.open(x(t)),e=>this.config.set(t,e),t=>this.version.set(_,t)],e)}open(t){this.closed?(y("opening at: %s",this.path),n([t=>this.root.open(x(t)),t=>this._isInitialized(t),t=>this._locker.lock(this.path,t),(t,e)=>{y("aquired repo.lock"),this.lockfile=t,e()},t=>{y("creating datastore"),this.datastore=h.create("datastore",u.join(this.path,"datastore"),this.options),y("creating blocks");const e=h.create("blocks",u.join(this.path,"blocks"),this.options);g(e,this.options.storageBackendOptions.blocks,t)},(t,e)=>{this.blocks=t,e()},t=>{y("creating keystore"),this.keys=h.create("keys",u.join(this.path,"keys"),this.options),t()},t=>{this.closed=!1,y("all opened"),t()}],e=>{e&&this.lockfile?this.lockfile.close(r=>{r?y("error removing lock",r):this.lockfile=null,t(e)}):t(e)})):e(()=>t(new Error("repo is already open")))}_isInitialized(t){y("init check"),o({config:t=>this.config.exists(t),version:t=>this.version.check(_,t)},(e,r)=>(y("init",e,r),e?t(e):r.config?void t():t(new Error("repo is not initialized yet"))))}close(t){if(this.closed)return t(new Error("repo is already closed"));var e;y("closing at: %s",this.path),i([t=>this.apiAddr.delete((t=t,S(t=>t.message.startsWith("ENOENT"),t))),t=>{s([this.blocks,this.keys,this.datastore],(t,e)=>t.close(e),t)},t=>{y("unlocking"),this.closed=!0,this.lockfile.close(t)},t=>{this.lockfile=null,t()}],e=>t(e))}exists(t){this.version.exists(t)}stat(t,e){"function"==typeof t&&(e=t,t={}),t=Object.assign({},{human:!1},t),o({storageMax:t=>this.config.get("Datastore.StorageMax",(e,r)=>{t(null,new f(e?b:r))}),version:t=>this.version.get(t),blocks:t=>this.blocks.query({},(e,r)=>{const n=new f((r=r||[]).length);let i=new f(0);r.forEach(t=>{i=i.plus(t.value.byteLength).plus(t.key._buf.byteLength)}),t(e,{count:n,size:i})}),datastore:t=>k(this.datastore,t),keys:t=>k(this.keys,t)},(r,n)=>{if(r)return e(r);let i=n.blocks.size.plus(n.datastore).plus(n.keys);t.human&&(i=i.div(1048576)),e(null,{repoPath:this.path,storageMax:n.storageMax,version:n.version,numObjects:n.blocks.count,repoSize:i})})}},t.exports.repoVersion=_}).call(this,r(12).setImmediate)},function(t,e,r){"use strict";var n=r(601);t.exports=function(t){return t=n(t),function(e){return function r(n,i){for(var o,s=!0;s;)s=!1,o=!0,e(n,function(e,n){if(!e&&!t(n))return o?s=!0:r(e,i);i(e,n)}),o=!1}}}},function(t,e,r){"use strict";var n=r(155);t.exports=function(t,e,r){r||(r=e,e=null);var i=n(function(r){e=t(e,r)},function(t){r(t,e)});return 2===arguments.length?function(t){t(null,function(n,o){if(n)return r(!0===n?null:n);e=o,i(t)})}:i}},function(t,e,r){"use strict";var n=r(603);t.exports=function(t,e){if(!t)return function(t,r){return t?n(r,t,e):r(!0)};Array.isArray(t)||(t=Object.keys(t).map(function(e){return t[e]}));var r=0;return function(i,o){if(i)return n(o,i,e);r>=t.length?o(!0):o(null,t[r++])}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformDecodedInputData=function(t){for(var e={name:t.name,params:{}},r=0;r<t.params.length;r++){var n=t.params[r];e.params[n.name]={value:n.value,type:n.type}}return e},e.transformDecodedLogData=function(t){var e=[];return t.forEach(function(t){for(var r={},n=0;n<t.events.length;n++){var i=t.events[n];r[i.name]={type:i.type,value:i.value}}e.push({address:t.address,events:r,name:t.name})}),e},e.generateFakeTransactionInfo=function(){return{hash:"",nonce:0,blockHash:"",blockNumber:0,transactionIndex:0,from:"",to:"",value:"0",gasPrice:"0",gas:0,input:"",decodedInputData:{name:"post",params:{timestamp:{value:Date.now(),type:"uint"}}}}},e.getTransactionCreationTimestamp=function(t){var e=t.decodedInputData.params;return parseInt(e.timestamp.value,10)||0}},function(t,e,r){var n,i,o,s,a,u,c;t.exports=(n=r(15),o=(i=n).lib,s=o.Base,a=i.enc,u=a.Utf8,c=i.algo,void(c.HMAC=s.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=u.parse(e));var r=t.blockSize,n=4*r;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),o=this._iKey=e.clone(),s=i.words,a=o.words,c=0;c<r;c++)s[c]^=1549556828,a[c]^=909522486;i.sigBytes=o.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,r=e.finalize(t);e.reset();var n=e.finalize(this._oKey.clone().concat(r));return n}})))},function(t,e,r){var n,i,o,s,a,u,c;t.exports=(n=r(15),o=(i=n).lib,s=o.WordArray,a=o.Hasher,u=[],c=i.algo.SHA1=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],c=0;c<80;c++){if(c<16)u[c]=0|t[e+c];else{var f=u[c-3]^u[c-8]^u[c-14]^u[c-16];u[c]=f<<1|f>>>31}var l=(n<<5|n>>>27)+a+u[c];l+=c<20?1518500249+(i&o|~i&s):c<40?1859775393+(i^o^s):c<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,a=s,s=o,o=i<<30|i>>>2,i=n,n=l}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),i.SHA1=a._createHelper(c),i.HmacSHA1=a._createHmacHelper(c),n.SHA1)},function(t,e){var r=[].indexOf;t.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},function(t,e,r){var n=e;n.utils=r(67),n.common=r(161),n.sha=r(1585),n.ripemd=r(1581),n.hmac=r(1580),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},function(t,e,r){(function(e){var n=r(19),i=r(89);function o(t,r){var i=function(t){var e=s(t);return{blinder:e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}(r),o=r.modulus.byteLength(),a=(n.mont(r.modulus),new n(t).mul(i.blinder).umod(r.modulus)),u=a.toRed(n.mont(r.prime1)),c=a.toRed(n.mont(r.prime2)),f=r.coefficient,l=r.prime1,h=r.prime2,p=u.redPow(r.exponent1),d=c.redPow(r.exponent2);p=p.fromRed(),d=d.fromRed();var m=p.isub(d).imul(f).umod(l);return m.imul(h),d.iadd(m),new e(d.imul(i.unblinder).umod(r.modulus).toArray(!1,o))}function s(t){for(var e=t.modulus.byteLength(),r=new n(i(e));r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2);)r=new n(i(e));return r}t.exports=o,o.getr=s}).call(this,r(0).Buffer)},function(t,e,r){var n={ECB:r(1608),CBC:r(1607),CFB:r(1606),CFB8:r(1605),CFB1:r(1604),OFB:r(1603),CTR:r(642),GCM:r(642)},i=r(640);for(var o in i)i[o].module=n[i[o].mode];t.exports=i},function(t,e,r){"use strict";e.utils=r(1614),e.Cipher=r(1613),e.DES=r(1612),e.CBC=r(1611),e.EDE=r(1610)},function(t,e,r){e.pbkdf2=r(1617),e.pbkdf2Sync=r(643)},function(t,e,r){(e=t.exports=function(t){t=t.toLowerCase();var r=e[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r}).sha=r(1623),e.sha1=r(1622),e.sha224=r(1621),e.sha256=r(649),e.sha384=r(1620),e.sha512=r(648)},function(t,e,r){"use strict";(function(e){var n=r(6),i=r(1624);function o(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function s(t,e){return t<<e|t>>>32-e}function a(t,e,r,n,i,o,a,u){return s(t+(e^r^n)+o+a|0,u)+i|0}function u(t,e,r,n,i,o,a,u){return s(t+(e&r|~e&n)+o+a|0,u)+i|0}function c(t,e,r,n,i,o,a,u){return s(t+((e|~r)^n)+o+a|0,u)+i|0}function f(t,e,r,n,i,o,a,u){return s(t+(e&n|r&~n)+o+a|0,u)+i|0}function l(t,e,r,n,i,o,a,u){return s(t+(e^(r|~n))+o+a|0,u)+i|0}n(o,i),o.prototype._update=function(){for(var t=new Array(16),e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var r=this._a,n=this._b,i=this._c,o=this._d,h=this._e;h=a(h,r=a(r,n,i,o,h,t[0],0,11),n,i=s(i,10),o,t[1],0,14),n=a(n=s(n,10),i=a(i,o=a(o,h,r,n,i,t[2],0,15),h,r=s(r,10),n,t[3],0,12),o,h=s(h,10),r,t[4],0,5),o=a(o=s(o,10),h=a(h,r=a(r,n,i,o,h,t[5],0,8),n,i=s(i,10),o,t[6],0,7),r,n=s(n,10),i,t[7],0,9),r=a(r=s(r,10),n=a(n,i=a(i,o,h,r,n,t[8],0,11),o,h=s(h,10),r,t[9],0,13),i,o=s(o,10),h,t[10],0,14),i=a(i=s(i,10),o=a(o,h=a(h,r,n,i,o,t[11],0,15),r,n=s(n,10),i,t[12],0,6),h,r=s(r,10),n,t[13],0,7),h=u(h=s(h,10),r=a(r,n=a(n,i,o,h,r,t[14],0,9),i,o=s(o,10),h,t[15],0,8),n,i=s(i,10),o,t[7],1518500249,7),n=u(n=s(n,10),i=u(i,o=u(o,h,r,n,i,t[4],1518500249,6),h,r=s(r,10),n,t[13],1518500249,8),o,h=s(h,10),r,t[1],1518500249,13),o=u(o=s(o,10),h=u(h,r=u(r,n,i,o,h,t[10],1518500249,11),n,i=s(i,10),o,t[6],1518500249,9),r,n=s(n,10),i,t[15],1518500249,7),r=u(r=s(r,10),n=u(n,i=u(i,o,h,r,n,t[3],1518500249,15),o,h=s(h,10),r,t[12],1518500249,7),i,o=s(o,10),h,t[0],1518500249,12),i=u(i=s(i,10),o=u(o,h=u(h,r,n,i,o,t[9],1518500249,15),r,n=s(n,10),i,t[5],1518500249,9),h,r=s(r,10),n,t[2],1518500249,11),h=u(h=s(h,10),r=u(r,n=u(n,i,o,h,r,t[14],1518500249,7),i,o=s(o,10),h,t[11],1518500249,13),n,i=s(i,10),o,t[8],1518500249,12),n=c(n=s(n,10),i=c(i,o=c(o,h,r,n,i,t[3],1859775393,11),h,r=s(r,10),n,t[10],1859775393,13),o,h=s(h,10),r,t[14],1859775393,6),o=c(o=s(o,10),h=c(h,r=c(r,n,i,o,h,t[4],1859775393,7),n,i=s(i,10),o,t[9],1859775393,14),r,n=s(n,10),i,t[15],1859775393,9),r=c(r=s(r,10),n=c(n,i=c(i,o,h,r,n,t[8],1859775393,13),o,h=s(h,10),r,t[1],1859775393,15),i,o=s(o,10),h,t[2],1859775393,14),i=c(i=s(i,10),o=c(o,h=c(h,r,n,i,o,t[7],1859775393,8),r,n=s(n,10),i,t[0],1859775393,13),h,r=s(r,10),n,t[6],1859775393,6),h=c(h=s(h,10),r=c(r,n=c(n,i,o,h,r,t[13],1859775393,5),i,o=s(o,10),h,t[11],1859775393,12),n,i=s(i,10),o,t[5],1859775393,7),n=f(n=s(n,10),i=f(i,o=c(o,h,r,n,i,t[12],1859775393,5),h,r=s(r,10),n,t[1],2400959708,11),o,h=s(h,10),r,t[9],2400959708,12),o=f(o=s(o,10),h=f(h,r=f(r,n,i,o,h,t[11],2400959708,14),n,i=s(i,10),o,t[10],2400959708,15),r,n=s(n,10),i,t[0],2400959708,14),r=f(r=s(r,10),n=f(n,i=f(i,o,h,r,n,t[8],2400959708,15),o,h=s(h,10),r,t[12],2400959708,9),i,o=s(o,10),h,t[4],2400959708,8),i=f(i=s(i,10),o=f(o,h=f(h,r,n,i,o,t[13],2400959708,9),r,n=s(n,10),i,t[3],2400959708,14),h,r=s(r,10),n,t[7],2400959708,5),h=f(h=s(h,10),r=f(r,n=f(n,i,o,h,r,t[15],2400959708,6),i,o=s(o,10),h,t[14],2400959708,8),n,i=s(i,10),o,t[5],2400959708,6),n=l(n=s(n,10),i=f(i,o=f(o,h,r,n,i,t[6],2400959708,5),h,r=s(r,10),n,t[2],2400959708,12),o,h=s(h,10),r,t[4],2840853838,9),o=l(o=s(o,10),h=l(h,r=l(r,n,i,o,h,t[0],2840853838,15),n,i=s(i,10),o,t[5],2840853838,5),r,n=s(n,10),i,t[9],2840853838,11),r=l(r=s(r,10),n=l(n,i=l(i,o,h,r,n,t[7],2840853838,6),o,h=s(h,10),r,t[12],2840853838,8),i,o=s(o,10),h,t[2],2840853838,13),i=l(i=s(i,10),o=l(o,h=l(h,r,n,i,o,t[10],2840853838,12),r,n=s(n,10),i,t[14],2840853838,5),h,r=s(r,10),n,t[1],2840853838,12),h=l(h=s(h,10),r=l(r,n=l(n,i,o,h,r,t[3],2840853838,13),i,o=s(o,10),h,t[8],2840853838,14),n,i=s(i,10),o,t[11],2840853838,11),n=l(n=s(n,10),i=l(i,o=l(o,h,r,n,i,t[6],2840853838,8),h,r=s(r,10),n,t[15],2840853838,5),o,h=s(h,10),r,t[13],2840853838,6),o=s(o,10);var p=this._a,d=this._b,m=this._c,g=this._d,v=this._e;v=l(v,p=l(p,d,m,g,v,t[5],1352829926,8),d,m=s(m,10),g,t[14],1352829926,9),d=l(d=s(d,10),m=l(m,g=l(g,v,p,d,m,t[7],1352829926,9),v,p=s(p,10),d,t[0],1352829926,11),g,v=s(v,10),p,t[9],1352829926,13),g=l(g=s(g,10),v=l(v,p=l(p,d,m,g,v,t[2],1352829926,15),d,m=s(m,10),g,t[11],1352829926,15),p,d=s(d,10),m,t[4],1352829926,5),p=l(p=s(p,10),d=l(d,m=l(m,g,v,p,d,t[13],1352829926,7),g,v=s(v,10),p,t[6],1352829926,7),m,g=s(g,10),v,t[15],1352829926,8),m=l(m=s(m,10),g=l(g,v=l(v,p,d,m,g,t[8],1352829926,11),p,d=s(d,10),m,t[1],1352829926,14),v,p=s(p,10),d,t[10],1352829926,14),v=f(v=s(v,10),p=l(p,d=l(d,m,g,v,p,t[3],1352829926,12),m,g=s(g,10),v,t[12],1352829926,6),d,m=s(m,10),g,t[6],1548603684,9),d=f(d=s(d,10),m=f(m,g=f(g,v,p,d,m,t[11],1548603684,13),v,p=s(p,10),d,t[3],1548603684,15),g,v=s(v,10),p,t[7],1548603684,7),g=f(g=s(g,10),v=f(v,p=f(p,d,m,g,v,t[0],1548603684,12),d,m=s(m,10),g,t[13],1548603684,8),p,d=s(d,10),m,t[5],1548603684,9),p=f(p=s(p,10),d=f(d,m=f(m,g,v,p,d,t[10],1548603684,11),g,v=s(v,10),p,t[14],1548603684,7),m,g=s(g,10),v,t[15],1548603684,7),m=f(m=s(m,10),g=f(g,v=f(v,p,d,m,g,t[8],1548603684,12),p,d=s(d,10),m,t[12],1548603684,7),v,p=s(p,10),d,t[4],1548603684,6),v=f(v=s(v,10),p=f(p,d=f(d,m,g,v,p,t[9],1548603684,15),m,g=s(g,10),v,t[1],1548603684,13),d,m=s(m,10),g,t[2],1548603684,11),d=c(d=s(d,10),m=c(m,g=c(g,v,p,d,m,t[15],1836072691,9),v,p=s(p,10),d,t[5],1836072691,7),g,v=s(v,10),p,t[1],1836072691,15),g=c(g=s(g,10),v=c(v,p=c(p,d,m,g,v,t[3],1836072691,11),d,m=s(m,10),g,t[7],1836072691,8),p,d=s(d,10),m,t[14],1836072691,6),p=c(p=s(p,10),d=c(d,m=c(m,g,v,p,d,t[6],1836072691,6),g,v=s(v,10),p,t[9],1836072691,14),m,g=s(g,10),v,t[11],1836072691,12),m=c(m=s(m,10),g=c(g,v=c(v,p,d,m,g,t[8],1836072691,13),p,d=s(d,10),m,t[12],1836072691,5),v,p=s(p,10),d,t[2],1836072691,14),v=c(v=s(v,10),p=c(p,d=c(d,m,g,v,p,t[10],1836072691,13),m,g=s(g,10),v,t[0],1836072691,13),d,m=s(m,10),g,t[4],1836072691,7),d=u(d=s(d,10),m=u(m,g=c(g,v,p,d,m,t[13],1836072691,5),v,p=s(p,10),d,t[8],2053994217,15),g,v=s(v,10),p,t[6],2053994217,5),g=u(g=s(g,10),v=u(v,p=u(p,d,m,g,v,t[4],2053994217,8),d,m=s(m,10),g,t[1],2053994217,11),p,d=s(d,10),m,t[3],2053994217,14),p=u(p=s(p,10),d=u(d,m=u(m,g,v,p,d,t[11],2053994217,14),g,v=s(v,10),p,t[15],2053994217,6),m,g=s(g,10),v,t[0],2053994217,14),m=u(m=s(m,10),g=u(g,v=u(v,p,d,m,g,t[5],2053994217,6),p,d=s(d,10),m,t[12],2053994217,9),v,p=s(p,10),d,t[2],2053994217,12),v=u(v=s(v,10),p=u(p,d=u(d,m,g,v,p,t[13],2053994217,9),m,g=s(g,10),v,t[9],2053994217,12),d,m=s(m,10),g,t[7],2053994217,5),d=a(d=s(d,10),m=u(m,g=u(g,v,p,d,m,t[10],2053994217,15),v,p=s(p,10),d,t[14],2053994217,8),g,v=s(v,10),p,t[12],0,8),g=a(g=s(g,10),v=a(v,p=a(p,d,m,g,v,t[15],0,5),d,m=s(m,10),g,t[10],0,12),p,d=s(d,10),m,t[4],0,9),p=a(p=s(p,10),d=a(d,m=a(m,g,v,p,d,t[1],0,12),g,v=s(v,10),p,t[5],0,5),m,g=s(g,10),v,t[8],0,14),m=a(m=s(m,10),g=a(g,v=a(v,p,d,m,g,t[7],0,6),p,d=s(d,10),m,t[6],0,8),v,p=s(p,10),d,t[2],0,13),v=a(v=s(v,10),p=a(p,d=a(d,m,g,v,p,t[13],0,6),m,g=s(g,10),v,t[14],0,5),d,m=s(m,10),g,t[0],0,15),d=a(d=s(d,10),m=a(m,g=a(g,v,p,d,m,t[3],0,13),v,p=s(p,10),d,t[9],0,11),g,v=s(v,10),p,t[11],0,11),g=s(g,10);var y=this._b+i+g|0;this._b=this._c+o+v|0,this._c=this._d+h+p|0,this._d=this._e+r+d|0,this._e=this._a+n+m|0,this._a=y},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=new e(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=o}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e,n,i){var o=r(88);function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=y;var a,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?n:o.nextTick;y.WritableState=v;var c=r(42);c.inherits=r(6);var f={deprecate:r(651)},l=r(654),h=r(3).Buffer,p=i.Uint8Array||function(){};var d,m=r(653);function g(){}function v(t,e){a=a||r(105),t=t||{};var n=e instanceof a;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,c=t.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(c||0===c)?c:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(o.nextTick(i,n),o.nextTick(x,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),x(t,e))}(t,r,n,e,i);else{var s=k(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||_(t,r),n?u(w,t,r,s,i):w(t,r,s,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function y(t){if(a=a||r(105),!(d.call(y,this)||this instanceof a))return new y(t);this._writableState=new v(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),l.call(this)}function b(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function w(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),x(t,e)}function _(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,b(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,f=r.encoding,l=r.callback;if(b(t,e,!1,e.objectMode?1:c.length,c,f,l),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function k(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function S(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),x(t,e)})}function x(t,e){var r=k(e);return r&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(S,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}c.inherits(y,l),v.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(v.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(t){return!!d.call(this,t)||this===y&&(t&&t._writableState instanceof v)}})):d=function(t){return t instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(t,e,r){var n,i=this._writableState,s=!1,a=!i.objectMode&&(n=t,h.isBuffer(n)||n instanceof p);return a&&!h.isBuffer(t)&&(t=function(t){return h.from(t)}(t)),"function"==typeof e&&(r=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=g),i.ended?function(t,e){var r=new Error("write after end");t.emit("error",r),o.nextTick(e,r)}(this,r):(a||function(t,e,r,n){var i=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),o.nextTick(n,s),i=!1),i}(this,i,t,r))&&(i.pendingcb++,s=function(t,e,r,n,i,o){if(!r){var s=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=h.from(e,r));return e}(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,a,n,i,o);return u}(this,i,a,t,e,r)),s},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||_(this,t))},y.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!==t&&void 0!==t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(t,e,r){e.ending=!0,x(t,e),r&&(e.finished?o.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,r(2),r(12).setImmediate,r(7))},function(t,e,r){"use strict";(function(e){var n=r(6),i=r(1634),o=new Array(16);function s(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function a(t,e){return t<<e|t>>>32-e}function u(t,e,r,n,i,o,s){return a(t+(e&r|~e&n)+i+o|0,s)+e|0}function c(t,e,r,n,i,o,s){return a(t+(e&n|r&~n)+i+o|0,s)+e|0}function f(t,e,r,n,i,o,s){return a(t+(e^r^n)+i+o|0,s)+e|0}function l(t,e,r,n,i,o,s){return a(t+(r^(e|~n))+i+o|0,s)+e|0}n(s,i),s.prototype._update=function(){for(var t=o,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var r=this._a,n=this._b,i=this._c,s=this._d;n=l(n=l(n=l(n=l(n=f(n=f(n=f(n=f(n=c(n=c(n=c(n=c(n=u(n=u(n=u(n=u(n,i=u(i,s=u(s,r=u(r,n,i,s,t[0],3614090360,7),n,i,t[1],3905402710,12),r,n,t[2],606105819,17),s,r,t[3],3250441966,22),i=u(i,s=u(s,r=u(r,n,i,s,t[4],4118548399,7),n,i,t[5],1200080426,12),r,n,t[6],2821735955,17),s,r,t[7],4249261313,22),i=u(i,s=u(s,r=u(r,n,i,s,t[8],1770035416,7),n,i,t[9],2336552879,12),r,n,t[10],4294925233,17),s,r,t[11],2304563134,22),i=u(i,s=u(s,r=u(r,n,i,s,t[12],1804603682,7),n,i,t[13],4254626195,12),r,n,t[14],2792965006,17),s,r,t[15],1236535329,22),i=c(i,s=c(s,r=c(r,n,i,s,t[1],4129170786,5),n,i,t[6],3225465664,9),r,n,t[11],643717713,14),s,r,t[0],3921069994,20),i=c(i,s=c(s,r=c(r,n,i,s,t[5],3593408605,5),n,i,t[10],38016083,9),r,n,t[15],3634488961,14),s,r,t[4],3889429448,20),i=c(i,s=c(s,r=c(r,n,i,s,t[9],568446438,5),n,i,t[14],3275163606,9),r,n,t[3],4107603335,14),s,r,t[8],1163531501,20),i=c(i,s=c(s,r=c(r,n,i,s,t[13],2850285829,5),n,i,t[2],4243563512,9),r,n,t[7],1735328473,14),s,r,t[12],2368359562,20),i=f(i,s=f(s,r=f(r,n,i,s,t[5],4294588738,4),n,i,t[8],2272392833,11),r,n,t[11],1839030562,16),s,r,t[14],4259657740,23),i=f(i,s=f(s,r=f(r,n,i,s,t[1],2763975236,4),n,i,t[4],1272893353,11),r,n,t[7],4139469664,16),s,r,t[10],3200236656,23),i=f(i,s=f(s,r=f(r,n,i,s,t[13],681279174,4),n,i,t[0],3936430074,11),r,n,t[3],3572445317,16),s,r,t[6],76029189,23),i=f(i,s=f(s,r=f(r,n,i,s,t[9],3654602809,4),n,i,t[12],3873151461,11),r,n,t[15],530742520,16),s,r,t[2],3299628645,23),i=l(i,s=l(s,r=l(r,n,i,s,t[0],4096336452,6),n,i,t[7],1126891415,10),r,n,t[14],2878612391,15),s,r,t[5],4237533241,21),i=l(i,s=l(s,r=l(r,n,i,s,t[12],1700485571,6),n,i,t[3],2399980690,10),r,n,t[10],4293915773,15),s,r,t[1],2240044497,21),i=l(i,s=l(s,r=l(r,n,i,s,t[8],1873313359,6),n,i,t[15],4264355552,10),r,n,t[6],2734768916,15),s,r,t[13],1309151649,21),i=l(i,s=l(s,r=l(r,n,i,s,t[4],4149444226,6),n,i,t[11],3174756917,10),r,n,t[2],718787259,15),s,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=new e(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=s}).call(this,r(0).Buffer)},function(t,e,r){r(1635);var n=function(t,e){return parseInt(t.slice(2*e+2,2*e+4),16)},i=function(t){return(t.length-2)/2},o=function(t){for(var e=[],r=2,n=t.length;r<n;r+=2)e.push(parseInt(t.slice(r,r+2),16));return e},s=function(t){for(var e="0x",r=0,n=t.length;r<n;++r){var i=t[r];e+=(i<16?"0":"")+i.toString(16)}return e};t.exports={random:function(t){var e=void 0;e="undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?window.crypto.getRandomValues(new Uint8Array(t)):r(107).randomBytes(t);for(var n="0x",i=0;i<t;++i)n+=("00"+e[i].toString(16)).slice(-2);return n},length:i,concat:function(t,e){return t.concat(e.slice(2))},flatten:function(t){return"0x"+t.reduce(function(t,e){return t+e.slice(2)},"")},slice:function(t,e,r){return"0x"+r.slice(2*t+2,2*e+2)},reverse:function(t){for(var e="0x",r=0,n=i(t);r<n;++r)e+=t.slice(2*(n-r),2*(n-r+1));return e},pad:function t(e,r){return r.length===2*e+2?r:t(e,"0x0"+r.slice(2))},padRight:function t(e,r){return r.length===2*e+2?r:t(e,r+"0")},fromAscii:function(t){for(var e="0x",r=0;r<t.length;++r)e+=("00"+t.charCodeAt(r).toString(16)).slice(-2);return e},toAscii:function(t){for(var e="",r=2;r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.slice(r,r+2),16));return e},fromString:function(t){for(var e=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},r="0x",n=0;n!=t.length;n++){var i=t.charCodeAt(n);if(i<128)r+=e(i);else{if(i<2048)r+=e(i>>6|192);else{if(i>55295&&i<56320){if(++n==t.length)return null;var o=t.charCodeAt(n);if(o<56320||o>57343)return null;r+=e((i=65536+((1023&i)<<10)+(1023&o))>>18|240),r+=e(i>>12&63|128)}else r+=e(i>>12|224);r+=e(i>>6&63|128)}r+=e(63&i|128)}}return r},toString:function(t){for(var e="",r=0,o=i(t);r<o;){var s=n(t,r++);if(s>127){if(s>191&&s<224){if(r>=o)return null;s=(31&s)<<6|63&n(t,r)}else if(s>223&&s<240){if(r+1>=o)return null;s=(15&s)<<12|(63&n(t,r))<<6|63&n(t,++r)}else{if(!(s>239&&s<248))return null;if(r+2>=o)return null;s=(7&s)<<18|(63&n(t,r))<<12|(63&n(t,++r))<<6|63&n(t,++r)}++r}if(s<=65535)e+=String.fromCharCode(s);else{if(!(s<=1114111))return null;s-=65536,e+=String.fromCharCode(s>>10|55296),e+=String.fromCharCode(1023&s|56320)}}return e},fromNumber:function(t){var e=t.toString(16);return e.length%2==0?"0x"+e:"0x0"+e},toNumber:function(t){return parseInt(t.slice(2),16)},fromNat:function(t){return"0x0"===t?"0x":t.length%2==0?t:"0x0"+t.slice(2)},toNat:function(t){return"0"===t[2]?"0x"+t.slice(3):t},fromArray:s,toArray:o,fromUint8Array:function(t){return s([].slice.call(t,0))},toUint8Array:function(t){return new Uint8Array(o(t))}}},function(t,e,r){var n;(function(){var r=this,i=r._,o=Array.prototype,s=Object.prototype,a=Function.prototype,u=o.push,c=o.slice,f=s.toString,l=s.hasOwnProperty,h=Array.isArray,p=Object.keys,d=a.bind,m=Object.create,g=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};void 0!==t&&t.exports&&(e=t.exports=v),e._=v,v.VERSION="1.8.3";var y=function(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)}}return function(){return t.apply(e,arguments)}},b=function(t,e,r){return null==t?v.identity:v.isFunction(t)?y(t,e,r):v.isObject(t)?v.matcher(t):v.property(t)};v.iteratee=function(t,e){return b(t,e,1/0)};var w=function(t,e){return function(r){var n=arguments.length;if(n<2||null==r)return r;for(var i=1;i<n;i++)for(var o=arguments[i],s=t(o),a=s.length,u=0;u<a;u++){var c=s[u];e&&void 0!==r[c]||(r[c]=o[c])}return r}},_=function(t){if(!v.isObject(t))return{};if(m)return m(t);g.prototype=t;var e=new g;return g.prototype=null,e},k=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,x=k("length"),E=function(t){var e=x(t);return"number"==typeof e&&e>=0&&e<=S};function C(t){return function(e,r,n,i){r=y(r,i,4);var o=!E(e)&&v.keys(e),s=(o||e).length,a=t>0?0:s-1;return arguments.length<3&&(n=e[o?o[a]:a],a+=t),function(e,r,n,i,o,s){for(;o>=0&&o<s;o+=t){var a=i?i[o]:o;n=r(n,e[a],a,e)}return n}(e,r,n,o,a,s)}}v.each=v.forEach=function(t,e,r){var n,i;if(e=y(e,r),E(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else{var o=v.keys(t);for(n=0,i=o.length;n<i;n++)e(t[o[n]],o[n],t)}return t},v.map=v.collect=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=Array(i),s=0;s<i;s++){var a=n?n[s]:s;o[s]=e(t[a],a,t)}return o},v.reduce=v.foldl=v.inject=C(1),v.reduceRight=v.foldr=C(-1),v.find=v.detect=function(t,e,r){var n;if(void 0!==(n=E(t)?v.findIndex(t,e,r):v.findKey(t,e,r))&&-1!==n)return t[n]},v.filter=v.select=function(t,e,r){var n=[];return e=b(e,r),v.each(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n},v.reject=function(t,e,r){return v.filter(t,v.negate(b(e)),r)},v.every=v.all=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(!e(t[s],s,t))return!1}return!0},v.some=v.any=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(e(t[s],s,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,r,n){return E(t)||(t=v.values(t)),("number"!=typeof r||n)&&(r=0),v.indexOf(t,e,r)>=0},v.invoke=function(t,e){var r=c.call(arguments,2),n=v.isFunction(e);return v.map(t,function(t){var i=n?e:t[e];return null==i?i:i.apply(t,r)})},v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,r){var n,i,o=-1/0,s=-1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])>o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)});return o},v.min=function(t,e,r){var n,i,o=1/0,s=1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])<o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))<s||i===1/0&&o===1/0)&&(o=t,s=i)});return o},v.shuffle=function(t){for(var e,r=E(t)?t:v.values(t),n=r.length,i=Array(n),o=0;o<n;o++)(e=v.random(0,o))!==o&&(i[o]=i[e]),i[e]=r[o];return i},v.sample=function(t,e,r){return null==e||r?(E(t)||(t=v.values(t)),t[v.random(t.length-1)]):v.shuffle(t).slice(0,Math.max(0,e))},v.sortBy=function(t,e,r){return e=b(e,r),v.pluck(v.map(t,function(t,r,n){return{value:t,index:r,criteria:e(t,r,n)}}).sort(function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index}),"value")};var A=function(t){return function(e,r,n){var i={};return r=b(r,n),v.each(e,function(n,o){var s=r(n,o,e);t(i,n,s)}),i}};v.groupBy=A(function(t,e,r){v.has(t,r)?t[r].push(e):t[r]=[e]}),v.indexBy=A(function(t,e,r){t[r]=e}),v.countBy=A(function(t,e,r){v.has(t,r)?t[r]++:t[r]=1}),v.toArray=function(t){return t?v.isArray(t)?c.call(t):E(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:E(t)?t.length:v.keys(t).length},v.partition=function(t,e,r){e=b(e,r);var n=[],i=[];return v.each(t,function(t,r,o){(e(t,r,o)?n:i).push(t)}),[n,i]},v.first=v.head=v.take=function(t,e,r){if(null!=t)return null==e||r?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,r){return c.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))},v.last=function(t,e,r){if(null!=t)return null==e||r?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,r){return c.call(t,null==e||r?1:e)},v.compact=function(t){return v.filter(t,v.identity)};var M=function(t,e,r,n){for(var i=[],o=0,s=n||0,a=x(t);s<a;s++){var u=t[s];if(E(u)&&(v.isArray(u)||v.isArguments(u))){e||(u=M(u,e,r));var c=0,f=u.length;for(i.length+=f;c<f;)i[o++]=u[c++]}else r||(i[o++]=u)}return i};function I(t){return function(e,r,n){r=b(r,n);for(var i=x(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(r(e[o],o,e))return o;return-1}}function T(t,e,r){return function(n,i,o){var s=0,a=x(n);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(r&&o&&a)return n[o=r(n,i)]===i?o:-1;if(i!=i)return(o=e(c.call(n,s,a),v.isNaN))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(n[o]===i)return o;return-1}}v.flatten=function(t,e){return M(t,e,!1)},v.without=function(t){return v.difference(t,c.call(arguments,1))},v.uniq=v.unique=function(t,e,r,n){v.isBoolean(e)||(n=r,r=e,e=!1),null!=r&&(r=b(r,n));for(var i=[],o=[],s=0,a=x(t);s<a;s++){var u=t[s],c=r?r(u,s,t):u;e?(s&&o===c||i.push(u),o=c):r?v.contains(o,c)||(o.push(c),i.push(u)):v.contains(i,u)||i.push(u)}return i},v.union=function(){return v.uniq(M(arguments,!0,!0))},v.intersection=function(t){for(var e=[],r=arguments.length,n=0,i=x(t);n<i;n++){var o=t[n];if(!v.contains(e,o)){for(var s=1;s<r&&v.contains(arguments[s],o);s++);s===r&&e.push(o)}}return e},v.difference=function(t){var e=M(arguments,!0,!0,1);return v.filter(t,function(t){return!v.contains(e,t)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(t){for(var e=t&&v.max(t,x).length||0,r=Array(e),n=0;n<e;n++)r[n]=v.pluck(t,n);return r},v.object=function(t,e){for(var r={},n=0,i=x(t);n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r},v.findIndex=I(1),v.findLastIndex=I(-1),v.sortedIndex=function(t,e,r,n){for(var i=(r=b(r,n,1))(e),o=0,s=x(t);o<s;){var a=Math.floor((o+s)/2);r(t[a])<i?o=a+1:s=a}return o},v.indexOf=T(1,v.findIndex,v.sortedIndex),v.lastIndexOf=T(-1,v.findLastIndex),v.range=function(t,e,r){null==e&&(e=t||0,t=0),r=r||1;for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),o=0;o<n;o++,t+=r)i[o]=t;return i};var O=function(t,e,r,n,i){if(!(n instanceof e))return t.apply(r,i);var o=_(t.prototype),s=t.apply(o,i);return v.isObject(s)?s:o};v.bind=function(t,e){if(d&&t.bind===d)return d.apply(t,c.call(arguments,1));if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var r=c.call(arguments,2),n=function(){return O(t,n,e,this,r.concat(c.call(arguments)))};return n},v.partial=function(t){var e=c.call(arguments,1),r=function(){for(var n=0,i=e.length,o=Array(i),s=0;s<i;s++)o[s]=e[s]===v?arguments[n++]:e[s];for(;n<arguments.length;)o.push(arguments[n++]);return O(t,r,this,this,o)};return r},v.bindAll=function(t){var e,r,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)t[r=arguments[e]]=v.bind(t[r],t);return t},v.memoize=function(t,e){var r=function(n){var i=r.cache,o=""+(e?e.apply(this,arguments):n);return v.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return r.cache={},r},v.delay=function(t,e){var r=c.call(arguments,2);return setTimeout(function(){return t.apply(null,r)},e)},v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,r){var n,i,o,s=null,a=0;r||(r={});var u=function(){a=!1===r.leading?0:v.now(),s=null,o=t.apply(n,i),s||(n=i=null)};return function(){var c=v.now();a||!1!==r.leading||(a=c);var f=e-(c-a);return n=this,i=arguments,f<=0||f>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(n,i),s||(n=i=null)):s||!1===r.trailing||(s=setTimeout(u,f)),o}},v.debounce=function(t,e,r){var n,i,o,s,a,u=function(){var c=v.now()-s;c<e&&c>=0?n=setTimeout(u,e-c):(n=null,r||(a=t.apply(o,i),n||(o=i=null)))};return function(){o=this,i=arguments,s=v.now();var c=r&&!n;return n||(n=setTimeout(u,e)),c&&(a=t.apply(o,i),o=i=null),a}},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.before=function(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}},v.once=v.partial(v.before,2);var B=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function N(t,e){var r=P.length,n=t.constructor,i=v.isFunction(n)&&n.prototype||s,o="constructor";for(v.has(t,o)&&!v.contains(e,o)&&e.push(o);r--;)(o=P[r])in t&&t[o]!==i[o]&&!v.contains(e,o)&&e.push(o)}v.keys=function(t){if(!v.isObject(t))return[];if(p)return p(t);var e=[];for(var r in t)v.has(t,r)&&e.push(r);return B&&N(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var r in t)e.push(r);return B&&N(t,e),e},v.values=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n},v.mapObject=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=i.length,s={},a=0;a<o;a++)s[n=i[a]]=e(t[n],n,t);return s},v.pairs=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=[e[i],t[e[i]]];return n},v.invert=function(t){for(var e={},r=v.keys(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e},v.functions=v.methods=function(t){var e=[];for(var r in t)v.isFunction(t[r])&&e.push(r);return e.sort()},v.extend=w(v.allKeys),v.extendOwn=v.assign=w(v.keys),v.findKey=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=0,s=i.length;o<s;o++)if(e(t[n=i[o]],n,t))return n},v.pick=function(t,e,r){var n,i,o={},s=t;if(null==s)return o;v.isFunction(e)?(i=v.allKeys(s),n=y(e,r)):(i=M(arguments,!1,!1,1),n=function(t,e,r){return e in r},s=Object(s));for(var a=0,u=i.length;a<u;a++){var c=i[a],f=s[c];n(f,c,s)&&(o[c]=f)}return o},v.omit=function(t,e,r){if(v.isFunction(e))e=v.negate(e);else{var n=v.map(M(arguments,!1,!1,1),String);e=function(t,e){return!v.contains(n,e)}}return v.pick(t,e,r)},v.defaults=w(v.allKeys,!0),v.create=function(t,e){var r=_(t);return e&&v.extendOwn(r,e),r},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var r=v.keys(e),n=r.length;if(null==t)return!n;for(var i=Object(t),o=0;o<n;o++){var s=r[o];if(e[s]!==i[s]||!(s in i))return!1}return!0};var R=function(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var i=f.call(t);if(i!==f.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===t)return n[u]===e;if(r.push(t),n.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!R(t[u],e[u],r,n))return!1}else{var c,l=v.keys(t);if(u=l.length,v.keys(e).length!==u)return!1;for(;u--;)if(c=l[u],!v.has(e,c)||!R(t[c],e[c],r,n))return!1}return r.pop(),n.pop(),!0};v.isEqual=function(t,e){return R(t,e)},v.isEmpty=function(t){return null==t||(E(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=h||function(t){return"[object Array]"===f.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){v["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return v.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&t!==+t},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){return null!=t&&l.call(t,e)},v.noConflict=function(){return r._=i,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=k,v.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,r){var n=Array(Math.max(0,t));e=y(e,r,1);for(var i=0;i<t;i++)n[i]=e(i);return n},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=v.invert(F),L=function(t){var e=function(e){return t[e]},r="(?:"+v.keys(t).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(i,e):t}};v.escape=L(F),v.unescape=L(j),v.result=function(t,e,r){var n=null==t?void 0:t[e];return void 0===n&&(n=r),v.isFunction(n)?n.call(t):n};var D=0;v.uniqueId=function(t){var e=++D+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,K=function(t){return"\\"+z[t]};v.template=function(t,e,r){!e&&r&&(e=r),e=v.defaults({},e,v.templateSettings);var n=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(n,function(e,r,n,s,a){return o+=t.slice(i,a).replace(H,K),i=a+e.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,v)},u=e.variable||"obj";return a.source="function("+u+"){\n"+o+"}",a},v.chain=function(t){var e=v(t);return e._chain=!0,e};var q=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){v.each(v.functions(t),function(e){var r=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),q(this,r.apply(v,t))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];v.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0],q(this,r)}}),v.each(["concat","join","slice"],function(t){var e=o[t];v.prototype[t]=function(){return q(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},void 0===(n=function(){return v}.apply(e,[]))||(t.exports=n)}).call(this)},function(t,e,r){"use strict";e.__esModule=!0;var n,i=r(9),o=(n=i)&&n.__esModule?n:{default:n};e.default=function(){var t=null,e=[];return{setPrompt:function(e){return(0,o.default)(null==t,"A history supports only one prompt at a time"),t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,r,n,i){if(null!=t){var s="function"==typeof t?t(e,r):t;"string"==typeof s?"function"==typeof n?n(s,i):((0,o.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),i(!0)):i(!1!==s)}else i(!0)},appendListener:function(t){var r=!0,n=function(){r&&t.apply(void 0,arguments)};return e.push(n),function(){r=!1,e=e.filter(function(t){return t!==n})}},notifyListeners:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];e.forEach(function(t){return t.apply(void 0,r)})}}}},function(t,e,r){"use strict";e.__esModule=!0,e.locationsAreEqual=e.createLocation=void 0;var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i=a(r(373)),o=a(r(372)),s=r(69);function a(t){return t&&t.__esModule?t:{default:t}}e.createLocation=function(t,e,r,o){var a=void 0;"string"==typeof t?(a=(0,s.parsePath)(t)).state=e:(void 0===(a=n({},t)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==e&&void 0===a.state&&(a.state=e));try{a.pathname=decodeURI(a.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return r&&(a.key=r),o?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=(0,i.default)(a.pathname,o.pathname)):a.pathname=o.pathname:a.pathname||(a.pathname="/"),a},e.locationsAreEqual=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&(0,o.default)(t.state,e.state)}},function(t,e,r){"use strict";function n(t){return function(){return t}}var i=function(){};i.thatReturns=n,i.thatReturnsFalse=n(!1),i.thatReturnsTrue=n(!0),i.thatReturnsNull=n(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,r){"use strict";t.exports={}},function(t,e,r){"use strict";r.r(e);var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function t(e,r){if(e===r)return!0;if(null==e||null==r)return!1;if(Array.isArray(e))return Array.isArray(r)&&e.length===r.length&&e.every(function(e,n){return t(e,r[n])});var i=void 0===e?"undefined":n(e);if(i!==(void 0===r?"undefined":n(r)))return!1;if("object"===i){var o=e.valueOf(),s=r.valueOf();if(o!==e||s!==r)return t(o,s);var a=Object.keys(e),u=Object.keys(r);return a.length===u.length&&a.every(function(n){return t(e[n],r[n])})}return!1}},function(t,e,r){"use strict";function n(t){return"/"===t.charAt(0)}function i(t,e){for(var r=e,n=r+1,i=t.length;n<i;r+=1,n+=1)t[r]=t[n];t.pop()}r.r(e),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t&&t.split("/")||[],o=e&&e.split("/")||[],s=t&&n(t),a=e&&n(e),u=s||a;if(t&&n(t)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";var c=void 0;if(o.length){var f=o[o.length-1];c="."===f||".."===f||""===f}else c=!1;for(var l=0,h=o.length;h>=0;h--){var p=o[h];"."===p?i(o,h):".."===p?(i(o,h),l++):l&&(i(o,h),l--)}if(!u)for(;l--;l)o.unshift("..");!u||""===o[0]||o[0]&&n(o[0])||o.unshift("");var d=o.join("/");return c&&"/"!==d.substr(-1)&&(d+="/"),d}},function(t,e,r){"use strict";var n,i=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),s=r(244),a=r(381);r(380),r(379);var u=function(t){function e(e){var r=t.call(this,e)||this;return r.updatebio=function(t){r.setState({bio:t})},r.changeUsername=function(t){r.setState({username:t.target.value})},r.changeName=function(t){r.setState({name:t.target.value})},r.changeAvatar=function(t){r.setState({avatar:t.target.value})},r.changeCover=function(t){r.setState({cover:t.target.value})},r.publishProfile=function(t){var e={username:r.state.username,name:r.state.name,cover:r.state.cover,avatar:r.state.avatar,bio:r.state.bio,address:r.props.ribbit.accountAddress};r.props.ribbit.setUserMetadata(e).then(function(t){alert("Published profile to blockchain with transaction hash: "+t+"\nPlease wait until the transaction finishes.")}).catch(function(t){alert(t)})},r.state={username:"",name:"",avatar:"",cover:"",bio:"ribbit, ribbit, ribbit…"},r}return i(e,t),e.prototype.componentDidMount=function(){var t=this,e=this.props.ribbit;this.props.reset||e.getUserInfoFromAddress(e.accountAddress).then(function(e){t.setState({username:e.username,name:e.name,avatar:e.avatar.startsWith("data:image")?"":e.avatar,cover:e.cover,bio:e.bio||"ribbit, ribbit, ribbit…"},function(){t.cm&&t.cm.codeMirror.setValue(t.state.bio)})}).catch(function(t){alert(t)})},e.prototype.render=function(){var t=this,e={username:this.state.username,address:this.props.ribbit.accountAddress,name:this.state.name,avatar:this.state.avatar,cover:this.state.cover,bio:this.state.bio};return o.createElement("div",{className:"profile-settings-card card"},o.createElement("p",{className:"title"},"Profile settings"),o.createElement("div",{className:"form"},o.createElement("div",{className:"entry"},o.createElement("p",{className:"entry-title"},"Username: "),o.createElement("input",{placeholder:"@username",value:this.state.username,onChange:this.changeUsername})),o.createElement("div",{className:"entry"},o.createElement("p",{className:"entry-title"},"Display name: "),o.createElement("input",{placeholder:"Display name",value:this.state.name,onChange:this.changeName})),o.createElement("div",{className:"entry"},o.createElement("p",{className:"entry-title"},"Avatar URL: "),o.createElement("input",{placeholder:"Avatar image url starting with http:// or https://",value:this.state.avatar,onChange:this.changeAvatar})),o.createElement("div",{className:"entry"},o.createElement("p",{className:"entry-title"},"Cover URL: "),o.createElement("input",{placeholder:"Cover image url starting with https:// or https://",value:this.state.cover,onChange:this.changeCover})),o.createElement("div",{className:"entry markdown-entry"},o.createElement("p",{className:"entry-title"},"Bio (markdown ready): "),o.createElement(a,{ref:function(e){return t.cm=e},value:this.state.bio,onChange:this.updatebio,options:{lineNumbers:!1,autoFocus:!0,mode:"markdown"}}))),o.createElement("div",{id:"publish-profile",className:"btn",onClick:this.publishProfile},"Publish profile to blockchain"),o.createElement("p",{className:"title"},"Profile preview"),o.createElement(s.default,{userInfo:e,ribbit:this.props.ribbit}))},e}(o.Component);e.default=u},function(t,e,r){"use strict";var n,i=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),s=r(382),a=r(687),u=function(t){function e(e){var r=t.call(this,e)||this;return r.downvote=function(t){t.preventDefault(),t.stopPropagation(),r.props.ribbit.downvote(r.props.feedInfo.transactionInfo.hash).then(function(t){}).catch(function(t){alert(t)})},r.reply=function(t){t.preventDefault(),t.stopPropagation(),r.setState({showEditPanel:!0})},r.toggleDonatePanel=function(t){t.preventDefault(),t.stopPropagation(),r.setState({showDonatePanel:!0})},r.state={showEditPanel:!1,showDonatePanel:!1},r}return i(e,t),e.prototype.render=function(){var t=this,e=(this.props.feedInfo.summary,this.props.feedInfo.transactionInfo),r=(this.props.feedInfo.userInfo,this.props.feedInfo.stateInfo);this.props.feedInfo.repostUserInfo,this.props.feedInfo.feedType;return e&&e.hash?this.state.showEditPanel?o.createElement(s.default,{cancel:function(){t.setState({showEditPanel:!1})},ribbit:this.props.ribbit,parentFeedInfo:this.props.feedInfo}):o.createElement("div",{className:"actions-bottom-panel"},o.createElement("div",{className:"upvote-btn btn",onClick:this.toggleDonatePanel},o.createElement("i",{className:"fas fa-caret-up"},r.upvotes?o.createElement("span",{className:"upvote-num"},r.upvotes):null)),o.createElement("div",{className:"downvote-btn btn",onClick:this.downvote},o.createElement("i",{className:"fas fa-caret-down"})),o.createElement("div",{className:"reply-btn btn",onClick:this.reply},o.createElement("i",{className:"far fa-comment"}),o.createElement("span",{className:"comment-num"},r.replies||"")),this.state.showDonatePanel?o.createElement(a.default,{close:function(){return t.setState({showDonatePanel:!1})},feedInfo:this.props.feedInfo,ribbit:this.props.ribbit}):null):null},e}(o.Component);e.default=u},function(t,e,r){"use strict";e.__esModule=!0;e.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),e.addEventListener=function(t,e,r){return t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent("on"+e,r)},e.removeEventListener=function(t,e,r){return t.removeEventListener?t.removeEventListener(e,r,!1):t.detachEvent("on"+e,r)},e.getConfirmation=function(t,e){return e(window.confirm(t))},e.supportsHistory=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},e.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},e.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},e.isExtraneousPopstateEvent=function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(t,e,r){"use strict";var n,i=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),s=r(243),a=r(70),u=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.render=function(){var t=this.props.feedInfo,e=t.userInfo,r=o.createElement("div",{className:"user-panel"},o.createElement(s.Link,{to:"/"+this.props.ribbit.networkId+"/profile/"+t.userInfo.username,target:"_blank"},o.createElement("div",{className:"profile-image",style:{backgroundImage:'url("'+e.avatar+'")'}})),o.createElement(s.Link,{to:"/"+this.props.ribbit.networkId+"/profile/"+t.userInfo.username,target:"_blank"},o.createElement("div",{className:"name"},e.name?e.name:"Anonymous")),o.createElement("div",{className:"username"},e.username),o.createElement("div",{className:"create-time"},o.createElement("span",null,a.formatFeedCreationTime(this.props.feedInfo)))),n="upvote"===t.feedType?o.createElement("div",{className:"top-bar"},o.createElement(s.Link,{to:"/"+this.props.ribbit.networkId+"/profile/"+t.repostUserInfo.username,target:"_blank"},t.repostUserInfo.name),o.createElement("span",null,"upvoted")):null;return o.createElement("div",{className:"user-top-panel"},n,r)},e}(o.Component);e.default=u},function(t,e,r){"use strict";var n,i=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(s,a)}u((n=n.apply(t,e||[])).next())})},s=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(5),u=r(5),c=r(377),f=r(375),l=r(111),h=r(70),p=function(t){function e(e){var r=t.call(this,e)||this;return r.state={replies:[],loadingReplies:!1,parent:null},r}return i(e,t),e.prototype.componentDidMount=function(){this.addTargetBlankToAnchorElements(),this.loadParent(this.props.feedInfo),this.loadReplies(this.props.feedInfo)},e.prototype.componentWillReceiveProps=function(t){var e=this;t.feedInfo.transactionInfo.hash!==this.props.feedInfo.transactionInfo.hash&&this.setState({replies:[],loadingReplies:!1,parent:null},function(){e.loadParent(t.feedInfo),e.loadReplies(t.feedInfo)})},e.prototype.componentDidUpdate=function(){this.addTargetBlankToAnchorElements()},e.prototype.loadReplies=function(t){return o(this,void 0,void 0,function(){var e,r=this;return s(this,function(n){return t.transactionInfo.hash?(e=t.transactionInfo.hash,this.setState({replies:[],loadingReplies:!0},function(){var n=r.props.ribbit;n.getFeedsFromTagByTime(t.transactionInfo.hash,{num:-1},function(t,i,a){return o(r,void 0,void 0,function(){var r,o,u;return s(this,function(s){switch(s.label){case 0:if(console.log(t,i,a),t)return[2,this.setState({loadingReplies:!1})];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,h.generateFeedInfoFromTransactionInfo(n,a)];case 2:return(r=s.sent())&&(o=this.state.replies,this.props.feedInfo.transactionInfo.hash===e&&(o.push(r),this.setState({replies:o}))),[3,4];case 3:return u=s.sent(),console.log(u),[3,4];case 4:return[2]}})})})}),[2]):[2]})})},e.prototype.loadParent=function(t){return o(this,void 0,void 0,function(){var e,r,n,i;return s(this,function(o){switch(o.label){case 0:if(!t||"reply"!==t.transactionInfo.decodedInputData.name)return[2];t.transactionInfo.hash,e=t.transactionInfo.decodedInputData.params.parentTransactionHash.value,o.label=1;case 1:return o.trys.push([1,4,,5]),[4,this.props.ribbit.getTransactionInfo({transactionHash:e})];case 2:return r=o.sent(),[4,h.generateFeedInfoFromTransactionInfo(this.props.ribbit,r)];case 3:return(n=o.sent())&&this.setState({parent:n}),[3,5];case 4:return i=o.sent(),console.log(i),[3,5];case 5:return[2]}})})},e.prototype.addTargetBlankToAnchorElements=function(){if(this.elem)for(var t=this.elem.getElementsByTagName("A"),e=0;e<t.length;e++){t[e].setAttribute("target","_blank")}},e.prototype.render=function(){var t=this,e=this.props.feedInfo;return a.createElement("div",{className:"article-panel"},a.createElement("div",{className:"parent"},this.state.parent?a.createElement(l.default,{ribbit:this.props.ribbit,feedInfo:this.state.parent}):null),a.createElement("div",{className:"article-card card"},a.createElement(c.default,{ribbit:this.props.ribbit,feedInfo:e}),a.createElement("div",{className:"content",ref:function(e){t.elem=e},dangerouslySetInnerHTML:{__html:e.summary.html}}),this.props.hideActionsPanel?null:a.createElement(f.default,{ribbit:this.props.ribbit,feedInfo:e})),a.createElement("div",{className:"replies"},this.state.replies.map(function(e,r){return a.createElement(l.default,{key:r,feedInfo:e,ribbit:t.props.ribbit})})),this.state.replies.length?this.state.loadingReplies?a.createElement("p",{id:"feed-footer"},"Loading replies..."):a.createElement("p",{id:"feed-footer"},"No more replies"):null)},e}(u.Component);e.default=p},function(t,e,r){!function(t){"use strict";t.defineMode("markdown",function(e,r){var n=t.getMode(e,"text/html"),i="null"==n.name;void 0===r.highlightFormatting&&(r.highlightFormatting=!1),void 0===r.maxBlockquoteDepth&&(r.maxBlockquoteDepth=0),void 0===r.taskLists&&(r.taskLists=!1),void 0===r.strikethrough&&(r.strikethrough=!1),void 0===r.emoji&&(r.emoji=!1),void 0===r.fencedCodeBlockHighlighting&&(r.fencedCodeBlockHighlighting=!0),void 0===r.xml&&(r.xml=!0),void 0===r.tokenTypeOverrides&&(r.tokenTypeOverrides={});var o={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var s in o)o.hasOwnProperty(s)&&r.tokenTypeOverrides[s]&&(o[s]=r.tokenTypeOverrides[s]);var a=/^([*\-_])(?:\s*\1){2,}\s*$/,u=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,c=/^\[(x| )\](?=\s)/i,f=r.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,l=/^ *(?:\={1,}|-{1,})\s*$/,h=/^[^#!\[\]*_\\<>` "'(~:]+/,p=/^(~~~+|```+)[ \t]*([\w+#-]*)[^\n`]*$/,d=/^\s*\[[^\]]+?\]:.*$/,m=/[!\"#$%&\'()*+,\-\.\/:;<=>?@\[\\\]^_`{|}~—]/;function g(t,e,r){return e.f=e.inline=r,r(t,e)}function v(t,e,r){return e.f=e.block=r,r(t,e)}function y(t){return t.linkTitle=!1,t.linkHref=!1,t.linkText=!1,t.em=!1,t.strong=!1,t.strikethrough=!1,t.quote=0,t.indentedCode=!1,t.f==w&&(t.f=x,t.block=b),t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.prevLine=t.thisLine,t.thisLine={stream:null},null}function b(n,i){var s,h=n.column()===i.indentation,m=!(s=i.prevLine.stream)||!/\S/.test(s.string),v=i.indentedCode,y=i.prevLine.hr,b=!1!==i.list,w=(i.listStack[i.listStack.length-1]||0)+3;i.indentedCode=!1;var S=i.indentation;if(null===i.indentationDiff&&(i.indentationDiff=i.indentation,b)){for(i.em=!1,i.strong=!1,i.code=!1,i.strikethrough=!1,i.list=null;S<i.listStack[i.listStack.length-1];)i.listStack.pop(),i.listStack.length?i.indentation=i.listStack[i.listStack.length-1]:i.list=!1;!1!==i.list&&(i.indentationDiff=S-i.listStack[i.listStack.length-1])}var x=!(m||y||i.prevLine.header||b&&v||i.prevLine.fencedCodeEnd),E=(!1===i.list||y||m)&&i.indentation<=w&&n.match(a),C=null;if(i.indentationDiff>=4&&(v||i.prevLine.fencedCodeEnd||i.prevLine.header||m))return n.skipToEnd(),i.indentedCode=!0,o.code;if(n.eatSpace())return null;if(h&&i.indentation<=w&&(C=n.match(f))&&C[1].length<=6)return i.quote=0,i.header=C[1].length,i.thisLine.header=!0,r.highlightFormatting&&(i.formatting="header"),i.f=i.inline,k(i);if(i.indentation<=w&&n.eat(">"))return i.quote=h?1:i.quote+1,r.highlightFormatting&&(i.formatting="quote"),n.eatSpace(),k(i);if(!E&&!i.setext&&h&&i.indentation<=w&&(C=n.match(u))){var A=C[1]?"ol":"ul";return i.indentation=S+n.current().length,i.list=!0,i.quote=0,i.listStack.push(i.indentation),r.taskLists&&n.match(c,!1)&&(i.taskList=!0),i.f=i.inline,r.highlightFormatting&&(i.formatting=["list","list-"+A]),k(i)}return h&&i.indentation<=w&&(C=n.match(p,!0))?(i.quote=0,i.fencedEndRE=new RegExp(C[1]+"+ *$"),i.localMode=r.fencedCodeBlockHighlighting&&function(r){if(t.findModeByName){var n=t.findModeByName(r);n&&(r=n.mime||n.mimes[0])}var i=t.getMode(e,r);return"null"==i.name?null:i}(C[2]),i.localMode&&(i.localState=t.startState(i.localMode)),i.f=i.block=_,r.highlightFormatting&&(i.formatting="code-block"),i.code=-1,k(i)):i.setext||!(x&&b||i.quote||!1!==i.list||i.code||E||d.test(n.string))&&(C=n.lookAhead(1))&&(C=C.match(l))?(i.setext?(i.header=i.setext,i.setext=0,n.skipToEnd(),r.highlightFormatting&&(i.formatting="header")):(i.header="="==C[0].charAt(0)?1:2,i.setext=i.header),i.thisLine.header=!0,i.f=i.inline,k(i)):E?(n.skipToEnd(),i.hr=!0,i.thisLine.hr=!0,o.hr):"["===n.peek()?g(n,i,M):g(n,i,i.inline)}function w(e,r){var o=n.token(e,r.htmlState);if(!i){var s=t.innerMode(n,r.htmlState);("xml"==s.mode.name&&null===s.state.tagStart&&!s.state.context&&s.state.tokenize.isInText||r.md_inside&&e.current().indexOf(">")>-1)&&(r.f=x,r.block=b,r.htmlState=null)}return o}function _(t,e){var n,i=e.listStack[e.listStack.length-1]||0,s=e.indentation<i,a=i+3;return e.fencedEndRE&&e.indentation<=a&&(s||t.match(e.fencedEndRE))?(r.highlightFormatting&&(e.formatting="code-block"),s||(n=k(e)),e.localMode=e.localState=null,e.block=b,e.f=x,e.fencedEndRE=null,e.code=0,e.thisLine.fencedCodeEnd=!0,s?v(t,e,e.block):n):e.localMode?e.localMode.token(t,e.localState):(t.skipToEnd(),o.code)}function k(t){var e=[];if(t.formatting){e.push(o.formatting),"string"==typeof t.formatting&&(t.formatting=[t.formatting]);for(var n=0;n<t.formatting.length;n++)e.push(o.formatting+"-"+t.formatting[n]),"header"===t.formatting[n]&&e.push(o.formatting+"-"+t.formatting[n]+"-"+t.header),"quote"===t.formatting[n]&&(!r.maxBlockquoteDepth||r.maxBlockquoteDepth>=t.quote?e.push(o.formatting+"-"+t.formatting[n]+"-"+t.quote):e.push("error"))}if(t.taskOpen)return e.push("meta"),e.length?e.join(" "):null;if(t.taskClosed)return e.push("property"),e.length?e.join(" "):null;if(t.linkHref?e.push(o.linkHref,"url"):(t.strong&&e.push(o.strong),t.em&&e.push(o.em),t.strikethrough&&e.push(o.strikethrough),t.emoji&&e.push(o.emoji),t.linkText&&e.push(o.linkText),t.code&&e.push(o.code),t.image&&e.push(o.image),t.imageAltText&&e.push(o.imageAltText,"link"),t.imageMarker&&e.push(o.imageMarker)),t.header&&e.push(o.header,o.header+"-"+t.header),t.quote&&(e.push(o.quote),!r.maxBlockquoteDepth||r.maxBlockquoteDepth>=t.quote?e.push(o.quote+"-"+t.quote):e.push(o.quote+"-"+r.maxBlockquoteDepth)),!1!==t.list){var i=(t.listStack.length-1)%3;i?1===i?e.push(o.list2):e.push(o.list3):e.push(o.list1)}return t.trailingSpaceNewLine?e.push("trailing-space-new-line"):t.trailingSpace&&e.push("trailing-space-"+(t.trailingSpace%2?"a":"b")),e.length?e.join(" "):null}function S(t,e){if(t.match(h,!0))return k(e)}function x(e,i){var s=i.text(e,i);if(void 0!==s)return s;if(i.list)return i.list=null,k(i);if(i.taskList){var a=" "===e.match(c,!0)[1];return a?i.taskOpen=!0:i.taskClosed=!0,r.highlightFormatting&&(i.formatting="task"),i.taskList=!1,k(i)}if(i.taskOpen=!1,i.taskClosed=!1,i.header&&e.match(/^#+$/,!0))return r.highlightFormatting&&(i.formatting="header"),k(i);var u=e.next();if(i.linkTitle){i.linkTitle=!1;var f=u;"("===u&&(f=")");var l="^\\s*(?:[^"+(f=(f+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+f;if(e.match(new RegExp(l),!0))return o.linkHref}if("`"===u){var h=i.formatting;r.highlightFormatting&&(i.formatting="code"),e.eatWhile("`");var p=e.current().length;if(0!=i.code||i.quote&&1!=p){if(p==i.code){var d=k(i);return i.code=0,d}return i.formatting=h,k(i)}return i.code=p,k(i)}if(i.code)return k(i);if("\\"===u&&(e.next(),r.highlightFormatting)){var g=k(i),y=o.formatting+"-escape";return g?g+" "+y:y}if("!"===u&&e.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return i.imageMarker=!0,i.image=!0,r.highlightFormatting&&(i.formatting="image"),k(i);if("["===u&&i.imageMarker&&e.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return i.imageMarker=!1,i.imageAltText=!0,r.highlightFormatting&&(i.formatting="image"),k(i);if("]"===u&&i.imageAltText){r.highlightFormatting&&(i.formatting="image");var g=k(i);return i.imageAltText=!1,i.image=!1,i.inline=i.f=C,g}if("["===u&&!i.image)return i.linkText=!0,r.highlightFormatting&&(i.formatting="link"),k(i);if("]"===u&&i.linkText){r.highlightFormatting&&(i.formatting="link");var g=k(i);return i.linkText=!1,i.inline=i.f=e.match(/\(.*?\)| ?\[.*?\]/,!1)?C:x,g}if("<"===u&&e.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){i.f=i.inline=E,r.highlightFormatting&&(i.formatting="link");var g=k(i);return g?g+=" ":g="",g+o.linkInline}if("<"===u&&e.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){i.f=i.inline=E,r.highlightFormatting&&(i.formatting="link");var g=k(i);return g?g+=" ":g="",g+o.linkEmail}if(r.xml&&"<"===u&&e.match(/^(!--|[a-z]+(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*>)/i,!1)){var b=e.string.indexOf(">",e.pos);if(-1!=b){var _=e.string.substring(e.start,b);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(_)&&(i.md_inside=!0)}return e.backUp(1),i.htmlState=t.startState(n),v(e,i,w)}if(r.xml&&"<"===u&&e.match(/^\/\w*?>/))return i.md_inside=!1,"tag";if("*"===u||"_"===u){for(var S=1,A=1==e.pos?" ":e.string.charAt(e.pos-2);S<3&&e.eat(u);)S++;var M=e.peek()||" ",I=!/\s/.test(M)&&(!m.test(M)||/\s/.test(A)||m.test(A)),T=!/\s/.test(A)&&(!m.test(A)||/\s/.test(M)||m.test(M)),O=null,B=null;if(S%2&&(i.em||!I||"*"!==u&&T&&!m.test(A)?i.em!=u||!T||"*"!==u&&I&&!m.test(M)||(O=!1):O=!0),S>1&&(i.strong||!I||"*"!==u&&T&&!m.test(A)?i.strong!=u||!T||"*"!==u&&I&&!m.test(M)||(B=!1):B=!0),null!=B||null!=O){r.highlightFormatting&&(i.formatting=null==O?"strong":null==B?"em":"strong em"),!0===O&&(i.em=u),!0===B&&(i.strong=u);var d=k(i);return!1===O&&(i.em=!1),!1===B&&(i.strong=!1),d}}else if(" "===u&&(e.eat("*")||e.eat("_"))){if(" "===e.peek())return k(i);e.backUp(1)}if(r.strikethrough)if("~"===u&&e.eatWhile(u)){if(i.strikethrough){r.highlightFormatting&&(i.formatting="strikethrough");var d=k(i);return i.strikethrough=!1,d}if(e.match(/^[^\s]/,!1))return i.strikethrough=!0,r.highlightFormatting&&(i.formatting="strikethrough"),k(i)}else if(" "===u&&e.match(/^~~/,!0)){if(" "===e.peek())return k(i);e.backUp(2)}if(r.emoji&&":"===u&&e.match(/^[a-z_\d+-]+:/)){i.emoji=!0,r.highlightFormatting&&(i.formatting="emoji");var P=k(i);return i.emoji=!1,P}return" "===u&&(e.match(/ +$/,!1)?i.trailingSpace++:i.trailingSpace&&(i.trailingSpaceNewLine=!0)),k(i)}function E(t,e){var n=t.next();if(">"===n){e.f=e.inline=x,r.highlightFormatting&&(e.formatting="link");var i=k(e);return i?i+=" ":i="",i+o.linkInline}return t.match(/^[^>]+/,!0),o.linkInline}function C(t,e){if(t.eatSpace())return null;var n,i=t.next();return"("===i||"["===i?(e.f=e.inline=(n="("===i?")":"]",function(t,e){var i=t.next();if(i===n){e.f=e.inline=x,r.highlightFormatting&&(e.formatting="link-string");var o=k(e);return e.linkHref=!1,o}return t.match(A[n]),e.linkHref=!0,k(e)}),r.highlightFormatting&&(e.formatting="link-string"),e.linkHref=!0,k(e)):"error"}var A={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function M(t,e){return t.match(/^([^\]\\]|\\.)*\]:/,!1)?(e.f=I,t.next(),r.highlightFormatting&&(e.formatting="link"),e.linkText=!0,k(e)):g(t,e,x)}function I(t,e){if(t.match(/^\]:/,!0)){e.f=e.inline=T,r.highlightFormatting&&(e.formatting="link");var n=k(e);return e.linkText=!1,n}return t.match(/^([^\]\\]|\\.)+/,!0),o.linkText}function T(t,e){return t.eatSpace()?null:(t.match(/^[^\s]+/,!0),void 0===t.peek()?e.linkTitle=!0:t.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),e.f=e.inline=x,o.linkHref+" url")}var O={startState:function(){return{f:b,prevLine:{stream:null},thisLine:{stream:null},block:b,htmlState:null,indentation:0,inline:x,text:S,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(e){return{f:e.f,prevLine:e.prevLine,thisLine:e.thisLine,block:e.block,htmlState:e.htmlState&&t.copyState(n,e.htmlState),indentation:e.indentation,localMode:e.localMode,localState:e.localMode?t.copyState(e.localMode,e.localState):null,inline:e.inline,text:e.text,formatting:!1,linkText:e.linkText,linkTitle:e.linkTitle,linkHref:e.linkHref,code:e.code,em:e.em,strong:e.strong,strikethrough:e.strikethrough,emoji:e.emoji,header:e.header,setext:e.setext,hr:e.hr,taskList:e.taskList,list:e.list,listStack:e.listStack.slice(0),quote:e.quote,indentedCode:e.indentedCode,trailingSpace:e.trailingSpace,trailingSpaceNewLine:e.trailingSpaceNewLine,md_inside:e.md_inside,fencedEndRE:e.fencedEndRE}},token:function(t,e){if(e.formatting=!1,t!=e.thisLine.stream){if(e.header=0,e.hr=!1,t.match(/^\s*$/,!0))return y(e),null;if(e.prevLine=e.thisLine,e.thisLine={stream:t},e.taskList=!1,e.trailingSpace=0,e.trailingSpaceNewLine=!1,!e.localState&&(e.f=e.block,e.f!=w)){var r=t.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(e.indentation=r,e.indentationDiff=null,r>0)return null}}return e.f(t,e)},innerMode:function(t){return t.block==w?{state:t.htmlState,mode:n}:t.localState?{state:t.localState,mode:t.localMode}:{state:t,mode:O}},indent:function(e,r,i){return e.block==w&&n.indent?n.indent(e.htmlState,r,i):e.localState&&e.localMode.indent?e.localMode.indent(e.localState,r,i):t.Pass},blankLine:y,getType:k,closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return O},"xml"),t.defineMIME("text/markdown","markdown"),t.defineMIME("text/x-markdown","markdown")}(r(167),r(690),r(689))},function(t,e,r){var n=r(691);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(383)(n,i);n.locals&&(t.exports=n.locals)},function(t,e,r){"use strict";var n=r(5),i=(r(674),r(1)),o=r(695),s=r(279),a=r(694);function u(t){return t?t.replace(/\r\n|\r/g,"\n"):t}var c=r(693)({propTypes:{autoFocus:i.bool,className:i.any,codeMirrorInstance:i.func,defaultValue:i.string,name:i.string,onChange:i.func,onCursorActivity:i.func,onFocusChange:i.func,onScroll:i.func,options:i.object,path:i.string,value:i.string,preserveScrollPosition:i.bool},getDefaultProps:function(){return{preserveScrollPosition:!1}},getCodeMirrorInstance:function(){return this.props.codeMirrorInstance||r(167)},getInitialState:function(){return{isFocused:!1}},componentWillMount:function(){this.componentWillReceiveProps=s(this.componentWillReceiveProps,0),this.props.path&&console.error("Warning: react-codemirror: the `path` prop has been changed to `name`")},componentDidMount:function(){var t=this.getCodeMirrorInstance();this.codeMirror=t.fromTextArea(this.textareaNode,this.props.options),this.codeMirror.on("change",this.codemirrorValueChanged),this.codeMirror.on("cursorActivity",this.cursorActivity),this.codeMirror.on("focus",this.focusChanged.bind(this,!0)),this.codeMirror.on("blur",this.focusChanged.bind(this,!1)),this.codeMirror.on("scroll",this.scrollChanged),this.codeMirror.setValue(this.props.defaultValue||this.props.value||"")},componentWillUnmount:function(){this.codeMirror&&this.codeMirror.toTextArea()},componentWillReceiveProps:function(t){if(this.codeMirror&&void 0!==t.value&&t.value!==this.props.value&&u(this.codeMirror.getValue())!==u(t.value))if(this.props.preserveScrollPosition){var e=this.codeMirror.getScrollInfo();this.codeMirror.setValue(t.value),this.codeMirror.scrollTo(e.left,e.top)}else this.codeMirror.setValue(t.value);if("object"==typeof t.options)for(var r in t.options)t.options.hasOwnProperty(r)&&this.setOptionIfChanged(r,t.options[r])},setOptionIfChanged:function(t,e){var r=this.codeMirror.getOption(t);a(r,e)||this.codeMirror.setOption(t,e)},getCodeMirror:function(){return this.codeMirror},focus:function(){this.codeMirror&&this.codeMirror.focus()},focusChanged:function(t){this.setState({isFocused:t}),this.props.onFocusChange&&this.props.onFocusChange(t)},cursorActivity:function(t){this.props.onCursorActivity&&this.props.onCursorActivity(t)},scrollChanged:function(t){this.props.onScroll&&this.props.onScroll(t.getScrollInfo())},codemirrorValueChanged:function(t,e){this.props.onChange&&"setValue"!==e.origin&&this.props.onChange(t.getValue(),e)},render:function(){var t=this,e=o("ReactCodeMirror",this.state.isFocused?"ReactCodeMirror--focused":null,this.props.className);return n.createElement("div",{className:e},n.createElement("textarea",{ref:function(e){return t.textareaNode=e},name:this.props.name||this.props.path,defaultValue:this.props.value,autoComplete:"off",autoFocus:this.props.autoFocus}))}});t.exports=c},function(t,e,r){"use strict";var n,i=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(s,a)}u((n=n.apply(t,e||[])).next())})},s=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(5),u=r(5),c=r(381);r(380),r(379);var f=r(688),l=r(111),h=r(220),p=r(70),d=r(135),m=function(t){function e(e){var r=t.call(this,e)||this;return r.updateCode=function(t){r.setState({code:t},function(){window.localStorage["markdown-cache"]=t,r.checkTopicsAndMentions()})},r.postFeed=function(){return o(r,void 0,void 0,function(){var t,e,r,n,i,o,a,u,c,f,l,h,p,d,m,g;return s(this,function(s){switch(s.label){case 0:for(t=this.props.ribbit,e=this.state.code.trim(),r=[],n=0,i=this.state.topics;n<i.length;n++)o=i[n],this.state.hiddenTopics[o]||r.push(o);for(this.state.postToRibbitTopic&&r.push("ribbit"),a=[],u=0,c=this.state.replies;u<c.length;u++)f=c[u],this.state.hiddenReplies[f.address]||a.push(f.address);for(l=[],h=0,p=this.state.mentions;h<p.length;h++)d=p[h],this.state.hiddenMentions[d.address]||l.push(d.address);console.log((this.props.parentFeedInfo?"reply":"post")+" feed         : ",this.state.code),console.log("     width replies: ",a),console.log("     with topics  : ",r),console.log("     with mentions: ",l),m=Array.from(new Set(r.concat(l,a))),s.label=1;case 1:return s.trys.push([1,6,,7]),this.props.parentFeedInfo?[4,t.replyFeed(e,m,this.state.feedback,this.props.parentFeedInfo,this.state.postAsIPFSHash)]:[3,3];case 2:return s.sent(),[3,5];case 3:return[4,t.postFeed(e,m,this.state.postAsIPFSHash)];case 4:s.sent(),s.label=5;case 5:return window.localStorage["markdown-cache"]="",this.props.cancel(),[3,7];case 6:return g=s.sent(),alert(g),[3,7];case 7:return[2]}})})},r.togglePreview=function(){r.setState({previewIsOn:!r.state.previewIsOn})},r.toggleTopic=function(t){return function(){r.state.hiddenTopics[t]=!r.state.hiddenTopics[t],r.forceUpdate()}},r.toggleMention=function(t){return function(){r.state.hiddenMentions[t]=!r.state.hiddenMentions[t],r.forceUpdate()}},r.toggleReply=function(t){return function(){r.state.hiddenReplies[t]=!r.state.hiddenReplies[t],r.forceUpdate()}},r.clickEdit=function(t){t.preventDefault(),t.stopPropagation()},r.state={code:window.localStorage["markdown-cache"]||"\x3c!-- Enter your text below --\x3e\n",previewIsOn:!1,topics:[],hiddenTopics:{},mentions:[],hiddenMentions:{},replies:[],hiddenReplies:{},feedback:0,postToRibbitTopic:!0,postAsIPFSHash:!1},r}return i(e,t),e.prototype.componentDidMount=function(){console.log("@@ MOUNT Edit @@"),h.checkUserRegistration(this.props.ribbit),this.checkTopicsAndMentions(),this.analyzeReplies()},e.prototype.analyzeReplies=function(){return o(this,void 0,void 0,function(){var t,e,r,n,i,o,a;return s(this,function(s){switch(s.label){case 0:if(!this.props.parentFeedInfo)return[2];t=this.props.parentFeedInfo,e=t.transactionInfo,r=[],n={},s.label=1;case 1:return e?(i=e.from,[4,this.props.ribbit.getUserInfoFromAddress(i)]):[3,7];case 2:return o=s.sent().name,n[i]||(n[i]=!0,r.push({name:o,address:i})),"post"!==e.decodedInputData.name?[3,3]:[3,7];case 3:return"repost"!==e.decodedInputData.name?[3,5]:(a=e.decodedInputData.params.parentTransactionHash.value,[4,this.props.ribbit.getTransactionInfo({transactionHash:a})]);case 4:return e=s.sent(),[3,6];case 5:return[3,7];case 6:return[3,1];case 7:return this.setState({replies:r}),[2]}})})},e.prototype.checkTopicsAndMentions=function(){var t=this;p.getTopicsAndMentionsFromHTML(d.renderMarkdown(this.state.code),this.props.ribbit).then(function(e){var r=e.topics,n=e.mentions;JSON.stringify(t.state.topics)===JSON.stringify(r)&&JSON.stringify(t.state.mentions)===JSON.stringify(n)||t.setState({topics:r,mentions:n})})},e.prototype.render=function(){var t=this;return a.createElement("div",{onClick:this.clickEdit,className:"edit "+(this.state.previewIsOn?"preview-on":"")},this.props.parentFeedInfo?a.createElement("div",null,a.createElement("h2",{style:{textAlign:"center"}},"Reply to"),a.createElement(l.default,{ribbit:this.props.ribbit,feedInfo:this.props.parentFeedInfo,hideActionsPanel:!0})):null,this.state.previewIsOn?a.createElement("div",null,a.createElement("h2",{style:{textAlign:"center"}},"Preview"),a.createElement("div",{className:"topics-and-mentions card"},this.state.topics.length?a.createElement("p",{className:"title"},"Post to topics:"):null,a.createElement("div",{className:"topics-list"},this.state.topics.map(function(e,r){return a.createElement("div",{className:"topic "+(t.state.hiddenTopics[e]?"hidden":""),key:r,onClick:t.toggleTopic(e)},e)})),this.state.replies.length?a.createElement("p",{className:"title"},"Reply to the following users:"):null,a.createElement("div",{className:"replies-list"},this.state.replies.map(function(e,r){return a.createElement("div",{className:"reply "+(t.state.hiddenReplies[e.address]?"hidden":""),key:r,onClick:t.toggleReply(e.address)},e.name)})),this.state.mentions.length?a.createElement("p",{className:"title"},"Mention the following users:"):null,a.createElement("div",{className:"mentions-list"},this.state.mentions.map(function(e,r){return a.createElement("div",{className:"mention "+(t.state.hiddenMentions[e.address]?"hidden":""),key:r,onClick:t.toggleMention(e.address)},e.name)})),a.createElement("p",{className:"title"},"Configuration:"),a.createElement("div",{className:"config-list"},a.createElement("div",{className:"config"+(this.state.postToRibbitTopic?"":" hidden"),onClick:function(){return t.setState({postToRibbitTopic:!t.state.postToRibbitTopic})}}," ","Post to #ribbit"),a.createElement("div",{className:"config"+(this.state.postAsIPFSHash?"":" hidden"),onClick:function(){return t.setState({postAsIPFSHash:!t.state.postAsIPFSHash})}}," ","Post as IPFS hash")),this.props.parentFeedInfo?a.createElement("div",null,a.createElement("p",{className:"title"},"Feedback:"),a.createElement("div",{className:"feedback-list"},a.createElement("div",{className:"feedback"+(0===this.state.feedback?"":" hidden"),onClick:function(){return t.setState({feedback:0})}},"do nothing"),a.createElement("div",{className:"feedback"+(1===this.state.feedback?"":" hidden"),onClick:function(){return t.setState({feedback:1})}},"upvote"),a.createElement("div",{className:"feedback"+(2===this.state.feedback?"":" hidden"),onClick:function(){return t.setState({feedback:2})}},"downvote"))):null),a.createElement(f.default,{markdown:this.state.code,ribbit:this.props.ribbit})):a.createElement("div",null,a.createElement("h2",{style:{textAlign:"center"}},"Write below"),a.createElement("div",{className:"editor-wrapper"},a.createElement(c,{value:this.state.code,onChange:this.updateCode,options:{lineNumbers:!1,autoFocus:!0,mode:"markdown"}}))),a.createElement("div",{className:"button-group"},this.state.previewIsOn?a.createElement("div",{className:"button",onClick:this.postFeed},a.createElement("i",{className:"fa fa-paper-plane","aria-hidden":"true"})):null,a.createElement("div",{className:"button",onClick:this.togglePreview},this.state.previewIsOn?a.createElement("i",{className:"fa fa-eye-slash","aria-hidden":"true"}):a.createElement("i",{className:"fa fa-eye","aria-hidden":"true"})),a.createElement("div",{className:"button",onClick:this.props.cancel},a.createElement("i",{className:"fa fa-times","aria-hidden":"true"}))))},e}(u.Component);e.default=m},function(t,e,r){var n,i,o={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=n.apply(this,arguments)),i}),a=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var r=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),u=null,c=0,f=[],l=r(698);function h(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=o[n.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](n.parts[s]);for(;s<n.parts.length;s++)i.parts.push(y(n.parts[s],e))}else{var a=[];for(s=0;s<n.parts.length;s++)a.push(y(n.parts[s],e));o[n.id]={id:n.id,refs:1,parts:a}}}}function p(t,e){for(var r=[],n={},i=0;i<t.length;i++){var o=t[i],s=e.base?o[0]+e.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};n[s]?n[s].parts.push(a):r.push(n[s]={id:s,parts:[a]})}return r}function d(t,e){var r=a(t.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=f[f.length-1];if("top"===t.insertAt)n?n.nextSibling?r.insertBefore(e,n.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),f.push(e);else if("bottom"===t.insertAt)r.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(t.insertInto+" "+t.insertAt.before);r.insertBefore(e,i)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=f.indexOf(t);e>=0&&f.splice(e,1)}function g(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),v(e,t.attrs),d(t,e),e}function v(t,e){Object.keys(e).forEach(function(r){t.setAttribute(r,e[r])})}function y(t,e){var r,n,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var s=c++;r=u||(u=g(e)),n=_.bind(null,r,s,!1),i=_.bind(null,r,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),d(t,e),e}(e),n=function(t,e,r){var n=r.css,i=r.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(n=l(n));i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([n],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,r,e),i=function(){m(r),r.href&&URL.revokeObjectURL(r.href)}):(r=g(e),n=function(t,e){var r=e.css,n=e.media;n&&t.setAttribute("media",n);if(t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}.bind(null,r),i=function(){m(r)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var r=p(t,e);return h(r,e),function(t){for(var n=[],i=0;i<r.length;i++){var s=r[i];(a=o[s.id]).refs--,n.push(a)}t&&h(p(t,e),e);for(i=0;i<n.length;i++){var a;if(0===(a=n[i]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete o[a.id]}}}};var b,w=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function _(t,e,r,n){var i=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=w(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=function(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa){var i=(s=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),o=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[r].concat(o).concat([i]).join("\n")}var s;return[r].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&n[s[0]]||(r&&!s[2]?s[2]=r:r&&(s[2]="("+s[2]+") and ("+r+")"),e.push(s))}},e}},function(t,e,r){"use strict";const n=r(398).OFFLINE_ERROR,i=r(26),o=r(277),s=r(717);function a(t){return Array.from(t).map(t=>t[1])}t.exports=function(t){return{wantlist:()=>{if(!t.isOnline())throw new Error(n);return a(t._bitswap.getWantlist())},stat:i(e=>{if(!t.isOnline())return o(()=>e(new Error(n)));const r=t._bitswap.stat().snapshot;e(null,{provideBufLen:parseInt(r.providesBufferLength.toString()),blocksReceived:new s(r.blocksReceived),wantlist:a(t._bitswap.getWantlist()),peers:t._bitswap.peers().map(t=>t.toB58String()),dupBlksReceived:new s(r.dupBlksReceived),dupDataReceived:new s(r.dupDataReceived),dataReceived:new s(r.dataReceived),blocksSent:new s(r.blocksSent),dataSent:new s(r.dataSent)})}),unwant:e=>{if(!t.isOnline())throw new Error(n)}}}},function(t,e,r){"use strict";t.exports=o;var n=r(112),i=r(42);function o(t){if(!(this instanceof o))return new o(t);n.call(this,t),this._transformState={afterTransform:function(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush(function(e,r){a(t,e,r)}):a(this,null,null)}function a(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=r(6),i.inherits(o,n),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var r=this;n.prototype._destroy.call(this,t,function(t){e(t),r.emit("close")})}},function(t,e,r){"use strict";(function(e,n,i){var o=r(88).nextTick;function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=y;var a,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?n:o;y.WritableState=v;var c=r(42);c.inherits=r(6);var f={deprecate:r(651)},l=r(389),h=r(3).Buffer,p=i.Uint8Array||function(){};var d,m=r(388);function g(){}function v(t,e){a=a||r(112),t=t||{};var n=e instanceof a;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,c=t.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(c||0===c)?c:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(o(i,n),o(x,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),x(t,e))}(t,r,n,e,i);else{var s=k(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||_(t,r),n?u(w,t,r,s,i):w(t,r,s,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function y(t){if(a=a||r(112),!(d.call(y,this)||this instanceof a))return new y(t);this._writableState=new v(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),l.call(this)}function b(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function w(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),x(t,e)}function _(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,b(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,f=r.encoding,l=r.callback;if(b(t,e,!1,e.objectMode?1:c.length,c,f,l),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function k(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function S(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),x(t,e)})}function x(t,e){var r=k(e);return r&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o(S,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}c.inherits(y,l),v.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(v.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(t){return!!d.call(this,t)||this===y&&(t&&t._writableState instanceof v)}})):d=function(t){return t instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(t,e,r){var n,i=this._writableState,s=!1,a=!i.objectMode&&(n=t,h.isBuffer(n)||n instanceof p);return a&&!h.isBuffer(t)&&(t=function(t){return h.from(t)}(t)),"function"==typeof e&&(r=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=g),i.ended?function(t,e){var r=new Error("write after end");t.emit("error",r),o(e,r)}(this,r):(a||function(t,e,r,n){var i=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),o(n,s),i=!1),i}(this,i,t,r))&&(i.pendingcb++,s=function(t,e,r,n,i,o){if(!r){var s=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=h.from(e,r));return e}(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,a,n,i,o);return u}(this,i,a,t,e,r)),s},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||_(this,t))},y.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},y.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!==t&&void 0!==t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(t,e,r){e.ending=!0,x(t,e),r&&(e.finished?o(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,r(2),r(12).setImmediate,r(7))},function(t,e,r){"use strict";var n=r(88).nextTick;function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||n(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(n(i,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,r){t.exports=r(20).EventEmitter},function(t,e,r){"use strict";(function(e,n){var i=r(88).nextTick;t.exports=b;var o,s=r(722);b.ReadableState=y;r(20).EventEmitter;var a=function(t,e){return t.listeners(e).length},u=r(389),c=r(3).Buffer,f=e.Uint8Array||function(){};var l=r(42);l.inherits=r(6);var h=r(721),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var d,m=r(720),g=r(388);l.inherits(b,u);var v=["error","close","destroy","pause","resume"];function y(t,e){o=o||r(112),t=t||{};var n=e instanceof o;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=r(104).StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function b(t){if(o=o||r(112),!(this instanceof b))return new b(t);this._readableState=new y(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function w(t,e,r,n,i){var o,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,x(t)}(t,s)):(i||(o=function(t,e){var r;n=e,c.isBuffer(n)||n instanceof f||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),n?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):_(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||0!==e.length?_(t,s,e,!1):C(t,s)):_(t,s,e,!1))):n||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function _(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&x(t)),C(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=c.from(t,e),e=""),r=!0),w(this,t,e,!1,r)},b.prototype.unshift=function(t){return w(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return d||(d=r(104).StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};var k=8388608;function S(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=k?t=k:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function x(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i(E,t):E(t))}function E(t){p("emit readable"),t.emit("readable"),T(t)}function C(t,e){e.readingMore||(e.readingMore=!0,i(A,t,e))}function A(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function M(t){p("readable nexttick read 0"),t.read(0)}function I(t,e){e.reading||(p("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),T(t),e.flowing&&!e.reading&&t.read(0)}function T(t){var e=t._readableState;for(p("flow",e.flowing);e.flowing&&null!==t.read(););}function O(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;t-=i.length;for(;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0===(t-=s)){s===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++n}return e.length-=n,i}(t,e):function(t,e){var r=c.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,s),0===(t-=s)){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function B(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i(P,e,t))}function P(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function N(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}b.prototype.read=function(t){p("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?B(this):x(this),null;if(0===(t=S(t,e))&&e.ended)return 0===e.length&&B(this),null;var n,i=e.needReadable;return p("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&p("length less than watermark",i=!0),e.ended||e.reading?p("reading or ended",i=!1):i&&(p("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=S(r,e))),null===(n=t>0?O(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&B(this)),null!==n&&this.emit("data",n),n},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,e);var u=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr?f:b;function c(e,n){p("onunpipe"),e===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,p("cleanup"),t.removeListener("close",v),t.removeListener("finish",y),t.removeListener("drain",l),t.removeListener("error",g),t.removeListener("unpipe",c),r.removeListener("end",f),r.removeListener("end",b),r.removeListener("data",m),h=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function f(){p("onend"),t.end()}o.endEmitted?i(u):r.once("end",u),t.on("unpipe",c);var l=function(t){return function(){var e=t._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,T(t))}}(r);t.on("drain",l);var h=!1;var d=!1;function m(e){p("ondata"),d=!1,!1!==t.write(e)||d||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==N(o.pipes,t))&&!h&&(p("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function g(e){p("onerror",e),b(),t.removeListener("error",g),0===a(t,"error")&&t.emit("error",e)}function v(){t.removeListener("finish",y),b()}function y(){p("onfinish"),t.removeListener("close",v),b()}function b(){p("unpipe"),r.unpipe(t)}return r.on("data",m),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",g),t.once("close",v),t.once("finish",y),t.emit("pipe",r),o.flowing||(p("pipe resume"),r.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=N(e.pipes,t);return-1===s?this:(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)},b.prototype.on=function(t,e){var r=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&x(this):i(M,this))}return r},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i(I,t,e))}(this,t)),this},b.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",function(){if(p("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){(p("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&void 0!==i)&&((r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause())))}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<v.length;o++)t.on(v[o],this.emit.bind(this,v[o]));return this._read=function(e){p("wrapped _read",e),n&&(n=!1,t.resume())},this},b._fromList=O}).call(this,r(7),r(2))},function(t,e,r){var n=r(731);t.exports=function(t,e,r){r=void 0===r||r;var i,o=!1;return function(s){var a,u,c=0,f=0,l=0,h=[],p=!1,d=!1;function m(){if(a){var t=a;if(u)return a=null,t(u);if(Object.hasOwnProperty.call(h,f)){a=null;var r=h[f];delete h[f],f++,t(null,r),e&&g()}else f>=l&&d&&(a=null,t(d))}}var g=n(function(){if(p=!0,d)return m();o||e&&c-e>=f||(o=!0,s(i,function(e,n){if(o=!1,e)l=c,d=e,m();else{var i=c++;t(n,function(t,e){r?h[i]=e:h.push(e),t&&(u=t),m()}),d||g()}}))});return function(t,e){t?s(d=i=t,function(t){if(e)return e(t)}):(a=e,p||g(),m())}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){r=(0,o.default)(r||n.default);var a=(0,s.default)(e);if(!t())return r(null);var u=function(e){if(e)return r(e);if(t())return a(u);var n=(0,i.default)(arguments,1);r.apply(null,[null].concat(n))};a(u)};var n=a(r(4)),i=a(r(137)),o=a(r(136)),s=a(r(61));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,u){if(u=(0,i.default)(u||n.default),t<=0||!e)return u(null);var c=(0,o.default)(e),f=!1,l=0;function h(t,e){if(l-=1,t)f=!0,u(t);else{if(e===a.default||f&&l<=0)return f=!0,u(null);p()}}function p(){for(;l<t&&!f;){var e=c();if(null===e)return f=!0,void(l<=0&&u(null));l+=1,r(e.value,e.key,(0,s.default)(h))}}p()}};var n=u(r(4)),i=u(r(249)),o=u(r(764)),s=u(r(136)),a=u(r(395));function u(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,o){(0,n.default)(e)(t,(0,i.default)(r),o)};var n=o(r(393)),i=o(r(61));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){((0,n.default)(t)?h:p)(t,(0,f.default)(e),r)};var n=l(r(10)),i=l(r(395)),o=l(r(394)),s=l(r(248)),a=l(r(4)),u=l(r(249)),c=l(r(136)),f=l(r(61));function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e,r){r=(0,u.default)(r||a.default);var n=0,o=0,s=t.length;function f(t,e){t?r(t):++o!==s&&e!==i.default||r(null)}for(0===s&&r(null);n<s;n++)e(t[n],n,(0,c.default)(f))}var p=(0,s.default)(o.default,1/0);t.exports=e.default},function(t,e){t.exports=function(t){var e,r,n;function i(t){return r=t,function(t,i){n?e=[t,i]:r(t,i)}}return i.pause=function(){n||(n=!0,t&&t(n))},i.resume=function(){if(n&&(n=!1,t&&t(n),e)){var i=e;e=null,r(i[0],i[1])}},i}},function(t,e,r){"use strict";e.OFFLINE_ERROR="This command must be run in online mode. Try running 'ipfs daemon' first."},function(t,e,r){"use strict";const n=r(66),i=n(r(783)),o=n(r(782));(e=t.exports).rpc=i,e.td=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(401),o=(n=i)&&n.__esModule?n:{default:n};e.default=o.default,t.exports=e.default},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(402),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={},t.exports=e.default},function(t,e,r){"use strict";const n=r(30),i=r(48),o=r(25);t.exports=function(t,e){let r;if(i.isPeerInfo(t))r=t;else if(o.isMultiaddr(t)){const o=t.getPeerId();try{r=e.get(o)}catch(t){r=new i(n.createFromB58String(o))}r.multiaddrs.add(t)}else{if(!n.isPeerId(t))throw new Error("peer type not recognized");{const n=t.toB58String();try{r=e.get(n)}catch(t){throw new Error("Couldnt get PeerInfo")}}}return r}},function(t,e,r){"use strict";const n=r(256);t.exports={tag:"/plaintext/1.0.0",encrypt:(t,e,r,i)=>("function"==typeof r&&(i=r,r=void 0),n(()=>i()),e)}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,r){var n=r(825),i=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,r){var n=r(409);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(412),o=(n=i)&&n.__esModule?n:{default:n};e.default=o.default,t.exports=e.default},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(170),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default},function(t,e,r){"use strict";t.exports=r(847)},function(t,e,r){"use strict";const n=r(66);t.exports=n("\nmessage Identify {\n  // protocolVersion determines compatibility between peers\n  optional string protocolVersion = 5; // e.g. ipfs/1.0.0\n\n  // agentVersion is like a UserAgent string in browsers, or client version in bittorrent\n  // includes the client name and client.\n  optional string agentVersion = 6; // e.g. go-ipfs/0.1.0\n\n  // publicKey is this node's public key (which also gives its node.ID)\n  // - may not need to be sent, as secure channel implies it has been sent.\n  // - then again, if we change / disable secure channel, may still want it.\n  optional bytes publicKey = 1;\n\n  // listenAddrs are the multiaddrs the sender node listens for open connections on\n  repeated bytes listenAddrs = 2;\n\n  // oservedAddr is the multiaddr of the remote endpoint that the sender node perceives\n  // this is useful information to convey to the other side, as it helps the remote endpoint\n  // determine whether its connection to the local peer goes through NAT.\n  optional bytes observedAddr = 4;\n\n  repeated string protocols = 3;\n}\n").Identify},function(t,e,r){"use strict";t.exports.PROTOCOL_ID="/multistream/1.0.0"},function(t,e,r){"use strict";t.exports=function(t,e,r){r(null,t===e)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default},function(t,e,r){"use strict";(function(e){const n=r(92),i=r(47),o=r(171).writeEncoded;t.exports=function(t,r,s){const a=n({timeout:6e4},r),u=a.handshake;return s("writing multicodec: "+t),o(u,e.from(t+"\n"),r),i.decodeFromReader(u,(e,n)=>{if(e)return r(e);const i=n.toString().slice(0,-1);if(i!==t)return r(new Error(`"${t}" not supported`),u.rest());s("received ack: "+i),r(null,u.rest())}),a}}).call(this,r(0).Buffer)},function(t,e,r){(function(e){var r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Null]",s="[object Proxy]",a="[object Undefined]",u="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,f=u||c||Function("return this")(),l=Object.prototype,h=l.hasOwnProperty,p=l.toString,d=f.Symbol,m=d?d.toStringTag:void 0;function g(t){return null==t?void 0===t?a:o:m&&m in Object(t)?function(t){var e=h.call(t,m),r=t[m];try{t[m]=void 0;var n=!0}catch(t){}var i=p.call(t);n&&(e?t[m]=r:delete t[m]);return i}(t):function(t){return p.call(t)}(t)}t.exports=function(t){if(!function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}(t))return!1;var e=g(t);return e==n||e==i||e==r||e==s}}).call(this,r(7))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){r=r||n.default;var a=(0,i.default)(e)?[]:{};t(e,function(t,e,r){(0,s.default)(t)(function(t,n){arguments.length>2&&(n=(0,o.default)(arguments,1)),a[e]=n,r(t)})},function(t){r(t,a)})};var n=a(r(4)),i=a(r(10)),o=a(r(173)),s=a(r(62));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(r,n,i){return t(r,e,n,i)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,o.default)(arguments),r=e.pop();t.call(this,e,r)}};var n,i=r(173),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,o){(0,n.default)(e)(t,(0,i.default)(r),o)};var n=o(r(891)),i=o(r(62));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(r,n,i){return t(r,e,n,i)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,o){(0,n.default)(e)(t,(0,i.default)(r),o)};var n=o(r(902)),i=o(r(175));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={},t.exports=e.default},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(264),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(434),o=(n=i)&&n.__esModule?n:{default:n};e.default=o.default,t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,i.default)(n.default,t,e)};var n=o(r(917)),i=o(r(440));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(r,n,i){return t(r,e,n,i)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,o){(0,n.default)(e)(t,(0,i.default)(r),o)};var n=o(r(921)),i=o(r(177));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){r=r||n.default;var a=(0,i.default)(e)?[]:{};t(e,function(t,e,r){(0,s.default)(t)(function(t,n){arguments.length>2&&(n=(0,o.default)(arguments,1)),a[e]=n,r(t)})},function(t){r(t,a)})};var n=a(r(4)),i=a(r(10)),o=a(r(178)),s=a(r(177));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";t.exports="/mplex/6.7.0"},function(t,e,r){(function(e,n){var i=r(50);t.exports=s,t.exports.source=function(t){return s(null,t)},t.exports.sink=function(t){return s(t,null)};var o=void 0===e?n.nextTick:e;function s(t,e){t&&"object"==typeof t&&(e=t.source,t=t.sink);var r,n,s,a=[],u=[],c=new i;c.writable=c.readable=!0,c.write=function(t){return a.length?a.shift()(null,t):u.push(t),a.length||(n=!0),!!a.length},c.end=function(){e?u.length?d():e(r=!0,a.length?a.shift():function(){}):a.length&&a.shift()(!0)},c.source=function(t,e){u.length?(e(null,u.shift()),u.length||c.emit("drain")):((r=r||t)?e(r):a.push(e),n&&(n=!1,c.emit("drain")))},t&&(s=t(c.source)),s&&!e&&(e=s);var f=[],l=!1,h=!1;if(c.sink=function(t){e=t,o(d)},e){c.sink(e);var p=c.pipe.bind(c);c.pipe=function(t,e){var r=p(t,e);return c.paused&&c.resume(),r}}function d(){if(!1,e&&!h){for(;f.length&&!c.paused;)c.emit("data",f.shift());if(!c.paused){if(l)return c.emit("end");h=!0,e(null,function t(n,i){h=!1,c.paused?(!0===n?l=n:n?c.emit("error",n):f.push(i),!0):n&&!0!==(r=n)?c.emit("error",n):(r=r||n)?c.emit("end"):(c.emit("data",i),h=!0,e(null,t))})}}}return c.pause=function(){return c.paused=!0,c},c.resume=function(){return c.paused=!1,d(),c},c.destroy=function(){!r&&e&&e(r=!0,function(){}),r=!0,a.length&&a.shift()(!0),c.emit("close")},c}}).call(this,r(12).setImmediate,r(2))},function(t,e,r){var n=r(55),i=function(){},o=function(t,e,r){if("function"==typeof e)return o(t,null,e);e||(e={}),r=n(r||i);var s=t._writableState,a=t._readableState,u=e.readable||!1!==e.readable&&t.readable,c=e.writable||!1!==e.writable&&t.writable,f=function(){t.writable||l()},l=function(){c=!1,u||r.call(t)},h=function(){u=!1,c||r.call(t)},p=function(e){r.call(t,e?new Error("exited with error code: "+e):null)},d=function(e){r.call(t,e)},m=function(){return(!u||a&&a.ended)&&(!c||s&&s.ended)?void 0:r.call(t,new Error("premature close"))},g=function(){t.req.on("finish",l)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(t)?c&&!s&&(t.on("end",f),t.on("close",f)):(t.on("complete",l),t.on("abort",m),t.req?g():t.on("request",g)),function(t){return t.stdio&&Array.isArray(t.stdio)&&3===t.stdio.length}(t)&&t.on("exit",p),t.on("end",h),t.on("finish",l),!1!==e.error&&t.on("error",d),t.on("close",m),function(){t.removeListener("complete",l),t.removeListener("abort",m),t.removeListener("request",g),t.req&&t.req.removeListener("finish",l),t.removeListener("end",f),t.removeListener("close",f),t.removeListener("finish",l),t.removeListener("exit",p),t.removeListener("end",h),t.removeListener("error",d),t.removeListener("close",m)}};t.exports=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var n,i=r(956),o=(n=i)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol;function a(t){return s&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return a(t)?(0,o.default)(t):t},e.isAsync=a},function(t,e,r){var n=r(961),i=r(341),o=i;o.v1=n,o.v4=i,t.exports=o},function(t,e,r){"use strict";(function(n){const i=r(25),o=r(30),s=r(81),a=r(80);const u={string:t=>"string"==typeof t,object:t=>"object"==typeof t,multiaddr:t=>{if(u.string(t))try{return i(t),!0}catch(t){return!1}},function:t=>"function"==typeof t};function c(t,e){if(!Array.isArray(e))throw new Error("Data is not an array");t.forEach((t,r)=>{if(!u[t])throw console.error("Type %s does not exist",t),new Error("Type "+t+" does not exist");if(!u[t](e[r]))throw new Error("Data at index "+r+" is invalid for type "+t)})}(e=t.exports).cleanUrlSIO=function(t){const e=t.protos(),r=e[0].name,n=e[1].name,i=e[2].name,o=t.stringTuples(),s=o[1][1];if("tcp"!==n||"ws"!==i&&"wss"!==i)throw new Error("invalid multiaddr: "+t.toString());let a=o[0][1];"ip6"===r&&(a="["+a+"]");let u="ws"===i&&80===s||"wss"===i&&443===s?"":s;return("wss"===i?"https":"http")+"://"+a+(u?":"+u:"")},e.validate=c,e.Protocol=function(t){t||(t=(()=>{}));const e=this;e.requests={},e.addRequest=((t,r,n)=>{e.requests[t]={def:r,handle:n}}),e.handleSocket=(r=>{r.r={},Object.keys(e.requests).forEach(n=>{const i=e.requests[n];r.on(n,function(){const e=[...arguments];try{c(i.def,e),e.unshift(r),i.handle.apply(null,e)}catch(i){t(i),t("peer %s has sent invalid data for request %s",r.id||"<server>",n,e)}})})})},e.getIdAndValidate=function(t,e,r){o.createFromPubKey(n.from(t,"hex"),(i,o)=>i?r(new Error("Crypto error")):o.toB58String()!==e?r(new Error("Id is not matching")):r(null,s.keys.unmarshalPublicKey(n.from(t,"hex"))))},e.validateMa=(t=>a.WebSocketStar.matches(i(t)))}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(271),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(447),o=(n=i)&&n.__esModule?n:{default:n};e.default=o.default,t.exports=e.default},function(t,e,r){(function(n){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(965)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++i)}),t.splice(o,0,n)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,r(2))},function(t,e){t.exports=function(t){!function e(){var r=!0,n=!1;do{n=!0,r=!1,t.call(this,function(){n?r=!0:e()}),n=!1}while(r)}()}},function(t,e){var r=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return e.apply(t,n.concat(r.call(arguments)))}}},function(t,e){t.exports=function(t,e,r){return t.on(e,r),{destroy:function(){t.removeListener(e,r)}}}},function(t,e,r){var n=r(275),i=r(116),o=r(978),s=r(452),a=r(451),u=r(182)("socket.io-client:socket"),c=r(181),f=r(455);t.exports=p;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=i.prototype.emit;function p(t,e,r){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},r&&r.query&&(this.query=r.query),this.io.autoConnect&&this.open()}i(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",a(this,"onopen")),s(t,"packet",a(this,"onpacket")),s(t,"close",a(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},p.prototype.send=function(){var t=o(arguments);return t.unshift("message"),this.emit.apply(this,t),this},p.prototype.emit=function(t){if(l.hasOwnProperty(t))return h.apply(this,arguments),this;var e=o(arguments),r={type:(void 0!==this.flags.binary?this.flags.binary:f(e))?n.BINARY_EVENT:n.EVENT,data:e,options:{}};return r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this},p.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},p.prototype.onopen=function(){if(u("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?c.encode(this.query):this.query;u("sending connect packet with query %s",t),this.packet({type:n.CONNECT,query:t})}else this.packet({type:n.CONNECT})},p.prototype.onclose=function(t){u("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},p.prototype.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case n.CONNECT:this.onconnect();break;case n.EVENT:case n.BINARY_EVENT:this.onevent(t);break;case n.ACK:case n.BINARY_ACK:this.onack(t);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit("error",t.data)}},p.prototype.onevent=function(t){var e=t.data||[];u("emitting event %j",e),null!=t.id&&(u("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?h.apply(this,e):this.receiveBuffer.push(e)},p.prototype.ack=function(t){var e=this,r=!1;return function(){if(!r){r=!0;var i=o(arguments);u("sending ack %j",i),e.packet({type:f(i)?n.BINARY_ACK:n.ACK,id:t,data:i})}}},p.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(u("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):u("bad ack %s",t.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)h.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(t){return this.flags.compress=t,this},p.prototype.binary=function(t){return this.flags.binary=t,this}},function(t,e,r){"use strict";var n,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,s={},a=0,u=0;function c(t){var e="";do{e=i[t%o]+e,t=Math.floor(t/o)}while(t>0);return e}function f(){var t=c(+new Date);return t!==n?(a=0,n=t):t+"."+c(a++)}for(;u<o;u++)s[i[u]]=u;f.encode=c,f.decode=function(t){var e=0;for(u=0;u<t.length;u++)e=e*o+s[t.charAt(u)];return e},t.exports=f},function(t,e,r){(function(e){var n=r(988),i=Object.prototype.toString,o="function"==typeof e.Blob||"[object BlobConstructor]"===i.call(e.Blob),s="function"==typeof e.File||"[object FileConstructor]"===i.call(e.File);t.exports=function t(r){if(!r||"object"!=typeof r)return!1;if(n(r)){for(var i=0,a=r.length;i<a;i++)if(t(r[i]))return!0;return!1}if("function"==typeof e.Buffer&&e.Buffer.isBuffer&&e.Buffer.isBuffer(r)||"function"==typeof e.ArrayBuffer&&r instanceof ArrayBuffer||o&&r instanceof Blob||s&&r instanceof File)return!0;if(r.toJSON&&"function"==typeof r.toJSON&&1===arguments.length)return t(r.toJSON(),!0);for(var u in r)if(Object.prototype.hasOwnProperty.call(r,u)&&t(r[u]))return!0;return!1}}).call(this,r(7))},function(t,e,r){var n=r(273),i=r(181),o=r(115),s=r(180),a=r(454),u=r(179)("engine.io-client:polling");t.exports=f;var c=null!=new(r(274))({xdomain:!1}).responseType;function f(t){var e=t&&t.forceBase64;c&&!e||(this.supportsBinary=!1),n.call(this,t)}s(f,n),f.prototype.name="polling",f.prototype.doOpen=function(){this.poll()},f.prototype.pause=function(t){var e=this;function r(){u("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(u("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){u("pre-pause polling complete"),--n||r()})),this.writable||(u("we are currently writing - waiting to pause"),n++,this.once("drain",function(){u("pre-pause writing complete"),--n||r()}))}else r()},f.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},f.prototype.onData=function(t){var e=this;u("polling got data %s",t);o.decodePayload(t,this.socket.binaryType,function(t,r,n){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},f.prototype.doClose=function(){var t=this;function e(){u("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(u("transport open - closing"),e()):(u("transport not open - deferring close"),this.once("open",e))},f.prototype.write=function(t){var e=this;this.writable=!1;var r=function(){e.writable=!0,e.emit("drain")};o.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,r)})},f.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",r="";return!1!==this.timestampRequests&&(t[this.timestampParam]=a()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(r=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+r+this.path+t}},function(t,e,r){(function(t){var n=r(274),i=r(990),o=r(981),s=r(980);e.polling=function(e){var r=!1,s=!1,a=!1!==e.jsonp;if(t.location){var u="https:"===location.protocol,c=location.port;c||(c=u?443:80),r=e.hostname!==location.hostname||c!==e.port,s=e.secure!==u}if(e.xdomain=r,e.xscheme=s,"open"in new n(e)&&!e.forceJSONP)return new i(e);if(!a)throw new Error("JSONP disabled");return new o(e)},e.websocket=s}).call(this,r(7))},function(t,e,r){var n=r(993),i=r(453),o=r(116),s=r(275),a=r(452),u=r(451),c=r(182)("socket.io-client:manager"),f=r(356),l=r(977),h=Object.prototype.hasOwnProperty;function p(t,e){if(!(this instanceof p))return new p(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new l({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var r=e.parser||s;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=p,p.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},p.prototype.updateSocketIds=function(){for(var t in this.nsps)h.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},p.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},o(p.prototype),p.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},p.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},p.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(t,e){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=n(this.uri,this.opts);var r=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=a(r,"open",function(){i.onopen(),t&&t()}),s=a(r,"error",function(e){if(c("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",e),t){var r=new Error("Connection error");r.data=e,t(r)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var u=this._timeout;c("connect attempt will timeout after %d",u);var f=setTimeout(function(){c("connect attempt timed out after %d",u),o.destroy(),r.close(),r.emit("error","timeout"),i.emitAll("connect_timeout",u)},u);this.subs.push({destroy:function(){clearTimeout(f)}})}return this.subs.push(o),this.subs.push(s),this},p.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(a(t,"data",u(this,"ondata"))),this.subs.push(a(t,"ping",u(this,"onping"))),this.subs.push(a(t,"pong",u(this,"onpong"))),this.subs.push(a(t,"error",u(this,"onerror"))),this.subs.push(a(t,"close",u(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",u(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(t){this.decoder.add(t)},p.prototype.ondecoded=function(t){this.emit("packet",t)},p.prototype.onerror=function(t){c("error",t),this.emitAll("error",t)},p.prototype.socket=function(t,e){var r=this.nsps[t];if(!r){r=new i(this,t,e),this.nsps[t]=r;var n=this;r.on("connecting",o),r.on("connect",function(){r.id=n.generateId(t)}),this.autoConnect&&o()}function o(){~f(n.connecting,r)||n.connecting.push(r)}return r},p.prototype.destroy=function(t){var e=f(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},p.prototype.packet=function(t){c("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(r){for(var n=0;n<r.length;n++)e.engine.write(r[n],t.options);e.encoding=!1,e.processPacketQueue()}))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},p.prototype.cleanup=function(){c("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(t){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();c("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var r=setTimeout(function(){t.skipReconnect||(c("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(c("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(c("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(r)}})}},p.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,r){(function(e){t.exports=function(t){return r&&e.Buffer.isBuffer(t)||n&&(t instanceof e.ArrayBuffer||i(t))};var r="function"==typeof e.Buffer&&"function"==typeof e.Buffer.isBuffer,n="function"==typeof e.ArrayBuffer,i=n&&"function"==typeof e.ArrayBuffer.isView?e.ArrayBuffer.isView:function(t){return t.buffer instanceof e.ArrayBuffer}}).call(this,r(7))},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,i=t.indexOf("["),o=t.indexOf("]");-1!=i&&-1!=o&&(t=t.substring(0,i)+t.substring(i,o).replace(/:/g,";")+t.substring(o,t.length));for(var s=r.exec(t||""),a={},u=14;u--;)a[n[u]]=s[u]||"";return-1!=i&&-1!=o&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(t,e,r){var n=r(998),i=r(275),o=r(458),s=r(182)("socket.io-client");t.exports=e=u;var a=e.managers={};function u(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i=n(t),u=i.source,c=i.id,f=i.path,l=a[c]&&f in a[c].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||l?(s("ignoring socket cache for %s",u),r=o(u,e)):(a[c]||(s("new io instance for %s",u),a[c]=o(u,e)),r=a[c]),i.query&&!e.query&&(e.query=i.query),r.socket(i.path,e)}e.protocol=i.protocol,e.connect=u,e.Manager=r(458),e.Socket=r(453)},function(t,e){var r=1/0,n=9007199254740991,i=1.7976931348623157e308,o=NaN,s="[object Arguments]",a="[object Function]",u="[object GeneratorFunction]",c="[object String]",f="[object Symbol]",l=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,d=/^0o[0-7]+$/i,m=/^(?:0|[1-9]\d*)$/,g=parseInt;function v(t){return t!=t}function y(t,e){return function(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}(e,function(e){return t[e]})}var b,w,_=Object.prototype,k=_.hasOwnProperty,S=_.toString,x=_.propertyIsEnumerable,E=(b=Object.keys,w=Object,function(t){return b(w(t))}),C=Math.max;function A(t,e){var r=T(t)||function(t){return function(t){return P(t)&&O(t)}(t)&&k.call(t,"callee")&&(!x.call(t,"callee")||S.call(t)==s)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!k.call(t,o)||i&&("length"==o||I(o,n))||r.push(o);return r}function M(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||_,e!==n)return E(t);var e,r,n,i=[];for(var o in Object(t))k.call(t,o)&&"constructor"!=o&&i.push(o);return i}function I(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||m.test(t))&&t>-1&&t%1==0&&t<e}var T=Array.isArray;function O(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=B(t)?S.call(t):"";return e==a||e==u}(t)}function B(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function P(t){return!!t&&"object"==typeof t}t.exports=function(t,e,n,s){var a;t=O(t)?t:(a=t)?y(a,function(t){return O(t)?A(t):M(t)}(a)):[],n=n&&!s?function(t){var e=function(t){if(!t)return 0===t?t:0;if((t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||P(t)&&S.call(t)==f}(t))return o;if(B(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=B(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var r=p.test(t);return r||d.test(t)?g(t.slice(2),r?2:8):h.test(t)?o:+t}(t))===r||t===-r){var e=t<0?-1:1;return e*i}return t==t?t:0}(t),n=e%1;return e==e?n?e-n:e:0}(n):0;var u=t.length;return n<0&&(n=C(u+n,0)),function(t){return"string"==typeof t||!T(t)&&P(t)&&S.call(t)==c}(t)?n<=u&&t.indexOf(e,n)>-1:!!u&&function(t,e,r){if(e!=e)return function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,v,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}(t,e,n)>-1}},function(t){t.exports={Addresses:{Swarm:[],API:"",Gateway:""},Discovery:{MDNS:{Enabled:!1,Interval:10},webRTCStar:{Enabled:!0}},Bootstrap:["/dns4/ams-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLer265NRgSp2LA3dPaeykiS1J6DifTC88f5uVQKNAd","/dns4/lon-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLMeWqB7YGVLJN3pNLQpmmEk35v6wYtsMGLzSr5QBU3","/dns4/sfo-3.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLPppuBtQSGwKDZT2M73ULpjvfd3aZ6ha4oFGL1KrGM","/dns4/sgp-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLSafTMBsPKadTEgaXctDQVcqN88CNLHXMkTNwMKPnu","/dns4/nyc-1.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLueR4xBeUbY9WZ9xGUUxunbKWcrNFTDAadQJmocnWm","/dns4/nyc-2.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmSoLV4Bbm51jM9C4gDYZQ9Cy3U6aXMJDAbzgu2fzaDs64","/dns4/wss0.bootstrap.libp2p.io/tcp/443/wss/ipfs/QmZMxNdpMkewiVZLMRxaNxUeZpDUb34pWjZ1kZvsd16Zic","/dns4/wss1.bootstrap.libp2p.io/tcp/443/wss/ipfs/Qmbut9Ywz9YEDrz8ySBSgWyJk41Uvm2QJPhwDJzJyGFsD6"]}},function(t,e,r){"use strict";const n=r(26),i=r(349).repoVersion;t.exports=function(t){return{init:(t,e,r)=>{},version:n(e=>{t._repo._isInitialized(r=>{if(r){return[/Key not found in database \[\/version\]/,/ENOENT/,/not yet initialized/].some(t=>t.test(r.message))?e(null,i):e(r)}t._repo.version.get(e)})}),gc:()=>{},stat:n((e,r)=>{"function"==typeof e&&(r=e,e={}),t._repo.stat(e,(t,e)=>{if(t)return r(t);r(null,{numObjects:e.numObjects,repoSize:e.repoSize,repoPath:e.repoPath,version:e.version.toString(),storageMax:e.storageMax})})}),path:()=>t._repo.path}}},function(t){t.exports={_args:[["ipfs@0.28.2","/Users/wangyiyi/github/ribbit"]],_from:"ipfs@0.28.2",_id:"ipfs@0.28.2",_inBundle:!1,_integrity:"sha512-ryNxKhNQvU33M3tvRwk/pVG63ZLiS1R5a2zbrqAS75DSrO3N/sRd/iCr8THr4EPIdnYfGEEWluqig6n6rBzl4A==",_location:"/ipfs",_phantomChildren:{"core-util-is":"1.0.2",inherits:"2.0.3",lodash:"4.17.5",ms:"2.0.0","process-nextick-args":"2.0.0","safe-buffer":"5.1.1","util-deprecate":"1.0.2"},_requested:{type:"version",registry:!0,raw:"ipfs@0.28.2",name:"ipfs",escapedName:"ipfs",rawSpec:"0.28.2",saveSpec:null,fetchSpec:"0.28.2"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/ipfs/-/ipfs-0.28.2.tgz",_spec:"0.28.2",_where:"/Users/wangyiyi/github/ribbit",author:{name:"David Dias",email:"daviddias@ipfs.io"},bin:{jsipfs:"src/cli/bin.js"},browser:{"./src/core/components/init-assets.js":!1,"./src/core/runtime/config-nodejs.json":"./src/core/runtime/config-browser.json","./src/core/runtime/libp2p-nodejs.js":"./src/core/runtime/libp2p-browser.js","./src/core/runtime/repo-nodejs.js":"./src/core/runtime/repo-browser.js","./src/core/runtime/dns-nodejs.js":"./src/core/runtime/dns-browser.js","./test/utils/create-repo-nodejs.js":"./test/utils/create-repo-browser.js",stream:"readable-stream",joi:"joi-browser"},bugs:{url:"https://github.com/ipfs/js-ipfs/issues"},contributors:[{name:"Alan Shaw",email:"alan@tableflip.io"},{name:"Andrew de Andrade",email:"andrew@deandrade.com.br"},{name:"Arpit Agarwal",email:"93arpit@gmail.com"},{name:"Arpit Agarwal",email:"atvanguard@users.noreply.github.com"},{name:"Bernard Mordan",email:"bernard@tableflip.io"},{name:"Bruno Zell",email:"bruno.zzell@gmail.com"},{name:"CHEVALAY JOSSELIN",email:"josselin54.chevalay@gmail.com"},{name:"Caio Gondim",email:"me@caiogondim.com"},{name:"Christian Couder",email:"chriscool@tuxfamily.org"},{name:"Dafeng",email:"dfguo.joe@gmail.com"},{name:"Daniel J. O'Quinn",email:"danieljoquinn@gmail.com"},{name:"Daniela Borges Matos de Carvalho",email:"alunassertiva@gmail.com"},{name:"David Dias",email:"daviddias.p@gmail.com"},{name:"David da Silva",email:"dasilvacontin@gmail.com"},{name:"Dmitriy Ryajov",email:"dryajov@gmail.com"},{name:"Dzmitry Das",email:"dbachko@gmail.com"},{name:"Enrico Marino",email:"enrico.marino@email.com"},{name:"Faheel Ahmad",email:"faheel@live.in"},{name:"Felix Yan",email:"felixonmars@archlinux.org"},{name:"Francisco Baio Dias",email:"xicombd@gmail.com"},{name:"Francisco Baio Dias",email:"francisco@typeform.com"},{name:"Friedel Ziegelmayer",email:"dignifiedquire@gmail.com"},{name:"Georgios Rassias",email:"georassias@gmail.com"},{name:"Gorka Ludlow",email:"gorka@aquigorka.com"},{name:"Greenkeeper",email:"support@greenkeeper.io"},{name:"Haad",email:"haadcode@users.noreply.github.com"},{name:"Haoliang Yu",email:"haoliangyu@users.noreply.github.com"},{name:"Harsh Vakharia",email:"harshjv@users.noreply.github.com"},{name:"Henrique Dias",email:"hacdias@gmail.com"},{name:"Henry Rodrick",email:"moshisushi@gmail.com"},{name:"Jade Meskill",email:"jade.meskill@gmail.com"},{name:"Johannes Wikner",email:"johannes.wikner@gmail.com"},{name:"Jon Schlinkert",email:"dev@sellside.com"},{name:"Jonathan",email:"jkrone@vt.edu"},{name:"João Antunes",email:"j.goncalo.antunes@gmail.com"},{name:"João Santos",email:"joaosantos15@users.noreply.github.com"},{name:"Kevin Wang",email:"kevin@fossa.io"},{name:"Lars Gierth",email:"larsg@systemli.org"},{name:"Lukas Drgon",email:"lukas.drgon@gmail.com"},{name:"Maciej Krüger",email:"mkg20001@gmail.com"},{name:"Marius Darila",email:"marius.darila@gmail.com"},{name:"Michelle Lee",email:"michelle@protocol.ai"},{name:"Mikeal Rogers",email:"mikeal.rogers@gmail.com"},{name:"Mithgol",email:"getgit@mithgol.ru"},{name:"Nuno Nogueira",email:"nunofmn@gmail.com"},{name:"Oskar Nyberg",email:"oskar@oskarnyberg.com"},{name:"Pau Ramon Revilla",email:"masylum@gmail.com"},{name:"Paulo Rodrigues",email:"me@paulogr.com"},{name:"Pedro Teixeira",email:"i@pgte.me"},{name:"RasmusErik Voel Jensen",email:"github@solsort.com"},{name:"Richard Littauer",email:"richard.littauer@gmail.com"},{name:"Richard Schneider",email:"makaretu@gmail.com"},{name:"Rod Keys",email:"rod@zokos.com"},{name:"Sangwon Hong",email:"qpakzk@gmail.com"},{name:"Sid Harder",email:"sideharder@gmail.com"},{name:"SidHarder",email:"softwarenavigator@gmail.com"},{name:"Stephen Whitmore",email:"stephen.whitmore@gmail.com"},{name:"Stephen Whitmore",email:"noffle@users.noreply.github.com"},{name:"Terence Pae",email:"terencepae@gmail.com"},{name:"Uroš Jurglič",email:"jurglic@gmail.com"},{name:"Volker Mische",email:"volker.mische@gmail.com"},{name:"Xiao Liang",email:"yxliang01@users.noreply.github.com"},{name:"Yahya",email:"ya7yaz@gmail.com"},{name:"achingbrain",email:"alex@achingbrain.net"},{name:"bitspill",email:"bitspill+github@bitspill.net"},{name:"haad",email:"haad@headbanggames.com"},{name:"jbenet",email:"juan@benet.ai"},{name:"jonahweissman",email:"19804455+jonahweissman@users.noreply.github.com"},{name:"kevingzhang",email:"kevin.zhang.canada@gmail.com"},{name:"kumavis",email:"kumavis@users.noreply.github.com"},{name:"nginnever",email:"ginneversource@gmail.com"},{name:"npmcdn-to-unpkg-bot",email:"npmcdn-to-unpkg-bot@users.noreply.github.com"},{name:"tcme",email:"hi@this-connect.me"},{name:"victorbjelkholm",email:"victorbjelkholm@gmail.com"},{name:"Łukasz Magiera",email:"magik6k@users.noreply.github.com"}],dependencies:{async:"^2.6.0","big.js":"^5.0.3","binary-querystring":"~0.1.2",bl:"^1.2.1",boom:"^7.1.1",bs58:"^4.0.1",byteman:"^1.3.5",cids:"~0.5.2",debug:"^3.1.0","file-type":"^7.6.0",filesize:"^3.6.0","fsm-event":"^2.1.0","get-folder-size":"^1.0.1",glob:"^7.1.2",hapi:"^16.6.2","hapi-set-header":"^1.0.2",hoek:"^5.0.3","human-to-milliseconds":"^1.0.0","ipfs-api":"^18.1.2","ipfs-bitswap":"~0.19.0","ipfs-block":"~0.6.1","ipfs-block-service":"~0.13.0","ipfs-multipart":"~0.1.0","ipfs-repo":"~0.18.7","ipfs-unixfs":"~0.1.14","ipfs-unixfs-engine":"~0.24.4",ipld:"^0.15.0","is-ipfs":"^0.3.2","is-stream":"^1.1.0",joi:"^13.1.2","joi-browser":"^13.0.1","joi-multiaddr":"^1.0.1",libp2p:"~0.18.0","libp2p-circuit":"~0.1.4","libp2p-floodsub":"~0.14.1","libp2p-kad-dht":"~0.8.0","libp2p-keychain":"~0.3.1","libp2p-mdns":"~0.9.2","libp2p-multiplex":"~0.5.1","libp2p-railing":"~0.7.1","libp2p-secio":"~0.9.3","libp2p-tcp":"~0.11.6","libp2p-webrtc-star":"~0.13.4","libp2p-websocket-star":"~0.7.7","libp2p-websockets":"~0.10.5","lodash.flatmap":"^4.5.0","lodash.get":"^4.4.2","lodash.sortby":"^4.7.0","lodash.values":"^4.3.0",mafmt:"^4.0.0","mime-types":"^2.1.18",mkdirp:"~0.5.1",multiaddr:"^3.0.2",multihashes:"~0.4.13",once:"^1.4.0","path-exists":"^3.0.0","peer-book":"~0.5.4","peer-id":"~0.10.6","peer-info":"~0.11.6",progress:"^2.0.0","prom-client":"^10.2.2","prometheus-gc-stats":"^0.5.0","promisify-es6":"^1.0.3","pull-abortable":"^4.1.1","pull-defer":"^0.2.2","pull-file":"^1.1.0","pull-ndjson":"^0.1.1","pull-paramap":"^1.2.2","pull-pushable":"^2.2.0","pull-sort":"^1.0.1","pull-stream":"^3.6.2","pull-stream-to-stream":"^1.3.4","pull-zip":"^2.0.1","read-pkg-up":"^3.0.0","readable-stream":"2.3.4","safe-buffer":"^5.1.1","stream-to-pull-stream":"^1.7.2","tar-stream":"^1.5.5",temp:"~0.8.3",through2:"^2.0.3","update-notifier":"^2.3.0",yargs:"^11.0.0","yargs-parser":"^9.0.2"},description:"JavaScript implementation of the IPFS specification",devDependencies:{aegir:"^13.0.5","buffer-loader":"0.0.1",chai:"^4.1.2",delay:"^2.0.0","detect-node":"^2.0.3","dir-compare":"^1.4.0","dirty-chai":"^2.0.1","eslint-plugin-react":"^7.7.0",execa:"^0.9.0","expose-loader":"^0.7.4","form-data":"^2.3.2","go-ipfs-dep":"^0.4.13",hat:"0.0.3","interface-ipfs-core":"~0.52.0","ipfsd-ctl":"~0.29.1","left-pad":"^1.2.0",lodash:"^4.17.5",mocha:"^5.0.1",ncp:"^2.0.0",nexpect:"^0.5.0","pre-commit":"^1.2.2","pretty-bytes":"^4.0.2",qs:"^6.5.1","random-fs":"^1.0.3",rimraf:"^2.6.2","stream-to-promise":"^2.2.0","transform-loader":"^0.2.4"},engines:{node:">=6.0.0",npm:">=3.0.0"},homepage:"https://github.com/ipfs/js-ipfs#readme",keywords:["IPFS"],license:"MIT",main:"src/core/index.js",name:"ipfs",optionalDependencies:{"prom-client":"^10.2.2","prometheus-gc-stats":"^0.5.0"},"pre-push":["lint","test"],repository:{type:"git",url:"git+https://github.com/ipfs/js-ipfs.git"},scripts:{benchmark:'echo "Error: no benchmarks yet" && exit 1',"benchmark:browser":'echo "Error: no benchmarks yet" && exit 1',"benchmark:node":'echo "Error: no benchmarks yet" && exit 1',"benchmark:node:core":'echo "Error: no benchmarks yet" && exit 1',"benchmark:node:http":'echo "Error: no benchmarks yet" && exit 1',build:"aegir build",coverage:"aegir coverage","coverage-publish":"aegir-coverage publish",lint:"aegir lint",release:"aegir release -t node -t browser","release-major":"aegir release --type major -t node -t browser","release-minor":"aegir release --type minor -t node -t browser",test:"aegir test -t node -t browser -t webworker --no-cors","test:bootstrapers":"IPFS_TEST=bootstrapers aegir test -t browser -f test/bootstrapers.js","test:browser":"aegir test -t browser --no-cors","test:node":"aegir test -t node","test:node:cli":"aegir test -t node -f test/cli/index.js","test:node:core":"aegir test -t node -f test/core/**.js","test:node:gateway":"aegir test -t node -f test/gateway/index.js","test:node:http":"aegir test -t node -f test/http-api/index.js","test:webworker":"aegir test -t webworker --no-cors"},version:"0.28.2"}},function(t,e,r){"use strict";var n=r(1045);function i(t){return"function"==typeof t}function o(t,e){return e?function(r,n){var i=setTimeout(function(){t(new Error("pull-reader: read exceeded timeout"),n)},e);t(r,function(t,e){clearTimeout(i),n(t,e)})}:t}t.exports=function(t){var e,r,s,a,u,c=[],f=!1,l=n();function h(){for(;c.length;)if(null==c[0].length&&l.has(1))c.shift().cb(null,l.get());else if(l.has(c[0].length)){var t=c.shift();t.cb(null,l.get(t.length))}else{if(!s)return!!c.length;c.shift().cb(s)}return c.length||!l.has(1)||u}function p(){h()&&!f&&(!e||f||a||(f=!0,r(null,function(t,e){if(f=!1,t)return s=t,h();l.add(e),p()})))}function d(n){if(u){for(;c.length;)c.shift().cb(u);return cb&&cb(u)}r=o(n,t),e=n,p()}return d.abort=function(t,r){u=t||!0,e?(f=!0,e(u,function(){for(;c.length;)c.shift().cb(u);r&&r(u)})):r()},d.read=function(r,n,s){if(i(n)&&(s=n,n=t),!i(s))return a=!0,function(t,r){if(f||l.has(1)){if(t)return e(t,r);c.push({length:null,cb:r}),p()}else o(e,n)(t,function(t,e){r(t,e)})};var u;c.push({length:(u=r,Number.isFinite(u)?r:null),cb:s}),p()},d}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(474)),i=o(r(1059));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,n.default)(i.default),t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,n){return t(e,n)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,u){if(u=(0,i.default)(u||n.default),t<=0||!e)return u(null);var c=(0,o.default)(e),f=!1,l=0;function h(t,e){if(l-=1,t)f=!0,u(t);else{if(e===a.default||f&&l<=0)return f=!0,u(null);p()}}function p(){for(;l<t&&!f;){var e=c();if(null===e)return f=!0,void(l<=0&&u(null));l+=1,r(e.value,e.key,(0,s.default)(h))}}p()}};var n=u(r(4)),i=u(r(284)),o=u(r(1064)),s=u(r(283)),a=u(r(472));function u(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,o){(0,n.default)(e)(t,(0,i.default)(r),o)};var n=o(r(470)),i=o(r(71));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){((0,n.default)(t)?h:p)(t,(0,f.default)(e),r)};var n=l(r(10)),i=l(r(472)),o=l(r(471)),s=l(r(282)),a=l(r(4)),u=l(r(284)),c=l(r(283)),f=l(r(71));function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e,r){r=(0,u.default)(r||a.default);var n=0,o=0,s=t.length;function f(t,e){t?r(t):++o!==s&&e!==i.default||r(null)}for(0===s&&r(null);n<s;n++)e(t[n],n,(0,c.default)(f))}var p=(0,s.default)(o.default,1/0);t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,o){return t(n.default,e,(0,i.default)(r),o)}};var n=o(r(473)),i=o(r(71));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(186),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";t.exports=r(1081)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(r,n,i){return t(r,e,n,i)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,o){(0,n.default)(e)(t,(0,i.default)(r),o)};var n=o(r(1086)),i=o(r(119));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){r=r||n.default;var a=(0,i.default)(e)?[]:{};t(e,function(t,e,r){(0,s.default)(t)(function(t,n){arguments.length>2&&(n=(0,o.default)(arguments,1)),a[e]=n,r(t)})},function(t){r(t,a)})};var n=a(r(4)),i=a(r(10)),o=a(r(187)),s=a(r(119));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(187),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";(function(e){
/*!
 * @description Recursive object extending
 * @author Viacheslav Lotsmanov <lotsmanov89@gmail.com>
 * @license MIT
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2013-2015 Viacheslav Lotsmanov
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
function r(t){return t instanceof e||t instanceof Date||t instanceof RegExp}function n(t){if(t instanceof e){var r=new e(t.length);return t.copy(r),r}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);throw new Error("Unexpected situation")}var i=t.exports=function(){if(arguments.length<1||"object"!=typeof arguments[0])return!1;if(arguments.length<2)return arguments[0];var t,e,o=arguments[0];return Array.prototype.slice.call(arguments,1).forEach(function(s){"object"!=typeof s||null===s||Array.isArray(s)||Object.keys(s).forEach(function(a){return e=o[a],(t=s[a])===o?void 0:"object"!=typeof t||null===t?void(o[a]=t):Array.isArray(t)?void(o[a]=function t(e){var o=[];return e.forEach(function(e,s){"object"==typeof e&&null!==e?Array.isArray(e)?o[s]=t(e):r(e)?o[s]=n(e):o[s]=i({},e):o[s]=e}),o}(t)):r(t)?void(o[a]=n(t)):"object"!=typeof e||null===e||Array.isArray(e)?void(o[a]=i({},t)):void(o[a]=i(e,t))})}),o}}).call(this,r(0).Buffer)},function(t,e,r){(function(n){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(1094)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++i)}),t.splice(o,0,n)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,r(2))},function(t,e,r){"use strict";(function(e){const n=r(86),i=r(30),o=r(48);function s(t){let r;if("string"==typeof t)r=t;else if(e.isBuffer(t))r=n.encode(t).toString();else if(i.isPeerId(t))r=t.toB58String();else{if(!o.isPeerInfo(t))throw new Error("not valid PeerId or PeerInfo, or B58Str");r=t.id.toB58String()}return r}t.exports=class{constructor(){this._peers={}}has(t){const e=s(t);return Boolean(this._peers[e])}put(t,e){const r=this._peers[t.id.toB58String()];if(!r||e)return this._peers[t.id.toB58String()]=t,t;t.multiaddrs.forEach(t=>r.multiaddrs.add(t));const n=t.isConnected();return n&&r.connect(n),t.protocols.forEach(t=>r.protocols.add(t)),!r.id.privKey&&t.id.privKey&&(r.id.privKey=t.id.privKey),!r.id.pubKey&&t.id.pubKey&&(r.id.pubKey=t.id.pubKey),r}get(t){const e=s(t),r=this._peers[e];if(r)return r;throw new Error("PeerInfo not found")}getAll(){return this._peers}getAllArray(){return Object.keys(this._peers).map(t=>this._peers[t])}getMultiaddrs(t){return this.get(t).multiaddrs.toArray()}remove(t){const e=s(t);this._peers[e]&&delete this._peers[e]}}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(25);t.exports={ensureMultiaddr:function(t){return n.isMultiaddr(t)?t:n(t)}}},function(t,e,r){"use strict";const n=r(495);t.exports=function(t){if(!t||"number"!=typeof t)throw new Error("first argument must be a Number bigger than 0");return n.getRandomValues(new Uint8Array(t))}},function(t,e,r){"use strict";var n=r(188);function i(t,e,r){null===t&&null===e&&null===r?(this.x=i.one,this.y=i.one,this.z=i.zero):(this.x=t,this.y=e,this.z=r),this.zOne=this.z===i.one}i.zero=n.fromNumber(0),i.one=n.fromNumber(1),i.prototype.neg=function(){return this.inf?this:new i(this.x,this.y.redNeg(),this.z)},i.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),o=t.x.redMul(r),s=this.y.redMul(e).redMul(t.z),a=t.y.redMul(r).redMul(this.z),u=n.redSub(o),c=s.redSub(a);if(u.isZero())return c.isZero()?this.dbl():new i(null,null,null);var f=u.redSqr(),l=n.redMul(f),h=f.redMul(u),p=c.redSqr().redIAdd(h).redISub(l).redISub(l);return new i(p,c.redMul(l.redISub(p)).redISub(s.redMul(h)),this.z.redMul(t.z).redMul(u))},i.prototype.mixedAdd=function(t){if(this.inf)return t.toECJPoint();if(t.inf)return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),o=this.y,s=t.y.redMul(e).redMul(this.z),a=r.redSub(n),u=o.redSub(s);if(a.isZero())return u.isZero()?this.dbl():new i(null,null,null);var c=a.redSqr(),f=r.redMul(c),l=c.redMul(a),h=u.redSqr().redIAdd(l).redISub(f).redISub(f);return new i(h,u.redMul(f.redISub(h)).redISub(o.redMul(l)),this.z.redMul(a))},i.prototype.dbl=function(){if(this.inf)return this;var t,e,r;if(this.zOne){var n=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(n).redISub(s);a=a.redIAdd(a);var u=n.redAdd(n).redIAdd(n),c=u.redSqr().redISub(a).redISub(a),f=s.redIAdd(s).redIAdd(s).redIAdd(s);t=c,e=u.redMul(a.redISub(c)).redISub(f),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),p=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(l).redISub(p);d=d.redIAdd(d);var m=l.redAdd(l).redIAdd(l),g=m.redSqr(),v=p.redIAdd(p).redIAdd(p).redIAdd(p);t=g.redISub(d).redISub(d),e=m.redMul(d.redISub(t)).redISub(v),r=(r=this.y.redMul(this.z)).redIAdd(r)}return new i(t,e,r)},i.prototype.dblp=function(t){if(0===t||this.inf)return this;for(var e=this,r=0;r<t;r++)e=e.dbl();return e},Object.defineProperty(i.prototype,"inf",{enumerable:!0,get:function(){return this.z.isZero()}}),t.exports=i},function(t,e,r){"use strict";var n=r(3).Buffer,i=r(188),o=r(486);function s(t,e){null===t&&null===e?(this.x=this.y=null,this.inf=!0):(this.x=t,this.y=e,this.inf=!1)}s.fromPublicKey=function(t){var e,r,n=t[0];return 33!==t.length||2!==n&&3!==n?65!==t.length||4!==n&&6!==n&&7!==n?null:(e=i.fromBuffer(t.slice(1,33)),r=i.fromBuffer(t.slice(33,65)),e.ucmp(i.p)>=0||r.ucmp(i.p)>=0?null:6!==n&&7!==n||r.isOdd()===(7===n)?0!==e.redSqr().redMul(e).redIAdd7().ucmp(r.redSqr())?null:new s(e,r):null):(e=i.fromBuffer(t.slice(1,33))).ucmp(i.p)>=0?null:null===(r=e.redSqr().redMul(e).redIAdd7().redSqrt())?null:(3===n!==r.isOdd()&&(r=r.redNeg()),new s(e,r))},s.prototype.toPublicKey=function(t){var e,r=this.x,i=this.y;return t?((e=n.alloc(33))[0]=i.isOdd()?3:2,r.toBuffer().copy(e,1)):((e=n.alloc(65))[0]=4,r.toBuffer().copy(e,1),i.toBuffer().copy(e,33)),e},s.fromECJPoint=function(t){if(t.inf)return new s(null,null);var e=t.z.redInvm(),r=e.redSqr();return new s(t.x.redMul(r),t.y.redMul(r).redMul(e))},s.prototype.toECJPoint=function(){return this.inf?new o(null,null,null):new o(this.x,this.y,o.one)},s.prototype.neg=function(){return this.inf?this:new s(this.x,this.y.redNeg())},s.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(0===this.x.ucmp(t.x))return 0===this.y.ucmp(t.y)?this.dbl():new s(null,null);var e=this.y.redSub(t.y);e.isZero()||(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x);return new s(r,e.redMul(this.x.redSub(r)).redISub(this.y))},s.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.isZero())return new s(null,null);var e=this.x.redSqr(),r=e.redAdd(e).redIAdd(e).redMul(t.redInvm()),n=r.redSqr().redISub(this.x.redAdd(this.x));return new s(n,r.redMul(this.x.redSub(n)).redISub(this.y))},s.prototype.mul=function(t){for(var e=this._getNAFPoints(4),r=e.points,n=t.getNAF(e.wnd),i=new o(null,null,null),a=n.length-1;a>=0;a--){for(var u=0;a>=0&&0===n[a];a--,++u);if(a>=0&&(u+=1),i=i.dblp(u),a<0)break;var c=n[a];i=c>0?i.mixedAdd(r[c-1>>1]):i.mixedAdd(r[-c-1>>1].neg())}return s.fromECJPoint(i)},s.prototype._getNAFPoints1=function(){return{wnd:1,points:[this]}},s.prototype._getNAFPoints=function(t){var e=new Array((1<<t)-1);e[0]=this;for(var r=this.dbl(),n=1;n<e.length;++n)e[n]=e[n-1].add(r);return{wnd:t,points:e}},t.exports=s},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(293),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(488),o=(n=i)&&n.__esModule?n:{default:n};e.default=o.default,t.exports=e.default},function(t,e,r){"use strict";(function(t){const n=r(121).bignum;e.toBase64=function(e,r){return e.toArrayLike(t,"be",r).toString("base64").replace(/(=*)$/,"").replace(/\+/g,"-").replace(/\//g,"_")},e.toBn=function(e){return new n(t.from(e,"base64"))}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(6),i=r(0).Buffer,o=r(121),s=o.base,a=o.constants.der;function u(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){s.Node.call(this,"der",t)}function f(t){return t<10?"0"+t:t}t.exports=u,u.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(c,s.Node),c.prototype._encodeComposite=function(t,e,r,n){const o=function(t,e,r,n){let i;"seqof"===t?t="seq":"setof"===t&&(t="set");if(a.tagByName.hasOwnProperty(t))i=a.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return n.error("Unknown tag: "+t);i=t}if(i>=31)return n.error("Multi-octet tag encoding unsupported");e||(i|=32);return i|=a.tagClassByName[r||"universal"]<<6}(t,e,r,this.reporter);if(n.length<128){const t=new i(2);return t[0]=o,t[1]=n.length,this._createEncoderBuffer([t,n])}let s=1;for(let t=n.length;t>=256;t>>=8)s++;const u=new i(2+s);u[0]=o,u[1]=128|s;for(let t=1+s,e=n.length;e>0;t--,e>>=8)u[t]=255&e;return this._createEncoderBuffer([u,n])},c.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){const e=new i(2*t.length);for(let r=0;r<t.length;r++)e.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(e)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)?this._createEncoderBuffer(t):"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},c.prototype._encodeObjid=function(t,e,r){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}let n=0;for(let e=0;e<t.length;e++){let r=t[e];for(n++;r>=128;r>>=7)n++}const o=new i(n);let s=o.length-1;for(let e=t.length-1;e>=0;e--){let r=t[e];for(o[s--]=127&r;(r>>=7)>0;)o[s--]=128|127&r}return this._createEncoderBuffer(o)},c.prototype._encodeTime=function(t,e){let r;const n=new Date(t);return"gentime"===e?r=[f(n.getFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),"Z"].join(""):"utctime"===e?r=[f(n.getFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(r,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!i.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=new i(e)}if(i.isBuffer(t)){let e=t.length;0===t.length&&e++;const r=new i(e);return t.copy(r),0===t.length&&(r[0]=0),this._createEncoderBuffer(r)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let e=t;e>=256;e>>=8)r++;const n=new Array(r);for(let e=n.length-1;e>=0;e--)n[e]=255&t,t>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(new i(n))},c.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},c.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},c.prototype._skipDefault=function(t,e,r){const n=this._baseState;let i;if(null===n.default)return!1;const o=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0}},function(t,e,r){"use strict";const n=r(6),i=r(121),o=i.base,s=i.bignum,a=i.constants.der;function u(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){o.Node.call(this,"der",t)}function f(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;const n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=t.readUInt8(e),t.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function l(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;const i=127&n;if(i>4)return t.error("length octect is too long");n=0;for(let e=0;e<i;e++){n<<=8;const e=t.readUInt8(r);if(t.isError(e))return e;n|=e}return n}t.exports=u,u.prototype.decode=function(t,e){return t instanceof o.DecoderBuffer||(t=new o.DecoderBuffer(t,e)),this.tree._decode(t,e)},n(c,o.Node),c.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;const n=t.save(),i=f(t,'Failed to peek tag: "'+e+'"');return t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+"of"===e||r)},c.prototype._decodeTag=function(t,e,r){const n=f(t,'Failed to decode tag of "'+e+'"');if(t.isError(n))return n;let i=l(t,n.primitive,'Failed to get length of "'+e+'"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(n.primitive||null!==i)return t.skip(i,'Failed to match body of: "'+e+'"');const o=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(s)?s:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: "'+e+'"'))},c.prototype._skipUntilEnd=function(t,e){for(;;){const r=f(t,e);if(t.isError(r))return r;const n=l(t,r.primitive,e);if(t.isError(n))return n;let i;if(i=r.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(i))return i;if("end"===r.tagStr)break}},c.prototype._decodeList=function(t,e,r,n){const i=[];for(;!t.isEmpty();){const e=this._peekTag(t,"end");if(t.isError(e))return e;const o=r.decode(t,"der",n);if(t.isError(o)&&e)break;i.push(o)}return i},c.prototype._decodeStr=function(t,e){if("bitstr"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if("bmpstr"===e){const e=t.raw();if(e.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");let r="";for(let t=0;t<e.length/2;t++)r+=String.fromCharCode(e.readUInt16BE(2*t));return r}if("numstr"===e){const e=t.raw().toString("ascii");return this._isNumstr(e)?e:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){const e=t.raw().toString("ascii");return this._isPrintstr(e)?e:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},c.prototype._decodeObjid=function(t,e,r){let n;const i=[];let o=0,s=0;for(;!t.isEmpty();)o<<=7,o|=127&(s=t.readUInt8()),0==(128&s)&&(i.push(o),o=0);128&s&&i.push(o);const a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),e){let t=e[n.join(" ")];void 0===t&&(t=e[n.join(".")]),void 0!==t&&(n=t)}return n},c.prototype._decodeTime=function(t,e){const r=t.raw().toString();let n,i,o,s,a,u;if("gentime"===e)n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,u,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},c.prototype._decodeInt=function(t,e){const r=t.raw();let n=new s(r);return e&&(n=e[n.toString(10)]||n),n},c.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}},function(t,e,r){"use strict";const n=e;n._reverse=function(t){const e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0);const n=t[r];e[n]=r}),e},n.der=r(1136)},function(t,e,r){"use strict";const n=r(6),i=r(142).Reporter,o=r(0).Buffer;function s(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof a||(t=new a(t,e)),this.length+=t.length,t},this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}n(s,i),e.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(t){const e=new s(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");const r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=a,a.prototype.join=function(t,e){return t||(t=new o(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},function(t,e,r){"use strict";(function(t){const n=r(301),i=r(300)();function o(t){return Promise.all([i.subtle.exportKey("jwk",t.privateKey),i.subtle.exportKey("jwk",t.publicKey)])}e.utils=r(1140),e.generateKey=function(t,e){n(i.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(o).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.unmarshalPrivateKey=function(t,e){const r=i.subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]);var s;n(Promise.all([r,(s=t,i.subtle.importKey("jwk",{kty:s.kty,n:s.n,e:s.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"]))]).then(t=>o({privateKey:t[0],publicKey:t[1]})).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},e.getRandomValues=function(e){return t.from(i.getRandomValues(e))},e.hashAndSign=function(e,r,o){n(i.subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]).then(t=>i.subtle.sign({name:"RSASSA-PKCS1-v1_5"},t,Uint8Array.from(r))).then(e=>t.from(e)),o)},e.hashAndVerify=function(t,e,r,o){n(i.subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]).then(t=>i.subtle.verify({name:"RSASSA-PKCS1-v1_5"},t,e,r)),o)}}).call(this,r(0).Buffer)},function(t,e,r){var n=r(11);r(13),t.exports=n.log=n.log||{},n.log.levels=["none","error","warning","info","debug","verbose","max"];var i={},o=[],s=null;n.log.LEVEL_LOCKED=2,n.log.NO_LEVEL_CHECK=4,n.log.INTERPOLATE=8;for(var a=0;a<n.log.levels.length;++a){var u=n.log.levels[a];i[u]={index:a,name:u.toUpperCase()}}n.log.logMessage=function(t){for(var e=i[t.level].index,r=0;r<o.length;++r){var s=o[r];if(s.flags&n.log.NO_LEVEL_CHECK)s.f(t);else e<=i[s.level].index&&s.f(s,t)}},n.log.prepareStandard=function(t){"standard"in t||(t.standard=i[t.level].name+" ["+t.category+"] "+t.message)},n.log.prepareFull=function(t){if(!("full"in t)){var e=[t.message];e=e.concat([]||t.arguments),t.full=n.util.format.apply(this,e)}},n.log.prepareStandardFull=function(t){"standardFull"in t||(n.log.prepareStandard(t),t.standardFull=t.standard)};var c=["error","warning","info","debug","verbose"];for(a=0;a<c.length;++a)!function(t){n.log[t]=function(e,r){var i=Array.prototype.slice.call(arguments).slice(2),o={timestamp:new Date,level:t,category:e,message:r,arguments:i};n.log.logMessage(o)}}(c[a]);if(n.log.makeLogger=function(t){var e={flags:0,f:t};return n.log.setLevel(e,"none"),e},n.log.setLevel=function(t,e){var r=!1;if(t&&!(t.flags&n.log.LEVEL_LOCKED))for(var i=0;i<n.log.levels.length;++i){if(e==n.log.levels[i]){t.level=e,r=!0;break}}return r},n.log.lock=function(t,e){void 0===e||e?t.flags|=n.log.LEVEL_LOCKED:t.flags&=~n.log.LEVEL_LOCKED},n.log.addLogger=function(t){o.push(t)},"undefined"!=typeof console&&"log"in console){var f;if(console.error&&console.warn&&console.info&&console.debug){var l={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},h=function(t,e){n.log.prepareStandard(e);var r=l[e.level],i=[e.standard];i=i.concat(e.arguments.slice()),r.apply(console,i)};f=n.log.makeLogger(h)}else{h=function(t,e){n.log.prepareStandardFull(e),console.log(e.standardFull)};f=n.log.makeLogger(h)}n.log.setLevel(f,"debug"),n.log.addLogger(f),s=f}else console={log:function(){}};if(null!==s){var p=n.util.getQueryVariables();if("console.level"in p&&n.log.setLevel(s,p["console.level"].slice(-1)[0]),"console.lock"in p)"true"==p["console.lock"].slice(-1)[0]&&n.log.lock(s)}n.log.consoleLogger=s},function(t,e,r){var n=r(11);r(72),r(13);var i=t.exports=n.sha512=n.sha512||{};n.md.sha512=n.md.algorithms.sha512=i;var o=n.sha384=n.sha512.sha384=n.sha512.sha384||{};o.create=function(){return i.create("SHA-384")},n.md.sha384=n.md.algorithms.sha384=o,n.sha512.sha256=n.sha512.sha256||{create:function(){return i.create("SHA-512/256")}},n.md["sha512/256"]=n.md.algorithms["sha512/256"]=n.sha512.sha256,n.sha512.sha224=n.sha512.sha224||{create:function(){return i.create("SHA-512/224")}},n.md["sha512/224"]=n.md.algorithms["sha512/224"]=n.sha512.sha224,i.create=function(t){if(a||(s=String.fromCharCode(128),s+=n.util.fillString(String.fromCharCode(0),128),u=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(c={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],c["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],c["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],c["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],a=!0),void 0===t&&(t="SHA-512"),!(t in c))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=c[t],r=null,i=n.util.createBuffer(),o=new Array(80),l=0;l<80;++l)o[l]=new Array(2);var h=64;switch(t){case"SHA-384":h=48;break;case"SHA-512/256":h=32;break;case"SHA-512/224":h=28}var p={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:h,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){p.messageLength=0,p.fullMessageLength=p.messageLength128=[];for(var t=p.messageLengthSize/4,o=0;o<t;++o)p.fullMessageLength.push(0);i=n.util.createBuffer(),r=new Array(e.length);for(o=0;o<e.length;++o)r[o]=e[o].slice(0);return p}};return p.start(),p.update=function(t,e){"utf8"===e&&(t=n.util.encodeUtf8(t));var s=t.length;p.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var a=p.fullMessageLength.length-1;a>=0;--a)p.fullMessageLength[a]+=s[1],s[1]=s[0]+(p.fullMessageLength[a]/4294967296>>>0),p.fullMessageLength[a]=p.fullMessageLength[a]>>>0,s[0]=s[1]/4294967296>>>0;return i.putBytes(t),f(r,o,i),(i.read>2048||0===i.length())&&i.compact(),p},p.digest=function(){var e=n.util.createBuffer();e.putBytes(i.bytes());var a,u=p.fullMessageLength[p.fullMessageLength.length-1]+p.messageLengthSize&p.blockLength-1;e.putBytes(s.substr(0,p.blockLength-u));for(var c=8*p.fullMessageLength[0],l=0;l<p.fullMessageLength.length-1;++l)c+=(a=8*p.fullMessageLength[l+1])/4294967296>>>0,e.putInt32(c>>>0),c=a>>>0;e.putInt32(c);var h=new Array(r.length);for(l=0;l<r.length;++l)h[l]=r[l].slice(0);f(h,o,e);var d,m=n.util.createBuffer();d="SHA-512"===t?h.length:"SHA-384"===t?h.length-2:h.length-4;for(l=0;l<d;++l)m.putInt32(h[l][0]),l===d-1&&"SHA-512/224"===t||m.putInt32(h[l][1]);return m},p};var s=null,a=!1,u=null,c=null;function f(t,e,r){for(var n,i,o,s,a,c,f,l,h,p,d,m,g,v,y,b,w,_,k,S,x,E,C,A,M,I,T,O,B,P,N,R,F,j=r.length();j>=128;){for(T=0;T<16;++T)e[T][0]=r.getInt32()>>>0,e[T][1]=r.getInt32()>>>0;for(;T<80;++T)n=(((O=(P=e[T-2])[0])>>>19|(B=P[1])<<13)^(B>>>29|O<<3)^O>>>6)>>>0,i=((O<<13|B>>>19)^(B<<3|O>>>29)^(O<<26|B>>>6))>>>0,o=(((O=(R=e[T-15])[0])>>>1|(B=R[1])<<31)^(O>>>8|B<<24)^O>>>7)>>>0,s=((O<<31|B>>>1)^(O<<24|B>>>8)^(O<<25|B>>>7))>>>0,N=e[T-7],F=e[T-16],B=i+N[1]+s+F[1],e[T][0]=n+N[0]+o+F[0]+(B/4294967296>>>0)>>>0,e[T][1]=B>>>0;for(d=t[0][0],m=t[0][1],g=t[1][0],v=t[1][1],y=t[2][0],b=t[2][1],w=t[3][0],_=t[3][1],k=t[4][0],S=t[4][1],x=t[5][0],E=t[5][1],C=t[6][0],A=t[6][1],M=t[7][0],I=t[7][1],T=0;T<80;++T)f=((k>>>14|S<<18)^(k>>>18|S<<14)^(S>>>9|k<<23))>>>0,l=(C^k&(x^C))>>>0,a=((d>>>28|m<<4)^(m>>>2|d<<30)^(m>>>7|d<<25))>>>0,c=((d<<4|m>>>28)^(m<<30|d>>>2)^(m<<25|d>>>7))>>>0,h=(d&g|y&(d^g))>>>0,p=(m&v|b&(m^v))>>>0,B=I+(((k<<18|S>>>14)^(k<<14|S>>>18)^(S<<23|k>>>9))>>>0)+((A^S&(E^A))>>>0)+u[T][1]+e[T][1],n=M+f+l+u[T][0]+e[T][0]+(B/4294967296>>>0)>>>0,i=B>>>0,o=a+h+((B=c+p)/4294967296>>>0)>>>0,s=B>>>0,M=C,I=A,C=x,A=E,x=k,E=S,k=w+n+((B=_+i)/4294967296>>>0)>>>0,S=B>>>0,w=y,_=b,y=g,b=v,g=d,v=m,d=n+o+((B=i+s)/4294967296>>>0)>>>0,m=B>>>0;B=t[0][1]+m,t[0][0]=t[0][0]+d+(B/4294967296>>>0)>>>0,t[0][1]=B>>>0,B=t[1][1]+v,t[1][0]=t[1][0]+g+(B/4294967296>>>0)>>>0,t[1][1]=B>>>0,B=t[2][1]+b,t[2][0]=t[2][0]+y+(B/4294967296>>>0)>>>0,t[2][1]=B>>>0,B=t[3][1]+_,t[3][0]=t[3][0]+w+(B/4294967296>>>0)>>>0,t[3][1]=B>>>0,B=t[4][1]+S,t[4][0]=t[4][0]+k+(B/4294967296>>>0)>>>0,t[4][1]=B>>>0,B=t[5][1]+E,t[5][0]=t[5][0]+x+(B/4294967296>>>0)>>>0,t[5][1]=B>>>0,B=t[6][1]+A,t[6][0]=t[6][0]+C+(B/4294967296>>>0)>>>0,t[6][1]=B>>>0,B=t[7][1]+I,t[7][0]=t[7][0]+M+(B/4294967296>>>0)>>>0,t[7][1]=B>>>0,j-=128}}},function(t,e,r){var n=r(11);t.exports=n.debug=n.debug||{},n.debug.storage={},n.debug.get=function(t,e){var r;return void 0===t?r=n.debug.storage:t in n.debug.storage&&(r=void 0===e?n.debug.storage[t]:n.debug.storage[t][e]),r},n.debug.set=function(t,e,r){t in n.debug.storage||(n.debug.storage[t]={}),n.debug.storage[t][e]=r},n.debug.clear=function(t,e){void 0===t?n.debug.storage={}:t in n.debug.storage&&(void 0===e?delete n.debug.storage[t]:delete n.debug.storage[t][e])}},function(t,e,r){var n=r(11);r(13),n.mgf=n.mgf||{},(t.exports=n.mgf.mgf1=n.mgf1=n.mgf1||{}).create=function(t){return{generate:function(e,r){for(var i=new n.util.ByteBuffer,o=Math.ceil(r/t.digestLength),s=0;s<o;s++){var a=new n.util.ByteBuffer;a.putInt32(s),t.start(),t.update(e+a.getBytes()),i.putBuffer(t.digest())}return i.truncate(i.length()-r),i.getBytes()}}}},function(t,e,r){var n=r(11);r(73),r(13);var i=n.asn1,o=t.exports=n.pkcs7asn1=n.pkcs7asn1||{};n.pkcs7=n.pkcs7||{},n.pkcs7.asn1=o;var s={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};o.contentInfoValidator=s;var a={name:"EncryptedContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};o.envelopedDataValidator={name:"EnvelopedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(a)},o.encryptedDataValidator={name:"EncryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"}].concat(a)};var u={name:"SignerInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};o.signedDataValidator={name:"SignedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},s,{name:"SignedData.Certificates",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,capture:"signerInfos",optional:!0,value:[u]}]},o.recipientInfoValidator={name:"RecipientInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},function(t,e,r){var n=r(11);r(73),r(144),r(94),r(500),r(508),r(56),r(190),r(143),r(13),r(295);var i=n.asn1,o=n.pki,s=t.exports=n.pkcs12=n.pkcs12||{},a={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},u={name:"PFX",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},a,{name:"PFX.macData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},c={name:"SafeBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},f={name:"Attribute",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,capture:"values"}]},l={name:"CertBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:i.Class.UNIVERSAL,type:i.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function h(t,e,r,n){for(var i=[],o=0;o<t.length;o++)for(var s=0;s<t[o].safeBags.length;s++){var a=t[o].safeBags[s];void 0!==n&&a.type!==n||(null!==e?void 0!==a.attributes[e]&&a.attributes[e].indexOf(r)>=0&&i.push(a):i.push(a))}return i}function p(t){if(t.composed||t.constructed){for(var e=n.util.createBuffer(),r=0;r<t.value.length;++r)e.putBytes(t.value[r].value);t.composed=t.constructed=!1,t.value=e.getBytes()}return t}function d(t,e){var r={},s=[];if(!i.validate(t,n.pkcs7.asn1.encryptedDataValidator,r,s))throw(a=new Error("Cannot read EncryptedContentInfo.")).errors=s,a;var a,u=i.derToOid(r.contentType);if(u!==o.oids.data)throw(a=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=u,a;u=i.derToOid(r.encAlgorithm);var c=o.pbe.getCipher(u,r.encParameter,e),f=p(r.encryptedContentAsn1),l=n.util.createBuffer(f.value);if(c.update(l),!c.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return c.output.getBytes()}function m(t,e,r){if(!e&&0===t.length)return[];if((t=i.fromDer(t,e)).tagClass!==i.Class.UNIVERSAL||t.type!==i.Type.SEQUENCE||!0!==t.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],s=0;s<t.value.length;s++){var a=t.value[s],u={},f=[];if(!i.validate(a,c,u,f))throw(v=new Error("Cannot read SafeBag.")).errors=f,v;var h,p,d={type:i.derToOid(u.bagId),attributes:g(u.bagAttributes)};n.push(d);var m=u.bagValue.value[0];switch(d.type){case o.oids.pkcs8ShroudedKeyBag:if(null===(m=o.decryptPrivateKeyInfo(m,r)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case o.oids.keyBag:try{d.key=o.privateKeyFromAsn1(m)}catch(t){d.key=null,d.asn1=m}continue;case o.oids.certBag:h=l,p=function(){if(i.derToOid(u.certId)!==o.oids.x509Certificate){var t=new Error("Unsupported certificate type, only X.509 supported.");throw t.oid=i.derToOid(u.certId),t}var r=i.fromDer(u.cert,e);try{d.cert=o.certificateFromAsn1(r,!0)}catch(t){d.cert=null,d.asn1=r}};break;default:var v;throw(v=new Error("Unsupported PKCS#12 SafeBag type.")).oid=d.type,v}if(void 0!==h&&!i.validate(m,h,u,f))throw(v=new Error("Cannot read PKCS#12 "+h.name)).errors=f,v;p()}return n}function g(t){var e={};if(void 0!==t)for(var r=0;r<t.length;++r){var n={},s=[];if(!i.validate(t[r],f,n,s)){var a=new Error("Cannot read PKCS#12 BagAttribute.");throw a.errors=s,a}var u=i.derToOid(n.oid);if(void 0!==o.oids[u]){e[o.oids[u]]=[];for(var c=0;c<n.values.length;++c)e[o.oids[u]].push(n.values[c].value)}}return e}s.pkcs12FromAsn1=function(t,e,r){"string"==typeof e?(r=e,e=!0):void 0===e&&(e=!0);var c={};if(!i.validate(t,u,c,[]))throw(f=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=f,f;var f,l={version:c.version.charCodeAt(0),safeContents:[],getBags:function(t){var e,r={};return"localKeyId"in t?e=t.localKeyId:"localKeyIdHex"in t&&(e=n.util.hexToBytes(t.localKeyIdHex)),void 0===e&&!("friendlyName"in t)&&"bagType"in t&&(r[t.bagType]=h(l.safeContents,null,null,t.bagType)),void 0!==e&&(r.localKeyId=h(l.safeContents,"localKeyId",e,t.bagType)),"friendlyName"in t&&(r.friendlyName=h(l.safeContents,"friendlyName",t.friendlyName,t.bagType)),r},getBagsByFriendlyName:function(t,e){return h(l.safeContents,"friendlyName",t,e)},getBagsByLocalKeyId:function(t,e){return h(l.safeContents,"localKeyId",t,e)}};if(3!==c.version.charCodeAt(0))throw(f=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=c.version.charCodeAt(0),f;if(i.derToOid(c.contentType)!==o.oids.data)throw(f=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=i.derToOid(c.contentType),f;var g=c.content.value[0];if(g.tagClass!==i.Class.UNIVERSAL||g.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(g=p(g),c.mac){var v=null,y=0,b=i.derToOid(c.macAlgorithm);switch(b){case o.oids.sha1:v=n.md.sha1.create(),y=20;break;case o.oids.sha256:v=n.md.sha256.create(),y=32;break;case o.oids.sha384:v=n.md.sha384.create(),y=48;break;case o.oids.sha512:v=n.md.sha512.create(),y=64;break;case o.oids.md5:v=n.md.md5.create(),y=16}if(null===v)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+b);var w=new n.util.ByteBuffer(c.macSalt),_="macIterations"in c?parseInt(n.util.bytesToHex(c.macIterations),16):1,k=s.generateKey(r,w,3,_,y,v),S=n.hmac.create();if(S.start(v,k),S.update(g.value),S.getMac().getBytes()!==c.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function(t,e,r,n){if((e=i.fromDer(e,r)).tagClass!==i.Class.UNIVERSAL||e.type!==i.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var s=0;s<e.value.length;s++){var u=e.value[s],c={},f=[];if(!i.validate(u,a,c,f)){var l=new Error("Cannot read ContentInfo.");throw l.errors=f,l}var h={encrypted:!1},g=null,v=c.content.value[0];switch(i.derToOid(c.contentType)){case o.oids.data:if(v.tagClass!==i.Class.UNIVERSAL||v.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");g=p(v).value;break;case o.oids.encryptedData:g=d(v,n),h.encrypted=!0;break;default:var l=new Error("Unsupported PKCS#12 contentType.");throw l.contentType=i.derToOid(c.contentType),l}h.safeBags=m(g,r,n),t.safeContents.push(h)}}(l,g.value,e,r),l},s.toPkcs12Asn1=function(t,e,r,a){(a=a||{}).saltSize=a.saltSize||8,a.count=a.count||2048,a.algorithm=a.algorithm||a.encAlgorithm||"aes128","useMac"in a||(a.useMac=!0),"localKeyId"in a||(a.localKeyId=null),"generateLocalKeyId"in a||(a.generateLocalKeyId=!0);var u,c=a.localKeyId;if(null!==c)c=n.util.hexToBytes(c);else if(a.generateLocalKeyId)if(e){var f=n.util.isArray(e)?e[0]:e;"string"==typeof f&&(f=o.certificateFromPem(f)),(A=n.md.sha1.create()).update(i.toDer(o.certificateToAsn1(f)).getBytes()),c=A.digest().getBytes()}else c=n.random.getBytes(20);var l=[];null!==c&&l.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.localKeyId).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,c)])])),"friendlyName"in a&&l.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.friendlyName).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.BMPSTRING,!1,a.friendlyName)])])),l.length>0&&(u=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,l));var h=[],p=[];null!==e&&(p=n.util.isArray(e)?e:[e]);for(var d=[],m=0;m<p.length;++m){"string"==typeof(e=p[m])&&(e=o.certificateFromPem(e));var g=0===m?u:void 0,v=o.certificateToAsn1(e),y=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.certBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.x509Certificate).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(v).getBytes())])])]),g]);d.push(y)}if(d.length>0){var b=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,d),w=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(b).getBytes())])]);h.push(w)}var _=null;if(null!==t){var k=o.wrapRsaPrivateKey(o.privateKeyToAsn1(t));_=null===r?i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.keyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[k]),u]):i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.pkcs8ShroudedKeyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[o.encryptPrivateKeyInfo(k,r,a)]),u]);var S=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[_]),x=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(S).getBytes())])]);h.push(x)}var E,C=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,h);if(a.useMac){var A=n.md.sha1.create(),M=new n.util.ByteBuffer(n.random.getBytes(a.saltSize)),I=a.count,T=(t=s.generateKey(r,M,3,I,20),n.hmac.create());T.start(A,t),T.update(i.toDer(C).getBytes());var O=T.getMac();E=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.sha1).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,O.getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,M.getBytes()),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(I).getBytes())])}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(3).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(C).getBytes())])]),E])},s.generateKey=n.pbe.generatePkcs12Key},function(t,e,r){var n=r(11);r(13),r(189),r(56),function(){if(n.prime)t.exports=n.prime;else{var e=t.exports=n.prime=n.prime||{},r=n.jsbn.BigInteger,i=[6,4,2,4,2,4,6,2],o=new r(null);o.fromInt(30);var s=function(t,e){return t|e};e.generateProbablePrime=function(t,e,i){"function"==typeof e&&(i=e,e={});var o=(e=e||{}).algorithm||"PRIMEINC";"string"==typeof o&&(o={name:o}),o.options=o.options||{};var s=e.prng||n.random,c={nextBytes:function(t){for(var e=s.getBytesSync(t.length),r=0;r<t.length;++r)t[r]=e.charCodeAt(r)}};if("PRIMEINC"===o.name)return function(t,e,i,o){if("workers"in i)return function(t,e,i,o){if("undefined"==typeof Worker)return a(t,e,i,o);var s=u(t,e),c=i.workers,f=i.workLoad||100,l=30*f/8,h=i.workerScript||"forge/prime.worker.js";if(-1===c)return n.util.estimateCores(function(t,e){t&&(e=2),c=e-1,p()});function p(){c=Math.max(1,c);for(var n=[],i=0;i<c;++i)n[i]=new Worker(h);for(var i=0;i<c;++i)n[i].addEventListener("message",p);var a=!1;function p(i){if(!a){0;var c=i.data;if(c.found){for(var h=0;h<n.length;++h)n[h].terminate();return a=!0,o(null,new r(c.prime,16))}s.bitLength()>t&&(s=u(t,e));var p=s.toString(16);i.target.postMessage({hex:p,workLoad:f}),s.dAddOffset(l,0)}}}p()}(t,e,i,o);return a(t,e,i,o)}(t,c,o.options,i);throw new Error("Invalid prime generation algorithm: "+o.name)}}function a(t,e,r,o){var s=u(t,e),a=function(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}(s.bitLength());"millerRabinTests"in r&&(a=r.millerRabinTests);var c=10;"maxBlockTime"in r&&(c=r.maxBlockTime),function t(e,r,o,s,a,c,f){var l=+new Date;do{if(e.bitLength()>r&&(e=u(r,o)),e.isProbablePrime(a))return f(null,e);e.dAddOffset(i[s++%8],0)}while(c<0||+new Date-l<c);n.util.setImmediate(function(){t(e,r,o,s,a,c,f)})}(s,t,e,0,a,c,o)}function u(t,e){var n=new r(t,e),i=t-1;return n.testBit(i)||n.bitwiseTo(r.ONE.shiftLeft(i),s,n),n.dAddOffset(31-n.mod(o).byteValue(),0),n}}()},function(t,e,r){var n=r(11);r(13),r(56),r(143);var i=t.exports=n.pkcs1=n.pkcs1||{};function o(t,e,r){r||(r=n.md.sha1.create());for(var i="",o=Math.ceil(e/r.digestLength),s=0;s<o;++s){var a=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,255&s);r.start(),r.update(t+a),i+=r.digest().getBytes()}return i.substring(0,e)}i.encode_rsa_oaep=function(t,e,r){var i,s,a,u;"string"==typeof r?(i=r,s=arguments[3]||void 0,a=arguments[4]||void 0):r&&(i=r.label||void 0,s=r.seed||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(u=r.mgf1.md)),a?a.start():a=n.md.sha1.create(),u||(u=a);var c=Math.ceil(t.n.bitLength()/8),f=c-2*a.digestLength-2;if(e.length>f)throw(g=new Error("RSAES-OAEP input message length is too long.")).length=e.length,g.maxLength=f,g;i||(i=""),a.update(i,"raw");for(var l=a.digest(),h="",p=f-e.length,d=0;d<p;d++)h+="\0";var m=l.getBytes()+h+""+e;if(s){if(s.length!==a.digestLength){var g;throw(g=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=s.length,g.digestLength=a.digestLength,g}}else s=n.random.getBytes(a.digestLength);var v=o(s,c-a.digestLength-1,u),y=n.util.xorBytes(m,v,m.length),b=o(y,a.digestLength,u);return"\0"+n.util.xorBytes(s,b,s.length)+y},i.decode_rsa_oaep=function(t,e,r){var i,s,a;"string"==typeof r?(i=r,s=arguments[3]||void 0):r&&(i=r.label||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var u=Math.ceil(t.n.bitLength()/8);if(e.length!==u)throw(v=new Error("RSAES-OAEP encoded message length is invalid.")).length=e.length,v.expectedLength=u,v;if(void 0===s?s=n.md.sha1.create():s.start(),a||(a=s),u<2*s.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),s.update(i,"raw");for(var c=s.digest().getBytes(),f=e.charAt(0),l=e.substring(1,s.digestLength+1),h=e.substring(1+s.digestLength),p=o(h,s.digestLength,a),d=o(n.util.xorBytes(l,p,l.length),u-s.digestLength-1,a),m=n.util.xorBytes(h,d,h.length),g=m.substring(0,s.digestLength),v="\0"!==f,y=0;y<s.digestLength;++y)v|=c.charAt(y)!==g.charAt(y);for(var b=1,w=s.digestLength,_=s.digestLength;_<m.length;_++){var k=m.charCodeAt(_);v|=k&(b?65534:0),w+=b&=1&k^1}if(v||1!==m.charCodeAt(w))throw new Error("Invalid RSAES-OAEP padding.");return m.substring(w+1)}},function(t,e,r){var n=r(11);r(13);var i=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],o=[1,2,3,5];t.exports=n.rc2=n.rc2||{},n.rc2.expandKey=function(t,e){"string"==typeof t&&(t=n.util.createBuffer(t)),e=e||128;var r,o=t,s=t.length(),a=e,u=Math.ceil(a/8),c=255>>(7&a);for(r=s;r<128;r++)o.putByte(i[o.at(r-1)+o.at(r-s)&255]);for(o.setAt(128-u,i[o.at(128-u)&c]),r=127-u;r>=0;r--)o.setAt(r,i[o.at(r+1)^o.at(r+u)]);return o};var s=function(t,e,r){var i,s,a,u,c=!1,f=null,l=null,h=null,p=[];for(t=n.rc2.expandKey(t,e),a=0;a<64;a++)p.push(t.getInt16Le());r?(i=function(t){for(a=0;a<4;a++)t[a]+=p[u]+(t[(a+3)%4]&t[(a+2)%4])+(~t[(a+3)%4]&t[(a+1)%4]),t[a]=(e=t[a])<<(r=o[a])&65535|(65535&e)>>16-r,u++;var e,r},s=function(t){for(a=0;a<4;a++)t[a]+=p[63&t[(a+3)%4]]}):(i=function(t){for(a=3;a>=0;a--)t[a]=(65535&(e=t[a]))>>(r=o[a])|e<<16-r&65535,t[a]-=p[u]+(t[(a+3)%4]&t[(a+2)%4])+(~t[(a+3)%4]&t[(a+1)%4]),u--;var e,r},s=function(t){for(a=3;a>=0;a--)t[a]-=p[63&t[(a+3)%4]]});var d=function(t){var e=[];for(a=0;a<4;a++){var n=f.getInt16Le();null!==h&&(r?n^=h.getInt16Le():h.putInt16Le(n)),e.push(65535&n)}u=r?0:63;for(var i=0;i<t.length;i++)for(var o=0;o<t[i][0];o++)t[i][1](e);for(a=0;a<4;a++)null!==h&&(r?h.putInt16Le(e[a]):e[a]^=h.getInt16Le()),l.putInt16Le(e[a])},m=null;return m={start:function(t,e){t&&"string"==typeof t&&(t=n.util.createBuffer(t)),c=!1,f=n.util.createBuffer(),l=e||new n.util.createBuffer,h=t,m.output=l},update:function(t){for(c||f.putBuffer(t);f.length()>=8;)d([[5,i],[1,s],[6,i],[1,s],[5,i]])},finish:function(t){var e=!0;if(r)if(t)e=t(8,f,!r);else{var n=8===f.length()?8:8-f.length();f.fillWithByte(n,n)}if(e&&(c=!0,m.update()),!r&&(e=0===f.length()))if(t)e=t(8,l,!r);else{var i=l.length(),o=l.at(i-1);o>i?e=!1:l.truncate(o)}return e}}};n.rc2.startEncrypting=function(t,e,r){var i=n.rc2.createEncryptionCipher(t,128);return i.start(e,r),i},n.rc2.createEncryptionCipher=function(t,e){return s(t,e,!0)},n.rc2.startDecrypting=function(t,e,r){var i=n.rc2.createDecryptionCipher(t,128);return i.start(e,r),i},n.rc2.createDecryptionCipher=function(t,e){return s(t,e,!1)}},function(t,e,r){(function(e){var n=r(11);r(13);var i=null;!n.util.isNodejs||n.options.usePureJavaScript||e.versions["node-webkit"]||(i=r(507)),(t.exports=n.prng=n.prng||{}).create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,o=new Array(32),s=0;s<32;++s)o[s]=r.create();function a(){if(e.pools[0].messageLength>=32)return u();var t=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(t)),u()}function u(){e.reseeds=4294967295===e.reseeds?0:e.reseeds+1;var t=e.plugin.md.create();t.update(e.keyBytes);for(var r=1,n=0;n<32;++n)e.reseeds%r==0&&(t.update(e.pools[n].digest().getBytes()),e.pools[n].start()),r<<=1;e.keyBytes=t.digest().getBytes(),t.start(),t.update(e.keyBytes);var i=t.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(i),e.generated=0}function c(t){var e=null;if("undefined"!=typeof window){var r=window.crypto||window.msCrypto;r&&r.getRandomValues&&(e=function(t){return r.getRandomValues(t)})}var i=n.util.createBuffer();if(e)for(;i.length()<t;){var o=Math.max(1,Math.min(t-i.length(),65536)/4),s=new Uint32Array(Math.floor(o));try{e(s);for(var a=0;a<s.length;++a)i.putInt32(s[a])}catch(t){if(!("undefined"!=typeof QuotaExceededError&&t instanceof QuotaExceededError))throw t}}if(i.length()<t)for(var u,c,f,l=Math.floor(65536*Math.random());i.length()<t;){c=16807*(65535&l),c+=(32767&(u=16807*(l>>16)))<<16,l=4294967295&(c=(2147483647&(c+=u>>15))+(c>>31));for(a=0;a<3;++a)f=l>>>(a<<3),f^=Math.floor(256*Math.random()),i.putByte(String.fromCharCode(255&f))}return i.getBytes(t)}return e.pools=o,e.pool=0,e.generate=function(t,r){if(!r)return e.generateSync(t);var i=e.plugin.cipher,o=e.plugin.increment,s=e.plugin.formatKey,a=e.plugin.formatSeed,c=n.util.createBuffer();e.key=null,function f(l){if(l)return r(l);if(c.length()>=t)return r(null,c.getBytes(t));e.generated>1048575&&(e.key=null);if(null===e.key)return n.util.nextTick(function(){!function(t){if(e.pools[0].messageLength>=32)return u(),t();var r=32-e.pools[0].messageLength<<5;e.seedFile(r,function(r,n){if(r)return t(r);e.collect(n),u(),t()})}(f)});var h=i(e.key,e.seed);e.generated+=h.length;c.putBytes(h);e.key=s(i(e.key,o(e.seed)));e.seed=a(i(e.key,e.seed));n.util.setImmediate(f)}()},e.generateSync=function(t){var r=e.plugin.cipher,i=e.plugin.increment,o=e.plugin.formatKey,s=e.plugin.formatSeed;e.key=null;for(var u=n.util.createBuffer();u.length()<t;){e.generated>1048575&&(e.key=null),null===e.key&&a();var c=r(e.key,e.seed);e.generated+=c.length,u.putBytes(c),e.key=o(r(e.key,i(e.seed))),e.seed=s(r(e.key,e.seed))}return u.getBytes(t)},i?(e.seedFile=function(t,e){i.randomBytes(t,function(t,r){if(t)return e(t);e(null,r.toString())})},e.seedFileSync=function(t){return i.randomBytes(t).toString()}):(e.seedFile=function(t,e){try{e(null,c(t))}catch(t){e(t)}},e.seedFileSync=c),e.collect=function(t){for(var r=t.length,n=0;n<r;++n)e.pools[e.pool].update(t.substr(n,1)),e.pool=31===e.pool?0:e.pool+1},e.collectInt=function(t,r){for(var n="",i=0;i<r;i+=8)n+=String.fromCharCode(t>>i&255);e.collect(n)},e.registerWorker=function(t){if(t===self)e.seedFile=function(t,e){self.addEventListener("message",function t(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",t),e(n.forge.prng.err,n.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:t}}})};else{t.addEventListener("message",function(r){var n=r.data;n.forge&&n.forge.prng&&e.seedFile(n.forge.prng.needed,function(e,r){t.postMessage({forge:{prng:{err:e,bytes:r}}})})})}},e}}).call(this,r(2))},function(t,e,r){var n=r(11);r(72),r(13);var i=t.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=i,i.create=function(){s||(o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),64),a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=!0);var t=null,e=n.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,o=0;o<r;++o)i.fullMessageLength.push(0);return e=n.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(o,s){"utf8"===s&&(o=n.util.encodeUtf8(o));var a=o.length;i.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=a[1],a[1]=a[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(o),u(t,r,e),(e.read>2048||0===e.length())&&e.compact(),i},i.digest=function(){var s=n.util.createBuffer();s.putBytes(e.bytes());var a,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;s.putBytes(o.substr(0,i.blockLength-c));for(var f=8*i.fullMessageLength[0],l=0;l<i.fullMessageLength.length-1;++l)f+=(a=8*i.fullMessageLength[l+1])/4294967296>>>0,s.putInt32(f>>>0),f=a>>>0;s.putInt32(f);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};u(h,r,s);var p=n.util.createBuffer();return p.putInt32(h.h0),p.putInt32(h.h1),p.putInt32(h.h2),p.putInt32(h.h3),p.putInt32(h.h4),p.putInt32(h.h5),p.putInt32(h.h6),p.putInt32(h.h7),p},i};var o=null,s=!1,a=null;function u(t,e,r){for(var n,i,o,s,u,c,f,l,h,p,d,m,g,v=r.length();v>=64;){for(u=0;u<16;++u)e[u]=r.getInt32();for(;u<64;++u)n=((n=e[u-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=((i=e[u-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[u]=n+e[u-7]+i+e[u-16]|0;for(c=t.h0,f=t.h1,l=t.h2,h=t.h3,p=t.h4,d=t.h5,m=t.h6,g=t.h7,u=0;u<64;++u)o=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),s=c&f|l&(c^f),n=g+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(m^p&(d^m))+a[u]+e[u],g=m,m=d,d=p,p=h+n>>>0,h=l,l=f,f=c,c=n+(i=o+s)>>>0;t.h0=t.h0+c|0,t.h1=t.h1+f|0,t.h2=t.h2+l|0,t.h3=t.h3+h|0,t.h4=t.h4+p|0,t.h5=t.h5+d|0,t.h6=t.h6+m|0,t.h7=t.h7+g|0,v-=64}}},function(t,e){},function(t,e,r){var n=r(11);if(r(95),r(73),r(191),r(72),r(94),r(296),r(122),r(56),r(504),r(190),r(13),void 0===i)var i=n.jsbn.BigInteger;var o=n.asn1,s=n.pki=n.pki||{};t.exports=s.pbe=n.pbe=n.pbe||{};var a=s.oids,u={name:"EncryptedPrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},c={name:"PBES2Algorithms",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},f={name:"pkcs-12PbeParams",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"iterations"}]};function l(t,e){return t.start().update(e).digest().getBytes()}function h(t){var e;if(t){if(!(e=s.oids[o.derToOid(t)])){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}}else e="hmacWithSHA1";return p(e)}function p(t){var e=n.md;switch(t){case"hmacWithSHA224":e=n.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!(e&&t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}s.encryptPrivateKeyInfo=function(t,e,r){(r=r||{}).saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var i,u,c,f=n.random.getBytesSync(r.saltSize),l=r.count,h=o.integerToDer(l);if(0===r.algorithm.indexOf("aes")||"des"===r.algorithm){var d,m,g;switch(r.algorithm){case"aes128":i=16,d=16,m=a["aes128-CBC"],g=n.aes.createEncryptionCipher;break;case"aes192":i=24,d=16,m=a["aes192-CBC"],g=n.aes.createEncryptionCipher;break;case"aes256":i=32,d=16,m=a["aes256-CBC"],g=n.aes.createEncryptionCipher;break;case"des":i=8,d=8,m=a.desCBC,g=n.des.createEncryptionCipher;break;default:throw(k=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,k}var v="hmacWith"+r.prfAlgorithm.toUpperCase(),y=p(v),b=n.pkcs5.pbkdf2(e,f,l,i,y),w=n.random.getBytesSync(d);(S=g(b)).start(w),S.update(o.toDer(t)),S.finish(),c=S.output.getBytes();var _=function(t,e,r,i){var a=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,t),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,e.getBytes())]);"hmacWithSHA1"!==i&&a.value.push(o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,n.util.hexToBytes(r.toString(16))),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s.oids[i]).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]));return a}(f,h,i,v);u=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(a.pkcs5PBES2).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(a.pkcs5PBKDF2).getBytes()),_]),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(m).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,w)])])])}else{var k;if("3des"!==r.algorithm)throw(k=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,k;i=24;var S,x=new n.util.ByteBuffer(f);b=s.pbe.generatePkcs12Key(e,x,1,l,i),w=s.pbe.generatePkcs12Key(e,x,2,l,i);(S=n.des.createEncryptionCipher(b)).start(w),S.update(o.toDer(t)),S.finish(),c=S.output.getBytes(),u=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(a["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,f),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,h.getBytes())])])}return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[u,o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,c)])},s.decryptPrivateKeyInfo=function(t,e){var r=null,i={},a=[];if(!o.validate(t,u,i,a)){var c=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw c.errors=a,c}var f=o.derToOid(i.encryptionOid),l=s.pbe.getCipher(f,i.encryptionParams,e),h=n.util.createBuffer(i.encryptedData);return l.update(h),l.finish()&&(r=o.fromDer(l.output)),r},s.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:o.toDer(t).getBytes()};return n.pem.encode(r,{maxline:e})},s.encryptedPrivateKeyFromPem=function(t){var e=n.pem.decode(t)[0];if("ENCRYPTED PRIVATE KEY"!==e.type){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return o.fromDer(e.body)},s.encryptRsaPrivateKey=function(t,e,r){if(!(r=r||{}).legacy){var i=s.wrapRsaPrivateKey(s.privateKeyToAsn1(t));return i=s.encryptPrivateKeyInfo(i,e,r),s.encryptedPrivateKeyToPem(i)}var a,u,c,f;switch(r.algorithm){case"aes128":a="AES-128-CBC",c=16,u=n.random.getBytesSync(16),f=n.aes.createEncryptionCipher;break;case"aes192":a="AES-192-CBC",c=24,u=n.random.getBytesSync(16),f=n.aes.createEncryptionCipher;break;case"aes256":a="AES-256-CBC",c=32,u=n.random.getBytesSync(16),f=n.aes.createEncryptionCipher;break;case"3des":a="DES-EDE3-CBC",c=24,u=n.random.getBytesSync(8),f=n.des.createEncryptionCipher;break;case"des":a="DES-CBC",c=8,u=n.random.getBytesSync(8),f=n.des.createEncryptionCipher;break;default:var l=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw l.algorithm=r.algorithm,l}var h=f(n.pbe.opensslDeriveBytes(e,u.substr(0,8),c));h.start(u),h.update(o.toDer(s.privateKeyToAsn1(t))),h.finish();var p={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:a,parameters:n.util.bytesToHex(u).toUpperCase()},body:h.output.getBytes()};return n.pem.encode(p)},s.decryptRsaPrivateKey=function(t,e){var r=null,i=n.pem.decode(t)[0];if("ENCRYPTED PRIVATE KEY"!==i.type&&"PRIVATE KEY"!==i.type&&"RSA PRIVATE KEY"!==i.type)throw(c=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=c,c;if(i.procType&&"ENCRYPTED"===i.procType.type){var a,u;switch(i.dekInfo.algorithm){case"DES-CBC":a=8,u=n.des.createDecryptionCipher;break;case"DES-EDE3-CBC":a=24,u=n.des.createDecryptionCipher;break;case"AES-128-CBC":a=16,u=n.aes.createDecryptionCipher;break;case"AES-192-CBC":a=24,u=n.aes.createDecryptionCipher;break;case"AES-256-CBC":a=32,u=n.aes.createDecryptionCipher;break;case"RC2-40-CBC":a=5,u=function(t){return n.rc2.createDecryptionCipher(t,40)};break;case"RC2-64-CBC":a=8,u=function(t){return n.rc2.createDecryptionCipher(t,64)};break;case"RC2-128-CBC":a=16,u=function(t){return n.rc2.createDecryptionCipher(t,128)};break;default:var c;throw(c=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".')).algorithm=i.dekInfo.algorithm,c}var f=n.util.hexToBytes(i.dekInfo.parameters),l=u(n.pbe.opensslDeriveBytes(e,f.substr(0,8),a));if(l.start(f),l.update(n.util.createBuffer(i.body)),!l.finish())return r;r=l.output.getBytes()}else r=i.body;return null!==(r="ENCRYPTED PRIVATE KEY"===i.type?s.decryptPrivateKeyInfo(o.fromDer(r),e):o.fromDer(r))&&(r=s.privateKeyFromAsn1(r)),r},s.pbe.generatePkcs12Key=function(t,e,r,i,o,s){var a,u;if(void 0===s||null===s){if(!("sha1"in n.md))throw new Error('"sha1" hash algorithm unavailable.');s=n.md.sha1.create()}var c=s.digestLength,f=s.blockLength,l=new n.util.ByteBuffer,h=new n.util.ByteBuffer;if(null!==t&&void 0!==t){for(u=0;u<t.length;u++)h.putInt16(t.charCodeAt(u));h.putInt16(0)}var p=h.length(),d=e.length(),m=new n.util.ByteBuffer;m.fillWithByte(r,f);var g=f*Math.ceil(d/f),v=new n.util.ByteBuffer;for(u=0;u<g;u++)v.putByte(e.at(u%d));var y=f*Math.ceil(p/f),b=new n.util.ByteBuffer;for(u=0;u<y;u++)b.putByte(h.at(u%p));var w=v;w.putBuffer(b);for(var _=Math.ceil(o/c),k=1;k<=_;k++){var S=new n.util.ByteBuffer;S.putBytes(m.bytes()),S.putBytes(w.bytes());for(var x=0;x<i;x++)s.start(),s.update(S.getBytes()),S=s.digest();var E=new n.util.ByteBuffer;for(u=0;u<f;u++)E.putByte(S.at(u%c));var C=Math.ceil(d/f)+Math.ceil(p/f),A=new n.util.ByteBuffer;for(a=0;a<C;a++){var M=new n.util.ByteBuffer(w.getBytes(f)),I=511;for(u=E.length()-1;u>=0;u--)I>>=8,I+=E.at(u)+M.at(u),M.setAt(u,255&I);A.putBuffer(M)}w=A,l.putBuffer(S)}return l.truncate(l.length()-o),l},s.pbe.getCipher=function(t,e,r){switch(t){case s.oids.pkcs5PBES2:return s.pbe.getCipherForPBES2(t,e,r);case s.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case s.oids["pbewithSHAAnd40BitRC2-CBC"]:return s.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}},s.pbe.getCipherForPBES2=function(t,e,r){var i,a={},u=[];if(!o.validate(e,c,a,u))throw(i=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=u,i;if((t=o.derToOid(a.kdfOid))!==s.oids.pkcs5PBKDF2)throw(i=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=t,i.supportedOids=["pkcs5PBKDF2"],i;if((t=o.derToOid(a.encOid))!==s.oids["aes128-CBC"]&&t!==s.oids["aes192-CBC"]&&t!==s.oids["aes256-CBC"]&&t!==s.oids["des-EDE3-CBC"]&&t!==s.oids.desCBC)throw(i=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=t,i.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],i;var f,l,p=a.kdfSalt,d=n.util.createBuffer(a.kdfIterationCount);switch(d=d.getInt(d.length()<<3),s.oids[t]){case"aes128-CBC":f=16,l=n.aes.createDecryptionCipher;break;case"aes192-CBC":f=24,l=n.aes.createDecryptionCipher;break;case"aes256-CBC":f=32,l=n.aes.createDecryptionCipher;break;case"des-EDE3-CBC":f=24,l=n.des.createDecryptionCipher;break;case"desCBC":f=8,l=n.des.createDecryptionCipher}var m=h(a.prfOid),g=n.pkcs5.pbkdf2(r,p,d,f,m),v=a.encIv,y=l(g);return y.start(v),y},s.pbe.getCipherForPKCS12PBE=function(t,e,r){var i={},a=[];if(!o.validate(e,f,i,a))throw(m=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=a,m;var u,c,l,p=n.util.createBuffer(i.salt),d=n.util.createBuffer(i.iterations);switch(d=d.getInt(d.length()<<3),t){case s.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:u=24,c=8,l=n.des.startDecrypting;break;case s.oids["pbewithSHAAnd40BitRC2-CBC"]:u=5,c=8,l=function(t,e){var r=n.rc2.createDecryptionCipher(t,40);return r.start(e,null),r};break;default:var m;throw(m=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=t,m}var g=h(i.prfOid),v=s.pbe.generatePkcs12Key(r,p,1,d,u,g);return g.start(),l(v,s.pbe.generatePkcs12Key(r,p,2,d,c,g))},s.pbe.opensslDeriveBytes=function(t,e,r,i){if(void 0===i||null===i){if(!("md5"in n.md))throw new Error('"md5" hash algorithm unavailable.');i=n.md.md5.create()}null===e&&(e="");for(var o=[l(i,t+e)],s=16,a=1;s<r;++a,s+=16)o.push(l(i,o[a-1]+t+e));return o.join("").substr(0,r)}},function(t,e,r){var n=r(11);r(73),r(94),r(508),r(122),r(296),r(501),r(294),r(190),r(13),r(295);var i=n.asn1,o=t.exports=n.pki=n.pki||{};o.pemToDer=function(t){var e=n.pem.decode(t)[0];if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return n.util.createBuffer(e.body)},o.privateKeyFromPem=function(t){var e=n.pem.decode(t)[0];if("PRIVATE KEY"!==e.type&&"RSA PRIVATE KEY"!==e.type){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var s=i.fromDer(e.body);return o.privateKeyFromAsn1(s)},o.privateKeyToPem=function(t,e){var r={type:"RSA PRIVATE KEY",body:i.toDer(o.privateKeyToAsn1(t)).getBytes()};return n.pem.encode(r,{maxline:e})},o.privateKeyInfoToPem=function(t,e){var r={type:"PRIVATE KEY",body:i.toDer(t).getBytes()};return n.pem.encode(r,{maxline:e})}},function(t,e,r){var n=r(11);r(73),r(144),r(297),r(122),r(509),r(56),r(143),r(13);var i=function(t,e,r,i){var o=n.util.createBuffer(),s=t.length>>1,a=s+(1&t.length),u=t.substr(0,a),c=t.substr(s,a),f=n.util.createBuffer(),l=n.hmac.create();r=e+r;var h=Math.ceil(i/16),p=Math.ceil(i/20);l.start("MD5",u);var d=n.util.createBuffer();f.putBytes(r);for(var m=0;m<h;++m)l.start(null,null),l.update(f.getBytes()),f.putBuffer(l.digest()),l.start(null,null),l.update(f.bytes()+r),d.putBuffer(l.digest());l.start("SHA1",c);var g=n.util.createBuffer();f.clear(),f.putBytes(r);for(m=0;m<p;++m)l.start(null,null),l.update(f.getBytes()),f.putBuffer(l.digest()),l.start(null,null),l.update(f.bytes()+r),g.putBuffer(l.digest());return o.putBytes(n.util.xorBytes(d.getBytes(),g.getBytes(),i)),o},o=function(t,e,r){var i=!1;try{var o=t.deflate(e.fragment.getBytes());e.fragment=n.util.createBuffer(o),e.length=o.length,i=!0}catch(t){}return i},s=function(t,e,r){var i=!1;try{var o=t.inflate(e.fragment.getBytes());e.fragment=n.util.createBuffer(o),e.length=o.length,i=!0}catch(t){}return i},a=function(t,e){var r=0;switch(e){case 1:r=t.getByte();break;case 2:r=t.getInt16();break;case 3:r=t.getInt24();break;case 4:r=t.getInt32()}return n.util.createBuffer(t.getBytes(r))},u=function(t,e,r){t.putInt(r.length(),e<<3),t.putBuffer(r)},c={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};c.SupportedVersions=[c.Versions.TLS_1_1,c.Versions.TLS_1_0],c.Version=c.SupportedVersions[0],c.MaxFragment=15360,c.ConnectionEnd={server:0,client:1},c.PRFAlgorithm={tls_prf_sha256:0},c.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},c.CipherType={stream:0,block:1,aead:2},c.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},c.CompressionMethod={none:0,deflate:1},c.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},c.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},c.Alert={},c.Alert.Level={warning:1,fatal:2},c.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},c.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},c.CipherSuites={},c.getCipherSuite=function(t){var e=null;for(var r in c.CipherSuites){var n=c.CipherSuites[r];if(n.id[0]===t.charCodeAt(0)&&n.id[1]===t.charCodeAt(1)){e=n;break}}return e},c.handleUnexpected=function(t,e){!t.open&&t.entity===c.ConnectionEnd.client||t.error(t,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unexpected_message}})},c.handleHelloRequest=function(t,e,r){!t.handshaking&&t.handshakes>0&&(c.queue(t,c.createAlert(t,{level:c.Alert.Level.warning,description:c.Alert.Description.no_renegotiation})),c.flush(t)),t.process()},c.parseHelloMessage=function(t,e,r){var i=null,o=t.entity===c.ConnectionEnd.client;if(r<38)t.error(t,{message:o?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});else{var s=e.fragment,u=s.length();if(i={version:{major:s.getByte(),minor:s.getByte()},random:n.util.createBuffer(s.getBytes(32)),session_id:a(s,1),extensions:[]},o?(i.cipher_suite=s.getBytes(2),i.compression_method=s.getByte()):(i.cipher_suites=a(s,2),i.compression_methods=a(s,1)),(u=r-(u-s.length()))>0){for(var f=a(s,2);f.length()>0;)i.extensions.push({type:[f.getByte(),f.getByte()],data:a(f,2)});if(!o)for(var l=0;l<i.extensions.length;++l){var h=i.extensions[l];if(0===h.type[0]&&0===h.type[1])for(var p=a(h.data,2);p.length()>0;){if(0!==p.getByte())break;t.session.extensions.server_name.serverNameList.push(a(p,2).getBytes())}}}if(t.session.version&&(i.version.major!==t.session.version.major||i.version.minor!==t.session.version.minor))return t.error(t,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}});if(o)t.session.cipherSuite=c.getCipherSuite(i.cipher_suite);else for(var d=n.util.createBuffer(i.cipher_suites.bytes());d.length()>0&&(t.session.cipherSuite=c.getCipherSuite(d.getBytes(2)),null===t.session.cipherSuite););if(null===t.session.cipherSuite)return t.error(t,{message:"No cipher suites in common.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.handshake_failure},cipherSuite:n.util.bytesToHex(i.cipher_suite)});t.session.compressionMethod=o?i.compression_method:c.CompressionMethod.none}return i},c.createSecurityParameters=function(t,e){var r=t.entity===c.ConnectionEnd.client,n=e.random.bytes(),i=r?t.session.sp.client_random:n,o=r?n:c.createRandom().getBytes();t.session.sp={entity:t.entity,prf_algorithm:c.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:t.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:o}},c.handleServerHello=function(t,e,r){var n=c.parseHelloMessage(t,e,r);if(!t.fail){if(!(n.version.minor<=t.version.minor))return t.error(t,{message:"Incompatible TLS version.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}});t.version.minor=n.version.minor,t.session.version=t.version;var i=n.session_id.bytes();i.length>0&&i===t.session.id?(t.expect=d,t.session.resuming=!0,t.session.sp.server_random=n.random.bytes()):(t.expect=f,t.session.resuming=!1,c.createSecurityParameters(t,n)),t.session.id=i,t.process()}},c.handleClientHello=function(t,e,r){var i=c.parseHelloMessage(t,e,r);if(!t.fail){var o=i.session_id.bytes(),s=null;if(t.sessionCache&&(null===(s=t.sessionCache.getSession(o))?o="":(s.version.major!==i.version.major||s.version.minor>i.version.minor)&&(s=null,o="")),0===o.length&&(o=n.random.getBytes(32)),t.session.id=o,t.session.clientHelloVersion=i.version,t.session.sp={},s)t.version=t.session.version=s.version,t.session.sp=s.sp;else{for(var a,u=1;u<c.SupportedVersions.length&&!((a=c.SupportedVersions[u]).minor<=i.version.minor);++u);t.version={major:a.major,minor:a.minor},t.session.version=t.version}null!==s?(t.expect=_,t.session.resuming=!0,t.session.sp.client_random=i.random.bytes()):(t.expect=!1!==t.verifyClient?y:b,t.session.resuming=!1,c.createSecurityParameters(t,i)),t.open=!0,c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createServerHello(t)})),t.session.resuming?(c.queue(t,c.createRecord(t,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),t.state.pending=c.createConnectionState(t),t.state.current.write=t.state.pending.write,c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createFinished(t)}))):(c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createCertificate(t)})),t.fail||(c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createServerKeyExchange(t)})),!1!==t.verifyClient&&c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createCertificateRequest(t)})),c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createServerHelloDone(t)})))),c.flush(t),t.process()}},c.handleCertificate=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var i,o,s=e.fragment,u={certificate_list:a(s,3)},f=[];try{for(;u.certificate_list.length()>0;)i=a(u.certificate_list,3),o=n.asn1.fromDer(i),i=n.pki.certificateFromAsn1(o,!0),f.push(i)}catch(e){return t.error(t,{message:"Could not parse certificate list.",cause:e,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate}})}var h=t.entity===c.ConnectionEnd.client;!h&&!0!==t.verifyClient||0!==f.length?0===f.length?t.expect=h?l:b:(h?t.session.serverCertificate=f[0]:t.session.clientCertificate=f[0],c.verifyCertificateChain(t,f)&&(t.expect=h?l:b)):t.error(t,{message:h?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}}),t.process()},c.handleServerKeyExchange=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unsupported_certificate}});t.expect=h,t.process()},c.handleClientKeyExchange=function(t,e,r){if(r<48)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unsupported_certificate}});var i=e.fragment,o={enc_pre_master_secret:a(i,2).getBytes()},s=null;if(t.getPrivateKey)try{s=t.getPrivateKey(t,t.session.serverCertificate),s=n.pki.privateKeyFromPem(s)}catch(e){t.error(t,{message:"Could not get private key.",cause:e,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}})}if(null===s)return t.error(t,{message:"No private key set.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}});try{var u=t.session.sp;u.pre_master_secret=s.decrypt(o.enc_pre_master_secret);var f=t.session.clientHelloVersion;if(f.major!==u.pre_master_secret.charCodeAt(0)||f.minor!==u.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(t){u.pre_master_secret=n.random.getBytes(48)}t.expect=_,null!==t.session.clientCertificate&&(t.expect=w),t.process()},c.handleCertificateRequest=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var n=e.fragment,i={certificate_types:a(n,1),certificate_authorities:a(n,2)};t.session.certificateRequest=i,t.expect=p,t.process()},c.handleCertificateVerify=function(t,e,r){if(r<2)return t.error(t,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var i=e.fragment;i.read-=4;var o=i.bytes();i.read+=4;var s={signature:a(i,2).getBytes()},u=n.util.createBuffer();u.putBuffer(t.session.md5.digest()),u.putBuffer(t.session.sha1.digest()),u=u.getBytes();try{if(!t.session.clientCertificate.publicKey.verify(u,s.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");t.session.md5.update(o),t.session.sha1.update(o)}catch(e){return t.error(t,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.handshake_failure}})}t.expect=_,t.process()},c.handleServerHelloDone=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.record_overflow}});if(null===t.serverCertificate){var i={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.insufficient_security}},o=t.verify(t,i.alert.description,0,[]);if(!0!==o)return(o||0===o)&&("object"!=typeof o||n.util.isArray(o)?"number"==typeof o&&(i.alert.description=o):(o.message&&(i.message=o.message),o.alert&&(i.alert.description=o.alert))),t.error(t,i)}null!==t.session.certificateRequest&&(e=c.createRecord(t,{type:c.ContentType.handshake,data:c.createCertificate(t)}),c.queue(t,e)),e=c.createRecord(t,{type:c.ContentType.handshake,data:c.createClientKeyExchange(t)}),c.queue(t,e),t.expect=v;var s=function(t,e){null!==t.session.certificateRequest&&null!==t.session.clientCertificate&&c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createCertificateVerify(t,e)})),c.queue(t,c.createRecord(t,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),t.state.pending=c.createConnectionState(t),t.state.current.write=t.state.pending.write,c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createFinished(t)})),t.expect=d,c.flush(t),t.process()};if(null===t.session.certificateRequest||null===t.session.clientCertificate)return s(t,null);c.getClientSignature(t,s)},c.handleChangeCipherSpec=function(t,e){if(1!==e.fragment.getByte())return t.error(t,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var r=t.entity===c.ConnectionEnd.client;(t.session.resuming&&r||!t.session.resuming&&!r)&&(t.state.pending=c.createConnectionState(t)),t.state.current.read=t.state.pending.read,(!t.session.resuming&&r||t.session.resuming&&!r)&&(t.state.pending=null),t.expect=r?m:k,t.process()},c.handleFinished=function(t,e,r){var o=e.fragment;o.read-=4;var s=o.bytes();o.read+=4;var a=e.fragment.getBytes();(o=n.util.createBuffer()).putBuffer(t.session.md5.digest()),o.putBuffer(t.session.sha1.digest());var u=t.entity===c.ConnectionEnd.client,f=u?"server finished":"client finished",l=t.session.sp;if((o=i(l.master_secret,f,o.getBytes(),12)).getBytes()!==a)return t.error(t,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.decrypt_error}});t.session.md5.update(s),t.session.sha1.update(s),(t.session.resuming&&u||!t.session.resuming&&!u)&&(c.queue(t,c.createRecord(t,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),t.state.current.write=t.state.pending.write,t.state.pending=null,c.queue(t,c.createRecord(t,{type:c.ContentType.handshake,data:c.createFinished(t)}))),t.expect=u?g:S,t.handshaking=!1,++t.handshakes,t.peerCertificate=u?t.session.serverCertificate:t.session.clientCertificate,c.flush(t),t.isConnected=!0,t.connected(t),t.process()},c.handleAlert=function(t,e){var r,n=e.fragment,i={level:n.getByte(),description:n.getByte()};switch(i.description){case c.Alert.Description.close_notify:r="Connection closed.";break;case c.Alert.Description.unexpected_message:r="Unexpected message.";break;case c.Alert.Description.bad_record_mac:r="Bad record MAC.";break;case c.Alert.Description.decryption_failed:r="Decryption failed.";break;case c.Alert.Description.record_overflow:r="Record overflow.";break;case c.Alert.Description.decompression_failure:r="Decompression failed.";break;case c.Alert.Description.handshake_failure:r="Handshake failure.";break;case c.Alert.Description.bad_certificate:r="Bad certificate.";break;case c.Alert.Description.unsupported_certificate:r="Unsupported certificate.";break;case c.Alert.Description.certificate_revoked:r="Certificate revoked.";break;case c.Alert.Description.certificate_expired:r="Certificate expired.";break;case c.Alert.Description.certificate_unknown:r="Certificate unknown.";break;case c.Alert.Description.illegal_parameter:r="Illegal parameter.";break;case c.Alert.Description.unknown_ca:r="Unknown certificate authority.";break;case c.Alert.Description.access_denied:r="Access denied.";break;case c.Alert.Description.decode_error:r="Decode error.";break;case c.Alert.Description.decrypt_error:r="Decrypt error.";break;case c.Alert.Description.export_restriction:r="Export restriction.";break;case c.Alert.Description.protocol_version:r="Unsupported protocol version.";break;case c.Alert.Description.insufficient_security:r="Insufficient security.";break;case c.Alert.Description.internal_error:r="Internal error.";break;case c.Alert.Description.user_canceled:r="User canceled.";break;case c.Alert.Description.no_renegotiation:r="Renegotiation not supported.";break;default:r="Unknown error."}if(i.description===c.Alert.Description.close_notify)return t.close();t.error(t,{message:r,send:!1,origin:t.entity===c.ConnectionEnd.client?"server":"client",alert:i}),t.process()},c.handleHandshake=function(t,e){var r=e.fragment,i=r.getByte(),o=r.getInt24();if(o>r.length())return t.fragmented=e,e.fragment=n.util.createBuffer(),r.read-=4,t.process();t.fragmented=null,r.read-=4;var s=r.bytes(o+4);r.read+=4,i in L[t.entity][t.expect]?(t.entity!==c.ConnectionEnd.server||t.open||t.fail||(t.handshaking=!0,t.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:n.md.md5.create(),sha1:n.md.sha1.create()}),i!==c.HandshakeType.hello_request&&i!==c.HandshakeType.certificate_verify&&i!==c.HandshakeType.finished&&(t.session.md5.update(s),t.session.sha1.update(s)),L[t.entity][t.expect][i](t,e,o)):c.handleUnexpected(t,e)},c.handleApplicationData=function(t,e){t.data.putBuffer(e.fragment),t.dataReady(t),t.process()},c.handleHeartbeat=function(t,e){var r=e.fragment,i=r.getByte(),o=r.getInt16(),s=r.getBytes(o);if(i===c.HeartbeatMessageType.heartbeat_request){if(t.handshaking||o>s.length)return t.process();c.queue(t,c.createRecord(t,{type:c.ContentType.heartbeat,data:c.createHeartbeat(c.HeartbeatMessageType.heartbeat_response,s)})),c.flush(t)}else if(i===c.HeartbeatMessageType.heartbeat_response){if(s!==t.expectedHeartbeatPayload)return t.process();t.heartbeatReceived&&t.heartbeatReceived(t,n.util.createBuffer(s))}t.process()};var f=1,l=2,h=3,p=4,d=5,m=6,g=7,v=8,y=1,b=2,w=3,_=4,k=5,S=6,x=c.handleUnexpected,E=c.handleChangeCipherSpec,C=c.handleAlert,A=c.handleHandshake,M=c.handleApplicationData,I=c.handleHeartbeat,T=[];T[c.ConnectionEnd.client]=[[x,C,A,x,I],[x,C,A,x,I],[x,C,A,x,I],[x,C,A,x,I],[x,C,A,x,I],[E,C,x,x,I],[x,C,A,x,I],[x,C,A,M,I],[x,C,A,x,I]],T[c.ConnectionEnd.server]=[[x,C,A,x,I],[x,C,A,x,I],[x,C,A,x,I],[x,C,A,x,I],[E,C,x,x,I],[x,C,A,x,I],[x,C,A,M,I],[x,C,A,x,I]];var O=c.handleHelloRequest,B=c.handleServerHello,P=c.handleCertificate,N=c.handleServerKeyExchange,R=c.handleCertificateRequest,F=c.handleServerHelloDone,j=c.handleFinished,L=[];L[c.ConnectionEnd.client]=[[x,x,B,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[O,x,x,x,x,x,x,x,x,x,x,P,N,R,F,x,x,x,x,x,x],[O,x,x,x,x,x,x,x,x,x,x,x,N,R,F,x,x,x,x,x,x],[O,x,x,x,x,x,x,x,x,x,x,x,x,R,F,x,x,x,x,x,x],[O,x,x,x,x,x,x,x,x,x,x,x,x,x,F,x,x,x,x,x,x],[O,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[O,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,j],[O,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[O,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x]];var D=c.handleClientHello,U=c.handleClientKeyExchange,z=c.handleCertificateVerify;L[c.ConnectionEnd.server]=[[x,D,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,P,x,x,x,x,x,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,U,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,z,x,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,j],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x]],c.generateKeys=function(t,e){var r=i,n=e.client_random+e.server_random;t.session.resuming||(e.master_secret=r(e.pre_master_secret,"master secret",n,48).bytes(),e.pre_master_secret=null),n=e.server_random+e.client_random;var o=2*e.mac_key_length+2*e.enc_key_length,s=t.version.major===c.Versions.TLS_1_0.major&&t.version.minor===c.Versions.TLS_1_0.minor;s&&(o+=2*e.fixed_iv_length);var a=r(e.master_secret,"key expansion",n,o),u={client_write_MAC_key:a.getBytes(e.mac_key_length),server_write_MAC_key:a.getBytes(e.mac_key_length),client_write_key:a.getBytes(e.enc_key_length),server_write_key:a.getBytes(e.enc_key_length)};return s&&(u.client_write_IV=a.getBytes(e.fixed_iv_length),u.server_write_IV=a.getBytes(e.fixed_iv_length)),u},c.createConnectionState=function(t){var e=t.entity===c.ConnectionEnd.client,r=function(){var t={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(t){return!0},compressionState:null,compressFunction:function(t){return!0},updateSequenceNumber:function(){4294967295===t.sequenceNumber[1]?(t.sequenceNumber[1]=0,++t.sequenceNumber[0]):++t.sequenceNumber[1]}};return t},n={read:r(),write:r()};if(n.read.update=function(t,e){return n.read.cipherFunction(e,n.read)?n.read.compressFunction(t,e,n.read)||t.error(t,{message:"Could not decompress record.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.decompression_failure}}):t.error(t,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_record_mac}}),!t.fail},n.write.update=function(t,e){return n.write.compressFunction(t,e,n.write)?n.write.cipherFunction(e,n.write)||t.error(t,{message:"Could not encrypt record.",send:!1,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}):t.error(t,{message:"Could not compress record.",send:!1,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}),!t.fail},t.session){var i=t.session.sp;switch(t.session.cipherSuite.initSecurityParameters(i),i.keys=c.generateKeys(t,i),n.read.macKey=e?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=e?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,t.session.cipherSuite.initConnectionState(n,t,i),i.compression_algorithm){case c.CompressionMethod.none:break;case c.CompressionMethod.deflate:n.read.compressFunction=s,n.write.compressFunction=o;break;default:throw new Error("Unsupported compression algorithm.")}}return n},c.createRandom=function(){var t=new Date,e=+t+6e4*t.getTimezoneOffset(),r=n.util.createBuffer();return r.putInt32(e),r.putBytes(n.random.getBytes(28)),r},c.createRecord=function(t,e){return e.data?{type:e.type,version:{major:t.version.major,minor:t.version.minor},length:e.data.length(),fragment:e.data}:null},c.createAlert=function(t,e){var r=n.util.createBuffer();return r.putByte(e.level),r.putByte(e.description),c.createRecord(t,{type:c.ContentType.alert,data:r})},c.createClientHello=function(t){t.session.clientHelloVersion={major:t.version.major,minor:t.version.minor};for(var e=n.util.createBuffer(),r=0;r<t.cipherSuites.length;++r){var i=t.cipherSuites[r];e.putByte(i.id[0]),e.putByte(i.id[1])}var o=e.length(),s=n.util.createBuffer();s.putByte(c.CompressionMethod.none);var a=s.length(),f=n.util.createBuffer();if(t.virtualHost){var l=n.util.createBuffer();l.putByte(0),l.putByte(0);var h=n.util.createBuffer();h.putByte(0),u(h,2,n.util.createBuffer(t.virtualHost));var p=n.util.createBuffer();u(p,2,h),u(l,2,p),f.putBuffer(l)}var d=f.length();d>0&&(d+=2);var m=t.session.id,g=m.length+1+2+4+28+2+o+1+a+d,v=n.util.createBuffer();return v.putByte(c.HandshakeType.client_hello),v.putInt24(g),v.putByte(t.version.major),v.putByte(t.version.minor),v.putBytes(t.session.sp.client_random),u(v,1,n.util.createBuffer(m)),u(v,2,e),u(v,1,s),d>0&&u(v,2,f),v},c.createServerHello=function(t){var e=t.session.id,r=e.length+1+2+4+28+2+1,i=n.util.createBuffer();return i.putByte(c.HandshakeType.server_hello),i.putInt24(r),i.putByte(t.version.major),i.putByte(t.version.minor),i.putBytes(t.session.sp.server_random),u(i,1,n.util.createBuffer(e)),i.putByte(t.session.cipherSuite.id[0]),i.putByte(t.session.cipherSuite.id[1]),i.putByte(t.session.compressionMethod),i},c.createCertificate=function(t){var e,r=t.entity===c.ConnectionEnd.client,i=null;t.getCertificate&&(e=r?t.session.certificateRequest:t.session.extensions.server_name.serverNameList,i=t.getCertificate(t,e));var o=n.util.createBuffer();if(null!==i)try{n.util.isArray(i)||(i=[i]);for(var s=null,a=0;a<i.length;++a){var f=n.pem.decode(i[a])[0];if("CERTIFICATE"!==f.type&&"X509 CERTIFICATE"!==f.type&&"TRUSTED CERTIFICATE"!==f.type){var l=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw l.headerType=f.type,l}if(f.procType&&"ENCRYPTED"===f.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var h=n.util.createBuffer(f.body);null===s&&(s=n.asn1.fromDer(h.bytes(),!1));var p=n.util.createBuffer();u(p,3,h),o.putBuffer(p)}i=n.pki.certificateFromAsn1(s),r?t.session.clientCertificate=i:t.session.serverCertificate=i}catch(e){return t.error(t,{message:"Could not send certificate list.",cause:e,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate}})}var d=3+o.length(),m=n.util.createBuffer();return m.putByte(c.HandshakeType.certificate),m.putInt24(d),u(m,3,o),m},c.createClientKeyExchange=function(t){var e=n.util.createBuffer();e.putByte(t.session.clientHelloVersion.major),e.putByte(t.session.clientHelloVersion.minor),e.putBytes(n.random.getBytes(46));var r=t.session.sp;r.pre_master_secret=e.getBytes();var i=(e=t.session.serverCertificate.publicKey.encrypt(r.pre_master_secret)).length+2,o=n.util.createBuffer();return o.putByte(c.HandshakeType.client_key_exchange),o.putInt24(i),o.putInt16(e.length),o.putBytes(e),o},c.createServerKeyExchange=function(t){var e=n.util.createBuffer();return e},c.getClientSignature=function(t,e){var r=n.util.createBuffer();r.putBuffer(t.session.md5.digest()),r.putBuffer(t.session.sha1.digest()),r=r.getBytes(),t.getSignature=t.getSignature||function(t,e,r){var i=null;if(t.getPrivateKey)try{i=t.getPrivateKey(t,t.session.clientCertificate),i=n.pki.privateKeyFromPem(i)}catch(e){t.error(t,{message:"Could not get private key.",cause:e,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}})}null===i?t.error(t,{message:"No private key set.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}):e=i.sign(e,null),r(t,e)},t.getSignature(t,r,e)},c.createCertificateVerify=function(t,e){var r=e.length+2,i=n.util.createBuffer();return i.putByte(c.HandshakeType.certificate_verify),i.putInt24(r),i.putInt16(e.length),i.putBytes(e),i},c.createCertificateRequest=function(t){var e=n.util.createBuffer();e.putByte(1);var r=n.util.createBuffer();for(var i in t.caStore.certs){var o=t.caStore.certs[i],s=n.pki.distinguishedNameToAsn1(o.subject),a=n.asn1.toDer(s);r.putInt16(a.length()),r.putBuffer(a)}var f=1+e.length()+2+r.length(),l=n.util.createBuffer();return l.putByte(c.HandshakeType.certificate_request),l.putInt24(f),u(l,1,e),u(l,2,r),l},c.createServerHelloDone=function(t){var e=n.util.createBuffer();return e.putByte(c.HandshakeType.server_hello_done),e.putInt24(0),e},c.createChangeCipherSpec=function(){var t=n.util.createBuffer();return t.putByte(1),t},c.createFinished=function(t){var e=n.util.createBuffer();e.putBuffer(t.session.md5.digest()),e.putBuffer(t.session.sha1.digest());var r=t.entity===c.ConnectionEnd.client,o=t.session.sp,s=r?"client finished":"server finished";e=i(o.master_secret,s,e.getBytes(),12);var a=n.util.createBuffer();return a.putByte(c.HandshakeType.finished),a.putInt24(e.length()),a.putBuffer(e),a},c.createHeartbeat=function(t,e,r){void 0===r&&(r=e.length);var i=n.util.createBuffer();i.putByte(t),i.putInt16(r),i.putBytes(e);var o=i.length(),s=Math.max(16,o-r-3);return i.putBytes(n.random.getBytes(s)),i},c.queue=function(t,e){if(e&&(0!==e.fragment.length()||e.type!==c.ContentType.handshake&&e.type!==c.ContentType.alert&&e.type!==c.ContentType.change_cipher_spec)){if(e.type===c.ContentType.handshake){var r=e.fragment.bytes();t.session.md5.update(r),t.session.sha1.update(r),r=null}var i;if(e.fragment.length()<=c.MaxFragment)i=[e];else{i=[];for(var o=e.fragment.bytes();o.length>c.MaxFragment;)i.push(c.createRecord(t,{type:e.type,data:n.util.createBuffer(o.slice(0,c.MaxFragment))})),o=o.slice(c.MaxFragment);o.length>0&&i.push(c.createRecord(t,{type:e.type,data:n.util.createBuffer(o)}))}for(var s=0;s<i.length&&!t.fail;++s){var a=i[s];t.state.current.write.update(t,a)&&t.records.push(a)}}},c.flush=function(t){for(var e=0;e<t.records.length;++e){var r=t.records[e];t.tlsData.putByte(r.type),t.tlsData.putByte(r.version.major),t.tlsData.putByte(r.version.minor),t.tlsData.putInt16(r.fragment.length()),t.tlsData.putBuffer(t.records[e].fragment)}return t.records=[],t.tlsDataReady(t)};var H=function(t){switch(t){case!0:return!0;case n.pki.certificateError.bad_certificate:return c.Alert.Description.bad_certificate;case n.pki.certificateError.unsupported_certificate:return c.Alert.Description.unsupported_certificate;case n.pki.certificateError.certificate_revoked:return c.Alert.Description.certificate_revoked;case n.pki.certificateError.certificate_expired:return c.Alert.Description.certificate_expired;case n.pki.certificateError.certificate_unknown:return c.Alert.Description.certificate_unknown;case n.pki.certificateError.unknown_ca:return c.Alert.Description.unknown_ca;default:return c.Alert.Description.bad_certificate}};for(var K in c.verifyCertificateChain=function(t,e){try{n.pki.verifyCertificateChain(t.caStore,e,function(e,r,i){H(e);var o=t.verify(t,e,r,i);if(!0!==o){if("object"==typeof o&&!n.util.isArray(o)){var s=new Error("The application rejected the certificate.");throw s.send=!0,s.alert={level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate},o.message&&(s.message=o.message),o.alert&&(s.alert.description=o.alert),s}o!==e&&(o=function(t){switch(t){case!0:return!0;case c.Alert.Description.bad_certificate:return n.pki.certificateError.bad_certificate;case c.Alert.Description.unsupported_certificate:return n.pki.certificateError.unsupported_certificate;case c.Alert.Description.certificate_revoked:return n.pki.certificateError.certificate_revoked;case c.Alert.Description.certificate_expired:return n.pki.certificateError.certificate_expired;case c.Alert.Description.certificate_unknown:return n.pki.certificateError.certificate_unknown;case c.Alert.Description.unknown_ca:return n.pki.certificateError.unknown_ca;default:return n.pki.certificateError.bad_certificate}}(o))}return o})}catch(e){var r=e;("object"!=typeof r||n.util.isArray(r))&&(r={send:!0,alert:{level:c.Alert.Level.fatal,description:H(e)}}),"send"in r||(r.send=!0),"alert"in r||(r.alert={level:c.Alert.Level.fatal,description:H(r.error)}),t.error(t,r)}return!t.fail},c.createSessionCache=function(t,e){var r=null;if(t&&t.getSession&&t.setSession&&t.order)r=t;else{for(var i in(r={}).cache=t||{},r.capacity=Math.max(e||100,1),r.order=[],t)r.order.length<=e?r.order.push(i):delete t[i];r.getSession=function(t){var e=null,i=null;if(t?i=n.util.bytesToHex(t):r.order.length>0&&(i=r.order[0]),null!==i&&i in r.cache)for(var o in e=r.cache[i],delete r.cache[i],r.order)if(r.order[o]===i){r.order.splice(o,1);break}return e},r.setSession=function(t,e){if(r.order.length===r.capacity){var i=r.order.shift();delete r.cache[i]}i=n.util.bytesToHex(t);r.order.push(i),r.cache[i]=e}}return r},c.createConnection=function(t){var e=null;e=t.caStore?n.util.isArray(t.caStore)?n.pki.createCaStore(t.caStore):t.caStore:n.pki.createCaStore();var r=t.cipherSuites||null;if(null===r)for(var i in r=[],c.CipherSuites)r.push(c.CipherSuites[i]);var o=t.server?c.ConnectionEnd.server:c.ConnectionEnd.client,s=t.sessionCache?c.createSessionCache(t.sessionCache):null,a={version:{major:c.Version.major,minor:c.Version.minor},entity:o,sessionId:t.sessionId,caStore:e,sessionCache:s,cipherSuites:r,connected:t.connected,virtualHost:t.virtualHost||null,verifyClient:t.verifyClient||!1,verify:t.verify||function(t,e,r,n){return e},getCertificate:t.getCertificate||null,getPrivateKey:t.getPrivateKey||null,getSignature:t.getSignature||null,input:n.util.createBuffer(),tlsData:n.util.createBuffer(),data:n.util.createBuffer(),tlsDataReady:t.tlsDataReady,dataReady:t.dataReady,heartbeatReceived:t.heartbeatReceived,closed:t.closed,error:function(e,r){r.origin=r.origin||(e.entity===c.ConnectionEnd.client?"client":"server"),r.send&&(c.queue(e,c.createAlert(e,r.alert)),c.flush(e));var n=!1!==r.fatal;n&&(e.fail=!0),t.error(e,r),n&&e.close(!1)},deflate:t.deflate||null,inflate:t.inflate||null,reset:function(t){a.version={major:c.Version.major,minor:c.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=(a.entity,c.ConnectionEnd.client,0),a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(t||void 0===t),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=c.createConnectionState(a)}};a.reset();return a.handshake=function(t){if(a.entity!==c.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&0===a.handshakes&&(a.fail=!1),a.handshaking=!0;var e=null;(t=t||"").length>0&&(a.sessionCache&&(e=a.sessionCache.getSession(t)),null===e&&(t="")),0===t.length&&a.sessionCache&&null!==(e=a.sessionCache.getSession())&&(t=e.id),a.session={id:t,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:n.md.md5.create(),sha1:n.md.sha1.create()},e&&(a.version=e.version,a.session.sp=e.sp),a.session.sp.client_random=c.createRandom().getBytes(),a.open=!0,c.queue(a,c.createRecord(a,{type:c.ContentType.handshake,data:c.createClientHello(a)})),c.flush(a)}},a.process=function(t){var e=0;return t&&a.input.putBytes(t),a.fail||(null!==a.record&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),null===a.record&&(e=function(t){var e=0,r=t.input,i=r.length();if(i<5)e=5-i;else{t.record={type:r.getByte(),version:{major:r.getByte(),minor:r.getByte()},length:r.getInt16(),fragment:n.util.createBuffer(),ready:!1};var o=t.record.version.major===t.version.major;o&&t.session&&t.session.version&&(o=t.record.version.minor===t.version.minor),o||t.error(t,{message:"Incompatible TLS version.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}})}return e}(a)),a.fail||null===a.record||a.record.ready||(e=function(t){var e=0,r=t.input,n=r.length();n<t.record.length?e=t.record.length-n:(t.record.fragment.putBytes(r.getBytes(t.record.length)),r.compact(),t.state.current.read.update(t,t.record)&&(null!==t.fragmented&&(t.fragmented.type===t.record.type?(t.fragmented.fragment.putBuffer(t.record.fragment),t.record=t.fragmented):t.error(t,{message:"Invalid fragmented record.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unexpected_message}})),t.record.ready=!0));return e}(a)),!a.fail&&null!==a.record&&a.record.ready&&function(t,e){var r=e.type-c.ContentType.change_cipher_spec,n=T[t.entity][t.expect];r in n?n[r](t,e):c.handleUnexpected(t,e)}(a,a.record)),e},a.prepare=function(t){return c.queue(a,c.createRecord(a,{type:c.ContentType.application_data,data:n.util.createBuffer(t)})),c.flush(a)},a.prepareHeartbeatRequest=function(t,e){return t instanceof n.util.ByteBuffer&&(t=t.bytes()),void 0===e&&(e=t.length),a.expectedHeartbeatPayload=t,c.queue(a,c.createRecord(a,{type:c.ContentType.heartbeat,data:c.createHeartbeat(c.HeartbeatMessageType.heartbeat_request,t,e)})),c.flush(a)},a.close=function(t){if(!a.fail&&a.sessionCache&&a.session){var e={id:a.session.id,version:a.session.version,sp:a.session.sp};e.sp.keys=null,a.sessionCache.setSession(e.id,e)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,c.queue(a,c.createAlert(a,{level:c.Alert.Level.warning,description:c.Alert.Description.close_notify})),c.flush(a)),a.closed(a)),a.reset(t)},a},t.exports=n.tls=n.tls||{},c)"function"!=typeof c[K]&&(n.tls[K]=c[K]);n.tls.prf_tls1=i,n.tls.hmac_sha1=function(t,e,r){var i=n.hmac.create();i.start("SHA1",t);var o=n.util.createBuffer();return o.putInt32(e[0]),o.putInt32(e[1]),o.putByte(r.type),o.putByte(r.version.major),o.putByte(r.version.minor),o.putInt16(r.length),o.putBytes(r.fragment.bytes()),i.update(o.getBytes()),i.digest().getBytes()},n.tls.createSessionCache=c.createSessionCache,n.tls.createConnection=c.createConnection},function(t,e,r){var n=r(11);r(13),n.cipher=n.cipher||{};var i=t.exports=n.cipher.modes=n.cipher.modes||{};function o(t){if("string"==typeof t&&(t=n.util.createBuffer(t)),n.util.isArray(t)&&t.length>4){var e=t;t=n.util.createBuffer();for(var r=0;r<e.length;++r)t.putByte(e[r])}return n.util.isArray(t)||(t=[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]),t}function s(t){t[t.length-1]=t[t.length-1]+1&4294967295}function a(t){return[t/4294967296|0,4294967295&t]}i.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.ecb.prototype.start=function(t){},i.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])},i.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])},i.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0},i.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return!(n>this.blockSize<<2)&&(t.truncate(n),!0)},i.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.cbc.prototype.start=function(t){if(null===t.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=o(t.iv),this._prev=this._iv.slice(0)}},i.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock},i.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},i.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0},i.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return!(n>this.blockSize<<2)&&(t.truncate(n),!0)},i.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=o(t.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)t.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)t.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=o(t.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(0===t.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o>0)t.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb.prototype.decrypt=i.ofb.prototype.encrypt,i.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=o(t.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}s(this._inBlock)},i.ctr.prototype.decrypt=i.ctr.prototype.encrypt,i.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0,this._R=3774873600},i.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e,r=n.util.createBuffer(t.iv);if(this._cipherLength=0,e="additionalData"in t?n.util.createBuffer(t.additionalData):n.util.createBuffer(),this._tagLength="tagLength"in t?t.tagLength:128,this._tag=null,t.decrypt&&(this._tag=n.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=r.length();if(12===i)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(a(8*i)))}this._inBlock=this._j0.slice(0),s(this._inBlock),this._partialBytes=0,e=n.util.createBuffer(e),this._aDataLength=a(8*e.length());var o=e.length()%this.blockSize;for(o&&e.fillWithByte(0,this.blockSize-o),this._s=[0,0,0,0];e.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()])},i.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(0===o||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),s(this._inBlock)},i.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),s(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize},i.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=n.util.createBuffer();var i=this._aDataLength.concat(a(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,i);var o=[];this.cipher.encrypt(this._j0,o);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^o[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},i.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){t[i/32|0]&1<<31-i%32&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r},i.gcm.prototype.pow=function(t,e){for(var r=1&t[3],n=3;n>0;--n)e[n]=t[n]>>>1|(1&t[n-1])<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)},i.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=t[r/8|0]>>>4*(7-r%8)&15,i=this._m[r][n];e[0]^=i[0],e[1]^=i[1],e[2]^=i[2],e[3]^=i[3]}return e},i.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)},i.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,o=new Array(i),s=0;s<i;++s){var a=[0,0,0,0],u=(n-1-s%n)*e;a[s/n|0]=1<<e-1<<u,o[s]=this.generateSubHashTable(this.multiply(a,t),e)}return o},i.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var o=n>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<n;){for(var s=1;s<o;++s){var a=i[o],u=i[s];i[o+s]=[a[0]^u[0],a[1]^u[1],a[2]^u[2],a[3]^u[3]]}o*=2}for(i[0]=[0,0,0,0],o=n+1;o<r;++o){var c=i[o^n];i[o]=[t[0]^c[0],t[1]^c[1],t[2]^c[2],t[3]^c[3]]}return i}},function(t,e,r){"use strict";(function(t){const n=r(301),i=r(300)(),o=r(1154),s={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"};e.create=function(e,r,a){const u=s[e];n(i.subtle.importKey("raw",r,{name:"HMAC",hash:{name:u}},!1,["sign"]).then(r=>({digest(e,o){((e,r,o)=>{n(i.subtle.sign({name:"HMAC"},e,r).then(e=>t.from(e)),o)})(r,e,o)},length:o[e]})),a)}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e){var n=r(14),i=r(16),o=r(32),s=r(195),a=r(148),u=r(40),c=r(514),f=r(302),l=r(97),h=r(124),p=r(64),d=r(59),m=d,g=d.HDPublicKey,v=r(17),y=r(28),b=r(21);function w(t){if(t instanceof w)return t;if(!(this instanceof w))return new w(t);if(t){if(n.isString(t)||b.isBuffer(t)){var e=w.getSerializedError(t);if(e){if(b.isBuffer(t)&&!w.getSerializedError(t.toString()))return this._buildFromSerialized(t.toString());if(e instanceof g.ArgumentIsPrivateExtended)return new c(t).hdPublicKey;throw e}return this._buildFromSerialized(t)}if(n.isObject(t))return t instanceof c?this._buildFromPrivate(t):this._buildFromObject(t);throw new g.UnrecognizedArgument(t)}throw new g.MustSupplyArgument}w.isValidPath=function(t){if(n.isString(t)){var e=c._getDerivationIndexes(t);return null!==e&&n.all(e,w.isValidPath)}return!!n.isNumber(t)&&(t>=0&&t<w.Hardened)},w.prototype.derive=function(t,e){if(n.isNumber(t))return this._deriveWithNumber(t,e);if(n.isString(t))return this._deriveFromString(t);throw new g.InvalidDerivationArgument(t)},w.prototype._deriveWithNumber=function(t,e){if(t>=w.Hardened||e)throw new g.InvalidIndexCantDeriveHardened;if(t<0)throw new g.InvalidPath(t);var r=f.get(this.xpubkey,t,!1);if(r)return r;var n=b.integerAsBuffer(t),i=b.concat([this.publicKey.toBuffer(),n]),s=u.sha512hmac(i,this._buffers.chainCode),a=o.fromBuffer(s.slice(0,32),{size:32}),c=s.slice(32,64),l=p.fromPoint(h.getG().mul(a).add(this.publicKey.point)),d=new w({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:t,chainCode:c,publicKey:l});return f.set(this.xpubkey,t,!1,d),d},w.prototype._deriveFromString=function(t){if(n.contains(t,"'"))throw new g.InvalidIndexCantDeriveHardened;if(!w.isValidPath(t))throw new g.InvalidPath(t);return c._getDerivationIndexes(t).reduce(function(t,e){return t._deriveWithNumber(e)},this)},w.isValidSerialized=function(t,e){return n.isNull(w.getSerializedError(t,e))},w.getSerializedError=function(t,e){if(!n.isString(t)&&!b.isBuffer(t))return new g.UnrecognizedArgument("expected buffer or string");if(!s.validCharacters(t))return new m.InvalidB58Char("(unknown)",t);try{t=a.decode(t)}catch(e){return new m.InvalidB58Checksum(t)}if(t.length!==w.DataSize)return new g.InvalidLength(t);if(!n.isUndefined(e)){var r=w._validateNetwork(t,e);if(r)return r}var i=b.integerFromBuffer(t.slice(0,4));return i===l.livenet.xprivkey||i===l.testnet.xprivkey?new g.ArgumentIsPrivateExtended:null},w._validateNetwork=function(t,e){var r=l.get(e);if(!r)return new m.InvalidNetworkArgument(e);var n=t.slice(w.VersionStart,w.VersionEnd);return b.integerFromBuffer(n)!==r.xpubkey?new m.InvalidNetwork(n):null},w.prototype._buildFromPrivate=function(t){var e=n.clone(t._buffers),r=h.getG().mul(o.fromBuffer(e.privateKey));return e.publicKey=h.pointToCompressed(r),e.version=b.integerAsBuffer(l.get(b.integerFromBuffer(e.version)).xpubkey),e.privateKey=void 0,e.checksum=void 0,e.xprivkey=void 0,this._buildFromBuffers(e)},w.prototype._buildFromObject=function(t){var e={version:t.network?b.integerAsBuffer(l.get(t.network).xpubkey):t.version,depth:n.isNumber(t.depth)?b.integerAsSingleByteBuffer(t.depth):t.depth,parentFingerPrint:n.isNumber(t.parentFingerPrint)?b.integerAsBuffer(t.parentFingerPrint):t.parentFingerPrint,childIndex:n.isNumber(t.childIndex)?b.integerAsBuffer(t.childIndex):t.childIndex,chainCode:n.isString(t.chainCode)?b.hexToBuffer(t.chainCode):t.chainCode,publicKey:n.isString(t.publicKey)?b.hexToBuffer(t.publicKey):b.isBuffer(t.publicKey)?t.publicKey:t.publicKey.toBuffer(),checksum:n.isNumber(t.checksum)?b.integerAsBuffer(t.checksum):t.checksum};return this._buildFromBuffers(e)},w.prototype._buildFromSerialized=function(t){var e=a.decode(t),r={version:e.slice(w.VersionStart,w.VersionEnd),depth:e.slice(w.DepthStart,w.DepthEnd),parentFingerPrint:e.slice(w.ParentFingerPrintStart,w.ParentFingerPrintEnd),childIndex:e.slice(w.ChildIndexStart,w.ChildIndexEnd),chainCode:e.slice(w.ChainCodeStart,w.ChainCodeEnd),publicKey:e.slice(w.PublicKeyStart,w.PublicKeyEnd),checksum:e.slice(w.ChecksumStart,w.ChecksumEnd),xpubkey:t};return this._buildFromBuffers(r)},w.prototype._buildFromBuffers=function(t){w._validateBufferArguments(t),y.defineImmutable(this,{_buffers:t});var r=[t.version,t.depth,t.parentFingerPrint,t.childIndex,t.chainCode,t.publicKey],n=b.concat(r),i=a.checksum(n);if(t.checksum&&t.checksum.length){if(t.checksum.toString("hex")!==i.toString("hex"))throw new m.InvalidB58Checksum(n,i)}else t.checksum=i;var o,s=l.get(b.integerFromBuffer(t.version));o=a.encode(b.concat(r)),t.xpubkey=new e(o);var c=new p(t.publicKey,{network:s}),f=w.ParentFingerPrintSize,h=u.sha256ripemd160(c.toBuffer()).slice(0,f);return y.defineImmutable(this,{xpubkey:o,network:s,depth:b.integerFromSingleByteBuffer(t.depth),publicKey:c,fingerPrint:h}),this},w._validateBufferArguments=function(t){var e=function(e,r){var n=t[e];v(b.isBuffer(n),e+" argument is not a buffer, it's "+typeof n),v(n.length===r,e+" has not the expected size: found "+n.length+", expected "+r)};e("version",w.VersionSize),e("depth",w.DepthSize),e("parentFingerPrint",w.ParentFingerPrintSize),e("childIndex",w.ChildIndexSize),e("chainCode",w.ChainCodeSize),e("publicKey",w.PublicKeySize),t.checksum&&t.checksum.length&&e("checksum",w.CheckSumSize)},w.fromString=function(t){return i.checkArgument(n.isString(t),"No valid string was provided"),new w(t)},w.fromObject=function(t){return i.checkArgument(n.isObject(t),"No valid argument was provided"),new w(t)},w.prototype.toString=function(){return this.xpubkey},w.prototype.inspect=function(){return"<HDPublicKey: "+this.xpubkey+">"},w.prototype.toObject=w.prototype.toJSON=function(){return{network:l.get(b.integerFromBuffer(this._buffers.version)).name,depth:b.integerFromSingleByteBuffer(this._buffers.depth),fingerPrint:b.integerFromBuffer(this.fingerPrint),parentFingerPrint:b.integerFromBuffer(this._buffers.parentFingerPrint),childIndex:b.integerFromBuffer(this._buffers.childIndex),chainCode:b.bufferToHex(this._buffers.chainCode),publicKey:this.publicKey.toString(),checksum:b.integerFromBuffer(this._buffers.checksum),xpubkey:this.xpubkey}},w.fromBuffer=function(t){return new w(t)},w.prototype.toBuffer=function(){return b.copy(this._buffers.xpubkey)},w.Hardened=2147483648,w.RootElementAlias=["m","M"],w.VersionSize=4,w.DepthSize=1,w.ParentFingerPrintSize=4,w.ChildIndexSize=4,w.ChainCodeSize=32,w.PublicKeySize=33,w.CheckSumSize=4,w.DataSize=78,w.SerializedByteSize=82,w.VersionStart=0,w.VersionEnd=w.VersionStart+w.VersionSize,w.DepthStart=w.VersionEnd,w.DepthEnd=w.DepthStart+w.DepthSize,w.ParentFingerPrintStart=w.DepthEnd,w.ParentFingerPrintEnd=w.ParentFingerPrintStart+w.ParentFingerPrintSize,w.ChildIndexStart=w.ParentFingerPrintEnd,w.ChildIndexEnd=w.ChildIndexStart+w.ChildIndexSize,w.ChainCodeStart=w.ChildIndexEnd,w.ChainCodeEnd=w.ChainCodeStart+w.ChainCodeSize,w.PublicKeyStart=w.ChainCodeEnd,w.PublicKeyEnd=w.PublicKeyStart+w.PublicKeySize,w.ChecksumStart=w.PublicKeyEnd,w.ChecksumEnd=w.ChecksumStart+w.CheckSumSize,v(w.PublicKeyEnd===w.DataSize),v(w.ChecksumEnd===w.SerializedByteSize),t.exports=w}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e){var n=r(17),i=r(0),o=r(14),s=r(16),a=r(32),u=r(195),c=r(148),f=r(40),l=r(97),h=r(302),p=r(124),d=r(196),m=r(193),g=r(59),v=g.HDPrivateKey,y=r(21),b=r(28);function w(t){if(t instanceof w)return t;if(!(this instanceof w))return new w(t);if(!t)return this._generateRandomly();if(l.get(t))return this._generateRandomly(t);if(o.isString(t)||y.isBuffer(t))if(w.isValidSerialized(t))this._buildFromSerialized(t);else if(b.isValidJSON(t))this._buildFromJSON(t);else{if(!y.isBuffer(t)||!w.isValidSerialized(t.toString()))throw w.getSerializedError(t);this._buildFromSerialized(t.toString())}else{if(!o.isObject(t))throw new v.UnrecognizedArgument(t);this._buildFromObject(t)}}w.isValidPath=function(t,e){if(o.isString(t)){var r=w._getDerivationIndexes(t);return null!==r&&o.all(r,w.isValidPath)}return!!o.isNumber(t)&&(t<w.Hardened&&!0===e&&(t+=w.Hardened),t>=0&&t<w.MaxIndex)},w._getDerivationIndexes=function(t){var e=t.split("/");if(o.contains(w.RootElementAlias,t))return[];if(!o.contains(w.RootElementAlias,e[0]))return null;var r=e.slice(1).map(function(t){var e="'"===t.slice(-1);if(e&&(t=t.slice(0,-1)),!t||"-"===t[0])return NaN;var r=+t;return e&&(r+=w.Hardened),r});return o.any(r,isNaN)?null:r},w.prototype.derive=function(t,e){if(o.isNumber(t))return this._deriveWithNumber(t,e);if(o.isString(t))return this._deriveFromString(t);throw new v.InvalidDerivationArgument(t)},w.prototype._deriveWithNumber=function(t,e){if(!w.isValidPath(t,e))throw new v.InvalidPath(t);e=t>=w.Hardened||e,t<w.Hardened&&!0===e&&(t+=w.Hardened);var r=h.get(this.xprivkey,t,e);if(r)return r;var n,o=y.integerAsBuffer(t);n=e?y.concat([new i.Buffer([0]),this.privateKey.toBuffer(),o]):y.concat([this.publicKey.toBuffer(),o]);var s=f.sha512hmac(n,this._buffers.chainCode),u=a.fromBuffer(s.slice(0,32),{size:32}),c=s.slice(32,64),l=u.add(this.privateKey.toBigNumber()).mod(p.getN()).toBuffer({size:32}),d=new w({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:t,chainCode:c,privateKey:l});return h.set(this.xprivkey,t,e,d),d},w.prototype._deriveFromString=function(t){if(!w.isValidPath(t))throw new v.InvalidPath(t);return w._getDerivationIndexes(t).reduce(function(t,e){return t._deriveWithNumber(e)},this)},w.isValidSerialized=function(t,e){return!w.getSerializedError(t,e)},w.getSerializedError=function(t,e){if(!o.isString(t)&&!y.isBuffer(t))return new v.UnrecognizedArgument("Expected string or buffer");if(!u.validCharacters(t))return new g.InvalidB58Char("(unknown)",t);try{t=c.decode(t)}catch(e){return new g.InvalidB58Checksum(t)}if(t.length!==w.DataLength)return new v.InvalidLength(t);if(!o.isUndefined(e)){var r=w._validateNetwork(t,e);if(r)return r}return null},w._validateNetwork=function(t,e){var r=l.get(e);if(!r)return new g.InvalidNetworkArgument(e);var n=t.slice(0,4);return y.integerFromBuffer(n)!==r.xprivkey?new g.InvalidNetwork(n):null},w.fromString=function(t){return s.checkArgument(o.isString(t),"No valid string was provided"),new w(t)},w.fromObject=function(t){return s.checkArgument(o.isObject(t),"No valid argument was provided"),new w(t)},w.prototype._buildFromJSON=function(t){return this._buildFromObject(JSON.parse(t))},w.prototype._buildFromObject=function(t){var e={version:t.network?y.integerAsBuffer(l.get(t.network).xprivkey):t.version,depth:o.isNumber(t.depth)?y.integerAsSingleByteBuffer(t.depth):t.depth,parentFingerPrint:o.isNumber(t.parentFingerPrint)?y.integerAsBuffer(t.parentFingerPrint):t.parentFingerPrint,childIndex:o.isNumber(t.childIndex)?y.integerAsBuffer(t.childIndex):t.childIndex,chainCode:o.isString(t.chainCode)?y.hexToBuffer(t.chainCode):t.chainCode,privateKey:o.isString(t.privateKey)&&b.isHexa(t.privateKey)?y.hexToBuffer(t.privateKey):t.privateKey,checksum:t.checksum?t.checksum.length?t.checksum:y.integerAsBuffer(t.checksum):void 0};return this._buildFromBuffers(e)},w.prototype._buildFromSerialized=function(t){var e=c.decode(t),r={version:e.slice(w.VersionStart,w.VersionEnd),depth:e.slice(w.DepthStart,w.DepthEnd),parentFingerPrint:e.slice(w.ParentFingerPrintStart,w.ParentFingerPrintEnd),childIndex:e.slice(w.ChildIndexStart,w.ChildIndexEnd),chainCode:e.slice(w.ChainCodeStart,w.ChainCodeEnd),privateKey:e.slice(w.PrivateKeyStart,w.PrivateKeyEnd),checksum:e.slice(w.ChecksumStart,w.ChecksumEnd),xprivkey:t};return this._buildFromBuffers(r)},w.prototype._generateRandomly=function(t){return w.fromSeed(m.getRandomBuffer(64),t)},w.fromSeed=function(t,r){if(b.isHexaString(t)&&(t=y.hexToBuffer(t)),!e.isBuffer(t))throw new v.InvalidEntropyArgument(t);if(t.length<16)throw new v.InvalidEntropyArgument.NotEnoughEntropy(t);if(t.length>64)throw new v.InvalidEntropyArgument.TooMuchEntropy(t);var n=f.sha512hmac(t,new i.Buffer("Bitcoin seed"));return new w({network:l.get(r)||l.defaultNetwork,depth:0,parentFingerPrint:0,childIndex:0,privateKey:n.slice(0,32),chainCode:n.slice(32,64)})},w.prototype._calcHDPublicKey=function(){if(!this._hdPublicKey){var t=r(513);this._hdPublicKey=new t(this)}},w.prototype._buildFromBuffers=function(t){w._validateBufferArguments(t),b.defineImmutable(this,{_buffers:t});var r=[t.version,t.depth,t.parentFingerPrint,t.childIndex,t.chainCode,y.emptyBuffer(1),t.privateKey],n=i.Buffer.concat(r);if(t.checksum&&t.checksum.length){if(t.checksum.toString()!==c.checksum(n).toString())throw new g.InvalidB58Checksum(n)}else t.checksum=c.checksum(n);var o,s=l.get(y.integerFromBuffer(t.version));o=c.encode(i.Buffer.concat(r)),t.xprivkey=new e(o);var u=new d(a.fromBuffer(t.privateKey),s),h=u.toPublicKey(),p=w.ParentFingerPrintSize,m=f.sha256ripemd160(h.toBuffer()).slice(0,p);return b.defineImmutable(this,{xprivkey:o,network:s,depth:y.integerFromSingleByteBuffer(t.depth),privateKey:u,publicKey:h,fingerPrint:m}),this._hdPublicKey=null,Object.defineProperty(this,"hdPublicKey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey}}),Object.defineProperty(this,"xpubkey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey.xpubkey}}),this},w._validateBufferArguments=function(t){var e=function(e,r){var i=t[e];n(y.isBuffer(i),e+" argument is not a buffer"),n(i.length===r,e+" has not the expected size: found "+i.length+", expected "+r)};e("version",w.VersionSize),e("depth",w.DepthSize),e("parentFingerPrint",w.ParentFingerPrintSize),e("childIndex",w.ChildIndexSize),e("chainCode",w.ChainCodeSize),e("privateKey",w.PrivateKeySize),t.checksum&&t.checksum.length&&e("checksum",w.CheckSumSize)},w.prototype.toString=function(){return this.xprivkey},w.prototype.inspect=function(){return"<HDPrivateKey: "+this.xprivkey+">"},w.prototype.toObject=w.prototype.toJSON=function(){return{network:l.get(y.integerFromBuffer(this._buffers.version),"xprivkey").name,depth:y.integerFromSingleByteBuffer(this._buffers.depth),fingerPrint:y.integerFromBuffer(this.fingerPrint),parentFingerPrint:y.integerFromBuffer(this._buffers.parentFingerPrint),childIndex:y.integerFromBuffer(this._buffers.childIndex),chainCode:y.bufferToHex(this._buffers.chainCode),privateKey:this.privateKey.toBuffer().toString("hex"),checksum:y.integerFromBuffer(this._buffers.checksum),xprivkey:this.xprivkey}},w.fromBuffer=function(t){return new w(t.toString())},w.prototype.toBuffer=function(){return y.copy(this._buffers.xprivkey)},w.DefaultDepth=0,w.DefaultFingerprint=0,w.DefaultChildIndex=0,w.Hardened=2147483648,w.MaxIndex=2*w.Hardened,w.RootElementAlias=["m","M","m'","M'"],w.VersionSize=4,w.DepthSize=1,w.ParentFingerPrintSize=4,w.ChildIndexSize=4,w.ChainCodeSize=32,w.PrivateKeySize=32,w.CheckSumSize=4,w.DataLength=78,w.SerializedByteSize=82,w.VersionStart=0,w.VersionEnd=w.VersionStart+w.VersionSize,w.DepthStart=w.VersionEnd,w.DepthEnd=w.DepthStart+w.DepthSize,w.ParentFingerPrintStart=w.DepthEnd,w.ParentFingerPrintEnd=w.ParentFingerPrintStart+w.ParentFingerPrintSize,w.ChildIndexStart=w.ParentFingerPrintEnd,w.ChildIndexEnd=w.ChildIndexStart+w.ChildIndexSize,w.ChainCodeStart=w.ChildIndexEnd,w.ChainCodeEnd=w.ChainCodeStart+w.ChainCodeSize,w.PrivateKeyStart=w.ChainCodeEnd+1,w.PrivateKeyEnd=w.PrivateKeyStart+w.PrivateKeySize,w.ChecksumStart=w.PrivateKeyEnd,w.ChecksumEnd=w.ChecksumStart+w.CheckSumSize,n(w.ChecksumEnd===w.SerializedByteSize),t.exports=w}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e){var n=r(14),i=r(192),o=r(21),s=r(84),a=r(52),u=r(40),c=(r(28),r(194)),f=r(16);function l(t){if(!(this instanceof l))return new l(t);var e={};if(o.isBuffer(t))e=l._fromBufferReader(s(t));else{if(!n.isObject(t))throw new TypeError("Unrecognized argument for MerkleBlock");e={header:t.header instanceof i?t.header:i.fromObject(t.header),numTransactions:t.numTransactions,hashes:t.hashes,flags:t.flags}}return n.extend(this,e),this._flagBitsUsed=0,this._hashesUsed=0,this}l.fromBuffer=function(t){return l.fromBufferReader(s(t))},l.fromBufferReader=function(t){return new l(l._fromBufferReader(t))},l.prototype.toBuffer=function(){return this.toBufferWriter().concat()},l.prototype.toBufferWriter=function(t){t||(t=new a),t.write(this.header.toBuffer()),t.writeUInt32LE(this.numTransactions),t.writeVarintNum(this.hashes.length);for(var r=0;r<this.hashes.length;r++)t.write(new e(this.hashes[r],"hex"));for(t.writeVarintNum(this.flags.length),r=0;r<this.flags.length;r++)t.writeUInt8(this.flags[r]);return t},l.prototype.toObject=l.prototype.toJSON=function(){return{header:this.header.toObject(),numTransactions:this.numTransactions,hashes:this.hashes,flags:this.flags}},l.prototype.validMerkleTree=function(){if(f.checkState(n.isArray(this.flags),"MerkleBlock flags is not an array"),f.checkState(n.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions)return!1;if(8*this.flags.length<this.hashes.length)return!1;var t=this._calcTreeHeight(),e={hashesUsed:0,flagBitsUsed:0},r=this._traverseMerkleTree(t,0,e);return e.hashesUsed===this.hashes.length&&o.equals(r,this.header.merkleRoot)},l.prototype._traverseMerkleTree=function(t,r,n){if((n=n||{}).txs=n.txs||[],n.flagBitsUsed=n.flagBitsUsed||0,n.hashesUsed=n.hashesUsed||0,n.flagBitsUsed>8*this.flags.length)return null;var i=this.flags[n.flagBitsUsed>>3]>>>(7&n.flagBitsUsed++)&1;if(0!==t&&i){var o=this._traverseMerkleTree(t-1,2*r,n),s=o;return 2*r+1<this._calcTreeWidth(t-1)&&(s=this._traverseMerkleTree(t-1,2*r+1,n)),u.sha256sha256(new e.concat([o,s]))}if(n.hashesUsed>=this.hashes.length)return null;var a=this.hashes[n.hashesUsed++];return 0===t&&i&&n.txs.push(a),new e(a,"hex")},l.prototype._calcTreeWidth=function(t){return this.numTransactions+(1<<t)-1>>t},l.prototype._calcTreeHeight=function(){for(var t=0;this._calcTreeWidth(t)>1;)t++;return t},l.prototype.hasTransaction=function(t){f.checkArgument(!n.isUndefined(t),"tx cannot be undefined"),f.checkArgument(t instanceof c||"string"==typeof t,'Invalid tx given, tx must be a "string" or "Transaction"');var r=t;t instanceof c&&(r=o.reverse(new e(t.id,"hex")).toString("hex"));var i=[],s=this._calcTreeHeight();return this._traverseMerkleTree(s,0,{txs:i}),-1!==i.indexOf(r)},l._fromBufferReader=function(t){f.checkState(!t.finished(),"No merkleblock data received");var e={};e.header=i.fromBufferReader(t),e.numTransactions=t.readUInt32LE();var r=t.readVarintNum();e.hashes=[];for(var n=0;n<r;n++)e.hashes.push(t.read(32).toString("hex"));var o=t.readVarintNum();for(e.flags=[],n=0;n<o;n++)e.flags.push(t.readUInt8());return e},l.fromObject=function(t){return new l(t)},t.exports=l}).call(this,r(0).Buffer)},function(t,e,r){"use strict";var n=r(14),i=r(16),o=r(28),s=r(57),a=r(96),u=r(303);function c(t){if(!(this instanceof c))return new c(t);i.checkArgument(n.isObject(t),"Must provide an object from where to extract data");var e=t.address?new a(t.address):void 0,r=t.txid?t.txid:t.txId;if(!r||!o.isHexaString(r)||r.length>64)throw new Error("Invalid TXID in object",t);var f=n.isUndefined(t.vout)?t.outputIndex:t.vout;if(!n.isNumber(f))throw new Error("Invalid outputIndex, received "+f);i.checkArgument(!n.isUndefined(t.scriptPubKey)||!n.isUndefined(t.script),"Must provide the scriptPubKey for that output!");var l=new s(t.scriptPubKey||t.script);i.checkArgument(!n.isUndefined(t.amount)||!n.isUndefined(t.satoshis),"Must provide an amount for the output");var h=n.isUndefined(t.amount)?t.satoshis:new u.fromBTC(t.amount).toSatoshis();i.checkArgument(n.isNumber(h),"Amount must be a number"),o.defineImmutable(this,{address:e,txId:r,outputIndex:f,script:l,satoshis:h})}c.prototype.inspect=function(){return"<UnspentOutput: "+this.txId+":"+this.outputIndex+", satoshis: "+this.satoshis+", address: "+this.address+">"},c.prototype.toString=function(){return this.txId+":"+this.outputIndex},c.fromObject=function(t){return new c(t)},c.prototype.toObject=c.prototype.toJSON=function(){return{address:this.address?this.address.toString():void 0,txid:this.txId,vout:this.outputIndex,scriptPubKey:this.script.toBuffer().toString("hex"),amount:u.fromSatoshis(this.satoshis).toBTC()}},t.exports=c},function(t,e,r){"use strict";(function(e){var n=r(96),i=r(84),o=r(52),s=r(40),a=r(306),u=r(64),c=r(58),f=r(97),l=r(16),h=r(14),p=r(59),d=r(0),m=r(21),g=r(28),v=function t(e){return this instanceof t?(this.chunks=[],m.isBuffer(e)?t.fromBuffer(e):e instanceof n?t.fromAddress(e):e instanceof t?t.fromBuffer(e.toBuffer()):"string"==typeof e?t.fromString(e):void(void 0!==e&&this.set(e))):new t(e)};v.prototype.set=function(t){return this.chunks=t.chunks||this.chunks,this},v.fromBuffer=function(t){var e=new v;e.chunks=[];for(var r=new i(t);!r.finished();)try{var n,o,s=r.readUInt8();s>0&&s<a.OP_PUSHDATA1?(n=s,e.chunks.push({buf:r.read(n),len:n,opcodenum:s})):s===a.OP_PUSHDATA1?(n=r.readUInt8(),o=r.read(n),e.chunks.push({buf:o,len:n,opcodenum:s})):s===a.OP_PUSHDATA2?(n=r.readUInt16LE(),o=r.read(n),e.chunks.push({buf:o,len:n,opcodenum:s})):s===a.OP_PUSHDATA4?(n=r.readUInt32LE(),o=r.read(n),e.chunks.push({buf:o,len:n,opcodenum:s})):e.chunks.push({opcodenum:s})}catch(e){if(e instanceof RangeError)throw new p.Script.InvalidBuffer(t.toString("hex"));throw e}return e},v.prototype.toBuffer=function(){for(var t=new o,e=0;e<this.chunks.length;e++){var r=this.chunks[e],n=r.opcodenum;t.writeUInt8(r.opcodenum),r.buf&&(n<a.OP_PUSHDATA1?t.write(r.buf):n===a.OP_PUSHDATA1?(t.writeUInt8(r.len),t.write(r.buf)):n===a.OP_PUSHDATA2?(t.writeUInt16LE(r.len),t.write(r.buf)):n===a.OP_PUSHDATA4&&(t.writeUInt32LE(r.len),t.write(r.buf)))}return t.concat()},v.fromASM=function(t){var r=new v;r.chunks=[];for(var n=t.split(" "),i=0;i<n.length;){var o=n[i],s=a(o).toNumber();if(h.isUndefined(s)){var u=new e(n[i],"hex");r.chunks.push({buf:u,len:u.length,opcodenum:u.length}),i+=1}else s===a.OP_PUSHDATA1||s===a.OP_PUSHDATA2||s===a.OP_PUSHDATA4?(r.chunks.push({buf:new e(n[i+2],"hex"),len:parseInt(n[i+1]),opcodenum:s}),i+=3):(r.chunks.push({opcodenum:s}),i+=1)}return r},v.fromHex=function(t){return new v(new d.Buffer(t,"hex"))},v.fromString=function(t){if(g.isHexa(t)||0===t.length)return new v(new d.Buffer(t,"hex"));var r=new v;r.chunks=[];for(var n=t.split(" "),i=0;i<n.length;){var o=n[i],s=a(o).toNumber();if(h.isUndefined(s)){if(!((s=parseInt(o))>0&&s<a.OP_PUSHDATA1))throw new Error("Invalid script: "+JSON.stringify(t));r.chunks.push({buf:new e(n[i+1].slice(2),"hex"),len:s,opcodenum:s}),i+=2}else if(s===a.OP_PUSHDATA1||s===a.OP_PUSHDATA2||s===a.OP_PUSHDATA4){if("0x"!==n[i+2].slice(0,2))throw new Error("Pushdata data must start with 0x");r.chunks.push({buf:new e(n[i+2].slice(2),"hex"),len:parseInt(n[i+1]),opcodenum:s}),i+=3}else r.chunks.push({opcodenum:s}),i+=1}return r},v.prototype._chunkToString=function(t,e){var r=t.opcodenum,n="asm"===e,i="";if(t.buf)r!==a.OP_PUSHDATA1&&r!==a.OP_PUSHDATA2&&r!==a.OP_PUSHDATA4||(i=i+" "+a(r).toString()),t.len>0&&(i=n?i+" "+t.buf.toString("hex"):i+" "+t.len+" 0x"+t.buf.toString("hex"));else if(void 0!==a.reverseMap[r])i=i+" "+a(r).toString();else{var o=r.toString(16);o.length%2!=0&&(o="0"+o),i=n?i+" "+o:i+" 0x"+o}return i},v.prototype.toASM=function(){for(var t="",e=0;e<this.chunks.length;e++){var r=this.chunks[e];t+=this._chunkToString(r,"asm")}return t.substr(1)},v.prototype.toString=function(){for(var t="",e=0;e<this.chunks.length;e++){var r=this.chunks[e];t+=this._chunkToString(r)}return t.substr(1)},v.prototype.toHex=function(){return this.toBuffer().toString("hex")},v.prototype.inspect=function(){return"<Script: "+this.toString()+">"},v.prototype.isPublicKeyHashOut=function(){return!(5!==this.chunks.length||this.chunks[0].opcodenum!==a.OP_DUP||this.chunks[1].opcodenum!==a.OP_HASH160||!this.chunks[2].buf||20!==this.chunks[2].buf.length||this.chunks[3].opcodenum!==a.OP_EQUALVERIFY||this.chunks[4].opcodenum!==a.OP_CHECKSIG)},v.prototype.isPublicKeyHashIn=function(){if(2===this.chunks.length){var t=this.chunks[0].buf,e=this.chunks[1].buf;if(t&&t.length&&48===t[0]&&e&&e.length){var r=e[0];if((4===r||6===r||7===r)&&65===e.length)return!0;if((3===r||2===r)&&33===e.length)return!0}}return!1},v.prototype.getPublicKey=function(){return l.checkState(this.isPublicKeyOut(),"Can't retreive PublicKey from a non-PK output"),this.chunks[0].buf},v.prototype.getPublicKeyHash=function(){return l.checkState(this.isPublicKeyHashOut(),"Can't retrieve PublicKeyHash from a non-PKH output"),this.chunks[2].buf},v.prototype.isPublicKeyOut=function(){if(2===this.chunks.length&&this.chunks[0].buf&&this.chunks[0].buf.length&&this.chunks[1].opcodenum===a.OP_CHECKSIG){var t=this.chunks[0].buf,e=t[0],r=!1;if((4!==e&&6!==e&&7!==e||65!==t.length)&&(3!==e&&2!==e||33!==t.length)||(r=!0),r)return u.isValid(t)}return!1},v.prototype.isPublicKeyIn=function(){if(1===this.chunks.length){var t=this.chunks[0].buf;if(t&&t.length&&48===t[0])return!0}return!1},v.prototype.isScriptHashOut=function(){var t=this.toBuffer();return 23===t.length&&t[0]===a.OP_HASH160&&20===t[1]&&t[t.length-1]===a.OP_EQUAL},v.prototype.isScriptHashIn=function(){if(this.chunks.length<=1)return!1;var t,e=this.chunks[this.chunks.length-1].buf;if(!e)return!1;try{t=v.fromBuffer(e)}catch(t){if(t instanceof p.Script.InvalidBuffer)return!1;throw t}return t.classify()!==v.types.UNKNOWN},v.prototype.isMultisigOut=function(){return this.chunks.length>3&&a.isSmallIntOp(this.chunks[0].opcodenum)&&this.chunks.slice(1,this.chunks.length-2).every(function(t){return t.buf&&m.isBuffer(t.buf)})&&a.isSmallIntOp(this.chunks[this.chunks.length-2].opcodenum)&&this.chunks[this.chunks.length-1].opcodenum===a.OP_CHECKMULTISIG},v.prototype.isMultisigIn=function(){return this.chunks.length>=2&&0===this.chunks[0].opcodenum&&this.chunks.slice(1,this.chunks.length).every(function(t){return t.buf&&m.isBuffer(t.buf)&&c.isTxDER(t.buf)})},v.prototype.isDataOut=function(){return this.chunks.length>=1&&this.chunks[0].opcodenum===a.OP_RETURN&&(1===this.chunks.length||2===this.chunks.length&&this.chunks[1].buf&&this.chunks[1].buf.length<=v.OP_RETURN_STANDARD_SIZE&&this.chunks[1].length===this.chunks.len)},v.prototype.getData=function(){if(this.isDataOut()||this.isScriptHashOut())return h.isUndefined(this.chunks[1])?new e(0):new e(this.chunks[1].buf);if(this.isPublicKeyHashOut())return new e(this.chunks[2].buf);throw new Error("Unrecognized script type to get data from")},v.prototype.isPushOnly=function(){return h.every(this.chunks,function(t){return t.opcodenum<=a.OP_16})},(v.types={}).UNKNOWN="Unknown",v.types.PUBKEY_OUT="Pay to public key",v.types.PUBKEY_IN="Spend from public key",v.types.PUBKEYHASH_OUT="Pay to public key hash",v.types.PUBKEYHASH_IN="Spend from public key hash",v.types.SCRIPTHASH_OUT="Pay to script hash",v.types.SCRIPTHASH_IN="Spend from script hash",v.types.MULTISIG_OUT="Pay to multisig",v.types.MULTISIG_IN="Spend from multisig",v.types.DATA_OUT="Data push",v.OP_RETURN_STANDARD_SIZE=80,v.prototype.classify=function(){if(this._isInput)return this.classifyInput();if(this._isOutput)return this.classifyOutput();var t=this.classifyOutput();return t!=v.types.UNKNOWN?t:this.classifyInput()},(v.outputIdentifiers={}).PUBKEY_OUT=v.prototype.isPublicKeyOut,v.outputIdentifiers.PUBKEYHASH_OUT=v.prototype.isPublicKeyHashOut,v.outputIdentifiers.MULTISIG_OUT=v.prototype.isMultisigOut,v.outputIdentifiers.SCRIPTHASH_OUT=v.prototype.isScriptHashOut,v.outputIdentifiers.DATA_OUT=v.prototype.isDataOut,v.prototype.classifyOutput=function(){for(var t in v.outputIdentifiers)if(v.outputIdentifiers[t].bind(this)())return v.types[t];return v.types.UNKNOWN},(v.inputIdentifiers={}).PUBKEY_IN=v.prototype.isPublicKeyIn,v.inputIdentifiers.PUBKEYHASH_IN=v.prototype.isPublicKeyHashIn,v.inputIdentifiers.MULTISIG_IN=v.prototype.isMultisigIn,v.inputIdentifiers.SCRIPTHASH_IN=v.prototype.isScriptHashIn,v.prototype.classifyInput=function(){for(var t in v.inputIdentifiers)if(v.inputIdentifiers[t].bind(this)())return v.types[t];return v.types.UNKNOWN},v.prototype.isStandard=function(){return this.classify()!==v.types.UNKNOWN},v.prototype.prepend=function(t){return this._addByType(t,!0),this},v.prototype.equals=function(t){if(l.checkState(t instanceof v,"Must provide another script"),this.chunks.length!==t.chunks.length)return!1;var e;for(e=0;e<this.chunks.length;e++){if(m.isBuffer(this.chunks[e].buf)&&!m.isBuffer(t.chunks[e].buf))return!1;if(m.isBuffer(this.chunks[e].buf)&&!m.equals(this.chunks[e].buf,t.chunks[e].buf))return!1;if(this.chunks[e].opcodenum!==t.chunks[e].opcodenum)return!1}return!0},v.prototype.add=function(t){return this._addByType(t,!1),this},v.prototype._addByType=function(t,e){if("string"==typeof t)this._addOpcode(t,e);else if("number"==typeof t)this._addOpcode(t,e);else if(t instanceof a)this._addOpcode(t,e);else if(m.isBuffer(t))this._addBuffer(t,e);else if(t instanceof v)this.chunks=this.chunks.concat(t.chunks);else{if("object"!=typeof t)throw new Error("Invalid script chunk");this._insertAtPosition(t,e)}},v.prototype._insertAtPosition=function(t,e){e?this.chunks.unshift(t):this.chunks.push(t)},v.prototype._addOpcode=function(t,e){var r;return r="number"==typeof t?t:t instanceof a?t.toNumber():a(t).toNumber(),this._insertAtPosition({opcodenum:r},e),this},v.prototype._addBuffer=function(t,e){var r,n=t.length;if(n>=0&&n<a.OP_PUSHDATA1)r=n;else if(n<Math.pow(2,8))r=a.OP_PUSHDATA1;else if(n<Math.pow(2,16))r=a.OP_PUSHDATA2;else{if(!(n<Math.pow(2,32)))throw new Error("You can't push that much data");r=a.OP_PUSHDATA4}return this._insertAtPosition({buf:t,len:n,opcodenum:r},e),this},v.prototype.removeCodeseparators=function(){for(var t=[],e=0;e<this.chunks.length;e++)this.chunks[e].opcodenum!==a.OP_CODESEPARATOR&&t.push(this.chunks[e]);return this.chunks=t,this},v.buildMultisigOut=function(t,e,r){l.checkArgument(e<=t.length,"Number of required signatures must be less than or equal to the number of public keys"),r=r||{};var n=new v;n.add(a.smallInt(e));var i=t=h.map(t,u);r.noSorting||(i=h.sortBy(t,function(t){return t.toString("hex")}));for(var o=0;o<i.length;o++){var s=i[o];n.add(s.toBuffer())}return n.add(a.smallInt(t.length)),n.add(a.OP_CHECKMULTISIG),n},v.buildMultisigIn=function(t,e,r,n){l.checkArgument(h.isArray(t)),l.checkArgument(h.isNumber(e)),l.checkArgument(h.isArray(r)),n=n||{};var i=new v;return i.add(a.OP_0),h.each(r,function(t){l.checkArgument(m.isBuffer(t),"Signatures must be an array of Buffers"),i.add(t)}),i},v.buildP2SHMultisigIn=function(t,e,r,n){l.checkArgument(h.isArray(t)),l.checkArgument(h.isNumber(e)),l.checkArgument(h.isArray(r)),n=n||{};var i=new v;return i.add(a.OP_0),h.each(r,function(t){l.checkArgument(m.isBuffer(t),"Signatures must be an array of Buffers"),i.add(t)}),i.add((n.cachedMultisig||v.buildMultisigOut(t,e,n)).toBuffer()),i},v.buildPublicKeyHashOut=function(t){l.checkArgument(!h.isUndefined(t)),l.checkArgument(t instanceof u||t instanceof n||h.isString(t)),t instanceof u?t=t.toAddress():h.isString(t)&&(t=new n(t));var e=new v;return e.add(a.OP_DUP).add(a.OP_HASH160).add(t.hashBuffer).add(a.OP_EQUALVERIFY).add(a.OP_CHECKSIG),e._network=t.network,e},v.buildPublicKeyOut=function(t){l.checkArgument(t instanceof u);var e=new v;return e.add(t.toBuffer()).add(a.OP_CHECKSIG),e},v.buildDataOut=function(t,r){l.checkArgument(h.isUndefined(t)||h.isString(t)||m.isBuffer(t)),h.isString(t)&&(t=new e(t,r));var n=new v;return n.add(a.OP_RETURN),h.isUndefined(t)||n.add(t),n},v.buildScriptHashOut=function(t){l.checkArgument(t instanceof v||t instanceof n&&t.isPayToScriptHash());var e=new v;return e.add(a.OP_HASH160).add(t instanceof n?t.hashBuffer:s.sha256ripemd160(t.toBuffer())).add(a.OP_EQUAL),e._network=t._network||t.network,e},v.buildPublicKeyIn=function(t,e){l.checkArgument(t instanceof c||m.isBuffer(t)),l.checkArgument(h.isUndefined(e)||h.isNumber(e)),t instanceof c&&(t=t.toBuffer());var r=new v;return r.add(m.concat([t,m.integerAsSingleByteBuffer(e||c.SIGHASH_ALL)])),r},v.buildPublicKeyHashIn=function(t,e,r){return l.checkArgument(e instanceof c||m.isBuffer(e)),l.checkArgument(h.isUndefined(r)||h.isNumber(r)),e instanceof c&&(e=e.toBuffer()),(new v).add(m.concat([e,m.integerAsSingleByteBuffer(r||c.SIGHASH_ALL)])).add(new u(t).toBuffer())},v.empty=function(){return new v},v.prototype.toScriptHashOut=function(){return v.buildScriptHashOut(this)},v.fromAddress=function(t){if((t=n(t)).isPayToScriptHash())return v.buildScriptHashOut(t);if(t.isPayToPublicKeyHash())return v.buildPublicKeyHashOut(t);throw new p.Script.UnrecognizedAddress(t)},v.prototype.getAddressInfo=function(t){if(this._isInput)return this._getInputAddressInfo();if(this._isOutput)return this._getOutputAddressInfo();var e=this._getOutputAddressInfo();return e||this._getInputAddressInfo()},v.prototype._getOutputAddressInfo=function(){var t={};if(this.isScriptHashOut())t.hashBuffer=this.getData(),t.type=n.PayToScriptHash;else{if(!this.isPublicKeyHashOut())return!1;t.hashBuffer=this.getData(),t.type=n.PayToPublicKeyHash}return t},v.prototype._getInputAddressInfo=function(){var t={};if(this.isPublicKeyHashIn())t.hashBuffer=s.sha256ripemd160(this.chunks[1].buf),t.type=n.PayToPublicKeyHash;else{if(!this.isScriptHashIn())return!1;t.hashBuffer=s.sha256ripemd160(this.chunks[this.chunks.length-1].buf),t.type=n.PayToScriptHash}return t},v.prototype.toAddress=function(t){var e=this.getAddressInfo();return!!e&&(e.network=f.get(t)||this._network||f.defaultNetwork,new n(e))},v.prototype.findAndDelete=function(t){for(var e=t.toBuffer().toString("hex"),r=0;r<this.chunks.length;r++){e===v({chunks:[this.chunks[r]]}).toBuffer().toString("hex")&&this.chunks.splice(r,1)}return this},v.prototype.checkMinimalPush=function(t){var e=this.chunks[t],r=e.buf,n=e.opcodenum;return!r||(0===r.length?n===a.OP_0:1===r.length&&r[0]>=1&&r[0]<=16?n===a.OP_1+(r[0]-1):1===r.length&&129===r[0]?n===a.OP_1NEGATE:r.length<=75?n===r.length:r.length<=255?n===a.OP_PUSHDATA1:!(r.length<=65535)||n===a.OP_PUSHDATA2)},v.prototype._decodeOP_N=function(t){if(t===a.OP_0)return 0;if(t>=a.OP_1&&t<=a.OP_16)return t-(a.OP_1-1);throw new Error("Invalid opcode: "+JSON.stringify(t))},v.prototype.getSignatureOperationsCount=function(t){t=!!h.isUndefined(t)||t;var e=this,r=0,n=a.OP_INVALIDOPCODE;return h.each(e.chunks,function(i){var o=i.opcodenum;o==a.OP_CHECKSIG||o==a.OP_CHECKSIGVERIFY?r++:o!=a.OP_CHECKMULTISIG&&o!=a.OP_CHECKMULTISIGVERIFY||(t&&n>=a.OP_1&&n<=a.OP_16?r+=e._decodeOP_N(n):r+=20),n=o}),r},t.exports=v}).call(this,r(0).Buffer)},function(t,e){for(var r="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",n={},i=0;i<r.length;i++)n[r.charAt(i)]=i;var o=58;t.exports={encode:function(t){if(0===t.length)return"";var e,n,i=[0];for(e=0;e<t.length;e++){for(n=0;n<i.length;n++)i[n]<<=8;i[0]+=t[e];var s=0;for(n=0;n<i.length;++n)i[n]+=s,s=i[n]/o|0,i[n]%=o;for(;s;)i.push(s%o),s=s/o|0}for(e=0;0===t[e]&&e<t.length-1;e++)i.push(0);return i.reverse().map(function(t){return r[t]}).join("")},decode:function(t){if(0===t.length)return[];var e,r,i=[0];for(e=0;e<t.length;e++){var s=t[e];if(!(s in n))throw new Error("Non-base58 character");for(r=0;r<i.length;r++)i[r]*=o;i[0]+=n[s];var a=0;for(r=0;r<i.length;++r)i[r]+=a,a=i[r]>>8,i[r]&=255;for(;a;)i.push(255&a),a>>=8}for(e=0;"1"===t[e]&&e<t.length-1;e++)i.push(0);return i.reverse()}}},function(t,e,r){"use strict";(function(e){var n=r(32),i=r(124),o=r(58),s=r(64),a=r(193),u=r(40),c=r(21),f=r(14),l=r(16),h=function t(e){if(!(this instanceof t))return new t(e);e&&this.set(e)};h.prototype.set=function(t){return this.hashbuf=t.hashbuf||this.hashbuf,this.endian=t.endian||this.endian,this.privkey=t.privkey||this.privkey,this.pubkey=t.pubkey||(this.privkey?this.privkey.publicKey:this.pubkey),this.sig=t.sig||this.sig,this.k=t.k||this.k,this.verified=t.verified||this.verified,this},h.prototype.privkey2pubkey=function(){this.pubkey=this.privkey.toPublicKey()},h.prototype.calci=function(){for(var t=0;t<4;t++){var e;this.sig.i=t;try{e=this.toPublicKey()}catch(t){console.error(t);continue}if(e.point.eq(this.pubkey.point))return this.sig.compressed=this.pubkey.compressed,this}throw this.sig.i=void 0,new Error("Unable to find valid recovery factor")},h.fromString=function(t){var e=JSON.parse(t);return new h(e)},h.prototype.randomK=function(){var t,e=i.getN();do{t=n.fromBuffer(a.getRandomBuffer(32))}while(!t.lt(e)||!t.gt(n.Zero));return this.k=t,this},h.prototype.deterministicK=function(t){f.isUndefined(t)&&(t=0);var r=new e(32);r.fill(1);var o=new e(32);o.fill(0);var s=this.privkey.bn.toBuffer({size:32}),a="little"===this.endian?c.reverse(this.hashbuf):this.hashbuf;o=u.sha256hmac(e.concat([r,new e([0]),s,a]),o),r=u.sha256hmac(r,o),o=u.sha256hmac(e.concat([r,new e([1]),s,a]),o),r=u.sha256hmac(r,o),r=u.sha256hmac(r,o);for(var l=n.fromBuffer(r),h=i.getN(),p=0;p<t||!l.lt(h)||!l.gt(n.Zero);p++)o=u.sha256hmac(e.concat([r,new e([0])]),o),r=u.sha256hmac(r,o),r=u.sha256hmac(r,o),l=n.fromBuffer(r);return this.k=l,this},h.prototype.toPublicKey=function(){var t=this.sig.i;l.checkArgument(0===t||1===t||2===t||3===t,new Error("i must be equal to 0, 1, 2, or 3"));var e=n.fromBuffer(this.hashbuf),r=this.sig.r,o=this.sig.s,a=1&t,u=t>>1,c=i.getN(),f=i.getG(),h=u?r.add(c):r,p=i.fromX(a,h);if(!p.mul(c).isInfinity())throw new Error("nR is not a valid curve point");var d=e.neg().mod(c),m=r.invm(c),g=p.mul(o).add(f.mul(d)).mul(m);return s.fromPoint(g,this.sig.compressed)},h.prototype.sigError=function(){if(!c.isBuffer(this.hashbuf)||32!==this.hashbuf.length)return"hashbuf must be a 32 byte buffer";var t=this.sig.r,e=this.sig.s;if(!(t.gt(n.Zero)&&t.lt(i.getN())&&e.gt(n.Zero)&&e.lt(i.getN())))return"r and s not in range";var r=n.fromBuffer(this.hashbuf,this.endian?{endian:this.endian}:void 0),o=i.getN(),s=e.invm(o),a=s.mul(r).mod(o),u=s.mul(t).mod(o),f=i.getG().mulAdd(a,this.pubkey.point,u);return f.isInfinity()?"p is infinity":0!==f.getX().mod(o).cmp(t)&&"Invalid signature"},h.toLowS=function(t){return t.gt(n.fromBuffer(new e("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))&&(t=i.getN().sub(t)),t},h.prototype._findSignature=function(t,e){var r,o,s,a=i.getN(),u=i.getG(),c=0;do{(!this.k||c>0)&&this.deterministicK(c),c++,r=this.k,o=u.mul(r).x.mod(a),s=r.invm(a).mul(e.add(t.mul(o))).mod(a)}while(o.cmp(n.Zero)<=0||s.cmp(n.Zero)<=0);return{s:s=h.toLowS(s),r:o}},h.prototype.sign=function(){var t=this.hashbuf,e=this.privkey,r=e.bn;l.checkState(t&&e&&r,new Error("invalid parameters")),l.checkState(c.isBuffer(t)&&32===t.length,new Error("hashbuf must be a 32 byte buffer"));var i=n.fromBuffer(t,this.endian?{endian:this.endian}:void 0),s=this._findSignature(r,i);return s.compressed=this.pubkey.compressed,this.sig=new o(s),this},h.prototype.signRandomK=function(){return this.randomK(),this.sign()},h.prototype.toString=function(){var t={};return this.hashbuf&&(t.hashbuf=this.hashbuf.toString("hex")),this.privkey&&(t.privkey=this.privkey.toString()),this.pubkey&&(t.pubkey=this.pubkey.toString()),this.sig&&(t.sig=this.sig.toString()),this.k&&(t.k=this.k.toString()),JSON.stringify(t)},h.prototype.verify=function(){return this.sigError()?this.verified=!1:this.verified=!0,this},h.sign=function(t,e,r){return h().set({hashbuf:t,endian:r,privkey:e}).sign().sig},h.verify=function(t,e,r,n){return h().set({hashbuf:t,endian:n,sig:e,pubkey:r}).verify().verified},t.exports=h}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e){const n=r(1188).Block,i=r(18),o=r(38),s=r(229),a=t=>{const e=o.encode(t,"dbl-sha2-256");return new i(1,"zcash-block",e)};t.exports={hashToCid:a,cid:(t,r)=>{let n,i=null;try{const o=s().update(t.header.toBuffer(!0)).digest(),u=s().update(e.from(o)).digest();n=a(e.from(u))}catch(t){i=t}finally{r(i,n)}},deserialize:(t,e)=>{let r,i=null;try{r=n.fromBuffer(t)}catch(t){i=t}finally{e(i,r)}},serialize:(t,e)=>{let r,n=null;try{r=t.toBuffer()}catch(t){n=t}finally{e(n,r)}}}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(1195),i=r(149);t.exports=i("eth-tx",n,function(t,e,r){const n=[];n.push({path:"nonce",value:t.nonce}),n.push({path:"gasPrice",value:t.gasPrice}),n.push({path:"gasLimit",value:t.gasLimit}),n.push({path:"toAddress",value:t.to}),n.push({path:"value",value:t.value}),n.push({path:"data",value:t.data}),n.push({path:"v",value:t.v}),n.push({path:"r",value:t.r}),n.push({path:"s",value:t.s}),n.push({path:"fromAddress",value:t.from}),n.push({path:"signature",value:[t.v,t.r,t.s]}),n.push({path:"isContractPublish",value:t.toCreationAddress()}),r(null,n)})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){(0,n.default)(t,(0,i.default)((0,o.default)(e)),r)};var n=s(r(1207)),i=s(r(1201)),o=s(r(199));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){(function(e){const n=r(1215),i=r(1209),o=n.BN;var s=t.exports=function(t){var r=[{name:"parentHash",length:32,default:n.zeros(32)},{name:"uncleHash",default:n.SHA3_RLP_ARRAY},{name:"coinbase",length:20,default:n.zeros(20)},{name:"stateRoot",length:32,default:n.zeros(32)},{name:"transactionsTrie",length:32,default:n.SHA3_RLP},{name:"receiptTrie",length:32,default:n.SHA3_RLP},{name:"bloom",default:n.zeros(256)},{name:"difficulty",default:new e([])},{name:"number",default:n.intToBuffer(i.homeSteadForkNumber.v)},{name:"gasLimit",default:new e("ffffffffffffff","hex")},{name:"gasUsed",empty:!0,default:new e([])},{name:"timestamp",default:new e([])},{name:"extraData",allowZero:!0,empty:!0,default:new e([])},{name:"mixHash",default:n.zeros(32)},{name:"nonce",default:new e([])}];n.defineProperties(this,r,t)};s.prototype.canonicalDifficulty=function(t){const e=new o(this.timestamp),r=new o(t.header.timestamp),s=new o(t.header.difficulty),a=new o(i.minimumDifficulty.v);var u,c=s.div(new o(i.difficultyBoundDivisor.v)),f=t.header.uncleHash.equals(n.SHA3_RLP_ARRAY)?1:2,l=e.sub(r).idivn(9).ineg().iaddn(f),h=new o(-99);1===h.cmp(l)&&(l=h),u=s.add(c.mul(l));var p=new o(this.number).isubn(3e6);p.ltn(0)&&(p=new o(0));var d=p.idivn(1e5).isubn(2);return d.isNeg()||u.iadd(new o(2).pow(d)),-1===u.cmp(a)&&(u=a),u},s.prototype.validateDifficulty=function(t){return 0===this.canonicalDifficulty(t).cmp(new o(this.difficulty))},s.prototype.validateGasLimit=function(t){const e=new o(t.header.gasLimit),r=new o(this.gasLimit),n=e.div(new o(i.gasLimitBoundDivisor.v)),s=e.add(n),a=e.sub(n);return r.lt(s)&&r.gt(a)&&r.gte(i.minGasLimit.v)},s.prototype.validate=function(t,e,r){var s=this;if(2===arguments.length&&(r=e,e=!1),this.isGenesis())return r();t.getBlock(s.parentHash,function(t,a){if(t)return r("could not find parent block");if(s.parentBlock=a,0!==new o(s.number).cmp(new o(a.header.number).iaddn(1)))return r("invalid number");if(e){var u=e.sub(new o(a.header.number));if(-1!==u.cmpn(8)||1!==u.cmpn(1))return r("uncle block has a parent that is too old or to young")}return s.validateDifficulty(a)?s.validateGasLimit(a)?n.bufferToInt(a.header.number)+1!==n.bufferToInt(s.number)?r("invalid heigth"):n.bufferToInt(s.timestamp)<=n.bufferToInt(a.header.timestamp)?r("invalid timestamp"):s.extraData.length>i.maximumExtraDataSize.v?r("invalid amount of extra data"):void r():r("invalid gas limit"):r("invalid Difficulty")})},s.prototype.hash=function(){return n.rlphash(this.raw)},s.prototype.isGenesis=function(){return""===this.number.toString("hex")}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(524),i=r(150),o=r(149);t.exports=o("eth-block",n,function(t,e,r){const n=[];n.push({path:"parent",value:{"/":i("eth-block",t.parentHash).toBaseEncodedString()}}),n.push({path:"ommers",value:{"/":i("eth-block-list",t.uncleHash).toBaseEncodedString()}}),n.push({path:"transactions",value:{"/":i("eth-tx-trie",t.transactionsTrie).toBaseEncodedString()}}),n.push({path:"transactionReceipts",value:{"/":i("eth-tx-receipt-trie",t.receiptTrie).toBaseEncodedString()}}),n.push({path:"state",value:{"/":i("eth-state-trie",t.stateRoot).toBaseEncodedString()}}),n.push({path:"parentHash",value:t.parentHash}),n.push({path:"ommerHash",value:t.uncleHash}),n.push({path:"transactionTrieRoot",value:t.transactionsTrie}),n.push({path:"transactionReceiptTrieRoot",value:t.receiptTrie}),n.push({path:"stateRoot",value:t.stateRoot}),n.push({path:"authorAddress",value:t.coinbase}),n.push({path:"bloom",value:t.bloom}),n.push({path:"difficulty",value:t.difficulty}),n.push({path:"number",value:t.number}),n.push({path:"gasLimit",value:t.gasLimit}),n.push({path:"gasUsed",value:t.gasUsed}),n.push({path:"timestamp",value:t.timestamp}),n.push({path:"extraData",value:t.extraData}),n.push({path:"mixHash",value:t.mixHash}),n.push({path:"nonce",value:t.nonce}),r(null,n)})},function(t,e,r){"use strict";const n=r(150);t.exports=function(t,e){const r=e.hash();return n(t,r)}},function(t,e,r){const n=r(526),i=r(198);t.exports=function(t,e){return{deserialize:i(t=>new e(t)),serialize:i(t=>t.serialize()),cid:i(e=>n(t,e))}}},function(t,e){t.exports=function(t){return function(e,r,n){t(e,r,(t,e)=>t?n(t):e.remainderPath.length>0?n(new Error("path out of scope")):void("object"==typeof e.value&&e.value["/"]?n(null,e.value):n(null,!1)))}}},function(t,e,r){"use strict";var n=r(1221),i=r(1220),o=r(314);function s(t,e){return void 0===t?e:(n.isBoolean(t,o.COMPRESSED_TYPE_INVALID),t)}t.exports=function(t){return{privateKeyVerify:function(e){return n.isBuffer(e,o.EC_PRIVATE_KEY_TYPE_INVALID),32===e.length&&t.privateKeyVerify(e)},privateKeyExport:function(e,r){n.isBuffer(e,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(e,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),r=s(r,!0);var a=t.privateKeyExport(e,r);return i.privateKeyExport(e,a,r)},privateKeyImport:function(e){if(n.isBuffer(e,o.EC_PRIVATE_KEY_TYPE_INVALID),(e=i.privateKeyImport(e))&&32===e.length&&t.privateKeyVerify(e))return e;throw new Error(o.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyNegate:function(e){return n.isBuffer(e,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(e,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),t.privateKeyNegate(e)},privateKeyModInverse:function(e){return n.isBuffer(e,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(e,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),t.privateKeyModInverse(e)},privateKeyTweakAdd:function(e,r){return n.isBuffer(e,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(e,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),t.privateKeyTweakAdd(e,r)},privateKeyTweakMul:function(e,r){return n.isBuffer(e,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(e,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),t.privateKeyTweakMul(e,r)},publicKeyCreate:function(e,r){return n.isBuffer(e,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(e,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),r=s(r,!0),t.publicKeyCreate(e,r)},publicKeyConvert:function(e,r){return n.isBuffer(e,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(e,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),r=s(r,!0),t.publicKeyConvert(e,r)},publicKeyVerify:function(e){return n.isBuffer(e,o.EC_PUBLIC_KEY_TYPE_INVALID),t.publicKeyVerify(e)},publicKeyTweakAdd:function(e,r,i){return n.isBuffer(e,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(e,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),i=s(i,!0),t.publicKeyTweakAdd(e,r,i)},publicKeyTweakMul:function(e,r,i){return n.isBuffer(e,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(e,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),i=s(i,!0),t.publicKeyTweakMul(e,r,i)},publicKeyCombine:function(e,r){n.isArray(e,o.EC_PUBLIC_KEYS_TYPE_INVALID),n.isLengthGTZero(e,o.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var i=0;i<e.length;++i)n.isBuffer(e[i],o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(e[i],33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID);return r=s(r,!0),t.publicKeyCombine(e,r)},signatureNormalize:function(e){return n.isBuffer(e,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(e,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),t.signatureNormalize(e)},signatureExport:function(e){n.isBuffer(e,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(e,64,o.ECDSA_SIGNATURE_LENGTH_INVALID);var r=t.signatureExport(e);return i.signatureExport(r)},signatureImport:function(e){n.isBuffer(e,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(e,o.ECDSA_SIGNATURE_LENGTH_INVALID);var r=i.signatureImport(e);if(r)return t.signatureImport(r);throw new Error(o.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(e){n.isBuffer(e,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(e,o.ECDSA_SIGNATURE_LENGTH_INVALID);var r=i.signatureImportLax(e);if(r)return t.signatureImport(r);throw new Error(o.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(e,r,i){n.isBuffer(e,o.MSG32_TYPE_INVALID),n.isBufferLength(e,32,o.MSG32_LENGTH_INVALID),n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID);var s=null,a=null;return void 0!==i&&(n.isObject(i,o.OPTIONS_TYPE_INVALID),void 0!==i.data&&(n.isBuffer(i.data,o.OPTIONS_DATA_TYPE_INVALID),n.isBufferLength(i.data,32,o.OPTIONS_DATA_LENGTH_INVALID),s=i.data),void 0!==i.noncefn&&(n.isFunction(i.noncefn,o.OPTIONS_NONCEFN_TYPE_INVALID),a=i.noncefn)),t.sign(e,r,a,s)},verify:function(e,r,i){return n.isBuffer(e,o.MSG32_TYPE_INVALID),n.isBufferLength(e,32,o.MSG32_LENGTH_INVALID),n.isBuffer(r,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),n.isBuffer(i,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(i,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),t.verify(e,r,i)},recover:function(e,r,i,a){return n.isBuffer(e,o.MSG32_TYPE_INVALID),n.isBufferLength(e,32,o.MSG32_LENGTH_INVALID),n.isBuffer(r,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),n.isNumber(i,o.RECOVERY_ID_TYPE_INVALID),n.isNumberInInterval(i,-1,4,o.RECOVERY_ID_VALUE_INVALID),a=s(a,!0),t.recover(e,r,i,a)},ecdh:function(e,r){return n.isBuffer(e,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(e,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),t.ecdh(e,r)},ecdhUnsafe:function(e,r,i){return n.isBuffer(e,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(e,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),i=s(i,!0),t.ecdhUnsafe(e,r,i)}}}},function(t,e,r){"use strict";(function(e){const n=r(1226),i=r(150),o=r(149),s=r(1216);t.exports=o("eth-account-snapshot",n,function(t,r,n){const o=[];o.push({path:"storage",value:{"/":i("eth-storage-trie",t.stateRoot).toBaseEncodedString()}}),s.equals(t.codeHash)?o.push({path:"code",value:e.from("")}):o.push({path:"code",value:{"/":i("raw",t.codeHash).toBaseEncodedString()}});o.push({path:"stateRoot",value:t.stateRoot}),o.push({path:"codeHash",value:t.codeHash}),o.push({path:"nonce",value:t.nonce}),o.push({path:"balance",value:t.balance}),o.push({path:"isEmpty",value:t.isEmpty()}),o.push({path:"isContract",value:t.isContract()}),n(null,o)})}).call(this,r(0).Buffer)},function(t,e,r){var n=r(17),i=r(99),o=r(532);function s(t,e,r,n,s,a,u){this.p=t,this.a=e,this.b=r,this.G=o.fromAffine(this,n,s),this.n=a,this.h=u,this.infinity=new o(this,null,null,i.ZERO),this.pOverFour=t.add(i.ONE).shiftRight(2),this.pLength=Math.floor((this.p.bitLength()+7)/8)}s.prototype.pointFromX=function(t,e){var r=e.pow(3).add(this.a.multiply(e)).add(this.b).mod(this.p).modPow(this.pOverFour,this.p),n=r;return r.isEven()^!t&&(n=this.p.subtract(n)),o.fromAffine(this,e,n)},s.prototype.isInfinity=function(t){return t===this.infinity||0===t.z.signum()&&0!==t.y.signum()},s.prototype.isOnCurve=function(t){if(this.isInfinity(t))return!0;var e=t.affineX,r=t.affineY,n=this.a,i=this.b,o=this.p;if(e.signum()<0||e.compareTo(o)>=0)return!1;if(r.signum()<0||r.compareTo(o)>=0)return!1;var s=r.square().mod(o),a=e.pow(3).add(n.multiply(e)).add(i).mod(o);return s.equals(a)},s.prototype.validate=function(t){n(!this.isInfinity(t),"Point is at infinity"),n(this.isOnCurve(t),"Point is not on the curve");var e=t.multiply(this.n);return n(this.isInfinity(e),"Point is not a scalar multiple of G"),!0},t.exports=s},function(t,e,r){var n=r(17),i=r(3).Buffer,o=r(99),s=o.valueOf(3);function a(t,e,r,i){n.notStrictEqual(i,void 0,"Missing Z coordinate"),this.curve=t,this.x=e,this.y=r,this.z=i,this._zInv=null,this.compressed=!0}Object.defineProperty(a.prototype,"zInv",{get:function(){return null===this._zInv&&(this._zInv=this.z.modInverse(this.curve.p)),this._zInv}}),Object.defineProperty(a.prototype,"affineX",{get:function(){return this.x.multiply(this.zInv).mod(this.curve.p)}}),Object.defineProperty(a.prototype,"affineY",{get:function(){return this.y.multiply(this.zInv).mod(this.curve.p)}}),a.fromAffine=function(t,e,r){return new a(t,e,r,o.ONE)},a.prototype.equals=function(t){return t===this||(this.curve.isInfinity(this)?this.curve.isInfinity(t):this.curve.isInfinity(t)?this.curve.isInfinity(this):0===t.y.multiply(this.z).subtract(this.y.multiply(t.z)).mod(this.curve.p).signum()&&0===t.x.multiply(this.z).subtract(this.x.multiply(t.z)).mod(this.curve.p).signum())},a.prototype.negate=function(){var t=this.curve.p.subtract(this.y);return new a(this.curve,this.x,t,this.z)},a.prototype.add=function(t){if(this.curve.isInfinity(this))return t;if(this.curve.isInfinity(t))return this;var e=this.x,r=this.y,n=t.x,i=t.y.multiply(this.z).subtract(r.multiply(t.z)).mod(this.curve.p),o=n.multiply(this.z).subtract(e.multiply(t.z)).mod(this.curve.p);if(0===o.signum())return 0===i.signum()?this.twice():this.curve.infinity;var u=o.square(),c=u.multiply(o),f=e.multiply(u),l=i.square().multiply(this.z),h=l.subtract(f.shiftLeft(1)).multiply(t.z).subtract(c).multiply(o).mod(this.curve.p),p=f.multiply(s).multiply(i).subtract(r.multiply(c)).subtract(l.multiply(i)).multiply(t.z).add(i.multiply(c)).mod(this.curve.p),d=c.multiply(this.z).multiply(t.z).mod(this.curve.p);return new a(this.curve,h,p,d)},a.prototype.twice=function(){if(this.curve.isInfinity(this))return this;if(0===this.y.signum())return this.curve.infinity;var t=this.x,e=this.y,r=e.multiply(this.z).mod(this.curve.p),n=r.multiply(e).mod(this.curve.p),i=this.curve.a,o=t.square().multiply(s);0!==i.signum()&&(o=o.add(this.z.square().multiply(i)));var u=(o=o.mod(this.curve.p)).square().subtract(t.shiftLeft(3).multiply(n)).shiftLeft(1).multiply(r).mod(this.curve.p),c=o.multiply(s).multiply(t).subtract(n.shiftLeft(1)).shiftLeft(2).multiply(n).subtract(o.pow(3)).mod(this.curve.p),f=r.pow(3).shiftLeft(3).mod(this.curve.p);return new a(this.curve,u,c,f)},a.prototype.multiply=function(t){if(this.curve.isInfinity(this))return this;if(0===t.signum())return this.curve.infinity;for(var e=t,r=e.multiply(s),n=this.negate(),i=this,o=r.bitLength()-2;o>0;--o){var a=r.testBit(o),u=e.testBit(o);i=i.twice(),a!==u&&(i=i.add(a?this:n))}return i},a.prototype.multiplyTwo=function(t,e,r){for(var n=Math.max(t.bitLength(),r.bitLength())-1,i=this.curve.infinity,o=this.add(e);n>=0;){var s=t.testBit(n),a=r.testBit(n);i=i.twice(),s?i=a?i.add(o):i.add(this):a&&(i=i.add(e)),--n}return i},a.prototype.getEncoded=function(t){if(null==t&&(t=this.compressed),this.curve.isInfinity(this))return i.alloc(1,0);var e,r=this.affineX,n=this.affineY,o=this.curve.pLength;return t?(e=i.allocUnsafe(1+o)).writeUInt8(n.isEven()?2:3,0):((e=i.allocUnsafe(1+o+o)).writeUInt8(4,0),n.toBuffer(o).copy(e,1+o)),r.toBuffer(o).copy(e,1),e},a.decodeFrom=function(t,e){var r,i=e.readUInt8(0),s=4!==i,u=Math.floor((t.p.bitLength()+7)/8),c=o.fromBuffer(e.slice(1,1+u));if(s){n.equal(e.length,u+1,"Invalid sequence length"),n(2===i||3===i,"Invalid sequence tag");var f=3===i;r=t.pointFromX(f,c)}else{n.equal(e.length,1+u+u,"Invalid sequence length");var l=o.fromBuffer(e.slice(1+u));r=a.fromAffine(t,c,l)}return r.compressed=s,r},a.prototype.toString=function(){return this.curve.isInfinity(this)?"(INFINITY)":"("+this.affineX.toString()+","+this.affineY.toString()+")"},t.exports=a},function(t,e,r){function n(t,e,r){if(!(this instanceof n))return new n(t,e,r);null!=t&&("number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}var i=n.prototype;i.__bigi=r(1233).version,n.isBigInteger=function(t,e){return t&&t.__bigi&&(!e||t.__bigi===i.__bigi)},n.prototype.am=function(t,e,r,n,i,o){for(;--o>=0;){var s=e*this[t++]+r[n]+i;i=Math.floor(s/67108864),r[n++]=67108863&s}return i},n.prototype.DB=26,n.prototype.DM=67108863;var o=n.prototype.DV=1<<26;n.prototype.FV=Math.pow(2,52),n.prototype.F1=26,n.prototype.F2=0;var s,a,u="0123456789abcdefghijklmnopqrstuvwxyz",c=new Array;for(s="0".charCodeAt(0),a=0;a<=9;++a)c[s++]=a;for(s="a".charCodeAt(0),a=10;a<36;++a)c[s++]=a;for(s="A".charCodeAt(0),a=10;a<36;++a)c[s++]=a;function f(t){return u.charAt(t)}function l(t,e){var r=c[t.charCodeAt(e)];return null==r?-1:r}function h(t){var e=new n;return e.fromInt(t),e}function p(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function d(t){this.m=t}function m(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function g(t,e){return t&e}function v(t,e){return t|e}function y(t,e){return t^e}function b(t,e){return t&~e}function w(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function _(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function k(){}function S(t){return t}function x(t){this.r2=new n,this.q3=new n,n.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}d.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},d.prototype.revert=function(t){return t},d.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},d.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},d.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},m.prototype.convert=function(t){var e=new n;return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(n.ZERO)>0&&this.m.subTo(e,e),e},m.prototype.revert=function(t){var e=new n;return t.copyTo(e),this.reduce(e),e},m.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},m.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},m.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},i.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},i.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+o:this.t=0},i.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var i=t.length,o=!1,s=0;--i>=0;){var a=8==r?255&t[i]:l(t,i);a<0?"-"==t.charAt(i)&&(o=!0):(o=!1,0==s?this[this.t++]=a:s+r>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=r)>=this.DB&&(s-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),o&&n.ZERO.subTo(this,this)},i.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},i.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s},i.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s},i.lShiftTo=function(t,e){var r,n=t%this.DB,i=this.DB-n,o=(1<<i)-1,s=Math.floor(t/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)e[r+s+1]=this[r]>>i|a,a=(this[r]&o)<<n;for(r=s-1;r>=0;--r)e[r]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()},i.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e[0]=this[r]>>n;for(var s=r+1;s<this.t;++s)e[s-r-1]|=(this[s]&o)<<i,e[s-r]=this[s]>>n;n>0&&(e[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}},i.subTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:n>0&&(e[r++]=n),e.t=r,e.clamp()},i.multiplyTo=function(t,e){var r=this.abs(),i=t.abs(),o=r.t;for(e.t=o+i.t;--o>=0;)e[o]=0;for(o=0;o<i.t;++o)e[o+r.t]=r.am(0,i[o],e,o,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&n.ZERO.subTo(e,e)},i.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()},i.divRemTo=function(t,e,r){var i=t.abs();if(!(i.t<=0)){var o=this.abs();if(o.t<i.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=new n);var s=new n,a=this.s,u=t.s,c=this.DB-p(i[i.t-1]);c>0?(i.lShiftTo(c,s),o.lShiftTo(c,r)):(i.copyTo(s),o.copyTo(r));var f=s.t,l=s[f-1];if(0!=l){var h=l*(1<<this.F1)+(f>1?s[f-2]>>this.F2:0),d=this.FV/h,m=(1<<this.F1)/h,g=1<<this.F2,v=r.t,y=v-f,b=null==e?new n:e;for(s.dlShiftTo(y,b),r.compareTo(b)>=0&&(r[r.t++]=1,r.subTo(b,r)),n.ONE.dlShiftTo(f,b),b.subTo(s,s);s.t<f;)s[s.t++]=0;for(;--y>=0;){var w=r[--v]==l?this.DM:Math.floor(r[v]*d+(r[v-1]+g)*m);if((r[v]+=s.am(0,w,r,y,0,f))<w)for(s.dlShiftTo(y,b),r.subTo(b,r);r[v]<--w;)r.subTo(b,r)}null!=e&&(r.drShiftTo(f,e),a!=u&&n.ZERO.subTo(e,e)),r.t=f,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&n.ZERO.subTo(r,r)}}},i.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},i.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},i.exp=function(t,e){if(t>4294967295||t<1)return n.ONE;var r=new n,i=new n,o=e.convert(this),s=p(t)-1;for(o.copyTo(r);--s>=0;)if(e.sqrTo(r,i),(t&1<<s)>0)e.mulTo(i,o,r);else{var a=r;r=i,i=a}return e.revert(r)},i.toString=function(t){var e;if(this.s<0)return"-"+this.negate().toString(t);if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(r=this[s]>>a)>0&&(i=!0,o=f(r));s>=0;)a<e?(r=(this[s]&(1<<a)-1)<<e-a,r|=this[--s]>>(a+=this.DB-e)):(r=this[s]>>(a-=e)&n,a<=0&&(a+=this.DB,--s)),r>0&&(i=!0),i&&(o+=f(r));return i?o:"0"},i.negate=function(){var t=new n;return n.ZERO.subTo(this,t),t},i.abs=function(){return this.s<0?this.negate():this},i.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this[r]-t[r]))return e;return 0},i.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+p(this[this.t-1]^this.s&this.DM)},i.byteLength=function(){return this.bitLength()>>3},i.mod=function(t){var e=new n;return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(n.ZERO)>0&&t.subTo(e,e),e},i.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new d(e):new m(e),this.exp(t,r)},k.prototype.convert=S,k.prototype.revert=S,k.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},k.prototype.sqrTo=function(t,e){t.squareTo(e)},x.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=new n;return t.copyTo(e),this.reduce(e),e},x.prototype.revert=function(t){return t},x.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},x.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},x.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var E=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],C=(1<<26)/E[E.length-1];i.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},i.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),i=h(r),o=new n,s=new n,a="";for(this.divRemTo(i,o,s);o.signum()>0;)a=(r+s.intValue()).toString(t).substr(1)+a,o.divRemTo(i,o,s);return s.intValue().toString(t)+a},i.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),i=Math.pow(e,r),o=!1,s=0,a=0,u=0;u<t.length;++u){var c=l(t,u);c<0?"-"==t.charAt(u)&&0==this.signum()&&(o=!0):(a=e*a+c,++s>=r&&(this.dMultiply(i),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(a,0)),o&&n.ZERO.subTo(this,this)},i.fromNumber=function(t,e,r){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(n.ONE.shiftLeft(t-1),v,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(n.ONE.shiftLeft(t-1),this);else{var i=new Array,o=7&t;i.length=1+(t>>3),e.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}},i.bitwiseTo=function(t,e,r){var n,i,o=Math.min(t.t,this.t);for(n=0;n<o;++n)r[n]=e(this[n],t[n]);if(t.t<this.t){for(i=t.s&this.DM,n=o;n<this.t;++n)r[n]=e(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<t.t;++n)r[n]=e(i,t[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},i.changeBit=function(t,e){var r=n.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r},i.addTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]+t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t[r],e[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[r++]=n:n<-1&&(e[r++]=this.DV+n),e.t=r,e.clamp()},i.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},i.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},i.multiplyLowerTo=function(t,e,r){var n,i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,t[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t[i],r,i,0,e-i);r.clamp()},i.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},i.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r},i.millerRabin=function(t){var e=this.subtract(n.ONE),r=e.getLowestSetBit();if(r<=0)return!1;var i=e.shiftRight(r);(t=t+1>>1)>E.length&&(t=E.length);for(var o=new n(null),s=[],a=0;a<t;++a){for(;c=E[Math.floor(Math.random()*E.length)],-1!=s.indexOf(c););s.push(c),o.fromInt(c);var u=o.modPow(i,this);if(0!=u.compareTo(n.ONE)&&0!=u.compareTo(e)){for(var c=1;c++<r&&0!=u.compareTo(e);)if(0==(u=u.modPowInt(2,this)).compareTo(n.ONE))return!1;if(0!=u.compareTo(e))return!1}}return!0},i.clone=function(){var t=new n;return this.copyTo(t),t},i.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},i.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},i.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},i.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},i.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var r,n=this.DB-t*this.DB%8,i=0;if(t-- >0)for(n<this.DB&&(r=this[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this[t]&(1<<n)-1)<<8-n,r|=this[--t]>>(n+=this.DB-8)):(r=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0===i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(e[i++]=r);return e},i.equals=function(t){return 0==this.compareTo(t)},i.min=function(t){return this.compareTo(t)<0?this:t},i.max=function(t){return this.compareTo(t)>0?this:t},i.and=function(t){var e=new n;return this.bitwiseTo(t,g,e),e},i.or=function(t){var e=new n;return this.bitwiseTo(t,v,e),e},i.xor=function(t){var e=new n;return this.bitwiseTo(t,y,e),e},i.andNot=function(t){var e=new n;return this.bitwiseTo(t,b,e),e},i.not=function(){for(var t=new n,e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},i.shiftLeft=function(t){var e=new n;return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},i.shiftRight=function(t){var e=new n;return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},i.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+w(this[t]);return this.s<0?this.t*this.DB:-1},i.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=_(this[r]^e);return t},i.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},i.setBit=function(t){return this.changeBit(t,v)},i.clearBit=function(t){return this.changeBit(t,b)},i.flipBit=function(t){return this.changeBit(t,y)},i.add=function(t){var e=new n;return this.addTo(t,e),e},i.subtract=function(t){var e=new n;return this.subTo(t,e),e},i.multiply=function(t){var e=new n;return this.multiplyTo(t,e),e},i.divide=function(t){var e=new n;return this.divRemTo(t,e,null),e},i.remainder=function(t){var e=new n;return this.divRemTo(t,null,e),e},i.divideAndRemainder=function(t){var e=new n,r=new n;return this.divRemTo(t,e,r),new Array(e,r)},i.modPow=function(t,e){var r,i,o=t.bitLength(),s=h(1);if(o<=0)return s;r=o<18?1:o<48?3:o<144?4:o<768?5:6,i=o<8?new d(e):e.isEven()?new x(e):new m(e);var a=new Array,u=3,c=r-1,f=(1<<r)-1;if(a[1]=i.convert(this),r>1){var l=new n;for(i.sqrTo(a[1],l);u<=f;)a[u]=new n,i.mulTo(l,a[u-2],a[u]),u+=2}var g,v,y=t.t-1,b=!0,w=new n;for(o=p(t[y])-1;y>=0;){for(o>=c?g=t[y]>>o-c&f:(g=(t[y]&(1<<o+1)-1)<<c-o,y>0&&(g|=t[y-1]>>this.DB+o-c)),u=r;0==(1&g);)g>>=1,--u;if((o-=u)<0&&(o+=this.DB,--y),b)a[g].copyTo(s),b=!1;else{for(;u>1;)i.sqrTo(s,w),i.sqrTo(w,s),u-=2;u>0?i.sqrTo(s,w):(v=s,s=w,w=v),i.mulTo(w,a[g],s)}for(;y>=0&&0==(t[y]&1<<o);)i.sqrTo(s,w),v=s,s=w,w=v,--o<0&&(o=this.DB-1,--y)}return i.revert(s)},i.modInverse=function(t){var e=t.isEven();if(0===this.signum())throw new Error("division by zero");if(this.isEven()&&e||0==t.signum())return n.ZERO;for(var r=t.clone(),i=this.clone(),o=h(1),s=h(0),a=h(0),u=h(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(t,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),e?(a.isEven()&&u.isEven()||(a.addTo(this,a),u.subTo(t,u)),a.rShiftTo(1,a)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);r.compareTo(i)>=0?(r.subTo(i,r),e&&o.subTo(a,o),s.subTo(u,s)):(i.subTo(r,i),e&&a.subTo(o,a),u.subTo(s,u))}if(0!=i.compareTo(n.ONE))return n.ZERO;for(;u.compareTo(t)>=0;)u.subTo(t,u);for(;u.signum()<0;)u.addTo(t,u);return u},i.pow=function(t){return this.exp(t,new k)},i.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),r.rShiftTo(o,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},i.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r[0]<=E[E.length-1]){for(e=0;e<E.length;++e)if(r[0]==E[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<E.length;){for(var n=E[e],i=e+1;i<E.length&&n<C;)n*=E[i++];for(n=r.modInt(n);e<i;)if(n%E[e++]==0)return!1}return r.millerRabin(t)},i.square=function(){var t=new n;return this.squareTo(t),t},n.ZERO=h(0),n.ONE=h(1),n.valueOf=h,t.exports=n},function(t,e,r){var n=r(540),i=r(321);function o(t,e){if("number"!=typeof t)throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}t.exports={pushDataSize:n.encodingLength,readPushDataInt:n.decode,readUInt64LE:function(t,e){var r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return o((n*=4294967296)+r,9007199254740991),n+r},readVarInt:function(t,e){return{number:i.decode(t,e),size:i.decode.bytes}},varIntBuffer:i.encode,varIntSize:i.encodingLength,writePushDataInt:n.encode,writeUInt64LE:function(t,e,r){return o(e,9007199254740991),t.writeInt32LE(-1&e,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8},writeVarInt:function(t,e,r){return i.encode(e,t,r),i.encode.bytes}}},function(t,e,r){var n=r(29),i=r(33),o=r(22),s=r(41);function a(t){var e=n.compile(t);return 34===e.length&&e[0]===s.OP_0&&32===e[1]}a.toJSON=function(){return"Witness scriptHash output"},t.exports={check:a,decode:function(t){return o(a,t),t.slice(2)},encode:function(t){return o(i.Hash256bit,t),n.compile([s.OP_0,t])}}},function(t,e,r){var n=r(29),i=r(33),o=r(22),s=r(41);function a(t){var e=n.compile(t);return 22===e.length&&e[0]===s.OP_0&&20===e[1]}a.toJSON=function(){return"Witness pubKeyHash output"},t.exports={check:a,decode:function(t){return o(a,t),t.slice(2)},encode:function(t){return o(i.Hash160bit,t),n.compile([s.OP_0,t])}}},function(t,e,r){var n=r(29),i=r(33),o=r(22),s=r(41),a=s.OP_RESERVED;function u(t,e){var r=n.decompile(t);if(r.length<4)return!1;if(r[r.length-1]!==s.OP_CHECKMULTISIG)return!1;if(!i.Number(r[0]))return!1;if(!i.Number(r[r.length-2]))return!1;var o=r[0]-a,u=r[r.length-2]-a;return!(o<=0)&&(!(u>16)&&(!(o>u)&&(u===r.length-3&&(!!e||r.slice(1,-2).every(n.isCanonicalPubKey)))))}u.toJSON=function(){return"multi-sig output"},t.exports={check:u,decode:function(t,e){var r=n.decompile(t);return o(u,r,e),{m:r[0]-a,pubKeys:r.slice(1,-2)}},encode:function(t,e){o({m:i.Number,pubKeys:[n.isCanonicalPubKey]},{m:t,pubKeys:e});var r=e.length;if(r<t)throw new TypeError("Not enough pubKeys provided");return n.compile([].concat(a+t,e,a+r,s.OP_CHECKMULTISIG))}}},function(t,e,r){var n=r(3).Buffer;t.exports={decode:function(t,e,r){e=e||4,r=void 0===r||r;var n=t.length;if(0===n)return 0;if(n>e)throw new TypeError("Script number overflow");if(r&&0==(127&t[n-1])&&(n<=1||0==(128&t[n-2])))throw new Error("Non-minimally encoded script number");if(5===n){var i=t.readUInt32LE(0),o=t.readUInt8(4);return 128&o?-(4294967296*(-129&o)+i):4294967296*o+i}for(var s=0,a=0;a<n;++a)s|=t[a]<<8*a;return 128&t[n-1]?-(s&~(128<<8*(n-1))):s},encode:function(t){for(var e=Math.abs(t),r=function(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}(e),i=n.allocUnsafe(r),o=t<0,s=0;s<r;++s)i.writeUInt8(255&e,s),e>>=8;return 128&i[r-1]?i.writeUInt8(o?128:0,r-1):o&&(i[r-1]|=128),i}}},function(t,e,r){var n=r(326);function i(t){return t.name||t.toString().match(/function (.*?)\s*\(/)[1]}function o(t){return n.Nil(t)?"":i(t.constructor)}function s(t){return n.Function(t)?t.toJSON?t.toJSON():i(t):n.Array(t)?"Array":t&&n.Object(t)?"Object":void 0!==t?t:""}function a(t,e,r){var i=function(t){return n.Function(t)?"":n.String(t)?JSON.stringify(t):t&&n.Object(t)?"":t}(e);return"Expected "+s(t)+", got"+(""!==r?" "+r:"")+(""!==i?" "+i:"")}function u(t,e,r){r=r||o(e),this.message=a(t,e,r),Error.captureStackTrace(this,u),this.__type=t,this.__value=e,this.__valueTypeName=r}function c(t,e,r,n,i){t?(i=i||o(n),this.message=function(t,e,r,n,i){var o='" of type ';return"key"===e&&(o='" with key type '),a('property "'+s(r)+o+s(t),n,i)}(t,r,e,n,i)):this.message='Unexpected property "'+e+'"',Error.captureStackTrace(this,u),this.__label=r,this.__property=e,this.__type=t,this.__value=n,this.__valueTypeName=i}u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,c.prototype=Object.create(Error.prototype),c.prototype.constructor=u,t.exports={TfTypeError:u,TfPropertyTypeError:c,tfCustomError:function(t,e){return new u(t,{},e)},tfSubError:function(t,e,r){return t instanceof c?(e=e+"."+t.__property,t=new c(t.__type,e,t.__label,t.__value,t.__valueTypeName)):t instanceof u&&(t=new c(t.__type,e,r,t.__value,t.__valueTypeName)),Error.captureStackTrace(t),t},tfJSON:s,getValueTypeName:o}},function(t,e,r){var n=r(41);function i(t){return t<n.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}t.exports={encodingLength:i,encode:function(t,e,r){var o=i(e);return 1===o?t.writeUInt8(e,r):2===o?(t.writeUInt8(n.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):3===o?(t.writeUInt8(n.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8(n.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),o},decode:function(t,e){var r,i,o=t.readUInt8(e);if(o<n.OP_PUSHDATA1)r=o,i=1;else if(o===n.OP_PUSHDATA1){if(e+2>t.length)return null;r=t.readUInt8(e+1),i=2}else if(o===n.OP_PUSHDATA2){if(e+3>t.length)return null;r=t.readUInt16LE(e+1),i=3}else{if(e+5>t.length)return null;if(o!==n.OP_PUSHDATA4)throw new Error("Unexpected opcode");r=t.readUInt32LE(e+1),i=5}return{opcode:o,number:r,size:i}}}},function(t,e,r){"use strict";(function(e){const n=r(1256).Block,i=r(18),o=r(38),s=r(229),a=t=>{const e=o.encode(t,"dbl-sha2-256");return new i(1,"bitcoin-block",e)};t.exports={hashToCid:a,cid:(t,r)=>{let n,i=null;try{const o=s().update(t.toBuffer(!0)).digest(),u=s().update(e.from(o)).digest();n=a(e.from(u))}catch(t){i=t}finally{r(i,n)}},deserialize:(t,e)=>{let r,i=null;try{r=n.fromBuffer(t)}catch(t){i=t}finally{e(i,r)}},serialize:(t,e)=>{let r,n=null;try{r=t.toBuffer()}catch(t){n=t}finally{e(n,r)}}}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(n){const i=r(544),o=r(545);(e=t.exports).multicodec="git-raw";const s=["original","name","email","date"];e.resolve=((t,e,r)=>{"function"==typeof e&&(r=e,e=void 0),i.deserialize(t,(t,i)=>{if(t)return r(t);if(!e||"/"===e)return r(null,{value:i,remainderPath:""});if(n.isBuffer(i))return r(null,{value:i,remainderPath:e});const s=e.split("/"),a=o(i).get(s);if(a)return r(null,{value:a,remainderPath:""});let u,c=s.length;for(let t=0;t<c;t++){const t=s.shift();if(Array.isArray(i)&&(u=i[Number(t)]),!i[t])return u?(s.unshift(t),r(null,{value:u,remainderPath:s.join("/")})):r(new Error("path not available at root"));i=u=i[t]}})}),e.tree=((t,e,r)=>{"function"==typeof e&&(r=e,e=void 0),e=e||{},i.deserialize(t,(t,e)=>{if(t)return r(t);if(n.isBuffer(e))return r(null,[]);let i=[];switch(e.gitType){case"commit":i=(i=(i=(i=["message","tree"]).concat(s.map(t=>"author/"+t))).concat(s.map(t=>"committer/"+t))).concat(e.parents.map((t,e)=>"parents/"+e)),e.encoding&&i.push("encoding");break;case"tag":i=["object","type","tag","message"],e.tagger&&(i=i.concat(s.map(t=>"tagger/"+t)));break;default:Object.keys(e).forEach(t=>{i.push(t),i.push(t+"/hash"),i.push(t+"/mode")})}r(null,i)})}),e.isLink=((t,r,n)=>{e.resolve(t,r,(t,e)=>t?n(t):e.remainderPath.length>0?n(new Error("path out of scope")):void("object"==typeof e.value&&e.value["/"]?n(null,e.value):n(null,!1)))})}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(328),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";(function(n){const i=r(203),o=r(1268),s=r(53),a=r(18),u=r(542),c=r(202),f=r(1261),l=r(1260),h=r(1259);(e=t.exports).serialize=((t,e)=>{if(null!==t)if(n.isBuffer(t))"blob"===t.slice(0,4).toString()?i(()=>e(null,t)):i(()=>e(new Error("unexpected dagNode passed to serialize"),null));else switch(t.gitType){case"commit":f.serialize(t,e);break;case"tag":l.serialize(t,e);break;default:h.serialize(t,e)}else i(()=>e(new Error("dagNode passed to serialize was null"),null))}),e.deserialize=((t,e)=>{let r=c.find(t,0),n=t.slice(0,r).toString().match(/([^ ]+) (\d+)/);if(n)switch(n[1]){case"blob":e(null,t);break;case"commit":f.deserialize(t.slice(r+1),e);break;case"tag":l.deserialize(t.slice(r+1),e);break;case"tree":h.deserialize(t.slice(r+1),e);break;default:i(()=>e(new Error("unknown object type "+n[1]),null))}else i(()=>e(new Error("invalid object header"),null))}),e.cid=((t,r)=>{o([r=>e.serialize(t,r),(t,e)=>s(t,"sha1",e),(t,e)=>e(null,new a(1,u.multicodec,t))],r)})}).call(this,r(0).Buffer)},function(t,e){var r=t.exports=function(t){return new n(t)};function n(t){this.value=t}function i(t,e,r){var n=[],i=[],a=!0;return function t(l){var h={},p=!0,d={node:r?o(l):l,node_:l,path:[].concat(n),parent:i[i.length-1],parents:i,key:n.slice(-1)[0],isRoot:0===n.length,level:n.length,circular:null,update:function(t,e){d.isRoot||(d.parent.node[d.key]=t),d.node=t,e&&(p=!1)},delete:function(t){delete d.parent.node[d.key],t&&(p=!1)},remove:function(t){u(d.parent.node)?d.parent.node.splice(d.key,1):delete d.parent.node[d.key],t&&(p=!1)},keys:null,before:function(t){h.before=t},after:function(t){h.after=t},pre:function(t){h.pre=t},post:function(t){h.post=t},stop:function(){a=!1},block:function(){p=!1}};if(!a)return d;function m(){if("object"==typeof d.node&&null!==d.node){d.keys&&d.node_===d.node||(d.keys=s(d.node)),d.isLeaf=0==d.keys.length;for(var t=0;t<i.length;t++)if(i[t].node_===l){d.circular=i[t];break}}else d.isLeaf=!0,d.keys=null;d.notLeaf=!d.isLeaf,d.notRoot=!d.isRoot}m();var g=e.call(d,d.node);return void 0!==g&&d.update&&d.update(g),h.before&&h.before.call(d,d.node),p?("object"!=typeof d.node||null===d.node||d.circular||(i.push(d),m(),c(d.keys,function(e,i){n.push(e),h.pre&&h.pre.call(d,d.node[e],e);var o=t(d.node[e]);r&&f.call(d.node,e)&&(d.node[e]=o.node),o.isLast=i==d.keys.length-1,o.isFirst=0==i,h.post&&h.post.call(d,o),n.pop()}),i.pop()),h.after&&h.after.call(d,d.node),d):d}(t).node}function o(t){if("object"==typeof t&&null!==t){var e;if(u(t))e=[];else if("[object Date]"===a(t))e=new Date(t.getTime?t.getTime():t);else if(function(t){return"[object RegExp]"===a(t)}(t))e=new RegExp(t);else if(function(t){return"[object Error]"===a(t)}(t))e={message:t.message};else if(function(t){return"[object Boolean]"===a(t)}(t))e=new Boolean(t);else if(function(t){return"[object Number]"===a(t)}(t))e=new Number(t);else if(function(t){return"[object String]"===a(t)}(t))e=new String(t);else if(Object.create&&Object.getPrototypeOf)e=Object.create(Object.getPrototypeOf(t));else if(t.constructor===Object)e={};else{var r=t.constructor&&t.constructor.prototype||t.__proto__||{},n=function(){};n.prototype=r,e=new n}return c(s(t),function(r){e[r]=t[r]}),e}return t}n.prototype.get=function(t){for(var e=this.value,r=0;r<t.length;r++){var n=t[r];if(!e||!f.call(e,n)){e=void 0;break}e=e[n]}return e},n.prototype.has=function(t){for(var e=this.value,r=0;r<t.length;r++){var n=t[r];if(!e||!f.call(e,n))return!1;e=e[n]}return!0},n.prototype.set=function(t,e){for(var r=this.value,n=0;n<t.length-1;n++){var i=t[n];f.call(r,i)||(r[i]={}),r=r[i]}return r[t[n]]=e,e},n.prototype.map=function(t){return i(this.value,t,!0)},n.prototype.forEach=function(t){return this.value=i(this.value,t,!1),this.value},n.prototype.reduce=function(t,e){var r=1===arguments.length,n=r?this.value:e;return this.forEach(function(e){this.isRoot&&r||(n=t.call(this,n,e))}),n},n.prototype.paths=function(){var t=[];return this.forEach(function(e){t.push(this.path)}),t},n.prototype.nodes=function(){var t=[];return this.forEach(function(e){t.push(this.node)}),t},n.prototype.clone=function(){var t=[],e=[];return function r(n){for(var i=0;i<t.length;i++)if(t[i]===n)return e[i];if("object"==typeof n&&null!==n){var a=o(n);return t.push(n),e.push(a),c(s(n),function(t){a[t]=r(n[t])}),t.pop(),e.pop(),a}return n}(this.value)};var s=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function a(t){return Object.prototype.toString.call(t)}var u=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},c=function(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e(t[r],r,t)};c(s(n.prototype),function(t){r[t]=function(e){var r=[].slice.call(arguments,1),i=new n(e);return i[t].apply(i,r)}});var f=Object.hasOwnProperty||function(t,e){return e in t}},function(t,e,r){"use strict";(function(n){const i=r(551),o=r(545);var s,a;(e=t.exports).multicodec="dag-cbor",e.resolve=((t,e,r)=>{"function"==typeof e&&(r=e,e=void 0),i.deserialize(t,(t,i)=>{if(t)return r(t);if(!e||"/"===e)return r(null,{value:i,remainderPath:""});const s=e.split("/"),a=o(i).get(s);if(a)return r(null,{value:a,remainderPath:""});let u,c=s.length;for(let t=0;t<c;t++){const t=s.shift();if(Array.isArray(i)&&!n.isBuffer(i)&&(u=i[Number(t)]),!i[t])return u?(s.unshift(t),r(null,{value:u,remainderPath:s.join("/")})):r(new Error("path not available at root"));i=u=i[t]}})}),e.tree=((t,e,r)=>{"function"==typeof e&&(r=e,e=void 0),e=e||{},i.deserialize(t,(t,e)=>{if(t)return r(t);const n=(s=e,a=a||"/",0===Object.keys(s).length?[]:o(s).reduce(function(t,e){"object"==typeof e&&e["/"]&&this.update(void 0);const r=this.path.join(a);return""!==r&&t.push({path:r,value:e}),t},[])).map(t=>t.path);r(null,n)})}),e.isLink=((t,r,n)=>{e.resolve(t,r,(t,e)=>t?n(t):e.remainderPath.length>0?n(new Error("path out of scope")):void("object"==typeof e.value&&e.value["/"]?n(null,e.value):n(null,!1)))})}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(329),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";class n{constructor(t,e,r){if(this.tag=t,this.value=e,this.err=r,"number"!=typeof this.tag)throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(0|this.tag)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(t){return t._pushTag(this.tag),t.pushAny(this.value)}convert(t){var e,r;if("function"!=typeof(r=null!=t?t[this.tag]:void 0)&&"function"!=typeof(r=n["_tag"+this.tag]))return this;try{return r.call(n,this.value)}catch(t){return e=t,this.err=e,this}}}t.exports=n},function(t,e,r){"use strict";const n=r(204),i=n.MT,o=n.SIMPLE,s=n.SYMS;class a{constructor(t){if("number"!=typeof t)throw new Error("Invalid Simple type: "+typeof t);if(t<0||t>255||(0|t)!==t)throw new Error("value must be a small positive integer: "+t);this.value=t}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(t){return t._pushInt(this.value,i.SIMPLE_FLOAT)}static isSimple(t){return t instanceof a}static decode(t,e){switch(null==e&&(e=!0),t){case o.FALSE:return!1;case o.TRUE:return!0;case o.NULL:return e?null:s.NULL;case o.UNDEFINED:return e?void 0:s.UNDEFINED;case-1:if(!e)throw new Error("Invalid BREAK");return s.BREAK;default:return new a(t)}}}t.exports=a},function(t,e,r){"use strict";(function(e,n){const i=r(672),o=r(205),s=r(1279),a=r(330),u=r(204),c=r(549),f=r(548),l=r(164);class h{constructor(t){!(t=t||{}).size||t.size<65536?t.size=65536:t.size=a.nextPowerOf2(t.size),this._heap=new ArrayBuffer(t.size),this._heap8=new Uint8Array(this._heap),this._reset(),this._knownTags=Object.assign({0:t=>new Date(t),1:t=>new Date(1e3*t),2:t=>a.arrayBufferToBignumber(t),3:t=>u.NEG_ONE.minus(a.arrayBufferToBignumber(t)),4:t=>u.TEN.pow(t[0]).times(t[1]),5:t=>u.TWO.pow(t[0]).times(t[1]),32:t=>l.parse(t),35:t=>new RegExp(t)},t.tags),this.parser=s(e,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var t=this._parents.pop();if(t.length>0)throw new Error(`Missing ${t.length} elements`);switch(t.type){case u.PARENT.TAG:this._push(this.createTag(t.ref[0],t.ref[1]));break;case u.PARENT.BYTE_STRING:this._push(this.createByteString(t.ref,t.length));break;case u.PARENT.UTF8_STRING:this._push(this.createUtf8String(t.ref,t.length));break;case u.PARENT.MAP:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(t.ref,t.length));break;case u.PARENT.OBJECT:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(t.ref,t.length));break;case u.PARENT.ARRAY:this._push(this.createArray(t.ref,t.length))}this._currentParent&&this._currentParent.type===u.PARENT.TAG&&this._dec()}_dec(){const t=this._currentParent;t.length<0||(t.length--,0===t.length&&this._closeParent())}_push(t,e){const r=this._currentParent;switch(r.values++,r.type){case u.PARENT.ARRAY:case u.PARENT.BYTE_STRING:case u.PARENT.UTF8_STRING:r.length>-1?this._ref[this._ref.length-r.length]=t:this._ref.push(t),this._dec();break;case u.PARENT.OBJECT:null!=r.tmpKey?(this._ref[r.tmpKey]=t,r.tmpKey=null,this._dec()):(r.tmpKey=t,"string"!=typeof r.tmpKey&&(r.type=u.PARENT.MAP,r.ref=a.buildMap(r.ref)));break;case u.PARENT.MAP:null!=r.tmpKey?(this._ref.set(r.tmpKey,t),r.tmpKey=null,this._dec()):r.tmpKey=t;break;case u.PARENT.TAG:this._ref.push(t),e||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(t,e,r){this._parents[this._depth]={type:e,length:r,ref:t,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:u.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(t,e){const r=this._knownTags[t];return r?r(e):new f(t,e)}createMap(t,e){return t}createObject(t,e){return t}createArray(t,e){return t}createByteString(t,e){return n.concat(t)}createByteStringFromHeap(t,e){return new n(t===e?0:this._heap.slice(t,e))}createInt(t){return t}createInt32(t,e){return a.buildInt32(t,e)}createInt64(t,e,r,n){return a.buildInt64(t,e,r,n)}createFloat(t){return t}createFloatSingle(t,e,r,n){return i.read([t,e,r,n],0,!1,23,4)}createFloatDouble(t,e,r,n,o,s,a,u){return i.read([t,e,r,n,o,s,a,u],0,!1,52,8)}createInt32Neg(t,e){return-1-a.buildInt32(t,e)}createInt64Neg(t,e,r,n){const i=a.buildInt32(t,e),s=a.buildInt32(r,n);return i>u.MAX_SAFE_HIGH?u.NEG_ONE.sub(new o(i).times(u.SHIFT32).plus(s)):-1-(i*u.SHIFT32+s)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(t,e){return t.join("")}createUtf8StringFromHeap(t,e){return t===e?"":new n(this._heap.slice(t,e)).toString("utf8")}createSimpleUnassigned(t){return new c(t)}pushInt(t){this._push(this.createInt(t))}pushInt32(t,e){this._push(this.createInt32(t,e))}pushInt64(t,e,r,n){this._push(this.createInt64(t,e,r,n))}pushFloat(t){this._push(this.createFloat(t))}pushFloatSingle(t,e,r,n){this._push(this.createFloatSingle(t,e,r,n))}pushFloatDouble(t,e,r,n,i,o,s,a){this._push(this.createFloatDouble(t,e,r,n,i,o,s,a))}pushInt32Neg(t,e){this._push(this.createInt32Neg(t,e))}pushInt64Neg(t,e,r,n){this._push(this.createInt64Neg(t,e,r,n))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],u.PARENT.ARRAY,-1)}pushArrayStartFixed(t){this._createArrayStartFixed(t)}pushArrayStartFixed32(t,e){const r=a.buildInt32(t,e);this._createArrayStartFixed(r)}pushArrayStartFixed64(t,e,r,n){const i=a.buildInt64(t,e,r,n);this._createArrayStartFixed(i)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(t){this._createObjectStartFixed(t)}pushObjectStartFixed32(t,e){const r=a.buildInt32(t,e);this._createObjectStartFixed(r)}pushObjectStartFixed64(t,e,r,n){const i=a.buildInt64(t,e,r,n);this._createObjectStartFixed(i)}pushByteStringStart(){this._parents[this._depth]={type:u.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(t,e){this._push(this.createByteStringFromHeap(t,e))}pushUtf8StringStart(){this._parents[this._depth]={type:u.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(t,e){this._push(this.createUtf8StringFromHeap(t,e))}pushSimpleUnassigned(t){this._push(this.createSimpleUnassigned(t))}pushTagStart(t){this._parents[this._depth]={type:u.PARENT.TAG,length:1,ref:[t]}}pushTagStart4(t,e){this.pushTagStart(a.buildInt32(t,e))}pushTagStart8(t,e,r,n){this.pushTagStart(a.buildInt64(t,e,r,n))}pushTagUnassigned(t){this._push(this.createTag(t))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(t){0!==t?this._createParent({},u.PARENT.OBJECT,t):this._push(this.createObject({}))}_createArrayStartFixed(t){0!==t?this._createParent(new Array(t),u.PARENT.ARRAY,t):this._push(this.createArray([]))}_decode(t){if(0===t.byteLength)throw new Error("Input too short");this._reset(),this._heap8.set(t);const e=this.parser.parse(t.byteLength);if(this._depth>1){for(;0===this._currentParent.length;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(e>0)throw new Error("Failed to parse");if(0===this._res.length)throw new Error("No valid result")}decodeFirst(t){return this._decode(t),this._res[0]}decodeAll(t){return this._decode(t),this._res}static decode(t,e){return"string"==typeof t&&(t=new n(t,e||"hex")),new h({size:t.length}).decodeFirst(t)}static decodeAll(t,e){return"string"==typeof t&&(t=new n(t,e||"hex")),new h({size:t.length}).decodeAll(t)}}h.decodeFirst=h.decode,t.exports=h}).call(this,r(7),r(0).Buffer)},function(t,e,r){"use strict";(function(n){const i=r(1281),o=r(53),s=r(18),a=r(1277),u=r(1271),c=r(1270),f=r(546),l=42;const h=new i.Decoder({tags:{[l]:t=>({"/":t=t.slice(1)})}});function p(t){let e;try{e=c(t)}catch(t){e=!1}if(e)throw new Error("The object passed has circular references");return function t(e){if(!e||n.isBuffer(e)||"string"==typeof e)return e;if(Array.isArray(e))return e.map(t);const r=Object.keys(e);if(1===r.length&&"/"===r[0])return"string"==typeof(o=e["/"])&&(o=new s(o).buffer),new i.Tagged(l,n.concat([n.from("00","hex"),o]));if(r.length>0){let n={};return r.forEach(r=>{"object"==typeof e[r]?n[r]=t(e[r]):n[r]=e[r]}),n}return e;var o}(t)}(e=t.exports).serialize=((t,e)=>{let r;try{const n=p(t);r=i.encode(n)}catch(t){return u(()=>e(t))}u(()=>e(null,r))}),e.deserialize=((t,e)=>{let r;try{r=h.decodeFirst(t)}catch(t){return u(()=>e(t))}u(()=>e(null,r))}),e.cid=((t,r)=>{a([r=>e.serialize(t,r),(t,e)=>o(t,"sha2-256",e),(t,e)=>e(null,new s(1,f.multicodec,t))],r)})}).call(this,r(0).Buffer)},function(t,e,r){(function(e){var r="Input must be an string, Buffer or Uint8Array";function n(t){return(4294967296+t).toString(16).substring(1)}t.exports={normalizeInput:function(t){var n;if(t instanceof Uint8Array)n=t;else if(t instanceof e)n=new Uint8Array(t);else{if("string"!=typeof t)throw new Error(r);n=new Uint8Array(e.from(t,"utf8"))}return n},toHex:function(t){return Array.prototype.map.call(t,function(t){return(t<16?"0":"")+t.toString(16)}).join("")},debugPrint:function(t,e,r){for(var i="\n"+t+" = ",o=0;o<e.length;o+=2){if(32===r)i+=n(e[o]).toUpperCase(),i+=" ",i+=n(e[o+1]).toUpperCase();else{if(64!==r)throw new Error("Invalid size "+r);i+=n(e[o+1]).toUpperCase(),i+=n(e[o]).toUpperCase()}o%6==4?i+="\n"+new Array(t.length+4).join(" "):o<e.length-2&&(i+=" ")}console.log(i)},testSpeed:function(t,e,r){for(var n=(new Date).getTime(),i=new Uint8Array(e),o=0;o<e;o++)i[o]=o%256;var s=(new Date).getTime();for(console.log("Generated random input in "+(s-n)+"ms"),n=s,o=0;o<r;o++){var a=t(i),u=(new Date).getTime(),c=u-n;n=u,console.log("Hashed in "+c+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(c/1e3)*100)/100+" MB PER SECOND")}}}}).call(this,r(0).Buffer)},function(t,e){t.exports=function(t){return t&&"function"==typeof t.then}},function(t,e,r){"use strict";(function(t){const n=r(1317);e.toCallback=(t=>(function(e,r){const i=(t,e)=>n(()=>{r(t,e)});let o;try{o=t(e)}catch(t){return void i(t)}i(null,o)})),e.toBuf=((e,r)=>n=>{let i=e(n,r);return t.from(i,"hex")}),e.fromString=((e,r)=>n=>{const i=t.isBuffer(n)?n.toString():n;return e(i,r)}),e.fromNumberTo32BitBuf=((e,r)=>n=>{let i=e(n,r);const o=new Array(4);for(let t=0;t<4;t++)o[t]=255&i,i>>=8;return t.from(o)})}).call(this,r(0).Buffer)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(r,n,i){return t(r,e,n,i)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,o){(0,n.default)(e)(t,(0,i.default)(r),o)};var n=o(r(1329)),i=o(r(102));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={},t.exports=e.default},function(t,e){var r=e.once=function(t){return function(e,r){if(e)return r(e);if(null!=t){var n=t;t=null,r(null,n)}else r(!0)}};e.depthFirst=function(t,e){var n,i=[];return i.unshift(r(t)),function t(r,o){return i.length?n?o(n):void i[0](r,function(r,s){if(r){if(!0!==r){for(n=r,i.shift();i.length;)i.shift()(r,function(){});return o(r)}return i.shift(),t(null,o)}i.unshift(e(s)),o(r,s)}):o(!0)}},e.widthFirst=function(t,e){var n=[];return n.push(r(t)),function t(r,i){if(!n.length)return i(!0);n[0](r,function(r,o){if(r)return n.shift(),t(null,i);n.push(e(o)),i(r,o)})}},e.leafFirst=function(t,e){var n=[],i=[];return n.push(r(t)),function t(r,o){n[0](r,function(r,s){if(r)return n.shift(),i.length?o(null,i.shift()):o(!0);n.unshift(e(s)),i.unshift(s),t(null,o)})}}},function(t,e,r){var n=r(213),i=r(560);t.exports=function(){var t=n(),e=i();return{source:t,sink:e,resolve:function(r){t.resolve(r.source),e.resolve(r.sink)}}}},function(t,e){t.exports=function(t){var e,r=!1;Math.random();function n(n){if(!n)throw new Error("must be passed a readable");e=n,r&&t(e)}return n.resolve=n.ready=n.start=function(i){return r=!0,t=i||t,e&&t(e),n},n}},function(t,e,r){"use strict";const n=r(342),i=r(577),o=n("repo:lock"),s={};e.lock=((t,e)=>{const r=t+"/repo.lock";o("locking %s",r),s[r]=!0;const n={close(t){s[r]&&delete s[r],i(t)}};i(()=>{e(null,n)})}),e.locked=((t,e)=>{const r=t+"/repo.lock";o("checking lock: %s");const n=s[r];i(()=>{e(null,n)})})},function(t,e,r){(function(e){function r(t){this._db=t,this._operations=[],this._written=!1}r.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},r.prototype.put=function(t,e){this._checkWritten();var r=this._db._checkKey(t,"key",this._db._isBuffer);if(r)throw r;return this._db._isBuffer(t)||(t=String(t)),this._db._isBuffer(e)||(e=String(e)),"function"==typeof this._put?this._put(t,e):this._operations.push({type:"put",key:t,value:e}),this},r.prototype.del=function(t){this._checkWritten();var e=this._db._checkKey(t,"key",this._db._isBuffer);if(e)throw e;return this._db._isBuffer(t)||(t=String(t)),"function"==typeof this._del?this._del(t):this._operations.push({type:"del",key:t}),this},r.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},r.prototype.write=function(t,r){if(this._checkWritten(),"function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("write() requires a callback argument");return"object"!=typeof t&&(t={}),this._written=!0,"function"==typeof this._write?this._write(r):"function"==typeof this._db._batch?this._db._batch(this._operations,t,r):void e.nextTick(r)},t.exports=r}).call(this,r(2))},function(t,e,r){(function(e){function r(t){this.db=t,this._ended=!1,this._nexting=!1}r.prototype.next=function(t){var r=this;if("function"!=typeof t)throw new Error("next() requires a callback argument");return r._ended?t(new Error("cannot call next() after end()")):r._nexting?t(new Error("cannot call next() before previous next() has completed")):(r._nexting=!0,"function"==typeof r._next?r._next(function(){r._nexting=!1,t.apply(null,arguments)}):void e.nextTick(function(){r._nexting=!1,t()}))},r.prototype.end=function(t){if("function"!=typeof t)throw new Error("end() requires a callback argument");return this._ended?t(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(t):void e.nextTick(t))},t.exports=r}).call(this,r(2))},function(t,e,r){(function(e,n){var i=r(79),o=r(563),s=r(562);function a(t){if(!arguments.length||void 0===t)throw new Error("constructor requires at least a location argument");if("string"!=typeof t)throw new Error("constructor requires a location string argument");this.location=t,this.status="new"}a.prototype.open=function(t,r){var n=this,i=this.status;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("open() requires a callback argument");"object"!=typeof t&&(t={}),t.createIfMissing=0!=t.createIfMissing,t.errorIfExists=!!t.errorIfExists,"function"==typeof this._open?(this.status="opening",this._open(t,function(t){if(t)return n.status=i,r(t);n.status="open",r()})):(this.status="open",e.nextTick(r))},a.prototype.close=function(t){var r=this,n=this.status;if("function"!=typeof t)throw new Error("close() requires a callback argument");"function"==typeof this._close?(this.status="closing",this._close(function(e){if(e)return r.status=n,t(e);r.status="closed",t()})):(this.status="closed",e.nextTick(t))},a.prototype.get=function(t,r,n){var i;if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("get() requires a callback argument");return(i=this._checkKey(t,"key",this._isBuffer))?n(i):(this._isBuffer(t)||(t=String(t)),"object"!=typeof r&&(r={}),r.asBuffer=0!=r.asBuffer,"function"==typeof this._get?this._get(t,r,n):void e.nextTick(function(){n(new Error("NotFound"))}))},a.prototype.put=function(t,r,n,i){var o;if("function"==typeof n&&(i=n),"function"!=typeof i)throw new Error("put() requires a callback argument");return(o=this._checkKey(t,"key",this._isBuffer))?i(o):(this._isBuffer(t)||(t=String(t)),null==r||this._isBuffer(r)||e.browser||(r=String(r)),"object"!=typeof n&&(n={}),"function"==typeof this._put?this._put(t,r,n,i):void e.nextTick(i))},a.prototype.del=function(t,r,n){var i;if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("del() requires a callback argument");return(i=this._checkKey(t,"key",this._isBuffer))?n(i):(this._isBuffer(t)||(t=String(t)),"object"!=typeof r&&(r={}),"function"==typeof this._del?this._del(t,r,n):void e.nextTick(n))},a.prototype.batch=function(t,r,n){if(!arguments.length)return this._chainedBatch();if("function"==typeof r&&(n=r),"function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(t))return n(new Error("batch(array) requires an array argument"));r&&"object"==typeof r||(r={});for(var i,o,s=0,a=t.length;s<a;s++)if("object"==typeof(i=t[s])){if(o=this._checkKey(i.type,"type",this._isBuffer))return n(o);if(o=this._checkKey(i.key,"key",this._isBuffer))return n(o)}if("function"==typeof this._batch)return this._batch(t,r,n);e.nextTick(n)},a.prototype.approximateSize=function(t,r,n){if(null==t||null==r||"function"==typeof t||"function"==typeof r)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof n)throw new Error("approximateSize() requires a callback argument");if(this._isBuffer(t)||(t=String(t)),this._isBuffer(r)||(r=String(r)),"function"==typeof this._approximateSize)return this._approximateSize(t,r,n);e.nextTick(function(){n(null,0)})},a.prototype._setupIteratorOptions=function(t){var e=this;return t=i(t),["start","end","gt","gte","lt","lte"].forEach(function(r){t[r]&&e._isBuffer(t[r])&&0===t[r].length&&delete t[r]}),t.reverse=!!t.reverse,t.keys=0!=t.keys,t.values=0!=t.values,t.limit="limit"in t?t.limit:-1,t.keyAsBuffer=0!=t.keyAsBuffer,t.valueAsBuffer=0!=t.valueAsBuffer,t},a.prototype.iterator=function(t){return"object"!=typeof t&&(t={}),t=this._setupIteratorOptions(t),"function"==typeof this._iterator?this._iterator(t):new o(this)},a.prototype._chainedBatch=function(){return new s(this)},a.prototype._isBuffer=function(t){return n.isBuffer(t)},a.prototype._checkKey=function(t,e){if(null===t||void 0===t)return new Error(e+" cannot be `null` or `undefined`");if(this._isBuffer(t)){if(0===t.length)return new Error(e+" cannot be an empty Buffer")}else if(""===String(t))return new Error(e+" cannot be an empty String")},t.exports=a}).call(this,r(2),r(0).Buffer)},function(t,e,r){e.AbstractLevelDOWN=r(564),e.AbstractIterator=r(563),e.AbstractChainedBatch=r(562),e.isLevelDOWN=r(1338)},function(t,e){t.exports={defaultOptions:{createIfMissing:!0,errorIfExists:!1,keyEncoding:"utf8",valueEncoding:"utf8",compression:!0},getOptions:function(t){return"string"==typeof t&&(t={valueEncoding:t}),"object"!=typeof t&&(t={}),t},dispatchError:function(t,e,r){"function"==typeof r?r(e):t.emit("error",e)},isDefined:function(t){return void 0!==t}}},function(t,e,r){t.exports=s;var n=r(127),i=r(42);function o(t,e){this.afterTransform=function(t,r){return function(t,e,r){var n=t._transformState;n.transforming=!1;var o=n.writecb;if(!o)return t.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,i.isNullOrUndefined(r)||t.push(r);o&&o(e);var s=t._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&t._read(s.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function s(t){if(!(this instanceof s))return new s(t);n.call(this,t),this._transformState=new o(t,this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){i.isFunction(this._flush)?this._flush(function(t){a(e,t)}):a(e)})}function a(t,e){if(e)return t.emit("error",e);var r=t._writableState,n=t._transformState;if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}i.inherits=r(6),i.inherits(s,n),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,r){throw new Error("not implemented")},s.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;i.isNull(e.writechunk)||!e.writecb||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))}},function(t,e,r){(function(e){t.exports=a;var n=r(0).Buffer;a.WritableState=s;var i=r(42);i.inherits=r(6);var o=r(50);function s(t,n){var i=r(127),o=(t=t||{}).highWaterMark,s=t.objectMode?16:16384;this.highWaterMark=o||0===o?o:s,this.objectMode=!!t.objectMode,n instanceof i&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,r){var n=t._writableState,i=n.sync,o=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),r)!function(t,r,n,i,o){n?e.nextTick(function(){r.pendingcb--,o(i)}):(r.pendingcb--,o(i));t._writableState.errorEmitted=!0,t.emit("error",i)}(t,n,i,r,o);else{var s=l(t,n);s||n.corked||n.bufferProcessing||!n.buffer.length||f(t,n),i?e.nextTick(function(){c(t,n,s,o)}):c(t,n,s,o)}}(n,t)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function a(t){var e=r(127);if(!(this instanceof a||this instanceof e))return new a(t);this._writableState=new s(t,this),this.writable=!0,o.call(this)}function u(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function c(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),p(t,e)}function f(t,e){if(e.bufferProcessing=!0,t._writev&&e.buffer.length>1){for(var r=[],n=0;n<e.buffer.length;n++)r.push(e.buffer[n].callback);e.pendingcb++,u(t,e,!0,e.length,e.buffer,"",function(t){for(var n=0;n<r.length;n++)e.pendingcb--,r[n](t)}),e.buffer=[]}else{for(n=0;n<e.buffer.length;n++){var i=e.buffer[n],o=i.chunk,s=i.encoding,a=i.callback,c=e.objectMode?1:o.length;if(u(t,e,!1,c,o,s,a),e.writing){n++;break}}n<e.buffer.length?e.buffer=e.buffer.slice(n):e.buffer.length=0}e.bufferProcessing=!1}function l(t,e){return e.ending&&0===e.length&&!e.finished&&!e.writing}function h(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function p(t,e){var r=l(0,e);return r&&(0===e.pendingcb?(h(t,e),e.finished=!0,t.emit("finish")):h(t,e)),r}i.inherits(a,o),a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},a.prototype.write=function(t,r,o){var s=this._writableState,a=!1;return i.isFunction(r)&&(o=r,r=null),i.isBuffer(t)?r="buffer":r||(r=s.defaultEncoding),i.isFunction(o)||(o=function(){}),s.ended?function(t,r,n){var i=new Error("write after end");t.emit("error",i),e.nextTick(function(){n(i)})}(this,0,o):function(t,r,n,o){var s=!0;if(!(i.isBuffer(n)||i.isString(n)||i.isNullOrUndefined(n)||r.objectMode)){var a=new TypeError("Invalid non-string/buffer chunk");t.emit("error",a),e.nextTick(function(){o(a)}),s=!1}return s}(this,s,t,o)&&(s.pendingcb++,a=function(t,e,r,o,s){r=function(t,e,r){return!t.objectMode&&!1!==t.decodeStrings&&i.isString(e)&&(e=new n(e,r)),e}(e,r,o),i.isBuffer(r)&&(o="buffer");var a=e.objectMode?1:r.length;e.length+=a;var c=e.length<e.highWaterMark;c||(e.needDrain=!0);e.writing||e.corked?e.buffer.push(new function(t,e,r){this.chunk=t,this.encoding=e,this.callback=r}(r,o,s)):u(t,e,!1,a,r,o,s);return c}(this,s,t,r,o)),a},a.prototype.cork=function(){this._writableState.corked++},a.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.buffer.length||f(this,t))},a.prototype._write=function(t,e,r){r(new Error("not implemented"))},a.prototype._writev=null,a.prototype.end=function(t,r,n){var o=this._writableState;i.isFunction(t)?(n=t,t=null,r=null):i.isFunction(r)&&(n=r,r=null),i.isNullOrUndefined(t)||this.write(t,r),o.corked&&(o.corked=1,this.uncork()),o.ending||o.finished||function(t,r,n){r.ending=!0,p(t,r),n&&(r.finished?e.nextTick(n):t.once("finish",n));r.ended=!0}(this,o,n)}}).call(this,r(2))},function(t,e,r){(function(e){t.exports=l;var n=r(673),i=r(0).Buffer;l.ReadableState=f;var o=r(20).EventEmitter;o.listenerCount||(o.listenerCount=function(t,e){return t.listeners(e).length});var s,a=r(50),u=r(42);u.inherits=r(6);var c=r(1346);function f(t,e){var n=r(127),i=(t=t||{}).highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,e instanceof n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(s||(s=r(104).StringDecoder),this.decoder=new s(t.encoding),this.encoding=t.encoding)}function l(t){r(127);if(!(this instanceof l))return new l(t);this._readableState=new f(t,this),this.readable=!0,a.call(this)}function h(t,r,n,i,o){var s=function(t,e){var r=null;u.isBuffer(e)||u.isString(e)||u.isNullOrUndefined(e)||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(r,n);if(s)t.emit("error",s);else if(u.isNullOrUndefined(n))r.reading=!1,r.ended||function(t,e){if(e.decoder&&!e.ended){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,m(t)}(t,r);else if(r.objectMode||n&&n.length>0)if(r.ended&&!o){var a=new Error("stream.push() after EOF");t.emit("error",a)}else if(r.endEmitted&&o){a=new Error("stream.unshift() after end event");t.emit("error",a)}else!r.decoder||o||i||(n=r.decoder.write(n)),o||(r.reading=!1),r.flowing&&0===r.length&&!r.sync?(t.emit("data",n),t.read(0)):(r.length+=r.objectMode?1:n.length,o?r.buffer.unshift(n):r.buffer.push(n),r.needReadable&&m(t)),function(t,r){r.readingMore||(r.readingMore=!0,e.nextTick(function(){!function(t,e){var r=e.length;for(;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(c("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}(t,r)}))}(t,r);else o||(r.reading=!1);return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(r)}c=c&&c.debuglog?c.debuglog("stream"):function(){},u.inherits(l,a),l.prototype.push=function(t,e){var r=this._readableState;return u.isString(t)&&!r.objectMode&&(e=e||r.defaultEncoding)!==r.encoding&&(t=new i(t,e),e=""),h(this,r,t,e,!1)},l.prototype.unshift=function(t){return h(this,this._readableState,t,"",!0)},l.prototype.setEncoding=function(t){return s||(s=r(104).StringDecoder),this._readableState.decoder=new s(t),this._readableState.encoding=t,this};var p=8388608;function d(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:isNaN(t)||u.isNull(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=function(t){if(t>=p)t=p;else{t--;for(var e=1;e<32;e<<=1)t|=t>>e;t++}return t}(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function m(t){var r=t._readableState;r.needReadable=!1,r.emittedReadable||(c("emitReadable",r.flowing),r.emittedReadable=!0,r.sync?e.nextTick(function(){g(t)}):g(t))}function g(t){c("emit readable"),t.emit("readable"),v(t)}function v(t){var e=t._readableState;if(c("flow",e.flowing),e.flowing)do{var r=t.read()}while(null!==r&&e.flowing)}function y(t,e){var r,n=e.buffer,o=e.length,s=!!e.decoder,a=!!e.objectMode;if(0===n.length)return null;if(0===o)r=null;else if(a)r=n.shift();else if(!t||t>=o)r=s?n.join(""):i.concat(n,o),n.length=0;else{if(t<n[0].length)r=(l=n[0]).slice(0,t),n[0]=l.slice(t);else if(t===n[0].length)r=n.shift();else{r=s?"":new i(t);for(var u=0,c=0,f=n.length;c<f&&u<t;c++){var l=n[0],h=Math.min(t-u,l.length);s?r+=l.slice(0,h):l.copy(r,u,0,h),h<l.length?n[0]=l.slice(h):n.shift(),u+=h}}}return r}function b(t){var r=t._readableState;if(r.length>0)throw new Error("endReadable called on non-empty stream");r.endEmitted||(r.ended=!0,e.nextTick(function(){r.endEmitted||0!==r.length||(r.endEmitted=!0,t.readable=!1,t.emit("end"))}))}l.prototype.read=function(t){c("read",t);var e=this._readableState,r=t;if((!u.isNumber(t)||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return c("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?b(this):m(this),null;if(0===(t=d(t,e))&&e.ended)return 0===e.length&&b(this),null;var n,i=e.needReadable;return c("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&c("length less than watermark",i=!0),(e.ended||e.reading)&&c("reading or ended",i=!1),i&&(c("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),i&&!e.reading&&(t=d(r,e)),n=t>0?y(t,e):null,u.isNull(n)&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),r!==t&&e.ended&&0===e.length&&b(this),u.isNull(n)||this.emit("data",n),n},l.prototype._read=function(t){this.emit("error",new Error("not implemented"))},l.prototype.pipe=function(t,r){var i=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=t;break;case 1:s.pipes=[s.pipes,t];break;default:s.pipes.push(t)}s.pipesCount+=1,c("pipe count=%d opts=%j",s.pipesCount,r);var a=(!r||!1!==r.end)&&t!==e.stdout&&t!==e.stderr?f:h;function u(t){c("onunpipe"),t===i&&h()}function f(){c("onend"),t.end()}s.endEmitted?e.nextTick(a):i.once("end",a),t.on("unpipe",u);var l=function(t){return function(){var e=t._readableState;c("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o.listenerCount(t,"data")&&(e.flowing=!0,v(t))}}(i);function h(){c("cleanup"),t.removeListener("close",m),t.removeListener("finish",g),t.removeListener("drain",l),t.removeListener("error",d),t.removeListener("unpipe",u),i.removeListener("end",f),i.removeListener("end",h),i.removeListener("data",p),!s.awaitDrain||t._writableState&&!t._writableState.needDrain||l()}function p(e){c("ondata"),!1===t.write(e)&&(c("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,i.pause())}function d(e){c("onerror",e),y(),t.removeListener("error",d),0===o.listenerCount(t,"error")&&t.emit("error",e)}function m(){t.removeListener("finish",g),y()}function g(){c("onfinish"),t.removeListener("close",m),y()}function y(){c("unpipe"),i.unpipe(t)}return t.on("drain",l),i.on("data",p),t._events&&t._events.error?n(t._events.error)?t._events.error.unshift(d):t._events.error=[d,t._events.error]:t.on("error",d),t.once("close",m),t.once("finish",g),t.emit("pipe",i),s.flowing||(c("pipe resume"),i.resume()),t},l.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var r=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}return-1===(i=function(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}(e.pipes,t))?this:(e.pipes.splice(i,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},l.prototype.on=function(t,r){var n=a.prototype.on.call(this,t,r);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&m(this);else{var o=this;e.nextTick(function(){c("readable nexttick read 0"),o.read(0)})}}return n},l.prototype.addListener=l.prototype.on,l.prototype.resume=function(){var t=this._readableState;return t.flowing||(c("resume"),t.flowing=!0,t.reading||(c("resume read 0"),this.read(0)),function(t,r){r.resumeScheduled||(r.resumeScheduled=!0,e.nextTick(function(){!function(t,e){e.resumeScheduled=!1,t.emit("resume"),v(t),e.flowing&&!e.reading&&t.read(0)}(t,r)}))}(this,t)),this},l.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this},l.prototype.wrap=function(t){var e=this._readableState,r=!1,n=this;for(var i in t.on("end",function(){if(c("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&n.push(t)}n.push(null)}),t.on("data",function(i){(c("wrapped data"),e.decoder&&(i=e.decoder.write(i)),i&&(e.objectMode||i.length))&&(n.push(i)||(r=!0,t.pause()))}),t)u.isFunction(t[i])&&u.isUndefined(this[i])&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));return function(t,e){for(var r=0,n=t.length;r<n;r++)e(t[r],r)}(["error","close","destroy","pause","resume"],function(e){t.on(e,n.emit.bind(n,e))}),n._read=function(e){c("wrapped _read",e),r&&(r=!1,t.resume())},n},l._fromList=y}).call(this,r(2))},function(t,e,r){(function(e){function r(t){this._db=t,this._operations=[],this._written=!1}r.prototype._serializeKey=function(t){return this._db._serializeKey(t)},r.prototype._serializeValue=function(t){return this._db._serializeValue(t)},r.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},r.prototype.put=function(t,e){this._checkWritten();var r=this._db._checkKey(t,"key",this._db._isBuffer);if(r)throw r;return t=this._serializeKey(t),e=this._serializeValue(e),"function"==typeof this._put?this._put(t,e):this._operations.push({type:"put",key:t,value:e}),this},r.prototype.del=function(t){this._checkWritten();var e=this._db._checkKey(t,"key",this._db._isBuffer);if(e)throw e;return t=this._serializeKey(t),"function"==typeof this._del?this._del(t):this._operations.push({type:"del",key:t}),this},r.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},r.prototype.write=function(t,r){if(this._checkWritten(),"function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("write() requires a callback argument");return"object"!=typeof t&&(t={}),this._written=!0,"function"==typeof this._write?this._write(r):"function"==typeof this._db._batch?this._db._batch(this._operations,t,r):void e.nextTick(r)},t.exports=r}).call(this,r(2))},function(t,e,r){(function(e){function r(t){this.db=t,this._ended=!1,this._nexting=!1}r.prototype.next=function(t){var r=this;if("function"!=typeof t)throw new Error("next() requires a callback argument");return r._ended?t(new Error("cannot call next() after end()")):r._nexting?t(new Error("cannot call next() before previous next() has completed")):(r._nexting=!0,"function"==typeof r._next?r._next(function(){r._nexting=!1,t.apply(null,arguments)}):void e.nextTick(function(){r._nexting=!1,t()}))},r.prototype.end=function(t){if("function"!=typeof t)throw new Error("end() requires a callback argument");return this._ended?t(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(t):void e.nextTick(t))},t.exports=r}).call(this,r(2))},function(t,e,r){(function(e,n){var i=r(79),o=r(571),s=r(570);function a(t){if(!arguments.length||void 0===t)throw new Error("constructor requires at least a location argument");if("string"!=typeof t)throw new Error("constructor requires a location string argument");this.location=t,this.status="new"}a.prototype.open=function(t,r){var n=this,i=this.status;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("open() requires a callback argument");"object"!=typeof t&&(t={}),t.createIfMissing=0!=t.createIfMissing,t.errorIfExists=!!t.errorIfExists,"function"==typeof this._open?(this.status="opening",this._open(t,function(t){if(t)return n.status=i,r(t);n.status="open",r()})):(this.status="open",e.nextTick(r))},a.prototype.close=function(t){var r=this,n=this.status;if("function"!=typeof t)throw new Error("close() requires a callback argument");"function"==typeof this._close?(this.status="closing",this._close(function(e){if(e)return r.status=n,t(e);r.status="closed",t()})):(this.status="closed",e.nextTick(t))},a.prototype.get=function(t,r,n){var i;if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("get() requires a callback argument");return(i=this._checkKey(t,"key"))?n(i):(t=this._serializeKey(t),"object"!=typeof r&&(r={}),r.asBuffer=0!=r.asBuffer,"function"==typeof this._get?this._get(t,r,n):void e.nextTick(function(){n(new Error("NotFound"))}))},a.prototype.put=function(t,r,n,i){var o;if("function"==typeof n&&(i=n),"function"!=typeof i)throw new Error("put() requires a callback argument");return(o=this._checkKey(t,"key"))?i(o):(t=this._serializeKey(t),r=this._serializeValue(r),"object"!=typeof n&&(n={}),"function"==typeof this._put?this._put(t,r,n,i):void e.nextTick(i))},a.prototype.del=function(t,r,n){var i;if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("del() requires a callback argument");return(i=this._checkKey(t,"key"))?n(i):(t=this._serializeKey(t),"object"!=typeof r&&(r={}),"function"==typeof this._del?this._del(t,r,n):void e.nextTick(n))},a.prototype.batch=function(t,r,n){if(!arguments.length)return this._chainedBatch();if("function"==typeof r&&(n=r),"function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(t))return n(new Error("batch(array) requires an array argument"));r&&"object"==typeof r||(r={});for(var i,o,s=0,a=t.length;s<a;s++)if("object"==typeof(i=t[s])){if(o=this._checkKey(i.type,"type"))return n(o);if(o=this._checkKey(i.key,"key"))return n(o)}if("function"==typeof this._batch)return this._batch(t,r,n);e.nextTick(n)},a.prototype.approximateSize=function(t,r,n){if(null==t||null==r||"function"==typeof t||"function"==typeof r)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof n)throw new Error("approximateSize() requires a callback argument");if(t=this._serializeKey(t),r=this._serializeKey(r),"function"==typeof this._approximateSize)return this._approximateSize(t,r,n);e.nextTick(function(){n(null,0)})},a.prototype._setupIteratorOptions=function(t){var e=this;return t=i(t),["start","end","gt","gte","lt","lte"].forEach(function(r){t[r]&&e._isBuffer(t[r])&&0===t[r].length&&delete t[r]}),t.reverse=!!t.reverse,t.keys=0!=t.keys,t.values=0!=t.values,t.limit="limit"in t?t.limit:-1,t.keyAsBuffer=0!=t.keyAsBuffer,t.valueAsBuffer=0!=t.valueAsBuffer,t},a.prototype.iterator=function(t){return"object"!=typeof t&&(t={}),t=this._setupIteratorOptions(t),"function"==typeof this._iterator?this._iterator(t):new o(this)},a.prototype._chainedBatch=function(){return new s(this)},a.prototype._isBuffer=function(t){return n.isBuffer(t)},a.prototype._serializeKey=function(t){return this._isBuffer(t)?t:String(t)},a.prototype._serializeValue=function(t){return null==t?"":this._isBuffer(t)||e.browser?t:String(t)},a.prototype._checkKey=function(t,e){return null===t||void 0===t?new Error(e+" cannot be `null` or `undefined`"):this._isBuffer(t)&&0===t.length?new Error(e+" cannot be an empty Buffer"):""===String(t)?new Error(e+" cannot be an empty String"):void 0},t.exports=a}).call(this,r(2),r(0).Buffer)},function(t,e,r){e.AbstractLevelDOWN=r(572),e.AbstractIterator=r(571),e.AbstractChainedBatch=r(570),e.isLevelDOWN=r(1350)},function(t,e){
/*!
  * prr
  * (c) 2013 Rod Vagg <rod@vagg.org>
  * https://github.com/rvagg/prr
  * License: MIT
  */
var r,n;r=this,n=function(){var t="function"==typeof Object.defineProperty?function(t,e,r){return Object.defineProperty(t,e,r),t}:function(t,e,r){return t[e]=r.value,t};return function(e,r,n,i){var o;if(i=function(t,e){var r="object"==typeof e,n=!r&&"string"==typeof e,i=function(t){return r?!!e[t]:!!n&&e.indexOf(t[0])>-1};return{enumerable:i("enumerable"),configurable:i("configurable"),writable:i("writable"),value:t}}(n,i),"object"==typeof r){for(o in r)Object.hasOwnProperty.call(r,o)&&(i.value=r[o],t(e,o,i));return e}return t(e,r,i)}},void 0!==t&&t.exports?t.exports=n():r.prr=n()},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(347),o=(n=i)&&n.__esModule?n:{default:n};e.default=o.default,t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){(0,n.default)(t,(0,i.default)((0,o.default)(e)),r)};var n=s(r(582)),i=s(r(1363)),o=s(r(128));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";t.exports=function(t,e,r){if((e-=(t+="").length)<=0)return t;r||0===r||(r=" ");if(" "==(r+="")&&e<10)return n[e]+t;var i="";for(;1&e&&(i+=r),e>>=1;)r+=r;return i+t};var n=[""," ","  ","   ","    ","     ","      ","       ","        ","         "]},function(t,e,r){"use strict";const n=r(579),i=r(45).Key,o=r(1365),s=e.PREFIX="/repo/flatfs/shard/",a=e.SHARDING_FN="SHARDING";e.README_FN="_README";class u{constructor(t){this.param=t}fun(t){throw new Error("implement me")}toString(){return`${s}v1/${this.name}/${this.param}`}}class c extends u{constructor(t){super(t),this._padding=n("",t,"_"),this.name="prefix"}fun(t){return(t+this._padding).slice(0,this.param)}}class f extends u{constructor(t){super(t),this._padding=n("",t,"_"),this.name="suffix"}fun(t){const e=this._padding+t;return e.slice(e.length-this.param)}}class l extends u{constructor(t){super(t),this._padding=n("",t+1,"_"),this.name="next-to-last"}fun(t){const e=this._padding+t,r=e.length-this.param-1;return e.slice(r,r+this.param)}}function h(t){if(0===(t=t.trim()).length)throw new Error("empty shard string");if(!t.startsWith(s))throw new Error(`invalid or no path prefix: ${t}`);const e=t.slice(s.length).split("/"),r=e[0];if("v1"!==r)throw new Error(`expect 'v1' version, got '${r}'`);const n=e[1];if(!e[2])throw new Error("missing param");const i=parseInt(e[2],10);switch(n){case"prefix":return new c(i);case"suffix":return new f(i);case"next-to-last":return new l(i);default:throw new Error(`unkown sharding function: ${n}`)}}e.readShardFun=((t,e,r)=>{const n=new i(t).child(new i(a));("function"==typeof e.getRaw?e.getRaw.bind(e):e.get.bind(e))(n,(t,e)=>{if(t)return r(t);let n;try{n=h((e||"").toString().trim())}catch(t){return r(t)}r(null,n)})}),e.readme=o,e.parseShardFun=h,e.Prefix=c,e.Suffix=f,e.NextToLast=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){((0,n.default)(t)?h:p)(t,(0,f.default)(e),r)};var n=l(r(10)),i=l(r(581)),o=l(r(1371)),s=l(r(1367)),a=l(r(4)),u=l(r(337)),c=l(r(211)),f=l(r(128));function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e,r){r=(0,u.default)(r||a.default);var n=0,o=0,s=t.length;function f(t,e){t?r(t):++o!==s&&e!==i.default||r(null)}for(0===s&&r(null);n<s;n++)e(t[n],n,(0,c.default)(f))}var p=(0,s.default)(o.default,1/0);t.exports=e.default},function(t,e,r){(function(e){var r="Expected a function",n="__lodash_hash_undefined__",i=1/0,o="[object Function]",s="[object GeneratorFunction]",a="[object Symbol]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,f=/^\./,l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,p=/^\[object .+?Constructor\]$/,d="object"==typeof e&&e&&e.Object===Object&&e,m="object"==typeof self&&self&&self.Object===Object&&self,g=d||m||Function("return this")();var v,y=Array.prototype,b=Function.prototype,w=Object.prototype,_=g["__core-js_shared__"],k=(v=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",S=b.toString,x=w.hasOwnProperty,E=w.toString,C=RegExp("^"+S.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=g.Symbol,M=y.splice,I=U(g,"Map"),T=U(Object,"create"),O=A?A.prototype:void 0,B=O?O.toString:void 0;function P(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function N(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function R(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function F(t,e){for(var r,n,i=t.length;i--;)if((r=t[i][0])===(n=e)||r!=r&&n!=n)return i;return-1}function j(t,e){for(var r,n=0,i=(e=function(t,e){if(q(t))return!1;var r=typeof t;if("number"==r||"symbol"==r||"boolean"==r||null==t||W(t))return!0;return c.test(t)||!u.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:q(r=e)?r:z(r)).length;null!=t&&n<i;)t=t[H(e[n++])];return n&&n==i?t:void 0}function L(t){return!(!V(t)||k&&k in t)&&(function(t){var e=V(t)?E.call(t):"";return e==o||e==s}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?C:p).test(function(t){if(null!=t){try{return S.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function D(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function U(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return L(r)?r:void 0}P.prototype.clear=function(){this.__data__=T?T(null):{}},P.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},P.prototype.get=function(t){var e=this.__data__;if(T){var r=e[t];return r===n?void 0:r}return x.call(e,t)?e[t]:void 0},P.prototype.has=function(t){var e=this.__data__;return T?void 0!==e[t]:x.call(e,t)},P.prototype.set=function(t,e){return this.__data__[t]=T&&void 0===e?n:e,this},N.prototype.clear=function(){this.__data__=[]},N.prototype.delete=function(t){var e=this.__data__,r=F(e,t);return!(r<0||(r==e.length-1?e.pop():M.call(e,r,1),0))},N.prototype.get=function(t){var e=this.__data__,r=F(e,t);return r<0?void 0:e[r][1]},N.prototype.has=function(t){return F(this.__data__,t)>-1},N.prototype.set=function(t,e){var r=this.__data__,n=F(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},R.prototype.clear=function(){this.__data__={hash:new P,map:new(I||N),string:new P}},R.prototype.delete=function(t){return D(this,t).delete(t)},R.prototype.get=function(t){return D(this,t).get(t)},R.prototype.has=function(t){return D(this,t).has(t)},R.prototype.set=function(t,e){return D(this,t).set(t,e),this};var z=K(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(W(t))return B?B.call(t):"";var e=t+"";return"0"==e&&1/t==-i?"-0":e}(e);var r=[];return f.test(t)&&r.push(""),t.replace(l,function(t,e,n,i){r.push(n?i.replace(h,"$1"):e||t)}),r});function H(t){if("string"==typeof t||W(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}function K(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(r);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(K.Cache||R),n}K.Cache=R;var q=Array.isArray;function V(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function W(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&E.call(t)==a}t.exports=function(t,e,r){var n=null==t?void 0:j(t,e);return void 0===n?r:n}}).call(this,r(7))},function(t,e){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);t.exports=function(t,e){var n=e||0,i=r;return i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+"-"+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]+i[t[n++]]}},function(t,e){var r="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);t.exports=function(){return r(n),n}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e,r){"use strict";(function(e){const n=r(341),i="/",o=e.from(i),s=o[0];class a{constructor(t,r){if("string"==typeof t?this._buf=e.from(t):e.isBuffer(t)&&(this._buf=t),null==r&&(r=!0),r&&this.clean(),0===this._buf.length||this._buf[0]!==s)throw new Error(`Invalid key: ${this.toString()}`)}toString(t){return this._buf.toString(t||"utf8")}toBuffer(){return this._buf}get[Symbol.toStringTag](){return`[Key ${this.toString()}]`}static withNamespaces(t){return new a(t.join(i))}static random(){return new a(n().replace(/-/g,""))}clean(){for(this._buf&&0!==this._buf.length||(this._buf=e.from(i)),this._buf[0]!==s&&(this._buf=e.concat([o,this._buf]));this._buf.length>1&&this._buf[this._buf.length-1]===s;)this._buf=this._buf.slice(0,-1)}less(t){const e=this.list(),r=t.list();for(let t=0;t<e.length;t++){if(r.length<t+1)return!1;const n=e[t],i=r[t];if(n<i)return!0;if(n>i)return!1}return e.length<r.length}reverse(){return a.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){const t=this.namespaces();return t[t.length-1]}list(){return this.toString().split(i).slice(1)}type(){return function(t){const e=t.split(":");if(e.length<2)return"";return e.slice(0,-1).join(":")}(this.baseNamespace())}name(){return function(t){const e=t.split(":");return e[e.length-1]}(this.baseNamespace())}instance(t){return new a(this.toString()+":"+t)}path(){let t=this.parent().toString();return t.endsWith(i)||(t+=i),t+=this.type(),new a(t)}parent(){const t=this.list();return 1===t.length?new a(i):new a(t.slice(0,-1).join(i))}child(t){return this.toString()===i?t:t.toString()===i?this:new a(this.toString()+t.toString(),!1)}isAncestorOf(t){return t.toString()!==this.toString()&&t.toString().startsWith(this.toString())}isDecendantOf(t){return t.toString()!==this.toString()&&this.toString().startsWith(t.toString())}isTopLevel(){return 1===this.list().length}}t.exports=a}).call(this,r(0).Buffer)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(r,n,i){return t(r,e,n,i)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={},t.exports=e.default},function(t,e){var r=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},function(t,e){var r=9007199254740991,n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?r:e)&&("number"==i||"symbol"!=i&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,r){var n=r(1414),i=r(1413),o=r(31),s=r(1411),a=r(590),u=r(1409),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=o(t),f=!r&&i(t),l=!r&&!f&&s(t),h=!r&&!f&&!l&&u(t),p=r||f||l||h,d=p?n(t.length,String):[],m=d.length;for(var g in t)!e&&!c.call(t,g)||p&&("length"==g||l&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||d.push(g);return d}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,o){(0,n.default)(e)(t,(0,i.default)(r),o)};var n=o(r(1417)),i=o(r(76));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e){var r=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}},function(t,e,r){(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.exports=r}).call(this,r(7))},function(t,e,r){var n=r(345).Symbol;t.exports=n},function(t,e,r){var n=r(346),i=r(23),o="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=n(t);return e==s||e==a||e==o||e==u}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){r=r||n.default;var a=(0,i.default)(e)?[]:{};t(e,function(t,e,r){(0,s.default)(t)(function(t,n){arguments.length>2&&(n=(0,o.default)(arguments,1)),a[e]=n,r(t)})},function(t){r(t,a)})};var n=a(r(4)),i=a(r(10)),o=a(r(216)),s=a(r(76));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(e=(0,o.default)(e||i.default),!(0,n.default)(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function c(e){var n=(0,u.default)(t[r++]);e.push((0,a.default)(f)),n.apply(null,e)}function f(n){if(n||r===t.length)return e.apply(null,arguments);c((0,s.default)(arguments,1))}c([])};var n=c(r(31)),i=c(r(4)),o=c(r(348)),s=c(r(216)),a=c(r(215)),u=c(r(76));function c(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";t.exports=function t(e){var r=arguments.length;if("function"==typeof e&&1===e.length){for(var n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(e){if(null==n)throw new TypeError("partial sink should only be called once!");var i=n;switch(n=null,r){case 1:return t(e,i[0]);case 2:return t(e,i[0],i[1]);case 3:return t(e,i[0],i[1],i[2]);case 4:return t(e,i[0],i[1],i[2],i[3]);default:return i.unshift(e),t.apply(null,i)}}}var o=e;o&&"function"==typeof o.source&&(o=o.source);for(i=1;i<r;i++){var s=arguments[i];"function"==typeof s?o=s(o):s&&"object"==typeof s&&(s.sink(o),o=s.source)}return o}},function(t,e,r){"use strict";function n(t){return t}var i=r(154),o=r(350);t.exports=function(t,e){t=i(t)||n;var r={};return o(function(n){var i=t(n);return r[i]?!!e:(r[i]=!0,!e)})}},function(t,e,r){var n=r(154);function i(t){return t}t.exports=function(t){return"object"==typeof t&&"function"==typeof t.test?function(e){return t.test(e)}:n(t)||i}},function(t,e,r){"use strict";var n=r(603);t.exports=function(t,e){return function(r,i){if(r)return n(i,r,e);if(null!=t){var o=t;t=null,i(null,o)}else i(!0)}}},function(t,e){t.exports=function(t,e,r){t(e),r&&r(!0===e?null:e)}},function(t,e,r){"use strict";const n=r(218),i={};t.exports=i;for(let t in n){i[n[t].toString("hex")]=t}},function(t,e,r){"use strict";(function(e){const n=r(35);function i(t){return parseInt(t.toString("hex"),16)}function o(t){let r=t.toString(16);return r.length%2==1&&(r="0"+r),e.from(r,"hex")}t.exports={numberToBuffer:o,bufferToNumber:i,varintBufferEncode:function(t){return e.from(n.encode(i(t)))},varintBufferDecode:function(t){return o(n.decode(t))}}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(218),i=r(605).varintBufferEncode,o={};t.exports=o;for(let t in n){let e=n[t];o[t]=i(e)}},function(t,e,r){"use strict";e.names=Object.freeze({sha1:17,"sha2-256":18,"sha2-512":19,"dbl-sha2-256":86,"sha3-224":23,"sha3-256":22,"sha3-384":21,"sha3-512":20,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,"murmur3-128":34,"murmur3-32":35,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"Skein256-8":45825,"Skein256-16":45826,"Skein256-24":45827,"Skein256-32":45828,"Skein256-40":45829,"Skein256-48":45830,"Skein256-56":45831,"Skein256-64":45832,"Skein256-72":45833,"Skein256-80":45834,"Skein256-88":45835,"Skein256-96":45836,"Skein256-104":45837,"Skein256-112":45838,"Skein256-120":45839,"Skein256-128":45840,"Skein256-136":45841,"Skein256-144":45842,"Skein256-152":45843,"Skein256-160":45844,"Skein256-168":45845,"Skein256-176":45846,"Skein256-184":45847,"Skein256-192":45848,"Skein256-200":45849,"Skein256-208":45850,"Skein256-216":45851,"Skein256-224":45852,"Skein256-232":45853,"Skein256-240":45854,"Skein256-248":45855,"Skein256-256":45856,"Skein512-8":45857,"Skein512-16":45858,"Skein512-24":45859,"Skein512-32":45860,"Skein512-40":45861,"Skein512-48":45862,"Skein512-56":45863,"Skein512-64":45864,"Skein512-72":45865,"Skein512-80":45866,"Skein512-88":45867,"Skein512-96":45868,"Skein512-104":45869,"Skein512-112":45870,"Skein512-120":45871,"Skein512-128":45872,"Skein512-136":45873,"Skein512-144":45874,"Skein512-152":45875,"Skein512-160":45876,"Skein512-168":45877,"Skein512-176":45878,"Skein512-184":45879,"Skein512-192":45880,"Skein512-200":45881,"Skein512-208":45882,"Skein512-216":45883,"Skein512-224":45884,"Skein512-232":45885,"Skein512-240":45886,"Skein512-248":45887,"Skein512-256":45888,"Skein512-264":45889,"Skein512-272":45890,"Skein512-280":45891,"Skein512-288":45892,"Skein512-296":45893,"Skein512-304":45894,"Skein512-312":45895,"Skein512-320":45896,"Skein512-328":45897,"Skein512-336":45898,"Skein512-344":45899,"Skein512-352":45900,"Skein512-360":45901,"Skein512-368":45902,"Skein512-376":45903,"Skein512-384":45904,"Skein512-392":45905,"Skein512-400":45906,"Skein512-408":45907,"Skein512-416":45908,"Skein512-424":45909,"Skein512-432":45910,"Skein512-440":45911,"Skein512-448":45912,"Skein512-456":45913,"Skein512-464":45914,"Skein512-472":45915,"Skein512-480":45916,"Skein512-488":45917,"Skein512-496":45918,"Skein512-504":45919,"Skein512-512":45920,"Skein1024-8":45921,"Skein1024-16":45922,"Skein1024-24":45923,"Skein1024-32":45924,"Skein1024-40":45925,"Skein1024-48":45926,"Skein1024-56":45927,"Skein1024-64":45928,"Skein1024-72":45929,"Skein1024-80":45930,"Skein1024-88":45931,"Skein1024-96":45932,"Skein1024-104":45933,"Skein1024-112":45934,"Skein1024-120":45935,"Skein1024-128":45936,"Skein1024-136":45937,"Skein1024-144":45938,"Skein1024-152":45939,"Skein1024-160":45940,"Skein1024-168":45941,"Skein1024-176":45942,"Skein1024-184":45943,"Skein1024-192":45944,"Skein1024-200":45945,"Skein1024-208":45946,"Skein1024-216":45947,"Skein1024-224":45948,"Skein1024-232":45949,"Skein1024-240":45950,"Skein1024-248":45951,"Skein1024-256":45952,"Skein1024-264":45953,"Skein1024-272":45954,"Skein1024-280":45955,"Skein1024-288":45956,"Skein1024-296":45957,"Skein1024-304":45958,"Skein1024-312":45959,"Skein1024-320":45960,"Skein1024-328":45961,"Skein1024-336":45962,"Skein1024-344":45963,"Skein1024-352":45964,"Skein1024-360":45965,"Skein1024-368":45966,"Skein1024-376":45967,"Skein1024-384":45968,"Skein1024-392":45969,"Skein1024-400":45970,"Skein1024-408":45971,"Skein1024-416":45972,"Skein1024-424":45973,"Skein1024-432":45974,"Skein1024-440":45975,"Skein1024-448":45976,"Skein1024-456":45977,"Skein1024-464":45978,"Skein1024-472":45979,"Skein1024-480":45980,"Skein1024-488":45981,"Skein1024-496":45982,"Skein1024-504":45983,"Skein1024-512":45984,"Skein1024-520":45985,"Skein1024-528":45986,"Skein1024-536":45987,"Skein1024-544":45988,"Skein1024-552":45989,"Skein1024-560":45990,"Skein1024-568":45991,"Skein1024-576":45992,"Skein1024-584":45993,"Skein1024-592":45994,"Skein1024-600":45995,"Skein1024-608":45996,"Skein1024-616":45997,"Skein1024-624":45998,"Skein1024-632":45999,"Skein1024-640":46e3,"Skein1024-648":46001,"Skein1024-656":46002,"Skein1024-664":46003,"Skein1024-672":46004,"Skein1024-680":46005,"Skein1024-688":46006,"Skein1024-696":46007,"Skein1024-704":46008,"Skein1024-712":46009,"Skein1024-720":46010,"Skein1024-728":46011,"Skein1024-736":46012,"Skein1024-744":46013,"Skein1024-752":46014,"Skein1024-760":46015,"Skein1024-768":46016,"Skein1024-776":46017,"Skein1024-784":46018,"Skein1024-792":46019,"Skein1024-800":46020,"Skein1024-808":46021,"Skein1024-816":46022,"Skein1024-824":46023,"Skein1024-832":46024,"Skein1024-840":46025,"Skein1024-848":46026,"Skein1024-856":46027,"Skein1024-864":46028,"Skein1024-872":46029,"Skein1024-880":46030,"Skein1024-888":46031,"Skein1024-896":46032,"Skein1024-904":46033,"Skein1024-912":46034,"Skein1024-920":46035,"Skein1024-928":46036,"Skein1024-936":46037,"Skein1024-944":46038,"Skein1024-952":46039,"Skein1024-960":46040,"Skein1024-968":46041,"Skein1024-976":46042,"Skein1024-984":46043,"Skein1024-992":46044,"Skein1024-1000":46045,"Skein1024-1008":46046,"Skein1024-1016":46047,"Skein1024-1024":46048}),e.codes=Object.freeze({17:"sha1",18:"sha2-256",19:"sha2-512",86:"dbl-sha2-256",23:"sha3-224",22:"sha3-256",21:"sha3-384",20:"sha3-512",24:"shake-128",25:"shake-256",26:"keccak-224",27:"keccak-256",28:"keccak-384",29:"keccak-512",34:"murmur3-128",35:"murmur3-32",45569:"blake2b-8",45570:"blake2b-16",45571:"blake2b-24",45572:"blake2b-32",45573:"blake2b-40",45574:"blake2b-48",45575:"blake2b-56",45576:"blake2b-64",45577:"blake2b-72",45578:"blake2b-80",45579:"blake2b-88",45580:"blake2b-96",45581:"blake2b-104",45582:"blake2b-112",45583:"blake2b-120",45584:"blake2b-128",45585:"blake2b-136",45586:"blake2b-144",45587:"blake2b-152",45588:"blake2b-160",45589:"blake2b-168",45590:"blake2b-176",45591:"blake2b-184",45592:"blake2b-192",45593:"blake2b-200",45594:"blake2b-208",45595:"blake2b-216",45596:"blake2b-224",45597:"blake2b-232",45598:"blake2b-240",45599:"blake2b-248",45600:"blake2b-256",45601:"blake2b-264",45602:"blake2b-272",45603:"blake2b-280",45604:"blake2b-288",45605:"blake2b-296",45606:"blake2b-304",45607:"blake2b-312",45608:"blake2b-320",45609:"blake2b-328",45610:"blake2b-336",45611:"blake2b-344",45612:"blake2b-352",45613:"blake2b-360",45614:"blake2b-368",45615:"blake2b-376",45616:"blake2b-384",45617:"blake2b-392",45618:"blake2b-400",45619:"blake2b-408",45620:"blake2b-416",45621:"blake2b-424",45622:"blake2b-432",45623:"blake2b-440",45624:"blake2b-448",45625:"blake2b-456",45626:"blake2b-464",45627:"blake2b-472",45628:"blake2b-480",45629:"blake2b-488",45630:"blake2b-496",45631:"blake2b-504",45632:"blake2b-512",45633:"blake2s-8",45634:"blake2s-16",45635:"blake2s-24",45636:"blake2s-32",45637:"blake2s-40",45638:"blake2s-48",45639:"blake2s-56",45640:"blake2s-64",45641:"blake2s-72",45642:"blake2s-80",45643:"blake2s-88",45644:"blake2s-96",45645:"blake2s-104",45646:"blake2s-112",45647:"blake2s-120",45648:"blake2s-128",45649:"blake2s-136",45650:"blake2s-144",45651:"blake2s-152",45652:"blake2s-160",45653:"blake2s-168",45654:"blake2s-176",45655:"blake2s-184",45656:"blake2s-192",45657:"blake2s-200",45658:"blake2s-208",45659:"blake2s-216",45660:"blake2s-224",45661:"blake2s-232",45662:"blake2s-240",45663:"blake2s-248",45664:"blake2s-256",45825:"Skein256-8",45826:"Skein256-16",45827:"Skein256-24",45828:"Skein256-32",45829:"Skein256-40",45830:"Skein256-48",45831:"Skein256-56",45832:"Skein256-64",45833:"Skein256-72",45834:"Skein256-80",45835:"Skein256-88",45836:"Skein256-96",45837:"Skein256-104",45838:"Skein256-112",45839:"Skein256-120",45840:"Skein256-128",45841:"Skein256-136",45842:"Skein256-144",45843:"Skein256-152",45844:"Skein256-160",45845:"Skein256-168",45846:"Skein256-176",45847:"Skein256-184",45848:"Skein256-192",45849:"Skein256-200",45850:"Skein256-208",45851:"Skein256-216",45852:"Skein256-224",45853:"Skein256-232",45854:"Skein256-240",45855:"Skein256-248",45856:"Skein256-256",45857:"Skein512-8",45858:"Skein512-16",45859:"Skein512-24",45860:"Skein512-32",45861:"Skein512-40",45862:"Skein512-48",45863:"Skein512-56",45864:"Skein512-64",45865:"Skein512-72",45866:"Skein512-80",45867:"Skein512-88",45868:"Skein512-96",45869:"Skein512-104",45870:"Skein512-112",45871:"Skein512-120",45872:"Skein512-128",45873:"Skein512-136",45874:"Skein512-144",45875:"Skein512-152",45876:"Skein512-160",45877:"Skein512-168",45878:"Skein512-176",45879:"Skein512-184",45880:"Skein512-192",45881:"Skein512-200",45882:"Skein512-208",45883:"Skein512-216",45884:"Skein512-224",45885:"Skein512-232",45886:"Skein512-240",45887:"Skein512-248",45888:"Skein512-256",45889:"Skein512-264",45890:"Skein512-272",45891:"Skein512-280",45892:"Skein512-288",45893:"Skein512-296",45894:"Skein512-304",45895:"Skein512-312",45896:"Skein512-320",45897:"Skein512-328",45898:"Skein512-336",45899:"Skein512-344",45900:"Skein512-352",45901:"Skein512-360",45902:"Skein512-368",45903:"Skein512-376",45904:"Skein512-384",45905:"Skein512-392",45906:"Skein512-400",45907:"Skein512-408",45908:"Skein512-416",45909:"Skein512-424",45910:"Skein512-432",45911:"Skein512-440",45912:"Skein512-448",45913:"Skein512-456",45914:"Skein512-464",45915:"Skein512-472",45916:"Skein512-480",45917:"Skein512-488",45918:"Skein512-496",45919:"Skein512-504",45920:"Skein512-512",45921:"Skein1024-8",45922:"Skein1024-16",45923:"Skein1024-24",45924:"Skein1024-32",45925:"Skein1024-40",45926:"Skein1024-48",45927:"Skein1024-56",45928:"Skein1024-64",45929:"Skein1024-72",45930:"Skein1024-80",45931:"Skein1024-88",45932:"Skein1024-96",45933:"Skein1024-104",45934:"Skein1024-112",45935:"Skein1024-120",45936:"Skein1024-128",45937:"Skein1024-136",45938:"Skein1024-144",45939:"Skein1024-152",45940:"Skein1024-160",45941:"Skein1024-168",45942:"Skein1024-176",45943:"Skein1024-184",45944:"Skein1024-192",45945:"Skein1024-200",45946:"Skein1024-208",45947:"Skein1024-216",45948:"Skein1024-224",45949:"Skein1024-232",45950:"Skein1024-240",45951:"Skein1024-248",45952:"Skein1024-256",45953:"Skein1024-264",45954:"Skein1024-272",45955:"Skein1024-280",45956:"Skein1024-288",45957:"Skein1024-296",45958:"Skein1024-304",45959:"Skein1024-312",45960:"Skein1024-320",45961:"Skein1024-328",45962:"Skein1024-336",45963:"Skein1024-344",45964:"Skein1024-352",45965:"Skein1024-360",45966:"Skein1024-368",45967:"Skein1024-376",45968:"Skein1024-384",45969:"Skein1024-392",45970:"Skein1024-400",45971:"Skein1024-408",45972:"Skein1024-416",45973:"Skein1024-424",45974:"Skein1024-432",45975:"Skein1024-440",45976:"Skein1024-448",45977:"Skein1024-456",45978:"Skein1024-464",45979:"Skein1024-472",45980:"Skein1024-480",45981:"Skein1024-488",45982:"Skein1024-496",45983:"Skein1024-504",45984:"Skein1024-512",45985:"Skein1024-520",45986:"Skein1024-528",45987:"Skein1024-536",45988:"Skein1024-544",45989:"Skein1024-552",45990:"Skein1024-560",45991:"Skein1024-568",45992:"Skein1024-576",45993:"Skein1024-584",45994:"Skein1024-592",45995:"Skein1024-600",45996:"Skein1024-608",45997:"Skein1024-616",45998:"Skein1024-624",45999:"Skein1024-632",46000:"Skein1024-640",46001:"Skein1024-648",46002:"Skein1024-656",46003:"Skein1024-664",46004:"Skein1024-672",46005:"Skein1024-680",46006:"Skein1024-688",46007:"Skein1024-696",46008:"Skein1024-704",46009:"Skein1024-712",46010:"Skein1024-720",46011:"Skein1024-728",46012:"Skein1024-736",46013:"Skein1024-744",46014:"Skein1024-752",46015:"Skein1024-760",46016:"Skein1024-768",46017:"Skein1024-776",46018:"Skein1024-784",46019:"Skein1024-792",46020:"Skein1024-800",46021:"Skein1024-808",46022:"Skein1024-816",46023:"Skein1024-824",46024:"Skein1024-832",46025:"Skein1024-840",46026:"Skein1024-848",46027:"Skein1024-856",46028:"Skein1024-864",46029:"Skein1024-872",46030:"Skein1024-880",46031:"Skein1024-888",46032:"Skein1024-896",46033:"Skein1024-904",46034:"Skein1024-912",46035:"Skein1024-920",46036:"Skein1024-928",46037:"Skein1024-936",46038:"Skein1024-944",46039:"Skein1024-952",46040:"Skein1024-960",46041:"Skein1024-968",46042:"Skein1024-976",46043:"Skein1024-984",46044:"Skein1024-992",46045:"Skein1024-1000",46046:"Skein1024-1008",46047:"Skein1024-1016",46048:"Skein1024-1024"}),e.defaultLengths=Object.freeze({17:20,18:32,19:64,86:32,23:28,22:32,21:48,20:64,24:32,25:64,26:28,27:32,28:48,29:64,34:32,45569:1,45570:2,45571:3,45572:4,45573:5,45574:6,45575:7,45576:8,45577:9,45578:10,45579:11,45580:12,45581:13,45582:14,45583:15,45584:16,45585:17,45586:18,45587:19,45588:20,45589:21,45590:22,45591:23,45592:24,45593:25,45594:26,45595:27,45596:28,45597:29,45598:30,45599:31,45600:32,45601:33,45602:34,45603:35,45604:36,45605:37,45606:38,45607:39,45608:40,45609:41,45610:42,45611:43,45612:44,45613:45,45614:46,45615:47,45616:48,45617:49,45618:50,45619:51,45620:52,45621:53,45622:54,45623:55,45624:56,45625:57,45626:58,45627:59,45628:60,45629:61,45630:62,45631:63,45632:64,45633:1,45634:2,45635:3,45636:4,45637:5,45638:6,45639:7,45640:8,45641:9,45642:10,45643:11,45644:12,45645:13,45646:14,45647:15,45648:16,45649:17,45650:18,45651:19,45652:20,45653:21,45654:22,45655:23,45656:24,45657:25,45658:26,45659:27,45660:28,45661:29,45662:30,45663:31,45664:32,45825:1,45826:2,45827:3,45828:4,45829:5,45830:6,45831:7,45832:8,45833:9,45834:10,45835:11,45836:12,45837:13,45838:14,45839:15,45840:16,45841:17,45842:18,45843:19,45844:20,45845:21,45846:22,45847:23,45848:24,45849:25,45850:26,45851:27,45852:28,45853:29,45854:30,45855:31,45856:32,45857:1,45858:2,45859:3,45860:4,45861:5,45862:6,45863:7,45864:8,45865:9,45866:10,45867:11,45868:12,45869:13,45870:14,45871:15,45872:16,45873:17,45874:18,45875:19,45876:20,45877:21,45878:22,45879:23,45880:24,45881:25,45882:26,45883:27,45884:28,45885:29,45886:30,45887:31,45888:32,45889:33,45890:34,45891:35,45892:36,45893:37,45894:38,45895:39,45896:40,45897:41,45898:42,45899:43,45900:44,45901:45,45902:46,45903:47,45904:48,45905:49,45906:50,45907:51,45908:52,45909:53,45910:54,45911:55,45912:56,45913:57,45914:58,45915:59,45916:60,45917:61,45918:62,45919:63,45920:64,45921:1,45922:2,45923:3,45924:4,45925:5,45926:6,45927:7,45928:8,45929:9,45930:10,45931:11,45932:12,45933:13,45934:14,45935:15,45936:16,45937:17,45938:18,45939:19,45940:20,45941:21,45942:22,45943:23,45944:24,45945:25,45946:26,45947:27,45948:28,45949:29,45950:30,45951:31,45952:32,45953:33,45954:34,45955:35,45956:36,45957:37,45958:38,45959:39,45960:40,45961:41,45962:42,45963:43,45964:44,45965:45,45966:46,45967:47,45968:48,45969:49,45970:50,45971:51,45972:52,45973:53,45974:54,45975:55,45976:56,45977:57,45978:58,45979:59,45980:60,45981:61,45982:62,45983:63,45984:64,45985:65,45986:66,45987:67,45988:68,45989:69,45990:70,45991:71,45992:72,45993:73,45994:74,45995:75,45996:76,45997:77,45998:78,45999:79,46000:80,46001:81,46002:82,46003:83,46004:84,46005:85,46006:86,46007:87,46008:88,46009:89,46010:90,46011:91,46012:92,46013:93,46014:94,46015:95,46016:96,46017:97,46018:98,46019:99,46020:100,46021:101,46022:102,46023:103,46024:104,46025:105,46026:106,46027:107,46028:108,46029:109,46030:110,46031:111,46032:112,46033:113,46034:114,46035:115,46036:116,46037:117,46038:118,46039:119,46040:120,46041:121,46042:122,46043:123,46044:124,46045:125,46046:126,46047:127,46048:128})},function(t,e,r){var n=r(3).Buffer;t.exports=function(t){for(var e={},r=t.length,i=t.charAt(0),o=0;o<t.length;o++){var s=t.charAt(o);if(void 0!==e[s])throw new TypeError(s+" is ambiguous");e[s]=o}function a(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return n.allocUnsafe(0);for(var o=[0],s=0;s<t.length;s++){var a=e[t[s]];if(void 0===a)return;for(var u=0,c=a;u<o.length;++u)c+=o[u]*r,o[u]=255&c,c>>=8;for(;c>0;)o.push(255&c),c>>=8}for(var f=0;t[f]===i&&f<t.length-1;++f)o.push(0);return n.from(o.reverse())}return{encode:function(e){if(0===e.length)return"";for(var n=[0],o=0;o<e.length;++o){for(var s=0,a=e[o];s<n.length;++s)a+=n[s]<<8,n[s]=a%r,a=a/r|0;for(;a>0;)n.push(a%r),a=a/r|0}for(var u="",c=0;0===e[c]&&c<e.length-1;++c)u+=i;for(var f=n.length-1;f>=0;--f)u+=t[n[f]];return u},decodeUnsafe:a,decode:function(t){var e=a(t);if(e)return e;throw new Error("Non-base"+r+" character")}}}},function(t,e,r){"use strict";t.exports=class{constructor(t){this._repo=t,this._bitswap=null}setExchange(t){this._bitswap=t}unsetExchange(){this._bitswap=null}hasExchange(){return null!=this._bitswap}put(t,e){if(this.hasExchange())return this._bitswap.put(t,e);this._repo.blocks.put(t,e)}putMany(t,e){if(this.hasExchange())return this._bitswap.putMany(t,e);this._repo.blocks.putMany(t,e)}get(t,e){return this.hasExchange()?this._bitswap.get(t,e):this._repo.blocks.get(t,e)}delete(t,e){this._repo.blocks.delete(t,e)}}},function(t,e,r){var n=r(37),i=r(226),o=r(77),s=r(157),a=r(222),u=r(221),c=function(t,e,r){this._requestManager=t,this._params=e.inputs,this._name=n.transformToFullName(e),this._address=r,this._anonymous=e.anonymous};c.prototype.types=function(t){return this._params.filter(function(e){return e.indexed===t}).map(function(t){return t.type})},c.prototype.displayName=function(){return n.extractDisplayName(this._name)},c.prototype.typeName=function(){return n.extractTypeName(this._name)},c.prototype.signature=function(){return s(this._name)},c.prototype.encode=function(t,e){t=t||{},e=e||{};var r={};["fromBlock","toBlock"].filter(function(t){return void 0!==e[t]}).forEach(function(t){r[t]=o.inputBlockNumberFormatter(e[t])}),r.topics=[],r.address=this._address,this._anonymous||r.topics.push("0x"+this.signature());var s=this._params.filter(function(t){return!0===t.indexed}).map(function(e){var r=t[e.name];return void 0===r||null===r?null:n.isArray(r)?r.map(function(t){return"0x"+i.encodeParam(e.type,t)}):"0x"+i.encodeParam(e.type,r)});return r.topics=r.topics.concat(s),r},c.prototype.decode=function(t){t.data=t.data||"",t.topics=t.topics||[];var e=(this._anonymous?t.topics:t.topics.slice(1)).map(function(t){return t.slice(2)}).join(""),r=i.decodeParams(this.types(!0),e),n=t.data.slice(2),s=i.decodeParams(this.types(!1),n),a=o.outputLogFormatter(t);return a.event=this.displayName(),a.address=t.address,a.args=this._params.reduce(function(t,e){return t[e.name]=e.indexed?r.shift():s.shift(),t},{}),delete a.data,delete a.topics,a},c.prototype.execute=function(t,e,r){n.isFunction(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],2===arguments.length&&(e=null),1===arguments.length&&(e=null,t={}));var i=this.encode(t,e),o=this.decode.bind(this);return new a(this._requestManager,i,u.eth(),o,r)},c.prototype.attachToContract=function(t){var e=this.execute.bind(this),r=this.displayName();t[r]||(t[r]=e),t[r][this.typeName()]=this.execute.bind(this,t)},t.exports=c},function(t,e){var r={messageId:0,toPayload:function(t,e){return t||console.error("jsonrpc method should be specified!"),r.messageId++,{jsonrpc:"2.0",id:r.messageId,method:t,params:e||[]}},isValidResponse:function(t){return Array.isArray(t)?t.every(e):e(t);function e(t){return!!t&&!t.error&&"2.0"===t.jsonrpc&&"number"==typeof t.id&&void 0!==t.result}},toBatchPayload:function(t){return t.map(function(t){return r.toPayload(t.method,t.params)})}};t.exports=r},function(t,e,r){var n=r(37),i=function(t,e){this.value=t||"",this.offset=e};i.prototype.dynamicPartLength=function(){return this.dynamicPart().length/2},i.prototype.withOffset=function(t){return new i(this.value,t)},i.prototype.combine=function(t){return new i(this.value+t.value)},i.prototype.isDynamic=function(){return void 0!==this.offset},i.prototype.offsetAsBytes=function(){return this.isDynamic()?n.padLeft(n.toTwosComplement(this.offset).toString(16),64):""},i.prototype.staticPart=function(){return this.isDynamic()?this.offsetAsBytes():this.value},i.prototype.dynamicPart=function(){return this.isDynamic()?this.value:""},i.prototype.encode=function(){return this.staticPart()+this.dynamicPart()},i.encodeList=function(t){var e=32*t.length,r=t.map(function(t){if(!t.isDynamic())return t;var r=e;return e+=t.dynamicPartLength(),t.withOffset(r)});return r.reduce(function(t,e){return t+e.dynamicPart()},r.reduce(function(t,e){return t+e.staticPart()},""))},t.exports=i},function(t,e,r){var n;t.exports=(n=r(15),r(225),function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,s=e.x64.Word,a=e.algo,u=[],c=[],f=[];!function(){for(var t=1,e=0,r=0;r<24;r++){u[t+5*e]=(r+1)*(r+2)/2%64;var n=(2*t+3*e)%5;t=e%5,e=n}for(t=0;t<5;t++)for(e=0;e<5;e++)c[t+5*e]=e+(2*t+3*e)%5*5;for(var i=1,o=0;o<24;o++){for(var a=0,l=0,h=0;h<7;h++){if(1&i){var p=(1<<h)-1;p<32?l^=1<<p:a^=1<<p-32}128&i?i=i<<1^113:i<<=1}f[o]=s.create(a,l)}}();var l=[];!function(){for(var t=0;t<25;t++)l[t]=s.create()}();var h=a.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var o=t[e+2*i],s=t[e+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(M=r[i]).high^=s,M.low^=o}for(var a=0;a<24;a++){for(var h=0;h<5;h++){for(var p=0,d=0,m=0;m<5;m++)p^=(M=r[h+5*m]).high,d^=M.low;var g=l[h];g.high=p,g.low=d}for(h=0;h<5;h++){var v=l[(h+4)%5],y=l[(h+1)%5],b=y.high,w=y.low;for(p=v.high^(b<<1|w>>>31),d=v.low^(w<<1|b>>>31),m=0;m<5;m++)(M=r[h+5*m]).high^=p,M.low^=d}for(var _=1;_<25;_++){var k=(M=r[_]).high,S=M.low,x=u[_];x<32?(p=k<<x|S>>>32-x,d=S<<x|k>>>32-x):(p=S<<x-32|k>>>64-x,d=k<<x-32|S>>>64-x);var E=l[c[_]];E.high=p,E.low=d}var C=l[0],A=r[0];for(C.high=A.high,C.low=A.low,h=0;h<5;h++)for(m=0;m<5;m++){var M=r[_=h+5*m],I=l[_],T=l[(h+1)%5+5*m],O=l[(h+2)%5+5*m];M.high=I.high^~T.high&O.high,M.low=I.low^~T.low&O.low}M=r[0];var B=f[a];M.high^=B.high,M.low^=B.low}},_doFinalize:function(){var e=this._data,r=e.words,n=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(t.ceil((n+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,u=a/8,c=[],f=0;f<u;f++){var l=s[f],h=l.high,p=l.low;h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),c.push(p),c.push(h)}return new i.init(c,a)},clone:function(){for(var t=o.clone.call(this),e=t._state=this._state.slice(0),r=0;r<25;r++)e[r]=e[r].clone();return t}});e.SHA3=o._createHelper(h),e.HmacSHA3=o._createHmacHelper(h)}(Math),n.SHA3)},function(t,e,r){var n;t.exports=(n=r(15),r(225),function(){var t=n,e=t.lib.Hasher,r=t.x64,i=r.Word,o=r.WordArray,s=t.algo;function a(){return i.create.apply(i,arguments)}var u=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],c=[];!function(){for(var t=0;t<80;t++)c[t]=a()}();var f=s.SHA512=e.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],f=r[5],l=r[6],h=r[7],p=n.high,d=n.low,m=i.high,g=i.low,v=o.high,y=o.low,b=s.high,w=s.low,_=a.high,k=a.low,S=f.high,x=f.low,E=l.high,C=l.low,A=h.high,M=h.low,I=p,T=d,O=m,B=g,P=v,N=y,R=b,F=w,j=_,L=k,D=S,U=x,z=E,H=C,K=A,q=M,V=0;V<80;V++){var W=c[V];if(V<16)var G=W.high=0|t[e+2*V],Y=W.low=0|t[e+2*V+1];else{var $=c[V-15],Z=$.high,X=$.low,J=(Z>>>1|X<<31)^(Z>>>8|X<<24)^Z>>>7,Q=(X>>>1|Z<<31)^(X>>>8|Z<<24)^(X>>>7|Z<<25),tt=c[V-2],et=tt.high,rt=tt.low,nt=(et>>>19|rt<<13)^(et<<3|rt>>>29)^et>>>6,it=(rt>>>19|et<<13)^(rt<<3|et>>>29)^(rt>>>6|et<<26),ot=c[V-7],st=ot.high,at=ot.low,ut=c[V-16],ct=ut.high,ft=ut.low;G=(G=(G=J+st+((Y=Q+at)>>>0<Q>>>0?1:0))+nt+((Y+=it)>>>0<it>>>0?1:0))+ct+((Y+=ft)>>>0<ft>>>0?1:0),W.high=G,W.low=Y}var lt,ht=j&D^~j&z,pt=L&U^~L&H,dt=I&O^I&P^O&P,mt=T&B^T&N^B&N,gt=(I>>>28|T<<4)^(I<<30|T>>>2)^(I<<25|T>>>7),vt=(T>>>28|I<<4)^(T<<30|I>>>2)^(T<<25|I>>>7),yt=(j>>>14|L<<18)^(j>>>18|L<<14)^(j<<23|L>>>9),bt=(L>>>14|j<<18)^(L>>>18|j<<14)^(L<<23|j>>>9),wt=u[V],_t=wt.high,kt=wt.low,St=K+yt+((lt=q+bt)>>>0<q>>>0?1:0),xt=vt+mt;K=z,q=H,z=D,H=U,D=j,U=L,j=R+(St=(St=(St=St+ht+((lt+=pt)>>>0<pt>>>0?1:0))+_t+((lt+=kt)>>>0<kt>>>0?1:0))+G+((lt+=Y)>>>0<Y>>>0?1:0))+((L=F+lt|0)>>>0<F>>>0?1:0)|0,R=P,F=N,P=O,N=B,O=I,B=T,I=St+(gt+dt+(xt>>>0<vt>>>0?1:0))+((T=lt+xt|0)>>>0<lt>>>0?1:0)|0}d=n.low=d+T,n.high=p+I+(d>>>0<T>>>0?1:0),g=i.low=g+B,i.high=m+O+(g>>>0<B>>>0?1:0),y=o.low=y+N,o.high=v+P+(y>>>0<N>>>0?1:0),w=s.low=w+F,s.high=b+R+(w>>>0<F>>>0?1:0),k=a.low=k+L,a.high=_+j+(k>>>0<L>>>0?1:0),x=f.low=x+U,f.high=S+D+(x>>>0<U>>>0?1:0),C=l.low=C+H,l.high=E+z+(C>>>0<H>>>0?1:0),M=h.low=M+q,h.high=A+K+(M>>>0<q>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),e[31+(n+128>>>10<<5)]=r,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(f),t.HmacSHA512=e._createHmacHelper(f)}(),n.SHA512)},function(t,e,r){var n;t.exports=(n=r(15),function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,s=e.algo,a=[],u=[];!function(){function e(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0}function r(t){return 4294967296*(t-(0|t))|0}for(var n=2,i=0;i<64;)e(n)&&(i<8&&(a[i]=r(t.pow(n,.5))),u[i]=r(t.pow(n,1/3)),i++),n++}();var c=[],f=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],f=r[5],l=r[6],h=r[7],p=0;p<64;p++){if(p<16)c[p]=0|t[e+p];else{var d=c[p-15],m=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,g=c[p-2],v=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[p]=m+c[p-7]+v+c[p-16]}var y=n&i^n&o^i&o,b=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),w=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&f^~a&l)+u[p]+c[p];h=l,l=f,f=a,a=s+w|0,s=o,o=i,i=n,n=w+(b+y)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0,r[5]=r[5]+f|0,r[6]=r[6]+l|0,r[7]=r[7]+h|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=t.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(f),e.HmacSHA256=o._createHmacHelper(f)}(Math),n.SHA256)},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,r){"use strict";var n=function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(s,a)}u((n=n.apply(t,e||[])).next())})},i=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(1526),s=r(1525),a=r(1524),u=r(220),c=r(353),f=r(1464),l=r(1462),h=r(1461),p=window.Buffer||void 0;function d(t){var e=a.decodeMethod(t);return e?c.transformDecodedInputData(e):null}function m(t){var e=a.decodeLogs(t);return e?c.transformDecodedLogData(e):null}void 0===p&&(p=r(0).Buffer,window.Buffer=p),a.addABI(o.abiArray),e.decodeMethod=d,e.decodeLogs=m;var g=function(){function t(t){this.version=0,this.ipfs=null,this.web3=t}return t.prototype.initialize=function(){return n(this,void 0,void 0,function(){var t,e,r,n;return i(this,function(i){switch(i.label){case 0:return t=this,[4,this.web3.eth.getAccounts()];case 1:return t.accountAddress=i.sent()[0],e=this,[4,this.web3.eth.net.getId()];case 2:return e.networkId=i.sent(),r=this,[4,this.getNetworkName(this.networkId)];case 3:return r.networkName=i.sent(),this.contractInstance=new this.web3.eth.Contract(o.abiArray,o.getContractAddress(this.networkId)),n=this,[4,this.getUserInfoFromAddress(this.accountAddress)];case 4:return n.userInfo=i.sent(),[4,this.initializeIPFS()];case 5:return i.sent(),[4,this.initializeSettings()];case 6:return i.sent(),[2]}})})},t.prototype.initializeIPFS=function(){var t=this;return this.ipfs=new h({}),new Promise(function(e,r){t.ipfs.on("ready",function(){return console.log("IPFS node initialized"),e()}),t.ipfs.on("error",function(t){return r(t)})})},t.prototype.ipfsAdd=function(t){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.ipfs.files.add(p.from(t))];case 1:return[2,e.sent()[0]]}})})},t.prototype.ipfsCat=function(t){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.ipfs.files.cat(t)];case 1:return[2,e.sent().toString("utf8")]}})})},t.prototype.getNetworkName=function(t){switch(t){case 1:return"mainnet";case 2:return"morden test network";case 3:return"ropsten test network";default:return"unknown network"}},t.prototype.formatTag=function(t){return this.web3.utils.isAddress(t)?t.toLowerCase().replace(/^0x/,"0x000000000000000000000000"):t.startsWith("0x")&&66===t.length?t.toLowerCase():"0x"+s.sha256(t.toLowerCase().replace(/[\s\@\#]/g,""))},t.prototype.formatUsername=function(t){var e=u.compressString(t.toLowerCase().replace(/[\s\@\#]/g,"")),r=u.hexEncode(e);if(r.length>=64)throw"Username: "+t+" is too long";for(;64!==r.length;)r="0"+r;return"0x"+r},t.prototype.postFeed=function(t,e,r){return void 0===e&&(e=[]),void 0===r&&(r=!1),n(this,void 0,void 0,function(){var n,o,a,c,f,l,h,p,d=this;return i(this,function(i){switch(i.label){case 0:for(n=0;n<e.length;n++){if(!(o=this.formatTag(e[n])).length)throw new Error("Invalid tag: "+e[n]+"\nCompressed("+o.length/2+"bytes): "+o);e[n]=o}return e=Array.from(new Set(e)),a=Date.now(),r?(c="ipfs://",[4,this.ipfsAdd(t)]):[3,2];case 1:t=c+i.sent().hash,i.label=2;case 2:return f=u.compressString(t),l="0x"+s.sha256(this.accountAddress+a.toString()+t),[4,this.getNewestFeedTransactionFromUser(this.accountAddress)];case 3:return h=i.sent(),p=h?h.hash:"0x0000000000000000000000000000000000000000000000000000000000000000",console.log("post    :"),console.log("    tags: ",e),[4,new Promise(function(t,r){d.contractInstance.methods.post(a,f,l,p,e).send({from:d.accountAddress}).on("error",function(t){return r(t)}).on("transactionHash",function(e){return console.log("post feed txHash: ",e),t(e)}).on("receipt",function(t){console.log("post feed receipt",t)})})];case 4:return[2,i.sent()]}})})},t.prototype.replyFeed=function(t,e,r,o,a){return void 0===e&&(e=[]),void 0===r&&(r=0),void 0===a&&(a=!1),n(this,void 0,void 0,function(){var n,c,f,h,p,d,m,g,v,y,b,w,_,k=this;return i(this,function(i){switch(i.label){case 0:for(n=0;n<e.length;n++){if(!(c=this.formatTag(e[n])).length)throw new Error("Invalid tag: "+e[n]+"\nCompressed("+c.length/2+"bytes): "+c);e[n]=c}return e=Array.from(new Set(e)),f=Date.now(),a?(h="ipfs://",[4,this.ipfsAdd(t)]):[3,2];case 1:t=h+i.sent().hash,i.label=2;case 2:return p=u.compressString(t),d="0x"+s.sha256(this.accountAddress+f.toString()+t),m=o.transactionInfo.hash,[4,this.contractInstance.methods.getCurrentTagInfoByTime(m).call()];case 3:return g=i.sent(),v=parseInt(g[0]),y=new l.BigNumber(g[1]).toString(16),[4,this.getTransactionInfo({blockNumber:v,messageHash:y})];case 4:return b=i.sent(),w=b?b.hash:"0x0000000000000000000000000000000000000000000000000000000000000000",_="0x0000000000000000000000000000000000000000",[4,new Promise(function(t,n){k.contractInstance.methods.reply(f,m,w,p,d,e,r,_).send({from:k.accountAddress}).on("error",function(t){return n(t)}).on("transactionHash",function(e){return console.log("reply feed txHash: ",e),t(e)}).on("receipt",function(t){console.log("reply feed receipt",t)})})];case 5:return[2,i.sent()]}})})},t.prototype.upvote=function(t,e,r){return void 0===e&&(e=""),void 0===r&&(r=0),n(this,void 0,void 0,function(){var n,o,s,a,u,c=this;return i(this,function(i){switch(i.label){case 0:return[4,this.web3.eth.getTransaction(t)];case 1:return n=i.sent(),(o=d(n.input))&&0!==Object.keys(o).length?[4,this.getNewestFeedTransactionFromUser(this.accountAddress)]:[2,null];case 2:return s=i.sent(),a=s.hash,u=[],"post"===o.name&&(u=o.params.tags.value),e||(e="0x0000000000000000000000000000000000000000"),[2,new Promise(function(n,i){c.contractInstance.methods.upvote(Date.now(),t,a,u,e).send({from:c.accountAddress,value:r}).on("error",function(t){return i(t)}).on("transactionHash",function(t){return console.log("upvote txHash: ",t),n(t)}).on("receipt",function(t){console.log("upvote receipt: ",t)})})]}})})},t.prototype.downvote=function(t){return n(this,void 0,void 0,function(){var e=this;return i(this,function(r){return[2,new Promise(function(r,n){e.contractInstance.methods.downvote(t).send({from:e.accountAddress}).on("error",function(t){return n(t)}).on("transactionHash",function(t){return console.log("downvote txHash: ",t),r(t)}).on("receipt",function(t){console.log("downvote receipt: ",t)})})]})})},t.prototype.getTransactionInfo=function(t){var e=t.userAddress,r=void 0===e?"":e,o=t.blockNumber,s=void 0===o?0:o,a=t.messageHash,u=void 0===a?"":a,c=t.transactionHash,f=void 0===c?"":c;return n(this,void 0,void 0,function(){var t,e,n,o,a;return i(this,function(i){switch(i.label){case 0:if(t=function(t){if(r&&r.toLowerCase()!==t.from.toLowerCase())return null;var e=d(t.input);if(e&&0!==Object.keys(e).length){var n=null;return"post"===e.name||"reply"===e.name?n=new l.BigNumber(e.params.messageHash.value).toString(16):"upvote"===e.name&&(n=new l.BigNumber(e.params.timestamp.value).toString(16)),u&&n!==u?null:Object.assign(t,{decodedInputData:e})}return null},!f)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.web3.eth.getTransaction(f)];case 2:return o=i.sent(),(s&&o.blockNumber===s||!s)&&(a=t(o))?[2,a]:[3,4];case 3:return i.sent(),[3,4];case 4:return s?[4,this.web3.eth.getBlockTransactionCount(s)]:[2,null];case 5:e=i.sent(),n=0,i.label=6;case 6:return n<e?[4,this.web3.eth.getTransactionFromBlock(s,n)]:[3,9];case 7:if(o=i.sent(),a=t(o))return[2,a];i.label=8;case 8:return n++,[3,6];case 9:return[2,null]}})})},t.prototype.getNewestFeedTransactionFromUser=function(t){return n(this,void 0,void 0,function(){var e,r,n;return i(this,function(i){switch(i.label){case 0:return[4,this.contractInstance.methods.getCurrentFeedInfo(t).call()];case 1:return e=i.sent(),r=parseInt(e[0]),n=new l.BigNumber(e[1]).toString(16),[4,this.getTransactionInfo({userAddress:t,blockNumber:r,messageHash:n})];case 2:return[2,i.sent()]}})})},t.prototype.getNewestFeedTransactionFromTagByTime=function(t){return n(this,void 0,void 0,function(){var e,r,n;return i(this,function(i){switch(i.label){case 0:return t=this.formatTag(t),[4,this.contractInstance.methods.getCurrentTagInfoByTime(t).call()];case 1:return e=i.sent(),r=parseInt(e[0]),n=new l.BigNumber(e[1]).toString(16),[4,this.getTransactionInfo({blockNumber:r,messageHash:n})];case 2:return[2,i.sent()]}})})},t.prototype.getNewestFeedTransactionFromTagByTrend=function(t){return n(this,void 0,void 0,function(){var e,r,n;return i(this,function(i){switch(i.label){case 0:return t=this.formatTag(t),[4,this.contractInstance.methods.getCurrentTagInfoByTrend(t).call()];case 1:return e=i.sent(),r=parseInt(e[0]),n=this.web3.utils.toHex(e[1]),[4,this.getTransactionInfo({blockNumber:r,messageHash:n})];case 2:return[2,i.sent()]}})})},t.prototype.getFeedsFromUser=function(t,e,r){var o=e.num,s=void 0===o?-1:o,a=e.blockNumber,u=void 0===a?0:a,c=e.messageHash,f=void 0===c?"":c,h=e.transactionHash,p=void 0===h?null:h;return n(this,void 0,void 0,function(){var e;return i(this,function(n){switch(n.label){case 0:return u?[3,2]:[4,this.contractInstance.methods.getCurrentFeedInfo(t).call()];case 1:e=n.sent(),u=parseInt(e[0]),f=new l.BigNumber(e[1]).toString(16),p=null,n.label=2;case 2:return[4,this.getFeeds({userAddress:t,blockNumber:u,messageHash:f,num:s,transactionHash:p,cb:r})];case 3:return[2,n.sent()]}})})},t.prototype.getFeedsFromTagByTime=function(t,e,r){var o=e.num,s=void 0===o?-1:o,a=e.blockNumber,u=void 0===a?0:a,c=e.messageHash,f=void 0===c?"":c,h=e.transactionHash,p=void 0===h?null:h;return n(this,void 0,void 0,function(){var e;return i(this,function(n){switch(n.label){case 0:return t=this.formatTag(t),[4,this.contractInstance.methods.getCurrentTagInfoByTime(t).call()];case 1:return e=n.sent(),u||(u=parseInt(e[0]),f=new l.BigNumber(e[1]).toString(16)),[4,this.getFeeds({userAddress:"",tag:t,blockNumber:u,messageHash:f,num:s,transactionHash:p,cb:r})];case 2:return[2,n.sent()]}})})},t.prototype.getFeedsFromTagByTrend=function(t,e,r){var o=e.num,s=void 0===o?-1:o,a=e.blockNumber,u=void 0===a?0:a,c=e.messageHash,f=void 0===c?"":c,h=e.transactionHash,p=void 0===h?null:h;return n(this,void 0,void 0,function(){var e;return i(this,function(n){switch(n.label){case 0:return t=this.formatTag(t),[4,this.contractInstance.methods.getCurrentTagInfoByTrend(t).call()];case 1:return e=n.sent(),u=parseInt(e[0]),f=new l.BigNumber(e[1]).toString(16),[4,this.getFeeds({userAddress:"",tag:t,blockNumber:u,messageHash:f,num:s,transactionHash:p,cb:r})];case 2:return[2,n.sent()]}})})},t.prototype.getFeeds=function(t){var e=t.userAddress,r=void 0===e?"":e,o=t.tag,s=void 0===o?"":o,a=t.blockNumber,u=void 0===a?0:a,c=t.messageHash,f=void 0===c?"":c,h=t.num,p=void 0===h?-1:h,d=t.transactionHash,g=void 0===d?"":d,v=t.cb,y=void 0===v?function(t,e,r){}:v;return n(this,void 0,void 0,function(){var t,e,n,o,a,c;return i(this,function(i){switch(i.label){case 0:t=0,i.label=1;case 1:return t>p?[4,this.getTransactionInfo({userAddress:r,blockNumber:u,messageHash:f,transactionHash:g})]:[3,6];case 2:return(e=i.sent())?[3,3]:[2,y(!0)];case 3:if(y(!1,t,e),"post"===e.decodedInputData.name)g=e.decodedInputData.params.previousFeedTransactionHash.value;else if("upvote"===e.decodedInputData.name)g=e.decodedInputData.params.previousFeedTransactionHash.value;else{if("reply"!==e.decodedInputData.name)return console.log("getFeeds wrong transactionInfo: ",e),[2,y(!0)];g=e.decodedInputData.params.previousReplyTransactionHash.value}return[4,this.web3.eth.getTransactionReceipt(e.hash)];case 4:if(n=i.sent(),!(o=(n?n.logs:[])||[]).length)return[2,y(!0)];if(a=m(o),c=null,c=s?a.filter(function(t){return("SavePreviousTagInfoByTimeEvent"===t.name||"SavePreviousTagInfoByTrendEvent"===t.name)&&t.events.tag.value===s})[0]:a.filter(function(t){return"SavePreviousFeedInfoEvent"===t.name})[0]){if("SavePreviousTagInfoByTrendEvent"===c.name||"SavePreviousTagInfoByTimeEvent"===c.name)u=parseInt(c.events.previousTagInfo.value[0]),f=new l.BigNumber(c.events.previousTagInfo.value[1]).toString(16);else{if("SavePreviousFeedInfoEvent"!==c.name)throw"Error: Invalid eventLog"+JSON.stringify(c,null,"  ");u=parseInt(c.events.previousFeedInfo.value[0]),f=new l.BigNumber(c.events.previousFeedInfo.value[1]).toString(16)}return t+=1,[3,1]}return[2,y(!0)];case 5:return[3,1];case 6:return[2]}})})},t.prototype.getUsernameFromAddress=function(t){return n(this,void 0,void 0,function(){var e;return i(this,function(r){switch(r.label){case 0:return[4,this.contractInstance.methods.getUsernameFromAddress(t).call()];case 1:return"0x0000000000000000000000000000000000000000000000000000000000000000"===(e=r.sent())?[2,""]:[2,u.decompressString(u.hexDecode(e.replace(/^0x(00)*/,"")))]}})})},t.prototype.getAddressFromUsername=function(t){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.contractInstance.methods.getAddressFromUsername(this.formatUsername(t)).call()];case 1:return[2,e.sent()]}})})},t.prototype.getUserInfoFromAddress=function(t){return n(this,void 0,void 0,function(){var e,r,n,o,s,a;return i(this,function(i){switch(i.label){case 0:return n=(r=JSON).parse,o=u.decompressString,[4,this.contractInstance.methods.getMetaDataJSONStringValue(t).call()];case 1:return(e=n.apply(r,[o.apply(void 0,[i.sent()])])||{}).avatar||(t||(t="0xinvalid_address"),e.avatar="data:image/png;base64,"+new f(t,80).toString()),e.name=e.name||"Frog_"+t.slice(2,6),e.address=t,(a=e.username)?[3,3]:[4,this.getUsernameFromAddress(t)];case 2:a=i.sent(),i.label=3;case 3:return s=a||"unknown",e.username=s,[2,e]}})})},t.prototype.getUserInfoFromUsername=function(t){return n(this,void 0,void 0,function(){var e;return i(this,function(r){switch(r.label){case 0:return[4,this.getAddressFromUsername(t)];case 1:return e=r.sent(),[2,this.getUserInfoFromAddress(e)]}})})},t.prototype.setUserMetadata=function(t){return n(this,void 0,void 0,function(){var e,r,n=this;return i(this,function(i){switch(i.label){case 0:return e=Object.assign({},t),e.address,delete e.address,r=e.username,[4,this.getAddressFromUsername(r)];case 1:if("0x0000000000000000000000000000000000000000"!==i.sent())throw"Username @"+r+" is already taken.";return[2,new Promise(function(t,i){n.contractInstance.methods.setUsernameAndMetaDataJSONString(n.formatUsername(r),u.compressString(JSON.stringify(e))).send({from:n.accountAddress}).on("error",function(t){return i(t)}).on("transactionHash",function(e){return t(e)}).on("receipt",function(t){console.log("finish setUserMetadata: ",t)})})]}})})},t.prototype.getFeedStateInfo=function(t){return n(this,void 0,void 0,function(){var e,r,n,o,s,a,u,c,f,l;return i(this,function(i){switch(i.label){case 0:return r=parseInt,[4,this.contractInstance.methods.getState(t,0).call()];case 1:return e=r.apply(void 0,[i.sent()]),o=parseInt,[4,this.contractInstance.methods.getState(t,1).call()];case 2:return n=o.apply(void 0,[i.sent()]),a=parseInt,[4,this.contractInstance.methods.getState(t,2).call()];case 3:return s=a.apply(void 0,[i.sent()]),c=parseInt,[4,this.contractInstance.methods.getState(t,3).call()];case 4:return u=c.apply(void 0,[i.sent()]),l=parseInt,[4,this.contractInstance.methods.getState(t,4).call()];case 5:return f=l.apply(void 0,[i.sent()]),[2,{earnings:e,upvotes:n,downvotes:s,reports:f,replies:u}]}})})},t.prototype.retrieveMessage=function(t){return n(this,void 0,void 0,function(){var e,r;return i(this,function(n){switch(n.label){case 0:return t=u.decompressString(t),e=null,t.length==="ipfs://QmUXTtySmd7LD4p6RG6rZW6RuUuPZXTtNMmRQ6DSQo3aMw".length&&(e=t.match(/^ipfs\:\/\/(.+)$/))?(r=e[1],[4,this.ipfsCat(r)]):[3,2];case 1:return[2,n.sent()];case 2:return[2,t]}})})},t.prototype.setSettings=function(t){return n(this,void 0,void 0,function(){var e;return i(this,function(r){switch(r.label){case 0:return this.settings=t,console.log("setSettings: ",t),[4,this.ipfsAdd(JSON.stringify(this.settings))];case 1:return e=r.sent().hash,void 0!==window.localStorage&&window.localStorage.setItem("/settings/"+this.accountAddress,e),[2]}})})},t.prototype.initializeSettings=function(){return n(this,void 0,void 0,function(){var t,e,r,n;return i(this,function(i){switch(i.label){case 0:return void 0===window.localStorage?[3,4]:(t=window.localStorage.getItem("/settings/"+this.accountAddress))?(n=(r=JSON).parse,[4,this.ipfsCat(t)]):[3,2];case 1:return e=n.apply(r,[i.sent()]),this.settings=e,[2,e];case 2:return[2,this.initializeDefaultSettings()];case 3:return[3,5];case 4:return[2,this.initializeDefaultSettings()];case 5:return[2]}})})},t.prototype.initializeDefaultSettings=function(){var t=[{topic:"ribbit",timestamp:Date.now()}],e=[{username:this.userInfo.username,timestamp:Date.now()}];return"ribbit"!==this.userInfo.username&&e.push({username:"ribbit",timestamp:Date.now()}),this.settings={postAsIPFSHash:!1,postToRibbitTopic:!0,followingUsernames:e,followingTopics:t},this.settings},t.prototype.followUser=function(t){return n(this,void 0,void 0,function(){var e,r,n,o;return i(this,function(i){switch(i.label){case 0:for(e=this.settings.followingUsernames,r=!1,n=0,o=e;n<o.length;n++)if(o[n].username==t){r=!0;break}return r?[3,2]:(e.push({username:t,timestamp:Date.now()}),[4,this.setSettings(this.settings)]);case 1:return[2,i.sent()];case 2:return[2]}})})},t.prototype.unfollowUser=function(t){return n(this,void 0,void 0,function(){var e,r,n,o,s;return i(this,function(i){switch(i.label){case 0:for(e=this.settings.followingUsernames,r=[],n=0,o=e;n<o.length;n++)(s=o[n]).username!==t&&r.push(s);return this.settings.followingUsernames=r,[4,this.setSettings(this.settings)];case 1:return[2,i.sent()]}})})},t.prototype.followTopic=function(t){return n(this,void 0,void 0,function(){var e,r,n,o;return i(this,function(i){switch(i.label){case 0:for(e=this.settings.followingTopics,r=!1,n=0,o=e;n<o.length;n++)if(o[n].topic==t){r=!0;break}return r?[3,2]:(e.push({topic:t,timestamp:Date.now()}),[4,this.setSettings(this.settings)]);case 1:return[2,i.sent()];case 2:return[2]}})})},t.prototype.unfollowTopic=function(t){return n(this,void 0,void 0,function(){var e,r,n,o,s;return i(this,function(i){switch(i.label){case 0:for(e=this.settings.followingTopics,r=[],n=0,o=e;n<o.length;n++)(s=o[n]).topic!==t&&r.push(s);return this.settings.followingTopics=r,[4,this.setSettings(this.settings)];case 1:return[2,i.sent()]}})})},t}();e.Ribbit=g},function(t,e,r){r(1530);var n=function(t,e){return parseInt(t.slice(2*e+2,2*e+4),16)},i=function(t){return(t.length-2)/2},o=function(t){for(var e=[],r=2,n=t.length;r<n;r+=2)e.push(parseInt(t.slice(r,r+2),16));return e},s=function(t){for(var e="0x",r=0,n=t.length;r<n;++r){var i=t[r];e+=(i<16?"0":"")+i.toString(16)}return e};t.exports={random:function(t){var e=void 0;e="undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?window.crypto.getRandomValues(new Uint8Array(t)):r(107).randomBytes(t);for(var n="0x",i=0;i<t;++i)n+=("00"+e[i].toString(16)).slice(-2);return n},length:i,concat:function(t,e){return t.concat(e.slice(2))},flatten:function(t){return"0x"+t.reduce(function(t,e){return t+e.slice(2)},"")},slice:function(t,e,r){return"0x"+r.slice(2*t+2,2*e+2)},reverse:function(t){for(var e="0x",r=0,n=i(t);r<n;++r)e+=t.slice(2*(n-r),2*(n-r+1));return e},pad:function t(e,r){return r.length===2*e+2?r:t(e,"0x0"+r.slice(2))},padRight:function t(e,r){return r.length===2*e+2?r:t(e,r+"0")},fromAscii:function(t){for(var e="0x",r=0;r<t.length;++r)e+=("00"+t.charCodeAt(r).toString(16)).slice(-2);return e},toAscii:function(t){for(var e="",r=2;r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.slice(r,r+2),16));return e},fromString:function(t){for(var e=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},r="0x",n=0;n!=t.length;n++){var i=t.charCodeAt(n);if(i<128)r+=e(i);else{if(i<2048)r+=e(i>>6|192);else{if(i>55295&&i<56320){if(++n==t.length)return null;var o=t.charCodeAt(n);if(o<56320||o>57343)return null;r+=e((i=65536+((1023&i)<<10)+(1023&o))>>18|240),r+=e(i>>12&63|128)}else r+=e(i>>12|224);r+=e(i>>6&63|128)}r+=e(63&i|128)}}return r},toString:function(t){for(var e="",r=0,o=i(t);r<o;){var s=n(t,r++);if(s>127){if(s>191&&s<224){if(r>=o)return null;s=(31&s)<<6|63&n(t,r)}else if(s>223&&s<240){if(r+1>=o)return null;s=(15&s)<<12|(63&n(t,r))<<6|63&n(t,++r)}else{if(!(s>239&&s<248))return null;if(r+2>=o)return null;s=(7&s)<<18|(63&n(t,r))<<12|(63&n(t,++r))<<6|63&n(t,++r)}++r}if(s<=65535)e+=String.fromCharCode(s);else{if(!(s<=1114111))return null;s-=65536,e+=String.fromCharCode(s>>10|55296),e+=String.fromCharCode(1023&s|56320)}}return e},fromNumber:function(t){var e=t.toString(16);return e.length%2==0?"0x"+e:"0x0"+e},toNumber:function(t){return parseInt(t.slice(2),16)},fromNat:function(t){return"0x0"===t?"0x":t.length%2==0?t:"0x0"+t.slice(2)},toNat:function(t){return"0"===t[2]?"0x"+t.slice(3):t},fromArray:s,toArray:o,fromUint8Array:function(t){return s([].slice.call(t,0))},toUint8Array:function(t){return new Uint8Array(o(t))}}},function(t,e){t.exports=function(t){var e=r.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var r=Object.prototype.toString},function(t,e){var r="0123456789abcdef".split(""),n=[1,256,65536,16777216],i=[0,8,16,24],o=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],s=function(t){var e,r,n,i,s,a,u,c,f,l,h,p,d,m,g,v,y,b,w,_,k,S,x,E,C,A,M,I,T,O,B,P,N,R,F,j,L,D,U,z,H,K,q,V,W,G,Y,$,Z,X,J,Q,tt,et,rt,nt,it,ot,st,at,ut,ct,ft;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],s=t[1]^t[11]^t[21]^t[31]^t[41],a=t[2]^t[12]^t[22]^t[32]^t[42],u=t[3]^t[13]^t[23]^t[33]^t[43],c=t[4]^t[14]^t[24]^t[34]^t[44],f=t[5]^t[15]^t[25]^t[35]^t[45],l=t[6]^t[16]^t[26]^t[36]^t[46],h=t[7]^t[17]^t[27]^t[37]^t[47],e=(p=t[8]^t[18]^t[28]^t[38]^t[48])^(a<<1|u>>>31),r=(d=t[9]^t[19]^t[29]^t[39]^t[49])^(u<<1|a>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(c<<1|f>>>31),r=s^(f<<1|c>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=a^(l<<1|h>>>31),r=u^(h<<1|l>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=c^(p<<1|d>>>31),r=f^(d<<1|p>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=l^(i<<1|s>>>31),r=h^(s<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,m=t[0],g=t[1],G=t[11]<<4|t[10]>>>28,Y=t[10]<<4|t[11]>>>28,I=t[20]<<3|t[21]>>>29,T=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ut=t[30]<<9|t[31]>>>23,K=t[40]<<18|t[41]>>>14,q=t[41]<<18|t[40]>>>14,R=t[2]<<1|t[3]>>>31,F=t[3]<<1|t[2]>>>31,v=t[13]<<12|t[12]>>>20,y=t[12]<<12|t[13]>>>20,$=t[22]<<10|t[23]>>>22,Z=t[23]<<10|t[22]>>>22,O=t[33]<<13|t[32]>>>19,B=t[32]<<13|t[33]>>>19,ct=t[42]<<2|t[43]>>>30,ft=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,j=t[14]<<6|t[15]>>>26,L=t[15]<<6|t[14]>>>26,b=t[25]<<11|t[24]>>>21,w=t[24]<<11|t[25]>>>21,X=t[34]<<15|t[35]>>>17,J=t[35]<<15|t[34]>>>17,P=t[45]<<29|t[44]>>>3,N=t[44]<<29|t[45]>>>3,E=t[6]<<28|t[7]>>>4,C=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,D=t[26]<<25|t[27]>>>7,U=t[27]<<25|t[26]>>>7,_=t[36]<<21|t[37]>>>11,k=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,V=t[8]<<27|t[9]>>>5,W=t[9]<<27|t[8]>>>5,A=t[18]<<20|t[19]>>>12,M=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,st=t[28]<<7|t[29]>>>25,z=t[38]<<8|t[39]>>>24,H=t[39]<<8|t[38]>>>24,S=t[48]<<14|t[49]>>>18,x=t[49]<<14|t[48]>>>18,t[0]=m^~v&b,t[1]=g^~y&w,t[10]=E^~A&I,t[11]=C^~M&T,t[20]=R^~j&D,t[21]=F^~L&U,t[30]=V^~G&$,t[31]=W^~Y&Z,t[40]=et^~nt&ot,t[41]=rt^~it&st,t[2]=v^~b&_,t[3]=y^~w&k,t[12]=A^~I&O,t[13]=M^~T&B,t[22]=j^~D&z,t[23]=L^~U&H,t[32]=G^~$&X,t[33]=Y^~Z&J,t[42]=nt^~ot&at,t[43]=it^~st&ut,t[4]=b^~_&S,t[5]=w^~k&x,t[14]=I^~O&P,t[15]=T^~B&N,t[24]=D^~z&K,t[25]=U^~H&q,t[34]=$^~X&Q,t[35]=Z^~J&tt,t[44]=ot^~at&ct,t[45]=st^~ut&ft,t[6]=_^~S&m,t[7]=k^~x&g,t[16]=O^~P&E,t[17]=B^~N&C,t[26]=z^~K&R,t[27]=H^~q&F,t[36]=X^~Q&V,t[37]=J^~tt&W,t[46]=at^~ct&et,t[47]=ut^~ft&rt,t[8]=S^~m&v,t[9]=x^~g&y,t[18]=P^~E&A,t[19]=N^~C&M,t[28]=K^~R&j,t[29]=q^~F&L,t[38]=Q^~V&G,t[39]=tt^~W&Y,t[48]=ct^~et&nt,t[49]=ft^~rt&it,t[0]^=o[n],t[1]^=o[n+1]},a=function(t){return function(e){var o;if("0x"===e.slice(0,2)){o=[];for(var a=2,u=e.length;a<u;a+=2)o.push(parseInt(e.slice(a,a+2),16))}else o=e;return function(t,e){for(var o,a=e.length,u=t.blocks,c=t.blockCount<<2,f=t.blockCount,l=t.outputBlocks,h=t.s,p=0;p<a;){if(t.reset)for(t.reset=!1,u[0]=t.block,g=1;g<f+1;++g)u[g]=0;if("string"!=typeof e)for(g=t.start;p<a&&g<c;++p)u[g>>2]|=e[p]<<i[3&g++];else for(g=t.start;p<a&&g<c;++p)(o=e.charCodeAt(p))<128?u[g>>2]|=o<<i[3&g++]:o<2048?(u[g>>2]|=(192|o>>6)<<i[3&g++],u[g>>2]|=(128|63&o)<<i[3&g++]):o<55296||o>=57344?(u[g>>2]|=(224|o>>12)<<i[3&g++],u[g>>2]|=(128|o>>6&63)<<i[3&g++],u[g>>2]|=(128|63&o)<<i[3&g++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++p)),u[g>>2]|=(240|o>>18)<<i[3&g++],u[g>>2]|=(128|o>>12&63)<<i[3&g++],u[g>>2]|=(128|o>>6&63)<<i[3&g++],u[g>>2]|=(128|63&o)<<i[3&g++]);if(t.lastByteIndex=g,g>=c){for(t.start=g-c,t.block=u[f],g=0;g<f;++g)h[g]^=u[g];s(h),t.reset=!0}else t.start=g}if(u[(g=t.lastByteIndex)>>2]|=n[3&g],t.lastByteIndex===c)for(u[0]=u[f],g=1;g<f+1;++g)u[g]=0;for(u[f-1]|=2147483648,g=0;g<f;++g)h[g]^=u[g];s(h);for(var d,m="",g=0,v=0;v<l;){for(g=0;g<f&&v<l;++g,++v)d=h[g],m+=r[d>>4&15]+r[15&d]+r[d>>12&15]+r[d>>8&15]+r[d>>20&15]+r[d>>16&15]+r[d>>28&15]+r[d>>24&15];v%f==0&&(s(h),g=0)}return"0x"+m}(function(t){return{blocks:[],reset:!0,block:0,start:0,blockCount:1600-(t<<1)>>5,outputBlocks:t>>5,s:(e=[0,0,0,0,0,0,0,0,0,0],[].concat(e,e,e,e,e))};var e}(t),o)}};t.exports={keccak256:a(256),keccak512:a(512),keccak256s:a(256),keccak512s:a(512)}},function(t,e){t.exports={encode:function(t){var e=function(t){return(e=t.toString(16)).length%2==0?e:"0"+e;var e},r=function(t,r){return t<56?e(r+t):e(r+e(t).length/2+55)+e(t)};return"0x"+function t(e){if("string"==typeof e){var n=e.slice(2);return(2!=n.length||n>="80"?r(n.length/2,128):"")+n}var i=e.map(t).join("");return r(i.length/2,192)+i}(t)},decode:function(t){var e=2,r=function(){if(e>=t.length)throw"";var r=t.slice(e,e+2);return r<"80"?(e+=2,"0x"+r):r<"c0"?i():o()},n=function(){var r=parseInt(t.slice(e,e+=2),16)%64;return r<56?r:parseInt(t.slice(e,e+=2*(r-55)),16)},i=function(){var r=n();return"0x"+t.slice(e,e+=2*r)},o=function(){for(var t=2*n()+e,i=[];e<t;)i.push(r());return i};try{return r()}catch(t){return[]}}}},function(t,e,r){var n=r(19),i=r(366),o=function(t){return new n(t.slice(2),16)},s=function(t){var e="0x"+("0x"===t.slice(0,2)?new n(t.slice(2),16):new n(t,10)).toString("hex");return"0x0"===e?"0x":e},a=function(t){return"string"==typeof t?/^0x/.test(t)?t:"0x"+t:"0x"+new n(t).toString("hex")},u=function(t){return o(t).toNumber()},c=function(t){return function(e,r){return"0x"+o(e)[t](o(r)).toString("hex")}},f=c("add"),l=c("mul"),h=c("div"),p=c("sub");t.exports={toString:function(t){return o(t).toString(10)},fromString:s,toNumber:u,fromNumber:a,toEther:function(t){return u(h(t,s("10000000000")))/1e8},fromEther:function(t){return l(a(Math.floor(1e8*t)),s("10000000000"))},toUint256:function(t){return i.pad(32,t)},add:f,mul:l,div:h,sub:p}},function(t,e,r){(function(e){var n=r(19);t.exports=function(t,r){return new e(t.toRed(n.mont(r.modulus)).redPow(new n(r.publicExponent)).fromRed().toArray())}}).call(this,r(0).Buffer)},function(t,e){t.exports=function(t,e){for(var r=t.length,n=-1;++n<r;)t[n]^=e[n];return t}},function(t,e,r){(function(e){var n=r(51);function i(t){var r=new e(4);return r.writeUInt32BE(t,0),r}t.exports=function(t,r){for(var o,s=new e(""),a=0;s.length<r;)o=i(a++),s=e.concat([s,n("sha1").update(t).update(o).digest()]);return s.slice(0,r)}}).call(this,r(0).Buffer)},function(t){t.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},function(t,e,r){var n=r(6),i=r(0).Buffer,o=r(160),s=o.base,a=o.constants.der;function u(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){s.Node.call(this,"der",t)}function f(t){return t<10?"0"+t:t}t.exports=u,u.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},n(c,s.Node),c.prototype._encodeComposite=function(t,e,r,n){var o,s=function(t,e,r,n){var i;"seqof"===t?t="seq":"setof"===t&&(t="set");if(a.tagByName.hasOwnProperty(t))i=a.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return n.error("Unknown tag: "+t);i=t}if(i>=31)return n.error("Multi-octet tag encoding unsupported");e||(i|=32);return i|=a.tagClassByName[r||"universal"]<<6}(t,e,r,this.reporter);if(n.length<128)return(o=new i(2))[0]=s,o[1]=n.length,this._createEncoderBuffer([o,n]);for(var u=1,c=n.length;c>=256;c>>=8)u++;(o=new i(2+u))[0]=s,o[1]=128|u;c=1+u;for(var f=n.length;f>0;c--,f>>=8)o[c]=255&f;return this._createEncoderBuffer([o,n])},c.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){for(var r=new i(2*t.length),n=0;n<t.length;n++)r.writeUInt16BE(t.charCodeAt(n),2*n);return this._createEncoderBuffer(r)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)?this._createEncoderBuffer(t):"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},c.prototype._encodeObjid=function(t,e,r){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s\.]+/g);for(var n=0;n<t.length;n++)t[n]|=0}else if(Array.isArray(t)){t=t.slice();for(n=0;n<t.length;n++)t[n]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}var o=0;for(n=0;n<t.length;n++){var s=t[n];for(o++;s>=128;s>>=7)o++}var a=new i(o),u=a.length-1;for(n=t.length-1;n>=0;n--){s=t[n];for(a[u--]=127&s;(s>>=7)>0;)a[u--]=128|127&s}return this._createEncoderBuffer(a)},c.prototype._encodeTime=function(t,e){var r,n=new Date(t);return"gentime"===e?r=[f(n.getFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),"Z"].join(""):"utctime"===e?r=[f(n.getFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(r,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!i.isBuffer(t)){var r=t.toArray();!t.sign&&128&r[0]&&r.unshift(0),t=new i(r)}if(i.isBuffer(t)){var n=t.length;0===t.length&&n++;var o=new i(n);return t.copy(o),0===t.length&&(o[0]=0),this._createEncoderBuffer(o)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);n=1;for(var s=t;s>=256;s>>=8)n++;for(s=(o=new Array(n)).length-1;s>=0;s--)o[s]=255&t,t>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new i(o))},c.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},c.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},c.prototype._skipDefault=function(t,e,r){var n,i=this._baseState;if(null===i.default)return!1;var o=t.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,e,r).join()),o.length!==i.defaultBuffer.length)return!1;for(n=0;n<o.length;n++)if(o[n]!==i.defaultBuffer[n])return!1;return!0}},function(t,e,r){var n=r(6),i=r(160),o=i.base,s=i.bignum,a=i.constants.der;function u(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){o.Node.call(this,"der",t)}function f(t,e){var r=t.readUInt8(e);if(t.isError(r))return r;var n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){var o=r;for(r=0;128==(128&o);){if(o=t.readUInt8(e),t.isError(o))return o;r<<=7,r|=127&o}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function l(t,e,r){var n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;var i=127&n;if(i>4)return t.error("length octect is too long");n=0;for(var o=0;o<i;o++){n<<=8;var s=t.readUInt8(r);if(t.isError(s))return s;n|=s}return n}t.exports=u,u.prototype.decode=function(t,e){return t instanceof o.DecoderBuffer||(t=new o.DecoderBuffer(t,e)),this.tree._decode(t,e)},n(c,o.Node),c.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;var n=t.save(),i=f(t,'Failed to peek tag: "'+e+'"');return t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+"of"===e||r)},c.prototype._decodeTag=function(t,e,r){var n=f(t,'Failed to decode tag of "'+e+'"');if(t.isError(n))return n;var i=l(t,n.primitive,'Failed to get length of "'+e+'"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(n.primitive||null!==i)return t.skip(i,'Failed to match body of: "'+e+'"');var o=t.save(),s=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(s)?s:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: "'+e+'"'))},c.prototype._skipUntilEnd=function(t,e){for(;;){var r=f(t,e);if(t.isError(r))return r;var n,i=l(t,r.primitive,e);if(t.isError(i))return i;if(n=r.primitive||null!==i?t.skip(i):this._skipUntilEnd(t,e),t.isError(n))return n;if("end"===r.tagStr)break}},c.prototype._decodeList=function(t,e,r,n){for(var i=[];!t.isEmpty();){var o=this._peekTag(t,"end");if(t.isError(o))return o;var s=r.decode(t,"der",n);if(t.isError(s)&&o)break;i.push(s)}return i},c.prototype._decodeStr=function(t,e){if("bitstr"===e){var r=t.readUInt8();return t.isError(r)?r:{unused:r,data:t.raw()}}if("bmpstr"===e){var n=t.raw();if(n.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<n.length/2;o++)i+=String.fromCharCode(n.readUInt16BE(2*o));return i}if("numstr"===e){var s=t.raw().toString("ascii");return this._isNumstr(s)?s:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){var a=t.raw().toString("ascii");return this._isPrintstr(a)?a:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},c.prototype._decodeObjid=function(t,e,r){for(var n,i=[],o=0;!t.isEmpty();){var s=t.readUInt8();o<<=7,o|=127&s,0==(128&s)&&(i.push(o),o=0)}128&s&&i.push(o);var a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),e){var c=e[n.join(" ")];void 0===c&&(c=e[n.join(".")]),void 0!==c&&(n=c)}return n},c.prototype._decodeTime=function(t,e){var r=t.raw().toString();if("gentime"===e)var n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12);n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,u,0)},c.prototype._decodeNull=function(t){return null},c.prototype._decodeBool=function(t){var e=t.readUInt8();return t.isError(e)?e:0!==e},c.prototype._decodeInt=function(t,e){var r=t.raw(),n=new s(r);return e&&(n=e[n.toString(10)]||n),n},c.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}},function(t,e,r){var n=e;n._reverse=function(t){var e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0);var n=t[r];e[n]=r}),e},n.der=r(1567)},function(t,e,r){var n=r(6),i=r(159).Reporter,o=r(0).Buffer;function s(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function a(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof a||(t=new a(t,e)),this.length+=t.length,t},this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}n(s,i),e.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(t){var e=new s(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");var r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=a,a.prototype.join=function(t,e){return t||(t=new o(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},function(module,exports,__webpack_require__){var indexOf=__webpack_require__(356),Object_keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)e.push(r);return e},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e(t[r],r,t)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(t,e,r){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(t){return function(t,e,r){t[e]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(t){if(!(this instanceof Script))return new Script(t);this.code=t};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var r=e.contentWindow,n=r.eval,i=r.execScript;!n&&i&&(i.call(r,"null"),n=r.eval),forEach(Object_keys(t),function(e){r[e]=t[e]}),forEach(globals,function(e){t[e]&&(r[e]=t[e])});var o=Object_keys(r),s=n.call(r,this.code);return forEach(Object_keys(r),function(e){(e in t||-1===indexOf(o,e))&&(t[e]=r[e])}),forEach(globals,function(e){e in t||defineProp(t,e,r[e])}),document.body.removeChild(e),s},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var e=Script.createContext(t),r=this.runInContext(e);return forEach(Object_keys(e),function(r){t[r]=e[r]}),r},forEach(Object_keys(Script.prototype),function(t){exports[t]=Script[t]=function(e){var r=Script(e);return r[t].apply(r,[].slice.call(arguments,1))}}),exports.createScript=function(t){return exports.Script(t)},exports.createContext=Script.createContext=function(t){var e=new Context;return"object"==typeof t&&forEach(Object_keys(t),function(r){e[r]=t[r]}),e}},function(t,e,r){"use strict";var n=r(67),i=r(161),o=r(49),s=n.rotr64_hi,a=n.rotr64_lo,u=n.shr64_hi,c=n.shr64_lo,f=n.sum64,l=n.sum64_hi,h=n.sum64_lo,p=n.sum64_4_hi,d=n.sum64_4_lo,m=n.sum64_5_hi,g=n.sum64_5_lo,v=i.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function w(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function _(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function k(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function S(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function x(t,e){var r=s(t,e,28)^s(e,t,2)^s(e,t,7);return r<0&&(r+=4294967296),r}function E(t,e){var r=a(t,e,28)^a(e,t,2)^a(e,t,7);return r<0&&(r+=4294967296),r}function C(t,e){var r=s(t,e,14)^s(t,e,18)^s(e,t,9);return r<0&&(r+=4294967296),r}function A(t,e){var r=a(t,e,14)^a(t,e,18)^a(e,t,9);return r<0&&(r+=4294967296),r}function M(t,e){var r=s(t,e,1)^s(t,e,8)^u(t,e,7);return r<0&&(r+=4294967296),r}function I(t,e){var r=a(t,e,1)^a(t,e,8)^c(t,e,7);return r<0&&(r+=4294967296),r}function T(t,e){var r=s(t,e,19)^s(e,t,29)^u(t,e,6);return r<0&&(r+=4294967296),r}function O(t,e){var r=a(t,e,19)^a(e,t,29)^c(t,e,6);return r<0&&(r+=4294967296),r}n.inherits(b,v),t.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=T(r[n-4],r[n-3]),o=O(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],u=M(r[n-30],r[n-29]),c=I(r[n-30],r[n-29]),f=r[n-32],l=r[n-31];r[n]=p(i,o,s,a,u,c,f,l),r[n+1]=d(i,o,s,a,u,c,f,l)}},b.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],p=this.h[6],d=this.h[7],v=this.h[8],y=this.h[9],b=this.h[10],M=this.h[11],I=this.h[12],T=this.h[13],O=this.h[14],B=this.h[15];o(this.k.length===r.length);for(var P=0;P<r.length;P+=2){var N=O,R=B,F=C(v,y),j=A(v,y),L=w(v,y,b,M,I),D=_(v,y,b,M,I,T),U=this.k[P],z=this.k[P+1],H=r[P],K=r[P+1],q=m(N,R,F,j,L,D,U,z,H,K),V=g(N,R,F,j,L,D,U,z,H,K);N=x(n,i),R=E(n,i),F=k(n,i,s,a,u),j=S(n,i,s,a,u,c);var W=l(N,R,F,j),G=h(N,R,F,j);O=I,B=T,I=b,T=M,b=v,M=y,v=l(p,d,q,V),y=h(d,d,q,V),p=u,d=c,u=s,c=a,s=n,a=i,n=l(q,V,W,G),i=h(q,V,W,G)}f(this.h,0,n,i),f(this.h,2,s,a),f(this.h,4,u,c),f(this.h,6,p,d),f(this.h,8,v,y),f(this.h,10,b,M),f(this.h,12,I,T),f(this.h,14,O,B)},b.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(t,e,r){"use strict";var n=r(67).rotr32;function i(t,e,r){return t&e^~t&r}function o(t,e,r){return t&e^t&r^e&r}function s(t,e,r){return t^e^r}e.ft_1=function(t,e,r,n){return 0===t?i(e,r,n):1===t||3===t?s(e,r,n):2===t?o(e,r,n):void 0},e.ch32=i,e.maj32=o,e.p32=s,e.s0_256=function(t){return n(t,2)^n(t,13)^n(t,22)},e.s1_256=function(t){return n(t,6)^n(t,11)^n(t,25)},e.g0_256=function(t){return n(t,7)^n(t,18)^t>>>3},e.g1_256=function(t){return n(t,17)^n(t,19)^t>>>10}},function(t,e,r){"use strict";var n=e;function i(t){return 1===t.length?"0"+t:t}function o(t){for(var e="",r=0;r<t.length;r++)e+=i(t[r].toString(16));return e}n.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16));else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},n.zero2=i,n.toHex=o,n.encode=function(t,e){return"hex"===e?o(t):t}},function(t,e,r){var n;function i(t){this.rand=t}if(t.exports=function(t){return n||(n=new i(null)),n.generate(t)},t.exports.Rand=i,i.prototype.generate=function(t){return this._rand(t)},i.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=r(1597);if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(t){return o.randomBytes(t)}}catch(t){}},function(t,e,r){var n=r(19),i=r(635);function o(t){this.rand=t||new i.Rand}t.exports=o,o.create=function(t){return new o(t)},o.prototype._randbelow=function(t){var e=t.bitLength(),r=Math.ceil(e/8);do{var i=new n(this.rand.generate(r))}while(i.cmp(t)>=0);return i},o.prototype._randrange=function(t,e){var r=e.sub(t);return t.add(this._randbelow(r))},o.prototype.test=function(t,e,r){var i=t.bitLength(),o=n.mont(t),s=new n(1).toRed(o);e||(e=Math.max(1,i/48|0));for(var a=t.subn(1),u=0;!a.testn(u);u++);for(var c=t.shrn(u),f=a.toRed(o);e>0;e--){var l=this._randrange(new n(2),a);r&&r(l);var h=l.toRed(o).redPow(c);if(0!==h.cmp(s)&&0!==h.cmp(f)){for(var p=1;p<u;p++){if(0===(h=h.redSqr()).cmp(s))return!1;if(0===h.cmp(f))break}if(p===u)return!1}}return!0},o.prototype.getDivisor=function(t,e){var r=t.bitLength(),i=n.mont(t),o=new n(1).toRed(i);e||(e=Math.max(1,r/48|0));for(var s=t.subn(1),a=0;!s.testn(a);a++);for(var u=t.shrn(a),c=s.toRed(i);e>0;e--){var f=this._randrange(new n(2),s),l=t.gcd(f);if(0!==l.cmpn(1))return l;var h=f.toRed(i).redPow(u);if(0!==h.cmp(o)&&0!==h.cmp(c)){for(var p=1;p<a;p++){if(0===(h=h.redSqr()).cmp(o))return h.fromRed().subn(1).gcd(t);if(0===h.cmp(c))break}if(p===a)return(h=h.redSqr()).fromRed().subn(1).gcd(t)}}return!1}},function(t,e,r){var n=r(89);t.exports=y,y.simpleSieve=g,y.fermatTest=v;var i=r(19),o=new i(24),s=new(r(636)),a=new i(1),u=new i(2),c=new i(5),f=(new i(16),new i(8),new i(10)),l=new i(3),h=(new i(7),new i(11)),p=new i(4),d=(new i(12),null);function m(){if(null!==d)return d;var t=[];t[0]=2;for(var e=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<e&&t[i]<=n&&r%t[i]!=0;i++);e!==i&&t[i]<=n||(t[e++]=r)}return d=t,t}function g(t){for(var e=m(),r=0;r<e.length;r++)if(0===t.modn(e[r]))return 0===t.cmpn(e[r]);return!0}function v(t){var e=i.mont(t);return 0===u.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function y(t,e){if(t<16)return new i(2===e||5===e?[140,123]:[140,39]);var r,d;for(e=new i(e);;){for(r=new i(n(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(a),r.testn(1)||r.iadd(u),e.cmp(u)){if(!e.cmp(c))for(;r.mod(f).cmp(l);)r.iadd(p)}else for(;r.mod(o).cmp(h);)r.iadd(p);if(g(d=r.shrn(1))&&g(r)&&v(d)&&v(r)&&s.test(d)&&s.test(r))return r}}},function(t,e,r){var n=r(232),i=r(3).Buffer,o=r(87);function s(t,e,r,s){o.call(this),this._cipher=new n.AES(e),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=s,this._mode=t}r(6)(s,o),s.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},t.exports=s},function(t,e,r){var n=r(232),i=r(3).Buffer,o=r(87),s=r(6),a=r(1602),u=r(162),c=r(641);function f(t,e,r,s){o.call(this);var u=i.alloc(4,0);this._cipher=new n.AES(e);var f=this._cipher.encryptBlock(u);this._ghash=new a(f),r=function(t,e,r){if(12===e.length)return t._finID=i.concat([e,i.from([0,0,0,1])]),i.concat([e,i.from([0,0,0,2])]);var n=new a(r),o=e.length,s=o%16;n.update(e),s&&(s=16-s,n.update(i.alloc(s,0))),n.update(i.alloc(8,0));var u=8*o,f=i.alloc(8);f.writeUIntBE(u,0,8),n.update(f),t._finID=n.state;var l=i.from(t._finID);return c(l),l}(this,r,f),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=s,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}s(f,o),f.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=i.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},f.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},t.exports=f},function(t){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},function(t,e){t.exports=function(t){for(var e,r=t.length;r--;){if(255!==(e=t.readUInt8(r))){e++,t.writeUInt8(e,r);break}t.writeUInt8(0,r)}}},function(t,e,r){var n=r(162),i=r(3).Buffer,o=r(641);function s(t){var e=t._cipher.encryptBlockRaw(t._prev);return o(t._prev),e}e.encrypt=function(t,e){var r=Math.ceil(e.length/16),o=t._cache.length;t._cache=i.concat([t._cache,i.allocUnsafe(16*r)]);for(var a=0;a<r;a++){var u=s(t),c=o+16*a;t._cache.writeUInt32BE(u[0],c+0),t._cache.writeUInt32BE(u[1],c+4),t._cache.writeUInt32BE(u[2],c+8),t._cache.writeUInt32BE(u[3],c+12)}var f=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),n(e,f)}},function(t,e,r){var n=r(647),i=r(363),o=r(362),s=r(645),a=r(644),u=r(3).Buffer,c=u.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function l(t,e,r){var s=function(t){return"rmd160"===t||"ripemd160"===t?i:"md5"===t?n:function(e){return o(t).update(e).digest()}}(t),a="sha512"===t||"sha384"===t?128:64;e.length>a?e=s(e):e.length<a&&(e=u.concat([e,c],a));for(var l=u.allocUnsafe(a+f[t]),h=u.allocUnsafe(a+f[t]),p=0;p<a;p++)l[p]=54^e[p],h[p]=92^e[p];var d=u.allocUnsafe(a+r+4);l.copy(d,0,0,a),this.ipad1=d,this.ipad2=l,this.opad=h,this.alg=t,this.blocksize=a,this.hash=s,this.size=f[t]}l.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,r,n,i){u.isBuffer(t)||(t=u.from(t,a)),u.isBuffer(e)||(e=u.from(e,a)),s(r,n);var o=new l(i=i||"sha1",t,e.length),c=u.allocUnsafe(n),h=u.allocUnsafe(e.length+4);e.copy(h,0,0,e.length);for(var p=0,d=f[i],m=Math.ceil(n/d),g=1;g<=m;g++){h.writeUInt32BE(g,e.length);for(var v=o.run(h,o.ipad1),y=v,b=1;b<r;b++){y=o.run(y,o.ipad2);for(var w=0;w<d;w++)v[w]^=y[w]}v.copy(c,p),p+=d}return c}},function(t,e,r){(function(e){var r;e.browser?r="utf-8":r=parseInt(e.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary";t.exports=r}).call(this,r(2))},function(t,e){var r=Math.pow(2,30)-1;t.exports=function(t,e){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!=typeof e)throw new TypeError("Key length not a number");if(e<0||e>r||e!=e)throw new TypeError("Bad key length")}},function(t){t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},function(t,e,r){var n=r(365);t.exports=function(t){return(new n).update(t).digest()}},function(t,e,r){var n=r(6),i=r(133),o=r(3).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function u(){this.init(),this._w=a,i.call(this,128,112)}function c(t,e,r){return r^t&(e^r)}function f(t,e,r){return t&e|r&(t|e)}function l(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function h(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function m(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function v(t,e){return t>>>0<e>>>0?1:0}n(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(t){for(var e=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,u=0|this._fh,y=0|this._gh,b=0|this._hh,w=0|this._al,_=0|this._bl,k=0|this._cl,S=0|this._dl,x=0|this._el,E=0|this._fl,C=0|this._gl,A=0|this._hl,M=0;M<32;M+=2)e[M]=t.readInt32BE(4*M),e[M+1]=t.readInt32BE(4*M+4);for(;M<160;M+=2){var I=e[M-30],T=e[M-30+1],O=p(I,T),B=d(T,I),P=m(I=e[M-4],T=e[M-4+1]),N=g(T,I),R=e[M-14],F=e[M-14+1],j=e[M-32],L=e[M-32+1],D=B+F|0,U=O+R+v(D,B)|0;U=(U=U+P+v(D=D+N|0,N)|0)+j+v(D=D+L|0,L)|0,e[M]=U,e[M+1]=D}for(var z=0;z<160;z+=2){U=e[z],D=e[z+1];var H=f(r,n,i),K=f(w,_,k),q=l(r,w),V=l(w,r),W=h(a,x),G=h(x,a),Y=s[z],$=s[z+1],Z=c(a,u,y),X=c(x,E,C),J=A+G|0,Q=b+W+v(J,A)|0;Q=(Q=(Q=Q+Z+v(J=J+X|0,X)|0)+Y+v(J=J+$|0,$)|0)+U+v(J=J+D|0,D)|0;var tt=V+K|0,et=q+H+v(tt,V)|0;b=y,A=C,y=u,C=E,u=a,E=x,a=o+Q+v(x=S+J|0,S)|0,o=i,S=k,i=n,k=_,n=r,_=w,r=Q+et+v(w=J+tt|0,J)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+k|0,this._dl=this._dl+S|0,this._el=this._el+x|0,this._fl=this._fl+E|0,this._gl=this._gl+C|0,this._hl=this._hl+A|0,this._ah=this._ah+r+v(this._al,w)|0,this._bh=this._bh+n+v(this._bl,_)|0,this._ch=this._ch+i+v(this._cl,k)|0,this._dh=this._dh+o+v(this._dl,S)|0,this._eh=this._eh+a+v(this._el,x)|0,this._fh=this._fh+u+v(this._fl,E)|0,this._gh=this._gh+y+v(this._gl,C)|0,this._hh=this._hh+b+v(this._hl,A)|0},u.prototype._hash=function(){var t=o.allocUnsafe(64);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=u},function(t,e,r){var n=r(6),i=r(133),o=r(3).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(t,e,r){return r^t&(e^r)}function f(t,e,r){return t&e|r&(t|e)}function l(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function h(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function p(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}n(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,d=0|this._f,m=0|this._g,g=0|this._h,v=0;v<16;++v)r[v]=t.readInt32BE(4*v);for(;v<64;++v)r[v]=0|(((e=r[v-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+r[v-7]+p(r[v-15])+r[v-16];for(var y=0;y<64;++y){var b=g+h(u)+c(u,d,m)+s[y]+r[y]|0,w=l(n)+f(n,i,o)|0;g=m,m=d,d=u,u=a+b|0,a=o,o=i,i=n,n=b+w|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0,this._f=d+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},u.prototype._hash=function(){var t=o.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=u},function(t,e,r){"use strict";t.exports=o;var n=r(105),i=r(42);function o(t){if(!(this instanceof o))return new o(t);n.call(this,t),this._transformState={afterTransform:function(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush(function(e,r){a(t,e,r)}):a(this,null,null)}function a(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=r(6),i.inherits(o,n),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var r=this;n.prototype._destroy.call(this,t,function(t){e(t),r.emit("close")})}},function(t,e,r){(function(e){function r(t){try{if(!e.localStorage)return!1}catch(t){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}}).call(this,r(7))},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var n,i,o,s,a,u=1,c={},f=!1,l=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick(function(){d(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){d(t.data)},n=function(t){o.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,n=function(t){var e=l.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):n=function(t){setTimeout(d,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&d(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),n=function(e){t.postMessage(s+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var i={callback:t,args:e};return c[u]=i,n(u),u++},h.clearImmediate=p}function p(t){delete c[t]}function d(t){if(f)setTimeout(d,0,t);else{var e=c[t];if(e){f=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}(e)}finally{p(t),f=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(7),r(2))},function(t,e,r){"use strict";var n=r(88);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(n.nextTick(i,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,r){t.exports=r(20).EventEmitter},function(t,e,r){"use strict";(function(e,n){var i=r(88);t.exports=b;var o,s=r(1633);b.ReadableState=y;r(20).EventEmitter;var a=function(t,e){return t.listeners(e).length},u=r(654),c=r(3).Buffer,f=e.Uint8Array||function(){};var l=r(42);l.inherits=r(6);var h=r(1632),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var d,m=r(1631),g=r(653);l.inherits(b,u);var v=["error","close","destroy","pause","resume"];function y(t,e){o=o||r(105),t=t||{};var n=e instanceof o;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=r(104).StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function b(t){if(o=o||r(105),!(this instanceof b))return new b(t);this._readableState=new y(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function w(t,e,r,n,i){var o,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,x(t)}(t,s)):(i||(o=function(t,e){var r;n=e,c.isBuffer(n)||n instanceof f||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),n?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):_(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||0!==e.length?_(t,s,e,!1):C(t,s)):_(t,s,e,!1))):n||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function _(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&x(t)),C(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=c.from(t,e),e=""),r=!0),w(this,t,e,!1,r)},b.prototype.unshift=function(t){return w(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return d||(d=r(104).StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};var k=8388608;function S(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=k?t=k:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function x(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(E,t):E(t))}function E(t){p("emit readable"),t.emit("readable"),T(t)}function C(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(A,t,e))}function A(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function M(t){p("readable nexttick read 0"),t.read(0)}function I(t,e){e.reading||(p("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),T(t),e.flowing&&!e.reading&&t.read(0)}function T(t){var e=t._readableState;for(p("flow",e.flowing);e.flowing&&null!==t.read(););}function O(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;t-=i.length;for(;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0===(t-=s)){s===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++n}return e.length-=n,i}(t,e):function(t,e){var r=c.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,s),0===(t-=s)){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function B(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(P,e,t))}function P(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function N(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}b.prototype.read=function(t){p("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?B(this):x(this),null;if(0===(t=S(t,e))&&e.ended)return 0===e.length&&B(this),null;var n,i=e.needReadable;return p("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&p("length less than watermark",i=!0),e.ended||e.reading?p("reading or ended",i=!1):i&&(p("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=S(r,e))),null===(n=t>0?O(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&B(this)),null!==n&&this.emit("data",n),n},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,e);var u=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr?f:b;function c(e,n){p("onunpipe"),e===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,p("cleanup"),t.removeListener("close",v),t.removeListener("finish",y),t.removeListener("drain",l),t.removeListener("error",g),t.removeListener("unpipe",c),r.removeListener("end",f),r.removeListener("end",b),r.removeListener("data",m),h=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function f(){p("onend"),t.end()}o.endEmitted?i.nextTick(u):r.once("end",u),t.on("unpipe",c);var l=function(t){return function(){var e=t._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,T(t))}}(r);t.on("drain",l);var h=!1;var d=!1;function m(e){p("ondata"),d=!1,!1!==t.write(e)||d||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==N(o.pipes,t))&&!h&&(p("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function g(e){p("onerror",e),b(),t.removeListener("error",g),0===a(t,"error")&&t.emit("error",e)}function v(){t.removeListener("finish",y),b()}function y(){p("onfinish"),t.removeListener("close",v),b()}function b(){p("unpipe"),r.unpipe(t)}return r.on("data",m),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",g),t.once("close",v),t.once("finish",y),t.emit("pipe",r),o.flowing||(p("pipe resume"),r.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=N(e.pipes,t);return-1===s?this:(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)},b.prototype.on=function(t,e){var r=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&x(this):i.nextTick(M,this))}return r},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(I,t,e))}(this,t)),this},b.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",function(){if(p("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){(p("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&void 0!==i)&&((r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause())))}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<v.length;o++)t.on(v[o],this.emit.bind(this,v[o]));return this._read=function(e){p("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=O}).call(this,r(7),r(2))},function(t,e,r){var n=r(68),i=function(t,e,r){this.value=t||"",this.offset=e,this.rawValue=r};i.prototype.dynamicPartLength=function(){return this.dynamicPart().length/2},i.prototype.withOffset=function(t){return new i(this.value,t)},i.prototype.combine=function(t){return new i(this.value+t.value)},i.prototype.isDynamic=function(){return void 0!==this.offset},i.prototype.offsetAsBytes=function(){return this.isDynamic()?n.toTwosComplement(this.offset).replace("0x",""):""},i.prototype.staticPart=function(){return this.isDynamic()?this.offsetAsBytes():this.value},i.prototype.dynamicPart=function(){return this.isDynamic()?this.value:""},i.prototype.encode=function(){return this.staticPart()+this.dynamicPart()},i.encodeList=function(t){var e=32*t.length,r=t.map(function(t){if(!t.isDynamic())return t;var r=e;return e+=t.dynamicPartLength(),t.withOffset(r)});return r.reduce(function(t,e){return t+e.dynamicPart()},r.reduce(function(t,e){return t+e.staticPart()},""))},t.exports=i},function(t,e,r){var n;(function(){var r=this,i=r._,o=Array.prototype,s=Object.prototype,a=Function.prototype,u=o.push,c=o.slice,f=s.toString,l=s.hasOwnProperty,h=Array.isArray,p=Object.keys,d=a.bind,m=Object.create,g=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};void 0!==t&&t.exports&&(e=t.exports=v),e._=v,v.VERSION="1.8.3";var y=function(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)}}return function(){return t.apply(e,arguments)}},b=function(t,e,r){return null==t?v.identity:v.isFunction(t)?y(t,e,r):v.isObject(t)?v.matcher(t):v.property(t)};v.iteratee=function(t,e){return b(t,e,1/0)};var w=function(t,e){return function(r){var n=arguments.length;if(n<2||null==r)return r;for(var i=1;i<n;i++)for(var o=arguments[i],s=t(o),a=s.length,u=0;u<a;u++){var c=s[u];e&&void 0!==r[c]||(r[c]=o[c])}return r}},_=function(t){if(!v.isObject(t))return{};if(m)return m(t);g.prototype=t;var e=new g;return g.prototype=null,e},k=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,x=k("length"),E=function(t){var e=x(t);return"number"==typeof e&&e>=0&&e<=S};function C(t){return function(e,r,n,i){r=y(r,i,4);var o=!E(e)&&v.keys(e),s=(o||e).length,a=t>0?0:s-1;return arguments.length<3&&(n=e[o?o[a]:a],a+=t),function(e,r,n,i,o,s){for(;o>=0&&o<s;o+=t){var a=i?i[o]:o;n=r(n,e[a],a,e)}return n}(e,r,n,o,a,s)}}v.each=v.forEach=function(t,e,r){var n,i;if(e=y(e,r),E(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else{var o=v.keys(t);for(n=0,i=o.length;n<i;n++)e(t[o[n]],o[n],t)}return t},v.map=v.collect=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=Array(i),s=0;s<i;s++){var a=n?n[s]:s;o[s]=e(t[a],a,t)}return o},v.reduce=v.foldl=v.inject=C(1),v.reduceRight=v.foldr=C(-1),v.find=v.detect=function(t,e,r){var n;if(void 0!==(n=E(t)?v.findIndex(t,e,r):v.findKey(t,e,r))&&-1!==n)return t[n]},v.filter=v.select=function(t,e,r){var n=[];return e=b(e,r),v.each(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n},v.reject=function(t,e,r){return v.filter(t,v.negate(b(e)),r)},v.every=v.all=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(!e(t[s],s,t))return!1}return!0},v.some=v.any=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(e(t[s],s,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,r,n){return E(t)||(t=v.values(t)),("number"!=typeof r||n)&&(r=0),v.indexOf(t,e,r)>=0},v.invoke=function(t,e){var r=c.call(arguments,2),n=v.isFunction(e);return v.map(t,function(t){var i=n?e:t[e];return null==i?i:i.apply(t,r)})},v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,r){var n,i,o=-1/0,s=-1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])>o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)});return o},v.min=function(t,e,r){var n,i,o=1/0,s=1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])<o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))<s||i===1/0&&o===1/0)&&(o=t,s=i)});return o},v.shuffle=function(t){for(var e,r=E(t)?t:v.values(t),n=r.length,i=Array(n),o=0;o<n;o++)(e=v.random(0,o))!==o&&(i[o]=i[e]),i[e]=r[o];return i},v.sample=function(t,e,r){return null==e||r?(E(t)||(t=v.values(t)),t[v.random(t.length-1)]):v.shuffle(t).slice(0,Math.max(0,e))},v.sortBy=function(t,e,r){return e=b(e,r),v.pluck(v.map(t,function(t,r,n){return{value:t,index:r,criteria:e(t,r,n)}}).sort(function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index}),"value")};var A=function(t){return function(e,r,n){var i={};return r=b(r,n),v.each(e,function(n,o){var s=r(n,o,e);t(i,n,s)}),i}};v.groupBy=A(function(t,e,r){v.has(t,r)?t[r].push(e):t[r]=[e]}),v.indexBy=A(function(t,e,r){t[r]=e}),v.countBy=A(function(t,e,r){v.has(t,r)?t[r]++:t[r]=1}),v.toArray=function(t){return t?v.isArray(t)?c.call(t):E(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:E(t)?t.length:v.keys(t).length},v.partition=function(t,e,r){e=b(e,r);var n=[],i=[];return v.each(t,function(t,r,o){(e(t,r,o)?n:i).push(t)}),[n,i]},v.first=v.head=v.take=function(t,e,r){if(null!=t)return null==e||r?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,r){return c.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))},v.last=function(t,e,r){if(null!=t)return null==e||r?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,r){return c.call(t,null==e||r?1:e)},v.compact=function(t){return v.filter(t,v.identity)};var M=function(t,e,r,n){for(var i=[],o=0,s=n||0,a=x(t);s<a;s++){var u=t[s];if(E(u)&&(v.isArray(u)||v.isArguments(u))){e||(u=M(u,e,r));var c=0,f=u.length;for(i.length+=f;c<f;)i[o++]=u[c++]}else r||(i[o++]=u)}return i};function I(t){return function(e,r,n){r=b(r,n);for(var i=x(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(r(e[o],o,e))return o;return-1}}function T(t,e,r){return function(n,i,o){var s=0,a=x(n);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(r&&o&&a)return n[o=r(n,i)]===i?o:-1;if(i!=i)return(o=e(c.call(n,s,a),v.isNaN))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(n[o]===i)return o;return-1}}v.flatten=function(t,e){return M(t,e,!1)},v.without=function(t){return v.difference(t,c.call(arguments,1))},v.uniq=v.unique=function(t,e,r,n){v.isBoolean(e)||(n=r,r=e,e=!1),null!=r&&(r=b(r,n));for(var i=[],o=[],s=0,a=x(t);s<a;s++){var u=t[s],c=r?r(u,s,t):u;e?(s&&o===c||i.push(u),o=c):r?v.contains(o,c)||(o.push(c),i.push(u)):v.contains(i,u)||i.push(u)}return i},v.union=function(){return v.uniq(M(arguments,!0,!0))},v.intersection=function(t){for(var e=[],r=arguments.length,n=0,i=x(t);n<i;n++){var o=t[n];if(!v.contains(e,o)){for(var s=1;s<r&&v.contains(arguments[s],o);s++);s===r&&e.push(o)}}return e},v.difference=function(t){var e=M(arguments,!0,!0,1);return v.filter(t,function(t){return!v.contains(e,t)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(t){for(var e=t&&v.max(t,x).length||0,r=Array(e),n=0;n<e;n++)r[n]=v.pluck(t,n);return r},v.object=function(t,e){for(var r={},n=0,i=x(t);n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r},v.findIndex=I(1),v.findLastIndex=I(-1),v.sortedIndex=function(t,e,r,n){for(var i=(r=b(r,n,1))(e),o=0,s=x(t);o<s;){var a=Math.floor((o+s)/2);r(t[a])<i?o=a+1:s=a}return o},v.indexOf=T(1,v.findIndex,v.sortedIndex),v.lastIndexOf=T(-1,v.findLastIndex),v.range=function(t,e,r){null==e&&(e=t||0,t=0),r=r||1;for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),o=0;o<n;o++,t+=r)i[o]=t;return i};var O=function(t,e,r,n,i){if(!(n instanceof e))return t.apply(r,i);var o=_(t.prototype),s=t.apply(o,i);return v.isObject(s)?s:o};v.bind=function(t,e){if(d&&t.bind===d)return d.apply(t,c.call(arguments,1));if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var r=c.call(arguments,2),n=function(){return O(t,n,e,this,r.concat(c.call(arguments)))};return n},v.partial=function(t){var e=c.call(arguments,1),r=function(){for(var n=0,i=e.length,o=Array(i),s=0;s<i;s++)o[s]=e[s]===v?arguments[n++]:e[s];for(;n<arguments.length;)o.push(arguments[n++]);return O(t,r,this,this,o)};return r},v.bindAll=function(t){var e,r,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)t[r=arguments[e]]=v.bind(t[r],t);return t},v.memoize=function(t,e){var r=function(n){var i=r.cache,o=""+(e?e.apply(this,arguments):n);return v.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return r.cache={},r},v.delay=function(t,e){var r=c.call(arguments,2);return setTimeout(function(){return t.apply(null,r)},e)},v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,r){var n,i,o,s=null,a=0;r||(r={});var u=function(){a=!1===r.leading?0:v.now(),s=null,o=t.apply(n,i),s||(n=i=null)};return function(){var c=v.now();a||!1!==r.leading||(a=c);var f=e-(c-a);return n=this,i=arguments,f<=0||f>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(n,i),s||(n=i=null)):s||!1===r.trailing||(s=setTimeout(u,f)),o}},v.debounce=function(t,e,r){var n,i,o,s,a,u=function(){var c=v.now()-s;c<e&&c>=0?n=setTimeout(u,e-c):(n=null,r||(a=t.apply(o,i),n||(o=i=null)))};return function(){o=this,i=arguments,s=v.now();var c=r&&!n;return n||(n=setTimeout(u,e)),c&&(a=t.apply(o,i),o=i=null),a}},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.before=function(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}},v.once=v.partial(v.before,2);var B=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function N(t,e){var r=P.length,n=t.constructor,i=v.isFunction(n)&&n.prototype||s,o="constructor";for(v.has(t,o)&&!v.contains(e,o)&&e.push(o);r--;)(o=P[r])in t&&t[o]!==i[o]&&!v.contains(e,o)&&e.push(o)}v.keys=function(t){if(!v.isObject(t))return[];if(p)return p(t);var e=[];for(var r in t)v.has(t,r)&&e.push(r);return B&&N(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var r in t)e.push(r);return B&&N(t,e),e},v.values=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n},v.mapObject=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=i.length,s={},a=0;a<o;a++)s[n=i[a]]=e(t[n],n,t);return s},v.pairs=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=[e[i],t[e[i]]];return n},v.invert=function(t){for(var e={},r=v.keys(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e},v.functions=v.methods=function(t){var e=[];for(var r in t)v.isFunction(t[r])&&e.push(r);return e.sort()},v.extend=w(v.allKeys),v.extendOwn=v.assign=w(v.keys),v.findKey=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=0,s=i.length;o<s;o++)if(e(t[n=i[o]],n,t))return n},v.pick=function(t,e,r){var n,i,o={},s=t;if(null==s)return o;v.isFunction(e)?(i=v.allKeys(s),n=y(e,r)):(i=M(arguments,!1,!1,1),n=function(t,e,r){return e in r},s=Object(s));for(var a=0,u=i.length;a<u;a++){var c=i[a],f=s[c];n(f,c,s)&&(o[c]=f)}return o},v.omit=function(t,e,r){if(v.isFunction(e))e=v.negate(e);else{var n=v.map(M(arguments,!1,!1,1),String);e=function(t,e){return!v.contains(n,e)}}return v.pick(t,e,r)},v.defaults=w(v.allKeys,!0),v.create=function(t,e){var r=_(t);return e&&v.extendOwn(r,e),r},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var r=v.keys(e),n=r.length;if(null==t)return!n;for(var i=Object(t),o=0;o<n;o++){var s=r[o];if(e[s]!==i[s]||!(s in i))return!1}return!0};var R=function(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var i=f.call(t);if(i!==f.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===t)return n[u]===e;if(r.push(t),n.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!R(t[u],e[u],r,n))return!1}else{var c,l=v.keys(t);if(u=l.length,v.keys(e).length!==u)return!1;for(;u--;)if(c=l[u],!v.has(e,c)||!R(t[c],e[c],r,n))return!1}return r.pop(),n.pop(),!0};v.isEqual=function(t,e){return R(t,e)},v.isEmpty=function(t){return null==t||(E(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=h||function(t){return"[object Array]"===f.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){v["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return v.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&t!==+t},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){return null!=t&&l.call(t,e)},v.noConflict=function(){return r._=i,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=k,v.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,r){var n=Array(Math.max(0,t));e=y(e,r,1);for(var i=0;i<t;i++)n[i]=e(i);return n},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=v.invert(F),L=function(t){var e=function(e){return t[e]},r="(?:"+v.keys(t).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(i,e):t}};v.escape=L(F),v.unescape=L(j),v.result=function(t,e,r){var n=null==t?void 0:t[e];return void 0===n&&(n=r),v.isFunction(n)?n.call(t):n};var D=0;v.uniqueId=function(t){var e=++D+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,K=function(t){return"\\"+z[t]};v.template=function(t,e,r){!e&&r&&(e=r),e=v.defaults({},e,v.templateSettings);var n=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(n,function(e,r,n,s,a){return o+=t.slice(i,a).replace(H,K),i=a+e.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,v)},u=e.variable||"obj";return a.source="function("+u+"){\n"+o+"}",a},v.chain=function(t){var e=v(t);return e._chain=!0,e};var q=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){v.each(v.functions(t),function(e){var r=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),q(this,r.apply(v,t))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];v.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0],q(this,r)}}),v.each(["concat","join","slice"],function(t){var e=o[t];v.prototype[t]=function(){return q(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},void 0===(n=function(){return v}.apply(e,[]))||(t.exports=n)}).call(this)},function(t,e,r){var n=r(657),i=r(54),o=r(68),s=r(1645),a=r(1644),u=r(1643),c=r(1642),f=r(1641),l=r(1640),h=r(1639),p=function(t,e){return t.isDynamicType(e)||t.isDynamicArray(e)};function d(){}var m=function(t){this._types=t};m.prototype._requireType=function(t){var e=this._types.filter(function(e){return e.isType(t)})[0];if(!e)throw Error("Invalid solidity type: "+t);return e},m.prototype._getOffsets=function(t,e){for(var r=e.map(function(e,r){return e.staticPartLength(t[r])}),n=1;n<r.length;n++)r[n]+=r[n-1];return r.map(function(r,n){return r-e[n].staticPartLength(t[n])})},m.prototype._getSolidityTypes=function(t){var e=this;return t.map(function(t){return e._requireType(t)})},m.prototype._encodeMultiWithOffset=function(t,e,r,n){var i="",s=this;return t.forEach(function(a,u){if(p(e[u],t[u])){i+=o.formatInputInt(n).encode();var c=s._encodeWithOffset(t[u],e[u],r[u],n);n+=c.length/2}else i+=s._encodeWithOffset(t[u],e[u],r[u],n)}),t.forEach(function(o,a){if(p(e[a],t[a])){var u=s._encodeWithOffset(t[a],e[a],r[a],n);n+=u.length/2,i+=u}}),i},m.prototype._encodeWithOffset=function(t,e,r,n){var i,s,a,u=this;return e.isDynamicArray(t)?(i=e.nestedName(t),s=e.staticPartLength(i),a=r[0],function(){var t=2;if(e.isDynamicArray(i))for(var u=1;u<r.length;u++)t+=+r[u-1][0]||0,a+=o.formatInputInt(n+u*s+32*t).encode()}(),function(){for(var t=0;t<r.length-1;t++){var o=a/2;a+=u._encodeWithOffset(i,e,r[t+1],n+o)}}(),a):e.isStaticArray(t)?function(){var i=e.nestedName(t),s=e.staticPartLength(i),a="";return e.isDynamicArray(i)&&function(){for(var t=0,e=0;e<r.length;e++)t+=+(r[e-1]||[])[0]||0,a+=o.formatInputInt(n+e*s+32*t).encode()}(),function(){for(var t=0;t<r.length;t++){var o=a/2;a+=u._encodeWithOffset(i,e,r[t],n+o)}}(),a}():r},m.prototype.encodeFunctionSignature=function(t){return n.isObject(t)&&(t=i._jsonInterfaceMethodToString(t)),i.sha3(t).slice(0,10)},m.prototype.encodeEventSignature=function(t){return n.isObject(t)&&(t=i._jsonInterfaceMethodToString(t)),i.sha3(t)},m.prototype.encodeParameter=function(t,e){return this.encodeParameters([t],[e])},m.prototype.encodeParameters=function(t,e){n.isObject(t)&&t.inputs&&(t=n.map(t.inputs,function(t){return t.type}));var r=this._getSolidityTypes(t),i=r.map(function(r,n){return r.encode(e[n],t[n])}),o=r.reduce(function(e,n,i){var o=n.staticPartLength(t[i]),s=32*Math.floor((o+31)/32);return e+(p(r[i],t[i])?32:s)},0);return"0x"+this._encodeMultiWithOffset(t,r,i,o)},m.prototype.encodeFunctionCall=function(t,e){return this.encodeFunctionSignature(t)+this.encodeParameters(t,e).replace("0x","")},m.prototype.decodeParameter=function(t,e){if(!n.isString(t))throw new Error("Given parameter type is not a string: "+t);return this.decodeParameters([{type:t}],e)[0]},m.prototype.decodeParameters=function(t,e){var r=n.isArray(t)&&n.isString(t[0]),i=r?t:[];r||t.forEach(function(t){i.push(t.type)});var o=this._getSolidityTypes(i),s=this._getOffsets(i,o),a=new d;a.__length__=0;var u=0;return t.forEach(function(t,r){var c=o[u].decode(e.replace(/^0x/i,""),s[u],i[u],u);c="0x"===c?null:c,a[r]=c,n.isObject(t)&&t.name&&(a[t.name]=c),a.__length__++,u++}),a},m.prototype.decodeLog=function(t,e,r){e=e||"";var i=[],o=[];t.forEach(function(t,e){t.indexed?o[e]=t:i[e]=t});var s=e.slice(2),a=n.isArray(r)?r.map(function(t){return t.slice(2)}).join(""):r,u=this.decodeParameters(i,s),c=this.decodeParameters(o,a),f=new d;return f.__length__=0,t.forEach(function(t,e){f[e]="string"===t.type?"":null,u[e]&&(f[e]=u[e]),c[e]&&(f[e]=c[e]),t.name&&(f[t.name]=f[e]),f.__length__++}),f};var g=new m([new s,new a,new u,new c,new f,new h,new l]);t.exports=g},function(t,e,r){"use strict";var n=r(110),i=r(109),o=r(54),s=r(234),a=r(43).formatters,u=function(){var t=this;n.packageInit(this,arguments),this.net=new s(this.currentProvider);var e=null,r="latest";Object.defineProperty(this,"defaultAccount",{get:function(){return e},set:function(t){return t&&(e=o.toChecksumAddress(a.inputAddressFormatter(t))),u.forEach(function(t){t.defaultAccount=e}),t},enumerable:!0}),Object.defineProperty(this,"defaultBlock",{get:function(){return r},set:function(t){return r=t,u.forEach(function(t){t.defaultBlock=r}),t},enumerable:!0});var u=[new i({name:"getAccounts",call:"personal_listAccounts",params:0,outputFormatter:o.toChecksumAddress}),new i({name:"newAccount",call:"personal_newAccount",params:1,inputFormatter:[null],outputFormatter:o.toChecksumAddress}),new i({name:"unlockAccount",call:"personal_unlockAccount",params:3,inputFormatter:[a.inputAddressFormatter,null,null]}),new i({name:"lockAccount",call:"personal_lockAccount",params:1,inputFormatter:[a.inputAddressFormatter]}),new i({name:"importRawKey",call:"personal_importRawKey",params:2}),new i({name:"sendTransaction",call:"personal_sendTransaction",params:2,inputFormatter:[a.inputTransactionFormatter,null]}),new i({name:"signTransaction",call:"personal_signTransaction",params:2,inputFormatter:[a.inputTransactionFormatter,null]}),new i({name:"sign",call:"personal_sign",params:3,inputFormatter:[a.inputSignFormatter,a.inputAddressFormatter,null]}),new i({name:"ecRecover",call:"personal_ecRecover",params:2,inputFormatter:[a.inputSignFormatter,null]})];u.forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager),e.defaultBlock=t.defaultBlock,e.defaultAccount=t.defaultAccount})};n.addProviders(u),t.exports=u},function(t,e,r){var n;(function(){var r=this,i=r._,o=Array.prototype,s=Object.prototype,a=Function.prototype,u=o.push,c=o.slice,f=s.toString,l=s.hasOwnProperty,h=Array.isArray,p=Object.keys,d=a.bind,m=Object.create,g=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};void 0!==t&&t.exports&&(e=t.exports=v),e._=v,v.VERSION="1.8.3";var y=function(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)}}return function(){return t.apply(e,arguments)}},b=function(t,e,r){return null==t?v.identity:v.isFunction(t)?y(t,e,r):v.isObject(t)?v.matcher(t):v.property(t)};v.iteratee=function(t,e){return b(t,e,1/0)};var w=function(t,e){return function(r){var n=arguments.length;if(n<2||null==r)return r;for(var i=1;i<n;i++)for(var o=arguments[i],s=t(o),a=s.length,u=0;u<a;u++){var c=s[u];e&&void 0!==r[c]||(r[c]=o[c])}return r}},_=function(t){if(!v.isObject(t))return{};if(m)return m(t);g.prototype=t;var e=new g;return g.prototype=null,e},k=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,x=k("length"),E=function(t){var e=x(t);return"number"==typeof e&&e>=0&&e<=S};function C(t){return function(e,r,n,i){r=y(r,i,4);var o=!E(e)&&v.keys(e),s=(o||e).length,a=t>0?0:s-1;return arguments.length<3&&(n=e[o?o[a]:a],a+=t),function(e,r,n,i,o,s){for(;o>=0&&o<s;o+=t){var a=i?i[o]:o;n=r(n,e[a],a,e)}return n}(e,r,n,o,a,s)}}v.each=v.forEach=function(t,e,r){var n,i;if(e=y(e,r),E(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else{var o=v.keys(t);for(n=0,i=o.length;n<i;n++)e(t[o[n]],o[n],t)}return t},v.map=v.collect=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=Array(i),s=0;s<i;s++){var a=n?n[s]:s;o[s]=e(t[a],a,t)}return o},v.reduce=v.foldl=v.inject=C(1),v.reduceRight=v.foldr=C(-1),v.find=v.detect=function(t,e,r){var n;if(void 0!==(n=E(t)?v.findIndex(t,e,r):v.findKey(t,e,r))&&-1!==n)return t[n]},v.filter=v.select=function(t,e,r){var n=[];return e=b(e,r),v.each(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n},v.reject=function(t,e,r){return v.filter(t,v.negate(b(e)),r)},v.every=v.all=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(!e(t[s],s,t))return!1}return!0},v.some=v.any=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(e(t[s],s,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,r,n){return E(t)||(t=v.values(t)),("number"!=typeof r||n)&&(r=0),v.indexOf(t,e,r)>=0},v.invoke=function(t,e){var r=c.call(arguments,2),n=v.isFunction(e);return v.map(t,function(t){var i=n?e:t[e];return null==i?i:i.apply(t,r)})},v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,r){var n,i,o=-1/0,s=-1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])>o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)});return o},v.min=function(t,e,r){var n,i,o=1/0,s=1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])<o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))<s||i===1/0&&o===1/0)&&(o=t,s=i)});return o},v.shuffle=function(t){for(var e,r=E(t)?t:v.values(t),n=r.length,i=Array(n),o=0;o<n;o++)(e=v.random(0,o))!==o&&(i[o]=i[e]),i[e]=r[o];return i},v.sample=function(t,e,r){return null==e||r?(E(t)||(t=v.values(t)),t[v.random(t.length-1)]):v.shuffle(t).slice(0,Math.max(0,e))},v.sortBy=function(t,e,r){return e=b(e,r),v.pluck(v.map(t,function(t,r,n){return{value:t,index:r,criteria:e(t,r,n)}}).sort(function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index}),"value")};var A=function(t){return function(e,r,n){var i={};return r=b(r,n),v.each(e,function(n,o){var s=r(n,o,e);t(i,n,s)}),i}};v.groupBy=A(function(t,e,r){v.has(t,r)?t[r].push(e):t[r]=[e]}),v.indexBy=A(function(t,e,r){t[r]=e}),v.countBy=A(function(t,e,r){v.has(t,r)?t[r]++:t[r]=1}),v.toArray=function(t){return t?v.isArray(t)?c.call(t):E(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:E(t)?t.length:v.keys(t).length},v.partition=function(t,e,r){e=b(e,r);var n=[],i=[];return v.each(t,function(t,r,o){(e(t,r,o)?n:i).push(t)}),[n,i]},v.first=v.head=v.take=function(t,e,r){if(null!=t)return null==e||r?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,r){return c.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))},v.last=function(t,e,r){if(null!=t)return null==e||r?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,r){return c.call(t,null==e||r?1:e)},v.compact=function(t){return v.filter(t,v.identity)};var M=function(t,e,r,n){for(var i=[],o=0,s=n||0,a=x(t);s<a;s++){var u=t[s];if(E(u)&&(v.isArray(u)||v.isArguments(u))){e||(u=M(u,e,r));var c=0,f=u.length;for(i.length+=f;c<f;)i[o++]=u[c++]}else r||(i[o++]=u)}return i};function I(t){return function(e,r,n){r=b(r,n);for(var i=x(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(r(e[o],o,e))return o;return-1}}function T(t,e,r){return function(n,i,o){var s=0,a=x(n);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(r&&o&&a)return n[o=r(n,i)]===i?o:-1;if(i!=i)return(o=e(c.call(n,s,a),v.isNaN))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(n[o]===i)return o;return-1}}v.flatten=function(t,e){return M(t,e,!1)},v.without=function(t){return v.difference(t,c.call(arguments,1))},v.uniq=v.unique=function(t,e,r,n){v.isBoolean(e)||(n=r,r=e,e=!1),null!=r&&(r=b(r,n));for(var i=[],o=[],s=0,a=x(t);s<a;s++){var u=t[s],c=r?r(u,s,t):u;e?(s&&o===c||i.push(u),o=c):r?v.contains(o,c)||(o.push(c),i.push(u)):v.contains(i,u)||i.push(u)}return i},v.union=function(){return v.uniq(M(arguments,!0,!0))},v.intersection=function(t){for(var e=[],r=arguments.length,n=0,i=x(t);n<i;n++){var o=t[n];if(!v.contains(e,o)){for(var s=1;s<r&&v.contains(arguments[s],o);s++);s===r&&e.push(o)}}return e},v.difference=function(t){var e=M(arguments,!0,!0,1);return v.filter(t,function(t){return!v.contains(e,t)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(t){for(var e=t&&v.max(t,x).length||0,r=Array(e),n=0;n<e;n++)r[n]=v.pluck(t,n);return r},v.object=function(t,e){for(var r={},n=0,i=x(t);n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r},v.findIndex=I(1),v.findLastIndex=I(-1),v.sortedIndex=function(t,e,r,n){for(var i=(r=b(r,n,1))(e),o=0,s=x(t);o<s;){var a=Math.floor((o+s)/2);r(t[a])<i?o=a+1:s=a}return o},v.indexOf=T(1,v.findIndex,v.sortedIndex),v.lastIndexOf=T(-1,v.findLastIndex),v.range=function(t,e,r){null==e&&(e=t||0,t=0),r=r||1;for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),o=0;o<n;o++,t+=r)i[o]=t;return i};var O=function(t,e,r,n,i){if(!(n instanceof e))return t.apply(r,i);var o=_(t.prototype),s=t.apply(o,i);return v.isObject(s)?s:o};v.bind=function(t,e){if(d&&t.bind===d)return d.apply(t,c.call(arguments,1));if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var r=c.call(arguments,2),n=function(){return O(t,n,e,this,r.concat(c.call(arguments)))};return n},v.partial=function(t){var e=c.call(arguments,1),r=function(){for(var n=0,i=e.length,o=Array(i),s=0;s<i;s++)o[s]=e[s]===v?arguments[n++]:e[s];for(;n<arguments.length;)o.push(arguments[n++]);return O(t,r,this,this,o)};return r},v.bindAll=function(t){var e,r,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)t[r=arguments[e]]=v.bind(t[r],t);return t},v.memoize=function(t,e){var r=function(n){var i=r.cache,o=""+(e?e.apply(this,arguments):n);return v.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return r.cache={},r},v.delay=function(t,e){var r=c.call(arguments,2);return setTimeout(function(){return t.apply(null,r)},e)},v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,r){var n,i,o,s=null,a=0;r||(r={});var u=function(){a=!1===r.leading?0:v.now(),s=null,o=t.apply(n,i),s||(n=i=null)};return function(){var c=v.now();a||!1!==r.leading||(a=c);var f=e-(c-a);return n=this,i=arguments,f<=0||f>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(n,i),s||(n=i=null)):s||!1===r.trailing||(s=setTimeout(u,f)),o}},v.debounce=function(t,e,r){var n,i,o,s,a,u=function(){var c=v.now()-s;c<e&&c>=0?n=setTimeout(u,e-c):(n=null,r||(a=t.apply(o,i),n||(o=i=null)))};return function(){o=this,i=arguments,s=v.now();var c=r&&!n;return n||(n=setTimeout(u,e)),c&&(a=t.apply(o,i),o=i=null),a}},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.before=function(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}},v.once=v.partial(v.before,2);var B=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function N(t,e){var r=P.length,n=t.constructor,i=v.isFunction(n)&&n.prototype||s,o="constructor";for(v.has(t,o)&&!v.contains(e,o)&&e.push(o);r--;)(o=P[r])in t&&t[o]!==i[o]&&!v.contains(e,o)&&e.push(o)}v.keys=function(t){if(!v.isObject(t))return[];if(p)return p(t);var e=[];for(var r in t)v.has(t,r)&&e.push(r);return B&&N(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var r in t)e.push(r);return B&&N(t,e),e},v.values=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n},v.mapObject=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=i.length,s={},a=0;a<o;a++)s[n=i[a]]=e(t[n],n,t);return s},v.pairs=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=[e[i],t[e[i]]];return n},v.invert=function(t){for(var e={},r=v.keys(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e},v.functions=v.methods=function(t){var e=[];for(var r in t)v.isFunction(t[r])&&e.push(r);return e.sort()},v.extend=w(v.allKeys),v.extendOwn=v.assign=w(v.keys),v.findKey=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=0,s=i.length;o<s;o++)if(e(t[n=i[o]],n,t))return n},v.pick=function(t,e,r){var n,i,o={},s=t;if(null==s)return o;v.isFunction(e)?(i=v.allKeys(s),n=y(e,r)):(i=M(arguments,!1,!1,1),n=function(t,e,r){return e in r},s=Object(s));for(var a=0,u=i.length;a<u;a++){var c=i[a],f=s[c];n(f,c,s)&&(o[c]=f)}return o},v.omit=function(t,e,r){if(v.isFunction(e))e=v.negate(e);else{var n=v.map(M(arguments,!1,!1,1),String);e=function(t,e){return!v.contains(n,e)}}return v.pick(t,e,r)},v.defaults=w(v.allKeys,!0),v.create=function(t,e){var r=_(t);return e&&v.extendOwn(r,e),r},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var r=v.keys(e),n=r.length;if(null==t)return!n;for(var i=Object(t),o=0;o<n;o++){var s=r[o];if(e[s]!==i[s]||!(s in i))return!1}return!0};var R=function(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var i=f.call(t);if(i!==f.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===t)return n[u]===e;if(r.push(t),n.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!R(t[u],e[u],r,n))return!1}else{var c,l=v.keys(t);if(u=l.length,v.keys(e).length!==u)return!1;for(;u--;)if(c=l[u],!v.has(e,c)||!R(t[c],e[c],r,n))return!1}return r.pop(),n.pop(),!0};v.isEqual=function(t,e){return R(t,e)},v.isEmpty=function(t){return null==t||(E(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=h||function(t){return"[object Array]"===f.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){v["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return v.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&t!==+t},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){return null!=t&&l.call(t,e)},v.noConflict=function(){return r._=i,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=k,v.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,r){var n=Array(Math.max(0,t));e=y(e,r,1);for(var i=0;i<t;i++)n[i]=e(i);return n},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=v.invert(F),L=function(t){var e=function(e){return t[e]},r="(?:"+v.keys(t).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(i,e):t}};v.escape=L(F),v.unescape=L(j),v.result=function(t,e,r){var n=null==t?void 0:t[e];return void 0===n&&(n=r),v.isFunction(n)?n.call(t):n};var D=0;v.uniqueId=function(t){var e=++D+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,K=function(t){return"\\"+z[t]};v.template=function(t,e,r){!e&&r&&(e=r),e=v.defaults({},e,v.templateSettings);var n=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(n,function(e,r,n,s,a){return o+=t.slice(i,a).replace(H,K),i=a+e.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,v)},u=e.variable||"obj";return a.source="function("+u+"){\n"+o+"}",a},v.chain=function(t){var e=v(t);return e._chain=!0,e};var q=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){v.each(v.functions(t),function(e){var r=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),q(this,r.apply(v,t))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];v.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0],q(this,r)}}),v.each(["concat","join","slice"],function(t){var e=o[t];v.prototype[t]=function(){return q(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},void 0===(n=function(){return v}.apply(e,[]))||(t.exports=n)}).call(this)},function(t,e,r){t.exports=r(1654)().Promise},function(t,e,r){"use strict";var n=r(1655),i=r(661),o=function(t){var e,r,o=new i(function(){e=arguments[0],r=arguments[1]});if(t)return{resolve:e,reject:r,eventEmitter:o};var s=new n;return o._events=s._events,o.emit=s.emit,o.on=s.on,o.once=s.once,o.off=s.off,o.listeners=s.listeners,o.addListener=s.addListener,o.removeListener=s.removeListener,o.removeAllListeners=s.removeAllListeners,{resolve:e,reject:r,eventEmitter:o}};o.resolve=function(t){var e=o(!0);return e.resolve(t),e.eventEmitter},t.exports=o},function(t,e){t.exports=XMLHttpRequest},function(t,e,r){"use strict";var n={messageId:0,toPayload:function(t,e){if(!t)throw new Error('JSONRPC method should be specified for params: "'+JSON.stringify(e)+'"!');return n.messageId++,{jsonrpc:"2.0",id:n.messageId,method:t,params:e||[]}},isValidResponse:function(t){return Array.isArray(t)?t.every(e):e(t);function e(t){return!(!t||t.error||"2.0"!==t.jsonrpc||"number"!=typeof t.id&&"string"!=typeof t.id||void 0===t.result)}},toBatchPayload:function(t){return t.map(function(t){return n.toPayload(t.method,t.params)})}};t.exports=n},function(t,e,r){"use strict";var n=r(54),i=r(1674),o=function(t){var e="A".charCodeAt(0),r="Z".charCodeAt(0);return(t=(t=t.toUpperCase()).substr(4)+t.substr(0,4)).split("").map(function(t){var n=t.charCodeAt(0);return n>=e&&n<=r?n-e+10:t}).join("")},s=function(t){for(var e,r=t;r.length>2;)e=r.slice(0,9),r=parseInt(e,10)%97+r.slice(e.length);return parseInt(r,10)%97},a=function(t){this._iban=t};a.toAddress=function(t){if(!(t=new a(t)).isDirect())throw new Error("IBAN is indirect and can't be converted");return t.toAddress()},a.toIban=function(t){return a.fromAddress(t).toString()},a.fromAddress=function(t){if(!n.isAddress(t))throw new Error("Provided address is not a valid address: "+t);t=t.replace("0x","").replace("0X","");var e=function(t,e){for(var r=t;r.length<2*e;)r="0"+r;return r}(new i(t,16).toString(36),15);return a.fromBban(e.toUpperCase())},a.fromBban=function(t){var e=("0"+(98-s(o("XE00"+t)))).slice(-2);return new a("XE"+e+t)},a.createIndirect=function(t){return a.fromBban("ETH"+t.institution+t.identifier)},a.isValid=function(t){return new a(t).isValid()},a.prototype.isValid=function(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&1===s(o(this._iban))},a.prototype.isDirect=function(){return 34===this._iban.length||35===this._iban.length},a.prototype.isIndirect=function(){return 20===this._iban.length},a.prototype.checksum=function(){return this._iban.substr(2,2)},a.prototype.institution=function(){return this.isIndirect()?this._iban.substr(7,4):""},a.prototype.client=function(){return this.isIndirect()?this._iban.substr(11):""},a.prototype.toAddress=function(){if(this.isDirect()){var t=this._iban.substr(4),e=new i(t,36);return n.toChecksumAddress(e.toString(16,20))}return""},a.prototype.toString=function(){return this._iban},t.exports=a},function(t,e){var r="0123456789abcdef".split(""),n=[1,256,65536,16777216],i=[0,8,16,24],o=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],s=function(t){var e,r,n,i,s,a,u,c,f,l,h,p,d,m,g,v,y,b,w,_,k,S,x,E,C,A,M,I,T,O,B,P,N,R,F,j,L,D,U,z,H,K,q,V,W,G,Y,$,Z,X,J,Q,tt,et,rt,nt,it,ot,st,at,ut,ct,ft;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],s=t[1]^t[11]^t[21]^t[31]^t[41],a=t[2]^t[12]^t[22]^t[32]^t[42],u=t[3]^t[13]^t[23]^t[33]^t[43],c=t[4]^t[14]^t[24]^t[34]^t[44],f=t[5]^t[15]^t[25]^t[35]^t[45],l=t[6]^t[16]^t[26]^t[36]^t[46],h=t[7]^t[17]^t[27]^t[37]^t[47],e=(p=t[8]^t[18]^t[28]^t[38]^t[48])^(a<<1|u>>>31),r=(d=t[9]^t[19]^t[29]^t[39]^t[49])^(u<<1|a>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(c<<1|f>>>31),r=s^(f<<1|c>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=a^(l<<1|h>>>31),r=u^(h<<1|l>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=c^(p<<1|d>>>31),r=f^(d<<1|p>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=l^(i<<1|s>>>31),r=h^(s<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,m=t[0],g=t[1],G=t[11]<<4|t[10]>>>28,Y=t[10]<<4|t[11]>>>28,I=t[20]<<3|t[21]>>>29,T=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ut=t[30]<<9|t[31]>>>23,K=t[40]<<18|t[41]>>>14,q=t[41]<<18|t[40]>>>14,R=t[2]<<1|t[3]>>>31,F=t[3]<<1|t[2]>>>31,v=t[13]<<12|t[12]>>>20,y=t[12]<<12|t[13]>>>20,$=t[22]<<10|t[23]>>>22,Z=t[23]<<10|t[22]>>>22,O=t[33]<<13|t[32]>>>19,B=t[32]<<13|t[33]>>>19,ct=t[42]<<2|t[43]>>>30,ft=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,j=t[14]<<6|t[15]>>>26,L=t[15]<<6|t[14]>>>26,b=t[25]<<11|t[24]>>>21,w=t[24]<<11|t[25]>>>21,X=t[34]<<15|t[35]>>>17,J=t[35]<<15|t[34]>>>17,P=t[45]<<29|t[44]>>>3,N=t[44]<<29|t[45]>>>3,E=t[6]<<28|t[7]>>>4,C=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,D=t[26]<<25|t[27]>>>7,U=t[27]<<25|t[26]>>>7,_=t[36]<<21|t[37]>>>11,k=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,V=t[8]<<27|t[9]>>>5,W=t[9]<<27|t[8]>>>5,A=t[18]<<20|t[19]>>>12,M=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,st=t[28]<<7|t[29]>>>25,z=t[38]<<8|t[39]>>>24,H=t[39]<<8|t[38]>>>24,S=t[48]<<14|t[49]>>>18,x=t[49]<<14|t[48]>>>18,t[0]=m^~v&b,t[1]=g^~y&w,t[10]=E^~A&I,t[11]=C^~M&T,t[20]=R^~j&D,t[21]=F^~L&U,t[30]=V^~G&$,t[31]=W^~Y&Z,t[40]=et^~nt&ot,t[41]=rt^~it&st,t[2]=v^~b&_,t[3]=y^~w&k,t[12]=A^~I&O,t[13]=M^~T&B,t[22]=j^~D&z,t[23]=L^~U&H,t[32]=G^~$&X,t[33]=Y^~Z&J,t[42]=nt^~ot&at,t[43]=it^~st&ut,t[4]=b^~_&S,t[5]=w^~k&x,t[14]=I^~O&P,t[15]=T^~B&N,t[24]=D^~z&K,t[25]=U^~H&q,t[34]=$^~X&Q,t[35]=Z^~J&tt,t[44]=ot^~at&ct,t[45]=st^~ut&ft,t[6]=_^~S&m,t[7]=k^~x&g,t[16]=O^~P&E,t[17]=B^~N&C,t[26]=z^~K&R,t[27]=H^~q&F,t[36]=X^~Q&V,t[37]=J^~tt&W,t[46]=at^~ct&et,t[47]=ut^~ft&rt,t[8]=S^~m&v,t[9]=x^~g&y,t[18]=P^~E&A,t[19]=N^~C&M,t[28]=K^~R&j,t[29]=q^~F&L,t[38]=Q^~V&G,t[39]=tt^~W&Y,t[48]=ct^~et&nt,t[49]=ft^~rt&it,t[0]^=o[n],t[1]^=o[n+1]},a=function(t){return function(e){var o;if("0x"===e.slice(0,2)){o=[];for(var a=2,u=e.length;a<u;a+=2)o.push(parseInt(e.slice(a,a+2),16))}else o=e;return function(t,e){for(var o,a=e.length,u=t.blocks,c=t.blockCount<<2,f=t.blockCount,l=t.outputBlocks,h=t.s,p=0;p<a;){if(t.reset)for(t.reset=!1,u[0]=t.block,g=1;g<f+1;++g)u[g]=0;if("string"!=typeof e)for(g=t.start;p<a&&g<c;++p)u[g>>2]|=e[p]<<i[3&g++];else for(g=t.start;p<a&&g<c;++p)(o=e.charCodeAt(p))<128?u[g>>2]|=o<<i[3&g++]:o<2048?(u[g>>2]|=(192|o>>6)<<i[3&g++],u[g>>2]|=(128|63&o)<<i[3&g++]):o<55296||o>=57344?(u[g>>2]|=(224|o>>12)<<i[3&g++],u[g>>2]|=(128|o>>6&63)<<i[3&g++],u[g>>2]|=(128|63&o)<<i[3&g++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++p)),u[g>>2]|=(240|o>>18)<<i[3&g++],u[g>>2]|=(128|o>>12&63)<<i[3&g++],u[g>>2]|=(128|o>>6&63)<<i[3&g++],u[g>>2]|=(128|63&o)<<i[3&g++]);if(t.lastByteIndex=g,g>=c){for(t.start=g-c,t.block=u[f],g=0;g<f;++g)h[g]^=u[g];s(h),t.reset=!0}else t.start=g}if(u[(g=t.lastByteIndex)>>2]|=n[3&g],t.lastByteIndex===c)for(u[0]=u[f],g=1;g<f+1;++g)u[g]=0;for(u[f-1]|=2147483648,g=0;g<f;++g)h[g]^=u[g];s(h);for(var d,m="",g=0,v=0;v<l;){for(g=0;g<f&&v<l;++g,++v)d=h[g],m+=r[d>>4&15]+r[15&d]+r[d>>12&15]+r[d>>8&15]+r[d>>20&15]+r[d>>16&15]+r[d>>28&15]+r[d>>24&15];v%f==0&&(s(h),g=0)}return"0x"+m}(function(t){return{blocks:[],reset:!0,block:0,start:0,blockCount:1600-(t<<1)>>5,outputBlocks:t>>5,s:(e=[0,0,0,0,0,0,0,0,0,0],[].concat(e,e,e,e,e))};var e}(t),o)}};t.exports={keccak256:a(256),keccak512:a(512),keccak256s:a(256),keccak512s:a(512)}},function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s=r(0).Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var s=t.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function u(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,f=r;f<a;f+=n)c=u(t,f,f+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var l=1;for(c=u(t,f,t.length,e),f=0;f<s;f++)l*=e;this.imuln(l),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,l=67108863&u,h=Math.min(c,e.length-1),p=Math.max(0,c-t.length+1);p<=h;p++){var d=c-p|0;f+=(s=(i=0|t.words[d])*(o=0|e.words[p])+l)/67108864|0,l=67108863&s}r.words[c]=0|l,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(t=t||10,e=0|e||1,16===t||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=f[t],p=l[t];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modn(p).toString(t);r=(d=d.idivn(p)).isZero()?m+r:c[h-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===e,c=new t(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[a]=s;for(;a<o;a++)c[a]=0}else{for(a=0;a<o-i;a++)c[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[o-a-1]=s}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,f=0|s[0],l=8191&f,h=f>>>13,p=0|s[1],d=8191&p,m=p>>>13,g=0|s[2],v=8191&g,y=g>>>13,b=0|s[3],w=8191&b,_=b>>>13,k=0|s[4],S=8191&k,x=k>>>13,E=0|s[5],C=8191&E,A=E>>>13,M=0|s[6],I=8191&M,T=M>>>13,O=0|s[7],B=8191&O,P=O>>>13,N=0|s[8],R=8191&N,F=N>>>13,j=0|s[9],L=8191&j,D=j>>>13,U=0|a[0],z=8191&U,H=U>>>13,K=0|a[1],q=8191&K,V=K>>>13,W=0|a[2],G=8191&W,Y=W>>>13,$=0|a[3],Z=8191&$,X=$>>>13,J=0|a[4],Q=8191&J,tt=J>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ft=0|a[8],lt=8191&ft,ht=ft>>>13,pt=0|a[9],dt=8191&pt,mt=pt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(l,z))|0)+((8191&(i=(i=Math.imul(l,H))+Math.imul(h,z)|0))<<13)|0;c=((o=Math.imul(h,H))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(d,z),i=(i=Math.imul(d,H))+Math.imul(m,z)|0,o=Math.imul(m,H);var vt=(c+(n=n+Math.imul(l,q)|0)|0)+((8191&(i=(i=i+Math.imul(l,V)|0)+Math.imul(h,q)|0))<<13)|0;c=((o=o+Math.imul(h,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,H))+Math.imul(y,z)|0,o=Math.imul(y,H),n=n+Math.imul(d,q)|0,i=(i=i+Math.imul(d,V)|0)+Math.imul(m,q)|0,o=o+Math.imul(m,V)|0;var yt=(c+(n=n+Math.imul(l,G)|0)|0)+((8191&(i=(i=i+Math.imul(l,Y)|0)+Math.imul(h,G)|0))<<13)|0;c=((o=o+Math.imul(h,Y)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,z),i=(i=Math.imul(w,H))+Math.imul(_,z)|0,o=Math.imul(_,H),n=n+Math.imul(v,q)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(d,G)|0,i=(i=i+Math.imul(d,Y)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Y)|0;var bt=(c+(n=n+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,X)|0)+Math.imul(h,Z)|0))<<13)|0;c=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,H))+Math.imul(x,z)|0,o=Math.imul(x,H),n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,V)|0,n=n+Math.imul(v,G)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,Y)|0,n=n+Math.imul(d,Z)|0,i=(i=i+Math.imul(d,X)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,X)|0;var wt=(c+(n=n+Math.imul(l,Q)|0)|0)+((8191&(i=(i=i+Math.imul(l,tt)|0)+Math.imul(h,Q)|0))<<13)|0;c=((o=o+Math.imul(h,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(C,z),i=(i=Math.imul(C,H))+Math.imul(A,z)|0,o=Math.imul(A,H),n=n+Math.imul(S,q)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(x,q)|0,o=o+Math.imul(x,V)|0,n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,X)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,X)|0,n=n+Math.imul(d,Q)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(l,rt)|0)|0)+((8191&(i=(i=i+Math.imul(l,nt)|0)+Math.imul(h,rt)|0))<<13)|0;c=((o=o+Math.imul(h,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,z),i=(i=Math.imul(I,H))+Math.imul(T,z)|0,o=Math.imul(T,H),n=n+Math.imul(C,q)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(A,q)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(S,G)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Y)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(d,rt)|0,i=(i=i+Math.imul(d,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var kt=(c+(n=n+Math.imul(l,ot)|0)|0)+((8191&(i=(i=i+Math.imul(l,st)|0)+Math.imul(h,ot)|0))<<13)|0;c=((o=o+Math.imul(h,st)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,z),i=(i=Math.imul(B,H))+Math.imul(P,z)|0,o=Math.imul(P,H),n=n+Math.imul(I,q)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(T,q)|0,o=o+Math.imul(T,V)|0,n=n+Math.imul(C,G)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,Y)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var St=(c+(n=n+Math.imul(l,ut)|0)|0)+((8191&(i=(i=i+Math.imul(l,ct)|0)+Math.imul(h,ut)|0))<<13)|0;c=((o=o+Math.imul(h,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,H))+Math.imul(F,z)|0,o=Math.imul(F,H),n=n+Math.imul(B,q)|0,i=(i=i+Math.imul(B,V)|0)+Math.imul(P,q)|0,o=o+Math.imul(P,V)|0,n=n+Math.imul(I,G)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,Y)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(d,ut)|0,i=(i=i+Math.imul(d,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var xt=(c+(n=n+Math.imul(l,lt)|0)|0)+((8191&(i=(i=i+Math.imul(l,ht)|0)+Math.imul(h,lt)|0))<<13)|0;c=((o=o+Math.imul(h,ht)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,H))+Math.imul(D,z)|0,o=Math.imul(D,H),n=n+Math.imul(R,q)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(F,q)|0,o=o+Math.imul(F,V)|0,n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,X)|0,n=n+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0,n=n+Math.imul(d,lt)|0,i=(i=i+Math.imul(d,ht)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,ht)|0;var Et=(c+(n=n+Math.imul(l,dt)|0)|0)+((8191&(i=(i=i+Math.imul(l,mt)|0)+Math.imul(h,dt)|0))<<13)|0;c=((o=o+Math.imul(h,mt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,V))+Math.imul(D,q)|0,o=Math.imul(D,V),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,Y)|0,n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ct)|0,n=n+Math.imul(v,lt)|0,i=(i=i+Math.imul(v,ht)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,ht)|0;var Ct=(c+(n=n+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,mt)|0)+Math.imul(m,dt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(L,G),i=(i=Math.imul(L,Y))+Math.imul(D,G)|0,o=Math.imul(D,Y),n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(F,Z)|0,o=o+Math.imul(F,X)|0,n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(T,rt)|0,o=o+Math.imul(T,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,n=n+Math.imul(w,lt)|0,i=(i=i+Math.imul(w,ht)|0)+Math.imul(_,lt)|0,o=o+Math.imul(_,ht)|0;var At=(c+(n=n+Math.imul(v,dt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,dt)|0))<<13)|0;c=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(L,Z),i=(i=Math.imul(L,X))+Math.imul(D,Z)|0,o=Math.imul(D,X),n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(F,Q)|0,o=o+Math.imul(F,tt)|0,n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,ct)|0,n=n+Math.imul(S,lt)|0,i=(i=i+Math.imul(S,ht)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,ht)|0;var Mt=(c+(n=n+Math.imul(w,dt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,dt)|0))<<13)|0;c=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(L,Q),i=(i=Math.imul(L,tt))+Math.imul(D,Q)|0,o=Math.imul(D,tt),n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(F,rt)|0,o=o+Math.imul(F,nt)|0,n=n+Math.imul(B,ot)|0,i=(i=i+Math.imul(B,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,n=n+Math.imul(C,lt)|0,i=(i=i+Math.imul(C,ht)|0)+Math.imul(A,lt)|0,o=o+Math.imul(A,ht)|0;var It=(c+(n=n+Math.imul(S,dt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(x,dt)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(L,rt),i=(i=Math.imul(L,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,n=n+Math.imul(B,ut)|0,i=(i=i+Math.imul(B,ct)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,ct)|0,n=n+Math.imul(I,lt)|0,i=(i=i+Math.imul(I,ht)|0)+Math.imul(T,lt)|0,o=o+Math.imul(T,ht)|0;var Tt=(c+(n=n+Math.imul(C,dt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(A,dt)|0))<<13)|0;c=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(L,ot),i=(i=Math.imul(L,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,ct)|0)+Math.imul(F,ut)|0,o=o+Math.imul(F,ct)|0,n=n+Math.imul(B,lt)|0,i=(i=i+Math.imul(B,ht)|0)+Math.imul(P,lt)|0,o=o+Math.imul(P,ht)|0;var Ot=(c+(n=n+Math.imul(I,dt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(T,dt)|0))<<13)|0;c=((o=o+Math.imul(T,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(L,ut),i=(i=Math.imul(L,ct))+Math.imul(D,ut)|0,o=Math.imul(D,ct),n=n+Math.imul(R,lt)|0,i=(i=i+Math.imul(R,ht)|0)+Math.imul(F,lt)|0,o=o+Math.imul(F,ht)|0;var Bt=(c+(n=n+Math.imul(B,dt)|0)|0)+((8191&(i=(i=i+Math.imul(B,mt)|0)+Math.imul(P,dt)|0))<<13)|0;c=((o=o+Math.imul(P,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(L,lt),i=(i=Math.imul(L,ht))+Math.imul(D,lt)|0,o=Math.imul(D,ht);var Pt=(c+(n=n+Math.imul(R,dt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(F,dt)|0))<<13)|0;c=((o=o+Math.imul(F,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Nt=(c+(n=Math.imul(L,dt))|0)+((8191&(i=(i=Math.imul(L,mt))+Math.imul(D,dt)|0))<<13)|0;return c=((o=Math.imul(D,mt))+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=kt,u[7]=St,u[8]=xt,u[9]=Et,u[10]=Ct,u[11]=At,u[12]=Mt,u[13]=It,u[14]=Tt,u[15]=Ot,u[16]=Bt,u[17]=Pt,u[18]=Nt,0!==c&&(u[19]=c,r.length++),r};function d(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(p=h),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):r<63?h(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,l=(0|t.words[f])*(0|e.words[c]),h=67108863&l;a=67108863&(h=h+a|0),i+=(s=(s=s+(l/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):d(this,t,e)},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},m.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var l=u,h=c,p=0;p<s;p++){var d=r[f+p],m=n[f+p],g=r[f+p+s],v=n[f+p+s],y=l*g-h*v;v=l*v+h*g,g=y,r[f+p]=d+g,n[f+p]=m+v,r[f+p+s]=d-g,n[f+p+s]=m-v,p!==a&&(y=u*l-c*h,h=u*h+c*l,l=y)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),l=new Array(n),h=r.words;h.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,l,n,i);for(var p=0;p<n;p++){var d=a[p]*f[p]-u[p]*l[p];u[p]=a[p]*l[p]+u[p]*f[p],a[p]=d}return this.conjugate(a,u,n),this.transform(a,u,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),d(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-o|l>>>o,f=l&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var h=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,l);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=h)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),l=e.clone();!e.isZero();){for(var h=0,p=1;0==(e.words[0]&p)&&h<26;++h,p<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(l)),i.iushrn(1),s.iushrn(1);for(var d=0,m=1;0==(r.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(l)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;0==(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var l=0,h=1;0==(r.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new k(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(y,v),y.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,v),i(w,v),i(_,v),_.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new _}return g[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,i),h=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),d=s;0!==p.cmp(a);){for(var m=p,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<d);var v=this.pow(l,new o(1).iushln(d-g-1));h=h.redMul(v),l=v.redSqr(),p=p.redMul(l),d=g}return h},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new o(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var l=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new S(t)},i(S,k),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)}).call(this,r(24)(t))},function(t,e,r){var n=r(367),i=r(667),o=r(671),s=r(1679),a=r(666),u=function(t){return t instanceof i||t&&t.constructor&&"BN"===t.constructor.name},c=function(t){return t&&t.constructor&&"BigNumber"===t.constructor.name},f=function(t){try{return o.apply(null,arguments)}catch(e){throw new Error(e+' Given value: "'+t+'"')}},l=function(t){return!!/^(0x)?[0-9a-f]{40}$/i.test(t)&&(!(!/^(0x|0X)?[0-9a-f]{40}$/.test(t)&&!/^(0x|0X)?[0-9A-F]{40}$/.test(t))||h(t))},h=function(t){t=t.replace(/^0x/i,"");for(var e=v(t.toLowerCase()).replace(/^0x/i,""),r=0;r<40;r++)if(parseInt(e[r],16)>7&&t[r].toUpperCase()!==t[r]||parseInt(e[r],16)<=7&&t[r].toLowerCase()!==t[r])return!1;return!0},p=function(t){var e="";t=(t=(t=(t=(t=s.encode(t)).replace(/^(?:\u0000)*/,"")).split("").reverse().join("")).replace(/^(?:\u0000)*/,"")).split("").reverse().join("");for(var r=0;r<t.length;r++){var n=t.charCodeAt(r).toString(16);e+=n.length<2?"0"+n:n}return"0x"+e},d=function(t){if(n.isNull(t)||n.isUndefined(t))return t;if(!isFinite(t)&&!g(t))throw new Error('Given input "'+t+'" is not a number.');var e=f(t),r=e.toString(16);return e.lt(new i(0))?"-0x"+r.substr(1):"0x"+r},m=function(t){if(t=t.toString(16),!g(t))throw new Error('Given value "'+t+'" is not a valid hex string.');t=t.replace(/^0x/i,"");for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},g=function(t){return(n.isString(t)||n.isNumber(t))&&/^(-)?0x[0-9a-f]*$/i.test(t)},v=function(t){g(t)&&/^0x/i.test(t.toString())&&(t=m(t));var e=a.keccak256(t);return"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"===e?null:e};v._Hash=a,t.exports={BN:i,isBN:u,isBigNumber:c,toBN:f,isAddress:l,isBloom:function(t){return!(!/^(0x)?[0-9a-f]{512}$/i.test(t)||!/^(0x)?[0-9a-f]{512}$/.test(t)&&!/^(0x)?[0-9A-F]{512}$/.test(t))},isTopic:function(t){return!(!/^(0x)?[0-9a-f]{64}$/i.test(t)||!/^(0x)?[0-9a-f]{64}$/.test(t)&&!/^(0x)?[0-9A-F]{64}$/.test(t))},checkAddressChecksum:h,utf8ToHex:p,hexToUtf8:function(t){if(!g(t))throw new Error('The parameter "'+t+'" must be a valid HEX string.');for(var e="",r=0,n=(t=(t=(t=(t=(t=t.replace(/^0x/i,"")).replace(/^(?:00)*/,"")).split("").reverse().join("")).replace(/^(?:00)*/,"")).split("").reverse().join("")).length,i=0;i<n;i+=2)r=parseInt(t.substr(i,2),16),e+=String.fromCharCode(r);return s.decode(e)},hexToNumber:function(t){return t?f(t).toNumber():t},hexToNumberString:function(t){return t?f(t).toString(10):t},numberToHex:d,toHex:function(t,e){if(l(t))return e?"address":"0x"+t.toLowerCase().replace(/^0x/i,"");if(n.isBoolean(t))return e?"bool":t?"0x01":"0x00";if(n.isObject(t)&&!c(t)&&!u(t))return e?"string":p(JSON.stringify(t));if(n.isString(t)){if(0===t.indexOf("-0x")||0===t.indexOf("-0X"))return e?"int256":d(t);if(0===t.indexOf("0x")||0===t.indexOf("0X"))return e?"bytes":t;if(!isFinite(t))return e?"string":p(t)}return e?t<0?"int256":"uint256":d(t)},hexToBytes:m,bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return"0x"+e.join("")},isHex:function(t){return(n.isString(t)||n.isNumber(t))&&/^(-0x|0x)?[0-9a-f]*$/i.test(t)},isHexStrict:g,leftPad:function(t,e,r){var n=/^0x/i.test(t)||"number"==typeof t,i=e-(t=t.toString(16).replace(/^0x/i,"")).length+1>=0?e-t.length+1:0;return(n?"0x":"")+new Array(i).join(r||"0")+t},rightPad:function(t,e,r){var n=/^0x/i.test(t)||"number"==typeof t,i=e-(t=t.toString(16).replace(/^0x/i,"")).length+1>=0?e-t.length+1:0;return(n?"0x":"")+t+new Array(i).join(r||"0")},toTwosComplement:function(t){return"0x"+f(t).toTwos(256).toString(16,64)},sha3:v}},function(t,e){t.exports=function(t){if("string"!=typeof t)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof t+", while checking isHexPrefixed.");return"0x"===t.slice(0,2)}},function(t,e,r){var n=r(669);t.exports=function(t){return"string"!=typeof t?t:n(t)?t.slice(2):t}},function(t,e,r){var n=r(1680),i=r(670);t.exports=function(t){if("string"==typeof t||"number"==typeof t){var e=new n(1),r=String(t).toLowerCase().trim(),o="0x"===r.substr(0,2)||"-0x"===r.substr(0,3),s=i(r);if("-"===s.substr(0,1)&&(s=i(s.slice(1)),e=new n(-1,10)),!(s=""===s?"0":s).match(/^-?[0-9]+$/)&&s.match(/^[0-9A-Fa-f]+$/)||s.match(/^[a-fA-F]+$/)||!0===o&&s.match(/^[0-9A-Fa-f]+$/))return new n(s,16).mul(e);if((s.match(/^-?[0-9]+$/)||""===s)&&!1===o)return new n(s,10).mul(e)}else if("object"==typeof t&&t.toString&&!t.pop&&!t.push&&t.toString(10).match(/^-?[0-9]+$/)&&(t.mul||t.dividedToIntegerBy))return new n(t.toString(10),10);throw new Error("[number-to-bn] while converting number "+JSON.stringify(t)+" to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.")}},function(t,e){e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,f=-7,l=r?i-1:0,h=r?-1:1,p=t[e+l];for(l+=h,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=256*o+t[e+l],l+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+t[e+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=c}return(p?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(e*u-1)*Math.pow(2,i),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+p]=255&s,p+=d,s/=256,c-=8);t[r+p-d]|=128*m}},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,r){"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=r(1701)},function(t,e,r){"use strict";e.__esModule=!0;var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i=f(r(9)),o=f(r(27)),s=r(369),a=r(69),u=f(r(368)),c=r(376);function f(t){return t&&t.__esModule?t:{default:t}}var l={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+(0,a.stripLeadingSlash)(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:a.stripLeadingSlash,decodePath:a.addLeadingSlash},slash:{encodePath:a.addLeadingSlash,decodePath:a.addLeadingSlash}},h=function(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)},p=function(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)};e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(c.canUseDOM,"Hash history needs a DOM");var e=window.history,r=(0,c.supportsGoWithoutReloadUsingHash)(),f=t.getUserConfirmation,d=void 0===f?c.getConfirmation:f,m=t.hashType,g=void 0===m?"slash":m,v=t.basename?(0,a.stripTrailingSlash)((0,a.addLeadingSlash)(t.basename)):"",y=l[g],b=y.encodePath,w=y.decodePath,_=function(){var t=w(h());return(0,i.default)(!v||(0,a.hasBasename)(t,v),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+v+'".'),v&&(t=(0,a.stripBasename)(t,v)),(0,s.createLocation)(t)},k=(0,u.default)(),S=function(t){n(j,t),j.length=e.length,k.notifyListeners(j.location,j.action)},x=!1,E=null,C=function(){var t=h(),e=b(t);if(t!==e)p(e);else{var r=_(),n=j.location;if(!x&&(0,s.locationsAreEqual)(n,r))return;if(E===(0,a.createPath)(r))return;E=null,A(r)}},A=function(t){x?(x=!1,S()):k.confirmTransitionTo(t,"POP",d,function(e){e?S({action:"POP",location:t}):M(t)})},M=function(t){var e=j.location,r=B.lastIndexOf((0,a.createPath)(e));-1===r&&(r=0);var n=B.lastIndexOf((0,a.createPath)(t));-1===n&&(n=0);var i=r-n;i&&(x=!0,P(i))},I=h(),T=b(I);I!==T&&p(T);var O=_(),B=[(0,a.createPath)(O)],P=function(t){(0,i.default)(r,"Hash history go(n) causes a full page reload in this browser"),e.go(t)},N=0,R=function(t){1===(N+=t)?(0,c.addEventListener)(window,"hashchange",C):0===N&&(0,c.removeEventListener)(window,"hashchange",C)},F=!1,j={length:e.length,action:"POP",location:O,createHref:function(t){return"#"+b(v+(0,a.createPath)(t))},push:function(t,e){(0,i.default)(void 0===e,"Hash history cannot push state; it is ignored");var r=(0,s.createLocation)(t,void 0,void 0,j.location);k.confirmTransitionTo(r,"PUSH",d,function(t){if(t){var e=(0,a.createPath)(r),n=b(v+e);if(h()!==n){E=e,function(t){window.location.hash=t}(n);var o=B.lastIndexOf((0,a.createPath)(j.location)),s=B.slice(0,-1===o?0:o+1);s.push(e),B=s,S({action:"PUSH",location:r})}else(0,i.default)(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),S()}})},replace:function(t,e){(0,i.default)(void 0===e,"Hash history cannot replace state; it is ignored");var r=(0,s.createLocation)(t,void 0,void 0,j.location);k.confirmTransitionTo(r,"REPLACE",d,function(t){if(t){var e=(0,a.createPath)(r),n=b(v+e);h()!==n&&(E=e,p(n));var i=B.indexOf((0,a.createPath)(j.location));-1!==i&&(B[i]=e),S({action:"REPLACE",location:r})}})},go:P,goBack:function(){return P(-1)},goForward:function(){return P(1)},block:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=k.setPrompt(t);return F||(R(1),F=!0),function(){return F&&(F=!1,R(-1)),e()}},listen:function(t){var e=k.appendListener(t);return R(1),function(){R(-1),e()}}};return j}},function(t,e,r){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=l(r(9)),s=l(r(27)),a=r(369),u=r(69),c=l(r(368)),f=r(376);function l(t){return t&&t.__esModule?t:{default:t}}var h=function(){try{return window.history.state||{}}catch(t){return{}}};e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(f.canUseDOM,"Browser history needs a DOM");var e=window.history,r=(0,f.supportsHistory)(),l=!(0,f.supportsPopStateOnHashChange)(),p=t.forceRefresh,d=void 0!==p&&p,m=t.getUserConfirmation,g=void 0===m?f.getConfirmation:m,v=t.keyLength,y=void 0===v?6:v,b=t.basename?(0,u.stripTrailingSlash)((0,u.addLeadingSlash)(t.basename)):"",w=function(t){var e=t||{},r=e.key,n=e.state,i=window.location,s=i.pathname+i.search+i.hash;return(0,o.default)(!b||(0,u.hasBasename)(s,b),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+s+'" to begin with "'+b+'".'),b&&(s=(0,u.stripBasename)(s,b)),(0,a.createLocation)(s,n,r)},_=function(){return Math.random().toString(36).substr(2,y)},k=(0,c.default)(),S=function(t){i(F,t),F.length=e.length,k.notifyListeners(F.location,F.action)},x=function(t){(0,f.isExtraneousPopstateEvent)(t)||A(w(t.state))},E=function(){A(w(h()))},C=!1,A=function(t){C?(C=!1,S()):k.confirmTransitionTo(t,"POP",g,function(e){e?S({action:"POP",location:t}):M(t)})},M=function(t){var e=F.location,r=T.indexOf(e.key);-1===r&&(r=0);var n=T.indexOf(t.key);-1===n&&(n=0);var i=r-n;i&&(C=!0,B(i))},I=w(h()),T=[I.key],O=function(t){return b+(0,u.createPath)(t)},B=function(t){e.go(t)},P=0,N=function(t){1===(P+=t)?((0,f.addEventListener)(window,"popstate",x),l&&(0,f.addEventListener)(window,"hashchange",E)):0===P&&((0,f.removeEventListener)(window,"popstate",x),l&&(0,f.removeEventListener)(window,"hashchange",E))},R=!1,F={length:e.length,action:"POP",location:I,createHref:O,push:function(t,i){(0,o.default)(!("object"===(void 0===t?"undefined":n(t))&&void 0!==t.state&&void 0!==i),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var s=(0,a.createLocation)(t,i,_(),F.location);k.confirmTransitionTo(s,"PUSH",g,function(t){if(t){var n=O(s),i=s.key,a=s.state;if(r)if(e.pushState({key:i,state:a},null,n),d)window.location.href=n;else{var u=T.indexOf(F.location.key),c=T.slice(0,-1===u?0:u+1);c.push(s.key),T=c,S({action:"PUSH",location:s})}else(0,o.default)(void 0===a,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=n}})},replace:function(t,i){(0,o.default)(!("object"===(void 0===t?"undefined":n(t))&&void 0!==t.state&&void 0!==i),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var s=(0,a.createLocation)(t,i,_(),F.location);k.confirmTransitionTo(s,"REPLACE",g,function(t){if(t){var n=O(s),i=s.key,a=s.state;if(r)if(e.replaceState({key:i,state:a},null,n),d)window.location.replace(n);else{var u=T.indexOf(F.location.key);-1!==u&&(T[u]=s.key),S({action:"REPLACE",location:s})}else(0,o.default)(void 0===a,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(n)}})},go:B,goBack:function(){return B(-1)},goForward:function(){return B(1)},block:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=k.setPrompt(t);return R||(N(1),R=!0),function(){return R&&(R=!1,N(-1)),e()}},listen:function(t){var e=k.appendListener(t);return N(1),function(){N(-1),e()}}};return F}},function(t,e,r){t.exports=function(){"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r=Object.defineProperty,n=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,o=Object.getOwnPropertyDescriptor,s=Object.getPrototypeOf,a=s&&s(Object);return function u(c,f,l){if("string"!=typeof f){if(a){var h=s(f);h&&h!==a&&u(c,h,l)}var p=n(f);i&&(p=p.concat(i(f)));for(var d=0;d<p.length;++d){var m=p[d];if(!(t[m]||e[m]||l&&l[m])){var g=o(f,m);try{r(c,m,g)}catch(t){}}}return c}return c}}()},function(t,e,r){var n=r(673);t.exports=p,t.exports.parse=o,t.exports.compile=function(t,e){return a(o(t,e))},t.exports.tokensToFunction=a,t.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var r,n=[],o=0,s=0,a="",f=e&&e.delimiter||"/";null!=(r=i.exec(t));){var l=r[0],h=r[1],p=r.index;if(a+=t.slice(s,p),s=p+l.length,h)a+=h[1];else{var d=t[s],m=r[2],g=r[3],v=r[4],y=r[5],b=r[6],w=r[7];a&&(n.push(a),a="");var _=null!=m&&null!=d&&d!==m,k="+"===b||"*"===b,S="?"===b||"*"===b,x=r[2]||f,E=v||y;n.push({name:g||o++,prefix:m||"",delimiter:x,optional:S,repeat:k,partial:_,asterisk:!!w,pattern:E?c(E):w?".*":"[^"+u(x)+"]+?"})}}return s<t.length&&(a+=t.substr(s)),a&&n.push(a),n}function s(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function a(t){for(var e=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(e[r]=new RegExp("^(?:"+t[r].pattern+")$"));return function(r,i){for(var o="",a=r||{},u=(i||{}).pretty?s:encodeURIComponent,c=0;c<t.length;c++){var f=t[c];if("string"!=typeof f){var l,h=a[f.name];if(null==h){if(f.optional){f.partial&&(o+=f.prefix);continue}throw new TypeError('Expected "'+f.name+'" to be defined')}if(n(h)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(l=u(h[p]),!e[c].test(l))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(l)+"`");o+=(0===p?f.prefix:f.delimiter)+l}}else{if(l=f.asterisk?encodeURI(h).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):u(h),!e[c].test(l))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+l+'"');o+=f.prefix+l}}else o+=f}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function f(t,e){return t.keys=e,t}function l(t){return t.sensitive?"":"i"}function h(t,e,r){n(e)||(r=e||r,e=[]);for(var i=(r=r||{}).strict,o=!1!==r.end,s="",a=0;a<t.length;a++){var c=t[a];if("string"==typeof c)s+=u(c);else{var h=u(c.prefix),p="(?:"+c.pattern+")";e.push(c),c.repeat&&(p+="(?:"+h+p+")*"),s+=p=c.optional?c.partial?h+"("+p+")?":"(?:"+h+"("+p+"))?":h+"("+p+")"}}var d=u(r.delimiter||"/"),m=s.slice(-d.length)===d;return i||(s=(m?s.slice(0,-d.length):s)+"(?:"+d+"(?=$))?"),s+=o?"$":i&&m?"":"(?="+d+"|$)",f(new RegExp("^"+s,l(r)),e)}function p(t,e,r){return n(e)||(r=e||r,e=[]),r=r||{},t instanceof RegExp?function(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return f(t,e)}(t,e):n(t)?function(t,e,r){for(var n=[],i=0;i<t.length;i++)n.push(p(t[i],e,r).source);return f(new RegExp("(?:"+n.join("|")+")",l(r)),e)}(t,e,r):function(t,e,r){return h(o(t,r),e,r)}(t,e,r)}},function(t,e,r){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=c(r(9)),s=r(69),a=r(369),u=c(r(368));function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t,e,r){return Math.min(Math.max(t,e),r)};e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.getUserConfirmation,r=t.initialEntries,c=void 0===r?["/"]:r,l=t.initialIndex,h=void 0===l?0:l,p=t.keyLength,d=void 0===p?6:p,m=(0,u.default)(),g=function(t){i(k,t),k.length=k.entries.length,m.notifyListeners(k.location,k.action)},v=function(){return Math.random().toString(36).substr(2,d)},y=f(h,0,c.length-1),b=c.map(function(t){return"string"==typeof t?(0,a.createLocation)(t,void 0,v()):(0,a.createLocation)(t,void 0,t.key||v())}),w=s.createPath,_=function(t){var r=f(k.index+t,0,k.entries.length-1),n=k.entries[r];m.confirmTransitionTo(n,"POP",e,function(t){t?g({action:"POP",location:n,index:r}):g()})},k={length:b.length,action:"POP",location:b[y],index:y,entries:b,createHref:w,push:function(t,r){(0,o.default)(!("object"===(void 0===t?"undefined":n(t))&&void 0!==t.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var i=(0,a.createLocation)(t,r,v(),k.location);m.confirmTransitionTo(i,"PUSH",e,function(t){if(t){var e=k.index+1,r=k.entries.slice(0);r.length>e?r.splice(e,r.length-e,i):r.push(i),g({action:"PUSH",location:i,index:e,entries:r})}})},replace:function(t,r){(0,o.default)(!("object"===(void 0===t?"undefined":n(t))&&void 0!==t.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i=(0,a.createLocation)(t,r,v(),k.location);m.confirmTransitionTo(i,"REPLACE",e,function(t){t&&(k.entries[k.index]=i,g({action:"REPLACE",location:i}))})},go:_,goBack:function(){return _(-1)},goForward:function(){return _(1)},canGo:function(t){var e=k.index+t;return e>=0&&e<k.entries.length},block:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m.setPrompt(t)},listen:function(t){return m.appendListener(t)}};return k}},function(t,e,r){"use strict";var n,i=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(s,a)}u((n=n.apply(t,e||[])).next())})},s=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(5),u=r(378),c=r(617),f=r(70),l=function(t){function e(e){var r=t.call(this,e)||this;return r.state={msg:"Loading "+r.props.transactionHash+"...",feedInfo:null},r}return i(e,t),e.prototype.componentDidMount=function(){this.analyzeTransaction(this.props.transactionHash,this.props.networkId,this.props.ribbit)},e.prototype.componentWillReceiveProps=function(t){t.transactionHash===this.props.transactionHash&&t.networkId===this.props.networkId||this.analyzeTransaction(t.transactionHash,t.networkId,t.ribbit)},e.prototype.analyzeTransaction=function(t,e,r){return o(this,void 0,void 0,function(){var e,n,i,o,a,u;return s(this,function(s){switch(s.label){case 0:return s.trys.push([0,7,,8]),[4,r.web3.eth.getTransaction(t)];case 1:return e=s.sent(),(n=c.decodeMethod(e.input))&&0!==Object.keys(n).length?[3,2]:(this.setState({msg:"Invalid transaction "+t}),[3,6]);case 2:i=Object.assign(e,{decodedInputData:n}),s.label=3;case 3:return s.trys.push([3,5,,6]),[4,f.generateFeedInfoFromTransactionInfo(r,i)];case 4:return(o=s.sent())&&this.setState({feedInfo:o}),[3,6];case 5:return a=s.sent(),console.log(a),this.setState({msg:"Invalid transaction "+t}),[3,6];case 6:return[3,8];case 7:return u=s.sent(),console.log(u),this.setState({msg:"Invalid transaction "+t}),[3,8];case 8:return[2]}})})},e.prototype.render=function(){return this.state.feedInfo?a.createElement("div",{className:"tx-page"},a.createElement(u.default,{ribbit:this.props.ribbit,feedInfo:this.state.feedInfo})):a.createElement("div",{className:"tx-page"},a.createElement("p",{id:"feed-footer"},this.state.msg))},e}(a.Component);e.default=l},function(t,e,r){"use strict";var n,i=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(s,a)}u((n=n.apply(t,e||[])).next())})},s=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var a,u=r(5),c=r(70),f=r(111);!function(t){t[t.ByTrend=0]="ByTrend",t[t.ByTime=1]="ByTime"}(a||(a={}));var l=function(t){function e(e){var r=t.call(this,e)||this;return r.selectSorting=function(t){return function(e){r.setState({sorting:t,feeds:[]},function(){r.showTopicFeeds(r.props.topic)})}},r.followTopic=function(){r.props.ribbit.followTopic(r.props.topic).then(function(){r.setState({following:!0})}).catch(function(t){alert(t)})},r.unfollowTopic=function(){r.props.ribbit.unfollowTopic(r.props.topic).then(function(){r.setState({following:!1})}).catch(function(t){alert(t)})},r.state={feeds:[],loading:!1,sorting:a.ByTrend,cover:null,following:!0,mouseOver:!1},r}return i(e,t),e.prototype.componentDidMount=function(){this.initializeTopic(this.props.topic)},e.prototype.componentWillReceiveProps=function(t){t.topic!==this.props.topic&&this.initializeTopic(t.topic)},e.prototype.initializeTopic=function(t){return o(this,void 0,void 0,function(){var e,r;return s(this,function(n){return e=this.props.ribbit.settings.followingTopics,r=!!e.filter(function(e){return e.topic===t}).length,this.setState({following:r}),this.showTopicFeeds(t),[2]})})},e.prototype.showTopicFeeds=function(t){return o(this,void 0,void 0,function(){var e,r=this;return s(this,function(n){return e=this.state.sorting,this.setState({loading:!0},function(){(e===a.ByTrend?r.props.ribbit.getFeedsFromTagByTrend:r.props.ribbit.getFeedsFromTagByTime).bind(r.props.ribbit)(t,{num:-1},function(t,n,i){return o(r,void 0,void 0,function(){var r,o;return s(this,function(s){switch(s.label){case 0:if(console.log(t,n,i),t)return[2,this.setState({loading:!1})];if(this.state.sorting!==e)return[2];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,c.generateFeedInfoFromTransactionInfo(this.props.ribbit,i)];case 2:return r=s.sent(),this.state.feeds.push(r),0===n&&e===a.ByTrend?this.setState({cover:r.userInfo.cover}):this.forceUpdate(),[3,4];case 3:return o=s.sent(),console.log(o),[3,4];case 4:return[2]}})})})}),[2]})})},e.prototype.render=function(){var t=this;return this.props.ribbit.web3.utils.isAddress(this.props.topic)?u.createElement("div",{className:"topic-page"},u.createElement("p",{id:"feed-footer"},"Invalid topic ",this.props.topic)):u.createElement("div",{className:"topic-page"},u.createElement("div",{className:"container"},u.createElement("div",{className:"topic-card card"},u.createElement("div",{className:"cover",style:{backgroundImage:this.state.cover?'url("'+this.state.cover+'")':null}}),u.createElement("p",{className:"title"},"#",this.props.topic),this.state.following?this.state.mouseOver?u.createElement("div",{className:"follow-btn",onMouseEnter:function(){return t.setState({mouseOver:!0})},onMouseLeave:function(){return t.setState({mouseOver:!1})},onClick:this.unfollowTopic},"Unfollow"):u.createElement("div",{className:"follow-btn",onMouseEnter:function(){return t.setState({mouseOver:!0})},onMouseLeave:function(){return t.setState({mouseOver:!1})}},"Following"):u.createElement("div",{className:"follow-btn",onClick:this.followTopic},"Follow"),u.createElement("div",{className:"btn-group"},u.createElement("div",{className:"btn"+(this.state.sorting===a.ByTrend?" selected":""),onClick:this.selectSorting(a.ByTrend)},u.createElement("i",{className:"fas fa-fire"}),"By trend"),u.createElement("div",{className:"btn"+(this.state.sorting===a.ByTime?" selected":""),onClick:this.selectSorting(a.ByTime)},u.createElement("i",{className:"fas fa-clock"}),"By time"))),u.createElement("div",{className:"cards"},this.state.feeds.map(function(e,r){return u.createElement(f.default,{key:r,feedInfo:e,ribbit:t.props.ribbit})}),u.createElement("p",{id:"feed-footer"}," ",this.state.loading?"Loading...":"No more feeds ;)"," "))))},e}(u.Component);e.default=l},function(t,e,r){"use strict";var n,i=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(s,a)}u((n=n.apply(t,e||[])).next())})},s=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(5),u=r(70),c=r(111),f=r(244),l=function(t){function e(e){var r=t.call(this,e)||this;return r.state={userInfo:null,feeds:[],loading:!1},r}return i(e,t),e.prototype.componentDidMount=function(){this.initializeUser(this.props.username)},e.prototype.componentWillReceiveProps=function(t){t.username!==this.props.username&&this.initializeUser(t.username)},e.prototype.initializeUser=function(t){return o(this,void 0,void 0,function(){var e,r=this;return s(this,function(n){switch(n.label){case 0:return[4,this.props.ribbit.getUserInfoFromUsername(t)];case 1:return e=n.sent(),this.setState({userInfo:e,feeds:[]},function(){r.showUserFeeds(e.address)}),[2]}})})},e.prototype.showUserFeeds=function(t){return o(this,void 0,void 0,function(){var e=this;return s(this,function(r){return this.setState({loading:!0},function(){e.props.ribbit.getFeedsFromUser(t,{num:-1},function(t,r,n){return o(e,void 0,void 0,function(){var e,i;return s(this,function(o){switch(o.label){case 0:return t||!n?[2,this.setState({loading:!1})]:[4,u.generateFeedInfoFromTransactionInfo(this.props.ribbit,n)];case 1:return e=o.sent(),i=this.state.feeds,console.log("render feed: ",r,e),i.push(e),this.forceUpdate(),[2]}})})})}),[2]})})},e.prototype.render=function(){var t=this;return this.state.userInfo?a.createElement("div",{className:"profile-page"},a.createElement("div",{className:"container"},a.createElement(f.default,{userInfo:this.state.userInfo,ribbit:this.props.ribbit}),a.createElement("div",{className:"cards"},this.state.feeds.map(function(e,r){return a.createElement(c.default,{key:r,feedInfo:e,ribbit:t.props.ribbit})}),a.createElement("p",{id:"feed-footer"}," ",this.state.loading?"Loading...":"No more feeds ;)"," ")))):a.createElement("div",{className:"profile-page"})},e}(a.Component);e.default=l},function(t,e,r){"use strict";var n,i=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(s,a)}u((n=n.apply(t,e||[])).next())})},s=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(5),u=r(227),c=r(374),f=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.componentDidMount=function(){this.checkUsernameExists()},e.prototype.checkUsernameExists=function(){return o(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,this.props.ribbit.getUsernameFromAddress(this.props.ribbit.accountAddress)];case 1:return t.sent().length&&u.default.replace("/"+this.props.networkId+"/"),[2]}})})},e.prototype.render=function(){return a.createElement("div",{className:"signup-page"},a.createElement("h1",null,"Welcome to Ribbit!"),a.createElement("p",{className:"subtitle"},"Please finish your account registration below"),a.createElement(c.default,{ribbit:this.props.ribbit,reset:!0}))},e}(a.Component);e.default=f},function(t,e,r){"use strict";var n,i=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(s,a)}u((n=n.apply(t,e||[])).next())})},s=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(5),u=r(243),c=function(t){function e(e){var r=t.call(this,e)||this;return r.state={userInfo:null},r}return i(e,t),e.prototype.componentDidMount=function(){this.initializeFollowing(this.props.username)},e.prototype.componentWillUpdate=function(t){t.username!==this.props.username&&this.initializeFollowing(t.username)},e.prototype.initializeFollowing=function(t){return o(this,void 0,void 0,function(){var e;return s(this,function(r){switch(r.label){case 0:return[4,this.props.ribbit.getUserInfoFromUsername(t)];case 1:return e=r.sent(),this.setState({userInfo:e}),[2]}})})},e.prototype.render=function(){var t=this.state.userInfo;return t?a.createElement(u.Link,{to:"/"+this.props.networkId+"/profile/"+this.props.username,target:"_blank"},a.createElement("div",{className:"following"},a.createElement("div",{className:"avatar",style:{backgroundImage:'url("'+t.avatar+'")'}}),a.createElement("div",{className:"name-group"},a.createElement("p",{className:"name"},t.name),a.createElement("p",{className:"username"},t.username)))):a.createElement(u.Link,{to:"/"+this.props.networkId+"/profile/"+this.props.username,target:"_blank"},a.createElement("div",{className:"following"},a.createElement("p",{className:"msg"},"loading ",this.props.username)))},e}(a.Component),f=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.render=function(){var t=this.props.ribbit;return a.createElement("div",{className:"followings-card card"},a.createElement("p",{className:"title"},"my followings"),a.createElement("div",{className:"followings-list"},t.settings.followingUsernames.map(function(e,r){return a.createElement(c,{username:e.username,ribbit:t,networkId:t.networkId,key:r})})))},e}(a.Component);e.default=f},function(t,e,r){"use strict";var n,i=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),s=r(243),a=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.render=function(){return o.createElement(s.Link,{to:"/"+this.props.networkId+"/topic/"+this.props.name,target:"_blank"},o.createElement("div",{className:"topic"},o.createElement("i",{className:"fas fa-hashtag"}),o.createElement("span",{className:"name"},this.props.name)))},e}(o.Component),u=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.render=function(){var t=this.props.ribbit;return o.createElement("div",{className:"topics-card card"},o.createElement("p",{className:"title"},"my favorite topics"),o.createElement("div",{className:"topics-list"},t.settings.followingTopics.map(function(e,r){return o.createElement(a,{name:e.topic,networkId:t.networkId,key:r})})))},e}(o.Component);e.default=u},function(t,e,r){"use strict";var n,i=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),s=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.render=function(){return this.props.images.length?1===this.props.images.length?o.createElement("div",{className:"images-panel single-image"},o.createElement("img",{src:this.props.images[0]})):this.props.images.length<=4?o.createElement("div",{className:"images-panel le-four-images"},this.props.images.map(function(t,e){return o.createElement("div",{className:"image-wrapper",key:e},o.createElement("div",{className:"image",style:{backgroundImage:'url("'+t+'")'}}))})):o.createElement("div",{className:"images-panel gt-four-images"},this.props.images.map(function(t,e){return e>8?null:o.createElement("div",{className:"image-wrapper",key:e},o.createElement("div",{className:"image",style:{backgroundImage:'url("'+t+'")'}}))})):o.createElement("div",null)},e}(r(5).Component);e.default=s},function(t,e,r){"use strict";var n,i=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(5),s=function(t){function e(e){var r=t.call(this,e)||this;return r.clickDonatePanel=function(t){t.preventDefault(),t.stopPropagation(),r.props.close()},r.changeEther=function(t){r.setState({etherInput:t.target.value},function(){var t=r.state.exchangeRate;if(t){var e=parseFloat(r.state.etherInput),n=e*t;isNaN(n)||r.setState({currency:n,ether:e})}})},r.upvote=function(){var t=1e18*r.state.ether,e=t?r.props.feedInfo.userInfo.address:"0x0000000000000000000000000000000000000000";r.props.ribbit.upvote(r.props.feedInfo.transactionInfo.hash,e,t).then(function(t){}).catch(function(t){alert(t)}),r.props.close()},r.state={exchangeRate:0,etherInput:"",currency:0,ether:0},r}return i(e,t),e.prototype.componentDidMount=function(){var t=this;fetch("https://api.coinmarketcap.com/v1/ticker/ethereum/").then(function(t){return t.json()}).then(function(e){var r=e[0],n=parseFloat(r.price_usd);n>0&&t.setState({exchangeRate:n})})},e.prototype.render=function(){var t=this.props.feedInfo.userInfo;return o.createElement("div",{className:"donate-panel",onClick:this.clickDonatePanel},o.createElement("div",{className:"donate-card card",onClick:function(t){t.stopPropagation()}},o.createElement("i",{className:"fas fa-times",onClick:this.clickDonatePanel}),o.createElement("div",{className:"avatar",style:{backgroundImage:'url("'+t.avatar+'")'}}),o.createElement("p",{className:"name"},t.name),o.createElement("div",{className:"donate-wrapper"},o.createElement("input",{className:"donate-input",type:"text",placeholder:"donate 0.0000 ether",value:this.state.etherInput,onChange:this.changeEther}),this.state.exchangeRate&&this.state.currency?o.createElement("p",{className:"currency"},this.state.currency," USD"):null),o.createElement("div",{className:"upvote-btn",onClick:this.upvote},o.createElement("i",{className:"fas fa-caret-up"}),o.createElement("span",null,"Upvote"))))},e}(o.Component);e.default=s},function(t,e,r){"use strict";var n,i=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(s,a)}u((n=n.apply(t,e||[])).next())})},s=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(5),u=r(5),c=r(378),f=r(111),l=r(70),h=r(353),p=r(135),d=r(70),m=function(t){function e(e){var r=t.call(this,e)||this;return r.renderContent=function(){return o(r,void 0,void 0,function(){var t,e,r,n,i;return s(this,function(o){switch(o.label){case 0:return t=p.renderMarkdown(this.props.markdown),[4,l.generateSummaryFromHTML(t,this.props.ribbit)];case 1:return e=o.sent(),[4,this.props.ribbit.getUserInfoFromAddress(this.props.ribbit.accountAddress)];case 2:return r=o.sent(),n=h.generateFakeTransactionInfo(),i=d.generateFakeStateInfo(),this.setState({feedInfo:{summary:e,userInfo:r,transactionInfo:n,stateInfo:i,feedType:"post"}}),[2]}})})},r.state={feedInfo:null},r}return i(e,t),e.prototype.componentDidMount=function(){this.renderContent()},e.prototype.render=function(){return this.state.feedInfo?a.createElement("div",{className:"preview"},a.createElement(f.default,{feedInfo:this.state.feedInfo,ribbit:this.props.ribbit}),this.state.feedInfo.summary.title?a.createElement(c.default,{feedInfo:this.state.feedInfo,ribbit:this.props.ribbit}):null):null},e}(u.Component);e.default=m},function(t,e,r){!function(t){"use strict";t.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var e=0;e<t.modeInfo.length;e++){var r=t.modeInfo[e];r.mimes&&(r.mime=r.mimes[0])}t.findModeByMIME=function(e){e=e.toLowerCase();for(var r=0;r<t.modeInfo.length;r++){var n=t.modeInfo[r];if(n.mime==e)return n;if(n.mimes)for(var i=0;i<n.mimes.length;i++)if(n.mimes[i]==e)return n}return/\+xml$/.test(e)?t.findModeByMIME("application/xml"):/\+json$/.test(e)?t.findModeByMIME("application/json"):void 0},t.findModeByExtension=function(e){for(var r=0;r<t.modeInfo.length;r++){var n=t.modeInfo[r];if(n.ext)for(var i=0;i<n.ext.length;i++)if(n.ext[i]==e)return n}},t.findModeByFileName=function(e){for(var r=0;r<t.modeInfo.length;r++){var n=t.modeInfo[r];if(n.file&&n.file.test(e))return n}var i=e.lastIndexOf("."),o=i>-1&&e.substring(i+1,e.length);if(o)return t.findModeByExtension(o)},t.findModeByName=function(e){e=e.toLowerCase();for(var r=0;r<t.modeInfo.length;r++){var n=t.modeInfo[r];if(n.name.toLowerCase()==e)return n;if(n.alias)for(var i=0;i<n.alias.length;i++)if(n.alias[i].toLowerCase()==e)return n}}}(r(167))},function(t,e,r){!function(t){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},r={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",function(n,i){var o,s,a=n.indentUnit,u={},c=i.htmlMode?e:r;for(var f in c)u[f]=c[f];for(var f in i)u[f]=i[f];function l(t,e){function r(r){return e.tokenize=r,r(t,e)}var n=t.next();return"<"==n?t.eat("!")?t.eat("[")?t.match("CDATA[")?r(p("atom","]]>")):null:t.match("--")?r(p("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),r(function t(e){return function(r,n){for(var i;null!=(i=r.next());){if("<"==i)return n.tokenize=t(e+1),n.tokenize(r,n);if(">"==i){if(1==e){n.tokenize=l;break}return n.tokenize=t(e-1),n.tokenize(r,n)}}return"meta"}}(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),e.tokenize=p("meta","?>"),"meta"):(o=t.eat("/")?"closeTag":"openTag",e.tokenize=h,"tag bracket"):"&"==n?(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error":(t.eatWhile(/[^&<]/),null)}function h(t,e){var r,n,i=t.next();if(">"==i||"/"==i&&t.eat(">"))return e.tokenize=l,o=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return o="equals",null;if("<"==i){e.tokenize=l,e.state=g,e.tagName=e.tagStart=null;var s=e.tokenize(t,e);return s?s+" tag error":"tag error"}return/[\'\"]/.test(i)?(e.tokenize=(r=i,(n=function(t,e){for(;!t.eol();)if(t.next()==r){e.tokenize=h;break}return"string"}).isInAttribute=!0,n),e.stringStartCol=t.column(),e.tokenize(t,e)):(t.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function p(t,e){return function(r,n){for(;!r.eol();){if(r.match(e)){n.tokenize=l;break}r.next()}return t}}function d(t){t.context&&(t.context=t.context.prev)}function m(t,e){for(var r;;){if(!t.context)return;if(r=t.context.tagName,!u.contextGrabbers.hasOwnProperty(r)||!u.contextGrabbers[r].hasOwnProperty(e))return;d(t)}}function g(t,e,r){return"openTag"==t?(r.tagStart=e.column(),v):"closeTag"==t?y:g}function v(t,e,r){return"word"==t?(r.tagName=e.current(),s="tag",_):u.allowMissingTagName&&"endTag"==t?(s="tag bracket",_(t,0,r)):(s="error",v)}function y(t,e,r){if("word"==t){var n=e.current();return r.context&&r.context.tagName!=n&&u.implicitlyClosed.hasOwnProperty(r.context.tagName)&&d(r),r.context&&r.context.tagName==n||!1===u.matchClosing?(s="tag",b):(s="tag error",w)}return u.allowMissingTagName&&"endTag"==t?(s="tag bracket",b(t,0,r)):(s="error",w)}function b(t,e,r){return"endTag"!=t?(s="error",b):(d(r),g)}function w(t,e,r){return s="error",b(t,0,r)}function _(t,e,r){if("word"==t)return s="attribute",k;if("endTag"==t||"selfcloseTag"==t){var n=r.tagName,i=r.tagStart;return r.tagName=r.tagStart=null,"selfcloseTag"==t||u.autoSelfClosers.hasOwnProperty(n)?m(r,n):(m(r,n),r.context=new function(t,e,r){this.prev=t.context,this.tagName=e,this.indent=t.indented,this.startOfLine=r,(u.doNotIndent.hasOwnProperty(e)||t.context&&t.context.noIndent)&&(this.noIndent=!0)}(r,n,i==r.indented)),g}return s="error",_}function k(t,e,r){return"equals"==t?S:(u.allowMissing||(s="error"),_(t,0,r))}function S(t,e,r){return"string"==t?x:"word"==t&&u.allowUnquoted?(s="string",_):(s="error",_(t,0,r))}function x(t,e,r){return"string"==t?x:_(t,0,r)}return l.isInText=!0,{startState:function(t){var e={tokenize:l,state:g,indented:t||0,tagName:null,tagStart:null,context:null};return null!=t&&(e.baseIndent=t),e},token:function(t,e){if(!e.tagName&&t.sol()&&(e.indented=t.indentation()),t.eatSpace())return null;o=null;var r=e.tokenize(t,e);return(r||o)&&"comment"!=r&&(s=null,e.state=e.state(o||r,t,e),s&&(r="error"==s?r+" error":s)),r},indent:function(e,r,n){var i=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+a;if(i&&i.noIndent)return t.Pass;if(e.tokenize!=h&&e.tokenize!=l)return n?n.match(/^(\s*)/)[0].length:0;if(e.tagName)return!1!==u.multilineTagIndentPastTag?e.tagStart+e.tagName.length+2:e.tagStart+a*(u.multilineTagIndentFactor||1);if(u.alignCDATA&&/<!\[CDATA\[/.test(r))return 0;var o=r&&/^<(\/)?([\w_:\.-]*)/.exec(r);if(o&&o[1])for(;i;){if(i.tagName==o[2]){i=i.prev;break}if(!u.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(o)for(;i;){var s=u.contextGrabbers[i.tagName];if(!s||!s.hasOwnProperty(o[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+a:e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:u.htmlMode?"html":"xml",helperType:u.htmlMode?"html":"xml",skipAttribute:function(t){t.state==S&&(t.state=_)}}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})}(r(167))},function(t,e,r){(t.exports=r(384)(!1)).push([t.i,"/* BASICS */\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n  color: black;\n  direction: ltr;\n}\n/* PADDING */\n.CodeMirror-lines {\n  padding: 4px 0;\n  /* Vertical padding around content */\n}\n.CodeMirror pre {\n  padding: 0 4px;\n  /* Horizontal padding of content */\n}\n.CodeMirror-scrollbar-filler,\n.CodeMirror-gutter-filler {\n  background-color: white;\n  /* The little square between H and V scrollbars */\n}\n/* GUTTER */\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap;\n}\n.CodeMirror-guttermarker {\n  color: black;\n}\n.CodeMirror-guttermarker-subtle {\n  color: #999;\n}\n/* CURSOR */\n.CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7;\n}\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n.cm-fat-cursor-mark {\n  background-color: rgba(20, 255, 20, 0.5);\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n}\n.cm-animate-fat-cursor {\n  width: auto;\n  border: 0;\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n  background-color: #7e7;\n}\n@-moz-keyframes blink {\n  50% {\n    background-color: transparent;\n  }\n}\n@-webkit-keyframes blink {\n  50% {\n    background-color: transparent;\n  }\n}\n@keyframes blink {\n  50% {\n    background-color: transparent;\n  }\n}\n/* Can style cursor different in overwrite (non-insert) mode */\n.cm-tab {\n  display: inline-block;\n  text-decoration: inherit;\n}\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: -50px;\n  bottom: -20px;\n  overflow: hidden;\n}\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0;\n  bottom: 0;\n  position: absolute;\n}\n/* DEFAULT THEME */\n.cm-s-default .cm-header {\n  color: blue;\n}\n.cm-s-default .cm-quote {\n  color: #090;\n}\n.cm-negative {\n  color: #d44;\n}\n.cm-positive {\n  color: #292;\n}\n.cm-header,\n.cm-strong {\n  font-weight: bold;\n}\n.cm-em {\n  font-style: italic;\n}\n.cm-link {\n  text-decoration: underline;\n}\n.cm-strikethrough {\n  text-decoration: line-through;\n}\n.cm-s-default .cm-keyword {\n  color: #708;\n}\n.cm-s-default .cm-atom {\n  color: #219;\n}\n.cm-s-default .cm-number {\n  color: #164;\n}\n.cm-s-default .cm-def {\n  color: #00f;\n}\n.cm-s-default .cm-variable-2 {\n  color: #05a;\n}\n.cm-s-default .cm-variable-3,\n.cm-s-default .cm-type {\n  color: #085;\n}\n.cm-s-default .cm-comment {\n  color: #a50;\n}\n.cm-s-default .cm-string {\n  color: #a11;\n}\n.cm-s-default .cm-string-2 {\n  color: #f50;\n}\n.cm-s-default .cm-meta {\n  color: #555;\n}\n.cm-s-default .cm-qualifier {\n  color: #555;\n}\n.cm-s-default .cm-builtin {\n  color: #30a;\n}\n.cm-s-default .cm-bracket {\n  color: #997;\n}\n.cm-s-default .cm-tag {\n  color: #170;\n}\n.cm-s-default .cm-attribute {\n  color: #00c;\n}\n.cm-s-default .cm-hr {\n  color: #999;\n}\n.cm-s-default .cm-link {\n  color: #00c;\n}\n.cm-s-default .cm-error {\n  color: #f00;\n}\n.cm-invalidchar {\n  color: #f00;\n}\n.CodeMirror-composing {\n  border-bottom: 2px solid;\n}\n/* Default styles for common addons */\ndiv.CodeMirror span.CodeMirror-matchingbracket {\n  color: #0b0;\n}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {\n  color: #a22;\n}\n.CodeMirror-matchingtag {\n  background: rgba(255, 150, 0, 0.3);\n}\n.CodeMirror-activeline-background {\n  background: #e8f2ff;\n}\n/* STOP */\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white;\n}\n.CodeMirror-scroll {\n  overflow: scroll !important;\n  /* Things will break if this is overridden */\n  /* 30px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -30px;\n  margin-right: -30px;\n  padding-bottom: 30px;\n  height: 100%;\n  outline: none;\n  /* Prevent dragging from highlighting the element */\n  position: relative;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 30px solid transparent;\n}\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actual scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar,\n.CodeMirror-hscrollbar,\n.CodeMirror-scrollbar-filler,\n.CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0;\n  top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0;\n  left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0;\n  bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0;\n  bottom: 0;\n}\n.CodeMirror-gutters {\n  position: absolute;\n  left: 0;\n  top: 0;\n  min-height: 100%;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -30px;\n}\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important;\n}\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  z-index: 4;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n.CodeMirror-gutter-wrapper ::selection {\n  background-color: transparent;\n}\n.CodeMirror-gutter-wrapper ::-moz-selection {\n  background-color: transparent;\n}\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px;\n  /* prevents collapsing before first draw */\n}\n.CodeMirror pre {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0;\n  -webkit-border-radius: 0;\n  border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  font-variant-ligatures: contextual;\n}\n.CodeMirror-wrap pre {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 0;\n}\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  padding: 0.1px;\n  /* Force widget margins to stay inside of the container */\n}\n.CodeMirror-rtl pre {\n  direction: rtl;\n}\n.CodeMirror-code {\n  outline: none;\n}\n/* Force content-box sizing for the elements where we expect it */\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n.CodeMirror-measure pre {\n  position: static;\n}\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\ndiv.CodeMirror-dragcursors {\n  visibility: visible;\n}\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n.CodeMirror-selected {\n  background: #d9d9d9;\n}\n.CodeMirror-focused .CodeMirror-selected {\n  background: #d7d4f0;\n}\n.CodeMirror-crosshair {\n  cursor: crosshair;\n}\n.CodeMirror-line::selection,\n.CodeMirror-line > span::selection,\n.CodeMirror-line > span > span::selection {\n  background: #d7d4f0;\n}\n.CodeMirror-line::-moz-selection,\n.CodeMirror-line > span::-moz-selection,\n.CodeMirror-line > span > span::-moz-selection {\n  background: #d7d4f0;\n}\n.cm-searching {\n  background-color: #ffa;\n  background-color: rgba(255, 255, 0, 0.4);\n}\n/* Used to force a border model for a node */\n.cm-force-border {\n  padding-right: .1px;\n}\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n/* See issue #2901 */\n.cm-tab-wrap-hack:after {\n  content: '';\n}\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext {\n  background: none;\n}\n",""])},function(t,e,r){"use strict";var n=r(165),i=r(371),o=r(236),s="mixins";t.exports=function(t,e,r){var a=[],u={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},c={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},f={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var r=0;r<e.length;r++)h(t,e[r])},childContextTypes:function(t,e){t.childContextTypes=n({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=n({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=d(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=n({},t.propTypes,e)},statics:function(t,e){!function(t,e){if(e)for(var r in e){var n=e[r];if(e.hasOwnProperty(r)){var i=r in f;o(!i,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',r);var s=r in t;if(s){var a=c.hasOwnProperty(r)?c[r]:null;return o("DEFINE_MANY_MERGED"===a,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",r),void(t[r]=d(t[r],n))}t[r]=n}}}(t,e)},autobind:function(){}};function l(t,e){var r=u.hasOwnProperty(e)?u[e]:null;b.hasOwnProperty(e)&&o("OVERRIDE_BASE"===r,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",e),t&&o("DEFINE_MANY"===r||"DEFINE_MANY_MERGED"===r,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",e)}function h(t,r){if(r){o("function"!=typeof r,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),o(!e(r),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var n=t.prototype,i=n.__reactAutoBindPairs;for(var a in r.hasOwnProperty(s)&&f.mixins(t,r.mixins),r)if(r.hasOwnProperty(a)&&a!==s){var c=r[a],h=n.hasOwnProperty(a);if(l(h,a),f.hasOwnProperty(a))f[a](t,c);else{var p=u.hasOwnProperty(a);if("function"!=typeof c||p||h||!1===r.autobind)if(h){var g=u[a];o(p&&("DEFINE_MANY_MERGED"===g||"DEFINE_MANY"===g),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",g,a),"DEFINE_MANY_MERGED"===g?n[a]=d(n[a],c):"DEFINE_MANY"===g&&(n[a]=m(n[a],c))}else n[a]=c;else i.push(a,c),n[a]=c}}}}function p(t,e){for(var r in o(t&&e&&"object"==typeof t&&"object"==typeof e,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),e)e.hasOwnProperty(r)&&(o(void 0===t[r],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",r),t[r]=e[r]);return t}function d(t,e){return function(){var r=t.apply(this,arguments),n=e.apply(this,arguments);if(null==r)return n;if(null==n)return r;var i={};return p(i,r),p(i,n),i}}function m(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function g(t,e){return e.bind(t)}var v={componentDidMount:function(){this.__isMounted=!0}},y={componentWillUnmount:function(){this.__isMounted=!1}},b={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t,e)},isMounted:function(){return!!this.__isMounted}},w=function(){};return n(w.prototype,t.prototype,b),function(t){var e=function(t,n,s){this.__reactAutoBindPairs.length&&function(t){for(var e=t.__reactAutoBindPairs,r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];t[n]=g(t,i)}}(this),this.props=t,this.context=n,this.refs=i,this.updater=s||r,this.state=null;var a=this.getInitialState?this.getInitialState():null;o("object"==typeof a&&!Array.isArray(a),"%s.getInitialState(): must return an object or null",e.displayName||"ReactCompositeComponent"),this.state=a};for(var n in e.prototype=new w,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],a.forEach(h.bind(null,e)),h(e,v),h(e,t),h(e,y),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),o(e.prototype.render,"createClass(...): Class specification must implement a `render` method."),u)e.prototype[n]||(e.prototype[n]=null);return e}}},function(t,e,r){"use strict";var n=r(5),i=r(692);if(void 0===n)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new n.Component).updater;t.exports=i(n.Component,n.isValidElement,o)},function(t,e,r){(function(t,r){var n=200,i="__lodash_hash_undefined__",o=1,s=2,a=9007199254740991,u="[object Arguments]",c="[object Array]",f="[object AsyncFunction]",l="[object Boolean]",h="[object Date]",p="[object Error]",d="[object Function]",m="[object GeneratorFunction]",g="[object Map]",v="[object Number]",y="[object Null]",b="[object Object]",w="[object Proxy]",_="[object RegExp]",k="[object Set]",S="[object String]",x="[object Symbol]",E="[object Undefined]",C="[object ArrayBuffer]",A="[object DataView]",M=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,T={};T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T[u]=T[c]=T[C]=T[l]=T[A]=T[h]=T[p]=T[d]=T[g]=T[v]=T[b]=T[_]=T[k]=T[S]=T["[object WeakMap]"]=!1;var O="object"==typeof t&&t&&t.Object===Object&&t,B="object"==typeof self&&self&&self.Object===Object&&self,P=O||B||Function("return this")(),N="object"==typeof e&&e&&!e.nodeType&&e,R=N&&"object"==typeof r&&r&&!r.nodeType&&r,F=R&&R.exports===N,j=F&&O.process,L=function(){try{return j&&j.binding&&j.binding("util")}catch(t){}}(),D=L&&L.isTypedArray;function U(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function z(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function H(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var K,q,V,W=Array.prototype,G=Function.prototype,Y=Object.prototype,$=P["__core-js_shared__"],Z=G.toString,X=Y.hasOwnProperty,J=(K=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+K:"",Q=Y.toString,tt=RegExp("^"+Z.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=F?P.Buffer:void 0,rt=P.Symbol,nt=P.Uint8Array,it=Y.propertyIsEnumerable,ot=W.splice,st=rt?rt.toStringTag:void 0,at=Object.getOwnPropertySymbols,ut=et?et.isBuffer:void 0,ct=(q=Object.keys,V=Object,function(t){return q(V(t))}),ft=Lt(P,"DataView"),lt=Lt(P,"Map"),ht=Lt(P,"Promise"),pt=Lt(P,"Set"),dt=Lt(P,"WeakMap"),mt=Lt(Object,"create"),gt=Ht(ft),vt=Ht(lt),yt=Ht(ht),bt=Ht(pt),wt=Ht(dt),_t=rt?rt.prototype:void 0,kt=_t?_t.valueOf:void 0;function St(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function xt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Et(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ct(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Et;++e<r;)this.add(t[e])}function At(t){var e=this.__data__=new xt(t);this.size=e.size}function Mt(t,e){var r=Vt(t),n=!r&&qt(t),i=!r&&!n&&Wt(t),o=!r&&!n&&!i&&Xt(t),s=r||n||i||o,a=s?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=a.length;for(var c in t)!e&&!X.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||zt(c,u))||a.push(c);return a}function It(t,e){for(var r=t.length;r--;)if(Kt(t[r][0],e))return r;return-1}function Tt(t){return null==t?void 0===t?E:y:st&&st in Object(t)?function(t){var e=X.call(t,st),r=t[st];try{t[st]=void 0;var n=!0}catch(t){}var i=Q.call(t);n&&(e?t[st]=r:delete t[st]);return i}(t):function(t){return Q.call(t)}(t)}function Ot(t){return Zt(t)&&Tt(t)==u}function Bt(t,e,r,n,i){return t===e||(null==t||null==e||!Zt(t)&&!Zt(e)?t!=t&&e!=e:function(t,e,r,n,i,a){var f=Vt(t),d=Vt(e),m=f?c:Ut(t),y=d?c:Ut(e),w=(m=m==u?b:m)==b,E=(y=y==u?b:y)==b,M=m==y;if(M&&Wt(t)){if(!Wt(e))return!1;f=!0,w=!1}if(M&&!w)return a||(a=new At),f||Xt(t)?Rt(t,e,r,n,i,a):function(t,e,r,n,i,a,u){switch(r){case A:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case C:return!(t.byteLength!=e.byteLength||!a(new nt(t),new nt(e)));case l:case h:case v:return Kt(+t,+e);case p:return t.name==e.name&&t.message==e.message;case _:case S:return t==e+"";case g:var c=z;case k:var f=n&o;if(c||(c=H),t.size!=e.size&&!f)return!1;var d=u.get(t);if(d)return d==e;n|=s,u.set(t,e);var m=Rt(c(t),c(e),n,i,a,u);return u.delete(t),m;case x:if(kt)return kt.call(t)==kt.call(e)}return!1}(t,e,m,r,n,i,a);if(!(r&o)){var I=w&&X.call(t,"__wrapped__"),T=E&&X.call(e,"__wrapped__");if(I||T){var O=I?t.value():t,B=T?e.value():e;return a||(a=new At),i(O,B,r,n,a)}}if(!M)return!1;return a||(a=new At),function(t,e,r,n,i,s){var a=r&o,u=Ft(t),c=u.length,f=Ft(e).length;if(c!=f&&!a)return!1;for(var l=c;l--;){var h=u[l];if(!(a?h in e:X.call(e,h)))return!1}var p=s.get(t);if(p&&s.get(e))return p==e;var d=!0;s.set(t,e),s.set(e,t);for(var m=a;++l<c;){h=u[l];var g=t[h],v=e[h];if(n)var y=a?n(v,g,h,e,t,s):n(g,v,h,t,e,s);if(!(void 0===y?g===v||i(g,v,r,n,s):y)){d=!1;break}m||(m="constructor"==h)}if(d&&!m){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(d=!1)}return s.delete(t),s.delete(e),d}(t,e,r,n,i,a)}(t,e,r,n,Bt,i))}function Pt(t){return!(!$t(t)||J&&J in t)&&(Gt(t)?tt:M).test(Ht(t))}function Nt(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||Y,e!==n)return ct(t);var e,r,n,i=[];for(var o in Object(t))X.call(t,o)&&"constructor"!=o&&i.push(o);return i}function Rt(t,e,r,n,i,a){var u=r&o,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var l=a.get(t);if(l&&a.get(e))return l==e;var h=-1,p=!0,d=r&s?new Ct:void 0;for(a.set(t,e),a.set(e,t);++h<c;){var m=t[h],g=e[h];if(n)var v=u?n(g,m,h,e,t,a):n(m,g,h,t,e,a);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!U(e,function(t,e){if(o=e,!d.has(o)&&(m===t||i(m,t,r,n,a)))return d.push(e);var o})){p=!1;break}}else if(m!==g&&!i(m,g,r,n,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function Ft(t){return function(t,e,r){var n=e(t);return Vt(t)?n:function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}(n,r(t))}(t,Jt,Dt)}function jt(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Lt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Pt(r)?r:void 0}St.prototype.clear=function(){this.__data__=mt?mt(null):{},this.size=0},St.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},St.prototype.get=function(t){var e=this.__data__;if(mt){var r=e[t];return r===i?void 0:r}return X.call(e,t)?e[t]:void 0},St.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:X.call(e,t)},St.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=mt&&void 0===e?i:e,this},xt.prototype.clear=function(){this.__data__=[],this.size=0},xt.prototype.delete=function(t){var e=this.__data__,r=It(e,t);return!(r<0||(r==e.length-1?e.pop():ot.call(e,r,1),--this.size,0))},xt.prototype.get=function(t){var e=this.__data__,r=It(e,t);return r<0?void 0:e[r][1]},xt.prototype.has=function(t){return It(this.__data__,t)>-1},xt.prototype.set=function(t,e){var r=this.__data__,n=It(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},Et.prototype.clear=function(){this.size=0,this.__data__={hash:new St,map:new(lt||xt),string:new St}},Et.prototype.delete=function(t){var e=jt(this,t).delete(t);return this.size-=e?1:0,e},Et.prototype.get=function(t){return jt(this,t).get(t)},Et.prototype.has=function(t){return jt(this,t).has(t)},Et.prototype.set=function(t,e){var r=jt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},Ct.prototype.add=Ct.prototype.push=function(t){return this.__data__.set(t,i),this},Ct.prototype.has=function(t){return this.__data__.has(t)},At.prototype.clear=function(){this.__data__=new xt,this.size=0},At.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},At.prototype.get=function(t){return this.__data__.get(t)},At.prototype.has=function(t){return this.__data__.has(t)},At.prototype.set=function(t,e){var r=this.__data__;if(r instanceof xt){var i=r.__data__;if(!lt||i.length<n-1)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new Et(i)}return r.set(t,e),this.size=r.size,this};var Dt=at?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}(at(t),function(e){return it.call(t,e)}))}:function(){return[]},Ut=Tt;function zt(t,e){return!!(e=null==e?a:e)&&("number"==typeof t||I.test(t))&&t>-1&&t%1==0&&t<e}function Ht(t){if(null!=t){try{return Z.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Kt(t,e){return t===e||t!=t&&e!=e}(ft&&Ut(new ft(new ArrayBuffer(1)))!=A||lt&&Ut(new lt)!=g||ht&&"[object Promise]"!=Ut(ht.resolve())||pt&&Ut(new pt)!=k||dt&&"[object WeakMap]"!=Ut(new dt))&&(Ut=function(t){var e=Tt(t),r=e==b?t.constructor:void 0,n=r?Ht(r):"";if(n)switch(n){case gt:return A;case vt:return g;case yt:return"[object Promise]";case bt:return k;case wt:return"[object WeakMap]"}return e});var qt=Ot(function(){return arguments}())?Ot:function(t){return Zt(t)&&X.call(t,"callee")&&!it.call(t,"callee")},Vt=Array.isArray;var Wt=ut||function(){return!1};function Gt(t){if(!$t(t))return!1;var e=Tt(t);return e==d||e==m||e==f||e==w}function Yt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}function $t(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Zt(t){return null!=t&&"object"==typeof t}var Xt=D?function(t){return function(e){return t(e)}}(D):function(t){return Zt(t)&&Yt(t.length)&&!!T[Tt(t)]};function Jt(t){return null!=(e=t)&&Yt(e.length)&&!Gt(e)?Mt(t):Nt(t);var e}r.exports=function(t,e){return Bt(t,e)}}).call(this,r(7),r(24)(t))},function(t,e,r){var n;
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n))t.push(i.apply(null,n));else if("object"===o)for(var s in n)r.call(n,s)&&n[s]&&t.push(s)}}return t.join(" ")}void 0!==t&&t.exports?t.exports=i:void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()},function(t,e,r){(function(e){var r;t.exports=function t(e,n,i){function o(a,u){if(!n[a]){if(!e[a]){var c="function"==typeof r&&r;if(!u&&c)return r(a,!0);if(s)return s(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var r=e[a][1][t];return o(r||t)},l,l.exports,t,e,n,i)}return n[a].exports}for(var s="function"==typeof r&&r,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e,r){"use strict";e.exports=t("entities/maps/entities.json")},{"entities/maps/entities.json":52}],2:[function(t,e,r){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","pre","section","source","title","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},{}],3:[function(t,e,r){"use strict";var n="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",i="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",o=new RegExp("^(?:"+n+"|"+i+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),s=new RegExp("^(?:"+n+"|"+i+")");e.exports.HTML_TAG_RE=o,e.exports.HTML_OPEN_CLOSE_TAG_RE=s},{}],4:[function(t,e,r){"use strict";function n(t,e){return a.call(t,e)}function i(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||65535==(65535&t)||65534==(65535&t)||t>=0&&t<=8||11===t||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function o(t){if(t>65535){var e=55296+((t-=65536)>>10),r=56320+(1023&t);return String.fromCharCode(e,r)}return String.fromCharCode(t)}function s(t){return d[t]}var a=Object.prototype.hasOwnProperty,u=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,c=new RegExp(u.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),f=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,l=t("./entities"),h=/[&<>"]/,p=/[&<>"]/g,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},m=/[.?*+^$[\]\\(){}|-]/g,g=t("uc.micro/categories/P/regex");r.lib={},r.lib.mdurl=t("mdurl"),r.lib.ucmicro=t("uc.micro"),r.assign=function(t){return Array.prototype.slice.call(arguments,1).forEach(function(e){if(e){if("object"!=typeof e)throw new TypeError(e+"must be object");Object.keys(e).forEach(function(r){t[r]=e[r]})}}),t},r.isString=function(t){return"[object String]"===function(t){return Object.prototype.toString.call(t)}(t)},r.has=n,r.unescapeMd=function(t){return t.indexOf("\\")<0?t:t.replace(u,"$1")},r.unescapeAll=function(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(c,function(t,e,r){return e||function(t,e){var r=0;return n(l,e)?l[e]:35===e.charCodeAt(0)&&f.test(e)&&i(r="x"===e[1].toLowerCase()?parseInt(e.slice(2),16):parseInt(e.slice(1),10))?o(r):t}(t,r)})},r.isValidEntityCode=i,r.fromCodePoint=o,r.escapeHtml=function(t){return h.test(t)?t.replace(p,s):t},r.arrayReplaceAt=function(t,e,r){return[].concat(t.slice(0,e),r,t.slice(e+1))},r.isSpace=function(t){switch(t){case 9:case 32:return!0}return!1},r.isWhiteSpace=function(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},r.isMdAsciiPunct=function(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},r.isPunctChar=function(t){return g.test(t)},r.escapeRE=function(t){return t.replace(m,"\\$&")},r.normalizeReference=function(t){return t.trim().replace(/\s+/g," ").toUpperCase()}},{"./entities":1,mdurl:58,"uc.micro":65,"uc.micro/categories/P/regex":63}],5:[function(t,e,r){"use strict";r.parseLinkLabel=t("./parse_link_label"),r.parseLinkDestination=t("./parse_link_destination"),r.parseLinkTitle=t("./parse_link_title")},{"./parse_link_destination":6,"./parse_link_label":7,"./parse_link_title":8}],6:[function(t,e,r){"use strict";var n=t("../common/utils").isSpace,i=t("../common/utils").unescapeAll;e.exports=function(t,e,r){var o,s,a=e,u={ok:!1,pos:0,lines:0,str:""};if(60===t.charCodeAt(e)){for(e++;e<r;){if(10===(o=t.charCodeAt(e))||n(o))return u;if(62===o)return u.pos=e+1,u.str=i(t.slice(a+1,e)),u.ok=!0,u;92===o&&e+1<r?e+=2:e++}return u}for(s=0;e<r&&32!==(o=t.charCodeAt(e))&&!(o<32||127===o);)if(92===o&&e+1<r)e+=2;else{if(40===o&&++s>1)break;if(41===o&&--s<0)break;e++}return a===e?u:(u.str=i(t.slice(a,e)),u.lines=0,u.pos=e,u.ok=!0,u)}},{"../common/utils":4}],7:[function(t,e,r){"use strict";e.exports=function(t,e,r){var n,i,o,s,a=-1,u=t.posMax,c=t.pos;for(t.pos=e+1,n=1;t.pos<u;){if(93===(o=t.src.charCodeAt(t.pos))&&0==--n){i=!0;break}if(s=t.pos,t.md.inline.skipToken(t),91===o)if(s===t.pos-1)n++;else if(r)return t.pos=c,-1}return i&&(a=t.pos),t.pos=c,a}},{}],8:[function(t,e,r){"use strict";var n=t("../common/utils").unescapeAll;e.exports=function(t,e,r){var i,o,s=0,a=e,u={ok:!1,pos:0,lines:0,str:""};if(e>=r)return u;if(34!==(o=t.charCodeAt(e))&&39!==o&&40!==o)return u;for(e++,40===o&&(o=41);e<r;){if((i=t.charCodeAt(e))===o)return u.pos=e+1,u.lines=s,u.str=n(t.slice(a+1,e)),u.ok=!0,u;10===i?s++:92===i&&e+1<r&&(e++,10===t.charCodeAt(e)&&s++),e++}return u}},{"../common/utils":4}],9:[function(t,e,r){"use strict";function n(t){var e=t.trim().toLowerCase();return!v.test(e)||!!y.test(e)}function i(t){var e=d.parse(t,!0);if(e.hostname&&(!e.protocol||b.indexOf(e.protocol)>=0))try{e.hostname=m.toASCII(e.hostname)}catch(t){}return d.encode(d.format(e))}function o(t){var e=d.parse(t,!0);if(e.hostname&&(!e.protocol||b.indexOf(e.protocol)>=0))try{e.hostname=m.toUnicode(e.hostname)}catch(t){}return d.decode(d.format(e))}function s(t,e){if(!(this instanceof s))return new s(t,e);e||a.isString(t)||(e=t||{},t="default"),this.inline=new h,this.block=new l,this.core=new f,this.renderer=new c,this.linkify=new p,this.validateLink=n,this.normalizeLink=i,this.normalizeLinkText=o,this.utils=a,this.helpers=a.assign({},u),this.options={},this.configure(t),e&&this.set(e)}var a=t("./common/utils"),u=t("./helpers"),c=t("./renderer"),f=t("./parser_core"),l=t("./parser_block"),h=t("./parser_inline"),p=t("linkify-it"),d=t("mdurl"),m=t("punycode"),g={default:t("./presets/default"),zero:t("./presets/zero"),commonmark:t("./presets/commonmark")},v=/^(vbscript|javascript|file|data):/,y=/^data:image\/(gif|png|jpeg|webp);/,b=["http:","https:","mailto:"];s.prototype.set=function(t){return a.assign(this.options,t),this},s.prototype.configure=function(t){var e,r=this;if(a.isString(t)&&!(t=g[e=t]))throw new Error('Wrong `markdown-it` preset "'+e+'", check name');if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&r.set(t.options),t.components&&Object.keys(t.components).forEach(function(e){t.components[e].rules&&r[e].ruler.enableOnly(t.components[e].rules),t.components[e].rules2&&r[e].ruler2.enableOnly(t.components[e].rules2)}),this},s.prototype.enable=function(t,e){var r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(e){r=r.concat(this[e].ruler.enable(t,!0))},this),r=r.concat(this.inline.ruler2.enable(t,!0));var n=t.filter(function(t){return r.indexOf(t)<0});if(n.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this},s.prototype.disable=function(t,e){var r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(e){r=r.concat(this[e].ruler.disable(t,!0))},this),r=r.concat(this.inline.ruler2.disable(t,!0));var n=t.filter(function(t){return r.indexOf(t)<0});if(n.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this},s.prototype.use=function(t){var e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this},s.prototype.parse=function(t,e){if("string"!=typeof t)throw new Error("Input data should be a String");var r=new this.core.State(t,this,e);return this.core.process(r),r.tokens},s.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)},s.prototype.parseInline=function(t,e){var r=new this.core.State(t,this,e);return r.inlineMode=!0,this.core.process(r),r.tokens},s.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)},e.exports=s},{"./common/utils":4,"./helpers":5,"./parser_block":10,"./parser_core":11,"./parser_inline":12,"./presets/commonmark":13,"./presets/default":14,"./presets/zero":15,"./renderer":16,"linkify-it":53,mdurl:58,punycode:60}],10:[function(t,e,r){"use strict";function n(){this.ruler=new i;for(var t=0;t<o.length;t++)this.ruler.push(o[t][0],o[t][1],{alt:(o[t][2]||[]).slice()})}var i=t("./ruler"),o=[["table",t("./rules_block/table"),["paragraph","reference"]],["code",t("./rules_block/code")],["fence",t("./rules_block/fence"),["paragraph","reference","blockquote","list"]],["blockquote",t("./rules_block/blockquote"),["paragraph","reference","blockquote","list"]],["hr",t("./rules_block/hr"),["paragraph","reference","blockquote","list"]],["list",t("./rules_block/list"),["paragraph","reference","blockquote"]],["reference",t("./rules_block/reference")],["heading",t("./rules_block/heading"),["paragraph","reference","blockquote"]],["lheading",t("./rules_block/lheading")],["html_block",t("./rules_block/html_block"),["paragraph","reference","blockquote"]],["paragraph",t("./rules_block/paragraph")]];n.prototype.tokenize=function(t,e,r){for(var n,i=this.ruler.getRules(""),o=i.length,s=e,a=!1,u=t.md.options.maxNesting;s<r&&(t.line=s=t.skipEmptyLines(s),!(s>=r))&&!(t.sCount[s]<t.blkIndent);){if(t.level>=u){t.line=r;break}for(n=0;n<o&&!i[n](t,s,r,!1);n++);t.tight=!a,t.isEmpty(t.line-1)&&(a=!0),(s=t.line)<r&&t.isEmpty(s)&&(a=!0,s++,t.line=s)}},n.prototype.parse=function(t,e,r,n){var i;t&&(i=new this.State(t,e,r,n),this.tokenize(i,i.line,i.lineMax))},n.prototype.State=t("./rules_block/state_block"),e.exports=n},{"./ruler":17,"./rules_block/blockquote":18,"./rules_block/code":19,"./rules_block/fence":20,"./rules_block/heading":21,"./rules_block/hr":22,"./rules_block/html_block":23,"./rules_block/lheading":24,"./rules_block/list":25,"./rules_block/paragraph":26,"./rules_block/reference":27,"./rules_block/state_block":28,"./rules_block/table":29}],11:[function(t,e,r){"use strict";function n(){this.ruler=new i;for(var t=0;t<o.length;t++)this.ruler.push(o[t][0],o[t][1])}var i=t("./ruler"),o=[["normalize",t("./rules_core/normalize")],["block",t("./rules_core/block")],["inline",t("./rules_core/inline")],["linkify",t("./rules_core/linkify")],["replacements",t("./rules_core/replacements")],["smartquotes",t("./rules_core/smartquotes")]];n.prototype.process=function(t){var e,r,n;for(e=0,r=(n=this.ruler.getRules("")).length;e<r;e++)n[e](t)},n.prototype.State=t("./rules_core/state_core"),e.exports=n},{"./ruler":17,"./rules_core/block":30,"./rules_core/inline":31,"./rules_core/linkify":32,"./rules_core/normalize":33,"./rules_core/replacements":34,"./rules_core/smartquotes":35,"./rules_core/state_core":36}],12:[function(t,e,r){"use strict";function n(){var t;for(this.ruler=new i,t=0;t<o.length;t++)this.ruler.push(o[t][0],o[t][1]);for(this.ruler2=new i,t=0;t<s.length;t++)this.ruler2.push(s[t][0],s[t][1])}var i=t("./ruler"),o=[["text",t("./rules_inline/text")],["newline",t("./rules_inline/newline")],["escape",t("./rules_inline/escape")],["backticks",t("./rules_inline/backticks")],["strikethrough",t("./rules_inline/strikethrough").tokenize],["emphasis",t("./rules_inline/emphasis").tokenize],["link",t("./rules_inline/link")],["image",t("./rules_inline/image")],["autolink",t("./rules_inline/autolink")],["html_inline",t("./rules_inline/html_inline")],["entity",t("./rules_inline/entity")]],s=[["balance_pairs",t("./rules_inline/balance_pairs")],["strikethrough",t("./rules_inline/strikethrough").postProcess],["emphasis",t("./rules_inline/emphasis").postProcess],["text_collapse",t("./rules_inline/text_collapse")]];n.prototype.skipToken=function(t){var e,r,n=t.pos,i=this.ruler.getRules(""),o=i.length,s=t.md.options.maxNesting,a=t.cache;if(void 0===a[n]){if(t.level<s)for(r=0;r<o&&(t.level++,e=i[r](t,!0),t.level--,!e);r++);else t.pos=t.posMax;e||t.pos++,a[n]=t.pos}else t.pos=a[n]},n.prototype.tokenize=function(t){for(var e,r,n=this.ruler.getRules(""),i=n.length,o=t.posMax,s=t.md.options.maxNesting;t.pos<o;){if(t.level<s)for(r=0;r<i&&!(e=n[r](t,!1));r++);if(e){if(t.pos>=o)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},n.prototype.parse=function(t,e,r,n){var i,o,s,a=new this.State(t,e,r,n);for(this.tokenize(a),s=(o=this.ruler2.getRules("")).length,i=0;i<s;i++)o[i](a)},n.prototype.State=t("./rules_inline/state_inline"),e.exports=n},{"./ruler":17,"./rules_inline/autolink":37,"./rules_inline/backticks":38,"./rules_inline/balance_pairs":39,"./rules_inline/emphasis":40,"./rules_inline/entity":41,"./rules_inline/escape":42,"./rules_inline/html_inline":43,"./rules_inline/image":44,"./rules_inline/link":45,"./rules_inline/newline":46,"./rules_inline/state_inline":47,"./rules_inline/strikethrough":48,"./rules_inline/text":49,"./rules_inline/text_collapse":50}],13:[function(t,e,r){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},{}],14:[function(t,e,r){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},{}],15:[function(t,e,r){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},{}],16:[function(t,e,r){"use strict";function n(){this.rules=i({},a)}var i=t("./common/utils").assign,o=t("./common/utils").unescapeAll,s=t("./common/utils").escapeHtml,a={code_inline:function(t,e,r,n,i){var o=t[e];return"<code"+i.renderAttrs(o)+">"+s(t[e].content)+"</code>"},code_block:function(t,e,r,n,i){var o=t[e];return"<pre"+i.renderAttrs(o)+"><code>"+s(t[e].content)+"</code></pre>\n"},fence:function(t,e,r,n,i){var a,u,c,f,l=t[e],h=l.info?o(l.info).trim():"",p="";return h&&(p=h.split(/\s+/g)[0]),0===(a=r.highlight&&r.highlight(l.content,p)||s(l.content)).indexOf("<pre")?a+"\n":h?(u=l.attrIndex("class"),c=l.attrs?l.attrs.slice():[],u<0?c.push(["class",r.langPrefix+p]):c[u][1]+=" "+r.langPrefix+p,f={attrs:c},"<pre><code"+i.renderAttrs(f)+">"+a+"</code></pre>\n"):"<pre><code"+i.renderAttrs(l)+">"+a+"</code></pre>\n"},image:function(t,e,r,n,i){var o=t[e];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,r,n),i.renderToken(t,e,r)},hardbreak:function(t,e,r){return r.xhtmlOut?"<br />\n":"<br>\n"},softbreak:function(t,e,r){return r.breaks?r.xhtmlOut?"<br />\n":"<br>\n":"\n"},text:function(t,e){return s(t[e].content)},html_block:function(t,e){return t[e].content},html_inline:function(t,e){return t[e].content}};n.prototype.renderAttrs=function(t){var e,r,n;if(!t.attrs)return"";for(n="",e=0,r=t.attrs.length;e<r;e++)n+=" "+s(t.attrs[e][0])+'="'+s(t.attrs[e][1])+'"';return n},n.prototype.renderToken=function(t,e,r){var n,i="",o=!1,s=t[e];return s.hidden?"":(s.block&&-1!==s.nesting&&e&&t[e-1].hidden&&(i+="\n"),i+=(-1===s.nesting?"</":"<")+s.tag,i+=this.renderAttrs(s),0===s.nesting&&r.xhtmlOut&&(i+=" /"),s.block&&(o=!0,1===s.nesting&&e+1<t.length&&("inline"===(n=t[e+1]).type||n.hidden?o=!1:-1===n.nesting&&n.tag===s.tag&&(o=!1))),i+=o?">\n":">")},n.prototype.renderInline=function(t,e,r){for(var n,i="",o=this.rules,s=0,a=t.length;s<a;s++)void 0!==o[n=t[s].type]?i+=o[n](t,s,e,r,this):i+=this.renderToken(t,s,e);return i},n.prototype.renderInlineAsText=function(t,e,r){for(var n="",i=0,o=t.length;i<o;i++)"text"===t[i].type?n+=t[i].content:"image"===t[i].type&&(n+=this.renderInlineAsText(t[i].children,e,r));return n},n.prototype.render=function(t,e,r){var n,i,o,s="",a=this.rules;for(n=0,i=t.length;n<i;n++)"inline"===(o=t[n].type)?s+=this.renderInline(t[n].children,e,r):void 0!==a[o]?s+=a[t[n].type](t,n,e,r,this):s+=this.renderToken(t,n,e,r);return s},e.exports=n},{"./common/utils":4}],17:[function(t,e,r){"use strict";function n(){this.__rules__=[],this.__cache__=null}n.prototype.__find__=function(t){for(var e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1},n.prototype.__compile__=function(){var t=this,e=[""];t.__rules__.forEach(function(t){t.enabled&&t.alt.forEach(function(t){e.indexOf(t)<0&&e.push(t)})}),t.__cache__={},e.forEach(function(e){t.__cache__[e]=[],t.__rules__.forEach(function(r){r.enabled&&(e&&r.alt.indexOf(e)<0||t.__cache__[e].push(r.fn))})})},n.prototype.at=function(t,e,r){var n=this.__find__(t),i=r||{};if(-1===n)throw new Error("Parser rule not found: "+t);this.__rules__[n].fn=e,this.__rules__[n].alt=i.alt||[],this.__cache__=null},n.prototype.before=function(t,e,r,n){var i=this.__find__(t),o=n||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null},n.prototype.after=function(t,e,r,n){var i=this.__find__(t),o=n||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null},n.prototype.push=function(t,e,r){var n=r||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:n.alt||[]}),this.__cache__=null},n.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);var r=[];return t.forEach(function(t){var n=this.__find__(t);if(n<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[n].enabled=!0,r.push(t)},this),this.__cache__=null,r},n.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(t){t.enabled=!1}),this.enable(t,e)},n.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);var r=[];return t.forEach(function(t){var n=this.__find__(t);if(n<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[n].enabled=!1,r.push(t)},this),this.__cache__=null,r},n.prototype.getRules=function(t){return null===this.__cache__&&this.__compile__(),this.__cache__[t]||[]},e.exports=n},{}],18:[function(t,e,r){"use strict";var n=t("../common/utils").isSpace;e.exports=function(t,e,r,i){var o,s,a,u,c,f,l,h,p,d,m,g,v,y,b,w,_,k,S,x,E=t.lineMax,C=t.bMarks[e]+t.tShift[e],A=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(62!==t.src.charCodeAt(C++))return!1;if(i)return!0;for(u=p=t.sCount[e]+C-(t.bMarks[e]+t.tShift[e]),32===t.src.charCodeAt(C)?(C++,u++,p++,o=!1,w=!0):9===t.src.charCodeAt(C)?(w=!0,(t.bsCount[e]+p)%4==3?(C++,u++,p++,o=!1):o=!0):w=!1,d=[t.bMarks[e]],t.bMarks[e]=C;C<A&&(s=t.src.charCodeAt(C),n(s));)9===s?p+=4-(p+t.bsCount[e]+(o?1:0))%4:p++,C++;for(m=[t.bsCount[e]],t.bsCount[e]=t.sCount[e]+1+(w?1:0),f=C>=A,y=[t.sCount[e]],t.sCount[e]=p-u,b=[t.tShift[e]],t.tShift[e]=C-t.bMarks[e],k=t.md.block.ruler.getRules("blockquote"),v=t.parentType,t.parentType="blockquote",x=!1,h=e+1;h<r&&(t.sCount[h]<t.blkIndent&&(x=!0),C=t.bMarks[h]+t.tShift[h],A=t.eMarks[h],!(C>=A));h++)if(62!==t.src.charCodeAt(C++)||x){if(f)break;for(_=!1,a=0,c=k.length;a<c;a++)if(k[a](t,h,r,!0)){_=!0;break}if(_){t.lineMax=h,0!==t.blkIndent&&(d.push(t.bMarks[h]),m.push(t.bsCount[h]),b.push(t.tShift[h]),y.push(t.sCount[h]),t.sCount[h]-=t.blkIndent);break}d.push(t.bMarks[h]),m.push(t.bsCount[h]),b.push(t.tShift[h]),y.push(t.sCount[h]),t.sCount[h]=-1}else{for(u=p=t.sCount[h]+C-(t.bMarks[h]+t.tShift[h]),32===t.src.charCodeAt(C)?(C++,u++,p++,o=!1,w=!0):9===t.src.charCodeAt(C)?(w=!0,(t.bsCount[h]+p)%4==3?(C++,u++,p++,o=!1):o=!0):w=!1,d.push(t.bMarks[h]),t.bMarks[h]=C;C<A&&(s=t.src.charCodeAt(C),n(s));)9===s?p+=4-(p+t.bsCount[h]+(o?1:0))%4:p++,C++;f=C>=A,m.push(t.bsCount[h]),t.bsCount[h]=t.sCount[h]+1+(w?1:0),y.push(t.sCount[h]),t.sCount[h]=p-u,b.push(t.tShift[h]),t.tShift[h]=C-t.bMarks[h]}for(g=t.blkIndent,t.blkIndent=0,(S=t.push("blockquote_open","blockquote",1)).markup=">",S.map=l=[e,0],t.md.block.tokenize(t,e,h),(S=t.push("blockquote_close","blockquote",-1)).markup=">",t.lineMax=E,t.parentType=v,l[1]=t.line,a=0;a<b.length;a++)t.bMarks[a+e]=d[a],t.tShift[a+e]=b[a],t.sCount[a+e]=y[a],t.bsCount[a+e]=m[a];return t.blkIndent=g,!0}},{"../common/utils":4}],19:[function(t,e,r){"use strict";e.exports=function(t,e,r){var n,i,o;if(t.sCount[e]-t.blkIndent<4)return!1;for(i=n=e+1;n<r;)if(t.isEmpty(n))n++;else{if(!(t.sCount[n]-t.blkIndent>=4))break;i=++n}return t.line=i,(o=t.push("code_block","code",0)).content=t.getLines(e,i,4+t.blkIndent,!0),o.map=[e,t.line],!0}},{}],20:[function(t,e,r){"use strict";e.exports=function(t,e,r,n){var i,o,s,a,u,c,f,l=!1,h=t.bMarks[e]+t.tShift[e],p=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(h+3>p)return!1;if(126!==(i=t.src.charCodeAt(h))&&96!==i)return!1;if(u=h,h=t.skipChars(h,i),(o=h-u)<3)return!1;if(f=t.src.slice(u,h),(s=t.src.slice(h,p)).indexOf(String.fromCharCode(i))>=0)return!1;if(n)return!0;for(a=e;!(++a>=r||(h=u=t.bMarks[a]+t.tShift[a],p=t.eMarks[a],h<p&&t.sCount[a]<t.blkIndent));)if(t.src.charCodeAt(h)===i&&!(t.sCount[a]-t.blkIndent>=4||(h=t.skipChars(h,i))-u<o||(h=t.skipSpaces(h))<p)){l=!0;break}return o=t.sCount[e],t.line=a+(l?1:0),(c=t.push("fence","code",0)).info=s,c.content=t.getLines(e+1,a,o,!0),c.markup=f,c.map=[e,t.line],!0}},{}],21:[function(t,e,r){"use strict";var n=t("../common/utils").isSpace;e.exports=function(t,e,r,i){var o,s,a,u,c=t.bMarks[e]+t.tShift[e],f=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(35!==(o=t.src.charCodeAt(c))||c>=f)return!1;for(s=1,o=t.src.charCodeAt(++c);35===o&&c<f&&s<=6;)s++,o=t.src.charCodeAt(++c);return!(s>6||c<f&&!n(o)||!i&&(f=t.skipSpacesBack(f,c),(a=t.skipCharsBack(f,35,c))>c&&n(t.src.charCodeAt(a-1))&&(f=a),t.line=e+1,u=t.push("heading_open","h"+String(s),1),u.markup="########".slice(0,s),u.map=[e,t.line],u=t.push("inline","",0),u.content=t.src.slice(c,f).trim(),u.map=[e,t.line],u.children=[],u=t.push("heading_close","h"+String(s),-1),u.markup="########".slice(0,s),0))}},{"../common/utils":4}],22:[function(t,e,r){"use strict";var n=t("../common/utils").isSpace;e.exports=function(t,e,r,i){var o,s,a,u,c=t.bMarks[e]+t.tShift[e],f=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(42!==(o=t.src.charCodeAt(c++))&&45!==o&&95!==o)return!1;for(s=1;c<f;){if((a=t.src.charCodeAt(c++))!==o&&!n(a))return!1;a===o&&s++}return!(s<3||!i&&(t.line=e+1,u=t.push("hr","hr",0),u.map=[e,t.line],u.markup=Array(s+1).join(String.fromCharCode(o)),0))}},{"../common/utils":4}],23:[function(t,e,r){"use strict";var n=t("../common/html_blocks"),i=t("../common/html_re").HTML_OPEN_CLOSE_TAG_RE,o=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+n.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(i.source+"\\s*$"),/^$/,!1]];e.exports=function(t,e,r,n){var i,s,a,u,c=t.bMarks[e]+t.tShift[e],f=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(!t.md.options.html)return!1;if(60!==t.src.charCodeAt(c))return!1;for(u=t.src.slice(c,f),i=0;i<o.length&&!o[i][0].test(u);i++);if(i===o.length)return!1;if(n)return o[i][2];if(s=e+1,!o[i][1].test(u))for(;s<r&&!(t.sCount[s]<t.blkIndent);s++)if(c=t.bMarks[s]+t.tShift[s],f=t.eMarks[s],u=t.src.slice(c,f),o[i][1].test(u)){0!==u.length&&s++;break}return t.line=s,(a=t.push("html_block","",0)).map=[e,s],a.content=t.getLines(e,s,t.blkIndent,!0),!0}},{"../common/html_blocks":2,"../common/html_re":3}],24:[function(t,e,r){"use strict";e.exports=function(t,e,r){var n,i,o,s,a,u,c,f,l,h,p=e+1,d=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;for(h=t.parentType,t.parentType="paragraph";p<r&&!t.isEmpty(p);p++)if(!(t.sCount[p]-t.blkIndent>3)){if(t.sCount[p]>=t.blkIndent&&(u=t.bMarks[p]+t.tShift[p],c=t.eMarks[p],u<c&&(45===(l=t.src.charCodeAt(u))||61===l)&&(u=t.skipChars(u,l),(u=t.skipSpaces(u))>=c))){f=61===l?1:2;break}if(!(t.sCount[p]<0)){for(i=!1,o=0,s=d.length;o<s;o++)if(d[o](t,p,r,!0)){i=!0;break}if(i)break}}return!!f&&(n=t.getLines(e,p,t.blkIndent,!1).trim(),t.line=p+1,(a=t.push("heading_open","h"+String(f),1)).markup=String.fromCharCode(l),a.map=[e,t.line],(a=t.push("inline","",0)).content=n,a.map=[e,t.line-1],a.children=[],(a=t.push("heading_close","h"+String(f),-1)).markup=String.fromCharCode(l),t.parentType=h,!0)}},{}],25:[function(t,e,r){"use strict";function n(t,e){var r,n,i,s;return n=t.bMarks[e]+t.tShift[e],i=t.eMarks[e],42!==(r=t.src.charCodeAt(n++))&&45!==r&&43!==r?-1:n<i&&(s=t.src.charCodeAt(n),!o(s))?-1:n}function i(t,e){var r,n=t.bMarks[e]+t.tShift[e],i=n,s=t.eMarks[e];if(i+1>=s)return-1;if((r=t.src.charCodeAt(i++))<48||r>57)return-1;for(;;){if(i>=s)return-1;if(!((r=t.src.charCodeAt(i++))>=48&&r<=57)){if(41===r||46===r)break;return-1}if(i-n>=10)return-1}return i<s&&(r=t.src.charCodeAt(i),!o(r))?-1:i}var o=t("../common/utils").isSpace;e.exports=function(t,e,r,o){var s,a,u,c,f,l,h,p,d,m,g,v,y,b,w,_,k,S,x,E,C,A,M,I,T,O,B,P,N=!1,R=!0;if(t.sCount[e]-t.blkIndent>=4)return!1;if(o&&"paragraph"===t.parentType&&t.tShift[e]>=t.blkIndent&&(N=!0),(M=i(t,e))>=0){if(h=!0,T=t.bMarks[e]+t.tShift[e],y=Number(t.src.substr(T,M-T-1)),N&&1!==y)return!1}else{if(!((M=n(t,e))>=0))return!1;h=!1}if(N&&t.skipSpaces(M)>=t.eMarks[e])return!1;if(v=t.src.charCodeAt(M-1),o)return!0;for(g=t.tokens.length,h?(P=t.push("ordered_list_open","ol",1),1!==y&&(P.attrs=[["start",y]])):P=t.push("bullet_list_open","ul",1),P.map=m=[e,0],P.markup=String.fromCharCode(v),w=e,I=!1,B=t.md.block.ruler.getRules("list"),x=t.parentType,t.parentType="list";w<r;){for(A=M,b=t.eMarks[w],l=_=t.sCount[w]+M-(t.bMarks[e]+t.tShift[e]);A<b;){if(9===(s=t.src.charCodeAt(A)))_+=4-(_+t.bsCount[w])%4;else{if(32!==s)break;_++}A++}if((f=(a=A)>=b?1:_-l)>4&&(f=1),c=l+f,(P=t.push("list_item_open","li",1)).markup=String.fromCharCode(v),P.map=p=[e,0],k=t.blkIndent,C=t.tight,E=t.tShift[e],S=t.sCount[e],t.blkIndent=c,t.tight=!0,t.tShift[e]=a-t.bMarks[e],t.sCount[e]=_,a>=b&&t.isEmpty(e+1)?t.line=Math.min(t.line+2,r):t.md.block.tokenize(t,e,r,!0),t.tight&&!I||(R=!1),I=t.line-e>1&&t.isEmpty(t.line-1),t.blkIndent=k,t.tShift[e]=E,t.sCount[e]=S,t.tight=C,(P=t.push("list_item_close","li",-1)).markup=String.fromCharCode(v),w=e=t.line,p[1]=w,a=t.bMarks[e],w>=r)break;if(t.sCount[w]<t.blkIndent)break;for(O=!1,u=0,d=B.length;u<d;u++)if(B[u](t,w,r,!0)){O=!0;break}if(O)break;if(h){if((M=i(t,w))<0)break}else if((M=n(t,w))<0)break;if(v!==t.src.charCodeAt(M-1))break}return(P=h?t.push("ordered_list_close","ol",-1):t.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(v),m[1]=w,t.line=w,t.parentType=x,R&&function(t,e){var r,n,i=t.level+2;for(r=e+2,n=t.tokens.length-2;r<n;r++)t.tokens[r].level===i&&"paragraph_open"===t.tokens[r].type&&(t.tokens[r+2].hidden=!0,t.tokens[r].hidden=!0,r+=2)}(t,g),!0}},{"../common/utils":4}],26:[function(t,e,r){"use strict";e.exports=function(t,e){var r,n,i,o,s,a,u=e+1,c=t.md.block.ruler.getRules("paragraph"),f=t.lineMax;for(a=t.parentType,t.parentType="paragraph";u<f&&!t.isEmpty(u);u++)if(!(t.sCount[u]-t.blkIndent>3||t.sCount[u]<0)){for(n=!1,i=0,o=c.length;i<o;i++)if(c[i](t,u,f,!0)){n=!0;break}if(n)break}return r=t.getLines(e,u,t.blkIndent,!1).trim(),t.line=u,(s=t.push("paragraph_open","p",1)).map=[e,t.line],(s=t.push("inline","",0)).content=r,s.map=[e,t.line],s.children=[],s=t.push("paragraph_close","p",-1),t.parentType=a,!0}},{}],27:[function(t,e,r){"use strict";var n=t("../common/utils").normalizeReference,i=t("../common/utils").isSpace;e.exports=function(t,e,r,o){var s,a,u,c,f,l,h,p,d,m,g,v,y,b,w,_,k=0,S=t.bMarks[e]+t.tShift[e],x=t.eMarks[e],E=e+1;if(t.sCount[e]-t.blkIndent>=4)return!1;if(91!==t.src.charCodeAt(S))return!1;for(;++S<x;)if(93===t.src.charCodeAt(S)&&92!==t.src.charCodeAt(S-1)){if(S+1===x)return!1;if(58!==t.src.charCodeAt(S+1))return!1;break}for(c=t.lineMax,w=t.md.block.ruler.getRules("reference"),m=t.parentType,t.parentType="reference";E<c&&!t.isEmpty(E);E++)if(!(t.sCount[E]-t.blkIndent>3||t.sCount[E]<0)){for(b=!1,l=0,h=w.length;l<h;l++)if(w[l](t,E,c,!0)){b=!0;break}if(b)break}for(x=(y=t.getLines(e,E,t.blkIndent,!1).trim()).length,S=1;S<x;S++){if(91===(s=y.charCodeAt(S)))return!1;if(93===s){d=S;break}10===s?k++:92===s&&++S<x&&10===y.charCodeAt(S)&&k++}if(d<0||58!==y.charCodeAt(d+1))return!1;for(S=d+2;S<x;S++)if(10===(s=y.charCodeAt(S)))k++;else if(!i(s))break;if(!(g=t.md.helpers.parseLinkDestination(y,S,x)).ok)return!1;if(f=t.md.normalizeLink(g.str),!t.md.validateLink(f))return!1;for(a=S=g.pos,u=k+=g.lines,v=S;S<x;S++)if(10===(s=y.charCodeAt(S)))k++;else if(!i(s))break;for(g=t.md.helpers.parseLinkTitle(y,S,x),S<x&&v!==S&&g.ok?(_=g.str,S=g.pos,k+=g.lines):(_="",S=a,k=u);S<x&&(s=y.charCodeAt(S),i(s));)S++;if(S<x&&10!==y.charCodeAt(S)&&_)for(_="",S=a,k=u;S<x&&(s=y.charCodeAt(S),i(s));)S++;return!(S<x&&10!==y.charCodeAt(S)||!(p=n(y.slice(1,d)))||!o&&(void 0===t.env.references&&(t.env.references={}),void 0===t.env.references[p]&&(t.env.references[p]={title:_,href:f}),t.parentType=m,t.line=e+k+1,0))}},{"../common/utils":4}],28:[function(t,e,r){"use strict";function n(t,e,r,n){var i,s,a,u,c,f,l,h;for(this.src=t,this.md=e,this.env=r,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.parentType="root",this.level=0,this.result="",h=!1,a=u=f=l=0,c=(s=this.src).length;u<c;u++){if(i=s.charCodeAt(u),!h){if(o(i)){f++,9===i?l+=4-l%4:l++;continue}h=!0}10!==i&&u!==c-1||(10!==i&&u++,this.bMarks.push(a),this.eMarks.push(u),this.tShift.push(f),this.sCount.push(l),this.bsCount.push(0),h=!1,f=0,l=0,a=u+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}var i=t("../token"),o=t("../common/utils").isSpace;n.prototype.push=function(t,e,r){var n=new i(t,e,r);return n.block=!0,r<0&&this.level--,n.level=this.level,r>0&&this.level++,this.tokens.push(n),n},n.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},n.prototype.skipEmptyLines=function(t){for(var e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},n.prototype.skipSpaces=function(t){for(var e,r=this.src.length;t<r&&(e=this.src.charCodeAt(t),o(e));t++);return t},n.prototype.skipSpacesBack=function(t,e){if(t<=e)return t;for(;t>e;)if(!o(this.src.charCodeAt(--t)))return t+1;return t},n.prototype.skipChars=function(t,e){for(var r=this.src.length;t<r&&this.src.charCodeAt(t)===e;t++);return t},n.prototype.skipCharsBack=function(t,e,r){if(t<=r)return t;for(;t>r;)if(e!==this.src.charCodeAt(--t))return t+1;return t},n.prototype.getLines=function(t,e,r,n){var i,s,a,u,c,f,l,h=t;if(t>=e)return"";for(f=new Array(e-t),i=0;h<e;h++,i++){for(s=0,l=u=this.bMarks[h],c=h+1<e||n?this.eMarks[h]+1:this.eMarks[h];u<c&&s<r;){if(a=this.src.charCodeAt(u),o(a))9===a?s+=4-(s+this.bsCount[h])%4:s++;else{if(!(u-l<this.tShift[h]))break;s++}u++}f[i]=s>r?new Array(s-r+1).join(" ")+this.src.slice(u,c):this.src.slice(u,c)}return f.join("")},n.prototype.Token=i,e.exports=n},{"../common/utils":4,"../token":51}],29:[function(t,e,r){"use strict";function n(t,e){var r=t.bMarks[e]+t.blkIndent,n=t.eMarks[e];return t.src.substr(r,n-r)}function i(t){var e,r=[],n=0,i=t.length,o=0,s=0,a=!1,u=0;for(e=t.charCodeAt(n);n<i;)96===e?a?(a=!1,u=n):o%2==0&&(a=!0,u=n):124!==e||o%2!=0||a||(r.push(t.substring(s,n)),s=n+1),92===e?o++:o=0,++n===i&&a&&(a=!1,n=u+1),e=t.charCodeAt(n);return r.push(t.substring(s)),r}var o=t("../common/utils").isSpace;e.exports=function(t,e,r,s){var a,u,c,f,l,h,p,d,m,g,v,y;if(e+2>r)return!1;if(l=e+1,t.sCount[l]<t.blkIndent)return!1;if(t.sCount[l]-t.blkIndent>=4)return!1;if((c=t.bMarks[l]+t.tShift[l])>=t.eMarks[l])return!1;if(124!==(a=t.src.charCodeAt(c++))&&45!==a&&58!==a)return!1;for(;c<t.eMarks[l];){if(124!==(a=t.src.charCodeAt(c))&&45!==a&&58!==a&&!o(a))return!1;c++}for(h=(u=n(t,e+1)).split("|"),m=[],f=0;f<h.length;f++){if(!(g=h[f].trim())){if(0===f||f===h.length-1)continue;return!1}if(!/^:?-+:?$/.test(g))return!1;58===g.charCodeAt(g.length-1)?m.push(58===g.charCodeAt(0)?"center":"right"):58===g.charCodeAt(0)?m.push("left"):m.push("")}if(-1===(u=n(t,e).trim()).indexOf("|"))return!1;if(t.sCount[e]-t.blkIndent>=4)return!1;if(h=i(u.replace(/^\||\|$/g,"")),(p=h.length)>m.length)return!1;if(s)return!0;for((d=t.push("table_open","table",1)).map=v=[e,0],(d=t.push("thead_open","thead",1)).map=[e,e+1],(d=t.push("tr_open","tr",1)).map=[e,e+1],f=0;f<h.length;f++)(d=t.push("th_open","th",1)).map=[e,e+1],m[f]&&(d.attrs=[["style","text-align:"+m[f]]]),(d=t.push("inline","",0)).content=h[f].trim(),d.map=[e,e+1],d.children=[],d=t.push("th_close","th",-1);for(d=t.push("tr_close","tr",-1),d=t.push("thead_close","thead",-1),(d=t.push("tbody_open","tbody",1)).map=y=[e+2,0],l=e+2;l<r&&!(t.sCount[l]<t.blkIndent)&&-1!==(u=n(t,l).trim()).indexOf("|")&&!(t.sCount[l]-t.blkIndent>=4);l++){for(h=i(u.replace(/^\||\|$/g,"")),d=t.push("tr_open","tr",1),f=0;f<p;f++)d=t.push("td_open","td",1),m[f]&&(d.attrs=[["style","text-align:"+m[f]]]),(d=t.push("inline","",0)).content=h[f]?h[f].trim():"",d.children=[],d=t.push("td_close","td",-1);d=t.push("tr_close","tr",-1)}return d=t.push("tbody_close","tbody",-1),d=t.push("table_close","table",-1),v[1]=y[1]=l,t.line=l,!0}},{"../common/utils":4}],30:[function(t,e,r){"use strict";e.exports=function(t){var e;t.inlineMode?((e=new t.Token("inline","",0)).content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}},{}],31:[function(t,e,r){"use strict";e.exports=function(t){var e,r,n,i=t.tokens;for(r=0,n=i.length;r<n;r++)"inline"===(e=i[r]).type&&t.md.inline.parse(e.content,t.md,t.env,e.children)}},{}],32:[function(t,e,r){"use strict";function n(t){return/^<a[>\s]/i.test(t)}function i(t){return/^<\/a\s*>/i.test(t)}var o=t("../common/utils").arrayReplaceAt;e.exports=function(t){var e,r,s,a,u,c,f,l,h,p,d,m,g,v,y,b,w,_=t.tokens;if(t.md.options.linkify)for(r=0,s=_.length;r<s;r++)if("inline"===_[r].type&&t.md.linkify.pretest(_[r].content))for(g=0,e=(a=_[r].children).length-1;e>=0;e--)if("link_close"!==(c=a[e]).type){if("html_inline"===c.type&&(n(c.content)&&g>0&&g--,i(c.content)&&g++),!(g>0)&&"text"===c.type&&t.md.linkify.test(c.content)){for(h=c.content,w=t.md.linkify.match(h),f=[],m=c.level,d=0,l=0;l<w.length;l++)v=w[l].url,y=t.md.normalizeLink(v),t.md.validateLink(y)&&(b=w[l].text,b=w[l].schema?"mailto:"!==w[l].schema||/^mailto:/i.test(b)?t.md.normalizeLinkText(b):t.md.normalizeLinkText("mailto:"+b).replace(/^mailto:/,""):t.md.normalizeLinkText("http://"+b).replace(/^http:\/\//,""),(p=w[l].index)>d&&((u=new t.Token("text","",0)).content=h.slice(d,p),u.level=m,f.push(u)),(u=new t.Token("link_open","a",1)).attrs=[["href",y]],u.level=m++,u.markup="linkify",u.info="auto",f.push(u),(u=new t.Token("text","",0)).content=b,u.level=m,f.push(u),(u=new t.Token("link_close","a",-1)).level=--m,u.markup="linkify",u.info="auto",f.push(u),d=w[l].lastIndex);d<h.length&&((u=new t.Token("text","",0)).content=h.slice(d),u.level=m,f.push(u)),_[r].children=a=o(a,e,f)}}else for(e--;a[e].level!==c.level&&"link_open"!==a[e].type;)e--}},{"../common/utils":4}],33:[function(t,e,r){"use strict";var n=/\r[\n\u0085]?|[\u2424\u2028\u0085]/g,i=/\u0000/g;e.exports=function(t){var e;e=(e=t.src.replace(n,"\n")).replace(i,"�"),t.src=e}},{}],34:[function(t,e,r){"use strict";function n(t,e){return c[e.toLowerCase()]}function i(t){var e,r,i=0;for(e=t.length-1;e>=0;e--)"text"!==(r=t[e]).type||i||(r.content=r.content.replace(u,n)),"link_open"===r.type&&"auto"===r.info&&i--,"link_close"===r.type&&"auto"===r.info&&i++}function o(t){var e,r,n=0;for(e=t.length-1;e>=0;e--)"text"!==(r=t[e]).type||n||s.test(r.content)&&(r.content=r.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1—$2").replace(/(^|\s)--(\s|$)/gm,"$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1–$2")),"link_open"===r.type&&"auto"===r.info&&n--,"link_close"===r.type&&"auto"===r.info&&n++}var s=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,a=/\((c|tm|r|p)\)/i,u=/\((c|tm|r|p)\)/gi,c={c:"©",r:"®",p:"§",tm:"™"};e.exports=function(t){var e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&(a.test(t.tokens[e].content)&&i(t.tokens[e].children),s.test(t.tokens[e].content)&&o(t.tokens[e].children))}},{}],35:[function(t,e,r){"use strict";function n(t,e,r){return t.substr(0,e)+r+t.substr(e+1)}function i(t,e){var r,i,u,l,h,p,d,m,g,v,y,b,w,_,k,S,x,E,C,A,M;for(C=[],r=0;r<t.length;r++){for(i=t[r],d=t[r].level,x=C.length-1;x>=0&&!(C[x].level<=d);x--);if(C.length=x+1,"text"===i.type){h=0,p=(u=i.content).length;t:for(;h<p&&(c.lastIndex=h,l=c.exec(u));){if(k=S=!0,h=l.index+1,E="'"===l[0],g=32,l.index-1>=0)g=u.charCodeAt(l.index-1);else for(x=r-1;x>=0;x--)if("text"===t[x].type){g=t[x].content.charCodeAt(t[x].content.length-1);break}if(v=32,h<p)v=u.charCodeAt(h);else for(x=r+1;x<t.length;x++)if("text"===t[x].type){v=t[x].content.charCodeAt(0);break}if(y=a(g)||s(String.fromCharCode(g)),b=a(v)||s(String.fromCharCode(v)),w=o(g),(_=o(v))?k=!1:b&&(w||y||(k=!1)),w?S=!1:y&&(_||b||(S=!1)),34===v&&'"'===l[0]&&g>=48&&g<=57&&(S=k=!1),k&&S&&(k=!1,S=b),k||S){if(S)for(x=C.length-1;x>=0&&(m=C[x],!(C[x].level<d));x--)if(m.single===E&&C[x].level===d){m=C[x],E?(A=e.md.options.quotes[2],M=e.md.options.quotes[3]):(A=e.md.options.quotes[0],M=e.md.options.quotes[1]),i.content=n(i.content,l.index,M),t[m.token].content=n(t[m.token].content,m.pos,A),h+=M.length-1,m.token===r&&(h+=A.length-1),p=(u=i.content).length,C.length=x;continue t}k?C.push({token:r,pos:l.index,single:E,level:d}):S&&E&&(i.content=n(i.content,l.index,f))}else E&&(i.content=n(i.content,l.index,f))}}}}var o=t("../common/utils").isWhiteSpace,s=t("../common/utils").isPunctChar,a=t("../common/utils").isMdAsciiPunct,u=/['"]/,c=/['"]/g,f="’";e.exports=function(t){var e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&u.test(t.tokens[e].content)&&i(t.tokens[e].children,t)}},{"../common/utils":4}],36:[function(t,e,r){"use strict";function n(t,e,r){this.src=t,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=e}var i=t("../token");n.prototype.Token=i,e.exports=n},{"../token":51}],37:[function(t,e,r){"use strict";var n=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,i=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;e.exports=function(t,e){var r,o,s,a,u,c,f=t.pos;return 60===t.src.charCodeAt(f)&&!((r=t.src.slice(f)).indexOf(">")<0||(i.test(r)?(o=r.match(i),a=o[0].slice(1,-1),u=t.md.normalizeLink(a),!t.md.validateLink(u)||(e||((c=t.push("link_open","a",1)).attrs=[["href",u]],c.markup="autolink",c.info="auto",(c=t.push("text","",0)).content=t.md.normalizeLinkText(a),(c=t.push("link_close","a",-1)).markup="autolink",c.info="auto"),t.pos+=o[0].length,0)):!n.test(r)||(s=r.match(n),a=s[0].slice(1,-1),u=t.md.normalizeLink("mailto:"+a),!t.md.validateLink(u)||(e||((c=t.push("link_open","a",1)).attrs=[["href",u]],c.markup="autolink",c.info="auto",(c=t.push("text","",0)).content=t.md.normalizeLinkText(a),(c=t.push("link_close","a",-1)).markup="autolink",c.info="auto"),t.pos+=s[0].length,0))))}},{}],38:[function(t,e,r){"use strict";e.exports=function(t,e){var r,n,i,o,s,a,u=t.pos;if(96!==t.src.charCodeAt(u))return!1;for(r=u,u++,n=t.posMax;u<n&&96===t.src.charCodeAt(u);)u++;for(i=t.src.slice(r,u),o=s=u;-1!==(o=t.src.indexOf("`",s));){for(s=o+1;s<n&&96===t.src.charCodeAt(s);)s++;if(s-o===i.length)return e||((a=t.push("code_inline","code",0)).markup=i,a.content=t.src.slice(u,o).replace(/[ \n]+/g," ").trim()),t.pos=s,!0}return e||(t.pending+=i),t.pos+=i.length,!0}},{}],39:[function(t,e,r){"use strict";e.exports=function(t){var e,r,n,i,o=t.delimiters,s=t.delimiters.length;for(e=0;e<s;e++)if((n=o[e]).close)for(r=e-n.jump-1;r>=0;){if((i=o[r]).open&&i.marker===n.marker&&i.end<0&&i.level===n.level&&(!i.close&&!n.open||void 0===i.length||void 0===n.length||(i.length+n.length)%3!=0)){n.jump=e-r,n.open=!1,i.end=e,i.jump=0;break}r-=i.jump+1}}},{}],40:[function(t,e,r){"use strict";e.exports.tokenize=function(t,e){var r,n,i=t.pos,o=t.src.charCodeAt(i);if(e)return!1;if(95!==o&&42!==o)return!1;for(n=t.scanDelims(t.pos,42===o),r=0;r<n.length;r++)t.push("text","",0).content=String.fromCharCode(o),t.delimiters.push({marker:o,length:n.length,jump:r,token:t.tokens.length-1,level:t.level,end:-1,open:n.can_open,close:n.can_close});return t.pos+=n.length,!0},e.exports.postProcess=function(t){var e,r,n,i,o,s,a=t.delimiters,u=t.delimiters.length;for(e=0;e<u;e++)95!==(r=a[e]).marker&&42!==r.marker||-1!==r.end&&(n=a[r.end],s=e+1<u&&a[e+1].end===r.end-1&&a[e+1].token===r.token+1&&a[r.end-1].token===n.token-1&&a[e+1].marker===r.marker,o=String.fromCharCode(r.marker),(i=t.tokens[r.token]).type=s?"strong_open":"em_open",i.tag=s?"strong":"em",i.nesting=1,i.markup=s?o+o:o,i.content="",(i=t.tokens[n.token]).type=s?"strong_close":"em_close",i.tag=s?"strong":"em",i.nesting=-1,i.markup=s?o+o:o,i.content="",s&&(t.tokens[a[e+1].token].content="",t.tokens[a[r.end-1].token].content="",e++))}},{}],41:[function(t,e,r){"use strict";var n=t("../common/entities"),i=t("../common/utils").has,o=t("../common/utils").isValidEntityCode,s=t("../common/utils").fromCodePoint,a=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,u=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(t,e){var r,c,f=t.pos,l=t.posMax;if(38!==t.src.charCodeAt(f))return!1;if(f+1<l)if(35===t.src.charCodeAt(f+1)){if(c=t.src.slice(f).match(a))return e||(r="x"===c[1][0].toLowerCase()?parseInt(c[1].slice(1),16):parseInt(c[1],10),t.pending+=s(o(r)?r:65533)),t.pos+=c[0].length,!0}else if((c=t.src.slice(f).match(u))&&i(n,c[1]))return e||(t.pending+=n[c[1]]),t.pos+=c[0].length,!0;return e||(t.pending+="&"),t.pos++,!0}},{"../common/entities":1,"../common/utils":4}],42:[function(t,e,r){"use strict";for(var n=t("../common/utils").isSpace,i=[],o=0;o<256;o++)i.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){i[t.charCodeAt(0)]=1}),e.exports=function(t,e){var r,o=t.pos,s=t.posMax;if(92!==t.src.charCodeAt(o))return!1;if(++o<s){if((r=t.src.charCodeAt(o))<256&&0!==i[r])return e||(t.pending+=t.src[o]),t.pos+=2,!0;if(10===r){for(e||t.push("hardbreak","br",0),o++;o<s&&(r=t.src.charCodeAt(o),n(r));)o++;return t.pos=o,!0}}return e||(t.pending+="\\"),t.pos++,!0}},{"../common/utils":4}],43:[function(t,e,r){"use strict";var n=t("../common/html_re").HTML_TAG_RE;e.exports=function(t,e){var r,i,o,s=t.pos;return!(!t.md.options.html||(o=t.posMax,60!==t.src.charCodeAt(s)||s+2>=o||33!==(r=t.src.charCodeAt(s+1))&&63!==r&&47!==r&&!function(t){var e=32|t;return e>=97&&e<=122}(r)||!(i=t.src.slice(s).match(n))||(e||(t.push("html_inline","",0).content=t.src.slice(s,s+i[0].length)),t.pos+=i[0].length,0)))}},{"../common/html_re":3}],44:[function(t,e,r){"use strict";var n=t("../common/utils").normalizeReference,i=t("../common/utils").isSpace;e.exports=function(t,e){var r,o,s,a,u,c,f,l,h,p,d,m,g,v="",y=t.pos,b=t.posMax;if(33!==t.src.charCodeAt(t.pos))return!1;if(91!==t.src.charCodeAt(t.pos+1))return!1;if(c=t.pos+2,(u=t.md.helpers.parseLinkLabel(t,t.pos+1,!1))<0)return!1;if((f=u+1)<b&&40===t.src.charCodeAt(f)){for(f++;f<b&&(o=t.src.charCodeAt(f),i(o)||10===o);f++);if(f>=b)return!1;for(g=f,(h=t.md.helpers.parseLinkDestination(t.src,f,t.posMax)).ok&&(v=t.md.normalizeLink(h.str),t.md.validateLink(v)?f=h.pos:v=""),g=f;f<b&&(o=t.src.charCodeAt(f),i(o)||10===o);f++);if(h=t.md.helpers.parseLinkTitle(t.src,f,t.posMax),f<b&&g!==f&&h.ok)for(p=h.str,f=h.pos;f<b&&(o=t.src.charCodeAt(f),i(o)||10===o);f++);else p="";if(f>=b||41!==t.src.charCodeAt(f))return t.pos=y,!1;f++}else{if(void 0===t.env.references)return!1;if(f<b&&91===t.src.charCodeAt(f)?(g=f+1,(f=t.md.helpers.parseLinkLabel(t,f))>=0?a=t.src.slice(g,f++):f=u+1):f=u+1,a||(a=t.src.slice(c,u)),!(l=t.env.references[n(a)]))return t.pos=y,!1;v=l.href,p=l.title}return e||(s=t.src.slice(c,u),t.md.inline.parse(s,t.md,t.env,m=[]),(d=t.push("image","img",0)).attrs=r=[["src",v],["alt",""]],d.children=m,d.content=s,p&&r.push(["title",p])),t.pos=f,t.posMax=b,!0}},{"../common/utils":4}],45:[function(t,e,r){"use strict";var n=t("../common/utils").normalizeReference,i=t("../common/utils").isSpace;e.exports=function(t,e){var r,o,s,a,u,c,f,l,h,p="",d=t.pos,m=t.posMax,g=t.pos,v=!0;if(91!==t.src.charCodeAt(t.pos))return!1;if(u=t.pos+1,(a=t.md.helpers.parseLinkLabel(t,t.pos,!0))<0)return!1;if((c=a+1)<m&&40===t.src.charCodeAt(c)){for(v=!1,c++;c<m&&(o=t.src.charCodeAt(c),i(o)||10===o);c++);if(c>=m)return!1;for(g=c,(f=t.md.helpers.parseLinkDestination(t.src,c,t.posMax)).ok&&(p=t.md.normalizeLink(f.str),t.md.validateLink(p)?c=f.pos:p=""),g=c;c<m&&(o=t.src.charCodeAt(c),i(o)||10===o);c++);if(f=t.md.helpers.parseLinkTitle(t.src,c,t.posMax),c<m&&g!==c&&f.ok)for(h=f.str,c=f.pos;c<m&&(o=t.src.charCodeAt(c),i(o)||10===o);c++);else h="";(c>=m||41!==t.src.charCodeAt(c))&&(v=!0),c++}if(v){if(void 0===t.env.references)return!1;if(c<m&&91===t.src.charCodeAt(c)?(g=c+1,(c=t.md.helpers.parseLinkLabel(t,c))>=0?s=t.src.slice(g,c++):c=a+1):c=a+1,s||(s=t.src.slice(u,a)),!(l=t.env.references[n(s)]))return t.pos=d,!1;p=l.href,h=l.title}return e||(t.pos=u,t.posMax=a,t.push("link_open","a",1).attrs=r=[["href",p]],h&&r.push(["title",h]),t.md.inline.tokenize(t),t.push("link_close","a",-1)),t.pos=c,t.posMax=m,!0}},{"../common/utils":4}],46:[function(t,e,r){"use strict";var n=t("../common/utils").isSpace;e.exports=function(t,e){var r,i,o=t.pos;if(10!==t.src.charCodeAt(o))return!1;for(r=t.pending.length-1,i=t.posMax,e||(r>=0&&32===t.pending.charCodeAt(r)?r>=1&&32===t.pending.charCodeAt(r-1)?(t.pending=t.pending.replace(/ +$/,""),t.push("hardbreak","br",0)):(t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0)):t.push("softbreak","br",0)),o++;o<i&&n(t.src.charCodeAt(o));)o++;return t.pos=o,!0}},{"../common/utils":4}],47:[function(t,e,r){"use strict";function n(t,e,r,n){this.src=t,this.env=r,this.md=e,this.tokens=n,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[]}var i=t("../token"),o=t("../common/utils").isWhiteSpace,s=t("../common/utils").isPunctChar,a=t("../common/utils").isMdAsciiPunct;n.prototype.pushPending=function(){var t=new i("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t},n.prototype.push=function(t,e,r){this.pending&&this.pushPending();var n=new i(t,e,r);return r<0&&this.level--,n.level=this.level,r>0&&this.level++,this.pendingLevel=this.level,this.tokens.push(n),n},n.prototype.scanDelims=function(t,e){var r,n,i,u,c,f,l,h,p,d=t,m=!0,g=!0,v=this.posMax,y=this.src.charCodeAt(t);for(r=t>0?this.src.charCodeAt(t-1):32;d<v&&this.src.charCodeAt(d)===y;)d++;return i=d-t,n=d<v?this.src.charCodeAt(d):32,l=a(r)||s(String.fromCharCode(r)),p=a(n)||s(String.fromCharCode(n)),f=o(r),(h=o(n))?m=!1:p&&(f||l||(m=!1)),f?g=!1:l&&(h||p||(g=!1)),e?(u=m,c=g):(u=m&&(!g||l),c=g&&(!m||p)),{can_open:u,can_close:c,length:i}},n.prototype.Token=i,e.exports=n},{"../common/utils":4,"../token":51}],48:[function(t,e,r){"use strict";e.exports.tokenize=function(t,e){var r,n,i,o,s=t.pos,a=t.src.charCodeAt(s);if(e)return!1;if(126!==a)return!1;if(n=t.scanDelims(t.pos,!0),i=n.length,o=String.fromCharCode(a),i<2)return!1;for(i%2&&(t.push("text","",0).content=o,i--),r=0;r<i;r+=2)t.push("text","",0).content=o+o,t.delimiters.push({marker:a,jump:r,token:t.tokens.length-1,level:t.level,end:-1,open:n.can_open,close:n.can_close});return t.pos+=n.length,!0},e.exports.postProcess=function(t){var e,r,n,i,o,s=[],a=t.delimiters,u=t.delimiters.length;for(e=0;e<u;e++)126===(n=a[e]).marker&&-1!==n.end&&(i=a[n.end],(o=t.tokens[n.token]).type="s_open",o.tag="s",o.nesting=1,o.markup="~~",o.content="",(o=t.tokens[i.token]).type="s_close",o.tag="s",o.nesting=-1,o.markup="~~",o.content="","text"===t.tokens[i.token-1].type&&"~"===t.tokens[i.token-1].content&&s.push(i.token-1));for(;s.length;){for(r=(e=s.pop())+1;r<t.tokens.length&&"s_close"===t.tokens[r].type;)r++;e!==--r&&(o=t.tokens[r],t.tokens[r]=t.tokens[e],t.tokens[e]=o)}}},{}],49:[function(t,e,r){"use strict";function n(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(t,e){for(var r=t.pos;r<t.posMax&&!n(t.src.charCodeAt(r));)r++;return r!==t.pos&&(e||(t.pending+=t.src.slice(t.pos,r)),t.pos=r,!0)}},{}],50:[function(t,e,r){"use strict";e.exports=function(t){var e,r,n=0,i=t.tokens,o=t.tokens.length;for(e=r=0;e<o;e++)n+=i[e].nesting,i[e].level=n,"text"===i[e].type&&e+1<o&&"text"===i[e+1].type?i[e+1].content=i[e].content+i[e+1].content:(e!==r&&(i[r]=i[e]),r++);e!==r&&(i.length=r)}},{}],51:[function(t,e,r){"use strict";function n(t,e,r){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}n.prototype.attrIndex=function(t){var e,r,n;if(!this.attrs)return-1;for(r=0,n=(e=this.attrs).length;r<n;r++)if(e[r][0]===t)return r;return-1},n.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},n.prototype.attrSet=function(t,e){var r=this.attrIndex(t),n=[t,e];r<0?this.attrPush(n):this.attrs[r]=n},n.prototype.attrGet=function(t){var e=this.attrIndex(t),r=null;return e>=0&&(r=this.attrs[e][1]),r},n.prototype.attrJoin=function(t,e){var r=this.attrIndex(t);r<0?this.attrPush([t,e]):this.attrs[r][1]=this.attrs[r][1]+" "+e},e.exports=n},{}],52:[function(t,e,r){e.exports={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅",in:"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺",int:"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}},{}],53:[function(t,e,r){"use strict";function n(t){return Array.prototype.slice.call(arguments,1).forEach(function(e){e&&Object.keys(e).forEach(function(r){t[r]=e[r]})}),t}function i(t){return Object.prototype.toString.call(t)}function o(t){return"[object String]"===i(t)}function s(t){return"[object Object]"===i(t)}function a(t){return"[object RegExp]"===i(t)}function u(t){return"[object Function]"===i(t)}function c(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function f(e){function r(t){return t.replace("%TLDS%",i.src_tlds)}function n(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}var i=e.re=t("./lib/re")(e.__opts__),f=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||f.push(m),f.push(i.src_xn),i.src_tlds=f.join("|"),i.email_fuzzy=RegExp(r(i.tpl_email_fuzzy),"i"),i.link_fuzzy=RegExp(r(i.tpl_link_fuzzy),"i"),i.link_no_ip_fuzzy=RegExp(r(i.tpl_link_no_ip_fuzzy),"i"),i.host_fuzzy_test=RegExp(r(i.tpl_host_fuzzy_test),"i");var l=[];e.__compiled__={},Object.keys(e.__schemas__).forEach(function(t){var r=e.__schemas__[t];if(null!==r){var i={validate:null,link:null};if(e.__compiled__[t]=i,s(r))return a(r.validate)?i.validate=function(t){return function(e,r){var n=e.slice(r);return t.test(n)?n.match(t)[0].length:0}}(r.validate):u(r.validate)?i.validate=r.validate:n(t,r),void(u(r.normalize)?i.normalize=r.normalize:r.normalize?n(t,r):i.normalize=function(t,e){e.normalize(t)});o(r)?l.push(t):n(t,r)}}),l.forEach(function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)}),e.__compiled__[""]={validate:null,normalize:function(t,e){e.normalize(t)}};var h=Object.keys(e.__compiled__).filter(function(t){return t.length>0&&e.__compiled__[t]}).map(c).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+i.src_ZPCc+"))("+h+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+i.src_ZPCc+"))("+h+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(t){t.__index__=-1,t.__text_cache__=""}(e)}function l(t,e){var r=new function(t,e){var r=t.__index__,n=t.__last_index__,i=t.__text_cache__.slice(r,n);this.schema=t.__schema__.toLowerCase(),this.index=r+e,this.lastIndex=n+e,this.raw=i,this.text=i,this.url=i}(t,e);return t.__compiled__[r.schema].normalize(r,t),r}function h(t,e){if(!(this instanceof h))return new h(t,e);e||function(t){return Object.keys(t||{}).reduce(function(t,e){return t||p.hasOwnProperty(e)},!1)}(t)&&(e=t,t={}),this.__opts__=n({},p,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},d,t),this.__compiled__={},this.__tlds__=g,this.__tlds_replaced__=!1,this.re={},f(this)}var p={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},d={"http:":{validate:function(t,e,r){var n=t.slice(e);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,r){var n=t.slice(e);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?e>=3&&":"===t[e-3]?0:e>=3&&"/"===t[e-3]?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,r){var n=t.slice(e);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},m="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",g="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");h.prototype.add=function(t,e){return this.__schemas__[t]=e,f(this),this},h.prototype.set=function(t){return this.__opts__=n(this.__opts__,t),this},h.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var e,r,n,i,o,s,a,u;if(this.re.schema_test.test(t))for((a=this.re.schema_search).lastIndex=0;null!==(e=a.exec(t));)if(i=this.testSchemaAt(t,e[2],a.lastIndex)){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=t.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||u<this.__index__)&&null!==(r=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=r.index+r[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=r.index+r[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&t.indexOf("@")>=0&&null!==(n=t.match(this.re.email_fuzzy))&&(o=n.index+n[1].length,s=n.index+n[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=s)),this.__index__>=0},h.prototype.pretest=function(t){return this.re.pretest.test(t)},h.prototype.testSchemaAt=function(t,e,r){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,r,this):0},h.prototype.match=function(t){var e=0,r=[];this.__index__>=0&&this.__text_cache__===t&&(r.push(l(this,e)),e=this.__last_index__);for(var n=e?t.slice(e):t;this.test(n);)r.push(l(this,e)),n=n.slice(this.__last_index__),e+=this.__last_index__;return r.length?r:null},h.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(t,e,r){return t!==r[e-1]}).reverse(),f(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,f(this),this)},h.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},h.prototype.onCompile=function(){},e.exports=h},{"./lib/re":54}],54:[function(t,e,r){"use strict";e.exports=function(e){var r={};return r.src_Any=t("uc.micro/properties/Any/regex").source,r.src_Cc=t("uc.micro/categories/Cc/regex").source,r.src_Z=t("uc.micro/categories/Z/regex").source,r.src_P=t("uc.micro/categories/P/regex").source,r.src_ZPCc=[r.src_Z,r.src_P,r.src_Cc].join("|"),r.src_ZCc=[r.src_Z,r.src_Cc].join("|"),r.src_pseudo_letter="(?:(?![><｜]|"+r.src_ZPCc+")"+r.src_Any+")",r.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",r.src_auth="(?:(?:(?!"+r.src_ZCc+"|[@/\\[\\]()]).)+@)?",r.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",r.src_host_terminator="(?=$|[><｜]|"+r.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+r.src_ZPCc+"))",r.src_path="(?:[/?#](?:(?!"+r.src_ZCc+"|[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+r.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+r.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+r.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+r.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+r.src_ZCc+"|[']).)+\\'|\\'(?="+r.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+r.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+r.src_ZCc+").|\\!(?!"+r.src_ZCc+"|[!]).|\\?(?!"+r.src_ZCc+"|[?]).)+|\\/)?",r.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',r.src_xn="xn--[a-z0-9\\-]{1,59}",r.src_domain_root="(?:"+r.src_xn+"|"+r.src_pseudo_letter+"{1,63})",r.src_domain="(?:"+r.src_xn+"|(?:"+r.src_pseudo_letter+")|(?:"+r.src_pseudo_letter+"(?:-(?!-)|"+r.src_pseudo_letter+"){0,61}"+r.src_pseudo_letter+"))",r.src_host="(?:(?:(?:(?:"+r.src_domain+")\\.)*"+r.src_domain+"))",r.tpl_host_fuzzy="(?:"+r.src_ip4+"|(?:(?:(?:"+r.src_domain+")\\.)+(?:%TLDS%)))",r.tpl_host_no_ip_fuzzy="(?:(?:(?:"+r.src_domain+")\\.)+(?:%TLDS%))",r.src_host_strict=r.src_host+r.src_host_terminator,r.tpl_host_fuzzy_strict=r.tpl_host_fuzzy+r.src_host_terminator,r.src_host_port_strict=r.src_host+r.src_port+r.src_host_terminator,r.tpl_host_port_fuzzy_strict=r.tpl_host_fuzzy+r.src_port+r.src_host_terminator,r.tpl_host_port_no_ip_fuzzy_strict=r.tpl_host_no_ip_fuzzy+r.src_port+r.src_host_terminator,r.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+r.src_ZPCc+"|>|$))",r.tpl_email_fuzzy="(^|[><｜]|\\(|"+r.src_ZCc+")("+r.src_email_name+"@"+r.tpl_host_fuzzy_strict+")",r.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+r.src_ZPCc+"))((?![$+<=>^`|｜])"+r.tpl_host_port_fuzzy_strict+r.src_path+")",r.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+r.src_ZPCc+"))((?![$+<=>^`|｜])"+r.tpl_host_port_no_ip_fuzzy_strict+r.src_path+")",r}},{"uc.micro/categories/Cc/regex":61,"uc.micro/categories/P/regex":63,"uc.micro/categories/Z/regex":64,"uc.micro/properties/Any/regex":66}],55:[function(t,e,r){"use strict";function n(t,e){var r;return"string"!=typeof e&&(e=n.defaultChars),r=function(t){var e,r,n=i[t];if(n)return n;for(n=i[t]=[],e=0;e<128;e++)r=String.fromCharCode(e),n.push(r);for(e=0;e<t.length;e++)n[r=t.charCodeAt(e)]="%"+("0"+r.toString(16).toUpperCase()).slice(-2);return n}(e),t.replace(/(%[a-f0-9]{2})+/gi,function(t){var e,n,i,o,s,a,u,c="";for(e=0,n=t.length;e<n;e+=3)(i=parseInt(t.slice(e+1,e+3),16))<128?c+=r[i]:192==(224&i)&&e+3<n&&128==(192&(o=parseInt(t.slice(e+4,e+6),16)))?(c+=(u=i<<6&1984|63&o)<128?"��":String.fromCharCode(u),e+=3):224==(240&i)&&e+6<n&&(o=parseInt(t.slice(e+4,e+6),16),s=parseInt(t.slice(e+7,e+9),16),128==(192&o)&&128==(192&s))?(c+=(u=i<<12&61440|o<<6&4032|63&s)<2048||u>=55296&&u<=57343?"���":String.fromCharCode(u),e+=6):240==(248&i)&&e+9<n&&(o=parseInt(t.slice(e+4,e+6),16),s=parseInt(t.slice(e+7,e+9),16),a=parseInt(t.slice(e+10,e+12),16),128==(192&o)&&128==(192&s)&&128==(192&a))?((u=i<<18&1835008|o<<12&258048|s<<6&4032|63&a)<65536||u>1114111?c+="����":(u-=65536,c+=String.fromCharCode(55296+(u>>10),56320+(1023&u))),e+=9):c+="�";return c})}var i={};n.defaultChars=";/?:@&=+$,#",n.componentChars="",e.exports=n},{}],56:[function(t,e,r){"use strict";function n(t){var e,r,n=o[t];if(n)return n;for(n=o[t]=[],e=0;e<128;e++)r=String.fromCharCode(e),/^[0-9a-z]$/i.test(r)?n.push(r):n.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)n[t.charCodeAt(e)]=t[e];return n}function i(t,e,r){var o,s,a,u,c,f="";for("string"!=typeof e&&(r=e,e=i.defaultChars),void 0===r&&(r=!0),c=n(e),o=0,s=t.length;o<s;o++)if(a=t.charCodeAt(o),r&&37===a&&o+2<s&&/^[0-9a-f]{2}$/i.test(t.slice(o+1,o+3)))f+=t.slice(o,o+3),o+=2;else if(a<128)f+=c[a];else if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&o+1<s&&(u=t.charCodeAt(o+1))>=56320&&u<=57343){f+=encodeURIComponent(t[o]+t[o+1]),o++;continue}f+="%EF%BF%BD"}else f+=encodeURIComponent(t[o]);return f}var o={};i.defaultChars=";/?:@&=+$,-_.!~*'()#",i.componentChars="-_.!~*'()",e.exports=i},{}],57:[function(t,e,r){"use strict";e.exports=function(t){var e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&-1!==t.hostname.indexOf(":")?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||""}},{}],58:[function(t,e,r){"use strict";e.exports.encode=t("./encode"),e.exports.decode=t("./decode"),e.exports.format=t("./format"),e.exports.parse=t("./parse")},{"./decode":55,"./encode":56,"./format":57,"./parse":59}],59:[function(t,e,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var i=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,a=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(a),c=["%","/","?",";","#"].concat(u),f=["/","?","#"],l=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},d={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};n.prototype.parse=function(t,e){var r,n,o,a,u,m=t;if(m=m.trim(),!e&&1===t.split("#").length){var g=s.exec(m);if(g)return this.pathname=g[1],g[2]&&(this.search=g[2]),this}var v=i.exec(m);if(v&&(o=(v=v[0]).toLowerCase(),this.protocol=v,m=m.substr(v.length)),(e||v||m.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(u="//"===m.substr(0,2))||v&&p[v]||(m=m.substr(2),this.slashes=!0)),!p[v]&&(u||v&&!d[v])){var y,b,w=-1;for(r=0;r<f.length;r++)-1!==(a=m.indexOf(f[r]))&&(-1===w||a<w)&&(w=a);for(-1!==(b=-1===w?m.lastIndexOf("@"):m.lastIndexOf("@",w))&&(y=m.slice(0,b),m=m.slice(b+1),this.auth=y),w=-1,r=0;r<c.length;r++)-1!==(a=m.indexOf(c[r]))&&(-1===w||a<w)&&(w=a);-1===w&&(w=m.length),":"===m[w-1]&&w--;var _=m.slice(0,w);m=m.slice(w),this.parseHost(_),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k){var S=this.hostname.split(/\./);for(r=0,n=S.length;r<n;r++){var x=S[r];if(x&&!x.match(l)){for(var E="",C=0,A=x.length;C<A;C++)x.charCodeAt(C)>127?E+="x":E+=x[C];if(!E.match(l)){var M=S.slice(0,r),I=S.slice(r+1),T=x.match(h);T&&(M.push(T[1]),I.unshift(T[2])),I.length&&(m=I.join(".")+m),this.hostname=M.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var O=m.indexOf("#");-1!==O&&(this.hash=m.substr(O),m=m.slice(0,O));var B=m.indexOf("?");return-1!==B&&(this.search=m.substr(B),m=m.slice(0,B)),m&&(this.pathname=m),d[o]&&this.hostname&&!this.pathname&&(this.pathname=""),this},n.prototype.parseHost=function(t){var e=o.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},e.exports=function(t,e){if(t&&t instanceof n)return t;var r=new n;return r.parse(t,e),r}},{}],60:[function(t,r,n){(function(t){!function(e){function i(t){throw new RangeError(O[t])}function o(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function s(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+o((t=t.replace(T,".")).split("."),e).join(".")}function a(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function u(t){return o(t,function(t){var e="";return t>65535&&(e+=N((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=N(t)}).join("")}function c(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:w}function f(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function l(t,e,r){var n=0;for(t=r?P(t/x):t>>1,t+=P(t/e);t>B*k>>1;n+=w)t=P(t/B);return P(n+(B+1)*t/(t+S))}function h(t){var e,r,n,o,s,a,f,h,p,d,m=[],g=t.length,v=0,y=C,S=E;for((r=t.lastIndexOf(A))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&i("not-basic"),m.push(t.charCodeAt(n));for(o=r>0?r+1:0;o<g;){for(s=v,a=1,f=w;o>=g&&i("invalid-input"),((h=c(t.charCodeAt(o++)))>=w||h>P((b-v)/a))&&i("overflow"),v+=h*a,!(h<(p=f<=S?_:f>=S+k?k:f-S));f+=w)a>P(b/(d=w-p))&&i("overflow"),a*=d;S=l(v-s,e=m.length+1,0==s),P(v/e)>b-y&&i("overflow"),y+=P(v/e),v%=e,m.splice(v++,0,y)}return u(m)}function p(t){var e,r,n,o,s,u,c,h,p,d,m,g,v,y,S,x=[];for(g=(t=a(t)).length,e=C,r=0,s=E,u=0;u<g;++u)(m=t[u])<128&&x.push(N(m));for(n=o=x.length,o&&x.push(A);n<g;){for(c=b,u=0;u<g;++u)(m=t[u])>=e&&m<c&&(c=m);for(c-e>P((b-r)/(v=n+1))&&i("overflow"),r+=(c-e)*v,e=c,u=0;u<g;++u)if((m=t[u])<e&&++r>b&&i("overflow"),m==e){for(h=r,p=w;!(h<(d=p<=s?_:p>=s+k?k:p-s));p+=w)S=h-d,y=w-d,x.push(N(f(d+S%y,0))),h=P(S/y);x.push(N(f(h,0))),s=l(r,v,n==o),r=0,++n}++r,++e}return x.join("")}var d="object"==typeof n&&n&&!n.nodeType&&n,m="object"==typeof r&&r&&!r.nodeType&&r,g="object"==typeof t&&t;g.global!==g&&g.window!==g&&g.self!==g||(e=g);var v,y,b=2147483647,w=36,_=1,k=26,S=38,x=700,E=72,C=128,A="-",M=/^xn--/,I=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},B=w-_,P=Math.floor,N=String.fromCharCode;if(v={version:"1.4.1",ucs2:{decode:a,encode:u},decode:h,encode:p,toASCII:function(t){return s(t,function(t){return I.test(t)?"xn--"+p(t):t})},toUnicode:function(t){return s(t,function(t){return M.test(t)?h(t.slice(4).toLowerCase()):t})}},d&&m)if(r.exports==d)m.exports=v;else for(y in v)v.hasOwnProperty(y)&&(d[y]=v[y]);else e.punycode=v}(this)}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],61:[function(t,e,r){e.exports=/[\0-\x1F\x7F-\x9F]/},{}],62:[function(t,e,r){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},{}],63:[function(t,e,r){e.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E44\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},{}],64:[function(t,e,r){e.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},{}],65:[function(t,e,r){"use strict";r.Any=t("./properties/Any/regex"),r.Cc=t("./categories/Cc/regex"),r.Cf=t("./categories/Cf/regex"),r.P=t("./categories/P/regex"),r.Z=t("./categories/Z/regex")},{"./categories/Cc/regex":61,"./categories/Cf/regex":62,"./categories/P/regex":63,"./categories/Z/regex":64,"./properties/Any/regex":66}],66:[function(t,e,r){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},{}],67:[function(t,e,r){"use strict";e.exports=t("./lib/")},{"./lib/":9}]},{},[67])(67)}).call(this,r(7))},function(t,e,r){"use strict";var n,i=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(s,a)}u((n=n.apply(t,e||[])).next())})},s=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var a,u=r(5),c=r(70),f=r(220),l=r(135),h=r(382),p=r(111),d=r(244),m=r(685),g=r(684),v=r(374);!function(t){t[t.FollowingsFeeds=0]="FollowingsFeeds",t[t.TopicsFeeds=1]="TopicsFeeds",t[t.Settings=2]="Settings",t[t.Notifications=3]="Notifications"}(a||(a={}));var y=function(t){function e(e){var r=t.call(this,e)||this;return r.toggleEditPanel=function(){var t=r.state.showEditPanel;r.setState({showEditPanel:!t})},r.switchPanel=function(t){return function(e){r.setState({panel:t,feeds:[]},function(){t===a.FollowingsFeeds?r.showUserFeeds(r.props.ribbit):t===a.Notifications&&r.showNotificationFeeds(r.props.ribbit)})}},r.searchBoxKeydown=function(t){return o(r,void 0,void 0,function(){var e,r,n;return s(this,function(i){switch(i.label){case 0:return(e=this.state.searchBoxValue.trim()).length?(r=this.props.ribbit,13!==t.which?[3,3]:r.web3.utils.isAddress(e)?[4,r.getUsernameFromAddress(e)]:[3,2]):[2];case 1:return(n=i.sent())&&n.length?window.open(window.location.pathname+"#/"+r.networkId+"/profile/"+n,"_blank"):alert("User with address "+e+" doesn't exist."),[3,3];case 2:e.startsWith("@")?window.open(window.location.pathname+"#/"+r.networkId+"/profile/"+e.slice(1),"_blank"):window.open(window.location.pathname+"#/"+r.networkId+"/topic/"+encodeURIComponent(e),"_blank"),i.label=3;case 3:return[2]}})})},r.state={showEditPanel:!1,msg:"",feeds:[],loading:!1,userInfo:null,panel:a.FollowingsFeeds,searchBoxValue:""},r}return i(e,t),e.prototype.componentDidMount=function(){var t=this.props.ribbit;f.checkUserRegistration(t),this.showUserHome(t)},e.prototype.componentWillReceiveProps=function(t){this.props.ribbit!==t.ribbit&&(f.checkUserRegistration(t.ribbit),this.showUserHome(t.ribbit))},e.prototype.showUserHome=function(t){var e=this;t&&(this.showUserFeeds(t),t.getUserInfoFromAddress(t.accountAddress).then(function(t){e.setState({userInfo:t})}))},e.prototype.showUserFeeds=function(t){var e=this;t&&this.setState({loading:!0},function(){t.getFeedsFromUser(t.accountAddress,{num:-1},function(r,n,i){return o(e,void 0,void 0,function(){var e,n,o,a,u;return s(this,function(s){switch(s.label){case 0:return r?[2,this.setState({loading:!1})]:(console.log(i.decodedInputData.name),"post"!==i.decodedInputData.name?[2]:[4,t.retrieveMessage(i.decodedInputData.params.message.value)]);case 1:return e=s.sent(),n=i.decodedInputData.name,[4,c.generateSummaryFromHTML(l.renderMarkdown(e),this.props.ribbit)];case 2:return o=s.sent(),[4,t.getUserInfoFromAddress(i.from)];case 3:return a=s.sent(),[4,t.getFeedStateInfo(i.hash)];case 4:return u=s.sent(),this.state.feeds.push({summary:o,transactionInfo:i,userInfo:a,stateInfo:u,feedType:n}),this.forceUpdate(),[2]}})})})})},e.prototype.showNotificationFeeds=function(t){var e=this;t&&this.setState({loading:!0},function(){t.getFeedsFromTagByTime(t.accountAddress,{num:-1},function(r,n,i){return o(e,void 0,void 0,function(){var e,o,a,u,f;return s(this,function(s){switch(s.label){case 0:return console.log("showNotificationFeeds: ",r,n,i),r?[2,this.setState({loading:!1})]:[4,t.retrieveMessage(i.decodedInputData.params.message.value)];case 1:return e=s.sent(),o=i.decodedInputData.name,[4,c.generateSummaryFromHTML(l.renderMarkdown(e),this.props.ribbit)];case 2:return a=s.sent(),[4,t.getUserInfoFromAddress(i.from)];case 3:return u=s.sent(),[4,t.getFeedStateInfo(i.hash)];case 4:return f=s.sent(),this.state.feeds.push({summary:a,transactionInfo:i,userInfo:u,stateInfo:f,feedType:o}),this.forceUpdate(),[2]}})})})})},e.prototype.render=function(){var t=this,e=null;if(this.state.panel===a.FollowingsFeeds?e=u.createElement("div",{className:"cards"},this.state.feeds.map(function(e,r){return u.createElement(p.default,{key:r,feedInfo:e,ribbit:t.props.ribbit})}),u.createElement("p",{id:"feed-footer"}," ",this.state.loading?"Loading...":"No more feeds ;)"," ")):this.state.panel===a.Settings?e=u.createElement("div",{className:"settings-panel"},u.createElement(v.default,{ribbit:this.props.ribbit})):this.state.panel===a.Notifications&&(e=u.createElement("div",{className:"cards"},this.state.feeds.map(function(e,r){return u.createElement(p.default,{key:r,feedInfo:e,ribbit:t.props.ribbit})}),u.createElement("p",{id:"feed-footer"}," ",this.state.loading?"Loading...":"No more feeds ;)"," "))),this.props.ribbit&&this.props.ribbit.accountAddress){this.props.ribbit;return u.createElement("div",{className:"home"},u.createElement("div",{className:"left-panel"},u.createElement(d.default,{userInfo:this.state.userInfo,ribbit:this.props.ribbit}),u.createElement(g.default,{ribbit:this.props.ribbit})),u.createElement("div",{className:"middle-panel"},u.createElement("div",{className:"top-bar card"},u.createElement("div",{className:"search-box-wrapper"},u.createElement("input",{className:"search-box",placeholder:"Enter user address here or the topic that you are interested to start searching",value:this.state.searchBoxValue,onChange:function(e){t.setState({searchBoxValue:e.target.value})},onKeyDown:this.searchBoxKeydown})),u.createElement("div",{className:"icon-groups"},u.createElement("i",{className:"icon fas fa-home"+(this.state.panel===a.FollowingsFeeds?" selected":""),onClick:this.switchPanel(a.FollowingsFeeds)}),u.createElement("i",{className:"icon fab fa-slack-hash"+(this.state.panel===a.TopicsFeeds?" selected":""),onClick:this.switchPanel(a.TopicsFeeds)}),u.createElement("i",{className:"icon fas fa-bell"+(this.state.panel===a.Notifications?" selected":""),onClick:this.switchPanel(a.Notifications)}),u.createElement("i",{className:"icon fas fa-cog"+(this.state.panel===a.Settings?" selected":""),onClick:this.switchPanel(a.Settings)}))),e),u.createElement("div",{className:"right-panel"},u.createElement("div",{className:"post-btn-group"},u.createElement("div",{className:"ribbit-btn btn",onClick:this.toggleEditPanel},u.createElement("i",{className:"fas fa-pen-square"}),"Ribbit"),u.createElement("a",{href:"https://github.com/shd101wyy/ribbit",target:"_blank"},u.createElement("div",{className:"github-btn btn"},u.createElement("i",{className:"fab fa-github"}))),u.createElement("a",{href:"https://github.com/shd101wyy/ribbit/issues",target:"_blank"},u.createElement("div",{className:"bug-btn github-btn btn"},u.createElement("i",{className:"fas fa-bug"}))),u.createElement("a",{href:"https://ethgasstation.info/",target:"_blank"},u.createElement("div",{className:"github-btn btn"},u.createElement("i",{className:"fas fa-fire"})))),u.createElement(m.default,{ribbit:this.props.ribbit})),this.state.showEditPanel?u.createElement(h.default,{cancel:this.toggleEditPanel,ribbit:this.props.ribbit}):null)}return u.createElement("div",{className:"home"},u.createElement("h1",{className:"title is-1"},"Please make sure"," ",u.createElement("a",{href:"https://metamask.io/",target:"_blank"},"MetaMask")," ","is working in your browser."))},e}(u.Component);e.default=y},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var r=e.protocol+"//"+e.host,n=r+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?r+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,e,r){(t.exports=r(384)(!1)).push([t.i,'html,\nbody {\n  height: 100%;\n  width: 100%;\n  padding: 0;\n  margin: 0;\n  background: #f6f6f6;\n  font-family: "Helvetica Neue", arial, sans-serif;\n  font-weight: 400;\n  color: #444;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n* {\n  box-sizing: border-box;\n}\n#root {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  top: 0;\n  left: 0;\n  overflow: scroll;\n}\na:not([href]) {\n  color: inherit;\n  text-decoration: none;\n}\na {\n  color: #08c;\n  text-decoration: none;\n}\na:hover {\n  color: #00a3f5;\n  text-decoration: none;\n}\ninput {\n  width: 100%;\n  padding: 12px;\n  border: none;\n  border-bottom: 1px solid #f5f5f5;\n}\ninput:focus {\n  outline: none;\n  background-color: #e3eadd;\n  color: #222;\n}\ncode {\n  padding: 0.2em 0.4em;\n  margin: 0;\n  /* font-size: 85%; */\n  background-color: rgba(27, 31, 35, 0.05);\n  border-radius: 3px;\n}\n.tag .topic {\n  border-radius: 2px;\n  cursor: pointer;\n  color: #19a6bf;\n  font-weight: 400;\n}\n.tag .topic:before {\n  content: "#";\n}\n.tag .mention {\n  border-radius: 2px;\n  cursor: pointer;\n  color: #19a6bf;\n  font-weight: 400;\n}\n.tag .mention:before {\n  content: "@";\n}\n.header {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 56px;\n  padding: 0;\n  background: #673ab7;\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);\n  z-index: 50;\n}\n.header h1 {\n  float: left;\n  margin: 0;\n  padding: 0 15px;\n  font-size: 24px;\n  line-height: 56px;\n  font-weight: 400;\n  color: #fff;\n}\n.header nav {\n  float: right;\n  font-size: 100%;\n}\n.header nav a {\n  display: inline-block;\n  height: 56px;\n  line-height: 56px;\n  padding: 0 15px;\n  min-width: 50px;\n  text-align: center;\n  background: rgba(255, 255, 255, 0);\n  text-decoration: none;\n  color: #fff;\n  will-change: background-color;\n}\n.header nav a:hover,\n.header nav a:active {\n  background: rgba(0, 0, 0, 0.2);\n}\n.header nav a.active {\n  background: rgba(0, 0, 0, 0.4);\n}\n.app-footer {\n  position: fixed;\n  left: 48px;\n  bottom: 24px;\n  width: 100%;\n  max-width: 312px;\n  height: 56px;\n  padding: 0;\n  z-index: 50;\n}\n.app-footer nav {\n  display: flex;\n  width: 100%;\n  font-size: 100%;\n}\n.app-footer nav a {\n  flex-grow: 1;\n  height: 56px;\n  line-height: 56px;\n  padding: 16px;\n  text-align: center;\n  text-decoration: none;\n  color: #000;\n  font-size: 2rem;\n  will-change: background-color;\n}\n#icon-settings {\n  color: #ce7d33;\n}\n#icon-settings:hover {\n  color: #b7763a;\n}\n#icon-profile {\n  color: #5e7ee2;\n}\n#icon-profile:hover {\n  color: #4c68bf;\n}\n#icon-topics {\n  color: #c640ef;\n}\n#icon-topics:hover {\n  color: #b039d4;\n}\n#icon-home {\n  color: #4ba5b5;\n}\n#icon-home:hover {\n  color: #368998;\n}\n.home {\n  padding: 56px 20px;\n  min-height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n}\n.home .left-panel,\n.home .right-panel {\n  width: 400px;\n  padding: 0 24px;\n  box-sizing: border-box;\n  max-width: 100%;\n}\n.home .middle-panel {\n  max-width: 100%;\n}\n.home .middle-panel .top-bar {\n  padding: 0;\n}\n.home .middle-panel .top-bar .search-box {\n  width: 100%;\n  padding: 12px;\n  border: none;\n  border-bottom: 1px solid #f5f5f5;\n  font-size: 0.96rem;\n}\n.home .middle-panel .top-bar .search-box:focus {\n  outline: none;\n  background-color: #e3eadd;\n  color: #222;\n}\n.home .middle-panel .top-bar .icon-groups {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n.home .middle-panel .top-bar .icon-groups .icon {\n  text-align: center;\n  width: 25%;\n  padding: 12px;\n  font-size: 1.2rem;\n  color: #969696;\n}\n.home .middle-panel .top-bar .icon-groups .icon:hover {\n  cursor: pointer;\n  background-color: #e8e8e8;\n  color: #222;\n}\n.home .middle-panel .top-bar .icon-groups .icon.selected {\n  color: #fff;\n  background-color: #74a24b;\n}\n.home .middle-panel .top-bar .icon-groups .icon.selected:hover {\n  background-color: #6e964a;\n}\n.home .right-panel .post-btn-group {\n  display: flex;\n  flex-direction: row;\n}\n.home .right-panel .post-btn-group .btn {\n  margin: 16px 0 16px 0;\n  /* width: 100%; */\n  text-align: center;\n  padding: 12px;\n  border-radius: 2px;\n  cursor: pointer;\n}\n.home .right-panel .post-btn-group .ribbit-btn {\n  background-color: #74a24b;\n  width: 156px;\n  color: #fff;\n}\n.home .right-panel .post-btn-group .ribbit-btn i {\n  margin-right: 10px;\n}\n.home .right-panel .post-btn-group .ribbit-btn:hover {\n  background-color: #6e964a;\n}\n.home .right-panel .post-btn-group .github-btn.btn {\n  background-color: #454d54;\n  color: #fff;\n  margin-left: 8px;\n}\n.home .right-panel .post-btn-group .github-btn.btn:hover {\n  background-color: #24292e;\n}\n.home #feed-footer {\n  margin-bottom: 128px;\n  text-align: center;\n  margin-top: 64px;\n  font-size: 1.6rem;\n}\n@media screen and (max-width: 500px) {\n  .home #feed-footer {\n    font-size: 1rem;\n  }\n}\n.profile-page {\n  width: 100%;\n}\n.profile-page .profile-card .cover {\n  height: 256px;\n}\n.profile-page .profile-card .avatar {\n  width: 100px;\n  height: 100px;\n  top: 212px;\n}\n.profile-page .profile-card .name-group {\n  padding-left: 140px;\n  margin-top: -16px;\n}\n.profile-page .profile-card .name-group .name {\n  font-size: 1.4rem;\n}\n.profile-page #feed-footer {\n  margin-bottom: 128px;\n  text-align: center;\n  margin-top: 64px;\n  font-size: 1.6rem;\n}\n@media screen and (max-width: 500px) {\n  .profile-page #feed-footer {\n    font-size: 1rem;\n  }\n}\n.topic-page .topic-card {\n  padding: 0;\n}\n.topic-page .topic-card .cover {\n  width: 100%;\n  height: 256px;\n  background-color: rgba(113, 178, 56, 0.3);\n  background-size: cover;\n  background-image: url("http://www.anime-wp.site/wp-content/uploads/2018/03/anime-scenery-wallpaper-hd-7497.jpeg");\n}\n.topic-page .topic-card .title {\n  padding: 24px 12px 12px 24px;\n  font-size: 1.6rem;\n  font-style: italic;\n  background-color: rgba(53, 53, 53, 0.8);\n  color: #fff;\n  margin-top: -65px;\n  margin-bottom: 0;\n}\n.topic-page .topic-card .follow-btn {\n  padding: 6px 12px;\n  background-color: #dff1cf;\n  color: #74a24b;\n  border-radius: 2px;\n  font-size: 0.8rem;\n  cursor: pointer;\n  width: 80px;\n  text-align: center;\n  position: absolute;\n  right: 12px;\n  bottom: 60px;\n}\n.topic-page .topic-card .follow-btn:hover {\n  background-color: #cae8af;\n}\n.topic-page .topic-card .btn-group {\n  display: flex;\n  flex-direction: row;\n}\n.topic-page .topic-card .btn-group .btn {\n  text-align: center;\n  width: 25%;\n  padding: 12px;\n  font-size: 1rem;\n  color: #969696;\n  width: 50%;\n}\n.topic-page .topic-card .btn-group .btn i {\n  margin-right: 8px;\n}\n.topic-page .topic-card .btn-group .btn:hover {\n  cursor: pointer;\n  background-color: #e8e8e8;\n  color: #222;\n}\n.topic-page .topic-card .btn-group .btn.selected {\n  color: #fff;\n  background-color: #74a24b;\n}\n.topic-page .topic-card .btn-group .btn.selected:hover {\n  background-color: #6e964a;\n}\n.topic-page #feed-footer {\n  margin-bottom: 128px;\n  text-align: center;\n  margin-top: 64px;\n  font-size: 1.6rem;\n}\n@media screen and (max-width: 500px) {\n  .topic-page #feed-footer {\n    font-size: 1rem;\n  }\n}\n.signup-page {\n  padding: 32px;\n  background-color: #98d651;\n}\n.signup-page h1 {\n  margin: 0;\n  text-align: center;\n  color: #222;\n}\n.signup-page p.subtitle {\n  text-align: center;\n  color: #222;\n  font-size: 1.2rem;\n}\n.tx-page #feed-footer {\n  margin-bottom: 128px;\n  text-align: center;\n  margin-top: 64px;\n  font-size: 1.6rem;\n}\n@media screen and (max-width: 500px) {\n  .tx-page #feed-footer {\n    font-size: 1rem;\n  }\n}\n.user-top-panel .top-bar {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  font-size: 0.8rem;\n  margin-bottom: 16px;\n}\n.user-top-panel .top-bar i {\n  margin-right: 8px;\n}\n.user-top-panel .top-bar a {\n  margin-right: 4px;\n}\n.user-top-panel .user-panel {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-bottom: 12px;\n}\n.user-top-panel .user-panel .profile-image {\n  width: 32px;\n  height: 32px;\n  background-size: cover;\n  background-position: center;\n  border-radius: 50%;\n}\n.user-top-panel .user-panel .name {\n  margin: 0 12px;\n  margin-right: 6px;\n  font-weight: 600;\n  font-size: 1rem;\n  color: #4a4a4a;\n}\n.user-top-panel .user-panel .username {\n  color: #8590a6;\n  font-size: 0.9rem;\n}\n.user-top-panel .user-panel .username:before {\n  content: "@";\n}\n.user-top-panel .user-panel .postfix {\n  color: #8590a6;\n  font-size: 0.9rem;\n}\n.user-top-panel .user-panel .postfix:before {\n  content: "_";\n}\n.user-top-panel .user-panel .action {\n  font-size: 0.9rem;\n  color: #8590a6;\n  margin-left: 12px;\n}\n.user-top-panel .user-panel .action:before {\n  content: "\\B7";\n  margin-right: 12px;\n}\n.user-top-panel .user-panel .create-time {\n  font-size: 0.9rem;\n  margin-left: 12px;\n  color: #8590a6;\n}\n.user-top-panel .user-panel .create-time:before {\n  content: "\\B7";\n  margin-right: 6px;\n}\n@media screen and (max-width: 500px) {\n  .user-top-panel .user-panel .profile-image {\n    width: 32px;\n    height: 32px;\n  }\n  .user-top-panel .user-panel .name {\n    font-size: 0.8rem;\n  }\n  .user-top-panel .user-panel .username {\n    font-size: 0.7rem;\n  }\n  .user-top-panel .user-panel .postfix {\n    font-size: 0.7rem;\n    display: none;\n  }\n  .user-top-panel .user-panel .action {\n    margin-left: 6px;\n    font-size: 0.7rem;\n  }\n  .user-top-panel .user-panel .create-time {\n    font-size: 0.7rem;\n    margin-left: 6px;\n  }\n}\n.actions-bottom-panel {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-top: 14px;\n}\n.actions-bottom-panel .btn {\n  margin-right: 28px;\n  font-size: 0.9rem;\n  cursor: pointer;\n}\n.actions-bottom-panel .btn.upvote-btn,\n.actions-bottom-panel .btn.downvote-btn {\n  padding: 6px 10px;\n  background-color: #dff1cf;\n  color: #74a24b;\n  border-radius: 2px;\n  margin-right: 6px;\n  max-width: 50px;\n}\n.actions-bottom-panel .btn.upvote-btn:hover,\n.actions-bottom-panel .btn.downvote-btn:hover {\n  background-color: #cae8af;\n}\n.actions-bottom-panel .btn.upvote-btn i,\n.actions-bottom-panel .btn.downvote-btn i {\n  margin: 0;\n}\n.actions-bottom-panel .btn.upvote-btn span,\n.actions-bottom-panel .btn.downvote-btn span {\n  margin-left: 4px;\n  font-family: "Helvetica Neue", arial, sans-serif !important;\n}\n.actions-bottom-panel .btn.downvote-btn {\n  margin-right: 28px;\n}\n.actions-bottom-panel .btn.reply-btn,\n.actions-bottom-panel .btn.donate-btn {\n  color: #8590a6;\n}\n.actions-bottom-panel .btn.reply-btn:hover,\n.actions-bottom-panel .btn.donate-btn:hover {\n  color: #69768f;\n}\n.actions-bottom-panel i {\n  margin-right: 6px;\n}\n.donate-panel {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(31, 31, 31, 0.89);\n  z-index: 98;\n  cursor: pointer;\n}\n.donate-panel .donate-card.card {\n  position: relative;\n  top: 36%;\n  transform: translateY(-50%);\n  width: 360px;\n  max-width: 100%;\n  cursor: auto;\n}\n.donate-panel .donate-card.card i.fas.fa-times {\n  position: absolute;\n  left: 12px;\n  top: 12px;\n  cursor: pointer;\n}\n.donate-panel .donate-card.card .avatar {\n  width: 64px;\n  height: 64px;\n  margin: 12px auto 12px;\n  border-radius: 50%;\n  background-size: cover;\n}\n.donate-panel .donate-card.card p.name {\n  text-align: center;\n  font-weight: 600;\n}\n.donate-panel .donate-card.card .donate-wrapper input.donate-input {\n  font-size: 1rem;\n  text-align: center;\n  border-bottom: 2px solid #cacaca;\n}\n.donate-panel .donate-card.card .donate-wrapper p.currency {\n  font-size: 0.9rem;\n  text-align: center;\n}\n.donate-panel .donate-card.card .upvote-btn {\n  text-align: center;\n  width: 100%;\n  margin-top: 28px;\n  padding: 12px;\n  background-color: #74a24b;\n  color: #fff;\n  cursor: pointer;\n  border-radius: 2px;\n}\n.donate-panel .donate-card.card .upvote-btn:hover {\n  background-color: #6e964a;\n}\n.edit {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  padding: 32px;\n  background-color: #fff;\n  font-size: 1rem;\n  z-index: 99;\n  overflow: auto;\n  cursor: auto;\n}\n.edit.preview-on {\n  background-color: #fafafa;\n}\n.edit .editor-wrapper {\n  width: 100%;\n  max-width: 100%;\n}\n.edit .ReactCodeMirror {\n  width: 100%;\n  height: 100%;\n  background-color: #fff;\n  font-size: 1.2rem;\n}\n.edit .CodeMirror {\n  height: 100%;\n}\n.edit .button-group {\n  position: fixed;\n  right: 32px;\n  top: 32px;\n  z-index: 52;\n  font-size: 2rem;\n  display: flex;\n  flex-direction: row;\n}\n.edit .button-group .button {\n  border: none;\n  cursor: pointer;\n  margin: 8px 16px 0 0;\n}\n.edit p.title {\n  font-weight: 600;\n}\n.edit .topics-list,\n.edit .replies-list,\n.edit .mentions-list,\n.edit .feedback-list,\n.edit .config-list {\n  display: flex;\n  flex-direction: row;\n}\n.edit .topics-list .topic,\n.edit .replies-list .topic,\n.edit .mentions-list .topic,\n.edit .feedback-list .topic,\n.edit .config-list .topic,\n.edit .topics-list .reply,\n.edit .replies-list .reply,\n.edit .mentions-list .reply,\n.edit .feedback-list .reply,\n.edit .config-list .reply,\n.edit .topics-list .mention,\n.edit .replies-list .mention,\n.edit .mentions-list .mention,\n.edit .feedback-list .mention,\n.edit .config-list .mention,\n.edit .topics-list .feedback,\n.edit .replies-list .feedback,\n.edit .mentions-list .feedback,\n.edit .feedback-list .feedback,\n.edit .config-list .feedback,\n.edit .topics-list .config,\n.edit .replies-list .config,\n.edit .mentions-list .config,\n.edit .feedback-list .config,\n.edit .config-list .config {\n  padding: 4px 6px;\n  background-color: #74a24b;\n  color: #fff;\n  margin-right: 4px;\n  border-radius: 2px;\n  cursor: pointer;\n  user-select: none;\n}\n.edit .topics-list .topic.hidden,\n.edit .replies-list .topic.hidden,\n.edit .mentions-list .topic.hidden,\n.edit .feedback-list .topic.hidden,\n.edit .config-list .topic.hidden,\n.edit .topics-list .reply.hidden,\n.edit .replies-list .reply.hidden,\n.edit .mentions-list .reply.hidden,\n.edit .feedback-list .reply.hidden,\n.edit .config-list .reply.hidden,\n.edit .topics-list .mention.hidden,\n.edit .replies-list .mention.hidden,\n.edit .mentions-list .mention.hidden,\n.edit .feedback-list .mention.hidden,\n.edit .config-list .mention.hidden,\n.edit .topics-list .feedback.hidden,\n.edit .replies-list .feedback.hidden,\n.edit .mentions-list .feedback.hidden,\n.edit .feedback-list .feedback.hidden,\n.edit .config-list .feedback.hidden,\n.edit .topics-list .config.hidden,\n.edit .replies-list .config.hidden,\n.edit .mentions-list .config.hidden,\n.edit .feedback-list .config.hidden,\n.edit .config-list .config.hidden {\n  background: #8e8e8e;\n}\n@media screen and (max-width: 500px) {\n  .edit {\n    padding: 0;\n    font-size: 0.8rem;\n  }\n  .edit .button-group {\n    top: 8px;\n    right: 8px;\n  }\n  .edit .ReactCodeMirror {\n    padding: 12px;\n    padding-top: 64px;\n  }\n}\n.preview {\n  width: 100%;\n  height: 100%;\n}\n.preview .card {\n  margin-bottom: 48px;\n  margin-top: 0;\n}\n@media screen and (max-width: 500px) {\n  .preview {\n    padding: 0;\n  }\n}\n.card {\n  background-color: white;\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(180, 180, 180, 0.1);\n  color: #4a4a4a;\n  position: relative;\n  width: 580px;\n  max-width: 100%;\n  margin: 16px auto;\n  padding: 12px 24px 20px;\n  text-align: left;\n}\n.card .content-panel .cover {\n  width: 100%;\n  height: 126px;\n  background-size: cover;\n  background-position: center;\n  border-radius: 4px;\n}\n.card .content-panel .title {\n  font-size: 1.1rem;\n  font-weight: 800;\n  margin: 0 0 6px 0;\n}\n.card .content-panel .summary {\n  display: block;\n  /* Fallback for non-webkit */\n  display: -webkit-box;\n  max-width: 100%;\n  max-height: 4.8rem;\n  /* Fallback for non-webkit */\n  margin: 0 auto;\n  font-size: 1rem;\n  line-height: 1.6rem;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.card .content-panel .images-panel.le-four-images,\n.card .content-panel .images-panel.gt-four-images {\n  max-width: 400px;\n}\n.card .content-panel .images-panel.single-image img {\n  max-width: 100%;\n}\n@media screen and (max-width: 500px) {\n  .card {\n    padding: 6px;\n  }\n  .card .content-panel .summary {\n    font-size: 0.8rem;\n    line-height: 1.2rem;\n    max-height: 3.6rem;\n  }\n  .card .images-panel {\n    padding: 6px;\n  }\n}\n.feed-card:hover {\n  cursor: pointer;\n  background-color: #fbfff7;\n}\n.images-panel {\n  padding: 0 0 12px 0;\n}\n.images-panel .image {\n  background-size: cover;\n  background-position: center;\n}\n.images-panel.le-four-images {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.images-panel.le-four-images .image-wrapper {\n  width: 50%;\n  position: relative;\n  padding: 3px;\n}\n.images-panel.le-four-images .image-wrapper .image {\n  width: 100%;\n  height: 0;\n  padding-bottom: 100%;\n}\n.images-panel.gt-four-images {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.images-panel.gt-four-images .image-wrapper {\n  width: 33.333333%;\n  position: relative;\n  padding: 3px;\n}\n.images-panel.gt-four-images .image-wrapper .image {\n  width: 100%;\n  height: 0;\n  padding-bottom: 100%;\n}\n@media screen and (max-width: 500px) {\n  .images-panel {\n    padding: 6px 0;\n  }\n}\n.profile-card {\n  padding: 0;\n}\n.profile-card .cover {\n  width: 100%;\n  height: 128px;\n  background-color: rgba(113, 178, 56, 0.3);\n  background-size: cover;\n}\n.profile-card .avatar {\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  position: absolute;\n  top: 92px;\n  left: 24px;\n  border: 4px solid #eaeaea;\n  background-size: contain;\n}\n.profile-card .name-group {\n  padding: 0 24px 6px 114px;\n  margin-top: -8px;\n  display: flex;\n  flex-direction: row;\n  align-items: baseline;\n}\n.profile-card .name-group p.name {\n  font-weight: 800;\n}\n.profile-card .name-group p.username {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 0.8rem;\n  color: #8590a6;\n  margin-left: 6px;\n}\n.profile-card .button-group {\n  position: absolute;\n  right: 8px;\n  top: 264px;\n}\n.profile-card .button-group .follow-btn {\n  padding: 6px 12px;\n  background-color: #dff1cf;\n  color: #74a24b;\n  border-radius: 2px;\n  font-size: 0.8rem;\n  cursor: pointer;\n  width: 80px;\n  text-align: center;\n}\n.profile-card .button-group .follow-btn:hover {\n  background-color: #cae8af;\n}\n.profile-card .bio {\n  padding: 0 24px 24px 24px;\n}\n.profile-card .bio p {\n  margin: 0;\n}\n.topics-card {\n  padding: 0;\n  margin: 0;\n}\n.topics-card .title {\n  margin: 0;\n  /* margin-bottom: 12px; */\n  padding: 12px 24px 12px;\n  background-color: #53a1af;\n  color: #fff;\n}\n.topics-card .topic {\n  padding: 12px 24px;\n  color: #4e4e4e;\n  cursor: pointer;\n}\n.topics-card .topic i {\n  margin-right: 4px;\n}\n.topics-card .topic .name {\n  font-weight: 600;\n}\n.topics-card .topic:hover {\n  background-color: #e8e8e8;\n}\n.followings-card {\n  padding: 0;\n  margin: 0;\n}\n.followings-card .title {\n  margin: 0;\n  /* margin-bottom: 12px; */\n  padding: 12px 24px 12px;\n  background-color: #53a1af;\n  color: #fff;\n}\n.followings-card .following {\n  color: #4e4e4e;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  align-items: center;\n  padding: 0 12px;\n}\n.followings-card .following .name {\n  font-weight: 600;\n}\n.followings-card .following .username {\n  margin-left: 8px;\n  color: #8590a6;\n  font-size: 0.9rem;\n}\n.followings-card .following .username::before {\n  content: "@";\n}\n.followings-card .following .avatar {\n  width: 32px;\n  height: 32px;\n  background-size: cover;\n  border-radius: 50%;\n}\n.followings-card .following .name-group {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  margin-left: 12px;\n  align-items: center;\n}\n.followings-card .following .msg {\n  width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: pre;\n}\n.followings-card .following:hover {\n  background-color: #e8e8e8;\n}\n.profile-settings-card {\n  padding: 0;\n}\n.profile-settings-card p.title {\n  padding: 12px;\n  font-weight: 600;\n  margin: 0;\n}\n.profile-settings-card .form {\n  padding: 0 12px;\n  display: flex;\n  flex-direction: column;\n}\n.profile-settings-card .form .entry {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  margin-bottom: 8px;\n  align-items: center;\n}\n.profile-settings-card .form .entry p.entry-title {\n  width: 126px;\n  font-size: 0.8rem;\n  margin: 0;\n  box-sizing: border-box;\n  border-left: 3px solid #74a24b;\n  padding-left: 8px;\n}\n.profile-settings-card .form .entry.markdown-entry {\n  flex-direction: column;\n  align-items: normal;\n}\n.profile-settings-card .form .entry.markdown-entry .entry-title {\n  width: 100%;\n  margin-bottom: 8px;\n}\n.profile-settings-card .form .ReactCodeMirror {\n  height: 100px;\n  padding: 8px;\n  background-color: #fff;\n  box-shadow: 0 1px 4px 1px #ececec;\n  font-size: 1.2rem;\n}\n.profile-settings-card .form .CodeMirror {\n  height: 100%;\n}\n.profile-settings-card div#publish-profile {\n  /* margin-left: auto; */\n  margin: 12px auto;\n  /* margin-top: 12px; */\n  /* margin-bottom: 12px; */\n  padding: 8px;\n  background-color: #e85353;\n  color: #fff;\n  width: 256px;\n  text-align: center;\n  border-radius: 2px;\n  cursor: pointer;\n}\n.profile-settings-card div#publish-profile:hover {\n  background-color: #e64141;\n}\n.profile-settings-card .profile-card .cover {\n  height: 256px;\n}\n.profile-settings-card .profile-card .avatar {\n  width: 100px;\n  height: 100px;\n  top: 212px;\n}\n.profile-settings-card .profile-card .name-group {\n  padding-left: 140px;\n  margin-top: -16px;\n}\n.profile-settings-card .profile-card .name-group .name {\n  font-size: 1.4rem;\n}\n.article-card {\n  background-color: #fff;\n  padding: 32px, 48px;\n  width: 900px;\n  max-width: 100%;\n}\n.article-card .content {\n  line-height: 28px;\n}\n.article-card .content img {\n  max-width: 100%;\n}\n.article-card .content blockquote {\n  border-left: 0.25rem solid #dfe2e5;\n  padding-left: 12px;\n  margin-left: 0;\n}\n@media screen and (max-width: 500px) {\n  .article-card {\n    padding: 12px;\n    font-size: 0.8rem;\n  }\n}\n.article-card #feed-footer {\n  margin-bottom: 128px;\n  text-align: center;\n  margin-top: 64px;\n  font-size: 1.6rem;\n}\n@media screen and (max-width: 500px) {\n  .article-card #feed-footer {\n    font-size: 1rem;\n  }\n}\n.article-panel .replies .feed-card.card {\n  margin-top: 0;\n  margin-bottom: 0;\n}\n.article-panel .replies .feed-card.card:last-child {\n  margin-bottom: 32px;\n}\n.article-panel .parent .feed-card.card {\n  margin-top: 24px;\n  margin-bottom: 0;\n}\n',""])},function(t,e,r){var n=r(699);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(383)(n,i);n.locals&&(t.exports=n.locals)},function(t,e){function r(t,e){for(var r in t){e(t[r],r,t)}}function n(t){return Object.keys(t).sort()}function i(t,e){return~t.indexOf(e)}function o(t,e){return t.filter(function(t){return i(e,t)})}e.validate=function(t){Object.keys(t);return r(t,function(e,n){r(e,function(e,r){if(!t[e])throw new Error("invalid transition from state:"+n+" to state:"+e+" on event:"+r)})}),!0};var s=e.reachable=function(t){var e={},n=!1;do{n=!1,r(t,function(t,i){var o=e[i]=e[i]||{};r(t,function(t,e){o[t]||(o[t]=[e],n=!0)}),r(t,function(t,i){r(e[t],function(t,e){o[e]||(o[e]=[i].concat(t),n=!0)})})})}while(n);return e};e.terminal=e.deadlock=function(t){var e=[];return r(t,function(t,r){(function(t){for(var e in t)return!1;return!0})(t)&&e.push(r)}),e};e.livelock=function(t,e){var n=[];return r(s(t),function(t,o){i(e,o)||r(e,function(e){t[e]||i(n,o)||n.push(o)})}),n.sort()};function a(t){var e=[];return r(t,function(t,n){r(t,function(t,r){i(e,r)||e.push(r)})}),e.sort()}e.combine=function(t,e,r,s){var u,c,f={},l=a(t),h=a(e),p=(c=h,(u=l).filter(function(t){return!i(c,t)}).concat(c.filter(function(t){return!i(u,t)})).sort());return function r(i,s){var a,u=i+"-"+s;f[u]||(f[u]={}),a=f[u];var c=n(t[i]),l=n(e[s]);return o(c,l).forEach(function(n){a[n]=t[i][n]+"-"+e[s][n],f[a[n]]||r(t[i][n],e[s][n])}),o(p,c).forEach(function(e){a[e]=t[i][e]+"-"+s,f[a[e]]||r(t[i][e],s)}),o(p,l).forEach(function(t){a[t]=i+"-"+e[s][t],f[a[t]]||r(i,e[s][t])}),f[u]}(r,s),f}},function(t,e,r){const n=r(20).EventEmitter,i=r(17),o=r(701);t.exports=function(t,e){"object"==typeof t&&(e=t,t="START");i.equal(typeof t,"string"),i.equal(typeof e,"object"),i.ok(e[t],"invalid starting state "+t),i.ok(o.validate(e));const r=new n;return s._graph=o.reachable(e),s._emitter=r,s._events=e,s._state=t,s.emit=s,s.on=function(t,e){r.on(t,e)},s;function s(t){const e=s._events[s._state][t];if(!function(t,e,r){if(!e)return!1;if(!t)return!0;const n=r[t];return!(!n||!n[e])&&1===n[e].length}(s._state,e,s._graph)){const e="invalid transition: "+s._state+" -> "+t;return r.emit("error",e)}const n=s._state+":leave",i=e+":enter";return s._state?void(r._events[n]?r.emit(n,o):o()):o();function o(){r._events[i]?r.emit(i,a):a()}function a(){s._state=e,r.emit(e),r.emit("done")}}}},function(t,e,r){"use strict";const n=r(482),i=n("jsipfs:state");i.error=n("jsipfs:state:error");const o=r(702);t.exports=(t=>{const e=o("uninitalized",{uninitalized:{init:"initializing",initialized:"stopped"},initializing:{initialized:"stopped"},stopped:{start:"starting"},starting:{started:"running"},running:{stop:"stopping"},stopping:{stopped:"stopped"}});return e.on("error",t=>i.error(t)),e.on("done",()=>i("-> "+e._state)),e.init=(()=>{e("init")}),e.initialized=(()=>{e("initialized")}),e.stop=(()=>{e("stop")}),e.stopped=(()=>{e("stopped")}),e.start=(()=>{e("start")}),e.started=(()=>{e("started")}),e.state=(()=>e._state),e})},function(t,e,r){"use strict";const n=r(349);t.exports=(t=>{return new n(t||"ipfs")})},function(t,e,r){"use strict";t.exports=function(t){return{bitswap:r(385)(t).stat,repo:r(465)(t).stat}}},function(t,e,r){"use strict";const n=r(26);t.exports=function(t){return{gen:n((e,r,n)=>{t._keychain.createKey(e,r.type,r.size,n)}),info:n((e,r)=>{t._keychain.findKeyByName(e,r)}),list:n(e=>{t._keychain.listKeys(e)}),rm:n((e,r)=>{t._keychain.removeKey(e,r)}),rename:n((e,r,n)=>{t._keychain.renameKey(e,r,(t,r)=>{if(t)return n(t);const i={was:e,now:r.name,id:r.id,overwrite:!1};n(null,i)})}),import:n((e,r,n,i)=>{t._keychain.importKey(e,r,n,i)}),export:n((e,r,n)=>{t._keychain.exportKey(e,r,n)})}}},function(t,e,r){"use strict";t.exports=((t,e,r)=>{let n=`https://ipfs.io/api/v0/dns?arg=${t=encodeURIComponent(t)}`;for(const t in e)n+=`&${t}=${e[t]}`;self.fetch(n,{mode:"cors"}).then(t=>t.json()).then(t=>t.Path?r(null,t.Path):r(new Error(t.Message))).catch(t=>{r(t)})})},function(t,e,r){"use strict";const n=r(707),i=r(26);t.exports=(()=>i((t,e,r)=>{if("string"!=typeof t)return r(new Error("Invalid arguments, domain must be a string"));"function"==typeof e&&(r=e,e={}),n(t,e,r)}))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,n){return t(e,n)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){(0,n.default)(t,(0,i.default)((0,o.default)(e)),r)};var n=s(r(276)),i=s(r(709)),o=s(r(119));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return!t},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,o){return t(n.default,e,(0,i.default)(r),o)}};var n=o(r(276)),i=o(r(119));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(r,o,s,a){a=a||n.default;var u,c=!1;r(o,function(r,n,o){s(r,function(n,s){n?o(n):t(s)&&!u?(c=!0,u=e(!0,r),o(null,i.default)):o()})},function(t){t?a(t):a(null,c?u:e(!1))})}};var n=o(r(4)),i=o(r(286));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(r(713)),i=s(r(712)),o=s(r(711));function s(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((0,n.default)(o.default,o.default)),t.exports=e.default},function(t,e,r){"use strict";(function(e){const n=r(26),i=r(714),o=r(30),s=r(18),a=r(710);t.exports=(t=>({get:n((r,n,i)=>{if(!e.isBuffer(r))return i(new Error("Not valid key"));"function"==typeof n&&(i=n,n={}),t._libp2pNode.dht.get(r,n.timeout,i)}),put:n((r,n,i)=>{if(!e.isBuffer(r))return i(new Error("Not valid key"));t._libp2pNode.dht.put(r,n,i)}),findprovs:n((e,r)=>{"string"==typeof e&&(e=new s(e)),t._libp2pNode.contentRouting.findProviders(e,r)}),findpeer:n((e,r)=>{"string"==typeof e&&(e=o.createFromB58String(e)),t._libp2pNode.peerRouting.findPeer(e,(t,e)=>{if(t)return r(t);const n=[{Responses:[{ID:e.id.toB58String(),Addresses:e.multiaddrs.toArray().map(t=>t.toString())}]}];r(null,n)})}),provide:n((e,r,n)=>{Array.isArray(e)||(e=[e]),"function"==typeof r&&(n=r,r={}),i(e,(e,r)=>{t._repo.blocks.has(e,r)},(i,o)=>i?n(i):o?void(r.recursive||a(e,(e,r)=>{t._libp2pNode.contentRouting.provide(e,r)},n)):n(new Error("block(s) not found locally, cannot provide")))}),query:n((e,r)=>{"string"==typeof e&&(e=o.createFromB58String(e)),t._libp2pNode._dht.getClosestPeers(e.toBytes(),(t,e)=>{if(t)return r(t);r(null,e.map(t=>({ID:t.toB58String()})))})})}))}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(26);t.exports=function(t){return{subscribe:(e,r,n,i)=>{if("function"==typeof r&&(i=n,n=r,r={}),!i)return new Promise((i,o)=>{t._libp2pNode.pubsub.subscribe(e,r,n,t=>{if(t)return o(t);i()})});t._libp2pNode.pubsub.subscribe(e,r,n,i)},unsubscribe:(e,r)=>{t._libp2pNode.pubsub.unsubscribe(e,r)},publish:n((e,r,n)=>{t._libp2pNode.pubsub.publish(e,r,n)}),ls:n(e=>{t._libp2pNode.pubsub.ls(e)}),peers:n((e,r)=>{t._libp2pNode.pubsub.peers(e,r)}),setMaxListeners(e){t._libp2pNode.pubsub.setMaxListeners(e)}}}},function(t,e,r){var n;!function(i){"use strict";var o,s=20,a=1,u=1e6,c=-7,f=21,l="[big.js] ",h=l+"Invalid ",p=h+"decimal places",d=h+"rounding mode",m={},g=void 0,v=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function y(t,e,r,n){var i=t.c,o=t.e+e+1;if(o<i.length){if(1===r)n=i[o]>=5;else if(2===r)n=i[o]>5||5==i[o]&&(n||o<0||i[o+1]!==g||1&i[o-1]);else if(3===r)n=n||i[o]!==g||o<0;else if(n=!1,0!==r)throw Error(d);if(o<1)i.length=1,n?(t.e=-e,i[0]=1):i[0]=t.e=0;else{if(i.length=o--,n)for(;++i[o]>9;)i[o]=0,o--||(++t.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(r<0||r>3||r!==~~r)throw Error(d);return t}function b(t,e,r,n){var i,o,s=t.constructor,a=!t.c[0];if(r!==g){if(r!==~~r||r<(3==e)||r>u)throw Error(3==e?h+"precision":p);for(r=n-(t=new s(t)).e,t.c.length>++n&&y(t,r,s.RM),2==e&&(n=t.e+r+1);t.c.length<n;)t.c.push(0)}if(i=t.e,r=(o=t.c.join("")).length,2!=e&&(1==e||3==e&&n<=i||i<=s.NE||i>=s.PE))o=o.charAt(0)+(r>1?"."+o.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)o="0"+o;o="0."+o}else if(i>0)if(++i>r)for(i-=r;i--;)o+="0";else i<r&&(o=o.slice(0,i)+"."+o.slice(i));else r>1&&(o=o.charAt(0)+"."+o.slice(1));return t.s<0&&(!a||4==e)?"-"+o:o}m.abs=function(){var t=new this.constructor(this);return t.s=1,t},m.cmp=function(t){var e,r=this,n=r.c,i=(t=new r.constructor(t)).c,o=r.s,s=t.s,a=r.e,u=t.e;if(!n[0]||!i[0])return n[0]?o:i[0]?-s:0;if(o!=s)return o;if(e=o<0,a!=u)return a>u^e?1:-1;for(s=(a=n.length)<(u=i.length)?a:u,o=-1;++o<s;)if(n[o]!=i[o])return n[o]>i[o]^e?1:-1;return a==u?0:a>u^e?1:-1},m.div=function(t){var e=this,r=e.constructor,n=e.c,i=(t=new r(t)).c,o=e.s==t.s?1:-1,s=r.DP;if(s!==~~s||s<0||s>u)throw Error(p);if(!i[0])throw Error("[big.js] Division by zero");if(!n[0])return new r(0*o);var a,c,f,l,h,d=i.slice(),m=a=i.length,v=n.length,b=n.slice(0,a),w=b.length,_=t,k=_.c=[],S=0,x=s+(_.e=e.e-t.e)+1;for(_.s=o,o=x<0?0:x,d.unshift(0);w++<a;)b.push(0);do{for(f=0;f<10;f++){if(a!=(w=b.length))l=a>w?1:-1;else for(h=-1,l=0;++h<a;)if(i[h]!=b[h]){l=i[h]>b[h]?1:-1;break}if(!(l<0))break;for(c=w==a?i:d;w;){if(b[--w]<c[w]){for(h=w;h&&!b[--h];)b[h]=9;--b[h],b[w]+=10}b[w]-=c[w]}for(;!b[0];)b.shift()}k[S++]=l?f:++f,b[0]&&l?b[w]=n[m]||0:b=[n[m]]}while((m++<v||b[0]!==g)&&o--);return k[0]||1==S||(k.shift(),_.e--),S>x&&y(_,s,r.RM,b[0]!==g),_},m.eq=function(t){return!this.cmp(t)},m.gt=function(t){return this.cmp(t)>0},m.gte=function(t){return this.cmp(t)>-1},m.lt=function(t){return this.cmp(t)<0},m.lte=function(t){return this.cmp(t)<1},m.minus=m.sub=function(t){var e,r,n,i,o=this,s=o.constructor,a=o.s,u=(t=new s(t)).s;if(a!=u)return t.s=-u,o.plus(t);var c=o.c.slice(),f=o.e,l=t.c,h=t.e;if(!c[0]||!l[0])return l[0]?(t.s=-u,t):new s(c[0]?o:0);if(a=f-h){for((i=a<0)?(a=-a,n=c):(h=f,n=l),n.reverse(),u=a;u--;)n.push(0);n.reverse()}else for(r=((i=c.length<l.length)?c:l).length,a=u=0;u<r;u++)if(c[u]!=l[u]){i=c[u]<l[u];break}if(i&&(n=c,c=l,l=n,t.s=-t.s),(u=(r=l.length)-(e=c.length))>0)for(;u--;)c[e++]=0;for(u=e;r>a;){if(c[--r]<l[r]){for(e=r;e&&!c[--e];)c[e]=9;--c[e],c[r]+=10}c[r]-=l[r]}for(;0===c[--u];)c.pop();for(;0===c[0];)c.shift(),--h;return c[0]||(t.s=1,c=[h=0]),t.c=c,t.e=h,t},m.mod=function(t){var e,r=this,n=r.constructor,i=r.s,o=(t=new n(t)).s;if(!t.c[0])throw Error("[big.js] Division by zero");return r.s=t.s=1,e=1==t.cmp(r),r.s=i,t.s=o,e?new n(r):(i=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=o,this.minus(r.times(t)))},m.plus=m.add=function(t){var e,r=this,n=r.constructor,i=r.s,o=(t=new n(t)).s;if(i!=o)return t.s=-o,r.minus(t);var s=r.e,a=r.c,u=t.e,c=t.c;if(!a[0]||!c[0])return c[0]?t:new n(a[0]?r:0*i);if(a=a.slice(),i=s-u){for(i>0?(u=s,e=c):(i=-i,e=a),e.reverse();i--;)e.push(0);e.reverse()}for(a.length-c.length<0&&(e=c,c=a,a=e),i=c.length,o=0;i;a[i]%=10)o=(a[--i]=a[i]+c[i]+o)/10|0;for(o&&(a.unshift(o),++u),i=a.length;0===a[--i];)a.pop();return t.c=a,t.e=u,t},m.pow=function(t){var e=this,r=new e.constructor(1),n=r,i=t<0;if(t!==~~t||t<-1e6||t>1e6)throw Error(h+"exponent");for(i&&(t=-t);1&t&&(n=n.times(e)),t>>=1;)e=e.times(e);return i?r.div(n):n},m.round=function(t,e){var r=this.constructor;if(t===g)t=0;else if(t!==~~t||t<0||t>u)throw Error(p);return y(new r(this),t,e===g?r.RM:e)},m.sqrt=function(){var t,e,r,n=this,i=n.constructor,o=n.s,s=n.e,a=new i(.5);if(!n.c[0])return new i(n);if(o<0)throw Error(l+"No square root");0===(o=Math.sqrt(n.toString()))||o===1/0?((e=n.c.join("")).length+s&1||(e+="0"),(t=new i(Math.sqrt(e).toString())).e=((s+1)/2|0)-(s<0||1&s)):t=new i(o.toString()),s=t.e+(i.DP+=4);do{r=t,t=a.times(r.plus(n.div(r)))}while(r.c.slice(0,s).join("")!==t.c.slice(0,s).join(""));return y(t,i.DP-=4,i.RM)},m.times=m.mul=function(t){var e,r=this,n=r.constructor,i=r.c,o=(t=new n(t)).c,s=i.length,a=o.length,u=r.e,c=t.e;if(t.s=r.s==t.s?1:-1,!i[0]||!o[0])return new n(0*t.s);for(t.e=u+c,s<a&&(e=i,i=o,o=e,c=s,s=a,a=c),e=new Array(c=s+a);c--;)e[c]=0;for(u=a;u--;){for(a=0,c=s+u;c>u;)a=e[c]+o[u]*i[c-u-1]+a,e[c--]=a%10,a=a/10|0;e[c]=(e[c]+a)%10}for(a?++t.e:e.shift(),u=e.length;!e[--u];)e.pop();return t.c=e,t},m.toExponential=function(t){return b(this,1,t,t)},m.toFixed=function(t){return b(this,2,t,this.e+t)},m.toPrecision=function(t){return b(this,3,t,t-1)},m.toString=function(){return b(this)},m.valueOf=m.toJSON=function(){return b(this,4)},(o=function t(){function e(r){var n=this;if(!(n instanceof e))return r===g?t():new e(r);r instanceof e?(n.s=r.s,n.e=r.e,n.c=r.c.slice()):function(t,e){var r,n,i;if(0===e&&1/e<0)e="-0";else if(!v.test(e+=""))throw Error(h+"number");for(t.s="-"==e.charAt(0)?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),i=e.length,n=0;n<i&&"0"==e.charAt(n);)++n;if(n==i)t.c=[t.e=0];else{for(;i>0&&"0"==e.charAt(--i););for(t.e=r-n-1,t.c=[],r=0;n<=i;)t.c[r++]=+e.charAt(n++)}}(n,r),n.constructor=e}return e.prototype=m,e.DP=s,e.RM=a,e.NE=c,e.PE=f,e.version="5.0.2",e}()).default=o.Big=o,void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)}()},function(t,e,r){"use strict";t.exports=o;var n=r(386),i=r(42);function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}i.inherits=r(6),i.inherits(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},function(t,e){},function(t,e,r){"use strict";var n=r(3).Buffer,i=r(719);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e,r,i,o=n.allocUnsafe(t>>>0),s=this.head,a=0;s;)e=s.data,r=o,i=a,e.copy(r,i),a+=s.data.length,s=s.next;return o},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){(e=t.exports=r(390)).Stream=e,e.Readable=e,e.Writable=r(387),e.Duplex=r(112),e.Transform=r(386),e.PassThrough=r(718)},function(t,e,r){"use strict";var n=t.exports=function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.pipe};n.writable=function(t){return n(t)&&!1!==t.writable&&"function"==typeof t._write&&"object"==typeof t._writableState},n.readable=function(t){return n(t)&&!1!==t.readable&&"function"==typeof t._read&&"object"==typeof t._readableState},n.duplex=function(t){return n.writable(t)&&n.readable(t)},n.transform=function(t){return n.duplex(t)&&"function"==typeof t._transform&&"object"==typeof t._transformState}},function(t,e,r){var n=r(213),i=r(8);t.exports=function(t){var e=n(),r=i.collect(function(r,n){e.resolve(i.values(n.sort(t)))});return function(t){return r(t),e}}},function(t,e,r){"use strict";const n=r(18),i=r(8);t.exports=((t,e,r,o,s,a,u,c,f)=>{let l;if(o.length){const e=o[0],a=r+"/"+e;if(!(l=t[e]))return i.error("not found");const u=n.isCID(l);return i(i.values([{depth:f,name:e,path:a,pathRest:o.slice(1),multihash:u&&l,object:!u&&l,parent:c}]),s)}return i.error(new Error("invalid node type"))})},function(t,e,r){"use strict";(function(e){const n=r(558),i=r(93),o=r(18),s=r(8),a=r(391);t.exports=((t,r,u,c,f,l,h,p,d)=>{const m=c[0];if(void 0!==m&&m!==u)return s.empty();let g=s(n.depthFirst(t,function(t){return s(s.values(t.links),a((t,e)=>h.get(new o(t.multihash),e)),s.map(t=>t.value))}),s.map(function(t){try{return i.unmarshal(t.data).data||e.alloc(0)}catch(t){throw new Error("Failed to unmarshal node")}}));const v=i.unmarshal(t.data);return s.values([{depth:d,content:g,name:r,path:u,hash:t.multihash,size:l||v.fileSize(),type:"file"}])})}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e){const n=r(38);t.exports=(t=>e.isBuffer(t)?n.toB58String(t):t)}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(8),i=r(265),o=r(728);t.exports=function(t,e,r,s,a,u,c,f,l){let h;f&&f.path===r||(h={name:e,depth:l,path:r,hash:o(t.multihash),size:t.size,type:"dir"});const p=[n(n.values(t.links),n.map(t=>{const e=t.name.substring(2),n=e?r+"/"+e:r;let i=!0;return e&&s.length&&(i=e===s[0]),i?{depth:l+1,name:e,path:n,multihash:t.multihash,pathRest:e?s.slice(1):s,parent:h||f}:""}),n.filter(Boolean),a)];s.length||p.unshift(n.values([h]));return i(p)}},function(t,e,r){"use strict";const n=r(8),i=r(265);t.exports=function(t,e,r,o,s,a,u,c,f){const l=o[0],h={name:e,depth:f,path:r,hash:t.multihash,size:t.size,type:"dir"},p=[n(n.values(t.links),n.map(t=>({depth:f+1,size:t.size,name:t.name,path:r+"/"+t.name,multihash:t.multihash,linkName:t.name,pathRest:o.slice(1),type:"dir"})),n.filter(t=>void 0===l||t.linkName===l),s)];o.length||p.unshift(n.values([h]));return i(p)}},function(t,e){t.exports=function(t){var e=!1,r=0;return function(){if(r=!0,!e){for(e=!0;r;)r=!1,t();e=!1}}}},function(t,e,r){"use strict";(function(e){const n=r(93),i=r(8),o=r(391),s=r(18),a={directory:r(730),"hamt-sharded-directory":r(729),file:r(727),object:r(726)};function u(t,e,r,n){if(!r){r=0}if(r>e.maxDepth){return i.map(f)}return i(o((e,r)=>{if(typeof e.depth!=="number"){return i.error(new Error("no depth"))}if(e.object){return r(null,l(e.object,e))}t.get(new s(e.multihash),(t,n)=>{if(t){return r(t)}r(null,l(n.value,e))})}),i.flatten(),i.filter(Boolean),i.filter(t=>t.depth<=e.maxDepth));function l(e,r){return h(e,r.name,r.path,r.pathRest,r.size,t,r.parent||n,r.depth)}function h(t,r,n,o,s,f,l,h){const p=c(t),d=a[p];if(!d){return i.error(new Error("Unkown node type "+p))}const m=u(f,e,h,t);return d(t,r,n,o,m,s,f,l,h)}}function c(t){return e.isBuffer(t.data)?n.unmarshal(t.data).type:"object"}function f(t){return t}t.exports=Object.assign({createResolver:function(t,e,r,n){r||(r=0);if(r>e.maxDepth)return i.map(f);return i(o((e,r)=>"number"!=typeof e.depth?i.error(new Error("no depth")):e.object?r(null,l(e.object,e)):void t.get(new s(e.multihash),(t,n)=>{if(t)return r(t);r(null,l(n.value,e))})),i.flatten(),i.filter(Boolean),i.filter(t=>t.depth<=e.maxDepth));function l(r,o){return function(t,r,n,o,s,f,l,h){const p=c(t),d=a[p];if(!d)return i.error(new Error("Unkown node type "+p));const m=u(f,e,h,t);return d(t,r,n,o,m,s,f,l,h)}(r,o.name,o.path,o.pathRest,o.size,t,o.parent||n,o.depth)}},typeOf:c},a)}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e){const n=r(8),i=r(18),o=r(732).createResolver;const s={maxDepth:1/0};var a;t.exports=((t,r,u)=>{const c=Object.assign({},s,u);let f;try{f=function(t){let r=t,n="/";if(e.isBuffer(t)&&(r=new i(t).toBaseEncodedString()),"string"==typeof t){0===t.indexOf("/ipfs/")&&(t=r=t.substring(6));const e=t.indexOf("/");e>0&&(r=t.substring(0,e),n=t.substring(e))}else i.isCID(r)&&(r=r.toBaseEncodedString());return{base:r=new i(r).toBaseEncodedString(),rest:n.split("/").filter(Boolean)}}(t)}catch(t){return n.error(t)}const l=(a=[f.base].concat(f.rest.slice(0,f.rest.length-1)),a.reduce((t,e)=>(t.length&&(t+="/"),t+e),"")).length;return n(n.values([{multihash:new i(f.base),name:f.base,path:f.base,pathRest:f.rest,depth:0}]),o(r,c),n.filter(Boolean),n.map(t=>({depth:t.depth,name:t.name,path:function(t){if(!f.rest.length)return t.path;let e=t.path.substring(l);"/"===e.charAt(0)&&(e=e.substring(1));e||(e=f.rest[f.rest.length-1]||f.base);return e}(t),size:t.size,hash:t.hash||t.multihash,content:t.content,type:t.type})))})}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e){var n=r(168);function i(t){return 1===t.length?t[0]:e.concat(t)}function o(t,e,r){return 0===e&&r===t.length?t:t.slice(e,r)}t.exports=function(t,r){var s;r||(r={}),"object"==typeof t&&(t=(r=t).size),t=t||512,s=!r.nopad&&(void 0===r.zeroPadding||r.zeroPadding);var a=[],u=0,c=0,f=!1;return n(function(r){for("number"==typeof r&&(r=e.from([r])),u+=r.length,a.push(r);u>=t;){for(var n,s,l,h=0,p=[],d=0;h<t;)n=a[d],s=Math.min(c+t-h,n.length),h+=(l=o(n,c,s)).length,p.push(l),s===n.length?(d++,c=0):c+=l.length;a=a.slice(d),u-=h,this.queue(i(p)),f=!0}},function(n){if(r.emitEmpty&&!f||u){if(s){var o=e.alloc(t-u);o.fill(0),a.push(o)}a&&(a.length>0&&(a[0]=a[0].slice(c)),this.queue(i(a)),a=null)}this.queue(null)})}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(734);t.exports=(t=>{let e="number"==typeof t?t:t.maxChunkSize;return n(e,{zeroPadding:!1,emitEmpty:!0})})},function(t,e,r){"use strict";const n=[255,254,252,248,240,224,192,128],i=[1,3,7,15,31,63,127,255];function o(t,e,r){return(t&function(t,e){return n[t]&i[Math.min(e+t-1,7)]}(e,r))>>>e}t.exports=class{constructor(t){this._value=t,this._currentBytePos=t.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(t){let e=t,r=0;for(;e&&this._haveBits();){const t=this._value[this._currentBytePos],n=this._currentBitPos+1,i=Math.min(n,e);r=(r<<i)+o(t,n-i,i),e-=i,this._currentBitPos-=i,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return r}untake(t){for(this._currentBitPos+=t;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}},function(t,e,r){"use strict";(function(e,n){const i=r(392),o=r(736);t.exports=function(t){return function(e){return e instanceof s?e:new s(e,t)}};class s{constructor(t,r){if("string"!=typeof t&&!e.isBuffer(t))throw new Error("can only hash strings or buffers");this._value=t,this._hashFn=r,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}take(t,e){let r=t;i(()=>this._availableBits<r,t=>{this._produceMoreBits(t)},t=>{if(t)return void e(t);let o=0;i(()=>r>0,t=>{const e=this._buffers[this._currentBufferIndex],n=Math.min(e.availableBits(),r),i=e.take(n);o=(o<<n)+i,r-=n,this._availableBits-=n,0===e.availableBits()&&this._currentBufferIndex++,t()},t=>{t?e(t):n.nextTick(()=>e(null,o))})})}untake(t){let e=t;for(;e>0;){const t=this._buffers[this._currentBufferIndex],r=Math.min(t.totalBits()-t.availableBits(),e);t.untake(r),e-=r,this._availableBits+=r,this._currentBufferIndex>0&&t.totalBits()===t.availableBits()&&(this._depth--,this._currentBufferIndex--)}}_produceMoreBits(t){this._depth++;const e=this._depth?this._value+this._depth:this._value;this._hashFn(e,(e,r)=>{if(e)return void t(e);const n=new o(r);this._buffers.push(n),this._availableBits+=n.availableBits(),t()})}}}).call(this,r(0).Buffer,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,o){o=o||n.default,e=e||[];var s=[],a=0,u=(0,i.default)(r);t(e,function(t,e,r){var n=a++;u(t,function(t,e){s[n]=e,r(t)})},function(t){o(t,s)})};var n=o(r(4)),i=o(r(61));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,o){return t(n.default,e,(0,i.default)(r),o)}};var n=o(r(396)),i=o(r(61));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(739)),i=o(r(738));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,n.default)(i.default),t.exports=e.default},function(t,e,r){"use strict";function n(t,e){return t+i(e)}function i(t){let e=t;return 16843009*((e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135)>>24}function o(t,e){return t[0]-e[0]}function s(t){return t[1]}t.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(t,e){let r=this._internalPositionFor(t,!1);if(void 0===e)-1!==r&&(this._unsetInternalPos(r),this._unsetBit(t),this._changedLength=!0,this._changedData=!0);else{let n=!1;-1===r?(r=this._data.length,this._setBit(t),this._changedData=!0):n=!0,this._setInternalPos(r,t,e,n),this._changedLength=!0}}unset(t){this.set(t,void 0)}get(t){this._sortData();const e=this._internalPositionFor(t,!0);if(-1!==e)return this._data[e][1]}push(t){return this.set(this.length,t),this.length}get length(){if(this._sortData(),this._changedLength){const t=this._data[this._data.length-1];this._length=t?t[0]+1:0,this._changedLength=!1}return this._length}forEach(t){let e=0;for(;e<this.length;)t(this.get(e),e,this),e++}map(t){let e=0,r=new Array(this.length);for(;e<this.length;)r[e]=t(this.get(e),e,this),e++;return r}reduce(t,e){let r=0,n=e;for(;r<this.length;){n=t(n,this.get(r),r),r++}return n}find(t){let e,r,n=0;for(;n<this.length&&!e;)e=t(r=this.get(n)),n++;return e?r:void 0}_internalPositionFor(t,e){const r=this._bytePosFor(t,e);if(r>=this._bitArrays.length)return-1;const o=this._bitArrays[r],s=t-7*r;return(o&1<<s)>0?this._bitArrays.slice(0,r).reduce(n,0)+i(o&~(4294967295<<s+1))-1:-1}_bytePosFor(t,e){const r=Math.floor(t/7),n=r+1;for(;!e&&this._bitArrays.length<n;)this._bitArrays.push(0);return r}_setBit(t){const e=this._bytePosFor(t,!1);this._bitArrays[e]|=1<<t-7*e}_unsetBit(t){const e=this._bytePosFor(t,!1);this._bitArrays[e]&=~(1<<t-7*e)}_setInternalPos(t,e,r,n){const i=this._data,o=[e,r];if(n)this._sortData(),i[t]=o;else{if(i.length)if(i[i.length-1][0]>=e)i.push(o);else if(i[0][0]<=e)i.unshift(o);else{const t=Math.round(i.length/2);this._data=i.slice(0,t).concat(o).concat(i.slice(t))}else this._data.push(o);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(t){this._data.splice(t,1)}_sortData(){this._changedData&&this._data.sort(o)}bitField(){const t=[];let e,r=8,n=0,i=0;const o=this._bitArrays.slice();for(;o.length||n;){0===n&&(e=o.shift(),n=7);const s=Math.min(n,r);i|=(e&~(255<<s))<<8-r,e>>>=s,n-=s,(r-=s)&&(n||o.length)||(t.push(i),i=0,r=8)}for(var s=t.length-1;s>0;s--){if(0!==t[s])break;t.pop()}return t}compactArray(){return this._sortData(),this._data.map(s)}}},function(t,e,r){"use strict";(function(e){const n=r(741),i=r(740),o=r(246),s=r(737),a={bits:8};class u{constructor(t,e,r){if(this._options=Object.assign({},a,t),this._popCount=0,this._parent=e,this._posAtParent=r,!this._options.hashFn)throw new Error("please define an options.hashFn");this._options.hash||(this._options.hash=s(this._options.hashFn)),this._children=new n}static isBucket(t){return t instanceof u}put(t,e,r){this._findNewBucketAndPos(t,(n,i)=>{n?r(n):(i.bucket._putAt(i,t,e),r())})}get(t,e){this._findChild(t,(t,r)=>{t?e(t):e(null,r&&r.value)})}del(t,e){this._findPlace(t,(r,n)=>{if(r)return void e(r);const i=n.bucket._at(n.pos);i&&i.key===t&&n.bucket._delAt(n.pos),e(null)})}leafCount(){this._children.reduce((t,e)=>e instanceof u?t+e.leafCount():t+1,0)}childrenCount(){return this._children.length}onlyChild(t){e.nextTick(()=>t(null,this._children.get(0)))}eachLeafSeries(t,e){o(this._children.compactArray(),(e,r)=>{e instanceof u?e.eachLeafSeries(t,r):t(e.key,e.value,r)},e)}serialize(t,e){return e(this._children.reduce((r,n,i)=>(n&&(n instanceof u?r.push(n.serialize(t,e)):r.push(t(n,i))),r),[]))}asyncTransform(t,e,r){!function t(e,r,n,o){i(e._children.compactArray(),(i,o)=>{i instanceof u?t(i,r,n,o):r(i,(t,r)=>{t?o(t):o(null,{bitField:e._children.bitField(),children:r})})},(t,e)=>{t?o(t):n(e,o)})}(this,t,e,r)}toJSON(){return this.serialize(f,l)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}_findChild(t,e){this._findPlace(t,(r,n)=>{if(r)return void e(r);const i=n.bucket._at(n.pos);i&&i.key===t?e(null,i):e(null,void 0)})}_findPlace(t,e){const r=this._options.hash(t);r.take(this._options.bits,(t,n)=>{if(t)return void e(t);const i=this._children.get(n);if(i instanceof u)i._findPlace(r,e);else{e(null,{bucket:this,pos:n,hash:r})}})}_findNewBucketAndPos(t,e){this._findPlace(t,(r,n)=>{if(r)return void e(r);const i=n.bucket._at(n.pos);if(i&&i.key!==t){const t=new u(this._options,n.bucket,n.pos);n.bucket._putObjectAt(n.pos,t),t._findPlace(i.hash,(r,o)=>{r?e(r):(o.bucket._putAt(o,i.key,i.value),t._findNewBucketAndPos(n.hash,e))})}else e(null,n)})}_putAt(t,e,r){this._putObjectAt(t.pos,{key:e,value:r,hash:t.hash})}_putObjectAt(t,e){this._children.get(t)||this._popCount++,this._children.set(t,e)}_delAt(t){this._children.get(t)&&this._popCount--,this._children.unset(t),this._level()}_level(){if(this._parent&&this._popCount<=1)if(1===this._popCount){const t=this._children.find(c);if(!(t instanceof u)){const e=t.hash;e.untake(this._options.bits);const r={pos:this._posAtParent,hash:e};this._parent._putAt(r,t.key,t.value)}}else this._parent._delAt(this._posAtParent)}_at(t){return this._children.get(t)}}function c(t){return Boolean(t)}function f(t,e){return t.key}function l(t){return t}t.exports=u}).call(this,r(2))},function(t,e,r){"use strict";const n=r(742);t.exports=function(t){return new n(t)},t.exports.isBucket=n.isBucket},function(t,e,r){"use strict";(function(e){const n=r(579),i=r(392),o=r(113),s=r(18),a=r(126),u=r(93),c=a.DAGLink,f=a.DAGNode,l=r(53),h=r(245),p=r(743),d=function(t,r){l(t,"murmur3-128",(t,n)=>{if(t)r(t);else{const t=n.slice(2,10),i=t.length,o=e.alloc(i);for(let e=0;e<i;e++)o[i-e-1]=t[e];r(null,o)}})};d.code=34;const m={hashFn:d};class g extends h{constructor(t,e){const r=Object.assign({},m,e);super(t,r),this._bucket=p(r)}put(t,e,r){this._bucket.put(t,e,r)}get(t,e){this._bucket.get(t,e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(t){this._bucket.onlyChild(t)}eachChildSeries(t,e){this._bucket.eachLeafSeries(t,e)}flush(t,r,a,l){!function(t,r,a,l,h,d){const m=r._children;let g=0;const y=[];i(()=>g<m.length,e=>{const r=m.get(g);r?function(e,r,i){const o=n(r.toString(16).toUpperCase(),2,"0");if(p.isBucket(e))v(t,e,a,l,null,(t,e)=>{t?i(t):(y.push(new c(o,e.size,e.multihash)),i())});else{const t=e.value,r=o+e.key;y.push(new c(r,t.size,t.multihash)),i()}}(r,g,t=>{g++,e(t)}):(g++,e())},n=>{n?d(n):function(n){const i=e.from(m.bitField().reverse()),c=new u("hamt-sharded-directory",i);c.fanout=r.tableSize(),c.hashType=t.hashFn.code,o([e=>f.create(c.marshal(),n,t.hashAlg,e),(e,r)=>{if(t.onlyHash)return r(null,e);let n=new s(e.multihash);1===t.cidVersion&&(n=n.toV1()),l.put(e,{cid:n},t=>r(t,e))},(t,e)=>{const r={path:a,multihash:t.multihash,size:t.size};h&&h.push(r),e(null,t)}],d)}(y)})}(this._options,this._bucket,t,r,a,(t,e)=>{t?l(t):(this.multihash=e.multihash,this.size=e.size),l(null,e)})}}function v(t,r,a,l,h,d){const m=r._children;let g=0;const y=[];i(()=>g<m.length,t=>{const e=m.get(g);if(e){b(e,g,e=>{g++;t(e)})}else{g++;t()}},t=>{if(t){d(t);return}w(y)});function b(e,r,i){const o=n(r.toString(16).toUpperCase(),2,"0");if(p.isBucket(e)){v(t,e,a,l,null,(t,e)=>{if(t){i(t);return}y.push(new c(o,e.size,e.multihash));i()})}else{const t=e.value;const r=o+e.key;y.push(new c(r,t.size,t.multihash));i()}}function w(n){const i=e.from(m.bitField().reverse()),c=new u("hamt-sharded-directory",i);c.fanout=r.tableSize(),c.hashType=t.hashFn.code,o([e=>f.create(c.marshal(),n,t.hashAlg,e),(e,r)=>{if(t.onlyHash)return r(null,e);let n=new s(e.multihash);if(t.cidVersion===1){n=n.toV1()}l.put(e,{cid:n},t=>r(t,e))},(t,e)=>{const r={path:a,multihash:t.multihash,size:t.size};if(h){h.push(r)}e(null,t)}],d)}}t.exports=function(t,e){return new g(t,e)}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(113),i=r(744);t.exports=function t(e,r,o,s,a){!function(t,e,r,n){t.flat&&t.directChildrenCount()>=e?function(t,e,r){const n=i({root:t.root,dir:!0,parent:t.parent,parentKey:t.parentKey,path:t.path,dirty:t.dirty,flat:!1},e);t.eachChildSeries((t,e,r)=>{n.put(t,e,r)},t=>{t?r(t):r(t,n)})}(t,r,n):n(null,t)}(r,o,s,(i,u)=>{if(i)return void a(i);const c=u.parent;c?n([t=>{u!==r?(e&&(e.parent=u),c.put(u.parentKey,u,t)):t()},e=>{c?t(u,c,o,s,e):e(null,u)}],a):a(null,u)})}},function(t,e,r){"use strict";(function(e){const n=r(246),i=r(113),o=r(18),s=r(126),a=r(93),u=s.DAGLink,c=s.DAGNode,f=r(245);class l extends f{constructor(t,e){super(t,e),this._children={}}put(t,r,n){this.multihash=void 0,this.size=void 0,this._children[t]=r,e.nextTick(n)}get(t,r){e.nextTick(()=>r(null,this._children[t]))}childCount(){return Object.keys(this._children).length}directChildrenCount(){return this.childCount()}onlyChild(t){e.nextTick(()=>t(null,this._children[Object.keys(this._children)[0]]))}eachChildSeries(t,e){n(Object.keys(this._children),(e,r)=>{t(e,this._children[e],r)},e)}flush(t,e,r,n){const s=Object.keys(this._children).map(t=>{const e=this._children[t];return new u(t,e.size,e.multihash)}),f=new a("directory"),l=this._options;i([t=>c.create(f.marshal(),s,l.hashAlg,t),(t,r)=>{if(l.onlyHash)return r(null,t);let n=new o(t.multihash);1===l.cidVersion&&(n=n.toV1()),e.put(t,{cid:n},e=>r(e,t))},(e,n)=>{this.multihash=e.multihash,this.size=e.size;const i={path:t,multihash:e.multihash,size:e.size};r.push(i),n(null,e)}],n)}}t.exports=function(t,e){return new l(t,e)}}).call(this,r(2))},function(t,e,r){"use strict";function n(){this.head=this.tail=null,this.length=0}function i(t,e){t.length=1,t.head=t.tail=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n,n.prototype.removeLink=function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t},n.prototype.empty=function(){for(;this.head;)this.shift();return this},n.prototype.insertAfter=function(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1},n.prototype.insertBefore=function(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1},n.prototype.unshift=function(t){this.head?this.insertBefore(this.head,t):i(this,t)},n.prototype.push=function(t){this.tail?this.insertAfter(this.tail,t):i(this,t)},n.prototype.shift=function(){return this.head&&this.removeLink(this.head)},n.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},n.prototype.toArray=function(){for(var t=Array(this.length),e=this.head,r=0;r<this.length;r++)t[r]=e.data,e=e.next;return t},n.prototype.remove=function(t){for(var e=this.head;e;){var r=e.next;t(e)&&this.removeLink(e),e=r}return this},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var f=(0,c.default)(t),l=0,h=[],p=!1;function d(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(v.started=!0,(0,i.default)(t)||(t=[t]),0===t.length&&v.idle())return(0,a.default)(function(){v.drain()});for(var n=0,s=t.length;n<s;n++){var u={data:t[n],callback:r||o.default};e?v._tasks.unshift(u):v._tasks.push(u)}p||(p=!0,(0,a.default)(function(){p=!1,v.process()}))}function m(t){return function(e){l-=1;for(var r=0,i=t.length;r<i;r++){var o=t[r],s=(0,n.default)(h,o,0);0===s?h.shift():s>0&&h.splice(s,1),o.callback.apply(o,arguments),null!=e&&v.error(e,o.data)}l<=v.concurrency-v.buffer&&v.unsaturated(),v.idle()&&v.drain(),v.process()}}var g=!1,v={_tasks:new u.default,concurrency:e,payload:r,saturated:o.default,unsaturated:o.default,buffer:e/4,empty:o.default,drain:o.default,error:o.default,started:!1,paused:!1,push:function(t,e){d(t,!1,e)},kill:function(){v.drain=o.default,v._tasks.empty()},unshift:function(t,e){d(t,!0,e)},remove:function(t){v._tasks.remove(t)},process:function(){if(!g){for(g=!0;!v.paused&&l<v.concurrency&&v._tasks.length;){var t=[],e=[],r=v._tasks.length;v.payload&&(r=Math.min(r,v.payload));for(var n=0;n<r;n++){var i=v._tasks.shift();t.push(i),h.push(i),e.push(i.data)}l+=1,0===v._tasks.length&&v.empty(),l===v.concurrency&&v.saturated();var o=(0,s.default)(m(t));f(e,o)}g=!1}},length:function(){return v._tasks.length},running:function(){return l},workersList:function(){return h},idle:function(){return v._tasks.length+l===0},pause:function(){v.paused=!0},resume:function(){!1!==v.paused&&(v.paused=!1,(0,a.default)(v.process))}};return v};var n=f(r(338)),i=f(r(31)),o=f(r(4)),s=f(r(136)),a=f(r(250)),u=f(r(747)),c=f(r(61));function f(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var r=(0,i.default)(t);return(0,n.default)(function(t,e){r(t[0],e)},e,1)};var n=o(r(748)),i=o(r(61));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(394)),i=o(r(248));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)(n.default,1),t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,n){return t(e,n)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,s){(0,n.default)(e)(t,(0,i.default)((0,o.default)(r)),s)};var n=s(r(393)),i=s(r(751)),o=s(r(61));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";(function(e){const n=r(246),i=r(750),o=r(113),s=r(749),a=r(169),u=r(63),c=r(746),f=r(745),l=r(245);t.exports=function(t,r){const d=Object.assign({},h,r),m=s(function(t,e){const r=t.args.concat(function(){t.cb.apply(null,arguments),e()});t.fn.apply(null,r)},1);let g=function(){const t=a(function(t,r){n(t,(t,r)=>{m.push({fn:y,args:[t],cb:n=>{n?r(n):(e.push(t),r())}})},r)},null,1,function(t){b(r=>{e.end(r||t)})}),e=u();return{sink:t,source:e}}(),v=c({path:"",root:!0,dir:!0,dirty:!1,flat:!0},d);return{flush:b,stream:function(){return g}};function y(t,e){const r=(t.path||"").split("/").filter(p);let n=v;const s=r.length-1;let a="";i(r,(e,r,i)=>{a&&(a+="/"),a+=e;const u=r===s;n.dirty=!0,n.multihash=null,n.size=null,u?o([r=>n.put(e,t,r),t=>f(null,n,d.shardSplitThreshold,d,t),(t,e)=>{v=t,e()}],i):n.get(e,(t,r)=>{if(t)return void i(t);let o=r;o&&o instanceof l||(o=c({dir:!0,parent:n,parentKey:e,path:a,dirty:!0,flat:!0},d));const s=n;n=o,s.put(e,o,i)})},e)}function b(t){m.push({fn:w,args:["",v],cb:(e,r)=>{e?t(e):t(null,r&&r.multihash)}})}function w(r,n,i){if(n.dir){if(n.root&&n.childCount()>1&&!d.wrap)return void i(new Error("detected more than one root"));n.eachChildSeries((t,e,n)=>{w(r?r+"/"+t:t,e,n)},e=>{e?i(e):function(e,r,n){if(r.root&&!d.wrap)return void r.onlyChild((t,e)=>{t?n(t):n(null,e)});if(!r.dirty)return void n(null,r.multihash);r.dirty=!1,r.flush(e,t,g.source,(t,e)=>{t?n(t):n(null,e)})}(r,n,i)})}else e.nextTick(i)}};const h={wrap:!1,shardSplitThreshold:1e3,onlyHash:!1};function p(t){return Boolean(t)}}).call(this,r(2))},function(t,e,r){"use strict";const n=r(8),i=r(63),o=r(247),s=r(176),a=r(168),u=r(169),c=r(397);t.exports=function(t,e){const r=s(),f=i(),l=c(()=>{});let h=0;return n(r.source,l,function r(s,c){let f=0;let p=0;let d;let m=!1;const g=i();return{source:g,sink:u(function v(r,c){let f=!1;const m=r[0];p&&!d&&(d=i(),n(d,function r(s,c){let f=0;let p=0;let d;let m=!1;const g=i();return{source:g,sink:u(v,null,1,function(t){if(t)return void g.end(t);d?m||(m=!0,d.end()):g.end()})};function v(e,u){let c=!1;const f=e[0];p&&!d&&(d=i(),n(d,r(s+1,p-1),a(function(t){this.queue(t)},function(t){t?this.emit("error",t):(c||(c=!0,h++,l.pause()),this.queue(null))}),o(1/0),n.asyncMap(t),n.collect((t,e)=>{h--,t?g.end(t):(e.forEach(t=>{g.push(t)}),y())}))),d?d.push(f):(g.push(f),y()),u()}function y(){d=null,f++,(0===p&&f===e.maxChildrenPerNode||p>0&&f===e.layerRepeat)&&(f=0,p++),(!m&&c>=0&&p>c||m&&!h)&&(m=!0,g.end()),h||l.resume()}}(s+1,p-1),a(function(t){this.queue(t)},function(t){t?this.emit("error",t):(f||(f=!0,h++,l.pause()),this.queue(null))}),o(1/0),n.asyncMap(t),n.collect((t,e)=>{h--,t?g.end(t):(e.forEach(t=>{g.push(t)}),y())})));d?d.push(m):(g.push(m),y());c()},null,1,function(t){if(t)return void g.end(t);d?m||(m=!0,d.end()):g.end()})};function v(e,u){let c=!1;const f=e[0];p&&!d&&(d=i(),n(d,r(s+1,p-1),a(function(t){this.queue(t)},function(t){t?this.emit("error",t):(c||(c=!0,h++,l.pause()),this.queue(null))}),o(1/0),n.asyncMap(t),n.collect((t,e)=>{h--,t?g.end(t):(e.forEach(t=>{g.push(t)}),y())}))),d?d.push(f):(g.push(f),y()),u()}function y(){d=null,f++,(0===p&&f===e.maxChildrenPerNode||p>0&&f===e.layerRepeat)&&(f=0,p++),(!m&&c>=0&&p>c||m&&!h)&&(m=!0,g.end()),h||l.resume()}}(0,-1),o(1/0),n.asyncMap(t),n.collect((t,e)=>{t?f.end(t):1===e.length?(f.push(e[0]),f.end()):e.length>1?f.end(new Error("expected a maximum of 1 roots and got "+e.length)):f.end()})),{sink:r.sink,source:f}}},function(t,e,r){"use strict";const n=r(754),i={maxChildrenPerNode:174,layerRepeat:4};t.exports=function(t,e){const r=Object.assign({},i,e);return n(t,r)}},function(t,e,r){"use strict";const n=r(8),i=r(63),o=r(176),s=r(247);t.exports=function(t,e){const r=o(),a=r.source,u=i();return function r(i,o){let a=i;Array.isArray(a)&&(a=n.values(a));n(a,s(e.maxChildrenPerNode),n.asyncMap(t),n.collect(function u(r,i){r?o(r):i.length>1?function r(i,o){let a=i;Array.isArray(a)&&(a=n.values(a));n(a,s(e.maxChildrenPerNode),n.asyncMap(t),n.collect(u));function u(t,e){t?o(t):e.length>1?r(e,o):o(null,e)}}(i,o):o(null,i)}));function u(t,e){t?o(t):e.length>1?r(e,o):o(null,e)}}(a,(t,e)=>{t?u.end(t):1===e.length?(u.push(e[0]),u.end()):e.length>1?u.end(new Error("expected a maximum of 1 roots and got "+e.length)):u.end()}),{sink:r.sink,source:u}}},function(t,e,r){"use strict";const n=r(756),i={maxChildrenPerNode:174};t.exports=function(t,e){const r=Object.assign({},i,e);return n(t,r)}},function(t,e,r){"use strict";const n=r(8),i=r(63),o=r(176),s=r(247);t.exports=function(t,e){const r=o(),a=r.source,u=i();return n(a,s(1/0),n.asyncMap(t),n.collect((t,e)=>{t?u.end(t):1===e.length?(u.push(e[0]),u.end()):e.length>1?u.end(new Error("expected a maximum of 1 roots and got "+e.length)):u.end()})),{sink:r.sink,source:u}}},function(t,e,r){"use strict";const n=r(113),i=r(126),o=r(93),s=r(18),a=i.DAGLink,u=i.DAGNode;t.exports=function(t,e,r){return function(i,c){if(1===i.length&&(i[0].single||r.reduceSingleLeafToSelf)){const e=i[0];return void c(null,{path:t.path,multihash:e.multihash,size:e.size,leafSize:e.leafSize,name:e.name})}const f=new o("file"),l=i.map(t=>(f.addBlockSize(t.leafSize),new a(t.name,t.size,t.multihash)));n([t=>u.create(f.marshal(),l,r.hashAlg,t),(t,n)=>{if(r.onlyHash)return n(null,t);let i=new s(t.multihash);1===r.cidVersion&&(i=i.toV1()),e.put(t,{cid:i},e=>n(e,t))}],(e,r)=>{if(e)return void c(e);const n={name:"",path:t.path,multihash:r.multihash,size:r.size,leafSize:f.fileSize()};c(null,n)})}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){r=r||n.default;var a=(0,i.default)(e)?[]:{};t(e,function(t,e,r){(0,s.default)(t)(function(t,n){arguments.length>2&&(n=(0,o.default)(arguments,1)),a[e]=n,r(t)})},function(t){r(t,a)})};var n=a(r(4)),i=a(r(10)),o=a(r(137)),s=a(r(61));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,o.default)(arguments),r=e.pop();t.call(this,e,r)}};var n,i=r(137),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(function(e,r){var i;try{i=t.apply(this,e)}catch(t){return r(t)}(0,n.default)(i)&&"function"==typeof i.then?i.then(function(t){a(r,null,t)},function(t){a(r,t.message?t:new Error(t))}):r(null,i)})};var n=s(r(23)),i=s(r(761)),o=s(r(250));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){try{t(e,r)}catch(t){(0,o.default)(u,t)}}function u(t){throw t}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return n&&t[n]&&t[n]()};var n="function"==typeof Symbol&&Symbol.iterator;t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,n.default)(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e=(0,i.default)(t);return e?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(e):(r=t,s=(0,o.default)(r),a=-1,u=s.length,function(){var t=s[++a];return a<u?{value:r[t],key:t}:null});var r,s,a,u};var n=s(r(10)),i=s(r(763)),o=s(r(46));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,i.default)(n.default,t,e)};var n=o(r(396)),i=o(r(760));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";(function(e){
/*!
 * @description Recursive object extending
 * @author Viacheslav Lotsmanov <lotsmanov89@gmail.com>
 * @license MIT
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2013-2018 Viacheslav Lotsmanov
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
function r(t){return t instanceof e||t instanceof Date||t instanceof RegExp}function n(t){if(t instanceof e){var r=e.alloc?e.alloc(t.length):new e(t.length);return t.copy(r),r}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);throw new Error("Unexpected situation")}function i(t,e){return"__proto__"===e?void 0:t[e]}var o=t.exports=function(){if(arguments.length<1||"object"!=typeof arguments[0])return!1;if(arguments.length<2)return arguments[0];var t,e,s=arguments[0];return Array.prototype.slice.call(arguments,1).forEach(function(a){"object"!=typeof a||null===a||Array.isArray(a)||Object.keys(a).forEach(function(u){return e=i(s,u),(t=i(a,u))===s?void 0:"object"!=typeof t||null===t?void(s[u]=t):Array.isArray(t)?void(s[u]=function t(e){var i=[];return e.forEach(function(e,s){"object"==typeof e&&null!==e?Array.isArray(e)?i[s]=t(e):r(e)?i[s]=n(e):i[s]=o({},e):i[s]=e}),i}(t)):r(t)?void(s[u]=n(t)):"object"!=typeof e||null===e||Array.isArray(e)?void(s[u]=o({},t)):void(s[u]=o(e,t))})}),s}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e){const n=r(766),i=r(93),o=r(8),s=r(168),a=r(765),u=r(113),c=r(126),f=r(18),l=r(759),h=c.DAGNode,p={chunkerOptions:{maxChunkSize:262144}};t.exports=function(t,r,c,d){const m=n({},p,d);return function(n){return function(p,d){a(p.map(a=>p=>{if(!a.content)return function(t,e){const n=new i("directory");u([t=>h.create(n.marshal(),[],m.hashAlg,t),(t,e)=>{if(m.onlyHash)return e(null,t);let n=new f(t.multihash);1===m.cidVersion&&(n=n.toV1()),r.put(t,{cid:n},r=>e(r,t))}],(r,n)=>{if(r)return e(r);e(null,{path:t.path,multihash:n.multihash,size:n.size})})}(a,(t,e)=>{if(t)return p(t);e&&n.push(e),p()});!function(n,a){e.isBuffer(n.content)&&(n.content=o.values([n.content]));if("function"!=typeof n.content)return a(new Error("invalid content"));const u=c(l(n,r,m),m);let p,d=0;o(n.content,t(m.chunkerOptions),o.map(t=>(m.progress&&"function"==typeof m.progress&&m.progress(t.byteLength),e.from(t))),o.map(t=>new i("file",t)),o.asyncMap((t,e)=>{h.create(t.marshal(),[],m.hashAlg,(r,n)=>{e(r,{DAGNode:n,fileNode:t})})}),o.asyncMap((t,e)=>{if(m.onlyHash)return e(null,t);let n=new f(t.DAGNode.multihash);1===m.cidVersion&&(n=n.toV1()),r.put(t.DAGNode,{cid:n},r=>e(r,t))}),o.map(t=>({path:n.path,multihash:t.DAGNode.multihash,size:t.DAGNode.size,leafSize:t.fileNode.fileSize(),name:""})),s(function(t){d++,p&&this.queue(p),p=t},function(){p&&(1===d&&(p.single=!0),this.queue(p)),this.queue(null)}),u,o.collect((t,e)=>{t?a(t):a(null,e[0])}))}(a,(t,e)=>{if(t)return p(t);e&&n.push(e),p()})}),d)}}}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(63),i=r(169);t.exports=function(t,e,r){const o=n(),s=i(t(o),null,r.highWaterMark,t=>o.end(t));return{source:o,sink:s}}},function(t,e,r){"use strict";const n=r(17),i=r(768),o=r(767),s={flat:r(758),balanced:r(757),trickle:r(755)},a={strategy:"balanced",highWaterMark:100,reduceSingleLeafToSelf:!1};t.exports=function(t,e,r){n(t,"Missing chunker creator function"),n(e,"Missing IPLD");const u=Object.assign({},a,r),c=u.strategy,f=s[c];n(f,"Unknown importer build strategy name: "+c);const l=o(t,e,f,u);return i(l,e,u)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(250),o=(n=i)&&n.__esModule?n:{default:n};e.default=o.default,t.exports=e.default},function(t,e){t.exports=function(t){var e=!1,r=0;return function(){if(r=!0,!e){for(e=!0;r;)r=!1,t();e=!1}}}},function(t,e,r){"use strict";(function(e){const n=r(397),i=r(8),o=r(169),s=r(63),a=r(17),u=r(770),c=r(769),f=r(753),l={fixed:r(735)},h={chunker:"fixed"};t.exports=function(t,r){const p=Object.assign({},h,r),d=l[p.chunker];a(d,"Unknkown chunker named "+p.chunker);let m=0;const g=[],v={sink:o((t,e)=>{m+=t.length,t.forEach(t=>v.source.push(t)),u(e)},null,1,t=>v.source.end(t)),source:s()},y=c(d,t,p),b=f(t,p),w=b.stream(),_=n(()=>{});return i(v,_,y,i.map(t=>(--m||e.nextTick(()=>{for(;g.length;)g.shift()()}),t)),w),{sink:v.sink,source:w.source,flush:function(t){_.pause(),m?g.push(e):e();function e(){b.flush((e,r)=>{if(e)return w.source.end(e),void t(e);_.resume(),t(null,r)})}}}}}).call(this,r(2))},function(t,e,r){"use strict";e.importer=e.Importer=r(772),e.exporter=e.Exporter=r(733)},function(t,e,r){"use strict";(function(e,n){const i=r(773),o=i.importer,s=i.exporter,a=r(26),u=r(8),c=r(725),f=r(63),l=r(442),h=r(272),p=r(336),d=r(120),m=r(724),g=r(723).Duplex,v=r(0).Buffer,y=r(18),b=r(38).toB58String;function w(){}function _(t){return Array.isArray(t)||(t=[t]),t.map(t=>(e.isBuffer(t)&&(t={path:"",content:u.values([t])}),m.readable(t)&&(t={path:"",content:h.source(t)}),t&&t.content&&"function"!=typeof t.content&&(e.isBuffer(t.content)&&(t.content=u.values([t.content])),m.readable(t.content)&&(t.content=h.source(t.content))),t))}function k(t){return e.isBuffer(t)&&(t=b(t)),0===t.indexOf("/ipfs/")&&(t=t.substring("/ipfs/".length)),"/"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t}t.exports=function(t){function r(e){const r=Object.assign({},{shardSplitThreshold:t._options.EXPERIMENTAL.sharding?1e3:1/0},e);let n=0,i=r.progress||(()=>{});return r.progress=(t=>{i(n+=t)}),u(u.map(_),u.flatten(),o(t._ipld,r),u.asyncMap(function(t,e,r,n){e=e||{},d([e=>t.object.get(r.multihash,e),(t,n)=>{let i=new y(t.multihash);1===e["cid-version"]&&(i=i.toV1());const o=i.toBaseEncodedString();n(null,{path:r.path||o,hash:o,size:t.size})}],n)}.bind(null,t,r)))}function i(e){if("function"==typeof e)throw new Error("You must supply an ipfsPath");const r=k((e=k(e)).split("/").slice(1).join("/")),n=t=>r&&t.path===r||t.path===e,i=p.source();return u(s(e,t._ipld),u.collect((t,e)=>{if(t)return i.abort(t);if(e&&e.length>1&&(e=e.filter(n)),!e||!e.length)return i.abort(new Error("No such file"));const r=e[0],o=r.content;if(!o&&"dir"===r.type)return i.abort(new Error("this dag node is a directory"));i.resolve(o)})),i}function h(e,r){const i=k(e),o=r&&r.recursive,a=i.split("/").length,c=o?n.Infinity:a;return u(s(e,t._ipld,{maxDepth:c}),u.filter(t=>o?t.depth>=a:t.depth===a),u.map(t=>{const e=new y(t.hash);return delete(t=Object.assign({},t,{hash:e.toBaseEncodedString()})).content,t}))}return{add:a((t,n,i)=>{if("function"==typeof n?(i=n,n={}):i&&"function"==typeof i||(i=w),!(e.isBuffer(t)||m.readable(t)||Array.isArray(t)||v.isBuffer(t)||"object"==typeof t))return i(new Error("first arg must be a buffer, readable stream, an object or array of objects"));u(u.values([t]),r(n),c((t,e)=>t.path<e.path?1:t.path>e.path?-1:0),u.collect(i))}),addReadableStream:t=>{t=t||{};const e=f(),n=new class extends g{constructor(t,e,r){super(Object.assign({objectMode:!0},r)),this._pullStream=t,this._pushable=e,this._waitingPullFlush=[]}_read(){this._pullStream(null,(t,e)=>{for(;this._waitingPullFlush.length;)this._waitingPullFlush.shift()();t?t instanceof Error&&this.emit("error",t):this.push(e)})}_write(t,e,r){this._waitingPullFlush.push(r),this._pushable.push(t)}}(u(e,r(t)),e);return n.once("finish",()=>e.end()),n},addPullStream:r,cat:a((t,r)=>{u(i(t),u.collect((t,n)=>{if(t)return r(t);r(null,e.concat(n))}))}),catReadableStream:t=>l.source(i(t)),catPullStream:i,get:a((r,n)=>{u(s(r,t._ipld),u.asyncMap((t,r)=>{t.content?u(t.content,u.collect((n,i)=>{if(n)return r(n);t.content=e.concat(i),r(null,t)})):r(null,t)}),u.collect(n))}),getReadableStream:e=>l.source(u(s(e,t._ipld),u.map(t=>(t.content&&(t.content=l.source(t.content),t.content.pause()),t)))),getPullStream:e=>s(e,t._ipld),lsImmutable:a((t,e,r)=>{"function"==typeof e&&(r=e,e={}),u(h(t,e),u.collect((t,e)=>{t?r(t):r(null,e)}))}),lsReadableStreamImmutable:(t,e)=>l.source(h(t,e)),lsPullStreamImmutable:h}}}).call(this,r(0).Buffer,r(7))},function(t,e,r){"use strict";const n=r(26);t.exports=function(t){return n(t=>{t(new Error("Not implemented"))})}},function(t,e,r){"use strict";const n=r(25),i=r(26),o=r(278),s=r(398).OFFLINE_ERROR;t.exports=function(t){return{peers:i((e,r)=>{if("function"==typeof e&&(r=e,e={}),!t.isOnline())return r(new Error(s));const n=e.v||e.verbose,i=[];o(t._peerInfoBook.getAll()).forEach(t=>{const e=t.isConnected();if(!e)return;const r={addr:e,peer:t};n&&(r.latency="unknown"),i.push(r)}),r(null,i)}),addrs:i(e=>{if(!t.isOnline())return e(new Error(s));e(null,o(t._peerInfoBook.getAll()))}),localAddrs:i(e=>{if(!t.isOnline())return e(new Error(s));e(null,t._libp2pNode.peerInfo.multiaddrs.toArray())}),connect:i((e,r)=>{if(!t.isOnline())return r(new Error(s));"string"==typeof e&&(e=n(e)),t._libp2pNode.dial(e,r)}),disconnect:i((e,r)=>{if(!t.isOnline())return r(new Error(s));"string"==typeof e&&(e=n(e)),t._libp2pNode.hangUp(e,r)}),filters:i(t=>t(new Error("Not implemented")))}}},function(t,e,r){"use strict";(function(e){const n=r(30),i=r(48),o=r(25);t.exports=(t=>(function(r,s){let a;if(i.isPeerInfo(r))a=r;else if(o.isMultiaddr(r)||"string"==typeof r){"string"==typeof r&&(r=o(r));const e=r.getPeerId();if(!e)throw new Error("peer multiaddr instance or string must include peerId");try{a=t.peerBook.get(e)}catch(t){a=new i(n.createFromB58String(e))}a.multiaddrs.add(r)}else{if(!n.isPeerId(r))return e(()=>s(new Error("peer type not recognized")));{const e=r.toB58String();try{a=t.peerBook.get(e)}catch(e){return t.peerRouting.findPeer(r,s)}}}e(()=>s(null,a))}))}).call(this,r(12).setImmediate)},function(t,e,r){function n(t){var r;function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;u++;var i=e.formatters[n];if("function"==typeof i){var o=s[u];r=i.call(t,o),s.splice(u,1),u--}return r}),e.formatArgs.call(t,s),(n.log||e.log||console.log.bind(console)).apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),n.destroy=i,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var r;e.save(t),e.names=[],e.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(r=0;r<e.instances.length;r++){var o=e.instances[r];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(34),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,r){(function(n){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(778)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++i)}),t.splice(o,0,n)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,r(2))},function(t,e,r){"use strict";const n=r(779),i=n("libp2p:floodsub");i.err=n("libp2p:floodsub:error"),t.exports={log:i,multicodec:"/floodsub/1.0.0"}},function(t,e,r){"use strict";(function(n){const i=r(81),o=r(86);(e=t.exports).randomSeqno=(()=>i.randomBytes(20).toString("hex")),e.msgId=((t,e)=>t+e),e.anyMatch=((t,e)=>{let r;r=Array.isArray(e)?t=>e.indexOf(t)>-1:t=>e.has(t);for(let e of t)if(r(e))return!0;return!1}),e.ensureArray=(t=>Array.isArray(t)?t:[t]),e.normalizeInRpcMessages=(t=>t?t.map(t=>{const e=Object.assign({},t);return n.isBuffer(t.from)&&(e.from=o.encode(t.from)),e}):t),e.normalizeOutRpcMessages=(t=>t?t.map(t=>{const e=Object.assign({},t);return("string"==typeof t.from||t.from instanceof String)&&(e.from=o.decode(t.from)),e}):t)}).call(this,r(0).Buffer)},function(t,e,r){"use strict";t.exports="\n// topicCID = cid(merkledag_protobuf(topicDescriptor)); (not the topic.name)\nmessage TopicDescriptor {\n  optional string name = 1;\n  optional AuthOpts auth = 2;\n  optional EncOpts enc = 2;\n\n  message AuthOpts {\n    optional AuthMode mode = 1;\n    repeated bytes keys = 2; // root keys to trust\n\n    enum AuthMode {\n      NONE = 0; // no authentication, anyone can publish\n      KEY = 1; // only messages signed by keys in the topic descriptor are accepted\n      WOT = 2; // web of trust, certificates can allow publisher set to grow\n    }\n  }\n\n  message EncOpts {\n    optional EncMode mode = 1;\n    repeated bytes keyHashes = 2; // the hashes of the shared keys used (salted)\n\n    enum EncMode {\n      NONE = 0; // no encryption, anyone can read\n      SHAREDKEY = 1; // messages are encrypted with shared key\n      WOT = 2; // web of trust, certificates can allow publisher set to grow\n    }\n  }\n}"},function(t,e,r){"use strict";t.exports="\nmessage RPC {\n  repeated SubOpts subscriptions = 1;\n  repeated Message msgs = 2;\n\n  message SubOpts {\n    optional bool subscribe = 1; // subscribe or unsubcribe\n    optional string topicCID = 2;\n  }\n\n  message Message {\n    optional bytes from = 1;\n    optional bytes data = 2;\n    optional bytes seqno = 3;\n    repeated string topicIDs = 4; \n  }\n}"},function(t,e,r){"use strict";const n=r(47),i=r(63),o=r(8),s=r(400),a=r(20),u=r(399).rpc.RPC;t.exports=class extends a{constructor(t){super(),this.info=t,this.conn=null,this.topics=new Set,this.stream=null,this._references=0}get isConnected(){return Boolean(this.conn)}get isWritable(){return Boolean(this.stream)}write(t){if(!this.isWritable){const t=this.info.id.toB58String();throw new Error("No writable connection to "+t)}this.stream.push(t)}attachConnection(t){this.conn=t,this.stream=new i,o(this.stream,n.encode(),t,o.onEnd(()=>{this.conn=null,this.stream=null,this.emit("close")})),this.emit("connection")}_sendRawSubscriptions(t,e){if(0===t.size)return;const r=[];t.forEach(t=>{r.push({subscribe:e,topicCID:t})}),this.write(u.encode({subscriptions:r}))}sendSubscriptions(t){this._sendRawSubscriptions(t,!0)}sendUnsubscriptions(t){this._sendRawSubscriptions(t,!1)}sendMessages(t){this.write(u.encode({msgs:t}))}updateSubscriptions(t){t.forEach(t=>{t.subscribe?this.topics.add(t.topicCID):this.topics.delete(t.topicCID)})}close(t){this._references=1,this.stream&&this.stream.end(),s(()=>{this.conn=null,this.stream=null,this.emit("close"),t()})}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,n){return t(e,n)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(r,n,i){return t(r,e,n,i)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,o.default)(arguments),r=e.pop();t.call(this,e,r)}};var n,i=r(402),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(function(e,r){var i;try{i=t.apply(this,e)}catch(t){return r(t)}(0,n.default)(i)&&"function"==typeof i.then?i.then(function(t){a(r,null,t)},function(t){a(r,t.message?t:new Error(t))}):r(null,i)})};var n=s(r(23)),i=s(r(787)),o=s(r(401));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){try{t(e,r)}catch(t){(0,o.default)(u,t)}}function u(t){throw t}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return n&&t[n]&&t[n]()};var n="function"==typeof Symbol&&Symbol.iterator;t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,n.default)(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e=(0,i.default)(t);return e?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(e):(r=t,s=(0,o.default)(r),a=-1,u=s.length,function(){var t=s[++a];return a<u?{value:r[t],key:t}:null});var r,s,a,u};var n=s(r(10)),i=s(r(789)),o=s(r(46));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,u){if(u=(0,i.default)(u||n.default),t<=0||!e)return u(null);var c=(0,o.default)(e),f=!1,l=0;function h(t,e){if(l-=1,t)f=!0,u(t);else{if(e===a.default||f&&l<=0)return f=!0,u(null);p()}}function p(){for(;l<t&&!f;){var e=c();if(null===e)return f=!0,void(l<=0&&u(null));l+=1,r(e.value,e.key,(0,s.default)(h))}}p()}};var n=u(r(4)),i=u(r(404)),o=u(r(790)),s=u(r(403)),a=u(r(405));function u(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,o){(0,n.default)(e)(t,(0,i.default)(r),o)};var n=o(r(791)),i=o(r(251));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){((0,n.default)(t)?h:p)(t,(0,f.default)(e),r)};var n=l(r(10)),i=l(r(405)),o=l(r(792)),s=l(r(786)),a=l(r(4)),u=l(r(404)),c=l(r(403)),f=l(r(251));function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e,r){r=(0,u.default)(r||a.default);var n=0,o=0,s=t.length;function f(t,e){t?r(t):++o!==s&&e!==i.default||r(null)}for(0===s&&r(null);n<s;n++)e(t[n],n,(0,c.default)(f))}var p=(0,s.default)(o.default,1/0);t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){(0,n.default)(t,(0,i.default)((0,o.default)(e)),r)};var n=s(r(793)),i=s(r(785)),o=s(r(251));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){(function(e){var r="Expected a function",n=NaN,i="[object Symbol]",o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,f="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,h=f||l||Function("return this")(),p=Object.prototype.toString,d=Math.max,m=Math.min,g=function(){return h.Date.now()};function v(t,e,n){var i,o,s,a,u,c,f=0,l=!1,h=!1,p=!0;if("function"!=typeof t)throw new TypeError(r);function v(e){var r=i,n=o;return i=o=void 0,f=e,a=t.apply(n,r)}function w(t){var r=t-c;return void 0===c||r>=e||r<0||h&&t-f>=s}function _(){var t=g();if(w(t))return k(t);u=setTimeout(_,function(t){var r=e-(t-c);return h?m(r,s-(t-f)):r}(t))}function k(t){return u=void 0,p&&i?v(t):(i=o=void 0,a)}function S(){var t=g(),r=w(t);if(i=arguments,o=this,c=t,r){if(void 0===u)return function(t){return f=t,u=setTimeout(_,e),l?v(t):a}(c);if(h)return u=setTimeout(_,e),v(c)}return void 0===u&&(u=setTimeout(_,e)),a}return e=b(e)||0,y(n)&&(l=!!n.leading,s=(h="maxWait"in n)?d(b(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),S.cancel=function(){void 0!==u&&clearTimeout(u),f=0,i=c=o=u=void 0},S.flush=function(){return void 0===u?a:k(g())},S}function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function b(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&p.call(t)==i}(t))return n;if(y(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=y(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var r=a.test(t);return r||u.test(t)?c(t.slice(2),r?2:8):s.test(t)?n:+t}t.exports=function(t,e,n){var i=!0,o=!0;if("function"!=typeof t)throw new TypeError(r);return y(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),v(t,e,{leading:i,maxWait:e,trailing:o})}}).call(this,r(7))},function(t,e,r){"use strict";const n=r(795);t.exports=function t(e){if(!(this instanceof t))return new t(e);e=e||{};const r=e.validity||30;const i=new Map;const o=n(()=>{i.forEach((t,e)=>{const n=t.validity||r,o=function(t){const e=(new Date).getTime()-t.getTime();return Math.floor(e/1e3)}(t.timestamp);o>n&&i.delete(e)})},200);this.put=((t,e,r)=>{this.has(t)||i.set(t,{value:e,timestamp:new Date,validity:r}),o()});this.get=(t=>{if(i.has(t))return i.get(t).value;throw new Error("key does not exist")});this.has=(t=>i.has(t))}},function(t,e,r){"use strict";const n=r(20),i=r(796),o=r(278),s=r(8),a=r(47),u=r(17),c=r(794),f=r(784),l=r(781),h=r(399),p=r(780),d=r(3).Buffer,m=p.log,g=p.multicodec,v=l.ensureArray,y=r(400);t.exports=class extends n{constructor(t){super(),this.libp2p=t,this.started=!1,this.cache=new i,this.peers=new Map,this.subscriptions=new Set,this._onConnection=this._onConnection.bind(this),this._dialPeer=this._dialPeer.bind(this)}_addPeer(t){const e=t.info.id.toB58String();let r=this.peers.get(e);return r||(m("new peer",e),this.peers.set(e,t),r=t,t.once("close",()=>this._removePeer(t))),++r._references,r}_removePeer(t){const e=t.info.id.toB58String();return m("remove",e,t._references),0==--t._references&&(m("delete peer",e),this.peers.delete(e)),t}_dialPeer(t,e){e=e||function(){};const r=t.id.toB58String(),n=this.peers.get(r);if(n&&n.isConnected)return y(()=>e());m("dialing %s",r),this.libp2p.dialProtocol(t,g,(r,n)=>{if(r)return m.err(r),e();this._onDial(t,n,e)})}_onDial(t,e,r){const n=t.id.toB58String();m("connected",n);const i=this._addPeer(new f(t));i.attachConnection(e),i.sendSubscriptions(this.subscriptions),y(()=>r())}_onConnection(t,e){e.getPeerInfo((t,r)=>{if(t)return m.err("Failed to identify incomming conn",t),s(s.empty(),e);const n=r.id.toB58String(),i=this._addPeer(new f(r));this._processConnection(n,e,i)})}_processConnection(t,e,r){s(e,a.decode(),s.map(t=>h.rpc.RPC.decode(t)),s.drain(e=>this._onRpc(t,e),e=>this._onConnectionEnd(t,r,e)))}_onRpc(t,e){if(!e)return;m("rpc from",t);const r=e.subscriptions,n=e.msgs;if(n&&n.length&&this._processRpcMessages(l.normalizeInRpcMessages(e.msgs)),r&&r.length){const e=this.peers.get(t);e&&e.updateSubscriptions(r)}}_processRpcMessages(t){t.forEach(t=>{const e=l.msgId(t.from,t.seqno.toString());this.cache.has(e)||(this.cache.put(e),this._emitMessages(t.topicIDs,[t]),this._forwardMessages(t.topicIDs,[t]))})}_onConnectionEnd(t,e,r){r&&"socket hang up"!==r.message&&m.err(r),m("connection ended",t,r?r.message:""),this._removePeer(e)}_emitMessages(t,e){t.forEach(t=>{this.subscriptions.has(t)&&e.forEach(e=>{this.emit(t,e)})})}_forwardMessages(t,e){this.peers.forEach(r=>{r.isWritable&&l.anyMatch(r.topics,t)&&(r.sendMessages(l.normalizeOutRpcMessages(e)),m("publish msgs on topics",t,r.info.id.toB58String()))})}start(t){if(this.started)return y(()=>t(new Error("already started")));this.libp2p.handle(g,this._onConnection),this.libp2p.on("peer:connect",this._dialPeer);const e=o(this.libp2p.peerBook.getAll());c(e,(t,e)=>this._dialPeer(t,e),e=>{y(()=>{this.started=!0,t(e)})})}stop(t){if(!this.started)return y(()=>t(new Error("not started yet")));this.libp2p.unhandle(g),this.libp2p.removeListener("peer:connect",this._dialPeer),m("stopping"),c(this.peers.values(),(t,e)=>t.close(e),e=>{if(e)return t(e);m("stopped"),this.peers=new Map,this.subscriptions=new Set,this.started=!1,t()})}publish(t,e){u(this.started,"FloodSub is not started"),m("publish",t,e),t=v(t),e=v(e);const r=this.libp2p.peerInfo.id.toB58String(),n=e.map(e=>{const n=l.randomSeqno();return this.cache.put(l.msgId(r,n)),{from:r,data:e,seqno:new d(n),topicIDs:t}});this._emitMessages(t,n),this._forwardMessages(t,n)}subscribe(t){u(this.started,"FloodSub is not started"),(t=v(t)).forEach(t=>this.subscriptions.add(t)),this.peers.forEach(e=>(function e(r){if(r&&r.isWritable)return r.sendSubscriptions(t);const n=()=>{r.removeListener("connection",n),e(r)};r.on("connection",n),r.once("close",()=>r.removeListener("connection",n))})(e))}unsubscribe(t){this.started&&((t=v(t)).forEach(t=>this.subscriptions.delete(t)),this.peers.forEach(e=>(function e(r){r&&r.isWritable?r.sendUnsubscriptions(t):y(e.bind(r))})(e)))}}},function(t,e,r){"use strict";e.NOT_STARTED_YET="The libp2p node is not started yet"},function(t,e,r){"use strict";(function(e){const n=r(435),i=r(798).NOT_STARTED_YET,o=r(797);var s;t.exports=(t=>{const r=new o(t);return t._floodSub=r,{subscribe:(e,o,a,u)=>{if("function"==typeof o&&(u=a,a=o,o={}),!t.isStarted()&&!r.started)return n(()=>u(new Error(i)));s=u,0===r.listenerCount(e)&&r.subscribe(e),r.on(e,a),n(s)},unsubscribe:(e,n)=>{if(!t.isStarted()&&!r.started)throw new Error(i);r.removeListener(e,n),0===r.listenerCount(e)&&r.unsubscribe(e)},publish:(o,s,a)=>t.isStarted()||r.started?e.isBuffer(s)?(r.publish(o,s),void n(()=>a())):n(()=>a(new Error("data must be a Buffer"))):n(()=>a(new Error(i))),ls:e=>{if(!t.isStarted()&&!r.started)return n(()=>e(new Error(i)));const o=Array.from(r.subscriptions);n(()=>e(null,o))},peers:(e,o)=>{if(!t.isStarted()&&!r.started)return n(()=>o(new Error(i)));"function"==typeof e&&(o=e,e=null);const s=Array.from(r.peers.values()).filter(t=>!e||t.topics.has(e)).map(t=>t.info.id.toB58String());n(()=>o(null,s))},setMaxListeners:t=>r.setMaxListeners(t)}})}).call(this,r(0).Buffer)},function(t,e,r){"use strict";t.exports=(t=>({put:(e,r,n)=>{if(!t._dht)return n(new Error("DHT is not available"));t._dht.put(e,r,n)},get:(e,r)=>{if(!t._dht)return r(new Error("DHT is not available"));t._dht.get(e,r)},getMany(e,r,n){if(!t._dht)return n(new Error("DHT is not available"));t._dht.getMany(e,r,n)}}))},function(t,e,r){"use strict";t.exports=(t=>({findProviders:(e,r,n)=>{if(!t._dht)return n(new Error("DHT is not available"));t._dht.findProviders(e,r,n)},provide:(e,r)=>{if(!t._dht)return r(new Error("DHT is not available"));t._dht.provide(e,r)}}))},function(t,e,r){"use strict";t.exports=(t=>({findPeer:(e,r)=>{if(!t._dht)return r(new Error("DHT is not available"));t._dht.findPeer(e,r)}}))},function(t,e,r){"use strict";const n=r(81),i=r(252);t.exports.rnd=(t=>(t||(t=i.PING_LENGTH),n.randomBytes(t)))},function(t,e,r){"use strict";const n=r(20).EventEmitter,i=r(8),o=r(92),s=r(252),a=r(803).rnd,u=r(117),c=u("libp2p-ping");c.error=u("libp2p-ping:error");const f=s.PROTOCOL,l=s.PING_LENGTH;t.exports=class extends n{constructor(t,e){super();let r,n=!1,s=this;c("dialing %s to %s",f,e.id.toB58String()),t.dial(e,f,(t,e)=>{if(t)return this.emit("error",t);const u=o({timeout:0});r=u.handshake,i(u,e,u),function t(){let e=new Date,i=a(l);r.write(i),r.read(l,(r,o)=>{let a=new Date;if(r||!i.equals(o)){const t=new Error("Received wrong ping ack");return s.emit("error",t)}s.emit("ping",a-e),n||t()})}()}),this.stop=(()=>{!n&&r&&(n=!0,i(i.empty(),r.rest()))})}}},function(t,e,r){"use strict";const n=r(8),i=r(92),o=r(252),s=o.PROTOCOL,a=o.PING_LENGTH,u=r(117),c=u("libp2p-ping");c.error=u("libp2p-ping:error"),(e=t.exports).mount=function(t){t.handle(s,(t,e)=>{const r=i({timeout:0}),o=r.handshake;n(e,r,e),function t(){o.read(a,(e,r)=>{if(!0!==e)return e?c.error(e):(o.write(r),t())})}()})},e.unmount=function(t){t.unhandle(s)}},function(t,e,r){"use strict";const n=r(805);(e=t.exports=r(804)).mount=n.mount,e.unmount=n.unmount},function(t,e,r){"use strict";const n=r(260),i=r(44).Connection,o=r(256),s=r(406),a=r(415),u=r(140)("libp2p:swarm:dial"),c=r(172);t.exports=function(t){return(e,r,f)=>{"function"==typeof r&&(f=r,r=null),f=f||function(){};const l=s(e,t._peerBook),h=new i,p=l.id.toB58String();if(u("dialing %s",p),t.muxedConns[p]){if(!r)return f();m(t.muxedConns[p].muxer)}else if(t.conns[p]){const e=t.conns[p];t.conns[p]=void 0,d(e)}else!function(e,r){if(!t.hasTransports())return r(new Error("No transports registered, dial not possible"));const i=t.availableTransports(e);let o=!1;!function s(c){let f=c;if(!f){if(o)return r(new Error("Circuit already tried!"));if(!t.transports[a.tag])return r(new Error("Circuit not enabled!"));u("Falling back to dialing over circuit"),e.multiaddrs.add(`/p2p-circuit/ipfs/${e.id.toB58String()}`),o=!0,f=a.tag}u(`dialing transport ${f}`),t.transport.dial(f,e,(o,a)=>{if(o)return u(o),s(i.shift());!function(){const i=new n.Dialer;i.handle(a,n=>{if(n)return r(n);const o=t._peerInfo.id;u("selecting crypto: %s",t.crypto.tag),i.select(t.crypto.tag,(n,i)=>{if(n)return r(n);const s=t.crypto.encrypt(o,i,e.id,t=>{if(t)return r(t);r(null,s)})})})}()})}(i.shift())}(l,(t,e)=>{if(t)return f(t);d(e)});return h;function d(e){e.setPeerInfo(l),function(e,r){const i=Object.keys(t.muxers);if(0===i.length)return r(new Error("no muxers available"));const s=new n.Dialer;s.handle(e,e=>{if(e)return r(new Error("multistream not supported"));!function e(n){u("selecting %s",n),s.select(n,(s,a)=>{if(s)return void(0===i.length?r(new Error("could not upgrade to stream muxing")):e(i.shift()));const u=t.muxers[n].dialer(a);t.muxedConns[p]={},t.muxedConns[p].muxer=u,u.once("close",()=>{const e=l.id.toB58String();delete t.muxedConns[e],l.disconnect(),t._peerBook.get(e).disconnect(),o(()=>t.emit("peer-mux-closed",l))}),u.on("stream",e=>{c(t.protocols,e)}),o(()=>t.emit("peer-mux-established",l)),r(null,u)})}(i.shift())})}(e,(n,i)=>{if(!r)return n&&(t.conns[p]=e),f();n?g(e,r,f):m(i)})}function m(e){t.identify,function(t,e){e(t.newStream())}(e,t=>{g(t,r,f)})}function g(t,e,r){const i=new n.Dialer;i.handle(t,t=>{if(t)return r(t);i.select(e,(t,e)=>{if(t)return r(t);h.setInnerConn(e),r(null,h)})})}}}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},function(t,e,r){var n=r(23),i=r(589),o=r(808),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=i(t),r=[];for(var a in t)("constructor"!=a||!e&&s.call(t,a))&&r.push(a);return r}},function(t,e,r){var n=r(591),i=r(809),o=r(10);t.exports=function(t){return o(t)?n(t,!0):i(t)}},function(t,e,r){var n=r(408),i=r(10),o=r(590),s=r(23);t.exports=function(t,e,r){if(!s(r))return!1;var a=typeof e;return!!("number"==a?i(r)&&o(e,r.length):"string"==a&&e in r)&&n(r[e],t)}},function(t,e){var r=800,n=16,i=Date.now;t.exports=function(t){var e=0,o=0;return function(){var s=i(),a=n-(s-o);if(o=s,a>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,r){var n=r(813),i=r(409),o=r(257),s=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:o;t.exports=s},function(t,e,r){var n=r(814),i=r(812)(n);t.exports=i},function(t,e){t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},function(t,e,r){var n=r(816),i=Math.max;t.exports=function(t,e,r){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,s=-1,a=i(o.length-e,0),u=Array(a);++s<a;)u[s]=o[e+s];s=-1;for(var c=Array(e+1);++s<e;)c[s]=o[s];return c[e]=r(u),n(t,this,c)}}},function(t,e,r){var n=r(257),i=r(817),o=r(815);t.exports=function(t,e){return o(i(t,e,n),t+"")}},function(t,e,r){var n=r(818),i=r(811);t.exports=function(t){return n(function(e,r){var n=-1,o=r.length,s=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(s=t.length>3&&"function"==typeof s?(o--,s):void 0,a&&i(r[0],r[1],a)&&(s=o<3?void 0:s,o=1),e=Object(e);++n<o;){var u=r[n];u&&t(e,u,n,s)}return e})}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e){var r=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,r){var n=r(345)["__core-js_shared__"];t.exports=n},function(t,e,r){var n,i=r(822),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!o&&o in t}},function(t,e,r){var n=r(596),i=r(823),o=r(23),s=r(821),a=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,f=u.toString,l=c.hasOwnProperty,h=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(n(t)?h:a).test(s(t))}},function(t,e,r){var n=r(824),i=r(820);t.exports=function(t,e){var r=i(t,e);return n(r)?r:void 0}},function(t,e,r){var n=r(410),i=r(408),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var s=t[e];o.call(t,e)&&i(s,r)&&(void 0!==r||e in t)||n(t,e,r)}},function(t,e,r){var n=r(826),i=r(410);t.exports=function(t,e,r,o){var s=!r;r||(r={});for(var a=-1,u=e.length;++a<u;){var c=e[a],f=o?o(r[c],t[c],c,r,t):void 0;void 0===f&&(f=t[c]),s?i(r,c,f):n(r,c,f)}return r}},function(t,e,r){var n=r(827),i=r(819),o=r(810),s=i(function(t,e,r,i){n(e,o(e),t,i)});t.exports=s},function(t,e,r){"use strict";(function(e){r(652),r(3);const n=r(8),i=r(114),o=r(48),s=r(30),a=r(20).EventEmitter,u=r(55),c=r(139),f=r(254),l=r(828),h=r(138),p=r(25),d=r(253),m=i("libp2p:swarm:circuit:relay");m.err=i("libp2p:swarm:circuit:error:relay");t.exports=class extends a{constructor(t,e){super(),this.swarm=t,this.peerInfo=this.swarm._peerInfo,this.utils=c(t),this.config=l({active:!1,enabled:!1},e,(t,e)=>void 0!==e&&e),this.active=this.config.active}handle(t,r){if(!this.config.enabled)return this.utils.writeResponse(r,h.CircuitRelay.Status.HOP_CANT_SPEAK_RELAY);if(t.type===h.CircuitRelay.Type.CAN_HOP)return this.utils.writeResponse(r,h.CircuitRelay.Status.SUCCESS);if(s.createFromBytes(t.dstPeer.id).toB58String()===this.peerInfo.id.toB58String())return this.utils.writeResponse(r,h.CircuitRelay.Status.HOP_CANT_RELAY_TO_SELF);const n=s.createFromBytes(t.dstPeer.id).toB58String();if(!t.dstPeer.addrs.length){const e=p(`/p2p-circuit/ipfs/${n}`).buffer;t.dstPeer.addrs.push(e)}this.utils.validateAddrs(t,r,h.CircuitRelay.Type.HOP,i=>{if(i)return m(i);let o;try{if(!(o=this.swarm._peerBook.get(n)).isConnected()&&!this.active)throw new Error("No Connection to peer")}catch(i){if(!this.active)return m.err(i),e(()=>this.emit("circuit:error",i)),this.utils.writeResponse(r,h.CircuitRelay.Status.HOP_NO_CONN_TO_DST)}return this._circuit(r.rest(),t,t=>{t&&(m.err(t),e(()=>this.emit("circuit:error",t))),e(()=>this.emit("circuit:success"))})})}_circuit(t,e,r){this._dialPeer(e.dstPeer,(i,o)=>{const s=new f(t);return i?(this.utils.writeResponse(s,h.CircuitRelay.Status.HOP_CANT_DIAL_DST),n(n.empty(),s.rest()),m.err(i),r(i)):this.utils.writeResponse(s,h.CircuitRelay.Status.SUCCESS,i=>{if(i)return m.err(i),r(i);const a=new f(o),u=Object.assign({},e,{type:h.CircuitRelay.Type.STOP});a.write(h.CircuitRelay.encode(u),e=>{if(e){const i=new f(t);return this.utils.writeResponse(i,h.CircuitRelay.Status.HOP_CANT_OPEN_DST_STREAM),n(n.empty(),i.rest()),m.err(e),r(e)}a.read((t,e)=>{if(t)return m.err(t),r(t);const i=h.CircuitRelay.decode(e),o=s.rest();i.code===h.CircuitRelay.Status.SUCCESS?(n(o,a.rest(),o),r()):n(n.empty(),o)})})})})}_dialPeer(t,e){const r=new o(s.createFromBytes(t.id));t.addrs.forEach(t=>r.multiaddrs.add(t)),this.swarm.dial(r,d.relay,u((t,r)=>{if(t)return m.err(t),e(t);e(null,r)}))}}}).call(this,r(12).setImmediate)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(r,n,i){return t(r,e,n,i)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return n&&t[n]&&t[n]()};var n="function"==typeof Symbol&&Symbol.iterator;t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,n.default)(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e=(0,i.default)(t);return e?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(e):(r=t,s=(0,o.default)(r),a=-1,u=s.length,function(){var t=s[++a];return a<u?{value:r[t],key:t}:null});var r,s,a,u};var n=s(r(10)),i=s(r(832)),o=s(r(46));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,u){if(u=(0,i.default)(u||n.default),t<=0||!e)return u(null);var c=(0,o.default)(e),f=!1,l=0;function h(t,e){if(l-=1,t)f=!0,u(t);else{if(e===a.default||f&&l<=0)return f=!0,u(null);p()}}function p(){for(;l<t&&!f;){var e=c();if(null===e)return f=!0,void(l<=0&&u(null));l+=1,r(e.value,e.key,(0,s.default)(h))}}p()}};var n=u(r(4)),i=u(r(414)),o=u(r(833)),s=u(r(413)),a=u(r(831));function u(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,o){(0,n.default)(e)(t,(0,i.default)(r),o)};var n=o(r(834)),i=o(r(255));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(835)),i=o(r(830));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)(n.default,1),t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){r=r||n.default;var a=(0,i.default)(e)?[]:{};t(e,function(t,e,r){(0,s.default)(t)(function(t,n){arguments.length>2&&(n=(0,o.default)(arguments,1)),a[e]=n,r(t)})},function(t){r(t,a)})};var n=a(r(4)),i=a(r(10)),o=a(r(170)),s=a(r(255));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,n.default)(i.default,t,e)};var n=o(r(837)),i=o(r(836));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";const n=r(411),i=r(20).EventEmitter,o=r(44).Connection,s=r(139),a=r(48),u=r(30),c=r(138),f=r(838),l=r(114),h=l("libp2p:circuit:stop");h.err=l("libp2p:circuit:error:stop");t.exports=class extends i{constructor(t){super(),this.swarm=t,this.utils=s(t)}handle(t,e,r){var i;r=r||(()=>{}),f([r=>this.utils.validateAddrs(t,e,c.CircuitRelay.Type.STOP,r),t=>this.utils.writeResponse(e,c.CircuitRelay.Status.Success,t)],s=>{if(s)return r(),h(s);const c=new a("string"==typeof(i=t.srcPeer.id)?u.createFromB58String(i):u.createFromBytes(i));t.srcPeer.addrs.forEach(t=>c.multiaddrs.add(t));const f=new o(e.rest());f.setPeerInfo(c),n(()=>this.emit("connection",f)),r(f)})}}},function(t,e,r){"use strict";const n=r(411),i=r(253),o=r(20).EventEmitter,s=r(25),a=r(80),u=r(839),c=r(829),f=r(138),l=r(139),h=r(254),p=r(114),d=p("libp2p:circuit:listener");d.err=p("libp2p:circuit:error:listener"),t.exports=((t,e,r)=>{const p=new o,m=l(t);return p.stopHandler=new u(t),p.hopHandler=new c(t,e.hop),p.listen=((e,o)=>{o=o||(()=>{}),t.handle(i.relay,(t,e)=>{const n=new h(e);n.read((t,e)=>{if(t)return void d.err(t);let i=null;try{i=f.CircuitRelay.decode(e)}catch(t){return m.writeResponse(n,f.CircuitRelay.Status.MALFORMED_MESSAGE)}switch(i.type){case f.CircuitRelay.Type.CAN_HOP:case f.CircuitRelay.Type.HOP:return p.hopHandler.handle(i,n);case f.CircuitRelay.Type.STOP:return p.stopHandler.handle(i,n,r);default:return m.writeResponse(n,f.CircuitRelay.Status.INVALID_MSG_TYPE)}})}),n(()=>p.emit("listen")),o()}),p.close=(e=>{t.unhandle(i.stop),n(()=>p.emit("close")),e()}),p.getAddrs=(e=>{let r=t._peerInfo.multiaddrs.toArray(),n=r.filter(e=>a.Circuit.matches(e)&&!e.toString().includes(t._peerInfo.id.toB58String()));n.length&&(r=n);let i=[];r.forEach(e=>{const r=`/p2p-circuit/ipfs/${t._peerInfo.id.toB58String()}`;e.toString()!==r?a.Circuit.matches(e)?i.push(e.encapsulate(`/ipfs/${t._peerInfo.id.toB58String()}`)):e.getPeerId()?i.push(s("/p2p-circuit").encapsulate(e)):i.push(s("/p2p-circuit").encapsulate(`${e}/ipfs/${t._peerInfo.id.toB58String()}`)):i.push(s(r))}),e(null,i)}),p})},function(t,e,r){function n(t){var r;function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;u++;var i=e.formatters[n];if("function"==typeof i){var o=s[u];r=i.call(t,o),s.splice(u,1),u--}return r}),e.formatArgs.call(t,s),(n.log||e.log||console.log.bind(console)).apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),n.destroy=i,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var r;e.save(t),e.names=[],e.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(r=0;r<e.instances.length;r++){var o=e.instances[r];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(34),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,r){"use strict";t.exports="\nmessage CircuitRelay {\n\n  enum Status {\n    SUCCESS                    = 100;\n    HOP_SRC_ADDR_TOO_LONG      = 220;\n    HOP_DST_ADDR_TOO_LONG      = 221;\n    HOP_SRC_MULTIADDR_INVALID  = 250;\n    HOP_DST_MULTIADDR_INVALID  = 251;\n    HOP_NO_CONN_TO_DST         = 260;\n    HOP_CANT_DIAL_DST          = 261;\n    HOP_CANT_OPEN_DST_STREAM   = 262;\n    HOP_CANT_SPEAK_RELAY       = 270;\n    HOP_CANT_RELAY_TO_SELF     = 280;\n    STOP_SRC_ADDR_TOO_LONG     = 320;\n    STOP_DST_ADDR_TOO_LONG     = 321;\n    STOP_SRC_MULTIADDR_INVALID = 350;\n    STOP_DST_MULTIADDR_INVALID = 351;\n    STOP_RELAY_REFUSED         = 390;\n    MALFORMED_MESSAGE          = 400;\n  }\n\n  enum Type { // RPC identifier, either HOP, STOP or STATUS\n    HOP = 1;\n    STOP = 2;\n    STATUS = 3;\n    CAN_HOP = 4;\n  }\n\n  message Peer {\n    required bytes id = 1;    // peer id\n    repeated bytes addrs = 2; // peer's known addresses\n  }\n\n  optional Type type = 1;     // Type of the message\n\n  optional Peer srcPeer = 2;  // srcPeer and dstPeer are used when Type is HOP or STATUS\n  optional Peer dstPeer = 3;\n\n  optional Status code = 4;   // Status code, used when Type is STATUS\n}\n"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,o.default)(arguments),r=e.pop();t.call(this,e,r)}};var n,i=r(170),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(function(e,r){var i;try{i=t.apply(this,e)}catch(t){return r(t)}(0,n.default)(i)&&"function"==typeof i.then?i.then(function(t){a(r,null,t)},function(t){a(r,t.message?t:new Error(t))}):r(null,i)})};var n=s(r(23)),i=s(r(843)),o=s(r(412));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){try{t(e,r)}catch(t){(0,o.default)(u,t)}}function u(t){throw t}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(e=(0,o.default)(e||i.default),!(0,n.default)(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function c(e){var n=(0,u.default)(t[r++]);e.push((0,a.default)(f)),n.apply(null,e)}function f(n){if(n||r===t.length)return e.apply(null,arguments);c((0,s.default)(arguments,1))}c([])};var n=c(r(31)),i=c(r(4)),o=c(r(414)),s=c(r(170)),a=c(r(413)),u=c(r(255));function c(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";(function(e){const n=r(44).Connection,i=r(423),o=r(25),s=r(55),a=r(845),u=r(139),c=r(254),f=r(30),l=r(114),h=l("libp2p:circuit:dialer");h.err=l("libp2p:circuit:error:dialer");const p=r(253),d=r(138);t.exports=class{constructor(t,e){this.swarm=t,this.relayPeers=new Map,this.options=e,this.utils=u(t)}dial(t,r){r=r||(()=>{});const i=t.toString();if(!i.includes("/p2p-circuit"))return h.err("invalid circuit address"),r(new Error("invalid circuit address"));const s=i.split("p2p-circuit"),a="/"===s[0]?null:o(s[0]),u=o(s[1]||s[0]),c=new n;return e(this._dialPeer.bind(this),u,a,(t,e)=>{if(t)return h.err(t),r(t);c.setInnerConn(e),r(null,c)}),c}canHop(t,e){if(e=s(e||(()=>{})),!this.relayPeers.get(this.utils.getB58String(t))){let r;a([e=>this._dialRelay(t,e),(t,e)=>{r=t,e()},t=>r.write(d.CircuitRelay.encode({type:d.CircuitRelay.Type.CAN_HOP}),t),t=>r.read(t),(e,r)=>{if(d.CircuitRelay.decode(e).code!==d.CircuitRelay.Status.SUCCESS)return h(`HOP not supported, skipping - ${this.utils.getB58String(t)}`);h(`HOP supported adding as relay - ${this.utils.getB58String(t)}`),this.relayPeers.set(this.utils.getB58String(t),t),r(null)}],e)}return e(null)}_dialPeer(t,e,r){if(i(e)&&(r=e,e=null),r||(r=(()=>{})),t=o(t),e)return this._negotiateRelay(e,t,(t,e)=>t?(h.err("An error has occurred negotiating the relay connection",t),r(t)):r(null,e));{const e=Array.from(this.relayPeers.values());let n=i=>{if(!i){let t="no relay peers were found or all relays failed to dial";return h.err(t),r(t)}return this._negotiateRelay(i,t,(t,i)=>{if(t)return h.err(t),n(e.shift());r(null,i)})};n(e.shift())}}_negotiateRelay(t,e,r){e=o(e);const i=this.swarm._peerInfo.multiaddrs.toArray();let s;a([e=>t instanceof n?e(null,new c(t)):this._dialRelay(this.utils.peerInfoFromMa(t),e),(t,e)=>{s=t,e(null)},t=>{h(`negotiating relay for peer ${e.getPeerId()}`),s.write(d.CircuitRelay.encode({type:d.CircuitRelay.Type.HOP,srcPeer:{id:this.swarm._peerInfo.id.id,addrs:i.map(t=>t.buffer)},dstPeer:{id:f.createFromB58String(e.getPeerId()).id,addrs:[e.buffer]}}),t)},t=>s.read(t),(t,e)=>{const r=d.CircuitRelay.decode(t);return r.type!==d.CircuitRelay.Type.STATUS?e(new Error("Got invalid message type - "+`expected ${d.CircuitRelay.Type.STATUS} got ${r.type}`)):r.code!==d.CircuitRelay.Status.SUCCESS?e(new Error(`Got ${r.code} error code trying to dial over relay`)):void e(null,new n(s.rest()))}],r)}_dialRelay(t,e){e=s(e||(()=>{})),this.swarm.dial(t,p.relay,s((t,r)=>{if(t)return h.err(t),e(t);e(null,new c(r))}))}}}).call(this,r(12).setImmediate)},function(t,e,r){"use strict";const n=r(80),i=r(25),o=r(846),s=r(139),a=r(114);a("libp2p:circuit:transportdialer").err=a("libp2p:circuit:error:transportdialer");const u=r(840);t.exports=class{static get tag(){return"Circuit"}constructor(t,e){this.options=e||{},this.swarm=t,this.dialer=null,this.utils=s(t),this.peerInfo=this.swarm._peerInfo,this.relays=this.filter(this.peerInfo.multiaddrs.toArray()),0===this.relays.length&&this.peerInfo.multiaddrs.add(`/p2p-circuit/ipfs/${this.peerInfo.id.toB58String()}`),this.dialer=new o(t,e),this.swarm.on("peer-mux-established",this.dialer.canHop.bind(this.dialer)),this.swarm.on("peer-mux-closed",t=>{this.dialer.relayPeers.delete(t.id.toB58String())})}_dialSwarmRelays(){this.relays.forEach(t=>{t.toString().split("/p2p-circuit").filter(t=>t.length).forEach(t=>{this.dialer._dialRelay(this.utils.peerInfoFromMa(i(t)))})})}dial(t,e,r){return this.dialer.dial(t,e,r)}createListener(t,e){"function"==typeof t&&(e=t,t=this.options||{});const r=u(this.swarm,t,e);return r.on("listen",this._dialSwarmRelays.bind(this)),r}filter(t){return Array.isArray(t)||(t=[t]),t.filter(t=>n.Circuit.matches(t))}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(e=(0,o.default)(e||i.default),!(0,n.default)(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function c(e){var n=(0,u.default)(t[r++]);e.push((0,a.default)(f)),n.apply(null,e)}function f(n){if(n||r===t.length)return e.apply(null,arguments);c((0,s.default)(arguments,1))}c([])};var n=c(r(31)),i=c(r(4)),o=c(r(262)),s=c(r(173)),a=c(r(174)),u=c(r(62));function c(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";const n=r(48),i=r(30),o=r(25),s=r(8),a=r(47),u=r(416);t.exports=((t,e)=>{s(t,a.decode(),s.take(1),s.collect((t,r)=>{if(t)return e(t);if(0===r.length)return e(new Error("conn was closed, did not receive data"));const s=u.decode(r[0]);i.createFromPubKey(s.publicKey,(t,r)=>{if(t)return e(t);const i=new n(r);s.listenAddrs.map(o).forEach(t=>i.multiaddrs.add(t)),e(null,i,function(t){if(!function(t){return t.observedAddr&&t.observedAddr.length>0}(t))return[];let e=t.observedAddr;Array.isArray(t.observedAddr)||(e=[e]);return e.map(t=>o(t))}(s))})}))})},function(t,e,r){"use strict";(function(e){const n=r(8),i=r(47),o=r(416);t.exports=((t,r)=>{t.getObservedAddrs((s,a)=>{if(s)return;a=a[0];let u=e.alloc(0);r.id.pubKey&&(u=r.id.pubKey.bytes);const c=o.encode({protocolVersion:"ipfs/0.1.0",agentVersion:"na",publicKey:u,listenAddrs:r.multiaddrs.toArray().map(t=>t.buffer),observedAddr:a?a.buffer:e.from("")});n(n.values([c]),i.encode(),t)})})}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(e=t.exports).multicodec="/ipfs/id/1.0.0",e.listener=r(850),e.dialer=r(849)},function(t,e,r){"use strict";const n=r(851),i=r(260),o=r(848),s=r(140)("libp2p:swarm:connection"),a=r(55),u=r(256),c=r(415),f=r(172),l=r(407);t.exports=function(t){return{addUpgrade(){},addStreamMuxer(e){t.muxers[e.multicodec]=e,t.handle(e.multicodec,(r,c)=>{const l=e.listener(c);return l.on("stream",e=>{f(t.protocols,e)}),t.identify&&(c.getPeerInfo=(e=>{const r=l.newStream(),s=new i.Dialer;e=a(e),o([t=>s.handle(r,t),t=>s.select(n.multicodec,t),(t,e)=>n.dialer(t,e),(e,r,n)=>{r.forEach(e=>{t._peerInfo.multiaddrs.addSafe(e)}),n(null,e)}],e)}),c.getPeerInfo((e,r)=>{if(e)return s("Identify not successful");const n=r.id.toB58String();t.muxedConns[n]={muxer:l},r.multiaddrs.size>0?r.connect(r.multiaddrs.toArray()[0]):r.connect(`/ipfs/${n}`),r=t._peerBook.put(r),l.on("close",()=>{delete t.muxedConns[n],r.disconnect(),r=t._peerBook.put(r),u(()=>t.emit("peer-mux-closed",r))}),u(()=>t.emit("peer-mux-established",r))})),c})},reuse(){t.identify=!0,t.handle(n.multicodec,(e,r)=>{n.listener(r,t._peerInfo)})},enableCircuitRelay(e){(e=e||{}).enabled&&(e.hop||Object.assign(e,{hop:{enabled:!1,active:!1}}),t.transport.add(c.tag,new c(t,e)))},crypto(e,r){e||r||(e=l.tag,r=l.encrypt),t.unhandle(t.crypto.tag),t.handle(e,(e,n)=>{const i=t._peerInfo.id,o=r(i,n,void 0,()=>{f(t.protocols,o)})}),t.crypto={tag:e,encrypt:r}}}}},function(t,e,r){"use strict";function n(){this.head=this.tail=null,this.length=0}function i(t,e){t.length=1,t.head=t.tail=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n,n.prototype.removeLink=function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t},n.prototype.empty=function(){for(;this.head;)this.shift();return this},n.prototype.insertAfter=function(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1},n.prototype.insertBefore=function(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1},n.prototype.unshift=function(t){this.head?this.insertBefore(this.head,t):i(this,t)},n.prototype.push=function(t){this.tail?this.insertAfter(this.tail,t):i(this,t)},n.prototype.shift=function(){return this.head&&this.removeLink(this.head)},n.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},n.prototype.toArray=function(){for(var t=Array(this.length),e=this.head,r=0;r<this.length;r++)t[r]=e.data,e=e.next;return t},n.prototype.remove=function(t){for(var e=this.head;e;){var r=e.next;t(e)&&this.removeLink(e),e=r}return this},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var f=(0,c.default)(t),l=0,h=[],p=!1;function d(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(v.started=!0,(0,i.default)(t)||(t=[t]),0===t.length&&v.idle())return(0,a.default)(function(){v.drain()});for(var n=0,s=t.length;n<s;n++){var u={data:t[n],callback:r||o.default};e?v._tasks.unshift(u):v._tasks.push(u)}p||(p=!0,(0,a.default)(function(){p=!1,v.process()}))}function m(t){return function(e){l-=1;for(var r=0,i=t.length;r<i;r++){var o=t[r],s=(0,n.default)(h,o,0);0===s?h.shift():s>0&&h.splice(s,1),o.callback.apply(o,arguments),null!=e&&v.error(e,o.data)}l<=v.concurrency-v.buffer&&v.unsaturated(),v.idle()&&v.drain(),v.process()}}var g=!1,v={_tasks:new u.default,concurrency:e,payload:r,saturated:o.default,unsaturated:o.default,buffer:e/4,empty:o.default,drain:o.default,error:o.default,started:!1,paused:!1,push:function(t,e){d(t,!1,e)},kill:function(){v.drain=o.default,v._tasks.empty()},unshift:function(t,e){d(t,!0,e)},remove:function(t){v._tasks.remove(t)},process:function(){if(!g){for(g=!0;!v.paused&&l<v.concurrency&&v._tasks.length;){var t=[],e=[],r=v._tasks.length;v.payload&&(r=Math.min(r,v.payload));for(var n=0;n<r;n++){var i=v._tasks.shift();t.push(i),h.push(i),e.push(i.data)}l+=1,0===v._tasks.length&&v.empty(),l===v.concurrency&&v.saturated();var o=(0,s.default)(m(t));f(e,o)}g=!1}},length:function(){return v._tasks.length},running:function(){return l},workersList:function(){return h},idle:function(){return v._tasks.length+l===0},pause:function(){v.paused=!0},resume:function(){!1!==v.paused&&(v.paused=!1,(0,a.default)(v.process))}};return v};var n=f(r(338)),i=f(r(31)),o=f(r(4)),s=f(r(174)),a=f(r(261)),u=f(r(853)),c=f(r(62));function f(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var r=(0,i.default)(t);return(0,n.default)(function(t,e){r(t[0],e)},e,1)};var n=o(r(854)),i=o(r(62));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var o=(0,i.default)(t);return(0,n.default)(function(n,i){var s,a=!1;n.push(function(){a||(i.apply(null,arguments),clearTimeout(s))}),s=setTimeout(function(){var e=t.name||"anonymous",n=new Error('Callback function "'+e+'" timed out.');n.code="ETIMEDOUT",r&&(n.info=r);a=!0,i(n)},e),o.apply(null,n)})};var n=o(r(426)),i=o(r(62));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";const n=r(44).Connection,i=r(8),o=r(856),s=r(855),a=r(140)("libp2p:swarm:dialer:queue");t.exports=class{constructor(t,e){this.dialTimeout=e,this.queue=s((t,e)=>{this._doWork(t.transport,t.addr,t.token,e)},t)}_doWork(t,e,r,o){a("work"),this._dialWithTimeout(t,e,(t,s)=>t?(a("work:error"),o(null,{error:t})):r.cancel?(a("work:cancel"),i(i.empty(),s),o(null,{cancel:!0})):(r.cancel=!0,a("work:success"),(new n).setInnerConn(s),void o(null,{multiaddr:e,conn:s})))}_dialWithTimeout(t,e,r){o(r=>{const n=t.dial(e,t=>{if(t)return r(t);r(null,n)})},this.dialTimeout)(r)}push(t,e,r,n){this.queue.push({transport:t,addr:e,token:r},n)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,o){o=o||n.default,e=e||[];var s=[],a=0,u=(0,i.default)(r);t(e,function(t,e,r){var n=a++;u(t,function(t,e){s[n]=e,r(t)})},function(t){o(t,s)})};var n=o(r(4)),i=o(r(62));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,o){return t(n.default,e,(0,i.default)(r),o)}};var n=o(r(263)),i=o(r(62));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(859)),i=o(r(858));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,n.default)(i.default),t.exports=e.default},function(t,e,r){"use strict";const n=r(860),i=r(140),o=r(55),s=i("libp2p:swarm:dialer"),a=r(857);t.exports=class{constructor(t,e){s("create: %s peer limit, %s dial timeout",t,e),this.perPeerLimit=t,this.dialTimeout=e,this.queues=new Map}dialMany(t,e,r,i){s("dialMany:start");const a={cancel:!1};i=o(i),n(r,(r,n)=>{this.dialSingle(t,e,r,a,n)},(t,e)=>{if(t)return i(t);const r=e.filter(t=>t.conn);if(r.length>0)return s("dialMany:success"),i(null,r[0]);s("dialMany:error");const n=new Error("Failed to dial any provided address");return n.errors=e.filter(t=>t.error).map(t=>t.error),i(n)})}dialSingle(t,e,r,n,i){const o=t.toB58String();let u;s("dialSingle: %s:%s",o,r.toString()),this.queues.has(o)?u=this.queues.get(o):(u=new a(this.perPeerLimit,this.dialTimeout),this.queues.set(o,u)),u.push(e,r,n,i)}}},function(t,e,r){(function(r){var n;e=t.exports=Y,n="object"==typeof r&&r.env&&r.env.NODE_DEBUG&&/\bsemver\b/i.test(r.env.NODE_DEBUG)?function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var i=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,s=e.re=[],a=e.src=[],u=0,c=u++;a[c]="0|[1-9]\\d*";var f=u++;a[f]="[0-9]+";var l=u++;a[l]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var h=u++;a[h]="("+a[c]+")\\.("+a[c]+")\\.("+a[c]+")";var p=u++;a[p]="("+a[f]+")\\.("+a[f]+")\\.("+a[f]+")";var d=u++;a[d]="(?:"+a[c]+"|"+a[l]+")";var m=u++;a[m]="(?:"+a[f]+"|"+a[l]+")";var g=u++;a[g]="(?:-("+a[d]+"(?:\\."+a[d]+")*))";var v=u++;a[v]="(?:-?("+a[m]+"(?:\\."+a[m]+")*))";var y=u++;a[y]="[0-9A-Za-z-]+";var b=u++;a[b]="(?:\\+("+a[y]+"(?:\\."+a[y]+")*))";var w=u++,_="v?"+a[h]+a[g]+"?"+a[b]+"?";a[w]="^"+_+"$";var k="[v=\\s]*"+a[p]+a[v]+"?"+a[b]+"?",S=u++;a[S]="^"+k+"$";var x=u++;a[x]="((?:<|>)?=?)";var E=u++;a[E]=a[f]+"|x|X|\\*";var C=u++;a[C]=a[c]+"|x|X|\\*";var A=u++;a[A]="[v=\\s]*("+a[C]+")(?:\\.("+a[C]+")(?:\\.("+a[C]+")(?:"+a[g]+")?"+a[b]+"?)?)?";var M=u++;a[M]="[v=\\s]*("+a[E]+")(?:\\.("+a[E]+")(?:\\.("+a[E]+")(?:"+a[v]+")?"+a[b]+"?)?)?";var I=u++;a[I]="^"+a[x]+"\\s*"+a[A]+"$";var T=u++;a[T]="^"+a[x]+"\\s*"+a[M]+"$";var O=u++;a[O]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var B=u++;a[B]="(?:~>?)";var P=u++;a[P]="(\\s*)"+a[B]+"\\s+",s[P]=new RegExp(a[P],"g");var N=u++;a[N]="^"+a[B]+a[A]+"$";var R=u++;a[R]="^"+a[B]+a[M]+"$";var F=u++;a[F]="(?:\\^)";var j=u++;a[j]="(\\s*)"+a[F]+"\\s+",s[j]=new RegExp(a[j],"g");var L=u++;a[L]="^"+a[F]+a[A]+"$";var D=u++;a[D]="^"+a[F]+a[M]+"$";var U=u++;a[U]="^"+a[x]+"\\s*("+k+")$|^$";var z=u++;a[z]="^"+a[x]+"\\s*("+_+")$|^$";var H=u++;a[H]="(\\s*)"+a[x]+"\\s*("+k+"|"+a[A]+")",s[H]=new RegExp(a[H],"g");var K=u++;a[K]="^\\s*("+a[A]+")\\s+-\\s+("+a[A]+")\\s*$";var q=u++;a[q]="^\\s*("+a[M]+")\\s+-\\s+("+a[M]+")\\s*$";var V=u++;a[V]="(<|>)?=?\\s*\\*";for(var W=0;W<u;W++)n(W,a[W]),s[W]||(s[W]=new RegExp(a[W]));function G(t,e){if(t instanceof Y)return t;if("string"!=typeof t)return null;if(t.length>i)return null;if(!(e?s[S]:s[w]).test(t))return null;try{return new Y(t,e)}catch(t){return null}}function Y(t,e){if(t instanceof Y){if(t.loose===e)return t;t=t.version}else if("string"!=typeof t)throw new TypeError("Invalid Version: "+t);if(t.length>i)throw new TypeError("version is longer than "+i+" characters");if(!(this instanceof Y))return new Y(t,e);n("SemVer",t,e),this.loose=e;var r=t.trim().match(e?s[S]:s[w]);if(!r)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(t){if(/^[0-9]+$/.test(t)){var e=+t;if(e>=0&&e<o)return e}return t}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}e.parse=G,e.valid=function(t,e){var r=G(t,e);return r?r.version:null},e.clean=function(t,e){var r=G(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null},e.SemVer=Y,Y.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},Y.prototype.toString=function(){return this.version},Y.prototype.compare=function(t){return n("SemVer.compare",this.version,this.loose,t),t instanceof Y||(t=new Y(t,this.loose)),this.compareMain(t)||this.comparePre(t)},Y.prototype.compareMain=function(t){return t instanceof Y||(t=new Y(t,this.loose)),Z(this.major,t.major)||Z(this.minor,t.minor)||Z(this.patch,t.patch)},Y.prototype.comparePre=function(t){if(t instanceof Y||(t=new Y(t,this.loose)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var r=this.prerelease[e],i=t.prerelease[e];if(n("prerelease compare",e,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return Z(r,i)}while(++e)},Y.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this},e.inc=function(t,e,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new Y(t,r).inc(e,n).version}catch(t){return null}},e.diff=function(t,e){if(tt(t,e))return null;var r=G(t),n=G(e);if(r.prerelease.length||n.prerelease.length){for(var i in r)if(("major"===i||"minor"===i||"patch"===i)&&r[i]!==n[i])return"pre"+i;return"prerelease"}for(var i in r)if(("major"===i||"minor"===i||"patch"===i)&&r[i]!==n[i])return i},e.compareIdentifiers=Z;var $=/^[0-9]+$/;function Z(t,e){var r=$.test(t),n=$.test(e);return r&&n&&(t=+t,e=+e),r&&!n?-1:n&&!r?1:t<e?-1:t>e?1:0}function X(t,e,r){return new Y(t,r).compare(new Y(e,r))}function J(t,e,r){return X(t,e,r)>0}function Q(t,e,r){return X(t,e,r)<0}function tt(t,e,r){return 0===X(t,e,r)}function et(t,e,r){return 0!==X(t,e,r)}function rt(t,e,r){return X(t,e,r)>=0}function nt(t,e,r){return X(t,e,r)<=0}function it(t,e,r,n){var i;switch(e){case"===":"object"==typeof t&&(t=t.version),"object"==typeof r&&(r=r.version),i=t===r;break;case"!==":"object"==typeof t&&(t=t.version),"object"==typeof r&&(r=r.version),i=t!==r;break;case"":case"=":case"==":i=tt(t,r,n);break;case"!=":i=et(t,r,n);break;case">":i=J(t,r,n);break;case">=":i=rt(t,r,n);break;case"<":i=Q(t,r,n);break;case"<=":i=nt(t,r,n);break;default:throw new TypeError("Invalid operator: "+e)}return i}function ot(t,e){if(t instanceof ot){if(t.loose===e)return t;t=t.value}if(!(this instanceof ot))return new ot(t,e);n("comparator",t,e),this.loose=e,this.parse(t),this.semver===st?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}e.rcompareIdentifiers=function(t,e){return Z(e,t)},e.major=function(t,e){return new Y(t,e).major},e.minor=function(t,e){return new Y(t,e).minor},e.patch=function(t,e){return new Y(t,e).patch},e.compare=X,e.compareLoose=function(t,e){return X(t,e,!0)},e.rcompare=function(t,e,r){return X(e,t,r)},e.sort=function(t,r){return t.sort(function(t,n){return e.compare(t,n,r)})},e.rsort=function(t,r){return t.sort(function(t,n){return e.rcompare(t,n,r)})},e.gt=J,e.lt=Q,e.eq=tt,e.neq=et,e.gte=rt,e.lte=nt,e.cmp=it,e.Comparator=ot;var st={};function at(t,e){if(t instanceof at)return t.loose===e?t:new at(t.raw,e);if(t instanceof ot)return new at(t.value,e);if(!(this instanceof at))return new at(t,e);if(this.loose=e,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(function(t){return this.parseRange(t.trim())},this).filter(function(t){return t.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}function ut(t){return!t||"x"===t.toLowerCase()||"*"===t}function ct(t,e,r,n,i,o,s,a,u,c,f,l,h){return((e=ut(r)?"":ut(n)?">="+r+".0.0":ut(i)?">="+r+"."+n+".0":">="+e)+" "+(a=ut(u)?"":ut(c)?"<"+(+u+1)+".0.0":ut(f)?"<"+u+"."+(+c+1)+".0":l?"<="+u+"."+c+"."+f+"-"+l:"<="+a)).trim()}function ft(t,e){for(var r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length){for(r=0;r<t.length;r++)if(n(t[r].semver),t[r].semver!==st&&t[r].semver.prerelease.length>0){var i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}function lt(t,e,r){try{e=new at(e,r)}catch(t){return!1}return e.test(t)}function ht(t,e,r,n){var i,o,s,a,u;switch(t=new Y(t,n),e=new at(e,n),r){case">":i=J,o=nt,s=Q,a=">",u=">=";break;case"<":i=Q,o=rt,s=J,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(lt(t,e,n))return!1;for(var c=0;c<e.set.length;++c){var f=null,l=null;if(e.set[c].forEach(function(t){t.semver===st&&(t=new ot(">=0.0.0")),f=f||t,l=l||t,i(t.semver,f.semver,n)?f=t:s(t.semver,l.semver,n)&&(l=t)}),f.operator===a||f.operator===u)return!1;if((!l.operator||l.operator===a)&&o(t,l.semver))return!1;if(l.operator===u&&s(t,l.semver))return!1}return!0}ot.prototype.parse=function(t){var e=this.loose?s[U]:s[z],r=t.match(e);if(!r)throw new TypeError("Invalid comparator: "+t);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new Y(r[2],this.loose):this.semver=st},ot.prototype.toString=function(){return this.value},ot.prototype.test=function(t){return n("Comparator.test",t,this.loose),this.semver===st||("string"==typeof t&&(t=new Y(t,this.loose)),it(t,this.operator,this.semver,this.loose))},ot.prototype.intersects=function(t,e){if(!(t instanceof ot))throw new TypeError("a Comparator is required");var r;if(""===this.operator)return r=new at(t.value,e),lt(this.value,r,e);if(""===t.operator)return r=new at(this.value,e),lt(t.semver,r,e);var n=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),o=this.semver.version===t.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),a=it(this.semver,"<",t.semver,e)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),u=it(this.semver,">",t.semver,e)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return n||i||o&&s||a||u},e.Range=at,at.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim(),this.range},at.prototype.toString=function(){return this.range},at.prototype.parseRange=function(t){var e=this.loose;t=t.trim(),n("range",t,e);var r=e?s[q]:s[K];t=t.replace(r,ct),n("hyphen replace",t),t=t.replace(s[H],"$1$2$3"),n("comparator trim",t,s[H]),t=(t=(t=t.replace(s[P],"$1~")).replace(s[j],"$1^")).split(/\s+/).join(" ");var i=e?s[U]:s[z],o=t.split(" ").map(function(t){return function(t,e){return n("comp",t),t=function(t,e){return t.trim().split(/\s+/).map(function(t){return function(t,e){n("caret",t,e);var r=e?s[D]:s[L];return t.replace(r,function(e,r,i,o,s){var a;return n("caret",t,e,r,i,o,s),ut(r)?a="":ut(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":ut(o)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),"-"!==s.charAt(0)&&(s="-"+s),a="0"===r?"0"===i?">="+r+"."+i+"."+o+s+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",a),a})}(t,e)}).join(" ")}(t,e),n("caret",t),t=function(t,e){return t.trim().split(/\s+/).map(function(t){return function(t,e){var r=e?s[R]:s[N];return t.replace(r,function(e,r,i,o,s){var a;return n("tilde",t,e,r,i,o,s),ut(r)?a="":ut(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":ut(o)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":s?(n("replaceTilde pr",s),"-"!==s.charAt(0)&&(s="-"+s),a=">="+r+"."+i+"."+o+s+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a})}(t,e)}).join(" ")}(t,e),n("tildes",t),t=function(t,e){return n("replaceXRanges",t,e),t.split(/\s+/).map(function(t){return function(t,e){t=t.trim();var r=e?s[T]:s[I];return t.replace(r,function(e,r,i,o,s,a){n("xRange",t,e,r,i,o,s,a);var u=ut(i),c=u||ut(o),f=c||ut(s),l=f;return"="===r&&l&&(r=""),u?e=">"===r||"<"===r?"<0.0.0":"*":r&&l?(c&&(o=0),f&&(s=0),">"===r?(r=">=",c?(i=+i+1,o=0,s=0):f&&(o=+o+1,s=0)):"<="===r&&(r="<",c?i=+i+1:o=+o+1),e=r+i+"."+o+"."+s):c?e=">="+i+".0.0 <"+(+i+1)+".0.0":f&&(e=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",e),e})}(t,e)}).join(" ")}(t,e),n("xrange",t),t=function(t,e){return n("replaceStars",t,e),t.trim().replace(s[V],"")}(t,e),n("stars",t),t}(t,e)}).join(" ").split(/\s+/);return this.loose&&(o=o.filter(function(t){return!!t.match(i)})),o=o.map(function(t){return new ot(t,e)})},at.prototype.intersects=function(t,e){if(!(t instanceof at))throw new TypeError("a Range is required");return this.set.some(function(r){return r.every(function(r){return t.set.some(function(t){return t.every(function(t){return r.intersects(t,e)})})})})},e.toComparators=function(t,e){return new at(t,e).set.map(function(t){return t.map(function(t){return t.value}).join(" ").trim().split(" ")})},at.prototype.test=function(t){if(!t)return!1;"string"==typeof t&&(t=new Y(t,this.loose));for(var e=0;e<this.set.length;e++)if(ft(this.set[e],t))return!0;return!1},e.satisfies=lt,e.maxSatisfying=function(t,e,r){var n=null,i=null;try{var o=new at(e,r)}catch(t){return null}return t.forEach(function(t){o.test(t)&&(n&&-1!==i.compare(t)||(i=new Y(n=t,r)))}),n},e.minSatisfying=function(t,e,r){var n=null,i=null;try{var o=new at(e,r)}catch(t){return null}return t.forEach(function(t){o.test(t)&&(n&&1!==i.compare(t)||(i=new Y(n=t,r)))}),n},e.validRange=function(t,e){try{return new at(t,e).range||"*"}catch(t){return null}},e.ltr=function(t,e,r){return ht(t,e,"<",r)},e.gtr=function(t,e,r){return ht(t,e,">",r)},e.outside=ht,e.prerelease=function(t,e){var r=G(t,e);return r&&r.prerelease.length?r.prerelease:null},e.intersects=function(t,e,r){return t=new at(t,r),e=new at(e,r),t.intersects(e)},e.coerce=function(t){if(t instanceof Y)return t;if("string"!=typeof t)return null;var e=t.match(s[O]);return null==e?null:G((e[1]||"0")+"."+(e[2]||"0")+"."+(e[3]||"0"))}}).call(this,r(2))},function(t,e,r){"use strict";const n=r(862);t.exports=function(t,e,r){const i=t.split("/"),o=e.split("/"),s=i[1],a=i[2],u=o[1],c=o[2];if(s!==u)return r(null,!1);r(null,n.satisfies(a,"~"+c))}},function(t,e,r){"use strict";const n=r(35),i=r(8),o=r(47),s=r(44).Connection,a=r(171),u=r(422),c=r(55),f=r(417).PROTOCOL_ID;function l(t){return t.toString().slice(0,-1)}t.exports=class{constructor(){this.conn=null,this.log=a.log.dialer()}handle(t,e){this.log("dialer handle conn"),e=c(e);const r=u(f,(r,n)=>{if(r)return e(r);this.log("handshake success"),this.conn=new s(n,t),e()},this.log);i(t,r,t)}select(t,e){if(this.log("dialer select "+t),e=c(e),!this.conn)return e(new Error("multistream handshake has not finalized yet"));const r=u(t,(t,r)=>{if(t)return this.conn=new s(r,this.conn),e(t);e(null,new s(r,this.conn))},this.log);i(this.conn,r,this.conn)}ls(t){t=c(t);const e=u("ls",(e,r)=>{if(e)return t(e);i(r,o.decode(),function(t){let e=0;return i.take(t=>(n.decode(t),e=n.decode(t,n.decode.bytes),!0))}(),i.map(l),i.collect((e,r)=>{if(e)return t(e);t(null,r.slice(1))}))},this.log);i(this.conn,e,this.conn)}}},function(t,e,r){"use strict";(function(e){const n=r(8),i=r(47),o=r(35);t.exports=function(t,r){const s=Object.keys(t.handlers).filter(t=>"ls"!==t),a=s.length,u=s.reduce((t,r)=>{const n=e.from(r+"\n");return t+o.encodingLength(n.length)},0),c=e.concat([e.from(o.encode(a)),e.from(o.encode(u)),e.from("\n")]),f=s.map(t=>e.from(t+"\n")),l=[c].concat(f);n(n.values(l),i.encode(),r)}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(r,n,i){return t(r,e,n,i)}},t.exports=e.default},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(419),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,o.default)(arguments),r=e.pop();t.call(this,e,r)}};var n,i=r(419),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(function(e,r){var i;try{i=t.apply(this,e)}catch(t){return r(t)}(0,n.default)(i)&&"function"==typeof i.then?i.then(function(t){a(r,null,t)},function(t){a(r,t.message?t:new Error(t))}):r(null,i)})};var n=s(r(23)),i=s(r(868)),o=s(r(867));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){try{t(e,r)}catch(t){(0,o.default)(u,t)}}function u(t){throw t}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return n&&t[n]&&t[n]()};var n="function"==typeof Symbol&&Symbol.iterator;t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,n.default)(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e=(0,i.default)(t);return e?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(e):(r=t,s=(0,o.default)(r),a=-1,u=s.length,function(){var t=s[++a];return a<u?{value:r[t],key:t}:null});var r,s,a,u};var n=s(r(10)),i=s(r(870)),o=s(r(46));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,u){if(u=(0,i.default)(u||n.default),t<=0||!e)return u(null);var c=(0,o.default)(e),f=!1,l=0;function h(t,e){if(l-=1,t)f=!0,u(t);else{if(e===a.default||f&&l<=0)return f=!0,u(null);p()}}function p(){for(;l<t&&!f;){var e=c();if(null===e)return f=!0,void(l<=0&&u(null));l+=1,r(e.value,e.key,(0,s.default)(h))}}p()}};var n=u(r(4)),i=u(r(421)),o=u(r(871)),s=u(r(420)),a=u(r(259));function u(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,o){(0,n.default)(e)(t,(0,i.default)(r),o)};var n=o(r(872)),i=o(r(258));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){((0,n.default)(t)?h:p)(t,(0,f.default)(e),r)};var n=l(r(10)),i=l(r(259)),o=l(r(873)),s=l(r(866)),a=l(r(4)),u=l(r(421)),c=l(r(420)),f=l(r(258));function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e,r){r=(0,u.default)(r||a.default);var n=0,o=0,s=t.length;function f(t,e){t?r(t):++o!==s&&e!==i.default||r(null)}for(0===s&&r(null);n<s;n++)e(t[n],n,(0,c.default)(f))}var p=(0,s.default)(o.default,1/0);t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,o){return t(n.default,e,(0,i.default)(r),o)}};var n=o(r(874)),i=o(r(258));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(r,o,s,a){a=a||n.default;var u,c=!1;r(o,function(r,n,o){s(r,function(n,s){n?o(n):t(s)&&!u?(c=!0,u=e(!0,r),o(null,i.default)):o()})},function(t){t?a(t):a(null,c?u:e(!1))})}};var n=o(r(4)),i=o(r(259));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(r(876)),i=s(r(875)),o=s(r(257));function s(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)((0,n.default)(Boolean,o.default)),t.exports=e.default},function(t,e,r){"use strict";(function(e){const n=r(92),i=r(47),o=r(44).Connection,s=r(171).writeEncoded,a=r(877);t.exports=function(t,r,u){const c=t=>{u.error(t)},f=n({timeout:6e4},c),l=f.handshake;return function n(){i.decodeFromReader(l,(i,f)=>{if(i)return c(i);u("received:",f.toString());const h=f.toString().slice(0,-1);!function(t,e,r){const n=Object.keys(e);let i=!1;a(n,(r,n)=>{e[r].matchFunc(r,t,(t,e)=>{if(t)return n(t);e&&(i=r),n()})},t=>{if(t)return r(t);r(null,i)})}(h,r,(i,a)=>{if(i)return c(i);const p=a;if(p){u("send ack back of: "+h),s(l,f,c);const e=new o(l.rest(),t);r[p].handlerFunc(h,e)}else u("not supported protocol: "+h),s(l,e.from("na\n")),n()})})}(),f}}).call(this,r(0).Buffer)},function(t,e,r){function n(t){var r;function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;u++;var i=e.formatters[n];if("function"==typeof i){var o=s[u];r=i.call(t,o),s.splice(u,1),u--}return r}),e.formatArgs.call(t,s),(n.log||e.log||console.log.bind(console)).apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),n.destroy=i,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var r;e.save(t),e.names=[],e.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(r=0;r<e.instances.length;r++){var o=e.instances[r];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(34),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,r){(function(n){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(879)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++i)}),t.splice(o,0,n)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,r(2))},function(t,e,r){"use strict";const n=r(8),i=r(423),o=r(17),s=r(422),a=r(878),u=r(865),c=r(418),f=r(171),l=r(44).Connection,h=r(417).PROTOCOL_ID;t.exports=class{constructor(){this.handlers={ls:{handlerFunc:(t,e)=>u(this,e),matchFunc:c}},this.log=f.log.listener()}handle(t,e){this.log("listener handle conn");const r=s(h,(r,i)=>{if(r)return e(r);const o=new l(i,t),s=a(o,this.handlers,this.log);n(o,s,o),e()},this.log);n(t,r,t)}addHandler(t,e,r){this.log("adding handler: "+t),o(i(e),"handler must be a function"),this.handlers[t]&&this.log("overwriting handler for "+t),r||(r=c),this.handlers[t]={handlerFunc:e,matchFunc:r}}}},function(t,e,r){function n(t){var r;function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;u++;var i=e.formatters[n];if("function"==typeof i){var o=s[u];r=i.call(t,o),s.splice(u,1),u--}return r}),e.formatArgs.call(t,s),(n.log||e.log||console.log.bind(console)).apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),n.destroy=i,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var r;e.save(t),e.names=[],e.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(r=0;r<e.instances.length;r++){var o=e.instances[r];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(34),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,i.default)(n.default,t,e)};var n=o(r(263)),i=o(r(424));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";const n=r(883),i=r(55),o=r(140)("libp2p:swarm:transport"),s=r(172),a=r(861);function u(t,e){return t.filter(e)}t.exports=function(t){const e=new a(8,3e4);return{add(e,r,n){if(n=n||{},o("adding %s",e),t.transports[e])throw new Error("There is already a transport with this key");t.transports[e]=r,t.transports[e].listeners||(t.transports[e].listeners=[])},dial(r,n,i){const s=t.transports[r];let a=n.multiaddrs.toArray();Array.isArray(a)||(a=[a]),a=u(s,a),o("dialing %s",r,a.map(t=>t.toString())),e.dialMany(n.id,s,a,(e,r)=>{if(e)return i(e);n.connect(r.multiaddr),t._peerBook.put(n),i(null,r.conn)})},listen(e,r,o,a){o||(o=s.bind(null,t.protocols));const c=u(t.transports[e],t._peerInfo.multiaddrs.distinct()),f=t.transports[e];f.listeners||(f.listeners=[]);let l=[];const h=c.map(t=>e=>{const r=i(e),n=f.createListener(o);n.once("error",r),n.listen(t,t=>{if(t)return r(t);n.removeListener("error",r),n.getAddrs((t,e)=>{if(t)return r(t);l=l.concat(e),f.listeners.push(n),r()})})});n(h,e=>{if(e)return a(e);t._peerInfo.multiaddrs.replace(c,l),a()})},close(e,r){const i=t.transports[e];if(!i)return r(new Error(`Trying to close non existing transport: ${e}`));n(i.listeners.map(t=>e=>{t.close(e)}),r)}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(427)),i=o(r(425));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)(n.default,1),t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,n.default)(i.default,t,e)};var n=o(r(424)),i=o(r(885));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,n){return t(e,n)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(function(e,r){var i;try{i=t.apply(this,e)}catch(t){return r(t)}(0,n.default)(i)&&"function"==typeof i.then?i.then(function(t){a(r,null,t)},function(t){a(r,t.message?t:new Error(t))}):r(null,i)})};var n=s(r(23)),i=s(r(426)),o=s(r(261));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){try{t(e,r)}catch(t){(0,o.default)(u,t)}}function u(t){throw t}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return n&&t[n]&&t[n]()};var n="function"==typeof Symbol&&Symbol.iterator;t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,n.default)(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e=(0,i.default)(t);return e?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(e):(r=t,s=(0,o.default)(r),a=-1,u=s.length,function(){var t=s[++a];return a<u?{value:r[t],key:t}:null});var r,s,a,u};var n=s(r(10)),i=s(r(889)),o=s(r(46));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,u){if(u=(0,i.default)(u||n.default),t<=0||!e)return u(null);var c=(0,o.default)(e),f=!1,l=0;function h(t,e){if(l-=1,t)f=!0,u(t);else{if(e===a.default||f&&l<=0)return f=!0,u(null);p()}}function p(){for(;l<t&&!f;){var e=c();if(null===e)return f=!0,void(l<=0&&u(null));l+=1,r(e.value,e.key,(0,s.default)(h))}}p()}};var n=u(r(4)),i=u(r(262)),o=u(r(890)),s=u(r(174)),a=u(r(428));function u(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){(0,n.default)(t,(0,i.default)((0,o.default)(e)),r)};var n=s(r(263)),i=s(r(887)),o=s(r(62));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";const n=r(20).EventEmitter,i=r(892),o=r(886),s=r(884),a=r(852),u=r(406),c=r(807),f=r(172),l=r(407),h=r(17);t.exports=class extends n{constructor(t,e){super(),h(t,"You must provide a `peerInfo`"),h(e,"You must provide a `peerBook`"),this._peerInfo=t,this._peerBook=e,this.setMaxListeners(1/0),this.transports={},this.conns={},this.muxedConns={},this.protocols={},this.muxers={},this.identify=!1,this.crypto=l,this.transport=s(this),this.connection=a(this),this.hasTransports=(()=>{const t=Object.keys(this.transports).filter(t=>"Circuit"!==t);return t&&t.length>0}),this.availableTransports=(t=>{const e=t.multiaddrs.toArray();return Object.keys(this.transports).filter(t=>this.transports[t].filter(e).length>0).sort(t=>"Circuit"===t?1:0)}),this.handle(this.crypto.tag,(t,e)=>{const r=this._peerInfo.id,n=this.crypto.encrypt(r,e,void 0,()=>{});return f(this.protocols,n)}),this.dial=c(this)}start(t){i(this.availableTransports(this._peerInfo),(t,e)=>{this.transport.listen(t,{},null,e)},t)}stop(t){o([t=>i(this.muxedConns,(t,e)=>{t.muxer.end(t=>{if(t&&"Fatal error: OK"!==t.message)return e(t);e()})},t),t=>{i(this.transports,(t,e)=>{i(t.listeners,(t,e)=>{t.close(e)},e)},t)}],t)}handle(t,e,r){this.protocols[t]={handlerFunc:e,matchFunc:r}}unhandle(t){this.protocols[t]&&delete this.protocols[t]}hangUp(t,e){const r=u(t,this.peerBook).id.toB58String();if(this.muxedConns[r]){const t=this.muxedConns[r].muxer;t.once("close",()=>{delete this.muxedConns[r],e()}),t.end()}else e()}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(432)),i=o(r(429));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)(n.default,1),t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){r=r||n.default;var a=(0,i.default)(e)?[]:{};t(e,function(t,e,r){(0,s.default)(t)(function(t,n){arguments.length>2&&(n=(0,o.default)(arguments,1)),a[e]=n,r(t)})},function(t){r(t,a)})};var n=a(r(4)),i=a(r(10)),o=a(r(264)),s=a(r(175));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,n.default)(i.default,t,e)};var n=o(r(895)),i=o(r(894));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,n){return t(e,n)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,o.default)(arguments),r=e.pop();t.call(this,e,r)}};var n,i=r(264),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(function(e,r){var i;try{i=t.apply(this,e)}catch(t){return r(t)}(0,n.default)(i)&&"function"==typeof i.then?i.then(function(t){a(r,null,t)},function(t){a(r,t.message?t:new Error(t))}):r(null,i)})};var n=s(r(23)),i=s(r(898)),o=s(r(434));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){try{t(e,r)}catch(t){(0,o.default)(u,t)}}function u(t){throw t}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return n&&t[n]&&t[n]()};var n="function"==typeof Symbol&&Symbol.iterator;t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,n.default)(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e=(0,i.default)(t);return e?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(e):(r=t,s=(0,o.default)(r),a=-1,u=s.length,function(){var t=s[++a];return a<u?{value:r[t],key:t}:null});var r,s,a,u};var n=s(r(10)),i=s(r(900)),o=s(r(46));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,u){if(u=(0,i.default)(u||n.default),t<=0||!e)return u(null);var c=(0,o.default)(e),f=!1,l=0;function h(t,e){if(l-=1,t)f=!0,u(t);else{if(e===a.default||f&&l<=0)return f=!0,u(null);p()}}function p(){for(;l<t&&!f;){var e=c();if(null===e)return f=!0,void(l<=0&&u(null));l+=1,r(e.value,e.key,(0,s.default)(h))}}p()}};var n=u(r(4)),i=u(r(431)),o=u(r(901)),s=u(r(430)),a=u(r(433));function u(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){((0,n.default)(t)?h:p)(t,(0,f.default)(e),r)};var n=l(r(10)),i=l(r(433)),o=l(r(432)),s=l(r(429)),a=l(r(4)),u=l(r(431)),c=l(r(430)),f=l(r(175));function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e,r){r=(0,u.default)(r||a.default);var n=0,o=0,s=t.length;function f(t,e){t?r(t):++o!==s&&e!==i.default||r(null)}for(0===s&&r(null);n<s;n++)e(t[n],n,(0,c.default)(f))}var p=(0,s.default)(o.default,1/0);t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){(0,n.default)(t,(0,i.default)((0,o.default)(e)),r)};var n=s(r(903)),i=s(r(897)),o=s(r(175));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";const n=r(20).EventEmitter,i=r(17),o=r(435),s=r(904),a=r(896),u=r(483),c=r(893),f=r(806),l=r(802),h=r(801),p=r(800),d=r(799),m=r(777);t.exports;const g="The libp2p node is not started yet";t.exports=class extends n{constructor(t,e,r,n){if(super(),i(t,"requires modules to equip libp2p with features"),i(e,"requires a PeerInfo instance"),this.modules=t,this.peerInfo=e,this.peerBook=r||new u,n=n||{},this._isStarted=!1,this.switch=new c(this.peerInfo,this.peerBook),this.modules.connection&&this.modules.connection.muxer){let t=this.modules.connection.muxer;(t=Array.isArray(t)?t:[t]).forEach(t=>this.switch.connection.addStreamMuxer(t)),this.switch.connection.reuse(),this.switch.connection.enableCircuitRelay(n.relay),this.switch.on("peer-mux-established",t=>{this.emit("peer:connect",t),this.peerBook.put(t)}),this.switch.on("peer-mux-closed",t=>{this.emit("peer:disconnect",t)})}if(this.modules.connection&&this.modules.connection.crypto){let t=this.modules.connection.crypto;(t=Array.isArray(t)?t:[t]).forEach(t=>{this.switch.connection.crypto(t.tag,t.encrypt)})}if(this.modules.discovery){let t=this.modules.discovery;(t=Array.isArray(t)?t:[t]).forEach(t=>{t.on("peer",t=>this.emit("peer:discovery",t))})}t.DHT&&(this._dht=new this.modules.DHT(this.switch,{kBucketSize:20,datastore:n.DHT&&n.DHT.datastore})),this.peerRouting=l(this),this.contentRouting=h(this),this.dht=p(this),this.pubsub=d(this),this._getPeerInfo=m(this),f.mount(this.switch)}start(t){if(!this.modules.transport)return t(new Error("no transports were present"));let e,r=this.modules.transport;r=Array.isArray(r)?r:[r];const n=[],i=[];this.peerInfo.multiaddrs.toArray().forEach(t=>{t.getPeerId()||(n.push(t),i.push(t.encapsulate("/ipfs/"+this.peerInfo.id.toB58String())))}),this.peerInfo.multiaddrs.replace(n,i);const o=this.peerInfo.multiaddrs.toArray();r.forEach(t=>{t.filter(o).length>0?this.switch.transport.add(t.tag||t.constructor.name,t):t.constructor&&"WebSockets"===t.constructor.name&&(e=t)}),a([t=>this.switch.start(t),t=>{if(e&&this.switch.transport.add(e.tag||e.constructor.name,e),this.modules.discovery)return s(this.modules.discovery,(t,e)=>t.start(e),t);t()},t=>{this._isStarted=!0,this._dht?this._dht.start(t):t()},t=>{!1!==this._options?this._floodSub.start(t):t()},t=>{const e=this.peerInfo.multiaddrs.toArray();r.forEach(t=>{e.forEach(t=>{t.toString().match(/\/p2p-circuit($|\/)/)||r.find(e=>e.filter(t).length>0)||this.peerInfo.multiaddrs.delete(t)})}),t()},t=>{this.emit("start"),t()}],t)}stop(t){this.modules.discovery&&this.modules.discovery.forEach(t=>{o(()=>t.stop(()=>{}))}),a([t=>{this._floodSub.started&&this._floodSub.stop(t)},t=>{if(this._dht)return this._dht.stop(t);t()},t=>this.switch.stop(t),t=>{this.emit("stop"),t()}],e=>{this._isStarted=!1,t(e)})}isStarted(){return this._isStarted}dial(t,e){i(this.isStarted(),g),this._getPeerInfo(t,(t,r)=>{if(t)return e(t);this.switch.dial(r,t=>{if(t)return e(t);this.peerBook.put(r),e()})})}dialProtocol(t,e,r){i(this.isStarted(),g),"function"==typeof e&&(r=e,e=void 0),this._getPeerInfo(t,(t,n)=>{if(t)return r(t);this.switch.dial(n,e,(t,e)=>{if(t)return r(t);this.peerBook.put(n),r(null,e)})})}hangUp(t,e){i(this.isStarted(),g),this._getPeerInfo(t,(t,r)=>{if(t)return e(t);this.switch.hangUp(r,e)})}ping(t,e){i(this.isStarted(),g),this._getPeerInfo(t,(t,r)=>{if(t)return e(t);e(null,new f(this.switch,r))})}handle(t,e,r){this.switch.handle(t,e,r)}unhandle(t){this.switch.unhandle(t)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(906),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(907),o=(n=i)&&n.__esModule?n:{default:n};e.default=o.default,t.exports=e.default},function(t,e,r){function n(t){var r;function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;u++;var i=e.formatters[n];if("function"==typeof i){var o=s[u];r=i.call(t,o),s.splice(u,1),u--}return r}),e.formatArgs.call(t,s),(n.log||e.log||console.log.bind(console)).apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),n.destroy=i,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var r;e.save(t),e.names=[],e.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(r=0;r<e.instances.length;r++){var o=e.instances[r];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(34),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,r){(function(n){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(909)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++i)}),t.splice(o,0,n)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,r(2))},function(t,e,r){"use strict";const n=r(30),i=r(48),o=r(25),s=r(20).EventEmitter,a=r(910),u=r(908),c=a("libp2p:railing");c.error=a("libp2p:railing:error");t.exports=class extends s{constructor(t){super(),this.bootstrapers=t,this.interval=null}start(t){u(()=>t()),this.interval||(this.interval=setInterval(()=>{this.bootstrapers.forEach(t=>{const e=o(t),r=n.createFromB58String(e.getPeerId());i.create(r,(t,r)=>{if(t)return c.error("Invalid bootstrap peer id",t);r.multiaddrs.add(e),this.emit("peer",r)})})},1e4))}stop(t){u(t),this.interval&&(clearInterval(this.interval),this.interval=null)}}},function(t,e,r){"use strict";const n=r(92),i=r(336);t.exports=class{constructor(t,e,r,o){"function"==typeof r&&(o=r,r=void 0),this.setup(),this.id.local=t,this.id.remote=e,this.key.local=t.privKey,this.timeout=r||6e4,o=o||(()=>{}),this.secure=i.duplex(),this.stream=n({timeout:this.timeout},o),this.shake=this.stream.handshake,delete this.stream.handshake}setup(){this.id={local:null,remote:null},this.key={local:null,remote:null},this.shake=null,this.cleanSecrets()}cleanSecrets(){this.shared={},this.ephemeralKey={local:null,remote:null},this.proposal={in:null,out:null},this.proposalEncoded={in:null,out:null},this.protocols={local:null,remote:null},this.exchange={in:null,out:null}}}},function(t,e,r){"use strict";(function(t){const n=r(8),i=r(47),o={fixed:!0,bytes:4};function s(){return n.map(e=>"string"==typeof e?t.from(e,"utf-8"):e)}e.createBoxStream=((e,r)=>n(s(),n.asyncMap((n,i)=>{e.encrypt(n,(e,n)=>{if(e)return i(e);r.digest(n,(e,r)=>{if(e)return i(e);i(null,t.concat([n,r]))})})}),i.encode(o))),e.createUnboxStream=((t,e)=>n(s(),i.decode(o),n.asyncMap((r,n)=>{const i=r.length,o=e.length;if(i<o)return n(new Error(`buffer (${i}) shorter than MAC size (${o})`));const s=i-o,a=r.slice(0,s),u=r.slice(s);e.digest(a,(e,r)=>e?n(e):u.equals(r)?void t.decrypt(a,(t,e)=>{if(t)return n(t);n(null,e)}):n(new Error(`MAC Invalid: ${u.toString("hex")} != ${r.toString("hex")}`)))})))}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(8),i=r(92),o=r(141),s=o("libp2p:secio");s.error=o("libp2p:secio:error");const a=r(913),u=r(266);t.exports=function(t,e){s("3. finish - start");const r=t.protocols,o=t.shake.rest(),c=i({timeout:t.timeout},t=>{if(t)throw t});n(o,a.createUnboxStream(r.remote.cipher,r.remote.mac),c,a.createBoxStream(r.local.cipher,r.local.mac),o),c.handshake.write(t.proposal.in.rand),c.handshake.read(t.proposal.in.rand.length,(r,i)=>{const o=r=>{s.error(r),t.secure.resolve({source:n.error(r),sink(t){}}),e(r)};if(r)return o(r);try{u.verifyNonce(t,i)}catch(r){return o(r)}s("3. finish - finish"),t.secure.resolve(c.handshake.rest()),e()})}},function(t,e,r){"use strict";const n=r(141),i=r(268),o=r(267),s=r(266),a=n("libp2p:secio");a.error=n("libp2p:secio:error"),t.exports=function(t,e){a("2. exchange - start"),a("2. exchange - writing exchange"),i([e=>s.createExchange(t,e),(e,r)=>{o.write(t,e),o.read(t.shake,r)},(e,r)=>{a("2. exchange - reading exchange"),s.verify(t,e,r)},e=>s.generateKeys(t,e)],t=>{if(t)return e(t);a("2. exchange - finish"),e()})}},function(t,e,r){"use strict";t.exports="message Propose {\n  optional bytes rand = 1;\n  optional bytes pubkey = 2;\n  optional string exchanges = 3;\n  optional string ciphers = 4;\n  optional string hashes = 5;\n}\n\nmessage Exchange {\n  optional bytes epubkey = 1;\n  optional bytes signature = 2;\n}"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){((0,n.default)(t)?h:p)(t,(0,f.default)(e),r)};var n=l(r(10)),i=l(r(438)),o=l(r(439)),s=l(r(437)),a=l(r(4)),u=l(r(270)),c=l(r(269)),f=l(r(177));function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e,r){r=(0,u.default)(r||a.default);var n=0,o=0,s=t.length;function f(t,e){t?r(t):++o!==s&&e!==i.default||r(null)}for(0===s&&r(null);n<s;n++)e(t[n],n,(0,c.default)(f))}var p=(0,s.default)(o.default,1/0);t.exports=e.default},function(t,e,r){"use strict";const n=r(141),i=r(268),o=r(267),s=r(266),a=n("libp2p:secio");a.error=n("libp2p:secio:error"),t.exports=function(t,e){a("1. propose - start"),a("1. propose - writing proposal"),o.write(t,s.createProposal(t)),i([e=>o.read(t.shake,e),(e,r)=>{a("1. propose - reading proposal",e),s.identify(t,e,r)},e=>s.selectProtocols(t,e)],t=>{if(t)return e(t);a("1. propose - finish"),e()})}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return n&&t[n]&&t[n]()};var n="function"==typeof Symbol&&Symbol.iterator;t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,n.default)(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e=(0,i.default)(t);return e?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(e):(r=t,s=(0,o.default)(r),a=-1,u=s.length,function(){var t=s[++a];return a<u?{value:r[t],key:t}:null});var r,s,a,u};var n=s(r(10)),i=s(r(919)),o=s(r(46));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,u){if(u=(0,i.default)(u||n.default),t<=0||!e)return u(null);var c=(0,o.default)(e),f=!1,l=0;function h(t,e){if(l-=1,t)f=!0,u(t);else{if(e===a.default||f&&l<=0)return f=!0,u(null);p()}}function p(){for(;l<t&&!f;){var e=c();if(null===e)return f=!0,void(l<=0&&u(null));l+=1,r(e.value,e.key,(0,s.default)(h))}}p()}};var n=u(r(4)),i=u(r(270)),o=u(r(920)),s=u(r(269)),a=u(r(438));function u(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(439)),i=o(r(437));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)(n.default,1),t.exports=e.default},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(178),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,o.default)(arguments),r=e.pop();t.call(this,e,r)}};var n,i=r(178),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(function(e,r){var i;try{i=t.apply(this,e)}catch(t){return r(t)}(0,n.default)(i)&&"function"==typeof i.then?i.then(function(t){a(r,null,t)},function(t){a(r,t.message?t:new Error(t))}):r(null,i)})};var n=s(r(23)),i=s(r(924)),o=s(r(923));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){try{t(e,r)}catch(t){(0,o.default)(u,t)}}function u(t){throw t}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,n.default)(i.default,t,e)};var n=o(r(440)),i=o(r(922));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";const n=r(926),i=r(918),o=r(915),s=r(914);t.exports=function(t,e){return n([e=>i(t,e),e=>o(t,e),e=>s(t,e)],r=>{t.cleanSecrets(),r&&(!0===r&&(r=new Error("Stream ended prematurely")),t.shake.abort(r)),e(r)}),t.stream}},function(t,e,r){function n(t){var r;function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;u++;var i=e.formatters[n];if("function"==typeof i){var o=s[u];r=i.call(t,o),s.splice(u,1),u--}return r}),e.formatArgs.call(t,s),(n.log||e.log||console.log.bind(console)).apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),n.destroy=i,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var r;e.save(t),e.names=[],e.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(r=0;r<e.instances.length;r++){var o=e.instances[r];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(34),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,r){"use strict";const n=r(8),i=r(44).Connection,o=r(17),s=r(48),a=r(141),u=r(55),c=a("libp2p:secio");c.error=a("libp2p:secio:error");const f=r(927),l=r(912);t.exports={tag:"/secio/1.0.0",encrypt(t,e,r,a){o(t,"no local private key provided"),o(e,"no connection for the handshake  provided"),"function"==typeof r&&(a=r,r=void 0),a=u(a||function(t){t&&c.error(t)});const h=new l(t,r,3e5,a);const p=new i(void 0,e);return n(e,f(h,function(t){if(t)return a(t);e.getPeerInfo((t,r)=>{p.setInnerConn(new i(h.secure,e)),t&&p.setPeerInfo(new s(h.id.remote)),a()})}),e),p}}},function(t,e){},function(t,e,r){(function(e){var n=r(55),i=r(443),o=r(930),s=function(){},a=/^v?\.0/.test(e.version),u=function(t){return"function"==typeof t},c=function(t,e,r,c){c=n(c);var f=!1;t.on("close",function(){f=!0}),i(t,{readable:e,writable:r},function(t){if(t)return c(t);f=!0,c()});var l=!1;return function(e){if(!f&&!l)return l=!0,function(t){return!!a&&!!o&&(t instanceof(o.ReadStream||s)||t instanceof(o.WriteStream||s))&&u(t.close)}(t)?t.close(s):function(t){return t.setHeader&&u(t.abort)}(t)?t.abort():u(t.destroy)?t.destroy():void c(e||new Error("stream was destroyed"))}},f=function(t){t()},l=function(t,e){return t.pipe(e)};t.exports=function(){var t,e=Array.prototype.slice.call(arguments),r=u(e[e.length-1]||s)&&e.pop()||s;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var n=e.map(function(i,o){var s=o<e.length-1;return c(i,s,o>0,function(e){t||(t=e),e&&n.forEach(f),s||(n.forEach(f),r(t))})});e.reduce(l)}}).call(this,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(932),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(933),o=(n=i)&&n.__esModule?n:{default:n};e.default=o.default,t.exports=e.default},function(t,e){t.exports=function(t){var e;return t=t||function(){},function(r){return function(n,i){r(n,function(r,n){if(e)return i(!0);if(r&&!0!==r){var o=t(r);return!1===o?i(r):o&&!0!==o?(e=!0,i(null,o)):i(!0)}i(r,n)})}}}},function(t,e,r){"use strict";const n=r(20).EventEmitter,i=r(44).Connection,o=r(272),s=r(8),a=r(935),u=r(934),c=r(441);function f(){}function l(t){return{source:s(t.source,a(t=>{if("Channel destroyed"!==t.message)return!1})),sink:t.sink}}t.exports=class extends n{constructor(t,e){super(),this.multiplex=e,this.conn=t,this.multicodec=c,e.on("close",()=>this.emit("close")),e.on("error",t=>this.emit("error",t)),e.on("stream",(t,e)=>{const r=new i(l(o.duplex(t)),this.conn);this.emit("stream",r)})}newStream(t){t=t||f;let e=this.multiplex.createStream();const r=new i(l(o.duplex(e)),this.conn);return u(()=>t(null,r)),r}end(t){t=t||f,this.multiplex.once("close",t),this.multiplex.destroy()}}},function(t,e,r){"use strict";(function(e){const n=r(20).EventEmitter,i=r(106),o=r(117);t.exports=class extends i.Duplex{constructor(t,e,r){const n=Boolean(r.halfOpen);super({allowHalfOpen:n}),this.name=t,this.log=o("mplex:channel:"+this.name.toString()),this.channel=0,this.initiator=!1,this.chunked=Boolean(r.chunked),this.halfOpen=n,this.destroyed=!1,this.finalized=!1,this._multiplex=e,this._dataHeader=0,this._opened=!1,this._awaitDrain=0,this._lazy=Boolean(r.lazy);let i=!1,s=!1;this.log("open, halfOpen: "+this.halfOpen),this.once("end",()=>{this.log("end"),this._read(),this.destroyed||(s=!0,i?this._finalize():this.halfOpen||this.end())}),this.once("finish",function t(){if(!this.destroyed){if(!this._opened)return this.once("open",t);this._lazy&&this.initiator&&this._open(),this._multiplex._send(this.channel<<3|(this.initiator?4:3),null),i=!0,s&&this._finalize()}})}destroy(t){this._destroy(t,!0)}_destroy(t,r){if(this.log("_destroy:"+(r?"local":"remote")),this.destroyed)return void this.log("already destroyed");this.destroyed=!0;const i=n.listenerCount(this,"error")>0;if(!t||r&&!i||this.emit("error",t),this.emit("close"),r&&this._opened){this._lazy&&this.initiator&&this._open();const r=t?new e(t.message):null;try{this._multiplex._send(this.channel<<3|(this.initiator?6:5),r)}catch(t){}}this._finalize()}_finalize(){this.finalized||(this.finalized=!0,this.emit("finalize"))}_write(t,e,r){this.log("write: ",t.length),this._opened?this.destroyed?r():(this._lazy&&this.initiator&&this._open(),this._multiplex._send(this._dataHeader,t)?r():this._multiplex._ondrain.push(r)):this.once("open",()=>{this._write(t,e,r)})}_read(){if(this._awaitDrain){const t=this._awaitDrain;this._awaitDrain=0,this._multiplex._onchanneldrain(t)}}_open(){let t=null;e.isBuffer(this.name)?t=this.name:this.name!==this.channel.toString()&&(t=new e(this.name)),this._lazy=!1,this._multiplex._send(this.channel<<3|0,t)}open(t,e){this.log("open: "+t),this.channel=t,this.initiator=e,this._dataHeader=t<<3|(e?2:1),this._opened=!0,!this._lazy&&this.initiator&&this._open(),this.emit("open")}}}).call(this,r(0).Buffer)},function(t,e){t.exports=function(t){var e=t._readableState;return e?e.objectMode?t.read():t.read((r=e,r.buffer.length?r.buffer.head?r.buffer.head.data.length:r.buffer[0].length:r.length)):null;var r}},function(t,e,r){(function(e,n){var i=r(106),o=r(443),s=r(6),a=r(938),u=e.from&&e.from!==Uint8Array.from?e.from([0]):new e([0]),c=function(t,e){t._corked?t.once("uncork",e):e()},f=function(t,e){return function(r){r?t._destroyInterval(r):e&&!t._ended&&t.end()}},l=function(t,e,r){if(!(this instanceof l))return new l(t,e,r);i.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this._error=null,this._preferError=!1,this.destroyed=!1,t&&this.setWritable(t),e&&this.setReadable(e)};s(l,i.Duplex),l.obj=function(t,e,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new l(t,e,r)},l.prototype.cork=function(){1==++this._corked&&this.emit("cork")},l.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},l.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed)t&&t.destroy&&t.destroy();else if(null!==t&&!1!==t){var e=this,r=o(t,{writable:!0,readable:!1},f(this,this._forwardEnd)),i=function(){var t=e._ondrain;e._ondrain=null,t&&t()};this._unwrite&&n.nextTick(i),this._writable=t,this._writable.on("drain",i),this._unwrite=function(){e._writable.removeListener("drain",i),r()},this.uncork()}else this.end()},l.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed)t&&t.destroy&&t.destroy();else{if(null===t||!1===t)return this.push(null),void this.resume();var e,r=this,n=o(t,{writable:!1,readable:!0},f(this)),s=function(){r._forward()},a=function(){r.push(null)};this._drained=!0,this._readable=t,this._readable2=t._readableState?t:(e=t,new i.Readable({objectMode:!0,highWaterMark:16}).wrap(e)),this._readable2.on("readable",s),this._readable2.on("end",a),this._unread=function(){r._readable2.removeListener("readable",s),r._readable2.removeListener("end",a),n()},this._forward()}},l.prototype._read=function(){this._drained=!0,this._forward()},l.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var t;for(this._forwarding=!0;this._drained&&null!==(t=a(this._readable2));)this.destroyed||(this._drained=this.push(t));this._forwarding=!1}},l.prototype.destroy=function(t){if(this._preferError&&!this._error&&t&&(this._error=t),!this.destroyed){this.destroyed=!0;var e=this;n.nextTick(function(){e._destroy(e._preferError?e._error:t)})}},l.prototype._destroyInterval=function(t){if(!this.destroyed){if("premature close"!==t.message)return this.destroy(t);this._preferError=!0,this.destroy(null)}},l.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit("error",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},l.prototype._write=function(t,e,r){return this.destroyed?r():this._corked?c(this,this._write.bind(this,t,e,r)):t===u?this._finish(r):this._writable?void(!1===this._writable.write(t)?this._ondrain=r:r()):r()},l.prototype._finish=function(t){var e=this;this.emit("preend"),c(this,function(){var r,n;r=e._forwardEnd&&e._writable,n=function(){!1===e._writableState.prefinished&&(e._writableState.prefinished=!0),e.emit("prefinish"),c(e,t)},r?r._writableState&&r._writableState.finished?n():r._writableState?r.end(n):(r.end(),n()):n()})},l.prototype.end=function(t,e,r){return"function"==typeof t?this.end(null,null,t):"function"==typeof e?this.end(t,null,e):(this._ended=!0,t&&this.write(t),this._writableState.ending||this.write(u),i.Writable.prototype.end.call(this,r))},t.exports=l}).call(this,r(0).Buffer,r(2))},function(t,e){var r=Math.pow(2,7),n=Math.pow(2,14),i=Math.pow(2,21),o=Math.pow(2,28),s=Math.pow(2,35),a=Math.pow(2,42),u=Math.pow(2,49),c=Math.pow(2,56),f=Math.pow(2,63);t.exports=function(t){return t<r?1:t<n?2:t<i?3:t<o?4:t<s?5:t<a?6:t<u?7:t<c?8:t<f?9:10}},function(t,e){t.exports=function t(e,i){var o,s=0,i=i||0,a=0,u=i,c=e.length;do{if(u>=c)return t.bytes=0,void(t.bytesRead=0);o=e[u++],s+=a<28?(o&n)<<a:(o&n)*Math.pow(2,a),a+=7}while(o>=r);t.bytes=u-i;return s};var r=128,n=127},function(t,e){t.exports=function t(e,o,s){o=o||[];s=s||0;var a=s;for(;e>=i;)o[s++]=255&e|r,e/=128;for(;e&n;)o[s++]=255&e|r,e>>>=7;o[s]=0|e;t.bytes=s-a+1;return o};var r=128,n=-128,i=Math.pow(2,31)},function(t,e,r){t.exports={encode:r(942),decode:r(941),encodingLength:r(940)}},function(t,e,r){"use strict";(function(e){const n=r(106),i=r(943),o=r(939),s=r(117),a=r(937),u=new e([0]),c=new e(0);let f=new e(10240),l=0;t.exports=class extends n.Duplex{constructor(t,r){super(),"function"==typeof t&&(r=t,t={}),t||(t={}),r&&this.on("stream",r),this.destroyed=!1,this.limit=t.limit||0,null==t.initiator&&(t.initiator=!0),this.initiator=t.initiator,this._corked=0,this._options=t,this._binaryName=Boolean(t.binaryName),this._local=[],this._remote=[],this._list=this._local,this._receiving=null,this._chunked=!1,this._state=0,this._type=0,this._channel=0,this._missing=0,this._message=null,this.log=s("mplex:main:"+Math.floor(1e5*Math.random())),this.log("construction");let n=100;this.limit&&(n=i.encodingLength(this.limit)),this._buf=new e(n),this._ptr=0,this._awaitChannelDrains=0,this._onwritedrain=null,this._ondrain=[],this._finished=!1,this.once("finish",this._clear),this._nextId=this.initiator?0:1}_nextStreamId(){let t=this._nextId;return this._nextId+=2,t}createStream(t,e){if(this.destroyed)throw new Error("Multiplexer is destroyed");const r=this._nextStreamId();let n=this._name(t||r.toString());const i=Object.assign(this._options,e);this.log("createStream: %s",r,n.toString(),i);const o=new a(n,this,i);return this._addChannel(o,r,this._local)}receiveStream(t,e){if(this.destroyed)throw new Error("Multiplexer is destroyed");if(void 0===t||null===t)throw new Error("Name is needed when receiving a stream");const r=this._name(t);this.log("receiveStream: "+r.toString());const n=new a(r,this,Object.assign(this._options,e));if(this._receiving||(this._receiving={}),this._receiving[n.name])throw new Error("You are already receiving this stream");return this._receiving[n.name]=n,n}createSharedStream(t,e){return this.log("createSharedStream"),o(this.createStream(t,Object.assign(e,{lazy:!0})),this.receiveStream(t,e))}_name(t){return this._binaryName?e.isBuffer(t)?t:new e(t):t.toString()}_send(t,r){const n=r?r.length:0,o=l;let s=!0;return this.log("_send",t,n),i.encode(t,f,l),l+=i.encode.bytes,i.encode(n,f,l),l+=i.encode.bytes,s=this.push(f.slice(o,l)),f.length-l<100&&(f=new e(10240),l=0),r&&(s=this.push(r)),s}_addChannel(t,e,r){return this.log("_addChannel",e),r[e]=t,t.on("finalize",()=>{this.log("_remove channel",e),r[e]=null}),t.open(e,r===this._local),t}_writeVarint(t,e){for(;e<t.length;e++){if(this._ptr===this._buf.length)return this._lengthError(t);if(this._buf[this._ptr++]=t[e],!(128&t[e])){if(0===this._state){const t=i.decode(this._buf);this._type=7&t,this._channel=t>>3,this._list=1&this._type?this._local:this._remote;const e=this._list.length>this._channel&&this._list[this._channel]&&this._list[this._channel].chunked;this._chunked=!(1!==this._type&&2!==this._type)&&e}else if(this._missing=i.decode(this._buf),this.limit&&this._missing>this.limit)return this._lengthError(t);return this._state++,this._ptr=0,e+1}}return t.length}_lengthError(t){return this.destroy(new Error("Incoming message is too big")),t.length}_writeMessage(t,r){const n=t.length-r,i=this._missing;if(!this._message){if(i<=n)return this._missing=0,this._push(t.slice(r,r+i)),r+i;if(this._chunked)return this._missing-=n,this._push(t.slice(r,t.length)),t.length;this._message=new e(i)}return t.copy(this._message,this._ptr,r,r+i),i<=n?(this._missing=0,this._push(this._message),r+i):(this._missing-=n,this._ptr+=n,t.length)}_push(t){if(this.log("_push",t.length),this._missing||(this._ptr=0,this._state=0,this._message=null),0===this._type){if(this.log("open",this._channel),this.destroyed||this._finished)return;let e,r;return e=this._binaryName?t:t.toString()||this._channel.toString(),this.log("open name",e),void(this._receiving&&this._receiving[e]?(r=this._receiving[e],delete this._receiving[e],this._addChannel(r,this._channel,this._list)):(r=new a(e,this,this._options),this.emit("stream",this._addChannel(r,this._channel,this._list),r.name)))}const e=this._list[this._channel];if(e)switch(this._type){case 5:case 6:const r=new Error(t.toString()||"Channel destroyed");return void e._destroy(r,!1);case 3:case 4:return void e.push(null);case 1:case 2:return void(e.push(t)||(this._awaitChannelDrains++,e._awaitDrain++))}}_onchanneldrain(t){if(this._awaitChannelDrains-=t,this._awaitChannelDrains)return;const e=this._onwritedrain;this._onwritedrain=null,e&&e()}_write(t,e,r){if(this.log("_write",t.length),this._finished)return void r();if(this._corked)return void this._onuncork(this._write.bind(this,t,e,r));if(t===u)return void this._finish(r);let n=0;for(;n<t.length;)n=2===this._state?this._writeMessage(t,n):this._writeVarint(t,n);2!==this._state||this._missing||this._push(c),this._awaitChannelDrains?this._onwritedrain=r:r()}_finish(t){this._onuncork(()=>{!1===this._writableState.prefinished&&(this._writableState.prefinished=!0),this.emit("prefinish"),this._onuncork(t)})}cork(){1==++this._corked&&this.emit("cork")}uncork(){this._corked&&0==--this._corked&&this.emit("uncork")}end(t,e,r){return this.log("end"),"function"==typeof t&&(r=t,t=void 0),"function"==typeof e&&(r=e,e=void 0),t&&this.write(t),this._writableState.ending||this.write(u),n.Writable.prototype.end.call(this,r)}_onuncork(t){this._corked?this.once("uncork",t):t()}_read(){for(;this._ondrain.length;)this._ondrain.shift()()}_clear(){if(this.log("_clear"),this._finished)return;this._finished=!0;const t=this._local.concat(this._remote);this._local=[],this._remote=[],t.forEach(function(t){t&&t._destroy(null,!1)}),this.push(null)}finalize(){this._clear()}destroy(t){if(this.log("destroy"),this.destroyed)this.log("already destroyed");else{var e=this._local.concat(this._remote);this.destroyed=!0,t&&this.emit("error",t),this.emit("close"),e.forEach(function(e){e&&e.emit("error",t||new Error("underlying socket has been closed"))}),this._clear()}}}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(944),i=r(442),o=r(441),s=r(936),a=r(931);function u(t,e){const r=i(t);r.on("end",()=>r.destroy());const o=new n({halfOpen:!0,initiator:!e});return a(r,o,r),new s(t,o)}(e=t.exports=u).multicodec=o,e.dialer=(t=>u(t,!1)),e.listener=(t=>u(t,!0))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(r,n,i){return t(r,e,n,i)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return n&&t[n]&&t[n]()};var n="function"==typeof Symbol&&Symbol.iterator;t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,n.default)(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e=(0,i.default)(t);return e?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(e):(r=t,s=(0,o.default)(r),a=-1,u=s.length,function(){var t=s[++a];return a<u?{value:r[t],key:t}:null});var r,s,a,u};var n=s(r(10)),i=s(r(949)),o=s(r(46));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,u){if(u=(0,i.default)(u||n.default),t<=0||!e)return u(null);var c=(0,o.default)(e),f=!1,l=0;function h(t,e){if(l-=1,t)f=!0,u(t);else{if(e===a.default||f&&l<=0)return f=!0,u(null);p()}}function p(){for(;l<t&&!f;){var e=c();if(null===e)return f=!0,void(l<=0&&u(null));l+=1,r(e.value,e.key,(0,s.default)(h))}}p()}};var n=u(r(4)),i=u(r(951)),o=u(r(950)),s=u(r(948)),a=u(r(947));function u(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,o){(0,n.default)(e)(t,(0,i.default)(r),o)};var n=o(r(952)),i=o(r(444));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(953)),i=o(r(946));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)(n.default,1),t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,o.default)(arguments),r=e.pop();t.call(this,e,r)}};var n,i=r(271),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(function(e,r){var i;try{i=t.apply(this,e)}catch(t){return r(t)}(0,n.default)(i)&&"function"==typeof i.then?i.then(function(t){a(r,null,t)},function(t){a(r,t.message?t:new Error(t))}):r(null,i)})};var n=s(r(23)),i=s(r(955)),o=s(r(447));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){try{t(e,r)}catch(t){(0,o.default)(u,t)}}function u(t){throw t}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){r=r||n.default;var a=(0,i.default)(e)?[]:{};t(e,function(t,e,r){(0,s.default)(t)(function(t,n){arguments.length>2&&(n=(0,o.default)(arguments,1)),a[e]=n,r(t)})},function(t){r(t,a)})};var n=a(r(4)),i=a(r(10)),o=a(r(271)),s=a(r(444));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,n.default)(i.default,t,e)};var n=o(r(957)),i=o(r(954));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){function n(t){var r;function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;u++;var i=e.formatters[n];if("function"==typeof i){var o=s[u];r=i.call(t,o),s.splice(u,1),u--}return r}),e.formatArgs.call(t,s),(n.log||e.log||console.log.bind(console)).apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),n.destroy=i,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var r;e.save(t),e.names=[],e.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(r=0;r<e.instances.length;r++){var o=e.instances[r];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(34),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,r){(function(n){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(959)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++i)}),t.splice(o,0,n)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,r(2))},function(t,e,r){var n,i,o=r(585),s=r(584),a=0,u=0;t.exports=function(t,e,r){var c=e&&r||0,f=e||[],l=(t=t||{}).node||n,h=void 0!==t.clockseq?t.clockseq:i;if(null==l||null==h){var p=o();null==l&&(l=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=i=16383&(p[6]<<8|p[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),m=void 0!==t.nsecs?t.nsecs:u+1,g=d-a+(m-u)/1e4;if(g<0&&void 0===t.clockseq&&(h=h+1&16383),(g<0||d>a)&&void 0===t.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=d,u=m,i=h;var v=(1e4*(268435455&(d+=122192928e5))+m)%4294967296;f[c++]=v>>>24&255,f[c++]=v>>>16&255,f[c++]=v>>>8&255,f[c++]=255&v;var y=d/4294967296*1e4&268435455;f[c++]=y>>>8&255,f[c++]=255&y,f[c++]=y>>>24&15|16,f[c++]=y>>>16&255,f[c++]=h>>>8|128,f[c++]=255&h;for(var b=0;b<6;++b)f[c+b]=l[b];return e||s(f)}},function(t,e,r){"use strict";const n=r(20).EventEmitter;t.exports=function(){const t=new n;let e,r=[];function i(){t.removeAllListeners("err"),t.removeAllListeners("data")}return{append:n=>{if(e)return e;r.push(n),t.emit("data")},prepend:t=>{if(e)return e;r.unshift(t)},error:r=>{e=r,t.emit("err",r)},get:n=>(i(),e?n(e):r.length?n(null,r.shift()):(t.once("err",t=>{i(),n(t)}),void t.once("data",()=>(i(),n(null,r.shift()))))),height:()=>r.length}}},function(t,e,r){"use strict";(function(e){const n=r(962),i=r(445),o=r(8),s=(t,e)=>"socket.io-pull-stream."+t+(e?"."+e:""),a=r(960)("socket.io-pull-stream");function u(t,e){if(null==e)return e;try{return t(e)}catch(t){return console.error("Codec Error"),console.error(t),!1}}const c={hex:{encode:t=>t.toString("hex"),decode:t=>e.from(t,"hex")},plain:{encode:t=>t,decode:t=>t},buffer:{encode:t=>e.from(t),decode:t=>e.from(t)}};function f(t){if(t||(t="plain"),"object"==typeof t)return t;const e=c[t];if(!e)throw new Error("Invalid codec "+t);return e}t.exports=function(t,e){t.createSink||(t.sioplog=t.id?a.bind(a,"["+t.id+"]"):a,t.createSink=((r,o)=>{r||(r=i());const a=function(t,e,r){const i=n(),o=t.sioplog.bind(t.sioplog,"  sink("+e+")"),a=f(r.codec).encode;let c;function l(t){i.append({err:t}),c=t}return o("create sink"),t.once(s("accept",e),()=>{o("start transmission"),function r(){i.get((n,c)=>{let{data:f,err:l}=c||{};if(n&&(l=n),o("send",l&&!0===l?"finish":l?"error":f?"data":"<invalid>"),l&&!n&&i.error(l),l)return t.emit(s("error",e),l);f&&t.emit(s("queue",e),u(a,f)),r()})}()}),t.once("disconnect",()=>l(!0)),function(t){t(null,function e(r,n){return r?l(r):c?t(c,e):(i.append({data:n}),void t(null,e))})}}(t,r,e||o);return a.id=r,a}),t.createSource=((r,i)=>{const o=function(t,e,r){const i=n(),o=t.sioplog.bind(t.sioplog,"source("+e+")"),a=f(r.codec).decode;function c(){t.removeAllListeners(s("error",e)),t.removeAllListeners(s("queue",e))}return o("create source"),t.emit(s("accept",e)),t.on(s("error",e),t=>{o(!0===t?"finish":"error"),c(),i.append({end:t})}),t.on(s("queue",e),t=>{o("queue data"),i.append({data:u(a,t)})}),t.once("disconnect",()=>{c(),i.append({end:!0})}),function(t,e){if(o("reading"),t)return e(t);i.get((t,r)=>t?e(t):r.end?(i.error(r.end),e(r.end)):e(null,r.data))}}(t,r,e||i);return o.id=r,o}),t.createProxy=((e,r,n)=>{o(t.createSource(e,n),r.createSink(e,n))}))}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e){const n=r(449)("libp2p:websocket-star:listener"),i=r(25),o=r(462),s=r(963),a=r(445),u=r(958),c=r(20).EventEmitter,f=r(44).Connection,l=r(55),h=r(448),p=r(446),d=p.cleanUrlSIO,m=r(81),g=l(()=>{}),v={transports:["websocket"],"force new connection":!0};t.exports=class extends c{constructor(t){super(),this.id=t.id,this.log=n.bind(n,"listener#offline"),this.canCrypto=Boolean(t.id),this._handler=t.handler||g,this.listeners_list=t.listeners||{},this.flag=t.flag}_up(t){if(t=t?l(t):g,this.io)return t();this.log=n.bind(n,"listener#"+this.server),this.log("dialing to signalling server");const e=this.io=o.connect(this.server,v);s(e,{codec:"buffer"}),e.once("error",t),e.once("connect_error",t),e.once("connect",t);const r=new p.Protocol(this.log);r.addRequest("ws-peer",["multiaddr"],(t,e)=>this.emit("peer",e)),r.addRequest("ss-incomming",["string","multiaddr","function"],this._incommingDial.bind(this)),r.handleSocket(e)}_down(){this.io&&(this.io.disconnect(),this.emit("close"),delete this.io)}_cryptoChallenge(t){if(!this.io)return t(new Error("Not connected"));const r=this.canCrypto?m.keys.marshalPublicKey(this.id.pubKey).toString("hex"):"",n=this.ma.toString();this.io.emit("ss-join",n,r,(r,n)=>{if(r)return t(r);if(n){if(!this.canCrypto)return this._down(),t(new Error("Can't sign cryptoChallenge: No id provided"));this.log("performing cryptoChallenge"),this.id.privKey.sign(e.from(n),(e,r)=>{if(e)return t(e);this.signature=r.toString("hex"),this._join(t)})}else{if(!this.flag)return this._down(),t(new Error('Tried to listen on a server with crypto challenge disabled!\n    This is prohibited by default and can lead to security issues!\n    Please set "allowJoinWithDisabledChallenge" to true in the constructor options (but only if you know what you are doing)!'));this.signature="_",t()}})}_crypto(t){if(t=t?l(t):g,this.log("joining"),!this.io)return t(new Error("Not connected"));this.signature?this._join((e,r)=>{if(r)return this.cryptoChallenge(t);t(e)}):this._cryptoChallenge(t)}_join(t){this.io.emit("ss-join",this.ma.toString(),this.signature,t)}_incommingDial(t,e,r,n){this.log("dial#"+e+" incomming from",r);const o=i(r),s=this.io.createSource(e+".dialer"),a=this.io.createSink(e+".listener");n();const u=new f({sink:a,source:s},{getObservedAddrs:t=>t(null,[o])});this.emit("connection",u),this._handler(u)}listen(t,e){this.ma=t,this.server=d(t),this.listeners_list[this.server]=this,e=e?l(e):g,u([t=>this._up(t),t=>this._crypto(t)],t=>{if(t)return this.log("success",t),t instanceof Error||(t=new Error(t)),n(t),this._down(),this.emit("error",t),this.emit("close"),e(t);this.log("success"),this.io.on("reconnect",()=>{this.signature=null,this._crypto(t=>{t?(this.log("reconnect error",t),this.emit("error",t)):this.log("reconnected")})}),this.emit("listening"),e()})}getAddrs(t){h(()=>t(null,this.ma?[this.ma]:[]))}close(t){t=t?l(t):g,this._down(),t()}dial(t,e,r){"function"==typeof e&&(r=e,e={});const o=i(t),s=new f(null),u=a(),c=this.log.bind(n,"dial#"+u);r=r?l(r):g;let h=this.io;if(!h)return r(new Error("Not listening"));const p=h.createSink(u+".dialer");return c("dialing",t.toString()),h.emit("ss-dial",this.ma.toString(),t.toString(),u,t=>{if(t)return r(t instanceof Error?t:new Error(t));c(t?"error: "+t.toString():"success");const e=h.createSource(u+".listener");s.setInnerConn({sink:p,source:e},{getObservedAddrs:t=>t(null,[o])}),r(null,s)}),s}}}).call(this,r(0).Buffer)},function(t,e,r){function n(t){var r;function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;u++;var i=e.formatters[n];if("function"==typeof i){var o=s[u];r=i.call(t,o),s.splice(u,1),u--}return r}),e.formatArgs.call(t,s),(n.log||e.log||console.log.bind(console)).apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),n.destroy=i,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var r;e.save(t),e.names=[],e.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(r=0;r<e.instances.length;r++){var o=e.instances[r];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(34),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,r){"use strict";const n=r(449)("libp2p:websocket-star"),i=r(25),o=r(20).EventEmitter,s=r(30),a=r(48),u=r(44).Connection,c=r(448),f=r(446),l=r(964),h=f.cleanUrlSIO,p=r(80);t.exports=class{constructor(t){t=t||{},this.id=t.id,this.flag=t.allowJoinWithDisabledChallenge,this.discovery=new o,this.discovery.start=(t=>{c(t)}),this.discovery.stop=(t=>{c(t)}),this.listeners_list={},this._peerDiscovered=this._peerDiscovered.bind(this)}lazySetId(t){t&&(this.id=t,this.canCrypto=!0)}dial(t,e,r){let n;"function"==typeof e&&(r=e,e={});try{n=h(t)}catch(t){return r(t)}const i=this.listeners_list[n];return i?i.dial(t,e,r):(r(new Error("No listener for this server")),new u)}createListener(t,e){"function"==typeof t&&(e=t,t={});const r=new l({id:this.id,handler:e,listeners:this.listeners_list,flag:this.flag});return r.on("peer",this._peerDiscovered),r}filter(t){return Array.isArray(t)||(t=[t]),t.filter(t=>p.WebSocketStar.matches(t))}_peerDiscovered(t){n("Peer Discovered:",t);const e=t.split("/ipfs/").pop(),r=s.createFromB58String(e),o=new a(r);o.multiaddrs.add(i(t)),this.discovery.emit("peer",o)}}},function(t,e,r){"use strict";const n=r(25);(e=t.exports).cleanUrlSIO=function(t){const e=t.toString().split("/"),r=t.protos()[1].name,i=t.protos()[2].name,o=t.stringTuples()[1][1];if("tcp"!==r||"ws"!==i&&"wss"!==i)throw new Error("invalid multiaddr: "+t.toString());return n.isName(t)?"ws"===i?"http://"+e[2]+(80===o?"":":"+o):"wss"===i?"https://"+e[2]+(443===o?"":":"+o):void 0:"http://"+e[2]+":"+e[4]},e.cleanMultiaddr=function(t){const e="/libp2p-webrtc-star";if(-1!==t.indexOf(e)){t=t.substring(e.length,t.length);let r=n(t);const i=r.stringTuples().filter(t=>421===t[0])[0];t=(r=(r=(r=r.decapsulate("ipfs")).encapsulate("p2p-webrtc-star")).encapsulate(`/ipfs/${i[1]}`)).toString()}return t}},function(t,e){var r,n;self.mozRTCPeerConnection||navigator.mozGetUserMedia?(r="moz",n=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10)):(self.webkitRTCPeerConnection||navigator.webkitGetUserMedia)&&(r="webkit",n=navigator.userAgent.match(/Chrom(e|ium)/)&&parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10));var i=self.RTCPeerConnection||self.mozRTCPeerConnection||self.webkitRTCPeerConnection,o=self.mozRTCIceCandidate||self.RTCIceCandidate,s=self.mozRTCSessionDescription||self.RTCSessionDescription,a=self.webkitMediaStream||self.MediaStream,u="https:"===self.location.protocol&&("webkit"===r&&n>=26||"moz"===r&&n>=33),c=self.AudioContext||self.webkitAudioContext,f=self.document&&document.createElement("video"),l=f&&f.canPlayType&&"probably"===f.canPlayType('video/webm; codecs="vp8", vorbis'),h=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia;t.exports={prefix:r,browserVersion:n,support:!!i&&!!h,supportRTCPeerConnection:!!i,supportVp8:l,supportGetUserMedia:!!h,supportDataChannel:!!(i&&i.prototype&&i.prototype.createDataChannel),supportWebAudio:!(!c||!c.prototype.createMediaStreamSource),supportMediaStream:!(!a||!a.prototype.removeTrack),supportScreenSharing:!!u,AudioContext:c,PeerConnection:i,SessionDescription:s,IceCandidate:o,MediaStream:a,getUserMedia:h}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(969),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(970),o=(n=i)&&n.__esModule?n:{default:n};e.default=o.default,t.exports=e.default},function(t,e){t.exports=function t(e,r){if(e&&r)return t(e)(r);if("function"!=typeof e)throw new TypeError("need wrapper function");Object.keys(e).forEach(function(t){n[t]=e[t]});return n;function n(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];var n=e.apply(this,t),i=t[t.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach(function(t){n[t]=i[t]}),n}}},function(t,e){t.exports=function(){if("undefined"==typeof window)return null;var t={RTCPeerConnection:window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,RTCSessionDescription:window.RTCSessionDescription||window.mozRTCSessionDescription||window.webkitRTCSessionDescription,RTCIceCandidate:window.RTCIceCandidate||window.mozRTCIceCandidate||window.webkitRTCIceCandidate};return t.RTCPeerConnection?t:null}},function(t,e,r){function n(t){var r;function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;u++;var i=e.formatters[n];if("function"==typeof i){var o=s[u];r=i.call(t,o),s.splice(u,1),u--}return r}),e.formatArgs.call(t,s),(n.log||e.log||console.log.bind(console)).apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),n.destroy=i,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var r;e.save(t),e.names=[],e.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(r=0;r<e.instances.length;r++){var o=e.instances[r];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(34),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,r){(function(n){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(974)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++i)}),t.splice(o,0,n)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,r(2))},function(t,e,r){(function(e){t.exports=u;var n=r(975)("simple-peer"),i=r(973),o=r(6),s=r(89),a=r(106);function u(t){var e=this;if(!(e instanceof u))return new u(t);if(e._id=s(4).toString("hex").slice(0,7),e._debug("new peer %o",t),t=Object.assign({allowHalfOpen:!1},t),a.Duplex.call(e,t),e.channelName=t.initiator?t.channelName||s(20).toString("hex"):null,e._isChromium="undefined"!=typeof window&&!!window.webkitRTCPeerConnection,e.initiator=t.initiator||!1,e.channelConfig=t.channelConfig||u.channelConfig,e.config=t.config||u.config,e.constraints=e._transformConstraints(t.constraints||u.constraints),e.offerConstraints=e._transformConstraints(t.offerConstraints||{}),e.answerConstraints=e._transformConstraints(t.answerConstraints||{}),e.reconnectTimer=t.reconnectTimer||!1,e.sdpTransform=t.sdpTransform||function(t){return t},e.stream=t.stream||!1,e.trickle=void 0===t.trickle||t.trickle,e.destroyed=!1,e.connected=!1,e.remoteAddress=void 0,e.remoteFamily=void 0,e.remotePort=void 0,e.localAddress=void 0,e.localPort=void 0,e._wrtc=t.wrtc&&"object"==typeof t.wrtc?t.wrtc:i(),!e._wrtc)throw"undefined"==typeof window?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser");if(e._pcReady=!1,e._channelReady=!1,e._iceComplete=!1,e._channel=null,e._pendingCandidates=[],e._previousStreams=[],e._chunk=null,e._cb=null,e._interval=null,e._reconnectTimeout=null,e._pc=new e._wrtc.RTCPeerConnection(e.config,e.constraints),e._isWrtc=Array.isArray(e._pc.RTCIceConnectionStates),e._isReactNativeWebrtc="number"==typeof e._pc._peerConnectionId,e._pc.oniceconnectionstatechange=function(){e._onIceStateChange()},e._pc.onicegatheringstatechange=function(){e._onIceStateChange()},e._pc.onsignalingstatechange=function(){e._onSignalingStateChange()},e._pc.onicecandidate=function(t){e._onIceCandidate(t)},e.initiator){var r=!1;e._pc.onnegotiationneeded=function(){r||e._createOffer(),r=!0},e._setupData({channel:e._pc.createDataChannel(e.channelName,e.channelConfig)})}else e._pc.ondatachannel=function(t){e._setupData(t)};"addTrack"in e._pc?(e.stream&&e.stream.getTracks().forEach(function(t){e._pc.addTrack(t,e.stream)}),e._pc.ontrack=function(t){e._onTrack(t)}):(e.stream&&e._pc.addStream(e.stream),e._pc.onaddstream=function(t){e._onAddStream(t)}),e.initiator&&e._isWrtc&&e._pc.onnegotiationneeded(),e._onFinishBound=function(){e._onFinish()},e.once("finish",e._onFinishBound)}function c(){}o(u,a.Duplex),u.WEBRTC_SUPPORT=!!i(),u.config={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478?transport=udp"}]},u.constraints={},u.channelConfig={},Object.defineProperty(u.prototype,"bufferSize",{get:function(){return this._channel&&this._channel.bufferedAmount||0}}),u.prototype.address=function(){return{port:this.localPort,family:"IPv4",address:this.localAddress}},u.prototype.signal=function(t){var e=this;if(e.destroyed)throw new Error("cannot signal after peer is destroyed");if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t={}}e._debug("signal()"),t.candidate&&(e._pc.remoteDescription&&e._pc.remoteDescription.type?e._addIceCandidate(t.candidate):e._pendingCandidates.push(t.candidate)),t.sdp&&e._pc.setRemoteDescription(new e._wrtc.RTCSessionDescription(t),function(){e.destroyed||(e._pendingCandidates.forEach(function(t){e._addIceCandidate(t)}),e._pendingCandidates=[],"offer"===e._pc.remoteDescription.type&&e._createAnswer())},function(t){e._destroy(t)}),t.sdp||t.candidate||e._destroy(new Error("signal() called with invalid signal data"))},u.prototype._addIceCandidate=function(t){var e=this;try{e._pc.addIceCandidate(new e._wrtc.RTCIceCandidate(t),c,function(t){e._destroy(t)})}catch(t){e._destroy(new Error("error adding candidate: "+t.message))}},u.prototype.send=function(t){this._channel.send(t)},u.prototype.destroy=function(t){this._destroy(null,t)},u.prototype._destroy=function(t,e){if(!this.destroyed){if(e&&this.once("close",e),this._debug("destroy (error: %s)",t&&(t.message||t)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.destroyed=!0,this.connected=!1,this._pcReady=!1,this._channelReady=!1,this._previousStreams=null,clearInterval(this._interval),clearTimeout(this._reconnectTimeout),this._interval=null,this._reconnectTimeout=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._pc){try{this._pc.close()}catch(t){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,"addTrack"in this._pc?this._pc.ontrack=null:this._pc.onaddstream=null,this._pc.onnegotiationneeded=null,this._pc.ondatachannel=null}if(this._channel){try{this._channel.close()}catch(t){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}this._pc=null,this._channel=null,t&&this.emit("error",t),this.emit("close")}},u.prototype._setupData=function(t){var e=this;if(!t.channel)return e._destroy(new Error("Data channel event is missing `channel` property"));e._channel=t.channel,e._channel.binaryType="arraybuffer","number"==typeof e._channel.bufferedAmountLowThreshold&&(e._channel.bufferedAmountLowThreshold=65536),e.channelName=e._channel.label,e._channel.onmessage=function(t){e._onChannelMessage(t)},e._channel.onbufferedamountlow=function(){e._onChannelBufferedAmountLow()},e._channel.onopen=function(){e._onChannelOpen()},e._channel.onclose=function(){e._onChannelClose()},e._channel.onerror=function(t){e._destroy(t)}},u.prototype._read=function(){},u.prototype._write=function(t,e,r){if(this.destroyed)return r(new Error("cannot write after peer is destroyed"));if(this.connected){try{this.send(t)}catch(t){return this._destroy(t)}this._channel.bufferedAmount>65536?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=r):r(null)}else this._debug("write before connect"),this._chunk=t,this._cb=r},u.prototype._onFinish=function(){var t=this;function e(){setTimeout(function(){t._destroy()},1e3)}t.destroyed||(t.connected?e():t.once("connect",e))},u.prototype._createOffer=function(){var t=this;t.destroyed||t._pc.createOffer(function(e){function r(){var r=t._pc.localDescription||e;t._debug("signal"),t.emit("signal",{type:r.type,sdp:r.sdp})}t.destroyed||(e.sdp=t.sdpTransform(e.sdp),t._pc.setLocalDescription(e,function(){if(t.destroyed)return;t.trickle||t._iceComplete?r():t.once("_iceComplete",r)},function(e){t._destroy(e)}))},function(e){t._destroy(e)},t.offerConstraints)},u.prototype._createAnswer=function(){var t=this;t.destroyed||t._pc.createAnswer(function(e){function r(){var r=t._pc.localDescription||e;t._debug("signal"),t.emit("signal",{type:r.type,sdp:r.sdp})}t.destroyed||(e.sdp=t.sdpTransform(e.sdp),t._pc.setLocalDescription(e,function(){if(t.destroyed)return;t.trickle||t._iceComplete?r():t.once("_iceComplete",r)},function(e){t._destroy(e)}))},function(e){t._destroy(e)},t.answerConstraints)},u.prototype._onIceStateChange=function(){var t=this;if(!t.destroyed){var e=t._pc.iceConnectionState,r=t._pc.iceGatheringState;t._debug("iceStateChange (connection: %s) (gathering: %s)",e,r),t.emit("iceStateChange",e,r),"connected"!==e&&"completed"!==e||(clearTimeout(t._reconnectTimeout),t._pcReady=!0,t._maybeReady()),"disconnected"===e&&(t.reconnectTimer?(clearTimeout(t._reconnectTimeout),t._reconnectTimeout=setTimeout(function(){t._destroy()},t.reconnectTimer)):t._destroy()),"failed"===e&&t._destroy(new Error("Ice connection failed.")),"closed"===e&&t._destroy()}},u.prototype.getStats=function(t){var e=this;0===e._pc.getStats.length?e._pc.getStats().then(function(e){var r=[];e.forEach(function(t){r.push(t)}),t(null,r)},function(e){t(e)}):e._isReactNativeWebrtc?e._pc.getStats(null,function(e){var r=[];e.forEach(function(t){r.push(t)}),t(null,r)},function(e){t(e)}):e._pc.getStats.length>0?e._pc.getStats(function(r){if(!e.destroyed){var n=[];r.result().forEach(function(t){var e={};t.names().forEach(function(r){e[r]=t.stat(r)}),e.id=t.id,e.type=t.type,e.timestamp=t.timestamp,n.push(e)}),t(null,n)}},function(e){t(e)}):t(null,[])},u.prototype._maybeReady=function(){var t=this;t._debug("maybeReady pc %s channel %s",t._pcReady,t._channelReady),!t.connected&&!t._connecting&&t._pcReady&&t._channelReady&&(t._connecting=!0,function e(){t.destroyed||t.getStats(function(r,n){if(!t.destroyed){r&&(n=[]);var i={},o={},s={},a=!1;if(n.forEach(function(t){"remotecandidate"!==t.type&&"remote-candidate"!==t.type||(i[t.id]=t),"localcandidate"!==t.type&&"local-candidate"!==t.type||(o[t.id]=t),"candidatepair"!==t.type&&"candidate-pair"!==t.type||(s[t.id]=t)}),n.forEach(function(t){"transport"===t.type&&c(s[t.selectedCandidatePairId]),("googCandidatePair"===t.type&&"true"===t.googActiveConnection||("candidatepair"===t.type||"candidate-pair"===t.type)&&t.selected)&&c(t)}),a||Object.keys(s).length&&!Object.keys(o).length){if(t._connecting=!1,t.connected=!0,t._chunk){try{t.send(t._chunk)}catch(r){return t._destroy(r)}t._chunk=null,t._debug('sent chunk from "write before connect"');var u=t._cb;t._cb=null,u(null)}"number"!=typeof t._channel.bufferedAmountLowThreshold&&(t._interval=setInterval(function(){t._onInterval()},150),t._interval.unref&&t._interval.unref()),t._debug("connect"),t.emit("connect")}else setTimeout(e,100)}function c(e){a=!0;var r=o[e.localCandidateId];r&&r.ip?(t.localAddress=r.ip,t.localPort=Number(r.port)):r&&r.ipAddress?(t.localAddress=r.ipAddress,t.localPort=Number(r.portNumber)):"string"==typeof e.googLocalAddress&&(r=e.googLocalAddress.split(":"),t.localAddress=r[0],t.localPort=Number(r[1]));var n=i[e.remoteCandidateId];n&&n.ip?(t.remoteAddress=n.ip,t.remotePort=Number(n.port)):n&&n.ipAddress?(t.remoteAddress=n.ipAddress,t.remotePort=Number(n.portNumber)):"string"==typeof e.googRemoteAddress&&(n=e.googRemoteAddress.split(":"),t.remoteAddress=n[0],t.remotePort=Number(n[1])),t.remoteFamily="IPv4",t._debug("connect local: %s:%s remote: %s:%s",t.localAddress,t.localPort,t.remoteAddress,t.remotePort)}})}())},u.prototype._onInterval=function(){!this._cb||!this._channel||this._channel.bufferedAmount>65536||this._onChannelBufferedAmountLow()},u.prototype._onSignalingStateChange=function(){this.destroyed||(this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))},u.prototype._onIceCandidate=function(t){this.destroyed||(t.candidate&&this.trickle?this.emit("signal",{candidate:{candidate:t.candidate.candidate,sdpMLineIndex:t.candidate.sdpMLineIndex,sdpMid:t.candidate.sdpMid}}):t.candidate||(this._iceComplete=!0,this.emit("_iceComplete")))},u.prototype._onChannelMessage=function(t){if(!this.destroyed){var r=t.data;r instanceof ArrayBuffer&&(r=e.from(r)),this.push(r)}},u.prototype._onChannelBufferedAmountLow=function(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);var t=this._cb;this._cb=null,t(null)}},u.prototype._onChannelOpen=function(){this.connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())},u.prototype._onChannelClose=function(){this.destroyed||(this._debug("on channel close"),this._destroy())},u.prototype._onAddStream=function(t){this.destroyed||(this._debug("on add stream"),this.emit("stream",t.stream))},u.prototype._onTrack=function(t){if(!this.destroyed){this._debug("on track");var e=t.streams[0].id;-1===this._previousStreams.indexOf(e)&&(this._previousStreams.push(e),this.emit("stream",t.streams[0]))}},u.prototype._debug=function(){var t=[].slice.call(arguments);t[0]="["+this._id+"] "+t[0],n.apply(null,t)},u.prototype._transformConstraints=function(t){if(0===Object.keys(t).length)return t;if((t.mandatory||t.optional)&&!this._isChromium){var e=Object.assign({},t.optional,t.mandatory);return void 0!==e.OfferToReceiveVideo&&(e.offerToReceiveVideo=e.OfferToReceiveVideo,delete e.OfferToReceiveVideo),void 0!==e.OfferToReceiveAudio&&(e.offerToReceiveAudio=e.OfferToReceiveAudio,delete e.OfferToReceiveAudio),e}return t.mandatory||t.optional||!this._isChromium?t:(void 0!==t.offerToReceiveVideo&&(t.OfferToReceiveVideo=t.offerToReceiveVideo,delete t.offerToReceiveVideo),void 0!==t.offerToReceiveAudio&&(t.OfferToReceiveAudio=t.offerToReceiveAudio,delete t.offerToReceiveAudio),{mandatory:t})}}).call(this,r(0).Buffer)},function(t,e){function r(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=r,r.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-r:t+r}return 0|Math.min(t,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(t){this.ms=t},r.prototype.setMax=function(t){this.max=t},r.prototype.setJitter=function(t){this.jitter=t}},function(t,e){t.exports=function(t,e){for(var r=[],n=(e=e||0)||0;n<t.length;n++)r[n-e]=t[n];return r}},function(t,e){},function(t,e,r){(function(e){var n,i=r(273),o=r(115),s=r(181),a=r(180),u=r(454),c=r(179)("engine.io-client:websocket"),f=e.WebSocket||e.MozWebSocket;if("undefined"==typeof window)try{n=r(979)}catch(t){}var l=f;function h(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=f&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(l=n),i.call(this,t)}l||"undefined"!=typeof window||(l=n),t.exports=h,a(h,i),h.prototype.name="websocket",h.prototype.supportsBinary=!0,h.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,r={agent:this.agent,perMessageDeflate:this.perMessageDeflate};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?e?new l(t,e):new l(t):new l(t,e,r)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},h.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},h.prototype.write=function(t){var r=this;this.writable=!1;for(var n=t.length,i=0,s=n;i<s;i++)!function(t){o.encodePacket(t,r.supportsBinary,function(i){if(!r.usingBrowserWebSocket){var o={};if(t.options&&(o.compress=t.options.compress),r.perMessageDeflate)("string"==typeof i?e.Buffer.byteLength(i):i.length)<r.perMessageDeflate.threshold&&(o.compress=!1)}try{r.usingBrowserWebSocket?r.ws.send(i):r.ws.send(i,o)}catch(t){c("websocket closed before onclose event")}--n||a()})}(t[i]);function a(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}},h.prototype.onClose=function(){i.prototype.onClose.call(this)},h.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},h.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",r="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(r=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=u()),this.supportsBinary||(t.b64=1),(t=s.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+r+this.path+t},h.prototype.check=function(){return!(!l||"__initialize"in l&&this.name===h.prototype.name)}}).call(this,r(7))},function(t,e,r){(function(e){var n=r(456),i=r(180);t.exports=c;var o,s=/\n/g,a=/\\n/g;function u(){}function c(t){n.call(this,t),this.query=this.query||{},o||(e.___eio||(e.___eio=[]),o=e.___eio),this.index=o.length;var r=this;o.push(function(t){r.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){r.script&&(r.script.onerror=u)},!1)}i(c,n),c.prototype.supportsBinary=!1,c.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),n.prototype.doClose.call(this)},c.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(e,r):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},c.prototype.doWrite=function(t,e){var r=this;if(!this.form){var n,i=document.createElement("form"),o=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=u,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function c(){f(),e()}function f(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(t){r.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+r.iframeId+'">';n=document.createElement(t)}catch(t){(n=document.createElement("iframe")).name=r.iframeId,n.src="javascript:0"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n}this.form.action=this.uri(),f(),t=t.replace(a,"\\\n"),this.area.value=t.replace(s,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&c()}:this.iframe.onload=c}}).call(this,r(7))},function(t,e,r){function n(t){var r;function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;u++;var i=e.formatters[n];if("function"==typeof i){var o=s[u];r=i.call(t,o),s.splice(u,1),u--}return r}),e.formatArgs.call(t,s),(n.log||e.log||console.log.bind(console)).apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),n.destroy=i,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var r;e.save(t),e.names=[],e.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(r=0;r<e.instances.length;r++){var o=e.instances[r];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(34),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,r){(function(e){var r=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,n=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),i=n&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),o=r&&r.prototype.append&&r.prototype.getBlob;function s(t){for(var e=0;e<t.length;e++){var r=t[e];if(r.buffer instanceof ArrayBuffer){var n=r.buffer;if(r.byteLength!==n.byteLength){var i=new Uint8Array(r.byteLength);i.set(new Uint8Array(n,r.byteOffset,r.byteLength)),n=i.buffer}t[e]=n}}}function a(t,e){e=e||{};var n=new r;s(t);for(var i=0;i<t.length;i++)n.append(t[i]);return e.type?n.getBlob(e.type):n.getBlob()}function u(t,e){return s(t),new Blob(t,e||{})}t.exports=n?i?e.Blob:u:o?a:void 0}).call(this,r(7))},function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256),n=0;n<t.length;n++)r[t.charCodeAt(n)]=n;e.encode=function(e){var r,n=new Uint8Array(e),i=n.length,o="";for(r=0;r<i;r+=3)o+=t[n[r]>>2],o+=t[(3&n[r])<<4|n[r+1]>>4],o+=t[(15&n[r+1])<<2|n[r+2]>>6],o+=t[63&n[r+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(t){var e,n,i,o,s,a=.75*t.length,u=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var f=new ArrayBuffer(a),l=new Uint8Array(f);for(e=0;e<u;e+=4)n=r[t.charCodeAt(e)],i=r[t.charCodeAt(e+1)],o=r[t.charCodeAt(e+2)],s=r[t.charCodeAt(e+3)],l[c++]=n<<2|i>>4,l[c++]=(15&i)<<4|o>>2,l[c++]=(3&o)<<6|63&s;return f}}()},function(t,e,r){(function(t,n){var i;/*! https://mths.be/utf8js v2.1.2 by @mathias */!function(o){var s="object"==typeof e&&e,a=("object"==typeof t&&t&&t.exports,"object"==typeof n&&n);a.global!==a&&a.window;var u,c,f,l=String.fromCharCode;function h(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function p(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function d(t,e){return l(t>>e&63|128)}function m(t,e){if(0==(4294967168&t))return l(t);var r="";return 0==(4294965248&t)?r=l(t>>6&31|192):0==(4294901760&t)?(p(t,e)||(t=65533),r=l(t>>12&15|224),r+=d(t,6)):0==(4292870144&t)&&(r=l(t>>18&7|240),r+=d(t,12),r+=d(t,6)),r+=l(63&t|128)}function g(){if(f>=c)throw Error("Invalid byte index");var t=255&u[f];if(f++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function v(t){var e,r;if(f>c)throw Error("Invalid byte index");if(f==c)return!1;if(e=255&u[f],f++,0==(128&e))return e;if(192==(224&e)){if((r=(31&e)<<6|g())>=128)return r;throw Error("Invalid continuation byte")}if(224==(240&e)){if((r=(15&e)<<12|g()<<6|g())>=2048)return p(r,t)?r:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(r=(7&e)<<18|g()<<12|g()<<6|g())>=65536&&r<=1114111)return r;throw Error("Invalid UTF-8 detected")}var y={version:"2.1.2",encode:function(t,e){for(var r=!1!==(e=e||{}).strict,n=h(t),i=n.length,o=-1,s="";++o<i;)s+=m(n[o],r);return s},decode:function(t,e){var r=!1!==(e=e||{}).strict;u=h(t),c=u.length,f=0;for(var n,i=[];!1!==(n=v(r));)i.push(n);return function(t){for(var e,r=t.length,n=-1,i="";++n<r;)(e=t[n])>65535&&(i+=l((e-=65536)>>>10&1023|55296),e=56320|1023&e),i+=l(e);return i}(i)}};void 0===(i=function(){return y}.call(e,r,e,t))||(t.exports=i)}()}).call(this,r(24)(t),r(7))},function(t,e){function r(){}t.exports=function(t,e,n){var i=!1;return n=n||r,o.count=t,0===t?e():o;function o(t,r){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(i=!0,e(t),e=n):0!==o.count||i||e(null,r)}}},function(t,e){t.exports=function(t,e,r){var n=t.byteLength;if(e=e||0,r=r||n,t.slice)return t.slice(e,r);if(e<0&&(e+=n),r<0&&(r+=n),r>n&&(r=n),e>=n||e>=r||0===n)return new ArrayBuffer(0);for(var i=new Uint8Array(t),o=new Uint8Array(r-e),s=e,a=0;s<r;s++,a++)o[a]=i[s];return o.buffer}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e){t.exports=Object.keys||function(t){var e=[],r=Object.prototype.hasOwnProperty;for(var n in t)r.call(t,n)&&e.push(n);return e}},function(t,e,r){(function(e){var n=r(274),i=r(456),o=r(116),s=r(180),a=r(179)("engine.io-client:polling-xhr");function u(){}function c(t){if(i.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,e.location){var r="https:"===location.protocol,n=location.port;n||(n=r?443:80),this.xd=t.hostname!==e.location.hostname||n!==t.port,this.xs=t.secure!==r}}function f(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function l(){for(var t in f.requests)f.requests.hasOwnProperty(t)&&f.requests[t].abort()}t.exports=c,t.exports.Request=f,s(c,i),c.prototype.supportsBinary=!0,c.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new f(t)},c.prototype.doWrite=function(t,e){var r="string"!=typeof t&&void 0!==t,n=this.request({method:"POST",data:t,isBinary:r}),i=this;n.on("success",e),n.on("error",function(t){i.onError("xhr post error",t)}),this.sendXhr=n},c.prototype.doPoll=function(){a("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},o(f.prototype),f.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var r=this.xhr=new n(t),i=this;try{a("xhr open %s: %s",this.method,this.uri),r.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this.extraHeaders[o])}catch(t){}if("POST"===this.method)try{this.isBinary?r.setRequestHeader("Content-type","application/octet-stream"):r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{r.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in r&&(r.withCredentials=!0),this.requestTimeout&&(r.timeout=this.requestTimeout),this.hasXDR()?(r.onload=function(){i.onLoad()},r.onerror=function(){i.onError(r.responseText)}):r.onreadystatechange=function(){if(2===r.readyState)try{var t=r.getResponseHeader("Content-Type");i.supportsBinary&&"application/octet-stream"===t&&(r.responseType="arraybuffer")}catch(t){}4===r.readyState&&(200===r.status||1223===r.status?i.onLoad():setTimeout(function(){i.onError(r.status)},0))},a("xhr data %s",this.data),r.send(this.data)}catch(t){return void setTimeout(function(){i.onError(t)},0)}e.document&&(this.index=f.requestsCount++,f.requests[this.index]=this)},f.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},f.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},f.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},f.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=u:this.xhr.onreadystatechange=u,t)try{this.xhr.abort()}catch(t){}e.document&&delete f.requests[this.index],this.xhr=null}},f.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},f.prototype.hasXDR=function(){return void 0!==e.XDomainRequest&&!this.xs&&this.enablesXDR},f.prototype.abort=function(){this.cleanup()},f.requestsCount=0,f.requests={},e.document&&(e.attachEvent?e.attachEvent("onunload",l):e.addEventListener&&e.addEventListener("beforeunload",l,!1))}).call(this,r(7))},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,r){(function(e){var n=r(457),i=r(116),o=r(179)("engine.io-client:socket"),s=r(356),a=r(115),u=r(461),c=r(181);function f(t,r){if(!(this instanceof f))return new f(t,r);r=r||{},t&&"object"==typeof t&&(r=t,t=null),t?(t=u(t),r.hostname=t.host,r.secure="https"===t.protocol||"wss"===t.protocol,r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=u(r.host).host),this.secure=null!=r.secure?r.secure:e.location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.agent=r.agent||!1,this.hostname=r.hostname||(e.location?location.hostname:"localhost"),this.port=r.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=r.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==r.upgrade,this.path=(r.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!r.forceJSONP,this.jsonp=!1!==r.jsonp,this.forceBase64=!!r.forceBase64,this.enablesXDR=!!r.enablesXDR,this.timestampParam=r.timestampParam||"t",this.timestampRequests=r.timestampRequests,this.transports=r.transports||["polling","websocket"],this.transportOptions=r.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=r.policyPort||843,this.rememberUpgrade=r.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=r.onlyBinaryUpgrades,this.perMessageDeflate=!1!==r.perMessageDeflate&&(r.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=r.pfx||null,this.key=r.key||null,this.passphrase=r.passphrase||null,this.cert=r.cert||null,this.ca=r.ca||null,this.ciphers=r.ciphers||null,this.rejectUnauthorized=void 0===r.rejectUnauthorized||r.rejectUnauthorized,this.forceNode=!!r.forceNode;var n="object"==typeof e&&e;n.global===n&&(r.extraHeaders&&Object.keys(r.extraHeaders).length>0&&(this.extraHeaders=r.extraHeaders),r.localAddress&&(this.localAddress=r.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=f,f.priorWebsocketSuccess=!1,i(f.prototype),f.protocol=a.protocol,f.Socket=f,f.Transport=r(273),f.transports=r(457),f.parser=r(115),f.prototype.createTransport=function(t){o('creating transport "%s"',t);var e=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}(this.query);e.EIO=a.protocol,e.transport=t;var r=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new n[t]({query:e,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0})},f.prototype.open=function(){var t;if(this.rememberUpgrade&&f.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},f.prototype.setTransport=function(t){o("setting transport %s",t.name);var e=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},f.prototype.probe=function(t){o('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),r=!1,n=this;function i(){if(n.onlyBinaryUpgrades){var i=!this.supportsBinary&&n.transport.supportsBinary;r=r||i}r||(o('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",function(i){if(!r)if("pong"===i.type&&"probe"===i.data){if(o('probe transport "%s" pong',t),n.upgrading=!0,n.emit("upgrading",e),!e)return;f.priorWebsocketSuccess="websocket"===e.name,o('pausing current transport "%s"',n.transport.name),n.transport.pause(function(){r||"closed"!==n.readyState&&(o("changing transport and sending upgrade packet"),h(),n.setTransport(e),e.send([{type:"upgrade"}]),n.emit("upgrade",e),e=null,n.upgrading=!1,n.flush())})}else{o('probe transport "%s" failed',t);var s=new Error("probe error");s.transport=e.name,n.emit("upgradeError",s)}}))}function s(){r||(r=!0,h(),e.close(),e=null)}function a(r){var i=new Error("probe error: "+r);i.transport=e.name,s(),o('probe transport "%s" failed because of error: %s',t,r),n.emit("upgradeError",i)}function u(){a("transport closed")}function c(){a("socket closed")}function l(t){e&&t.name!==e.name&&(o('"%s" works - aborting "%s"',t.name,e.name),s())}function h(){e.removeListener("open",i),e.removeListener("error",a),e.removeListener("close",u),n.removeListener("close",c),n.removeListener("upgrading",l)}f.priorWebsocketSuccess=!1,e.once("open",i),e.once("error",a),e.once("close",u),this.once("close",c),this.once("upgrading",l),e.open()},f.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",f.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},f.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else o('packet received with socket readyState "%s"',this.readyState)},f.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},f.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},f.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){o("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},f.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},f.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},f.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},f.prototype.write=f.prototype.send=function(t,e,r){return this.sendPacket("message",t,e,r),this},f.prototype.sendPacket=function(t,e,r,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){(r=r||{}).compress=!1!==r.compress;var i={type:t,data:e,options:r};this.emit("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}},f.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}function e(){t.onClose("forced close"),o("socket closing - telling transport to close"),t.transport.close()}function r(){t.removeListener("upgrade",r),t.removeListener("upgradeError",r),e()}function n(){t.once("upgrade",r),t.once("upgradeError",r)}return this},f.prototype.onError=function(t){o("socket error %j",t),f.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},f.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',t);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0}},f.prototype.filterUpgrades=function(t){for(var e=[],r=0,n=t.length;r<n;r++)~s(this.transports,t[r])&&e.push(t[r]);return e}}).call(this,r(7))},function(t,e,r){t.exports=r(992),t.exports.parser=r(115)},function(t,e,r){(function(t){var n=r(460),i=r(459),o=Object.prototype.toString,s="function"==typeof t.Blob||"[object BlobConstructor]"===o.call(t.Blob),a="function"==typeof t.File||"[object FileConstructor]"===o.call(t.File);e.deconstructPacket=function(t){var e=[],r=t.data,o=t;return o.data=function t(e,r){if(!e)return e;if(i(e)){var o={_placeholder:!0,num:r.length};return r.push(e),o}if(n(e)){for(var s=new Array(e.length),a=0;a<e.length;a++)s[a]=t(e[a],r);return s}if("object"==typeof e&&!(e instanceof Date)){var s={};for(var u in e)s[u]=t(e[u],r);return s}return e}(r,e),o.attachments=e.length,{packet:o,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,r){if(!e)return e;if(e&&e._placeholder)return r[e.num];if(n(e))for(var i=0;i<e.length;i++)e[i]=t(e[i],r);else if("object"==typeof e)for(var o in e)e[o]=t(e[o],r);return e}(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var r=0,o=t;!function t(u,c,f){if(!u)return u;if(s&&u instanceof Blob||a&&u instanceof File){r++;var l=new FileReader;l.onload=function(){f?f[c]=this.result:o=this.result,--r||e(o)},l.readAsArrayBuffer(u)}else if(n(u))for(var h=0;h<u.length;h++)t(u[h],h,u);else if("object"==typeof u&&!i(u))for(var p in u)t(u[p],p,u)}(o),r||e(o)}}).call(this,r(7))},function(t,e,r){function n(t){var r;function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;u++;var i=e.formatters[n];if("function"==typeof i){var o=s[u];r=i.call(t,o),s.splice(u,1),u--}return r}),e.formatArgs.call(t,s),(n.log||e.log||console.log.bind(console)).apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),n.destroy=i,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var r;e.save(t),e.names=[],e.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(r=0;r<e.instances.length;r++){var o=e.instances[r];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(34),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,r){(function(n){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(995)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++i)}),t.splice(o,0,n)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,r(2))},function(t,e,r){function n(t){var r;function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;u++;var i=e.formatters[n];if("function"==typeof i){var o=s[u];r=i.call(t,o),s.splice(u,1),u--}return r}),e.formatArgs.call(t,s),(n.log||e.log||console.log.bind(console)).apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),n.destroy=i,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var r;e.save(t),e.names=[],e.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(r=0;r<e.instances.length;r++){var o=e.instances[r];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(34),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,r){(function(e){var n=r(461),i=r(182)("socket.io-client:url");t.exports=function(t,r){var o=t;r=r||e.location,null==t&&(t=r.protocol+"//"+r.host);"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?r.protocol+t:r.host+t),/^(https?|wss?):\/\//.test(t)||(i("protocol-less url %s",t),t=void 0!==r?r.protocol+"//"+t:"https://"+t),i("parse %s",t),o=n(t));o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443"));o.path=o.path||"/";var s=-1!==o.host.indexOf(":")?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+s+":"+o.port,o.href=o.protocol+"://"+s+(r&&r.port===o.port?"":":"+o.port),o}}).call(this,r(7))},function(t,e,r){function n(t){var r;function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;u++;var i=e.formatters[n];if("function"==typeof i){var o=s[u];r=i.call(t,o),s.splice(u,1),u--}return r}),e.formatArgs.call(t,s),(n.log||e.log||console.log.bind(console)).apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),n.destroy=i,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var r;e.save(t),e.names=[],e.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(r=0;r<e.instances.length;r++){var o=e.instances[r];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(34),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,r){(function(n){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(999)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++i)}),t.splice(o,0,n)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,r(2))},function(t,e,r){"use strict";const n=r(1e3)("libp2p:webrtc-star"),i=r(25),o=r(80),s=r(462),a=r(20).EventEmitter,u=r(976),c=r(30),f=r(48),l=r(44).Connection,h=r(272),p=r(55),d=r(971),m=r(968),g=r(967),v=g.cleanUrlSIO,y=g.cleanMultiaddr,b=p(()=>{}),w={transports:["websocket"],"force new connection":!0};t.exports=class{constructor(t){t=t||{},this.maSelf=void 0,this.sioOptions={transports:["websocket"],"force new connection":!0},t.wrtc&&(this.wrtc=t.wrtc),this.discovery=new a,this.discovery.start=(t=>{d(t)}),this.discovery.stop=(t=>{d(t)}),this.listenersRefs={},this._peerDiscovered=this._peerDiscovered.bind(this)}dial(t,e,r){"function"==typeof e&&(r=e,e={}),r=r?p(r):b;const n=(~~(1e9*Math.random())).toString(36)+Date.now(),i=this.listenersRefs[Object.keys(this.listenersRefs)[0]].io,o={initiator:!0,trickle:!1};this.wrtc&&(o.wrtc=this.wrtc);const s=new u(o),a=new l(h.duplex(s));let c=!1;return s.on("signal",e=>{i.emit("ss-handshake",{intentId:n,srcMultiaddr:this.maSelf.toString(),dstMultiaddr:t.toString(),signal:e})}),s.once("timeout",()=>r(new Error("timeout"))),s.once("error",t=>{c||r(t)}),i.on("ws-handshake",e=>{if(e.intentId===n&&e.err)return r(new Error(e.err));e.intentId===n&&e.answer&&(s.once("connect",()=>{c=!0,a.destroy=s.destroy.bind(s),s.once("close",()=>a.destroy()),a.getObservedAddrs=(e=>e(null,[t])),r(null,a)}),s.signal(e.signal))}),a}createListener(t,e){"function"==typeof t&&(e=t,t={});const r=new a;return r.listen=((t,i)=>{if(i=i?p(i):b,!m.support&&!this.wrtc)return d(()=>i(new Error("no WebRTC support")));this.maSelf=t;const o=v(t);n("Dialing to Signalling Server on: "+o),r.io=s.connect(o,w),r.io.once("connect_error",i),r.io.once("error",t=>{r.emit("error",t),r.emit("close")}),r.io.on("ws-handshake",function(t){if(t.answer||t.err)return;const n={trickle:!1};a.wrtc&&(n.wrtc=a.wrtc);const i=new u(n),o=new l(h.duplex(i));i.once("connect",()=>{o.getObservedAddrs=(e=>e(null,[t.srcMultiaddr])),r.emit("connection",o),e(o)}),i.once("signal",e=>{t.signal=e,t.answer=!0,r.io.emit("ss-handshake",t)}),i.signal(t.signal)}),r.io.on("ws-peer",this._peerDiscovered),r.io.on("connect",()=>{r.io.emit("ss-join",t.toString())}),r.io.once("connect",()=>{r.emit("listening"),i()});const a=this}),r.close=(t=>{t=t?p(t):b,r.io.emit("ss-leave"),d(()=>{r.emit("close"),t()})}),r.getAddrs=(t=>{d(()=>t(null,[this.maSelf]))}),this.listenersRefs[i.toString()]=r,r}filter(t){return Array.isArray(t)||(t=[t]),t.filter(t=>!(t.protoNames().indexOf("p2p-circuit")>-1)&&o.WebRTCStar.matches(t))}_peerDiscovered(t){n("Peer Discovered:",t);const e=(t=y(t)).split("/ipfs/"),r=e[e.length-1],o=c.createFromB58String(r),s=new f(o);s.multiaddrs.add(i(t)),this.discovery.emit("peer",s)}}},function(t,e){},function(t,e,r){"use strict";const n=r(44).Connection,i=r(463),o=r(25),s=r(339);function a(){}const u=r(1002)||a;t.exports=((t,e)=>{const r=u(t=>{t.getObservedAddrs=(t=>t(null,[])),e(new n(t))});let c;return r._listen=r.listen,r.listen=((t,e)=>{e=e||a,c=t,i(t.protoNames(),"ipfs")&&(t=t.decapsulate("ipfs")),r._listen(t.toOptions(),e)}),r.getAddrs=(t=>{const e=[],n=r.address();if(!n)return t(new Error("Listener is not ready yet"));let i=c.getPeerId();if(-1!==c.toString().indexOf("ip4")){let t=c.decapsulate("tcp");if(t=t.encapsulate("/tcp/"+n.port+"/ws"),c.getPeerId()&&(t=t.encapsulate("/ipfs/"+i)),-1!==t.toString().indexOf("0.0.0.0")){const r=s.networkInterfaces();Object.keys(r).forEach(n=>{r[n].forEach(r=>{"IPv4"===r.family&&e.push(o(t.toString().replace("0.0.0.0",r.address)))})})}else e.push(t)}t(null,e)}),r})},function(t,e,r){var n;function i(t){function r(){if(r.enabled){var t=r,i=+new Date,o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;u++;var i=e.formatters[n];if("function"==typeof i){var o=s[u];r=i.call(t,o),s.splice(u,1),u--}return r}),e.formatArgs.call(t,s),(r.log||e.log||console.log.bind(console)).apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),"function"==typeof e.init&&e.init(r),r}(e=t.exports=i.debug=i.default=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];for(var r=("string"==typeof t?t:"").split(/[\s,]+/),n=r.length,i=0;i<n;i++)r[i]&&("-"===(t=r[i].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(34),e.names=[],e.skips=[],e.formatters={}},function(t,e,r){"use strict";const n=r(117)("libp2p:websockets:dialer");t.exports=function(t){const e=t.toString().split("/");let r,i;try{r=t.protoNames().filter(t=>"ws"===t||"wss"===t)[0]}catch(t){throw n(t),new Error("Not a valid websocket address",t)}try{i=t.stringTuples().filter(e=>{if(e[0]===t.protos().filter(t=>"tcp"===t.name)[0].code)return!0})[0][1]}catch(t){n("No port, skipping")}return`${r}://${e[2]}${!i||80===i&&443===i?"":`:${i}`}`}},function(t,e,r){"use strict";const n=r(559);t.exports=class{constructor(t,e){this.peerInfo=null,this.conn=n(),t?this.setInnerConn(t,e):e&&(this.info=e)}get source(){return this.conn.source}get sink(){return this.conn.sink}getPeerInfo(t){return this.info&&this.info.getPeerInfo?this.info.getPeerInfo(t):this.peerInfo?void t(null,this.peerInfo):t(new Error("Peer Info not set yet"))}setPeerInfo(t){if(this.info&&this.info.setPeerInfo)return this.info.setPeerInfo(t);this.peerInfo=t}getObservedAddrs(t){if(this.info&&this.info.getObservedAddrs)return this.info.getObservedAddrs(t);t(null,[])}setInnerConn(t,e){this.conn.resolve(t),this.info=e||t}}},function(t,e,r){var n=r(164);t.exports=function(t,e,r,i){var o;return r=r||{},o=(t=n.parse(t,!1,!0)).protocol?t.protocol:(r[o=e.protocol?e.protocol.replace(/:$/,""):"http"]||i||o)+":",t.host&&":"===t.host[0]&&(t.host=null),t.hostname?n.format({protocol:o,slashes:!0,hostname:t.hostname,port:t.port,pathname:t.pathname,search:t.search}):(t.host=e.host,t.port?n.format({protocol:o,slashes:!0,host:e.hostname+":"+t.port,port:t.port,pathname:t.pathname,search:t.search}):t.pathname?n.format({protocol:o,slashes:!0,host:t.host,pathname:t.pathname,search:t.search}):(t.pathname=e.pathname,t.search?n.format({protocol:o,slashes:!0,host:t.host,pathname:t.pathname,search:t.search}):(t.search=e.search,t.format(t))))}},function(t,e,r){var n=r(1007),i={http:"ws",https:"wss"};t.exports=function(t,e){return n(t,e,i,"ws")}},function(t,e){t.exports=function(t,e){var r=t&&(t.removeEventListener||t.removeListener);function n(){"function"==typeof r&&(r.call(t,"open",i),r.call(t,"error",o))}function i(t){n(),e()}function o(t){n(),e(t)}return t.readyState>=2?e(!0):1===t.readyState?e():(t.addEventListener("open",i),void t.addEventListener("error",o))}},function(t,e,r){(function(e,n){var i=r(1009),o=void 0!==e?e:n.nextTick;t.exports=function(t,e){return function(r){var n=!1!==(e=e||{}).closeOnEnd,s="function"==typeof e?e:e.onClose;r(null,function e(a,u){a?n&&t.readyState<=1&&(s&&t.addEventListener("close",function(t){if(t.wasClean||1006===t.code)s();else{var e=new Error("ws error");e.event=t,s(e)}}),t.close()):i(t,function(n){if(n)return r(n,function(){});t.send(u),o(function(){r(null,e)})})})}}}).call(this,r(12).setImmediate,r(2))},function(t,e,r){var n=r(3).Buffer;t.exports=function(t,e){var r,i,o=[],s=!1;return t.addEventListener("message",function(t){var e,i=t.data;if(((e=i)instanceof ArrayBuffer||null!=e&&null!=e.constructor&&"ArrayBuffer"===e.constructor.name&&"number"==typeof e.byteLength)&&(i=n.from(i)),r)return r(null,i);o.push(i)}),t.addEventListener("close",function(t){i||r&&r(i=!0)}),t.addEventListener("error",function(t){i||(i=t,s||(s=!0,e&&e(t)),r&&r(i))}),t.addEventListener("open",function(t){s||i||(s=!0)}),function(e,n){if(r=null,i)return n(i);e?(r=n,t.close()):o.length>0?n(null,o.shift()):r=n}}},function(t,e,r){var n=r(1011),i=r(1010);t.exports=function(t,e){var r=t.upgradeReq||{};e&&e.binaryType?t.binaryType=e.binaryType:e&&e.binary&&(t.binaryType="arraybuffer");return{source:n(t,e&&e.onConnect),sink:i(t,e),headers:r.headers,url:r.url,upgrade:r.upgrade,method:r.method}}},function(t,e){},function(t,e,r){t.exports="undefined"==typeof WebSocket?r(1013):WebSocket},function(t,e,r){"use strict";var n=r(1014),i=r(1012),o=r(1008);function s(t){return"function"==typeof t}t.exports=function(t,e){s(e)&&(e={onConnect:e});var r="undefined"==typeof window?{}:window.location,a=o(t,r),u=new n(a),c=i(u,e);return c.remoteAddress=a,c.close=function(t){s(t)&&u.addEventListener("close",t),u.close()},u.addEventListener("open",function(t){e&&s(e.onConnect)&&e.onConnect(null,c)}),c},t.exports.connect=t.exports},function(t,e,r){"use strict";const n=r(1015),i=r(80),o=r(463),s=r(44).Connection,a=r(1005),u=r(117)("libp2p:websockets:dialer"),c=r(1003);t.exports=class{dial(t,e,r){"function"==typeof e&&(r=e,e={}),r=r||function(){};const i=a(t);u("dialing %s",i);const o=n(i,{binary:!0,onConnect:t=>{r(t)}}),c=new s(o);return c.getObservedAddrs=(e=>e(null,[t])),c.close=(t=>o.close(t)),c}createListener(t,e){return"function"==typeof t&&(e=t,t={}),c(t,e)}filter(t){return Array.isArray(t)||(t=[t]),t.filter(t=>!o(t.protoNames(),"p2p-circuit")&&(o(t.protoNames(),"ipfs")&&(t=t.decapsulate("ipfs")),i.WebSockets.matches(t)||i.WebSocketsSecure.matches(t)))}}},function(t,e,r){"use strict";const n=r(1016),i=r(1001),o=r(966),s=r(945),a=r(929),u=r(911),c=r(905);t.exports=class extends c{constructor(t,e,r){r=r||{};const c=new i({id:t.id}),f=new o({id:t.id}),l={transport:[new n,c,f],connection:{muxer:[s],crypto:[a]},discovery:[c.discovery,f.discovery]};if(r.bootstrap){const t=new u(r.bootstrap);l.discovery.push(t)}r.modules&&r.modules.transport&&r.modules.transport.forEach(t=>l.transport.push(t)),r.modules&&r.modules.discovery&&r.modules.discovery.forEach(t=>l.discovery.push(t)),super(l,t,e,r)}}},function(t,e,r){"use strict";const n=r(1017),i=r(26),o=r(583);t.exports=function(t){return{start:i(e=>{t.config.get(function(r,i){if(r)return e(r);const s={mdns:o(i,"Discovery.MDNS.Enabled"),webRTCStar:o(i,"Discovery.webRTCStar.Enabled"),bootstrap:o(i,"Bootstrap"),modules:t._libp2pModules,pubsub:o(t._options,"EXPERIMENTAL.pubsub",!1),dht:o(t._options,"EXPERIMENTAL.dht",!1),relay:{enabled:o(i,"EXPERIMENTAL.relay.enabled",!1),hop:{enabled:o(i,"EXPERIMENTAL.relay.hop.enabled",!1),active:o(i,"EXPERIMENTAL.relay.hop.active",!1)}}};t._libp2pNode=new n(t._peerInfo,t._peerInfoBook,s),t._libp2pNode.on("peer:discovery",e=>{const r=()=>{t._peerInfoBook.put(e),t._libp2pNode.dial(e,()=>{})};t.isOnline()?r():t._libp2pNode.once("start",r)}),t._libp2pNode.on("peer:connect",e=>{t._peerInfoBook.put(e)}),t._libp2pNode.start(r=>{if(r)return e(r);t._libp2pNode.peerInfo.multiaddrs.forEach(t=>{console.log("Swarm listening on",t.toString())}),e()})})}),stop:i(e=>{t._libp2pNode.stop(e)})}}},function(t,e,r){"use strict";const n=r(26),i=r(18),o=r(8);t.exports=function(t){return{put:n((e,r,n)=>{t._ipld.put(e,r,n)}),get:n((e,r,n,o)=>{if("function"==typeof r&&(o=r,r=void 0),"function"==typeof n&&(o=n,n={}),n=n||{},"string"==typeof e){const t=e.split("/");e=new i(t[0]),t.shift(),r=t.length>0?t.join("/"):"/"}t._ipld.get(e,r,n,o)}),tree:n((e,r,n,s)=>{if("object"==typeof r&&(s=n,n=r,r=void 0),"function"==typeof r&&(s=r,r=void 0),"function"==typeof n&&(s=n,n={}),n=n||{},"string"==typeof e){const t=e.split("/");e=new i(t[0]),t.shift(),r=t.length>0?t.join("/"):void 0}o(t._ipld.treeStream(e,r,n),o.collect(s))})}}},function(t,e,r){"use strict";t.exports="message Data {\n  enum DataType {\n    Raw = 0;\n    Directory = 1;\n    File = 2;\n    Metadata = 3;\n    Symlink = 4;\n    HAMTShard = 5;\n  }\n\n  required DataType Type = 1;\n  optional bytes Data = 2;\n  optional uint64 filesize = 3;\n  repeated uint64 blocksizes = 4;\n\n  optional uint64 hashType = 5;\n  optional uint64 fanout = 6;\n}\n\nmessage Metadata {\n  required string MimeType = 1;\n}"},function(t,e,r){"use strict";(function(e){const n=r(120),i=r(26),o=r(126),s=o.DAGNode,a=o.DAGLink,u=r(18),c=r(38),f=r(93),l=r(17);function h(t,r,n){switch(r){case"json":return function(t,r){let n,i;try{const o=JSON.parse(t.toString());i=(o.Links||[]).map(t=>new a(t.Name||t.name,t.Size||t.size,c.fromB58String(t.Hash||t.hash||t.multihash))),n=e.from(o.Data)}catch(t){return r(new Error("failed to parse JSON: "+t))}s.create(n,i,r)}(t,n);case"protobuf":return function(t,e){o.util.deserialize(t,e)}(t,n);default:n(new Error(`unkown encoding: ${r}`))}}t.exports=function(t){function r(e){return(r,i,o)=>{"function"==typeof i&&(o=i,i={}),n([e=>{t.object.get(r,i,e)},(r,n)=>{e(r,(e,r)=>{if(e)return n(e);t._ipld.put(r,{cid:new u(r.multihash)},t=>{n(t,r)})})}],o)}}return{new:i((r,n)=>{let i;"function"==typeof r&&(n=r,r=void 0),r?(l("unixfs-dir"===r,"unkown template"),i=new f("directory").marshal()):i=e.alloc(0),s.create(i,(e,r)=>{if(e)return n(e);t._ipld.put(r,{cid:new u(r.multihash)},t=>{if(t)return n(t);n(null,r)})})}),put:i((r,n,i)=>{"function"==typeof n&&(i=n,n={});const o=n.enc;let a;if(e.isBuffer(r))o?h(r,o,(t,e)=>{if(t)return i(t);a=e,c()}):s.create(r,(t,e)=>{if(t)return i(t);a=e,c()});else if(r.multihash)a=r,c();else{if("object"!=typeof r)return i(new Error("obj not recognized"));s.create(r.Data,r.Links,(t,e)=>{if(t)return i(t);a=e,c()})}function c(){t._ipld.put(a,{cid:new u(a.multihash)},e=>{if(e)return i(e);t.object.get(a.multihash,i)})}}),get:i((r,n,i)=>{let o;"function"==typeof n&&(i=n,n={});try{o=function(t,r){if("string"==typeof t)return"base58"!==r&&r?e.from(t,r):t;if(e.isBuffer(t))return t;throw new Error("unsupported multihash")}(r,n.enc)}catch(t){return i(t)}const s=new u(o);t._ipld.get(s,(t,e)=>{if(t)return i(t);const r=e.value;i(null,r)})}),data:i((e,r,n)=>{"function"==typeof r&&(n=r,r={}),t.object.get(e,r,(t,e)=>{if(t)return n(t);n(null,e.data)})}),links:i((e,r,n)=>{"function"==typeof r&&(n=r,r={}),t.object.get(e,r,(t,e)=>{if(t)return n(t);n(null,e.links)})}),stat:i((e,r,n)=>{"function"==typeof r&&(n=r,r={}),t.object.get(e,r,(t,e)=>{if(t)return n(t);o.util.serialize(e,(t,r)=>{if(t)return n(t);const i=r.length,o=e.links.reduce((t,e)=>t+e.size,0),s=e.toJSON();n(null,{Hash:s.multihash,NumLinks:e.links.length,BlockSize:i,LinksSize:i-e.data.length,DataSize:e.data.length,CumulativeSize:i+o})})})}),patch:i({addLink(t,e,n,i){r((t,r)=>{s.addLink(t,e,r)})(t,n,i)},rmLink(t,e,n,i){r((t,r)=>{e.constructor&&"DAGLink"===e.constructor.name&&(e=e._name),s.rmLink(t,e,r)})(t,n,i)},appendData(t,n,i,o){r((t,r)=>{const i=e.concat([t.data,n]);s.create(i,t.links,r)})(t,i,o)},setData(t,e,n,i){r((t,r)=>{s.create(e,t.links,r)})(t,n,i)}})}}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(219),i=r(38),o=r(53),s=r(18),a=r(120),u=r(26);function c(t){return s.isCID(t)?t:new s(t)}t.exports=function(t){return{get:u((e,r)=>{e=c(e),t._blockService.get(e,r)}),put:u((e,r,i)=>{if(i=i||function(){},"function"==typeof r&&(i=r,r={}),Array.isArray(e))return i(new Error("Array is not supported"));a([t=>{if(n.isBlock(e))return t(null,e);if(r.cid&&s.isCID(r.cid))return t(null,new n(e,r.cid));const i=r.mhtype||"sha2-256",a=r.format||"dag-pb",u=r.version||0;o(e,i,(r,i)=>{if(r)return t(r);t(null,new n(e,new s(u,a,i)))})},(e,r)=>t._blockService.put(e,t=>{if(t)return r(t);r(null,e)})],i)}),rm:u((e,r)=>{e=c(e),t._blockService.delete(e,r)}),stat:u((e,r)=>{e=c(e),t._blockService.get(e,(t,n)=>{if(t)return r(t);r(null,{key:i.toB58String(e.multihash),size:n.data.length})})})}}},function(t,e,r){"use strict";const n=r(26);t.exports=function(t){return{get:n((e,r)=>("function"==typeof e&&(r=e,e=void 0),t._repo.config.get(e,r))),set:n((e,r,n)=>{t._repo.config.set(e,r,n)}),replace:n((e,r)=>{t._repo.config.set(e,r)})}}},function(t,e,r){"use strict";(function(e){const n=r(464).Bootstrap,i=r(80).IPFS.matches,o=r(26);function s(t){try{return i(t)}catch(t){return!1}}function a(t){return new Error(`${t} is not a valid Multiaddr`)}t.exports=function(t){return{list:o(e=>{t._repo.config.get((t,r)=>{if(t)return e(t);e(null,{Peers:r.Bootstrap})})}),add:o((r,i,o)=>{if("function"==typeof i&&(o=i,i={default:!1}),r&&!s(r))return e(()=>o(a(r)));t._repo.config.get((e,s)=>{if(e)return o(e);i.default?s.Bootstrap=n:r&&-1===s.Bootstrap.indexOf(r)&&s.Bootstrap.push(r),t._repo.config.set(s,t=>{if(t)return o(t);o(null,{Peers:i.default?n:[r]})})})}),rm:o((r,n,i)=>{if("function"==typeof n&&(i=n,n={all:!1}),r&&!s(r))return e(()=>i(a(r)));t._repo.config.get((e,o)=>{if(e)return i(e);n.all?o.Bootstrap=[]:o.Bootstrap=o.Bootstrap.filter(t=>t!==r),t._repo.config.set(o,t=>{if(t)return i(t);const e=[];!n.all&&r&&e.push(r),i(null,{Peers:e})})})})}}}).call(this,r(12).setImmediate)},function(t,e){},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,i.default)(n.default,t,e)};var n=o(r(276)),i=o(r(479));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";const n=r(30),i=r(120),o=r(1026),s=r(26),a=r(464),u=r(476),c=r(1025);t.exports=function(t){return s((e,r)=>{"function"==typeof e&&(r=e,e={});const s=(e,n)=>{if(e)return t.emit("error",e),r(e);t.state.initialized(),t.emit("init"),r(null,n)};if("uninitalized"!==t.state.state())return s(new Error("Not able to init from state: "+t.state.state()));let f;t.state.init(),t.log("init"),e.emptyRepo=e.emptyRepo||!1,e.bits=Number(e.bits)||2048,e.log=e.log||function(){},i([e=>t._repo.exists(e),(r,i)=>{if(t.log("repo exists?",r),!0===r)return i(new Error("repo already exists"));e.log(`generating ${e.bits}-bit RSA keypair...`,!1),t.log("generating peer id: %s bits",e.bits),n.create({bits:e.bits},i)},(r,n)=>{t.log("identity generated"),a.Identity={PeerID:r.toB58String(),PrivKey:r.privKey.bytes.toString("base64")},e.pass&&(f=r.privKey,a.Keychain=u.generateOptions()),e.log("done"),e.log("peer identity: "+a.Identity.PeerID),t._repo.init(a,n)},(e,r)=>t._repo.open(r),r=>{if(t.log("repo opened"),e.pass){t.log("creating keychain");const n=Object.assign({passPhrase:e.pass},a.Keychain);t._keychain=new u(t._repo.keys,n),t._keychain.importPeer("self",{privKey:f},r)}else r(null,!0)},(r,n)=>{if(e.emptyRepo)return n(null,!0);t.log("adding assets");const i=[e=>t.object.new("unixfs-dir",e)];"function"==typeof c&&i.push(r=>c(t,e.log,r)),o(i,t=>{t?n(t):n(null,!0)})}],s)})}},function(t,e,r){"use strict";const n=r(26),i=r(277),o=r(466).version;t.exports=function(t){return n((e,r)=>{"function"==typeof e&&(r=e,e={}),i(()=>r(null,{id:t._peerInfo.id.toB58String(),publicKey:t._peerInfo.id.pubKey.bytes.toString("base64"),addresses:t._peerInfo.multiaddrs.toArray().map(t=>t.toString()).filter(t=>t.indexOf("ipfs")>=0).sort(),agentVersion:`js-ipfs/${o}`,protocolVersion:"9000"}))})}},function(t,e,r){"use strict";const n=r(466),i=r(26);t.exports=function(t){return i((e,r)=>{"function"==typeof e&&(r=e,e={}),t.repo.version((t,e)=>{t&&r(t),r(null,{version:n.version,repo:e,commit:""})})})}},function(t,e,r){"use strict";t.exports=function(t){return()=>Boolean(t._bitswap&&t._libp2pNode&&t._libp2pNode.isStarted())}},function(t,e,r){"use strict";const n=r(287),i=r(26);t.exports=(t=>i(e=>{if(e=e||function(){},t.log("stop"),"stopped"===t.state.state())return e(new Error("Already stopped"));if("running"!==t.state.state())return e(new Error("Not able to stop from state: "+t.state.state()));t.state.stop(),t._blockService.unsetExchange(),t._bitswap.stop(),n([e=>t.libp2p.stop(e),e=>t._repo.close(e)],r=>{if(r)return t.emit("error",r),e(r);t.state.stopped(),t.emit("stop"),e()})}))},function(t,e,r){"use strict";const n=Math.exp;t.exports=function(t){if("number"!=typeof t)throw new Error("must provide a timespan to the moving average constructor");if(t<=0)throw new Error("must provide a timespan > 0 to the moving average constructor");let e,r,i=0,o=0,s=0,a={};return a.push=function(a,u){if(r){const c=1-n(-(a-r)/t),f=u-e;e=c*u+(1-c)*e,i=(1-c)*(i+f*(c*f)),o=Math.sqrt(i),s=e+c*f}else e=u;r=a},a.movingAverage=function(){return e},a.variance=function(){return i},a.deviation=function(){return o},a.forecast=function(){return s},a}},function(t,e,r){var n;!function(i){"use strict";var o,s=20,a=1,u=1e6,c=-7,f=21,l="[big.js] ",h=l+"Invalid ",p=h+"decimal places",d=h+"rounding mode",m={},g=void 0,v=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function y(t,e,r,n){var i=t.c,o=t.e+e+1;if(o<i.length){if(1===r)n=i[o]>=5;else if(2===r)n=i[o]>5||5==i[o]&&(n||o<0||i[o+1]!==g||1&i[o-1]);else if(3===r)n=n||i[o]!==g||o<0;else if(n=!1,0!==r)throw Error(d);if(o<1)i.length=1,n?(t.e=-e,i[0]=1):i[0]=t.e=0;else{if(i.length=o--,n)for(;++i[o]>9;)i[o]=0,o--||(++t.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(r<0||r>3||r!==~~r)throw Error(d);return t}function b(t,e,r,n){var i,o,s=t.constructor,a=!t.c[0];if(r!==g){if(r!==~~r||r<(3==e)||r>u)throw Error(3==e?h+"precision":p);for(r=n-(t=new s(t)).e,t.c.length>++n&&y(t,r,s.RM),2==e&&(n=t.e+r+1);t.c.length<n;)t.c.push(0)}if(i=t.e,r=(o=t.c.join("")).length,2!=e&&(1==e||3==e&&n<=i||i<=s.NE||i>=s.PE))o=o.charAt(0)+(r>1?"."+o.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)o="0"+o;o="0."+o}else if(i>0)if(++i>r)for(i-=r;i--;)o+="0";else i<r&&(o=o.slice(0,i)+"."+o.slice(i));else r>1&&(o=o.charAt(0)+"."+o.slice(1));return t.s<0&&(!a||4==e)?"-"+o:o}m.abs=function(){var t=new this.constructor(this);return t.s=1,t},m.cmp=function(t){var e,r=this,n=r.c,i=(t=new r.constructor(t)).c,o=r.s,s=t.s,a=r.e,u=t.e;if(!n[0]||!i[0])return n[0]?o:i[0]?-s:0;if(o!=s)return o;if(e=o<0,a!=u)return a>u^e?1:-1;for(s=(a=n.length)<(u=i.length)?a:u,o=-1;++o<s;)if(n[o]!=i[o])return n[o]>i[o]^e?1:-1;return a==u?0:a>u^e?1:-1},m.div=function(t){var e=this,r=e.constructor,n=e.c,i=(t=new r(t)).c,o=e.s==t.s?1:-1,s=r.DP;if(s!==~~s||s<0||s>u)throw Error(p);if(!i[0])throw Error("[big.js] Division by zero");if(!n[0])return new r(0*o);var a,c,f,l,h,d=i.slice(),m=a=i.length,v=n.length,b=n.slice(0,a),w=b.length,_=t,k=_.c=[],S=0,x=s+(_.e=e.e-t.e)+1;for(_.s=o,o=x<0?0:x,d.unshift(0);w++<a;)b.push(0);do{for(f=0;f<10;f++){if(a!=(w=b.length))l=a>w?1:-1;else for(h=-1,l=0;++h<a;)if(i[h]!=b[h]){l=i[h]>b[h]?1:-1;break}if(!(l<0))break;for(c=w==a?i:d;w;){if(b[--w]<c[w]){for(h=w;h&&!b[--h];)b[h]=9;--b[h],b[w]+=10}b[w]-=c[w]}for(;!b[0];)b.shift()}k[S++]=l?f:++f,b[0]&&l?b[w]=n[m]||0:b=[n[m]]}while((m++<v||b[0]!==g)&&o--);return k[0]||1==S||(k.shift(),_.e--),S>x&&y(_,s,r.RM,b[0]!==g),_},m.eq=function(t){return!this.cmp(t)},m.gt=function(t){return this.cmp(t)>0},m.gte=function(t){return this.cmp(t)>-1},m.lt=function(t){return this.cmp(t)<0},m.lte=function(t){return this.cmp(t)<1},m.minus=m.sub=function(t){var e,r,n,i,o=this,s=o.constructor,a=o.s,u=(t=new s(t)).s;if(a!=u)return t.s=-u,o.plus(t);var c=o.c.slice(),f=o.e,l=t.c,h=t.e;if(!c[0]||!l[0])return l[0]?(t.s=-u,t):new s(c[0]?o:0);if(a=f-h){for((i=a<0)?(a=-a,n=c):(h=f,n=l),n.reverse(),u=a;u--;)n.push(0);n.reverse()}else for(r=((i=c.length<l.length)?c:l).length,a=u=0;u<r;u++)if(c[u]!=l[u]){i=c[u]<l[u];break}if(i&&(n=c,c=l,l=n,t.s=-t.s),(u=(r=l.length)-(e=c.length))>0)for(;u--;)c[e++]=0;for(u=e;r>a;){if(c[--r]<l[r]){for(e=r;e&&!c[--e];)c[e]=9;--c[e],c[r]+=10}c[r]-=l[r]}for(;0===c[--u];)c.pop();for(;0===c[0];)c.shift(),--h;return c[0]||(t.s=1,c=[h=0]),t.c=c,t.e=h,t},m.mod=function(t){var e,r=this,n=r.constructor,i=r.s,o=(t=new n(t)).s;if(!t.c[0])throw Error("[big.js] Division by zero");return r.s=t.s=1,e=1==t.cmp(r),r.s=i,t.s=o,e?new n(r):(i=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=o,this.minus(r.times(t)))},m.plus=m.add=function(t){var e,r=this,n=r.constructor,i=r.s,o=(t=new n(t)).s;if(i!=o)return t.s=-o,r.minus(t);var s=r.e,a=r.c,u=t.e,c=t.c;if(!a[0]||!c[0])return c[0]?t:new n(a[0]?r:0*i);if(a=a.slice(),i=s-u){for(i>0?(u=s,e=c):(i=-i,e=a),e.reverse();i--;)e.push(0);e.reverse()}for(a.length-c.length<0&&(e=c,c=a,a=e),i=c.length,o=0;i;a[i]%=10)o=(a[--i]=a[i]+c[i]+o)/10|0;for(o&&(a.unshift(o),++u),i=a.length;0===a[--i];)a.pop();return t.c=a,t.e=u,t},m.pow=function(t){var e=this,r=new e.constructor(1),n=r,i=t<0;if(t!==~~t||t<-1e6||t>1e6)throw Error(h+"exponent");for(i&&(t=-t);1&t&&(n=n.times(e)),t>>=1;)e=e.times(e);return i?r.div(n):n},m.round=function(t,e){var r=this.constructor;if(t===g)t=0;else if(t!==~~t||t<0||t>u)throw Error(p);return y(new r(this),t,e===g?r.RM:e)},m.sqrt=function(){var t,e,r,n=this,i=n.constructor,o=n.s,s=n.e,a=new i(.5);if(!n.c[0])return new i(n);if(o<0)throw Error(l+"No square root");0===(o=Math.sqrt(n.toString()))||o===1/0?((e=n.c.join("")).length+s&1||(e+="0"),(t=new i(Math.sqrt(e).toString())).e=((s+1)/2|0)-(s<0||1&s)):t=new i(o.toString()),s=t.e+(i.DP+=4);do{r=t,t=a.times(r.plus(n.div(r)))}while(r.c.slice(0,s).join("")!==t.c.slice(0,s).join(""));return y(t,i.DP-=4,i.RM)},m.times=m.mul=function(t){var e,r=this,n=r.constructor,i=r.c,o=(t=new n(t)).c,s=i.length,a=o.length,u=r.e,c=t.e;if(t.s=r.s==t.s?1:-1,!i[0]||!o[0])return new n(0*t.s);for(t.e=u+c,s<a&&(e=i,i=o,o=e,c=s,s=a,a=c),e=new Array(c=s+a);c--;)e[c]=0;for(u=a;u--;){for(a=0,c=s+u;c>u;)a=e[c]+o[u]*i[c-u-1]+a,e[c--]=a%10,a=a/10|0;e[c]=(e[c]+a)%10}for(a?++t.e:e.shift(),u=e.length;!e[--u];)e.pop();return t.c=e,t},m.toExponential=function(t){return b(this,1,t,t)},m.toFixed=function(t){return b(this,2,t,this.e+t)},m.toPrecision=function(t){return b(this,3,t,t-1)},m.toString=function(){return b(this)},m.valueOf=m.toJSON=function(){return b(this,4)},(o=function t(){function e(r){var n=this;if(!(n instanceof e))return r===g?t():new e(r);r instanceof e?(n.s=r.s,n.e=r.e,n.c=r.c.slice()):function(t,e){var r,n,i;if(0===e&&1/e<0)e="-0";else if(!v.test(e+=""))throw Error(h+"number");for(t.s="-"==e.charAt(0)?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),i=e.length,n=0;n<i&&"0"==e.charAt(n);)++n;if(n==i)t.c=[t.e=0];else{for(;i>0&&"0"==e.charAt(--i););for(t.e=r-n-1,t.c=[],r=0;n<=i;)t.c[r++]=+e.charAt(n++)}}(n,r),n.constructor=e}return e.prototype=m,e.DP=s,e.RM=a,e.NE=c,e.PE=f,e.version="5.0.2",e}()).default=o.Big=o,void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)}()},function(t,e,r){"use strict";const n=r(20),i=r(1033),o=r(1032);t.exports=class extends n{constructor(t,e){super(),this._options=e,this._queue=[],this._stats={},this._frequencyLastTime=Date.now(),this._frequencyAccumulators={},this._movingAverages={},this._update=this._update.bind(this),t.forEach(t=>{this._stats[t]=i(0),this._movingAverages[t]={},this._options.movingAverageIntervals.forEach(e=>{(this._movingAverages[t][e]=o(e)).push(this._frequencyLastTime,0)})}),this._enabled=this._options.enabled}enable(){this._enabled=!0}disable(){this._disabled=!0}stop(){this._timeout&&clearTimeout(this._timeout)}get snapshot(){return Object.assign({},this._stats)}get movingAverages(){return Object.assign({},this._movingAverages)}push(t,e){this._enabled&&(this._queue.push([t,e,Date.now()]),this._resetComputeTimeout())}_resetComputeTimeout(){this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(this._update,this._nextTimeout())}_nextTimeout(){const t=this._queue.length/this._options.computeThrottleMaxQueueSize;return Math.max(this._options.computeThrottleTimeout*(1-t),0)}_update(){if(this._timeout=null,this._queue.length){let t;for(;this._queue.length;){const e=t=this._queue.shift();this._applyOp(e)}this._updateFrequency(t[2]),this.emit("update",this._stats)}}_updateFrequency(t){const e=t-this._frequencyLastTime;Object.keys(this._stats).forEach(r=>{this._updateFrequencyFor(r,e,t)}),this._frequencyLastTime=t}_updateFrequencyFor(t,e,r){const n=this._frequencyAccumulators[t]||0;this._frequencyAccumulators[t]=0;const i=n/e*1e3;let s=this._movingAverages[t];s||(s=this._movingAverages[t]={}),this._options.movingAverageIntervals.forEach(t=>{let e=s[t];e||(e=s[t]=o(t)),e.push(r,i)})}_applyOp(t){const e=t[0],r=t[1];if("number"!=typeof r)throw new Error("invalid increment number:",r);let n;n=this._stats.hasOwnProperty(e)?this._stats[e]:this._stats[e]=i(0),this._stats[e]=n.plus(r),this._frequencyAccumulators[e]||(this._frequencyAccumulators[e]=0),this._frequencyAccumulators[e]+=r}}},function(t,e,r){"use strict";const n=r(20),i=r(1034),o={movingAverageIntervals:[6e4,3e5,9e5]};t.exports=class extends n{constructor(t,e){super();const r=Object.assign({},o,e);if("number"!=typeof r.computeThrottleTimeout)throw new Error("need computeThrottleTimeout");if("number"!=typeof r.computeThrottleMaxQueueSize)throw new Error("need computeThrottleMaxQueueSize");this._initialCounters=t,this._options=r,this._enabled=this._options.enabled,this._global=new i(t,r),this._global.on("update",t=>this.emit("update",t)),this._peers=new Map}enable(){this._enabled=!0,this._options.enabled=!0,this._global.enable()}disable(){this._enabled=!1,this._options.enabled=!1,this._global.disable()}stop(){this._enabled=!1,this._global.stop();for(let t of this._peers)t[1].stop()}get snapshot(){return this._global.snapshot}get movingAverages(){return this._global.movingAverages}forPeer(t){return t.toB58String&&(t=t.toB58String()),this._peers.get(t)}push(t,e,r){if(this._enabled&&(this._global.push(e,r),t)){let n=this._peers.get(t);n||(n=new i(this._initialCounters,this._options),this._peers.set(t,n)),n.push(e,r)}}disconnected(t){const e=t.toB58String(),r=this._peers.get(e);r&&(r.stop(),this._peers.delete(e))}}},function(t,e,r){"use strict";const n=r(20).EventEmitter,i=r(280),o=r(118).logger,s=t=>`unwant:${t}`,a=t=>`block:${t}`;t.exports=class extends n{constructor(t){super(),this.setMaxListeners(i.maxListeners),this._log=o(t,"notif"),this._unwantListeners={},this._blockListeners={}}hasBlock(t){const e=`block:${t.cid.buffer.toString()}`;this._log(e),this.emit(e,t)}wantBlock(t,e,r){const n=t.buffer.toString();this._log(`wantBlock:${n}`),this._unwantListeners[n]=(()=>{this._log(`manual unwant: ${n}`),this._cleanup(n),r()}),this._blockListeners[n]=(t=>{this._cleanup(n),e(t)}),this.once(s(n),this._unwantListeners[n]),this.once(a(n),this._blockListeners[n])}unwantBlock(t){const e=`unwant:${t.buffer.toString()}`;this._log(e),this.emit(e)}_cleanup(t){this._unwantListeners[t]&&(this.removeListener(s(t),this._unwantListeners[t]),delete this._unwantListeners[t]),this._blockListeners[t]&&(this.removeListener(a(t),this._blockListeners[t]),delete this._blockListeners[t])}}},function(t,e,r){"use strict";const n=r(183);t.exports=class{constructor(t){this.partner=t,this.wantlist=new n,this.exchangeCount=0,this.sentToPeer=new Map,this.accounting={bytesSent:0,bytesRecv:0}}sentBytes(t){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.accounting.bytesSent+=t}receivedBytes(t){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.accounting.bytesRecv+=t}wants(t,e){this.wantlist.add(t,e)}cancelWant(t){this.wantlist.remove(t)}wantlistContains(t){return this.wantlist.contains(t)}}},function(t,e){function r(t,e,r){if(e!=e)return function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,i,r);for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}function n(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}function i(t){return t!=t}var o=Array.prototype.splice;function s(t,e,i,s){var a,u=s?n:r,c=-1,f=e.length,l=t;for(t===e&&(e=function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(e)),i&&(l=function(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}(t,(a=i,function(t){return a(t)})));++c<f;)for(var h=0,p=e[c],d=i?i(p):p;(h=u(l,d,h,s))>-1;)l!==t&&o.call(l,h,1),o.call(t,h,1);return t}t.exports=function(t,e,r){return t&&t.length&&e&&e.length?s(t,e,void 0,r):t}},function(t,e,r){(function(t,r){var n=200,i="Expected a function",o="__lodash_hash_undefined__",s=1,a=2,u=1/0,c=9007199254740991,f="[object Arguments]",l="[object Array]",h="[object Boolean]",p="[object Date]",d="[object Error]",m="[object Function]",g="[object GeneratorFunction]",v="[object Map]",y="[object Number]",b="[object Object]",w="[object RegExp]",_="[object Set]",k="[object String]",S="[object Symbol]",x="[object ArrayBuffer]",E="[object DataView]",C=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A=/^\w*$/,M=/^\./,I=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T=/\\(\\)?/g,O=/^\[object .+?Constructor\]$/,B=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[f]=P[l]=P[x]=P[h]=P[E]=P[p]=P[d]=P[m]=P[v]=P[y]=P[b]=P[w]=P[_]=P[k]=P["[object WeakMap]"]=!1;var N="object"==typeof t&&t&&t.Object===Object&&t,R="object"==typeof self&&self&&self.Object===Object&&self,F=N||R||Function("return this")(),j="object"==typeof e&&e&&!e.nodeType&&e,L=j&&"object"==typeof r&&r&&!r.nodeType&&r,D=L&&L.exports===j&&N.process,U=function(){try{return D&&D.binding("util")}catch(t){}}(),z=U&&U.isTypedArray;function H(t,e,r,n){for(var i=-1,o=t?t.length:0;++i<o;){var s=t[i];e(n,s,r(s),t)}return n}function K(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function q(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function V(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function W(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var G,Y,$,Z=Array.prototype,X=Function.prototype,J=Object.prototype,Q=F["__core-js_shared__"],tt=(G=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",et=X.toString,rt=J.hasOwnProperty,nt=J.toString,it=RegExp("^"+et.call(rt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=F.Symbol,st=F.Uint8Array,at=J.propertyIsEnumerable,ut=Z.splice,ct=(Y=Object.keys,$=Object,function(t){return Y($(t))}),ft=Vt(F,"DataView"),lt=Vt(F,"Map"),ht=Vt(F,"Promise"),pt=Vt(F,"Set"),dt=Vt(F,"WeakMap"),mt=Vt(Object,"create"),gt=Qt(ft),vt=Qt(lt),yt=Qt(ht),bt=Qt(pt),wt=Qt(dt),_t=ot?ot.prototype:void 0,kt=_t?_t.valueOf:void 0,St=_t?_t.toString:void 0;function xt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Et(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ct(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function At(t){var e=-1,r=t?t.length:0;for(this.__data__=new Ct;++e<r;)this.add(t[e])}function Mt(t){this.__data__=new Et(t)}function It(t,e){var r=se(t)||oe(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!rt.call(t,o)||i&&("length"==o||Gt(o,n))||r.push(o);return r}function Tt(t,e){for(var r=t.length;r--;)if(ie(t[r][0],e))return r;return-1}function Ot(t,e,r,n){return Nt(t,function(t,i,o){e(n,t,r(t),o)}),n}xt.prototype.clear=function(){this.__data__=mt?mt(null):{}},xt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},xt.prototype.get=function(t){var e=this.__data__;if(mt){var r=e[t];return r===o?void 0:r}return rt.call(e,t)?e[t]:void 0},xt.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:rt.call(e,t)},xt.prototype.set=function(t,e){return this.__data__[t]=mt&&void 0===e?o:e,this},Et.prototype.clear=function(){this.__data__=[]},Et.prototype.delete=function(t){var e=this.__data__,r=Tt(e,t);return!(r<0||(r==e.length-1?e.pop():ut.call(e,r,1),0))},Et.prototype.get=function(t){var e=this.__data__,r=Tt(e,t);return r<0?void 0:e[r][1]},Et.prototype.has=function(t){return Tt(this.__data__,t)>-1},Et.prototype.set=function(t,e){var r=this.__data__,n=Tt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},Ct.prototype.clear=function(){this.__data__={hash:new xt,map:new(lt||Et),string:new xt}},Ct.prototype.delete=function(t){return qt(this,t).delete(t)},Ct.prototype.get=function(t){return qt(this,t).get(t)},Ct.prototype.has=function(t){return qt(this,t).has(t)},Ct.prototype.set=function(t,e){return qt(this,t).set(t,e),this},At.prototype.add=At.prototype.push=function(t){return this.__data__.set(t,o),this},At.prototype.has=function(t){return this.__data__.has(t)},Mt.prototype.clear=function(){this.__data__=new Et},Mt.prototype.delete=function(t){return this.__data__.delete(t)},Mt.prototype.get=function(t){return this.__data__.get(t)},Mt.prototype.has=function(t){return this.__data__.has(t)},Mt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Et){var i=r.__data__;if(!lt||i.length<n-1)return i.push([t,e]),this;r=this.__data__=new Ct(i)}return r.set(t,e),this};var Bt,Pt,Nt=(Bt=function(t,e){return t&&Rt(t,e,de)},function(t,e){if(null==t)return t;if(!ae(t))return Bt(t,e);for(var r=t.length,n=Pt?r:-1,i=Object(t);(Pt?n--:++n<r)&&!1!==e(i[n],n,i););return t}),Rt=function(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===r(o[u],u,o))break}return e}}();function Ft(t,e){for(var r=0,n=(e=Yt(e,t)?[e]:Ht(e)).length;null!=t&&r<n;)t=t[Jt(e[r++])];return r&&r==n?t:void 0}function jt(t,e){return null!=t&&e in Object(t)}function Lt(t,e,r,n,i){return t===e||(null==t||null==e||!fe(t)&&!le(e)?t!=t&&e!=e:function(t,e,r,n,i,o){var u=se(t),c=se(e),m=l,g=l;u||(m=(m=Wt(t))==f?b:m);c||(g=(g=Wt(e))==f?b:g);var C=m==b&&!q(t),A=g==b&&!q(e),M=m==g;if(M&&!C)return o||(o=new Mt),u||pe(t)?Kt(t,e,r,n,i,o):function(t,e,r,n,i,o,u){switch(r){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x:return!(t.byteLength!=e.byteLength||!n(new st(t),new st(e)));case h:case p:case y:return ie(+t,+e);case d:return t.name==e.name&&t.message==e.message;case w:case k:return t==e+"";case v:var c=V;case _:var f=o&a;if(c||(c=W),t.size!=e.size&&!f)return!1;var l=u.get(t);if(l)return l==e;o|=s,u.set(t,e);var m=Kt(c(t),c(e),n,i,o,u);return u.delete(t),m;case S:if(kt)return kt.call(t)==kt.call(e)}return!1}(t,e,m,r,n,i,o);if(!(i&a)){var I=C&&rt.call(t,"__wrapped__"),T=A&&rt.call(e,"__wrapped__");if(I||T){var O=I?t.value():t,B=T?e.value():e;return o||(o=new Mt),r(O,B,n,i,o)}}if(!M)return!1;return o||(o=new Mt),function(t,e,r,n,i,o){var s=i&a,u=de(t),c=u.length,f=de(e).length;if(c!=f&&!s)return!1;for(var l=c;l--;){var h=u[l];if(!(s?h in e:rt.call(e,h)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var m=s;++l<c;){h=u[l];var g=t[h],v=e[h];if(n)var y=s?n(v,g,h,e,t,o):n(g,v,h,t,e,o);if(!(void 0===y?g===v||r(g,v,n,i,o):y)){d=!1;break}m||(m="constructor"==h)}if(d&&!m){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,r,n,i,o)}(t,e,Lt,r,n,i))}function Dt(t){return!(!fe(t)||tt&&tt in t)&&(ue(t)||q(t)?it:O).test(Qt(t))}function Ut(t){return"function"==typeof t?t:null==t?me:"object"==typeof t?se(t)?function(t,e){if(Yt(t)&&$t(e))return Zt(Jt(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:Ft(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){var n,i=-1,o=(e=Yt(e,t)?[e]:Ht(e)).length;for(;++i<o;){var s=Jt(e[i]);if(!(n=null!=t&&r(t,s)))break;t=t[s]}if(n)return n;return!!(o=t?t.length:0)&&ce(o)&&Gt(s,o)&&(se(t)||oe(t))}(t,e,jt)}(r,t):Lt(e,n,void 0,s|a)}}(t[0],t[1]):function(t){var e=function(t){var e=de(t),r=e.length;for(;r--;){var n=e[r],i=t[n];e[r]=[n,i,$t(i)]}return e}(t);if(1==e.length&&e[0][2])return Zt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var i=r.length,o=i,u=!n;if(null==t)return!o;for(t=Object(t);i--;){var c=r[i];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){var f=(c=r[i])[0],l=t[f],h=c[1];if(u&&c[2]){if(void 0===l&&!(f in t))return!1}else{var p=new Mt;if(n)var d=n(l,h,f,t,e,p);if(!(void 0===d?Lt(h,l,n,s|a,p):d))return!1}}return!0}(r,t,e)}}(t):Yt(e=t)?(r=Jt(e),function(t){return null==t?void 0:t[r]}):function(t){return function(e){return Ft(e,t)}}(e);var e,r}function zt(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||J,e!==n)return ct(t);var e,r,n,i=[];for(var o in Object(t))rt.call(t,o)&&"constructor"!=o&&i.push(o);return i}function Ht(t){return se(t)?t:Xt(t)}function Kt(t,e,r,n,i,o){var u=i&a,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var h=-1,p=!0,d=i&s?new At:void 0;for(o.set(t,e),o.set(e,t);++h<c;){var m=t[h],g=e[h];if(n)var v=u?n(g,m,h,e,t,o):n(m,g,h,t,e,o);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!K(e,function(t,e){if(!d.has(e)&&(m===t||r(m,t,n,i,o)))return d.add(e)})){p=!1;break}}else if(m!==g&&!r(m,g,n,i,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function qt(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Vt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Dt(r)?r:void 0}var Wt=function(t){return nt.call(t)};function Gt(t,e){return!!(e=null==e?c:e)&&("number"==typeof t||B.test(t))&&t>-1&&t%1==0&&t<e}function Yt(t,e){if(se(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!he(t))||(A.test(t)||!C.test(t)||null!=e&&t in Object(e))}function $t(t){return t==t&&!fe(t)}function Zt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(ft&&Wt(new ft(new ArrayBuffer(1)))!=E||lt&&Wt(new lt)!=v||ht&&"[object Promise]"!=Wt(ht.resolve())||pt&&Wt(new pt)!=_||dt&&"[object WeakMap]"!=Wt(new dt))&&(Wt=function(t){var e=nt.call(t),r=e==b?t.constructor:void 0,n=r?Qt(r):void 0;if(n)switch(n){case gt:return E;case vt:return v;case yt:return"[object Promise]";case bt:return _;case wt:return"[object WeakMap]"}return e});var Xt=ne(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(he(t))return St?St.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}(e);var r=[];return M.test(t)&&r.push(""),t.replace(I,function(t,e,n,i){r.push(n?i.replace(T,"$1"):e||t)}),r});function Jt(t){if("string"==typeof t||he(t))return t;var e=t+"";return"0"==e&&1/t==-u?"-0":e}function Qt(t){if(null!=t){try{return et.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var te,ee,re=(te=function(t,e,r){rt.call(t,r)?t[r].push(e):t[r]=[e]},function(t,e){var r=se(t)?H:Ot,n=ee?ee():{};return r(t,te,Ut(e),n)});function ne(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(ne.Cache||Ct),r}function ie(t,e){return t===e||t!=t&&e!=e}function oe(t){return function(t){return le(t)&&ae(t)}(t)&&rt.call(t,"callee")&&(!at.call(t,"callee")||nt.call(t)==f)}ne.Cache=Ct;var se=Array.isArray;function ae(t){return null!=t&&ce(t.length)&&!ue(t)}function ue(t){var e=fe(t)?nt.call(t):"";return e==m||e==g}function ce(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function fe(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function le(t){return!!t&&"object"==typeof t}function he(t){return"symbol"==typeof t||le(t)&&nt.call(t)==S}var pe=z?function(t){return function(e){return t(e)}}(z):function(t){return le(t)&&ce(t.length)&&!!P[nt.call(t)]};function de(t){return ae(t)?It(t):zt(t)}function me(t){return t}r.exports=re}).call(this,r(7),r(24)(t))},function(t,e,r){(function(t,r){var n=200,i="Expected a function",o="__lodash_hash_undefined__",s=1,a=2,u=1/0,c=9007199254740991,f=1.7976931348623157e308,l=NaN,h="[object Arguments]",p="[object Array]",d="[object Boolean]",m="[object Date]",g="[object Error]",v="[object Function]",y="[object GeneratorFunction]",b="[object Map]",w="[object Number]",_="[object Object]",k="[object RegExp]",S="[object Set]",x="[object String]",E="[object Symbol]",C="[object ArrayBuffer]",A="[object DataView]",M=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,I=/^\w*$/,T=/^\./,O=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,B=/^\s+|\s+$/g,P=/\\(\\)?/g,N=/^[-+]0x[0-9a-f]+$/i,R=/^0b[01]+$/i,F=/^\[object .+?Constructor\]$/,j=/^0o[0-7]+$/i,L=/^(?:0|[1-9]\d*)$/,D={};D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D[h]=D[p]=D[C]=D[d]=D[A]=D[m]=D[g]=D[v]=D[b]=D[w]=D[_]=D[k]=D[S]=D[x]=D["[object WeakMap]"]=!1;var U=parseInt,z="object"==typeof t&&t&&t.Object===Object&&t,H="object"==typeof self&&self&&self.Object===Object&&self,K=z||H||Function("return this")(),q="object"==typeof e&&e&&!e.nodeType&&e,V=q&&"object"==typeof r&&r&&!r.nodeType&&r,W=V&&V.exports===q&&z.process,G=function(){try{return W&&W.binding("util")}catch(t){}}(),Y=G&&G.isTypedArray;function $(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function Z(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function X(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function J(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var Q,tt,et,rt=Array.prototype,nt=Function.prototype,it=Object.prototype,ot=K["__core-js_shared__"],st=(Q=/[^.]+$/.exec(ot&&ot.keys&&ot.keys.IE_PROTO||""))?"Symbol(src)_1."+Q:"",at=nt.toString,ut=it.hasOwnProperty,ct=it.toString,ft=RegExp("^"+at.call(ut).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lt=K.Symbol,ht=K.Uint8Array,pt=it.propertyIsEnumerable,dt=rt.splice,mt=(tt=Object.keys,et=Object,function(t){return tt(et(t))}),gt=Math.max,vt=Gt(K,"DataView"),yt=Gt(K,"Map"),bt=Gt(K,"Promise"),wt=Gt(K,"Set"),_t=Gt(K,"WeakMap"),kt=Gt(Object,"create"),St=ee(vt),xt=ee(yt),Et=ee(bt),Ct=ee(wt),At=ee(_t),Mt=lt?lt.prototype:void 0,It=Mt?Mt.valueOf:void 0,Tt=Mt?Mt.toString:void 0;function Ot(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Bt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Pt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Nt(t){var e=-1,r=t?t.length:0;for(this.__data__=new Pt;++e<r;)this.add(t[e])}function Rt(t){this.__data__=new Bt(t)}function Ft(t,e){var r=ae(t)||se(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!ut.call(t,o)||i&&("length"==o||$t(o,n))||r.push(o);return r}function jt(t,e){for(var r=t.length;r--;)if(oe(t[r][0],e))return r;return-1}function Lt(t,e){for(var r=0,n=(e=Zt(e,t)?[e]:qt(e)).length;null!=t&&r<n;)t=t[te(e[r++])];return r&&r==n?t:void 0}function Dt(t,e){return null!=t&&e in Object(t)}function Ut(t,e,r,n,i){return t===e||(null==t||null==e||!le(t)&&!he(e)?t!=t&&e!=e:function(t,e,r,n,i,o){var u=ae(t),c=ae(e),f=p,l=p;u||(f=(f=Yt(t))==h?_:f);c||(l=(l=Yt(e))==h?_:l);var v=f==_&&!Z(t),y=l==_&&!Z(e),M=f==l;if(M&&!v)return o||(o=new Rt),u||de(t)?Vt(t,e,r,n,i,o):function(t,e,r,n,i,o,u){switch(r){case A:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case C:return!(t.byteLength!=e.byteLength||!n(new ht(t),new ht(e)));case d:case m:case w:return oe(+t,+e);case g:return t.name==e.name&&t.message==e.message;case k:case x:return t==e+"";case b:var c=X;case S:var f=o&a;if(c||(c=J),t.size!=e.size&&!f)return!1;var l=u.get(t);if(l)return l==e;o|=s,u.set(t,e);var h=Vt(c(t),c(e),n,i,o,u);return u.delete(t),h;case E:if(It)return It.call(t)==It.call(e)}return!1}(t,e,f,r,n,i,o);if(!(i&a)){var I=v&&ut.call(t,"__wrapped__"),T=y&&ut.call(e,"__wrapped__");if(I||T){var O=I?t.value():t,B=T?e.value():e;return o||(o=new Rt),r(O,B,n,i,o)}}if(!M)return!1;return o||(o=new Rt),function(t,e,r,n,i,o){var s=i&a,u=me(t),c=u.length,f=me(e).length;if(c!=f&&!s)return!1;for(var l=c;l--;){var h=u[l];if(!(s?h in e:ut.call(e,h)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var m=s;++l<c;){h=u[l];var g=t[h],v=e[h];if(n)var y=s?n(v,g,h,e,t,o):n(g,v,h,t,e,o);if(!(void 0===y?g===v||r(g,v,n,i,o):y)){d=!1;break}m||(m="constructor"==h)}if(d&&!m){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,r,n,i,o)}(t,e,Ut,r,n,i))}function zt(t){return!(!le(t)||st&&st in t)&&(ce(t)||Z(t)?ft:F).test(ee(t))}function Ht(t){return"function"==typeof t?t:null==t?ge:"object"==typeof t?ae(t)?function(t,e){if(Zt(t)&&Xt(e))return Jt(te(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:Lt(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){var n,i=-1,o=(e=Zt(e,t)?[e]:qt(e)).length;for(;++i<o;){var s=te(e[i]);if(!(n=null!=t&&r(t,s)))break;t=t[s]}if(n)return n;return!!(o=t?t.length:0)&&fe(o)&&$t(s,o)&&(ae(t)||se(t))}(t,e,Dt)}(r,t):Ut(e,n,void 0,s|a)}}(t[0],t[1]):function(t){var e=function(t){var e=me(t),r=e.length;for(;r--;){var n=e[r],i=t[n];e[r]=[n,i,Xt(i)]}return e}(t);if(1==e.length&&e[0][2])return Jt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var i=r.length,o=i,u=!n;if(null==t)return!o;for(t=Object(t);i--;){var c=r[i];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){var f=(c=r[i])[0],l=t[f],h=c[1];if(u&&c[2]){if(void 0===l&&!(f in t))return!1}else{var p=new Rt;if(n)var d=n(l,h,f,t,e,p);if(!(void 0===d?Ut(h,l,n,s|a,p):d))return!1}}return!0}(r,t,e)}}(t):Zt(e=t)?(r=te(e),function(t){return null==t?void 0:t[r]}):function(t){return function(e){return Lt(e,t)}}(e);var e,r}function Kt(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||it,e!==n)return mt(t);var e,r,n,i=[];for(var o in Object(t))ut.call(t,o)&&"constructor"!=o&&i.push(o);return i}function qt(t){return ae(t)?t:Qt(t)}function Vt(t,e,r,n,i,o){var u=i&a,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var h=-1,p=!0,d=i&s?new Nt:void 0;for(o.set(t,e),o.set(e,t);++h<c;){var m=t[h],g=e[h];if(n)var v=u?n(g,m,h,e,t,o):n(m,g,h,t,e,o);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!$(e,function(t,e){if(!d.has(e)&&(m===t||r(m,t,n,i,o)))return d.add(e)})){p=!1;break}}else if(m!==g&&!r(m,g,n,i,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function Wt(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Gt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return zt(r)?r:void 0}Ot.prototype.clear=function(){this.__data__=kt?kt(null):{}},Ot.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Ot.prototype.get=function(t){var e=this.__data__;if(kt){var r=e[t];return r===o?void 0:r}return ut.call(e,t)?e[t]:void 0},Ot.prototype.has=function(t){var e=this.__data__;return kt?void 0!==e[t]:ut.call(e,t)},Ot.prototype.set=function(t,e){return this.__data__[t]=kt&&void 0===e?o:e,this},Bt.prototype.clear=function(){this.__data__=[]},Bt.prototype.delete=function(t){var e=this.__data__,r=jt(e,t);return!(r<0||(r==e.length-1?e.pop():dt.call(e,r,1),0))},Bt.prototype.get=function(t){var e=this.__data__,r=jt(e,t);return r<0?void 0:e[r][1]},Bt.prototype.has=function(t){return jt(this.__data__,t)>-1},Bt.prototype.set=function(t,e){var r=this.__data__,n=jt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},Pt.prototype.clear=function(){this.__data__={hash:new Ot,map:new(yt||Bt),string:new Ot}},Pt.prototype.delete=function(t){return Wt(this,t).delete(t)},Pt.prototype.get=function(t){return Wt(this,t).get(t)},Pt.prototype.has=function(t){return Wt(this,t).has(t)},Pt.prototype.set=function(t,e){return Wt(this,t).set(t,e),this},Nt.prototype.add=Nt.prototype.push=function(t){return this.__data__.set(t,o),this},Nt.prototype.has=function(t){return this.__data__.has(t)},Rt.prototype.clear=function(){this.__data__=new Bt},Rt.prototype.delete=function(t){return this.__data__.delete(t)},Rt.prototype.get=function(t){return this.__data__.get(t)},Rt.prototype.has=function(t){return this.__data__.has(t)},Rt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Bt){var i=r.__data__;if(!yt||i.length<n-1)return i.push([t,e]),this;r=this.__data__=new Pt(i)}return r.set(t,e),this};var Yt=function(t){return ct.call(t)};function $t(t,e){return!!(e=null==e?c:e)&&("number"==typeof t||L.test(t))&&t>-1&&t%1==0&&t<e}function Zt(t,e){if(ae(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!pe(t))||(I.test(t)||!M.test(t)||null!=e&&t in Object(e))}function Xt(t){return t==t&&!le(t)}function Jt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(vt&&Yt(new vt(new ArrayBuffer(1)))!=A||yt&&Yt(new yt)!=b||bt&&"[object Promise]"!=Yt(bt.resolve())||wt&&Yt(new wt)!=S||_t&&"[object WeakMap]"!=Yt(new _t))&&(Yt=function(t){var e=ct.call(t),r=e==_?t.constructor:void 0,n=r?ee(r):void 0;if(n)switch(n){case St:return A;case xt:return b;case Et:return"[object Promise]";case Ct:return S;case At:return"[object WeakMap]"}return e});var Qt=ie(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(pe(t))return Tt?Tt.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}(e);var r=[];return T.test(t)&&r.push(""),t.replace(O,function(t,e,n,i){r.push(n?i.replace(P,"$1"):e||t)}),r});function te(t){if("string"==typeof t||pe(t))return t;var e=t+"";return"0"==e&&1/t==-u?"-0":e}function ee(t){if(null!=t){try{return at.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var re,ne=(re=function(t,e,r){var n=t?t.length:0;if(!n)return-1;var i,o,s=null==r?0:(i=function(t){if(!t)return 0===t?t:0;if((t=function(t){if("number"==typeof t)return t;if(pe(t))return l;if(le(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=le(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(B,"");var r=R.test(t);return r||j.test(t)?U(t.slice(2),r?2:8):N.test(t)?l:+t}(t))===u||t===-u){var e=t<0?-1:1;return e*f}return t==t?t:0}(r),o=i%1,i==i?o?i-o:i:0);return s<0&&(s=gt(n+s,0)),function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,Ht(e),s)},function(t,e,r){var n=Object(t);if(!ue(t)){var i=Ht(e);t=me(t),e=function(t){return i(n[t],t,n)}}var o=re(t,e,r);return o>-1?n[i?t[o]:o]:void 0});function ie(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(ie.Cache||Pt),r}function oe(t,e){return t===e||t!=t&&e!=e}function se(t){return function(t){return he(t)&&ue(t)}(t)&&ut.call(t,"callee")&&(!pt.call(t,"callee")||ct.call(t)==h)}ie.Cache=Pt;var ae=Array.isArray;function ue(t){return null!=t&&fe(t.length)&&!ce(t)}function ce(t){var e=le(t)?ct.call(t):"";return e==v||e==y}function fe(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function le(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function he(t){return!!t&&"object"==typeof t}function pe(t){return"symbol"==typeof t||he(t)&&ct.call(t)==E}var de=Y?function(t){return function(e){return t(e)}}(Y):function(t){return he(t)&&fe(t.length)&&!!D[ct.call(t)]};function me(t){return ue(t)?Ft(t):Kt(t)}function ge(t){return t}r.exports=ne}).call(this,r(7),r(24)(t))},function(t,e,r){(function(e){var r=200,n="__lodash_hash_undefined__",i="[object Function]",o="[object GeneratorFunction]",s=/^\[object .+?Constructor\]$/,a="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,c=a||u||Function("return this")();function f(t,e){return!!(t?t.length:0)&&function(t,e,r){if(e!=e)return function(t,e,r,n){var i=t.length,o=r+(n?1:-1);for(;n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,h,r);var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,0)>-1}function l(t,e,r){for(var n=-1,i=t?t.length:0;++n<i;)if(r(e,t[n]))return!0;return!1}function h(t){return t!=t}function p(t,e){return t.has(e)}function d(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var m,g=Array.prototype,v=Function.prototype,y=Object.prototype,b=c["__core-js_shared__"],w=(m=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",_=v.toString,k=y.hasOwnProperty,S=y.toString,x=RegExp("^"+_.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=g.splice,C=j(c,"Map"),A=j(c,"Set"),M=j(Object,"create");function I(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function T(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function O(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function B(t){var e=-1,r=t?t.length:0;for(this.__data__=new O;++e<r;)this.add(t[e])}function P(t,e){for(var r,n,i=t.length;i--;)if((r=t[i][0])===(n=e)||r!=r&&n!=n)return i;return-1}function N(t){return!(!L(t)||w&&w in t)&&(function(t){var e=L(t)?S.call(t):"";return e==i||e==o}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?x:s).test(function(t){if(null!=t){try{return _.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}I.prototype.clear=function(){this.__data__=M?M(null):{}},I.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},I.prototype.get=function(t){var e=this.__data__;if(M){var r=e[t];return r===n?void 0:r}return k.call(e,t)?e[t]:void 0},I.prototype.has=function(t){var e=this.__data__;return M?void 0!==e[t]:k.call(e,t)},I.prototype.set=function(t,e){return this.__data__[t]=M&&void 0===e?n:e,this},T.prototype.clear=function(){this.__data__=[]},T.prototype.delete=function(t){var e=this.__data__,r=P(e,t);return!(r<0||(r==e.length-1?e.pop():E.call(e,r,1),0))},T.prototype.get=function(t){var e=this.__data__,r=P(e,t);return r<0?void 0:e[r][1]},T.prototype.has=function(t){return P(this.__data__,t)>-1},T.prototype.set=function(t,e){var r=this.__data__,n=P(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},O.prototype.clear=function(){this.__data__={hash:new I,map:new(C||T),string:new I}},O.prototype.delete=function(t){return F(this,t).delete(t)},O.prototype.get=function(t){return F(this,t).get(t)},O.prototype.has=function(t){return F(this,t).has(t)},O.prototype.set=function(t,e){return F(this,t).set(t,e),this},B.prototype.add=B.prototype.push=function(t){return this.__data__.set(t,n),this},B.prototype.has=function(t){return this.__data__.has(t)};var R=A&&1/d(new A([,-0]))[1]==1/0?function(t){return new A(t)}:function(){};function F(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function j(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return N(r)?r:void 0}function L(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=function(t,e){return t&&t.length?function(t,e,n){var i=-1,o=f,s=t.length,a=!0,u=[],c=u;if(n)a=!1,o=l;else if(s>=r){var h=e?null:R(t);if(h)return d(h);a=!1,o=p,c=new B}else c=e?[]:u;t:for(;++i<s;){var m=t[i],g=e?e(m):m;if(m=n||0!==m?m:0,a&&g==g){for(var v=c.length;v--;)if(c[v]===g)continue t;e&&c.push(g),u.push(m)}else o(c,g,n)||(c!==u&&c.push(g),u.push(m))}return u}(t,void 0,e):[]}}).call(this,r(7))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,s){(0,n.default)(e)(t,(0,i.default)((0,o.default)(r)),s)};var n=s(r(470)),i=s(r(469)),o=s(r(71));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(1042)),i=o(r(282));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)(n.default,1),t.exports=e.default},function(t,e,r){"use strict";const n=r(185),i=r(1043),o=r(285),s=r(281),a=r(468),u=r(279),c=r(1041),f=r(1040),l=r(278),h=r(1039),p=r(1038),d=r(184),m=r(183),g=r(1037),v=r(118).logger,y=524288;t.exports=class{constructor(t,e,r,n){this._log=v(t,"engine"),this.blockstore=e,this.network=r,this._stats=n,this.ledgerMap=new Map,this._running=!1,this._tasks=[],this._outbox=u(this._processTasks.bind(this),100)}_sendBlocks(t,e,r){if(e.reduce((t,e)=>t+e.data.byteLength,0)<y)return this._sendSafeBlocks(t,e,r);let n=0,o=[],s=e.length;i(e,(e,r)=>{if(s--,o.push(e),(n+=e.data.byteLength)>=y||0===s){const e=o.slice();o=[],this._sendSafeBlocks(t,e,t=>{t&&this._log("sendblock error: %s",t.message),r()})}else r()},r)}_sendSafeBlocks(t,e,r){const n=new d(!1);e.forEach(t=>n.addBlock(t)),this.network.sendMessage(t,n,r)}_processTasks(){if(!this._running||!this._tasks.length)return;const t=this._tasks;this._tasks=[];const e=t.map(t=>t.entry).map(t=>t.cid),r=c(e,(t,e)=>t.equals(e)),i=h(t,t=>t.target.toB58String());o([t=>a(r,(t,e)=>{this.blockstore.get(t,e)},t),(t,r)=>n(l(i),(r,n)=>{const i=r[0].target,o=e.map(e=>f(t,t=>t.cid.equals(e)));this._sendBlocks(i,o,t=>{t?this._log.error("should never happen: ",t):o.forEach(t=>this.messageSent(i,t)),n()})})],t=>{this._tasks=[],t&&this._log.error(t)})}wantlistForPeer(t){const e=t.toB58String();return this.ledgerMap.has(e)?this.ledgerMap.get(e).wantlist.sortedEntries():new Map}peers(){return Array.from(this.ledgerMap.values()).map(t=>t.partner)}receivedBlocks(t){t.length&&(this.ledgerMap.forEach(e=>{t.map(t=>e.wantlistContains(t)).filter(Boolean).forEach(t=>{this._tasks.push({entry:t,target:e.partner})})}),this._outbox())}messageReceived(t,e,r){const n=this._findOrCreate(t);if(e.empty)return r();if(e.full&&(n.wantlist=new m),this._processBlocks(e.blocks,n),0===e.wantlist.size)return r();let i=[],o=[];e.wantlist.forEach(t=>{t.cancel?(n.cancelWant(t.cid),i.push(t)):(n.wants(t.cid,t.priority),o.push(t))}),this._cancelWants(n,t,i),this._addWants(n,t,o,r)}_cancelWants(t,e,r){const n=e.toB58String();p(this._tasks,r,(t,e)=>{const r=t.target.toB58String()===n,i=t.entry.cid.equals(e.cid);return r&&i})}_addWants(t,e,r,i){n(r,(t,r)=>{this.blockstore.has(t.cid,(n,i)=>{n?this._log.error("failed existence check"):i&&this._tasks.push({entry:t.entry,target:e}),r()})},()=>{this._outbox(),i()})}_processBlocks(t,e,r){const n=[];t.forEach((t,r)=>{this._log("got block (%s bytes)",t.data.length),e.receivedBytes(t.data.length),n.push(t.cid)}),this.receivedBlocks(n)}messageSent(t,e){const r=this._findOrCreate(t);r.sentBytes(e?e.data.length:0),e&&e.cid&&r.wantlist.remove(e.cid)}numBytesSentTo(t){return this._findOrCreate(t).accounting.bytesSent}numBytesReceivedFrom(t){return this._findOrCreate(t).accounting.bytesRecv}peerDisconnected(t){}_findOrCreate(t){const e=t.toB58String();if(this.ledgerMap.has(e))return this.ledgerMap.get(e);const r=new g(t);return this.ledgerMap.set(e,r),this._stats&&this._stats.push(e,"peerCount",1),r}start(t){this._running=!0,s(()=>t())}stop(t){this._running=!1,s(()=>t())}}},function(t,e,r){(function(e){t.exports=function(){var t=[],r=0;return{length:r,data:this,add:function(n){if(!e.isBuffer(n))throw new Error("data must be a buffer, was: "+JSON.stringify(n));return this.length=r+=n.length,t.push(n),this},has:function(t){return null==t?r>0:r>=t},get:function(n){var i;if(null==n||n===r){r=0;var o=t;return t=[],1==o.length?o[0]:e.concat(o)}if(t.length>1&&n<=(i=t[0].length)){var s=t[0].slice(0,n);return n===i?t.shift():t[0]=t[0].slice(n,i),r-=n,s}if(n<r){for(var a=[],u=0;u+t[0].length<n;){var c=t.shift();u+=c.length,a.push(c)}return u<n&&(a.push(t[0].slice(0,n-u)),t[0]=t[0].slice(n-u,t[0].length),this.length=r-=n),e.concat(a)}throw new Error("could not get "+n+" bytes")}}}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(35),i=r(467),o=r(3).Buffer,s=r(63);e.decode=function(t){let e=new i,r=s(t=>{e.abort(t)});return n=>{return e(n),function n(){c(e,t,(t,e)=>{if(t)return r.end(t);r.push(e),n()})}(),r}},e.decodeFromReader=c;const a=t=>!(128&t),u=4194304;function c(t,e,r){"function"==typeof e&&(r=e,e={}),(e=Object.assign({fixed:!1,bytes:4},e||{})).fixed?function(t,e,r,n){"function"==typeof r&&(n=r,r=u);t.read(e,(e,i)=>{if(e)return n(e);const o=i.readInt32BE(0);if(o>r)return n("size longer than max permitted length of "+r+"!");f(t,o,n)})}(t,e.bytes,e.maxLength,r):function(t,e,r){"function"==typeof e&&(r=e,e=u);let i=[];0===i.length&&function s(){t.read(1,(u,c)=>{if(u)return r(u);if(i.push(c),c&&!a(c[0]))return void s();const l=n.decode(o.concat(i));if(l>e)return r("size longer than max permitted length of "+e+"!");f(t,l,(t,e)=>{if(t)return r(t);i=[],r(null,e)})})}()}(t,e.maxLength,r)}function f(t,e,r){t.read(e,(t,e)=>{if(t)return r(t);r(null,e)})}},function(t,e,r){"use strict";const n=r(3).Buffer;t.exports=function(t){t=Object.assign({fixed:!1,bytes:4},t||{});const e=r(35);let i=t.fixed?null:o(),s=0,a=!1;return r=>(u,c)=>{if(u&&(a=u),a)return c(a);r(null,(r,u)=>{if(r&&(a=r),a)return c(a);if(!n.isBuffer(u))return a=new Error("data must be a buffer"),c(a);let f;t.fixed?(f=n.alloc(t.bytes)).writeInt32BE(u.length,0):(e.encode(u.length,i,s),s+=e.encode.bytes,f=i.slice(s-e.encode.bytes,s),i.length-s<100&&(i=o(),s=0)),c(null,n.concat([f,u]))})}};const i=10240;function o(){return n.alloc(i)}},function(t,e,r){"use strict";const n=r(47),i=r(8),o=r(285),s=r(185),a=r(281),u=r(184),c=r(280),f=r(118).logger,l="/ipfs/bitswap/1.0.0",h="/ipfs/bitswap/1.1.0";t.exports=class{constructor(t,e,r,n){this._log=f(t.peerInfo.id,"network"),r=r||{},this.libp2p=t,this.bitswap=e,this.b100Only=r.b100Only||!1,this._stats=n,this._running=!1}start(t){this._running=!0,this._onPeerConnect=this._onPeerConnect.bind(this),this._onPeerDisconnect=this._onPeerDisconnect.bind(this),this._onConnection=this._onConnection.bind(this),this.libp2p.handle(l,this._onConnection),this.b100Only||this.libp2p.handle(h,this._onConnection),this.libp2p.on("peer:connect",this._onPeerConnect),this.libp2p.on("peer:disconnect",this._onPeerDisconnect),this.libp2p.peerBook.getAllArray().filter(t=>t.isConnected()).forEach(t=>this._onPeerConnect(t)),a(()=>t())}stop(t){this._running=!1,this.libp2p.unhandle(l),this.b100Only||this.libp2p.unhandle(h),this.libp2p.removeListener("peer:connect",this._onPeerConnect),this.libp2p.removeListener("peer:disconnect",this._onPeerDisconnect),a(()=>t())}_onConnection(t,e){this._running&&(this._log("incomming new bitswap connection: %s",t),i(e,n.decode(),i.asyncMap((t,e)=>u.deserialize(t,e)),i.asyncMap((t,r)=>{e.getPeerInfo((e,n)=>{if(e)return r(e);this.bitswap._receiveMessage(n.id,t,r)})}),i.onEnd(t=>{this._log("ending connection"),t&&this.bitswap._receiveError(t)})))}_onPeerConnect(t){this._running&&this.bitswap._onPeerConnected(t.id)}_onPeerDisconnect(t){this._running&&this.bitswap._onPeerDisconnected(t.id)}findProviders(t,e,r){this.libp2p.contentRouting.findProviders(t,c.providerRequestTimeout,r)}findAndConnect(t,e){o([e=>this.findProviders(t,c.maxProvidersPerRequest,e),(t,e)=>{this._log("connecting to providers",t.map(t=>t.id.toB58String())),s(t,(t,e)=>this.connectTo(t,e))}],e)}provide(t,e){this.libp2p.contentRouting.provide(t,e)}sendMessage(t,e,r){if(!this._running)return r(new Error("network isn't running"));const o=t.toB58String()?t.toB58String():t.id.toB58String();this._log("sendMessage to %s",o,e),this._dialPeer(t,(o,s,a)=>{if(o)return r(o);let u;switch(a){case l:u=e.serializeToBitswap100();break;case h:u=e.serializeToBitswap110();break;default:return r(new Error("Unkown protocol: "+a))}!function(t,e,r){i(i.values([e]),n.encode(),t,i.onEnd(r))}(s,u,t=>{t&&this._log.error(t)}),r(),this._updateSentStats(t,e.blocks)})}connectTo(t,e){if(!this._running)return e(new Error("network isn't running"));this.libp2p.dial(t,e)}_dialPeer(t,e){this.libp2p.dialProtocol(t,h,(r,n)=>{r?this.libp2p.dialProtocol(t,l,(t,r)=>{if(t)return e(t);e(null,r,l)}):e(null,n,h)})}_updateSentStats(t,e){const r=t.toB58String();this._stats&&(e.forEach(t=>this._stats.push(r,"dataSent",t.data.length)),this._stats.push(r,"blocksSent",e.size))}}},function(t,e,r){function n(t){var r;function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;u++;var i=e.formatters[n];if("function"==typeof i){var o=s[u];r=i.call(t,o),s.splice(u,1),u--}return r}),e.formatArgs.call(t,s),(n.log||e.log||console.log.bind(console)).apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),n.destroy=i,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var r;e.save(t),e.names=[],e.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(r=0;r<e.instances.length;r++){var o=e.instances[r];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(34),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,r){(function(n){function i(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=n.env.DEBUG),t}(e=t.exports=r(1049)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++i)}),t.splice(o,0,n)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(i())}).call(this,r(2))},function(t,e,r){"use strict";const n=r(279),i=r(184),o=r(118).logger;t.exports=class{constructor(t,e,r){this.peerId=e,this.network=r,this.refcnt=1,this._entries=[],this._log=o(t,"msgqueue",e.toB58String().slice(0,8)),this.sendEntries=n(this._sendEntries.bind(this),200)}addMessage(t){t.empty||this.send(t)}addEntries(t){this._entries=this._entries.concat(t),this.sendEntries()}_sendEntries(){if(!this._entries.length)return;const t=new i(!1);this._entries.forEach(e=>{e.cancel?t.cancel(e.cid):t.addEntry(e.cid,e.priority)}),this._entries=[],this.addMessage(t)}send(t){this.network.connectTo(this.peerId,e=>{e?this._log.error("cant connect to peer %s: %s",this.peerId.toB58String(),e.message):(this._log("sending message"),this.network.sendMessage(this.peerId,t,t=>{t&&this._log.error("send error: %s",t.message)}))})}}},function(t,e,r){"use strict";const n=r(17),i=r(18);t.exports=class{constructor(t,e){n(i.isCID(t),"must be valid CID"),this._refCounter=1,this.cid=t,this.priority=e||1}inc(){this._refCounter+=1}dec(){this._refCounter=Math.max(0,this._refCounter-1)}hasRefs(){return this._refCounter>0}get[Symbol.toStringTag](){return`WantlistEntry <key: ${this.cid.toBaseEncodedString()}, priority: ${this.priority}, refs: ${this._refCounter}>`}equals(t){return this._refCounter===t._refCounter&&this.cid.equals(t.cid)&&this.priority===t.priority}}},function(t,e,r){(function(t,r){var n=200,i="Expected a function",o="__lodash_hash_undefined__",s=1,a=2,u=1/0,c=9007199254740991,f="[object Arguments]",l="[object Array]",h="[object Boolean]",p="[object Date]",d="[object Error]",m="[object Function]",g="[object GeneratorFunction]",v="[object Map]",y="[object Number]",b="[object Object]",w="[object RegExp]",_="[object Set]",k="[object String]",S="[object Symbol]",x="[object ArrayBuffer]",E="[object DataView]",C=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A=/^\w*$/,M=/^\./,I=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T=/\\(\\)?/g,O=/^\[object .+?Constructor\]$/,B=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[f]=P[l]=P[x]=P[h]=P[E]=P[p]=P[d]=P[m]=P[v]=P[y]=P[b]=P[w]=P[_]=P[k]=P["[object WeakMap]"]=!1;var N="object"==typeof t&&t&&t.Object===Object&&t,R="object"==typeof self&&self&&self.Object===Object&&self,F=N||R||Function("return this")(),j="object"==typeof e&&e&&!e.nodeType&&e,L=j&&"object"==typeof r&&r&&!r.nodeType&&r,D=L&&L.exports===j&&N.process,U=function(){try{return D&&D.binding("util")}catch(t){}}(),z=U&&U.isTypedArray;function H(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function K(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function q(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function V(t){return function(e){return t(e)}}function W(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function G(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function Y(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var $,Z,X,J=Array.prototype,Q=Function.prototype,tt=Object.prototype,et=F["__core-js_shared__"],rt=($=/[^.]+$/.exec(et&&et.keys&&et.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"",nt=Q.toString,it=tt.hasOwnProperty,ot=tt.toString,st=RegExp("^"+nt.call(it).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),at=F.Symbol,ut=F.Uint8Array,ct=tt.propertyIsEnumerable,ft=J.splice,lt=at?at.isConcatSpreadable:void 0,ht=(Z=Object.keys,X=Object,function(t){return Z(X(t))}),pt=Math.max,dt=Zt(F,"DataView"),mt=Zt(F,"Map"),gt=Zt(F,"Promise"),vt=Zt(F,"Set"),yt=Zt(F,"WeakMap"),bt=Zt(Object,"create"),wt=se(dt),_t=se(mt),kt=se(gt),St=se(vt),xt=se(yt),Et=at?at.prototype:void 0,Ct=Et?Et.valueOf:void 0,At=Et?Et.toString:void 0;function Mt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function It(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Tt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ot(t){var e=-1,r=t?t.length:0;for(this.__data__=new Tt;++e<r;)this.add(t[e])}function Bt(t){this.__data__=new It(t)}function Pt(t,e){var r=le(t)||fe(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!it.call(t,o)||i&&("length"==o||Qt(o,n))||r.push(o);return r}function Nt(t,e){for(var r=t.length;r--;)if(ce(t[r][0],e))return r;return-1}Mt.prototype.clear=function(){this.__data__=bt?bt(null):{}},Mt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Mt.prototype.get=function(t){var e=this.__data__;if(bt){var r=e[t];return r===o?void 0:r}return it.call(e,t)?e[t]:void 0},Mt.prototype.has=function(t){var e=this.__data__;return bt?void 0!==e[t]:it.call(e,t)},Mt.prototype.set=function(t,e){return this.__data__[t]=bt&&void 0===e?o:e,this},It.prototype.clear=function(){this.__data__=[]},It.prototype.delete=function(t){var e=this.__data__,r=Nt(e,t);return!(r<0||(r==e.length-1?e.pop():ft.call(e,r,1),0))},It.prototype.get=function(t){var e=this.__data__,r=Nt(e,t);return r<0?void 0:e[r][1]},It.prototype.has=function(t){return Nt(this.__data__,t)>-1},It.prototype.set=function(t,e){var r=this.__data__,n=Nt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},Tt.prototype.clear=function(){this.__data__={hash:new Mt,map:new(mt||It),string:new Mt}},Tt.prototype.delete=function(t){return $t(this,t).delete(t)},Tt.prototype.get=function(t){return $t(this,t).get(t)},Tt.prototype.has=function(t){return $t(this,t).has(t)},Tt.prototype.set=function(t,e){return $t(this,t).set(t,e),this},Ot.prototype.add=Ot.prototype.push=function(t){return this.__data__.set(t,o),this},Ot.prototype.has=function(t){return this.__data__.has(t)},Bt.prototype.clear=function(){this.__data__=new It},Bt.prototype.delete=function(t){return this.__data__.delete(t)},Bt.prototype.get=function(t){return this.__data__.get(t)},Bt.prototype.has=function(t){return this.__data__.has(t)},Bt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof It){var i=r.__data__;if(!mt||i.length<n-1)return i.push([t,e]),this;r=this.__data__=new Tt(i)}return r.set(t,e),this};var Rt,Ft,jt=(Rt=function(t,e){return t&&Lt(t,e,be)},function(t,e){if(null==t)return t;if(!he(t))return Rt(t,e);for(var r=t.length,n=Ft?r:-1,i=Object(t);(Ft?n--:++n<r)&&!1!==e(i[n],n,i););return t});var Lt=function(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===r(o[u],u,o))break}return e}}();function Dt(t,e){for(var r=0,n=(e=ee(e,t)?[e]:Wt(e)).length;null!=t&&r<n;)t=t[oe(e[r++])];return r&&r==n?t:void 0}function Ut(t,e){return null!=t&&e in Object(t)}function zt(t,e,r,n,i){return t===e||(null==t||null==e||!me(t)&&!ge(e)?t!=t&&e!=e:function(t,e,r,n,i,o){var u=le(t),c=le(e),m=l,g=l;u||(m=(m=Xt(t))==f?b:m);c||(g=(g=Xt(e))==f?b:g);var C=m==b&&!W(t),A=g==b&&!W(e),M=m==g;if(M&&!C)return o||(o=new Bt),u||ye(t)?Yt(t,e,r,n,i,o):function(t,e,r,n,i,o,u){switch(r){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x:return!(t.byteLength!=e.byteLength||!n(new ut(t),new ut(e)));case h:case p:case y:return ce(+t,+e);case d:return t.name==e.name&&t.message==e.message;case w:case k:return t==e+"";case v:var c=G;case _:var f=o&a;if(c||(c=Y),t.size!=e.size&&!f)return!1;var l=u.get(t);if(l)return l==e;o|=s,u.set(t,e);var m=Yt(c(t),c(e),n,i,o,u);return u.delete(t),m;case S:if(Ct)return Ct.call(t)==Ct.call(e)}return!1}(t,e,m,r,n,i,o);if(!(i&a)){var I=C&&it.call(t,"__wrapped__"),T=A&&it.call(e,"__wrapped__");if(I||T){var O=I?t.value():t,B=T?e.value():e;return o||(o=new Bt),r(O,B,n,i,o)}}if(!M)return!1;return o||(o=new Bt),function(t,e,r,n,i,o){var s=i&a,u=be(t),c=u.length,f=be(e).length;if(c!=f&&!s)return!1;for(var l=c;l--;){var h=u[l];if(!(s?h in e:it.call(e,h)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var m=s;++l<c;){h=u[l];var g=t[h],v=e[h];if(n)var y=s?n(v,g,h,e,t,o):n(g,v,h,t,e,o);if(!(void 0===y?g===v||r(g,v,n,i,o):y)){d=!1;break}m||(m="constructor"==h)}if(d&&!m){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,r,n,i,o)}(t,e,zt,r,n,i))}function Ht(t){return!(!me(t)||rt&&rt in t)&&(pe(t)||W(t)?st:O).test(se(t))}function Kt(t){return"function"==typeof t?t:null==t?we:"object"==typeof t?le(t)?function(t,e){if(ee(t)&&re(e))return ne(oe(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:Dt(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){var n,i=-1,o=(e=ee(e,t)?[e]:Wt(e)).length;for(;++i<o;){var s=oe(e[i]);if(!(n=null!=t&&r(t,s)))break;t=t[s]}if(n)return n;return!!(o=t?t.length:0)&&de(o)&&Qt(s,o)&&(le(t)||fe(t))}(t,e,Ut)}(r,t):zt(e,n,void 0,s|a)}}(t[0],t[1]):function(t){var e=function(t){var e=be(t),r=e.length;for(;r--;){var n=e[r],i=t[n];e[r]=[n,i,re(i)]}return e}(t);if(1==e.length&&e[0][2])return ne(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var i=r.length,o=i,u=!n;if(null==t)return!o;for(t=Object(t);i--;){var c=r[i];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){var f=(c=r[i])[0],l=t[f],h=c[1];if(u&&c[2]){if(void 0===l&&!(f in t))return!1}else{var p=new Bt;if(n)var d=n(l,h,f,t,e,p);if(!(void 0===d?zt(h,l,n,s|a,p):d))return!1}}return!0}(r,t,e)}}(t):ee(e=t)?(r=oe(e),function(t){return null==t?void 0:t[r]}):function(t){return function(e){return Dt(e,t)}}(e);var e,r}function qt(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||tt,e!==n)return ht(t);var e,r,n,i=[];for(var o in Object(t))it.call(t,o)&&"constructor"!=o&&i.push(o);return i}function Vt(t,e,r){var n=-1;return e=H(e.length?e:[we],V(Kt)),function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(function(t,e){var r=-1,n=he(t)?Array(t.length):[];return jt(t,function(t,i,o){n[++r]=e(t,i,o)}),n}(t,function(t,r,i){return{criteria:H(e,function(e){return e(t)}),index:++n,value:t}}),function(t,e){return function(t,e,r){var n=-1,i=t.criteria,o=e.criteria,s=i.length,a=r.length;for(;++n<s;){var u=Gt(i[n],o[n]);if(u){if(n>=a)return u;var c=r[n];return u*("desc"==c?-1:1)}}return t.index-e.index}(t,e,r)})}function Wt(t){return le(t)?t:ie(t)}function Gt(t,e){if(t!==e){var r=void 0!==t,n=null===t,i=t==t,o=ve(t),s=void 0!==e,a=null===e,u=e==e,c=ve(e);if(!a&&!c&&!o&&t>e||o&&s&&u&&!a&&!c||n&&s&&u||!r&&u||!i)return 1;if(!n&&!o&&!c&&t<e||c&&r&&i&&!n&&!o||a&&r&&i||!s&&i||!u)return-1}return 0}function Yt(t,e,r,n,i,o){var u=i&a,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var h=-1,p=!0,d=i&s?new Ot:void 0;for(o.set(t,e),o.set(e,t);++h<c;){var m=t[h],g=e[h];if(n)var v=u?n(g,m,h,e,t,o):n(m,g,h,t,e,o);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!q(e,function(t,e){if(!d.has(e)&&(m===t||r(m,t,n,i,o)))return d.add(e)})){p=!1;break}}else if(m!==g&&!r(m,g,n,i,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function $t(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Zt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Ht(r)?r:void 0}var Xt=function(t){return ot.call(t)};function Jt(t){return le(t)||fe(t)||!!(lt&&t&&t[lt])}function Qt(t,e){return!!(e=null==e?c:e)&&("number"==typeof t||B.test(t))&&t>-1&&t%1==0&&t<e}function te(t,e,r){if(!me(r))return!1;var n=typeof e;return!!("number"==n?he(r)&&Qt(e,r.length):"string"==n&&e in r)&&ce(r[e],t)}function ee(t,e){if(le(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!ve(t))||(A.test(t)||!C.test(t)||null!=e&&t in Object(e))}function re(t){return t==t&&!me(t)}function ne(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(dt&&Xt(new dt(new ArrayBuffer(1)))!=E||mt&&Xt(new mt)!=v||gt&&"[object Promise]"!=Xt(gt.resolve())||vt&&Xt(new vt)!=_||yt&&"[object WeakMap]"!=Xt(new yt))&&(Xt=function(t){var e=ot.call(t),r=e==b?t.constructor:void 0,n=r?se(r):void 0;if(n)switch(n){case wt:return E;case _t:return v;case kt:return"[object Promise]";case St:return _;case xt:return"[object WeakMap]"}return e});var ie=ue(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(ve(t))return At?At.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}(e);var r=[];return M.test(t)&&r.push(""),t.replace(I,function(t,e,n,i){r.push(n?i.replace(T,"$1"):e||t)}),r});function oe(t){if("string"==typeof t||ve(t))return t;var e=t+"";return"0"==e&&1/t==-u?"-0":e}function se(t){if(null!=t){try{return nt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var ae=function(t,e){return e=pt(void 0===e?t.length-1:e,0),function(){for(var r=arguments,n=-1,i=pt(r.length-e,0),o=Array(i);++n<i;)o[n]=r[e+n];n=-1;for(var s=Array(e+1);++n<e;)s[n]=r[n];return s[e]=o,function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}(t,this,s)}}(function(t,e){if(null==t)return[];var r=e.length;return r>1&&te(t,e[0],e[1])?e=[]:r>2&&te(e[0],e[1],e[2])&&(e=[e[0]]),Vt(t,function t(e,r,n,i,o){var s=-1,a=e.length;for(n||(n=Jt),o||(o=[]);++s<a;){var u=e[s];r>0&&n(u)?r>1?t(u,r-1,n,i,o):K(o,u):i||(o[o.length]=u)}return o}(e,1),[])});function ue(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(ue.Cache||Tt),r}function ce(t,e){return t===e||t!=t&&e!=e}function fe(t){return function(t){return ge(t)&&he(t)}(t)&&it.call(t,"callee")&&(!ct.call(t,"callee")||ot.call(t)==f)}ue.Cache=Tt;var le=Array.isArray;function he(t){return null!=t&&de(t.length)&&!pe(t)}function pe(t){var e=me(t)?ot.call(t):"";return e==m||e==g}function de(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function me(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ge(t){return!!t&&"object"==typeof t}function ve(t){return"symbol"==typeof t||ge(t)&&ot.call(t)==S}var ye=z?V(z):function(t){return ge(t)&&de(t.length)&&!!P[ot.call(t)]};function be(t){return he(t)?Pt(t):qt(t)}function we(t){return t}r.exports=ae}).call(this,r(7),r(24)(t))},function(t,e,r){"use strict";const n=r(183).Entry,i=r(18),o=r(17);t.exports=class{constructor(t,e,r){o(i.isCID(t),"needs valid cid"),this.entry=new n(t,e),this.cancel=Boolean(r)}get cid(){return this.entry.cid}set cid(t){this.entry.cid=t}get priority(){return this.entry.priority}set priority(t){this.entry.priority=t}get[Symbol.toStringTag](){return`BitswapMessageEntry ${this.cid.toBaseEncodedString()} <cancel: ${this.cancel}, priority: ${this.priority}>`}equals(t){return this.cancel===t.cancel&&this.entry.equals(t.entry)}}},function(t,e,r){"use strict";t.exports="\n  message Message {\n    message Wantlist {\n      message Entry {\n        // changed from string to bytes, it makes a difference in JavaScript\n        optional bytes block = 1;      // the block cid (cidV0 in bitswap 1.0.0, cidV1 in bitswap 1.1.0)\n        optional int32 priority = 2;    // the priority (normalized). default to 1\n        optional bool cancel = 3;       // whether this revokes an entry\n      }\n\n      repeated Entry entries = 1;       // a list of wantlist entries\n      optional bool full = 2;           // whether this is the full wantlist. default to false\n    }\n\n    message Block {\n      optional bytes prefix = 1;        // CID prefix (cid version, multicodec and multihash prefix (type + length)\n      optional bytes data = 2;\n    }\n\n    optional Wantlist wantlist = 1;\n    repeated bytes blocks = 2;          // used to send Blocks in bitswap 1.0.0\n    repeated Block payload = 3;         // used to send Blocks in bitswap 1.1.0\n  }\n"},function(t,e,r){"use strict";(function(e){const n=r(35);t.exports=(t=>{if(!e.isBuffer(t))throw new Error("arg needs to be a buffer");let r=[];for(;t.length>0;){const e=n.decode(t);r.push(e),t=t.slice(n.decode.bytes)}return r})}).call(this,r(0).Buffer)},function(t,e,r){(function(t,r){var n=200,i="__lodash_hash_undefined__",o=1,s=2,a=9007199254740991,u="[object Arguments]",c="[object Array]",f="[object Boolean]",l="[object Date]",h="[object Error]",p="[object Function]",d="[object GeneratorFunction]",m="[object Map]",g="[object Number]",v="[object Object]",y="[object RegExp]",b="[object Set]",w="[object String]",_="[object Symbol]",k="[object ArrayBuffer]",S="[object DataView]",x=/^\[object .+?Constructor\]$/,E=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[u]=C[c]=C[k]=C[f]=C[S]=C[l]=C[h]=C[p]=C[m]=C[g]=C[v]=C[y]=C[b]=C[w]=C["[object WeakMap]"]=!1;var A="object"==typeof t&&t&&t.Object===Object&&t,M="object"==typeof self&&self&&self.Object===Object&&self,I=A||M||Function("return this")(),T="object"==typeof e&&e&&!e.nodeType&&e,O=T&&"object"==typeof r&&r&&!r.nodeType&&r,B=O&&O.exports===T&&A.process,P=function(){try{return B&&B.binding("util")}catch(t){}}(),N=P&&P.isTypedArray;function R(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function F(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function j(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function L(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var D,U,z,H=Array.prototype,K=Function.prototype,q=Object.prototype,V=I["__core-js_shared__"],W=(D=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",G=K.toString,Y=q.hasOwnProperty,$=q.toString,Z=RegExp("^"+G.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),X=I.Symbol,J=I.Uint8Array,Q=q.propertyIsEnumerable,tt=H.splice,et=(U=Object.keys,z=Object,function(t){return U(z(t))}),rt=At(I,"DataView"),nt=At(I,"Map"),it=At(I,"Promise"),ot=At(I,"Set"),st=At(I,"WeakMap"),at=At(Object,"create"),ut=Tt(rt),ct=Tt(nt),ft=Tt(it),lt=Tt(ot),ht=Tt(st),pt=X?X.prototype:void 0,dt=pt?pt.valueOf:void 0;function mt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function gt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function vt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function yt(t){var e=-1,r=t?t.length:0;for(this.__data__=new vt;++e<r;)this.add(t[e])}function bt(t){this.__data__=new gt(t)}function wt(t,e){var r=Bt(t)||function(t){return function(t){return jt(t)&&Pt(t)}(t)&&Y.call(t,"callee")&&(!Q.call(t,"callee")||$.call(t)==u)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!Y.call(t,o)||i&&("length"==o||It(o,n))||r.push(o);return r}function _t(t,e){for(var r=t.length;r--;)if(Ot(t[r][0],e))return r;return-1}function kt(t,e,r,n,i){return t===e||(null==t||null==e||!Ft(t)&&!jt(e)?t!=t&&e!=e:function(t,e,r,n,i,a){var p=Bt(t),d=Bt(e),x=c,E=c;p||(x=(x=Mt(t))==u?v:x);d||(E=(E=Mt(e))==u?v:E);var C=x==v&&!F(t),A=E==v&&!F(e),M=x==E;if(M&&!C)return a||(a=new bt),p||Lt(t)?Et(t,e,r,n,i,a):function(t,e,r,n,i,a,u){switch(r){case S:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case k:return!(t.byteLength!=e.byteLength||!n(new J(t),new J(e)));case f:case l:case g:return Ot(+t,+e);case h:return t.name==e.name&&t.message==e.message;case y:case w:return t==e+"";case m:var c=j;case b:var p=a&s;if(c||(c=L),t.size!=e.size&&!p)return!1;var d=u.get(t);if(d)return d==e;a|=o,u.set(t,e);var v=Et(c(t),c(e),n,i,a,u);return u.delete(t),v;case _:if(dt)return dt.call(t)==dt.call(e)}return!1}(t,e,x,r,n,i,a);if(!(i&s)){var I=C&&Y.call(t,"__wrapped__"),T=A&&Y.call(e,"__wrapped__");if(I||T){var O=I?t.value():t,B=T?e.value():e;return a||(a=new bt),r(O,B,n,i,a)}}if(!M)return!1;return a||(a=new bt),function(t,e,r,n,i,o){var a=i&s,u=Dt(t),c=u.length,f=Dt(e).length;if(c!=f&&!a)return!1;for(var l=c;l--;){var h=u[l];if(!(a?h in e:Y.call(e,h)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var m=a;++l<c;){h=u[l];var g=t[h],v=e[h];if(n)var y=a?n(v,g,h,e,t,o):n(g,v,h,t,e,o);if(!(void 0===y?g===v||r(g,v,n,i,o):y)){d=!1;break}m||(m="constructor"==h)}if(d&&!m){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,r,n,i,a)}(t,e,kt,r,n,i))}function St(t){return!(!Ft(t)||W&&W in t)&&(Nt(t)||F(t)?Z:x).test(Tt(t))}function xt(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||q,e!==n)return et(t);var e,r,n,i=[];for(var o in Object(t))Y.call(t,o)&&"constructor"!=o&&i.push(o);return i}function Et(t,e,r,n,i,a){var u=i&s,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var l=a.get(t);if(l&&a.get(e))return l==e;var h=-1,p=!0,d=i&o?new yt:void 0;for(a.set(t,e),a.set(e,t);++h<c;){var m=t[h],g=e[h];if(n)var v=u?n(g,m,h,e,t,a):n(m,g,h,t,e,a);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!R(e,function(t,e){if(!d.has(e)&&(m===t||r(m,t,n,i,a)))return d.add(e)})){p=!1;break}}else if(m!==g&&!r(m,g,n,i,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function Ct(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function At(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return St(r)?r:void 0}mt.prototype.clear=function(){this.__data__=at?at(null):{}},mt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},mt.prototype.get=function(t){var e=this.__data__;if(at){var r=e[t];return r===i?void 0:r}return Y.call(e,t)?e[t]:void 0},mt.prototype.has=function(t){var e=this.__data__;return at?void 0!==e[t]:Y.call(e,t)},mt.prototype.set=function(t,e){return this.__data__[t]=at&&void 0===e?i:e,this},gt.prototype.clear=function(){this.__data__=[]},gt.prototype.delete=function(t){var e=this.__data__,r=_t(e,t);return!(r<0||(r==e.length-1?e.pop():tt.call(e,r,1),0))},gt.prototype.get=function(t){var e=this.__data__,r=_t(e,t);return r<0?void 0:e[r][1]},gt.prototype.has=function(t){return _t(this.__data__,t)>-1},gt.prototype.set=function(t,e){var r=this.__data__,n=_t(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},vt.prototype.clear=function(){this.__data__={hash:new mt,map:new(nt||gt),string:new mt}},vt.prototype.delete=function(t){return Ct(this,t).delete(t)},vt.prototype.get=function(t){return Ct(this,t).get(t)},vt.prototype.has=function(t){return Ct(this,t).has(t)},vt.prototype.set=function(t,e){return Ct(this,t).set(t,e),this},yt.prototype.add=yt.prototype.push=function(t){return this.__data__.set(t,i),this},yt.prototype.has=function(t){return this.__data__.has(t)},bt.prototype.clear=function(){this.__data__=new gt},bt.prototype.delete=function(t){return this.__data__.delete(t)},bt.prototype.get=function(t){return this.__data__.get(t)},bt.prototype.has=function(t){return this.__data__.has(t)},bt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof gt){var i=r.__data__;if(!nt||i.length<n-1)return i.push([t,e]),this;r=this.__data__=new vt(i)}return r.set(t,e),this};var Mt=function(t){return $.call(t)};function It(t,e){return!!(e=null==e?a:e)&&("number"==typeof t||E.test(t))&&t>-1&&t%1==0&&t<e}function Tt(t){if(null!=t){try{return G.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ot(t,e){return t===e||t!=t&&e!=e}(rt&&Mt(new rt(new ArrayBuffer(1)))!=S||nt&&Mt(new nt)!=m||it&&"[object Promise]"!=Mt(it.resolve())||ot&&Mt(new ot)!=b||st&&"[object WeakMap]"!=Mt(new st))&&(Mt=function(t){var e=$.call(t),r=e==v?t.constructor:void 0,n=r?Tt(r):void 0;if(n)switch(n){case ut:return S;case ct:return m;case ft:return"[object Promise]";case lt:return b;case ht:return"[object WeakMap]"}return e});var Bt=Array.isArray;function Pt(t){return null!=t&&Rt(t.length)&&!Nt(t)}function Nt(t){var e=Ft(t)?$.call(t):"";return e==p||e==d}function Rt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}function Ft(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function jt(t){return!!t&&"object"==typeof t}var Lt=N?function(t){return function(e){return t(e)}}(N):function(t){return jt(t)&&Rt(t.length)&&!!C[$.call(t)]};function Dt(t){return Pt(t)?wt(t):xt(t)}r.exports=function(t,e,r){var n=(r="function"==typeof r?r:void 0)?r(t,e):void 0;return void 0===n?kt(t,e,r):!!n}}).call(this,r(7),r(24)(t))},function(t,e,r){"use strict";const n=r(281),i=r(184),o=r(183),s=r(280),a=r(1051),u=r(118).logger;t.exports=class{constructor(t,e,r){this.peers=new Map,this.wantlist=new o(r),this.network=e,this._stats=r,this._peerId=t,this._log=u(t,"want")}_addEntries(t,e,r){const n=t.map((t,r)=>new i.Entry(t,s.kMaxPriority-r,e));n.forEach(t=>{t.cancel?r?this.wantlist.removeForce(t.cid):this.wantlist.remove(t.cid):(this._log("adding to wl"),this.wantlist.add(t.cid,t.priority))});for(let t of this.peers.values())t.addEntries(n)}_startPeerHandler(t){let e=this.peers.get(t.toB58String());if(e)return void e.refcnt++;e=new a(this._peerId,t,this.network);const r=new i(!0);for(let t of this.wantlist.entries())r.addEntry(t[1].cid,t[1].priority);return e.addMessage(r),this.peers.set(t.toB58String(),e),e}_stopPeerHandler(t){const e=this.peers.get(t.toB58String());e&&(e.refcnt--,e.refcnt>0||this.peers.delete(t.toB58String()))}wantBlocks(t){this._addEntries(t,!1)}unwantBlocks(t){this._log("unwant blocks: %s",t.length),this._addEntries(t,!0,!0)}cancelWants(t){this._log("cancel wants: %s",t.length),this._addEntries(t,!0)}connectedPeers(){return Array.from(this.peers.keys())}connected(t){this._startPeerHandler(t)}disconnected(t){this._stopPeerHandler(t)}start(t){this.timer=setInterval(()=>{this._log("resend full-wantlist");const t=new i(!0);this.wantlist.forEach(e=>{t.addEntry(e.cid,e.priority)}),this.peers.forEach(e=>e.addMessage(t))},6e4),n(()=>t())}stop(t){this.peers.forEach(t=>this.disconnected(t.peerId)),clearInterval(this.timer),n(()=>t())}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,o){o=o||n.default,e=e||[];var s=[],a=0,u=(0,i.default)(r);t(e,function(t,e,r){var n=a++;u(t,function(t,e){s[n]=e,r(t)})},function(t){o(t,s)})};var n=o(r(4)),i=o(r(71));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(471)),i=o(r(282));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)(n.default,1),t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){r=r||n.default;var a=(0,i.default)(e)?[]:{};t(e,function(t,e,r){(0,s.default)(t)(function(t,n){arguments.length>2&&(n=(0,o.default)(arguments,1)),a[e]=n,r(t)})},function(t){r(t,a)})};var n=a(r(4)),i=a(r(10)),o=a(r(186)),s=a(r(71));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,n.default)(i.default,t,e)};var n=o(r(1061)),i=o(r(1060));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return n&&t[n]&&t[n]()};var n="function"==typeof Symbol&&Symbol.iterator;t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,n.default)(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e=(0,i.default)(t);return e?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(e):(r=t,s=(0,o.default)(r),a=-1,u=s.length,function(){var t=s[++a];return a<u?{value:r[t],key:t}:null});var r,s,a,u};var n=s(r(10)),i=s(r(1063)),o=s(r(46));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,n){((0,i.default)(e)?c:f)(t,e,(0,a.default)(r),n||s.default)};var n=u(r(576)),i=u(r(10)),o=u(r(575)),s=u(r(4)),a=u(r(71));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e,r,n){var i=new Array(e.length);t(e,function(t,e,n){r(t,function(t,r){i[e]=!!r,n(t)})},function(t){if(t)return n(t);for(var r=[],o=0;o<e.length;o++)i[o]&&r.push(e[o]);n(null,r)})}function f(t,e,r,i){var s=[];t(e,function(t,e,n){r(t,function(r,i){r?n(r):(i&&s.push({index:e,value:t}),n())})},function(t){t?i(t):i(null,(0,n.default)(s.sort(function(t,e){return t.index-e.index}),(0,o.default)("value")))})}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,n){(0,o.default)(t,e,function(t,e){r(t,function(t,r){e(t,!r)})},n)};var n,i=r(1065),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(1066)),i=o(r(474));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)(n.default),t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,o.default)(arguments),r=e.pop();t.call(this,e,r)}};var n,i=r(186),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(function(e,r){var i;try{i=t.apply(this,e)}catch(t){return r(t)}(0,n.default)(i)&&"function"==typeof i.then?i.then(function(t){a(r,null,t)},function(t){a(r,t.message?t:new Error(t))}):r(null,i)})};var n=s(r(23)),i=s(r(1068)),o=s(r(475));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){try{t(e,r)}catch(t){(0,o.default)(u,t)}}function u(t){throw t}t.exports=e.default},function(t,e,r){"use strict";const n=r(285),i=r(1067),o=r(185),s=r(1062),a=r(468),u=r(1058),c=r(1048),f=r(1044),l=r(1036),h=r(118).logger,p=r(1035),d={statsEnabled:!1,statsComputeThrottleTimeout:1e3,statsComputeThrottleMaxQueueSize:1e3},m=["blocksReceived","dataReceived","dupBlksReceived","dupDataReceived","blocksSent","dataSent","providesBufferLength","wantListLength","peerCount"];t.exports=class{constructor(t,e,r){this._libp2p=t,this._log=h(this.peerInfo.id),this._options=Object.assign({},d,r),this._stats=new p(m,{enabled:this._options.statsEnabled,computeThrottleTimeout:this._options.statsComputeThrottleTimeout,computeThrottleMaxQueueSize:this._options.statsComputeThrottleMaxQueueSize}),this.network=new c(t,this,{},this._stats),this.blockstore=e,this.engine=new f(this.peerInfo.id,e,this.network,this._stats),this.wm=new u(this.peerInfo.id,this.network,this._stats),this.notifications=new l(this.peerInfo.id)}get peerInfo(){return this._libp2p.peerInfo}_receiveMessage(t,e,r){this.engine.messageReceived(t,e,n=>{if(n&&this._log("failed to receive message",e),0===e.blocks.size)return r();const i=Array.from(e.blocks.values()),s=i.filter(t=>this.wm.wantlist.contains(t.cid)).map(t=>t.cid);this.wm.cancelWants(s),o(i,(e,r)=>this._handleReceivedBlock(t,e,r),r)})}_handleReceivedBlock(t,e,r){this._log("received block"),n([t=>this.blockstore.has(e.cid,t),(r,n)=>{if(this._updateReceiveCounters(t.toB58String(),e,r),r)return n();this._putBlock(e,n)}],r)}_updateReceiveCounters(t,e,r){this._stats.push(t,"blocksReceived",1),this._stats.push(t,"dataReceived",e.data.length),r&&(this._stats.push(t,"dupBlksReceived",1),this._stats.push(t,"dupDataReceived",e.data.length))}_receiveError(t){this._log.error("ReceiveError: %s",t.message)}_onPeerConnected(t){this.wm.connected(t)}_onPeerDisconnected(t){this.wm.disconnected(t),this.engine.peerDisconnected(t),this._stats.disconnected(t)}_putBlock(t,e){this.blockstore.put(t,r=>{if(r)return e(r);this.notifications.hasBlock(t),this.network.provide(t.cid,t=>{t&&this._log.error("Failed to provide: %s",t.message)}),this.engine.receivedBlocks([t.cid]),e()})}enableStats(){this._stats.enable()}disableStats(){this._stats.disable()}wantlistForPeer(t){return this.engine.wantlistForPeer(t)}get(t,e){this.getMany([t],(t,r)=>{if(t)return e(t);r&&r.length>0?e(null,r[0]):e()})}getMany(t,e){let r=t.length;const i=[];let o=!1;const s=(t,e)=>{i.push(t),this.notifications.wantBlock(t,r=>{this.wm.cancelWants([t]),e(null,r)},()=>{this.wm.cancelWants([t]),e(null,void 0)}),r||this.wm.wantBlocks(i)};a(t,(e,a)=>{n([t=>this.blockstore.has(e,t),(n,a)=>{if(r--,n)return r||this.wm.wantBlocks(i),this.blockstore.get(e,a);o||(o=!0,this.network.findAndConnect(t[0],t=>{t&&this._log.error(t)})),s(e,a)}],a)},e)}unwant(t){Array.isArray(t)||(t=[t]),this.wm.unwantBlocks(t),t.forEach(t=>this.notifications.unwantBlock(t))}cancelWants(t){Array.isArray(t)||(t=[t]),this.wm.cancelWants(t)}put(t,e){this._log("putting block"),n([e=>this.blockstore.has(t.cid,e),(e,r)=>{if(e)return r();this._putBlock(t,r)}],e)}putMany(t,e){n([e=>i(t,(t,e)=>{this.blockstore.has(t.cid,e)},e),(t,e)=>this.blockstore.putMany(t,r=>{if(r)return e(r);t.forEach(t=>{this.notifications.hasBlock(t),this.engine.receivedBlocks([t.cid]),this.network.provide(t.cid,t=>{t&&this._log.error("Failed to provide: %s",t.message)})}),e()})],e)}getWantlist(){return this.wm.wantlist.entries()}peers(){return this.engine.peers()}stat(){return this._stats}start(t){s([t=>this.wm.start(t),t=>this.network.start(t),t=>this.engine.start(t)],t)}stop(t){this._stats.stop(),s([t=>this.wm.stop(t),t=>this.network.stop(t),t=>this.engine.stop(t)],t)}}},function(t,e,r){"use strict";const n=r(287),i=r(1070),o=r(277),s=r(26);t.exports=(t=>s(e=>{e=e||function(){};const r=r=>{if(r)return o(()=>t.emit("error",r)),e(r);t.state.started(),o(()=>t.emit("start")),e()};if("stopped"!==t.state.state())return r(new Error("Not able to start from state: "+t.state.state()));t.log("starting"),t.state.start(),n([e=>{t._repo.closed?t._repo.open(e):e()},e=>t.preStart(e),e=>t.libp2p.start(e)],e=>{if(e)return r(e);t._bitswap=new i(t._libp2pNode,t._repo.blocks,{statsEnabled:!0}),t._bitswap.start(),t._blockService.setExchange(t._bitswap),r()})}))},function(t,e,r){"use strict";function n(){throw new Error("Key management requires '--pass ...' option")}t.exports=class{static get options(){n()}static generateOptions(){n()}createKey(){n()}listKeys(){n()}findKeyById(){n()}findKeyByName(){n()}renameKey(){n()}removeKey(){n()}exportKey(){n()}importKey(){n()}importPeer(){n()}get cms(){n()}}},function(t,e,r){"use strict";const n=r(145).pki;t.exports.certificateForKey=((t,e,r)=>{const i=n.setRsaPublicKey(e.n,e.e),o=n.createCertificate();o.publicKey=i,o.serialNumber="01",o.validity.notBefore=new Date,o.validity.notAfter=new Date,o.validity.notAfter.setFullYear(o.validity.notBefore.getFullYear()+10);const s=[{name:"organizationName",value:"ipfs"},{shortName:"OU",value:"keystore"},{name:"commonName",value:t.id}];return o.setSubject(s),o.setIssuer(s),o.setExtensions([{name:"basicConstraints",cA:!0},{name:"keyUsage",keyCertSign:!0,digitalSignature:!0,nonRepudiation:!0,keyEncipherment:!0,dataEncipherment:!0},{name:"extKeyUsage",serverAuth:!0,clientAuth:!0,codeSigning:!0,emailProtection:!0,timeStamping:!0},{name:"nsCertType",client:!0,server:!0,email:!0,objsign:!0,sslCA:!0,emailCA:!0,objCA:!0}]),o.sign(e),r(null,o)})},function(t,e,r){(function(t,r,n,i){(function(e){"use strict";function o(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n}var s=function(t){var e=o(arguments,1);return function(){var r=o(arguments);return t.apply(null,e.concat(r))}},a=function(t){return function(){var e=o(arguments),r=e.pop();t.call(this,e,r)}};function u(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var c="function"==typeof t&&t,f="object"==typeof r&&"function"==typeof r.nextTick;function l(t){setTimeout(t,0)}function h(t){return function(e){var r=o(arguments,1);t(function(){e.apply(null,r)})}}var p=h(c?t:f?r.nextTick:l);function d(t){return a(function(e,r){var n;try{n=t.apply(this,e)}catch(t){return r(t)}u(n)&&"function"==typeof n.then?n.then(function(t){m(r,null,t)},function(t){m(r,t.message?t:new Error(t))}):r(null,n)})}function m(t,e,r){try{t(e,r)}catch(t){p(g,t)}}function g(t){throw t}var v="function"==typeof Symbol;function y(t){return v&&"AsyncFunction"===t[Symbol.toStringTag]}function b(t){return y(t)?d(t):t}function w(t){return function(e){var r=o(arguments,1),n=a(function(r,n){var i=this;return t(e,function(t,e){b(t).apply(i,r.concat(e))},n)});return r.length?n.apply(this,r):n}}var _="object"==typeof n&&n&&n.Object===Object&&n,k="object"==typeof self&&self&&self.Object===Object&&self,S=_||k||Function("return this")(),x=S.Symbol,E=Object.prototype,C=E.hasOwnProperty,A=E.toString,M=x?x.toStringTag:void 0;var I=Object.prototype.toString;var T="[object Null]",O="[object Undefined]",B=x?x.toStringTag:void 0;function P(t){return null==t?void 0===t?O:T:B&&B in Object(t)?function(t){var e=C.call(t,M),r=t[M];try{t[M]=void 0;var n=!0}catch(t){}var i=A.call(t);return n&&(e?t[M]=r:delete t[M]),i}(t):function(t){return I.call(t)}(t)}var N="[object AsyncFunction]",R="[object Function]",F="[object GeneratorFunction]",j="[object Proxy]";var L=9007199254740991;function D(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=L}function U(t){return null!=t&&D(t.length)&&!function(t){if(!u(t))return!1;var e=P(t);return e==R||e==F||e==N||e==j}(t)}var z={};function H(){}function K(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}}var q="function"==typeof Symbol&&Symbol.iterator,V=function(t){return q&&t[q]&&t[q]()};function W(t){return null!=t&&"object"==typeof t}var G="[object Arguments]";function Y(t){return W(t)&&P(t)==G}var $=Object.prototype,Z=$.hasOwnProperty,X=$.propertyIsEnumerable,J=Y(function(){return arguments}())?Y:function(t){return W(t)&&Z.call(t,"callee")&&!X.call(t,"callee")},Q=Array.isArray;var tt="object"==typeof e&&e&&!e.nodeType&&e,et=tt&&"object"==typeof i&&i&&!i.nodeType&&i,rt=et&&et.exports===tt?S.Buffer:void 0,nt=(rt?rt.isBuffer:void 0)||function(){return!1},it=9007199254740991,ot=/^(?:0|[1-9]\d*)$/;function st(t,e){return!!(e=null==e?it:e)&&("number"==typeof t||ot.test(t))&&t>-1&&t%1==0&&t<e}var at={};at["[object Float32Array]"]=at["[object Float64Array]"]=at["[object Int8Array]"]=at["[object Int16Array]"]=at["[object Int32Array]"]=at["[object Uint8Array]"]=at["[object Uint8ClampedArray]"]=at["[object Uint16Array]"]=at["[object Uint32Array]"]=!0,at["[object Arguments]"]=at["[object Array]"]=at["[object ArrayBuffer]"]=at["[object Boolean]"]=at["[object DataView]"]=at["[object Date]"]=at["[object Error]"]=at["[object Function]"]=at["[object Map]"]=at["[object Number]"]=at["[object Object]"]=at["[object RegExp]"]=at["[object Set]"]=at["[object String]"]=at["[object WeakMap]"]=!1;var ut,ct="object"==typeof e&&e&&!e.nodeType&&e,ft=ct&&"object"==typeof i&&i&&!i.nodeType&&i,lt=ft&&ft.exports===ct&&_.process,ht=function(){try{return lt&&lt.binding&&lt.binding("util")}catch(t){}}(),pt=ht&&ht.isTypedArray,dt=pt?(ut=pt,function(t){return ut(t)}):function(t){return W(t)&&D(t.length)&&!!at[P(t)]},mt=Object.prototype.hasOwnProperty;function gt(t,e){var r=Q(t),n=!r&&J(t),i=!r&&!n&&nt(t),o=!r&&!n&&!i&&dt(t),s=r||n||i||o,a=s?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=a.length;for(var c in t)!e&&!mt.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||st(c,u))||a.push(c);return a}var vt=Object.prototype;var yt=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),bt=Object.prototype.hasOwnProperty;function wt(t){if(r=(e=t)&&e.constructor,e!==("function"==typeof r&&r.prototype||vt))return yt(t);var e,r,n=[];for(var i in Object(t))bt.call(t,i)&&"constructor"!=i&&n.push(i);return n}function _t(t){return U(t)?gt(t):wt(t)}function kt(t){if(U(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e,r,n,i,o=V(t);return o?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(o):(r=_t(e=t),n=-1,i=r.length,function(){var t=r[++n];return n<i?{value:e[t],key:t}:null})}function St(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function xt(t){return function(e,r,n){if(n=K(n||H),t<=0||!e)return n(null);var i=kt(e),o=!1,s=0;function a(t,e){if(s-=1,t)o=!0,n(t);else{if(e===z||o&&s<=0)return o=!0,n(null);u()}}function u(){for(;s<t&&!o;){var e=i();if(null===e)return o=!0,void(s<=0&&n(null));s+=1,r(e.value,e.key,St(a))}}u()}}function Et(t,e,r,n){xt(e)(t,b(r),n)}function Ct(t,e){return function(r,n,i){return t(r,e,n,i)}}function At(t,e,r){r=K(r||H);var n=0,i=0,o=t.length;function s(t,e){t?r(t):++i!==o&&e!==z||r(null)}for(0===o&&r(null);n<o;n++)e(t[n],n,St(s))}var Mt=Ct(Et,1/0),It=function(t,e,r){(U(t)?At:Mt)(t,b(e),r)};function Tt(t){return function(e,r,n){return t(It,e,b(r),n)}}function Ot(t,e,r,n){n=n||H,e=e||[];var i=[],o=0,s=b(r);t(e,function(t,e,r){var n=o++;s(t,function(t,e){i[n]=e,r(t)})},function(t){n(t,i)})}var Bt=Tt(Ot),Pt=w(Bt);function Nt(t){return function(e,r,n,i){return t(xt(r),e,b(n),i)}}var Rt=Nt(Ot),Ft=Ct(Rt,1),jt=w(Ft);function Lt(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}var Dt,Ut=function(t,e,r){for(var n=-1,i=Object(t),o=r(t),s=o.length;s--;){var a=o[Dt?s:++n];if(!1===e(i[a],a,i))break}return t};function zt(t,e){return t&&Ut(t,e,_t)}function Ht(t){return t!=t}function Kt(t,e,r){return e==e?function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,Ht,r)}var qt=function(t,e,r){"function"==typeof e&&(r=e,e=null),r=K(r||H);var n=_t(t).length;if(!n)return r(null);e||(e=n);var i={},s=0,a=!1,u=Object.create(null),c=[],f=[],l={};function h(t,e){c.push(function(){!function(t,e){if(a)return;var n=St(function(e,n){if(s--,arguments.length>2&&(n=o(arguments,1)),e){var c={};zt(i,function(t,e){c[e]=t}),c[t]=n,a=!0,u=Object.create(null),r(e,c)}else i[t]=n,Lt(u[t]||[],function(t){t()}),p()});s++;var c=b(e[e.length-1]);e.length>1?c(i,n):c(n)}(t,e)})}function p(){if(0===c.length&&0===s)return r(null,i);for(;c.length&&s<e;){c.shift()()}}function d(e){var r=[];return zt(t,function(t,n){Q(t)&&Kt(t,e,0)>=0&&r.push(n)}),r}zt(t,function(e,r){if(!Q(e))return h(r,[e]),void f.push(r);var n=e.slice(0,e.length-1),i=n.length;if(0===i)return h(r,e),void f.push(r);l[r]=i,Lt(n,function(o){if(!t[o])throw new Error("async.auto task `"+r+"` has a non-existent dependency `"+o+"` in "+n.join(", "));!function(t,e){var r=u[t];r||(r=u[t]=[]);r.push(e)}(o,function(){0===--i&&h(r,e)})})}),function(){var t,e=0;for(;f.length;)t=f.pop(),e++,Lt(d(t),function(t){0==--l[t]&&f.push(t)});if(e!==n)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),p()};function Vt(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Wt="[object Symbol]";var Gt=1/0,Yt=x?x.prototype:void 0,$t=Yt?Yt.toString:void 0;function Zt(t){if("string"==typeof t)return t;if(Q(t))return Vt(t,Zt)+"";if(function(t){return"symbol"==typeof t||W(t)&&P(t)==Wt}(t))return $t?$t.call(t):"";var e=t+"";return"0"==e&&1/t==-Gt?"-0":e}function Xt(t,e,r){var n=t.length;return r=void 0===r?n:r,!e&&r>=n?t:function(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}(t,e,r)}var Jt=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Qt="[\\ud800-\\udfff]",te="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ee="\\ud83c[\\udffb-\\udfff]",re="[^\\ud800-\\udfff]",ne="(?:\\ud83c[\\udde6-\\uddff]){2}",ie="[\\ud800-\\udbff][\\udc00-\\udfff]",oe="(?:"+te+"|"+ee+")"+"?",se="[\\ufe0e\\ufe0f]?"+oe+("(?:\\u200d(?:"+[re,ne,ie].join("|")+")[\\ufe0e\\ufe0f]?"+oe+")*"),ae="(?:"+[re+te+"?",te,ne,ie,Qt].join("|")+")",ue=RegExp(ee+"(?="+ee+")|"+ae+se,"g");function ce(t){return function(t){return Jt.test(t)}(t)?function(t){return t.match(ue)||[]}(t):function(t){return t.split("")}(t)}var fe=/^\s+|\s+$/g;function le(t,e,r){var n;if((t=null==(n=t)?"":Zt(n))&&(r||void 0===e))return t.replace(fe,"");if(!t||!(e=Zt(e)))return t;var i=ce(t),o=ce(e);return Xt(i,function(t,e){for(var r=-1,n=t.length;++r<n&&Kt(e,t[r],0)>-1;);return r}(i,o),function(t,e){for(var r=t.length;r--&&Kt(e,t[r],0)>-1;);return r}(i,o)+1).join("")}var he=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,pe=/,/,de=/(=.+)?(\s*)$/,me=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function ge(t,e){var r={};zt(t,function(t,e){var n,i,o=y(t),s=!o&&1===t.length||o&&0===t.length;if(Q(t))n=t.slice(0,-1),t=t[t.length-1],r[e]=n.concat(n.length>0?a:t);else if(s)r[e]=t;else{if(n=i=(i=(i=(i=(i=t).toString().replace(me,"")).match(he)[2].replace(" ",""))?i.split(pe):[]).map(function(t){return le(t.replace(de,""))}),0===t.length&&!o&&0===n.length)throw new Error("autoInject task functions require explicit parameters.");o||n.pop(),r[e]=n.concat(a)}function a(e,r){var i=Vt(n,function(t){return e[t]});i.push(r),b(t).apply(null,i)}}),qt(r,e)}function ve(){this.head=this.tail=null,this.length=0}function ye(t,e){t.length=1,t.head=t.tail=e}function be(t,e,r){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var n=b(t),i=0,o=[],s=!1;function a(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(f.started=!0,Q(t)||(t=[t]),0===t.length&&f.idle())return p(function(){f.drain()});for(var n=0,i=t.length;n<i;n++){var o={data:t[n],callback:r||H};e?f._tasks.unshift(o):f._tasks.push(o)}s||(s=!0,p(function(){s=!1,f.process()}))}function u(t){return function(e){i-=1;for(var r=0,n=t.length;r<n;r++){var s=t[r],a=Kt(o,s,0);0===a?o.shift():a>0&&o.splice(a,1),s.callback.apply(s,arguments),null!=e&&f.error(e,s.data)}i<=f.concurrency-f.buffer&&f.unsaturated(),f.idle()&&f.drain(),f.process()}}var c=!1,f={_tasks:new ve,concurrency:e,payload:r,saturated:H,unsaturated:H,buffer:e/4,empty:H,drain:H,error:H,started:!1,paused:!1,push:function(t,e){a(t,!1,e)},kill:function(){f.drain=H,f._tasks.empty()},unshift:function(t,e){a(t,!0,e)},remove:function(t){f._tasks.remove(t)},process:function(){if(!c){for(c=!0;!f.paused&&i<f.concurrency&&f._tasks.length;){var t=[],e=[],r=f._tasks.length;f.payload&&(r=Math.min(r,f.payload));for(var s=0;s<r;s++){var a=f._tasks.shift();t.push(a),o.push(a),e.push(a.data)}i+=1,0===f._tasks.length&&f.empty(),i===f.concurrency&&f.saturated();var l=St(u(t));n(e,l)}c=!1}},length:function(){return f._tasks.length},running:function(){return i},workersList:function(){return o},idle:function(){return f._tasks.length+i===0},pause:function(){f.paused=!0},resume:function(){!1!==f.paused&&(f.paused=!1,p(f.process))}};return f}function we(t,e){return be(t,1,e)}ve.prototype.removeLink=function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t},ve.prototype.empty=function(){for(;this.head;)this.shift();return this},ve.prototype.insertAfter=function(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1},ve.prototype.insertBefore=function(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1},ve.prototype.unshift=function(t){this.head?this.insertBefore(this.head,t):ye(this,t)},ve.prototype.push=function(t){this.tail?this.insertAfter(this.tail,t):ye(this,t)},ve.prototype.shift=function(){return this.head&&this.removeLink(this.head)},ve.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},ve.prototype.toArray=function(){for(var t=Array(this.length),e=this.head,r=0;r<this.length;r++)t[r]=e.data,e=e.next;return t},ve.prototype.remove=function(t){for(var e=this.head;e;){var r=e.next;t(e)&&this.removeLink(e),e=r}return this};var _e=Ct(Et,1);function ke(t,e,r,n){n=K(n||H);var i=b(r);_e(t,function(t,r,n){i(e,t,function(t,r){e=r,n(t)})},function(t){n(t,e)})}function Se(){var t=Vt(arguments,b);return function(){var e=o(arguments),r=this,n=e[e.length-1];"function"==typeof n?e.pop():n=H,ke(t,e,function(t,e,n){e.apply(r,t.concat(function(t){var e=o(arguments,1);n(t,e)}))},function(t,e){n.apply(r,[t].concat(e))})}}var xe=function(){return Se.apply(null,o(arguments).reverse())},Ee=Array.prototype.concat,Ce=function(t,e,r,n){n=n||H;var i=b(r);Rt(t,e,function(t,e){i(t,function(t){return t?e(t):e(null,o(arguments,1))})},function(t,e){for(var r=[],i=0;i<e.length;i++)e[i]&&(r=Ee.apply(r,e[i]));return n(t,r)})},Ae=Ct(Ce,1/0),Me=Ct(Ce,1),Ie=function(){var t=o(arguments),e=[null].concat(t);return function(){return arguments[arguments.length-1].apply(this,e)}};function Te(t){return t}function Oe(t,e){return function(r,n,i,o){o=o||H;var s,a=!1;r(n,function(r,n,o){i(r,function(n,i){n?o(n):t(i)&&!s?(a=!0,s=e(!0,r),o(null,z)):o()})},function(t){t?o(t):o(null,a?s:e(!1))})}}function Be(t,e){return e}var Pe=Tt(Oe(Te,Be)),Ne=Nt(Oe(Te,Be)),Re=Ct(Ne,1);function Fe(t){return function(e){var r=o(arguments,1);r.push(function(e){var r=o(arguments,1);"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&Lt(r,function(e){console[t](e)}))}),b(e).apply(null,r)}}var je=Fe("dir");function Le(t,e,r){r=St(r||H);var n=b(t),i=b(e);function s(t){if(t)return r(t);var e=o(arguments,1);e.push(a),i.apply(this,e)}function a(t,e){return t?r(t):e?void n(s):r(null)}a(null,!0)}function De(t,e,r){r=St(r||H);var n=b(t),i=function(t){if(t)return r(t);var s=o(arguments,1);if(e.apply(this,s))return n(i);r.apply(null,[null].concat(s))};n(i)}function Ue(t,e,r){De(t,function(){return!e.apply(this,arguments)},r)}function ze(t,e,r){r=St(r||H);var n=b(e),i=b(t);function o(t){if(t)return r(t);i(s)}function s(t,e){return t?r(t):e?void n(o):r(null)}i(s)}function He(t){return function(e,r,n){return t(e,n)}}function Ke(t,e,r){It(t,He(b(e)),r)}function qe(t,e,r,n){xt(e)(t,He(b(r)),n)}var Ve=Ct(qe,1);function We(t){return y(t)?t:a(function(e,r){var n=!0;e.push(function(){var t=arguments;n?p(function(){r.apply(null,t)}):r.apply(null,t)}),t.apply(this,e),n=!1})}function Ge(t){return!t}var Ye=Tt(Oe(Ge,Ge)),$e=Nt(Oe(Ge,Ge)),Ze=Ct($e,1);function Xe(t){return function(e){return null==e?void 0:e[t]}}function Je(t,e,r,n){var i=new Array(e.length);t(e,function(t,e,n){r(t,function(t,r){i[e]=!!r,n(t)})},function(t){if(t)return n(t);for(var r=[],o=0;o<e.length;o++)i[o]&&r.push(e[o]);n(null,r)})}function Qe(t,e,r,n){var i=[];t(e,function(t,e,n){r(t,function(r,o){r?n(r):(o&&i.push({index:e,value:t}),n())})},function(t){t?n(t):n(null,Vt(i.sort(function(t,e){return t.index-e.index}),Xe("value")))})}function tr(t,e,r,n){(U(e)?Je:Qe)(t,e,b(r),n||H)}var er=Tt(tr),rr=Nt(tr),nr=Ct(rr,1);function ir(t,e){var r=St(e||H),n=b(We(t));!function t(e){if(e)return r(e);n(t)}()}var or=function(t,e,r,n){n=n||H;var i=b(r);Rt(t,e,function(t,e){i(t,function(r,n){return r?e(r):e(null,{key:n,val:t})})},function(t,e){for(var r={},i=Object.prototype.hasOwnProperty,o=0;o<e.length;o++)if(e[o]){var s=e[o].key,a=e[o].val;i.call(r,s)?r[s].push(a):r[s]=[a]}return n(t,r)})},sr=Ct(or,1/0),ar=Ct(or,1),ur=Fe("log");function cr(t,e,r,n){n=K(n||H);var i={},o=b(r);Et(t,e,function(t,e,r){o(t,e,function(t,n){if(t)return r(t);i[e]=n,r()})},function(t){n(t,i)})}var fr=Ct(cr,1/0),lr=Ct(cr,1);function hr(t,e){return e in t}function pr(t,e){var r=Object.create(null),n=Object.create(null);e=e||Te;var i=b(t),s=a(function(t,s){var a=e.apply(null,t);hr(r,a)?p(function(){s.apply(null,r[a])}):hr(n,a)?n[a].push(s):(n[a]=[s],i.apply(null,t.concat(function(){var t=o(arguments);r[a]=t;var e=n[a];delete n[a];for(var i=0,s=e.length;i<s;i++)e[i].apply(null,t)})))});return s.memo=r,s.unmemoized=t,s}var dr=h(f?r.nextTick:c?t:l);function mr(t,e,r){r=r||H;var n=U(e)?[]:{};t(e,function(t,e,r){b(t)(function(t,i){arguments.length>2&&(i=o(arguments,1)),n[e]=i,r(t)})},function(t){r(t,n)})}function gr(t,e){mr(It,t,e)}function vr(t,e,r){mr(xt(e),t,r)}var yr=function(t,e){var r=b(t);return be(function(t,e){r(t[0],e)},e,1)},br=function(t,e){var r=yr(t,e);return r.push=function(t,e,n){if(null==n&&(n=H),"function"!=typeof n)throw new Error("task callback must be a function");if(r.started=!0,Q(t)||(t=[t]),0===t.length)return p(function(){r.drain()});e=e||0;for(var i=r._tasks.head;i&&e>=i.priority;)i=i.next;for(var o=0,s=t.length;o<s;o++){var a={data:t[o],priority:e,callback:n};i?r._tasks.insertBefore(i,a):r._tasks.push(a)}p(r.process)},delete r.unshift,r};function wr(t,e){if(e=K(e||H),!Q(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var r=0,n=t.length;r<n;r++)b(t[r])(e)}function _r(t,e,r,n){ke(o(t).reverse(),e,r,n)}function kr(t){var e=b(t);return a(function(t,r){return t.push(function(t,e){var n;t?r(null,{error:t}):(n=arguments.length<=2?e:o(arguments,1),r(null,{value:n}))}),e.apply(this,t)})}function Sr(t){var e;return Q(t)?e=Vt(t,kr):(e={},zt(t,function(t,r){e[r]=kr.call(this,t)})),e}function xr(t,e,r,n){tr(t,e,function(t,e){r(t,function(t,r){e(t,!r)})},n)}var Er=Tt(xr),Cr=Nt(xr),Ar=Ct(Cr,1);function Mr(t){return function(){return t}}function Ir(t,e,r){var n=5,i=0,o={times:n,intervalFunc:Mr(i)};if(arguments.length<3&&"function"==typeof t?(r=e||H,e=t):(!function(t,e){if("object"==typeof e)t.times=+e.times||n,t.intervalFunc="function"==typeof e.interval?e.interval:Mr(+e.interval||i),t.errorFilter=e.errorFilter;else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||n}}(o,t),r=r||H),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var s=b(e),a=1;!function t(){s(function(e){e&&a++<o.times&&("function"!=typeof o.errorFilter||o.errorFilter(e))?setTimeout(t,o.intervalFunc(a)):r.apply(null,arguments)})}()}var Tr=function(t,e){e||(e=t,t=null);var r=b(e);return a(function(e,n){function i(t){r.apply(null,e.concat(t))}t?Ir(t,i,n):Ir(i,n)})};function Or(t,e){mr(_e,t,e)}var Br=Tt(Oe(Boolean,Te)),Pr=Nt(Oe(Boolean,Te)),Nr=Ct(Pr,1);function Rr(t,e,r){var n=b(e);function i(t,e){var r=t.criteria,n=e.criteria;return r<n?-1:r>n?1:0}Bt(t,function(t,e){n(t,function(r,n){if(r)return e(r);e(null,{value:t,criteria:n})})},function(t,e){if(t)return r(t);r(null,Vt(e.sort(i),Xe("value")))})}function Fr(t,e,r){var n=b(t);return a(function(i,o){var s,a=!1;i.push(function(){a||(o.apply(null,arguments),clearTimeout(s))}),s=setTimeout(function(){var e=t.name||"anonymous",n=new Error('Callback function "'+e+'" timed out.');n.code="ETIMEDOUT",r&&(n.info=r),a=!0,o(n)},e),n.apply(null,i)})}var jr=Math.ceil,Lr=Math.max;function Dr(t,e,r,n){var i=b(r);Rt(function(t,e,r,n){for(var i=-1,o=Lr(jr((e-t)/(r||1)),0),s=Array(o);o--;)s[n?o:++i]=t,t+=r;return s}(0,t,1),e,i,n)}var Ur=Ct(Dr,1/0),zr=Ct(Dr,1);function Hr(t,e,r,n){arguments.length<=3&&(n=r,r=e,e=Q(t)?[]:{}),n=K(n||H);var i=b(r);It(t,function(t,r,n){i(e,t,r,n)},function(t){n(t,e)})}function Kr(t,e){var r,n=null;e=e||H,Ve(t,function(t,e){b(t)(function(t,i){r=arguments.length>2?o(arguments,1):i,n=t,e(!t)})},function(){e(n,r)})}function qr(t){return function(){return(t.unmemoized||t).apply(null,arguments)}}function Vr(t,e,r){r=St(r||H);var n=b(e);if(!t())return r(null);var i=function(e){if(e)return r(e);if(t())return n(i);var s=o(arguments,1);r.apply(null,[null].concat(s))};n(i)}function Wr(t,e,r){Vr(function(){return!t.apply(this,arguments)},e,r)}var Gr=function(t,e){if(e=K(e||H),!Q(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function n(e){var n=b(t[r++]);e.push(St(i)),n.apply(null,e)}function i(i){if(i||r===t.length)return e.apply(null,arguments);n(o(arguments,1))}n([])},Yr={apply:s,applyEach:Pt,applyEachSeries:jt,asyncify:d,auto:qt,autoInject:ge,cargo:we,compose:xe,concat:Ae,concatLimit:Ce,concatSeries:Me,constant:Ie,detect:Pe,detectLimit:Ne,detectSeries:Re,dir:je,doDuring:Le,doUntil:Ue,doWhilst:De,during:ze,each:Ke,eachLimit:qe,eachOf:It,eachOfLimit:Et,eachOfSeries:_e,eachSeries:Ve,ensureAsync:We,every:Ye,everyLimit:$e,everySeries:Ze,filter:er,filterLimit:rr,filterSeries:nr,forever:ir,groupBy:sr,groupByLimit:or,groupBySeries:ar,log:ur,map:Bt,mapLimit:Rt,mapSeries:Ft,mapValues:fr,mapValuesLimit:cr,mapValuesSeries:lr,memoize:pr,nextTick:dr,parallel:gr,parallelLimit:vr,priorityQueue:br,queue:yr,race:wr,reduce:ke,reduceRight:_r,reflect:kr,reflectAll:Sr,reject:Er,rejectLimit:Cr,rejectSeries:Ar,retry:Ir,retryable:Tr,seq:Se,series:Or,setImmediate:p,some:Br,someLimit:Pr,someSeries:Nr,sortBy:Rr,timeout:Fr,times:Ur,timesLimit:Dr,timesSeries:zr,transform:Hr,tryEach:Kr,unmemoize:qr,until:Wr,waterfall:Gr,whilst:Vr,all:Ye,allLimit:$e,allSeries:Ze,any:Br,anyLimit:Pr,anySeries:Nr,find:Pe,findLimit:Ne,findSeries:Re,forEach:Ke,forEachSeries:Ve,forEachLimit:qe,forEachOf:It,forEachOfSeries:_e,forEachOfLimit:Et,inject:ke,foldl:ke,foldr:_r,select:er,selectLimit:rr,selectSeries:nr,wrapSync:d};e.default=Yr,e.apply=s,e.applyEach=Pt,e.applyEachSeries=jt,e.asyncify=d,e.auto=qt,e.autoInject=ge,e.cargo=we,e.compose=xe,e.concat=Ae,e.concatLimit=Ce,e.concatSeries=Me,e.constant=Ie,e.detect=Pe,e.detectLimit=Ne,e.detectSeries=Re,e.dir=je,e.doDuring=Le,e.doUntil=Ue,e.doWhilst=De,e.during=ze,e.each=Ke,e.eachLimit=qe,e.eachOf=It,e.eachOfLimit=Et,e.eachOfSeries=_e,e.eachSeries=Ve,e.ensureAsync=We,e.every=Ye,e.everyLimit=$e,e.everySeries=Ze,e.filter=er,e.filterLimit=rr,e.filterSeries=nr,e.forever=ir,e.groupBy=sr,e.groupByLimit=or,e.groupBySeries=ar,e.log=ur,e.map=Bt,e.mapLimit=Rt,e.mapSeries=Ft,e.mapValues=fr,e.mapValuesLimit=cr,e.mapValuesSeries=lr,e.memoize=pr,e.nextTick=dr,e.parallel=gr,e.parallelLimit=vr,e.priorityQueue=br,e.queue=yr,e.race=wr,e.reduce=ke,e.reduceRight=_r,e.reflect=kr,e.reflectAll=Sr,e.reject=Er,e.rejectLimit=Cr,e.rejectSeries=Ar,e.retry=Ir,e.retryable=Tr,e.seq=Se,e.series=Or,e.setImmediate=p,e.some=Br,e.someLimit=Pr,e.someSeries=Nr,e.sortBy=Rr,e.timeout=Fr,e.times=Ur,e.timesLimit=Dr,e.timesSeries=zr,e.transform=Hr,e.tryEach=Kr,e.unmemoize=qr,e.until=Wr,e.waterfall=Gr,e.whilst=Vr,e.all=Ye,e.allLimit=$e,e.allSeries=Ze,e.any=Br,e.anyLimit=Pr,e.anySeries=Nr,e.find=Pe,e.findLimit=Ne,e.findSeries=Re,e.forEach=Ke,e.forEachSeries=Ve,e.forEachLimit=qe,e.forEachOf=It,e.forEachOfSeries=_e,e.forEachOfLimit=Et,e.inject=ke,e.foldl=ke,e.foldr=_r,e.select=er,e.selectLimit=rr,e.selectSeries=nr,e.wrapSync=d,Object.defineProperty(e,"__esModule",{value:!0})})(e)}).call(this,r(12).setImmediate,r(2),r(7),r(24)(t))},function(t,e,r){"use strict";(function(e){const n=r(1074),i=r(145),o=r(1073);t.exports=class{constructor(t){if(!t)throw new Error("keychain is required");this.keychain=t}encrypt(t,r,s){const a=this,u=(t,e)=>n.setImmediate(()=>s(t,e));if(!e.isBuffer(r))return u(new Error("Plain data must be a Buffer"));n.series([e=>a.keychain.findKeyByName(t,e),e=>a.keychain._getPrivateKey(t,e)],(t,n)=>{if(t)return u(t);let c=n[0],f=n[1];try{const n=i.pki.decryptRsaPrivateKey(f,a.keychain._());o.certificateForKey(c,n,(t,n)=>{if(t)return s(t);const o=i.pkcs7.createEnvelopedData();o.addRecipient(n),o.content=i.util.createBuffer(r),o.encrypt();const a=i.asn1.toDer(o.toAsn1()).getBytes();u(null,e.from(a,"binary"))})}catch(t){u(t)}})}decrypt(t,r){const o=(t,e)=>n.setImmediate(()=>r(t,e));if(!e.isBuffer(t))return o(new Error("CMS data is required"));const s=this;let a;try{const e=i.util.createBuffer(t.toString("binary")),r=i.asn1.fromDer(e);a=i.pkcs7.messageFromAsn1(r)}catch(t){return o(new Error("Invalid CMS: "+t.message))}const u=a.recipients.filter(t=>t.issuer.find(t=>"O"===t.shortName&&"ipfs"===t.value)).filter(t=>t.issuer.find(t=>"CN"===t.shortName)).map(t=>({recipient:t,keyId:t.issuer.find(t=>"CN"===t.shortName).value}));n.detect(u,(t,e)=>s.keychain.findKeyById(t.keyId,(t,r)=>e(null,!t&&r)),(t,r)=>{if(t)return o(t);if(!r){const e=u.map(t=>t.keyId);return(t=new Error("Decryption needs one of the key(s): "+e.join(", "))).missingKeys=e,o(t)}n.waterfall([t=>s.keychain.findKeyById(r.keyId,t),(t,e)=>s.keychain._getPrivateKey(t.name,e)],(t,n)=>{if(t)return o(t);const u=i.pki.decryptRsaPrivateKey(n,s.keychain._());a.decrypt(r.recipient,u),o(null,e.from(a.content.getBytes(),"binary"))})})}}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";var n=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===i}(t)}(t)};var i="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(t,e){var r;return e&&!0===e.clone&&n(t)?a((r=t,Array.isArray(r)?[]:{}),t,e):t}function s(t,e,r){var i=t.slice();return e.forEach(function(e,s){void 0===i[s]?i[s]=o(e,r):n(e)?i[s]=a(t[s],e,r):-1===t.indexOf(e)&&i.push(o(e,r))}),i}function a(t,e,r){var i=Array.isArray(e);return i===Array.isArray(t)?i?((r||{arrayMerge:s}).arrayMerge||s)(t,e,r):function(t,e,r){var i={};return n(t)&&Object.keys(t).forEach(function(e){i[e]=o(t[e],r)}),Object.keys(e).forEach(function(s){n(e[s])&&t[s]?i[s]=a(t[s],e[s],r):i[s]=o(e[s],r)}),i}(t,e,r):o(e,r)}a.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce(function(t,r){return a(t,r,e)})};var u=a;t.exports=u},function(t,e,r){"use strict";function n(t){return t>=55296&&t<=56319}function i(t){return t>=56320&&t<=57343}t.exports=function(t){if("string"!=typeof t)throw new Error("Input must be string");for(var e=t.length,r=0,o=null,s=null,a=0;a<e;a++)i(o=t.charCodeAt(a))?null!=s&&n(s)?r+=1:r+=3:o<=127?r+=1:o>=128&&o<=2047?r+=2:o>=2048&&o<=65535&&(r+=3),s=o;return r}},function(t,e,r){"use strict";function n(t){return t>=55296&&t<=56319}function i(t){return t>=56320&&t<=57343}t.exports=function(t,e,r){if("string"!=typeof e)throw new Error("Input must be string");for(var o,s,a=e.length,u=0,c=0;c<a;c+=1){if(o=e.charCodeAt(c),s=e[c],n(o)&&i(e.charCodeAt(c+1))&&(s+=e[c+=1]),(u+=t(s))===r)return e.slice(0,c+1);if(u>r)return e.slice(0,c-s.length+1)}return e}},function(t,e,r){"use strict";var n=r(1078),i=r(1077);t.exports=n.bind(null,i)},function(t,e,r){"use strict";var n=r(1079),i=/[\/\?<>\\:\*\|":]/g,o=/[\x00-\x1f\x80-\x9f]/g,s=/^\.+$/,a=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,u=/[\. ]+$/;function c(t,e){var r=t.replace(i,e).replace(o,e).replace(s,e).replace(a,e).replace(u,e);return n(r,255)}t.exports=function(t,e){var r=e&&e.replacement||"",n=c(t,r);return""===r?n:c(n,"")}},function(t,e,r){"use strict";const n=r(1080),i=r(1076),o=r(81),s=r(45),a=r(8),u=r(1075),c="/pkcs8/",f="/info/",l={minKeyLength:14,minSaltLength:16,minIterationCount:1e3},h={dek:{keyLength:64,iterationCount:1e4,salt:"you should override this value with a crypto secure random number",hash:"sha2-512"}};function p(t){return!!t&&t===n(t.trim())}function d(t,e){const r=800*Math.random()+200;"string"==typeof e&&(e=new Error(e)),setTimeout(t,r,e,null)}function m(t){return new s.Key(c+t)}function g(t){return new s.Key(f+t)}t.exports=class{constructor(t,e){if(!t)throw new Error("store is required");this.store=t;const r=i(h,e);if(!r.passPhrase||r.passPhrase.length<20)throw new Error("passPhrase must be least 20 characters");if(r.dek.keyLength<l.minKeyLength)throw new Error(`dek.keyLength must be least ${l.minKeyLength} bytes`);if(r.dek.salt.length<l.minSaltLength)throw new Error(`dek.saltLength must be least ${l.minSaltLength} bytes`);if(r.dek.iterationCount<l.minIterationCount)throw new Error(`dek.iterationCount must be least ${l.minIterationCount}`);const n=o.pbkdf2(r.passPhrase,r.dek.salt,r.dek.iterationCount,r.dek.keyLength,r.dek.hash);Object.defineProperty(this,"_",{value:()=>n})}get cms(){return new u(this)}static generateOptions(){const t=Object.assign({},h),e=3*Math.ceil(l.minSaltLength/3);return t.dek.salt=o.randomBytes(e).toString("base64"),t}static get options(){return h}createKey(t,e,r,n){const i=this;if(!p(t)||"self"===t)return d(n,`Invalid key name '${t}'`);const s=m(t);i.store.has(s,(a,u)=>{if(a)return d(n,a);if(u)return d(n,`Key '${t}' already exists`);switch(e.toLowerCase()){case"rsa":if(r<2048)return d(n,`Invalid RSA key size ${r}`)}o.keys.generateKeyPair(e,r,(e,r)=>{if(e)return d(n,e);r.id((e,o)=>{if(e)return d(n,e);r.export(this._(),(e,r)=>{if(e)return d(n,e);const a={name:t,id:o},u=i.store.batch();u.put(s,r),u.put(g(t),JSON.stringify(a)),u.commit(t=>{if(t)return d(n,t);n(null,a)})})})})})}listKeys(t){const e={prefix:f};a(this.store.query(e),a.collect((e,r)=>{if(e)return d(t,e);const n=r.map(t=>JSON.parse(t.value));t(null,n)}))}findKeyById(t,e){this.listKeys((r,n)=>{if(r)return d(e,r);const i=n.find(e=>e.id===t);e(null,i)})}findKeyByName(t,e){if(!p(t))return d(e,`Invalid key name '${t}'`);const r=g(t);this.store.get(r,(r,n)=>{if(r)return d(e,`Key '${t}' does not exist. ${r.message}`);e(null,JSON.parse(n.toString()))})}removeKey(t,e){const r=this;if(!p(t)||"self"===t)return d(e,`Invalid key name '${t}'`);const n=m(t);r.findKeyByName(t,(i,o)=>{if(i)return d(e,i);const s=r.store.batch();s.delete(n),s.delete(g(t)),s.commit(t=>{if(t)return d(e,t);e(null,o)})})}renameKey(t,e,r){const n=this;if(!p(t)||"self"===t)return d(r,`Invalid old key name '${t}'`);if(!p(e)||"self"===e)return d(r,`Invalid new key name '${e}'`);const i=m(t),o=m(e),s=g(t),a=g(e);this.store.get(i,(u,c)=>{if(u)return d(r,`Key '${t}' does not exist. ${u.message}`);const f=c.toString();n.store.has(o,(t,u)=>t?d(r,t):u?d(r,`Key '${e}' already exists`):void n.store.get(s,(t,u)=>{if(t)return d(r,t);const c=JSON.parse(u.toString());c.name=e;const l=n.store.batch();l.put(o,f),l.put(a,JSON.stringify(c)),l.delete(i),l.delete(s),l.commit(t=>{if(t)return d(r,t);r(null,c)})}))})}exportKey(t,e,r){if(!p(t))return d(r,`Invalid key name '${t}'`);if(!e)return d(r,"Password is required");const n=m(t);this.store.get(n,(n,i)=>{if(n)return d(r,`Key '${t}' does not exist. ${n.message}`);const s=i.toString();o.keys.import(s,this._(),(t,n)=>{if(t)return d(r,t);n.export(e,r)})})}importKey(t,e,r,n){const i=this;if(!p(t)||"self"===t)return d(n,`Invalid key name '${t}'`);if(!e)return d(n,"PEM encoded key is required");const s=m(t);i.store.has(s,(a,u)=>a?d(n,a):u?d(n,`Key '${t}' already exists`):void o.keys.import(e,r,(e,r)=>{if(e)return d(n,"Cannot read the key, most likely the password is wrong");r.id((e,o)=>{if(e)return d(n,e);r.export(this._(),(e,r)=>{if(e)return d(n,e);const a={name:t,id:o},u=i.store.batch();u.put(s,r),u.put(g(t),JSON.stringify(a)),u.commit(t=>{if(t)return d(n,t);n(null,a)})})})}))}importPeer(t,e,r){const n=this;if(!p(t))return d(r,`Invalid key name '${t}'`);if(!e||!e.privKey)return d(r,"Peer.privKey is required");const i=e.privKey,o=m(t);n.store.has(o,(e,s)=>e?d(r,e):s?d(r,`Key '${t}' already exists`):void i.id((e,s)=>{if(e)return d(r,e);i.export(this._(),(e,i)=>{if(e)return d(r,e);const a={name:t,id:s},u=n.store.batch();u.put(o,i),u.put(g(t),JSON.stringify(a)),u.commit(t=>{if(t)return d(r,t);r(null,a)})})}))}_getPrivateKey(t,e){if(!p(t))return d(e,`Invalid key name '${t}'`);this.store.get(m(t),(r,n)=>{if(r)return d(e,`Key '${t}' does not exist. ${r.message}`);e(null,n.toString())})}}},function(t,e,r){"use strict";const n=r(30),i=r(48),o=r(25),s=r(120),a=r(476),u=r(1072);t.exports=function(t){return e=>{t.log("pre-start");const r=t._options.pass;s([e=>t._repo.config.get(e),(e,r)=>{if(e.Keychain)return r(null,e);e.Keychain=a.generateOptions(),t.config.set("Keychain",e.Keychain,n=>{t.log("using default keychain options"),r(n,e)})},(e,n)=>{if(t._keychain);else if(r){const n=Object.assign({passPhrase:r},e.Keychain);t._keychain=new a(t._repo.keys,n),t.log("keychain constructed")}else t._keychain=new u,t.log("no keychain, use --pass");n(null,e)},(t,e)=>{const r=t.Identity.PrivKey;n.createFromPrivKey(r,(r,n)=>{e(r,t,n)})},(e,n,i)=>{if(!r)return i(null,e,n);t._keychain.findKeyByName("self",r=>{if(r)return t.log('Creating "self" key'),t._keychain.importPeer("self",n,t=>i(t,e,n));i(null,e,n)})},(e,r,n)=>{t.log("peer created"),t._peerInfo=new i(r),e.Addresses&&e.Addresses.Swarm&&e.Addresses.Swarm.forEach(e=>{let r=o(e);r.getPeerId()&&(r=r.encapsulate("/ipfs/"+t._peerInfo.id.toB58String())),t._peerInfo.multiaddrs.add(r)}),n()}],e)}}},function(t,e,r){"use strict";e.preStart=r(1082),e.start=r(1071),e.stop=r(1031),e.isOnline=r(1030),e.version=r(1029),e.id=r(1028),e.repo=r(465),e.init=r(1027),e.bootstrap=r(1024),e.config=r(1023),e.block=r(1022),e.object=r(1021),e.dag=r(1019),e.libp2p=r(1018),e.swarm=r(776),e.ping=r(775),e.files=r(774),e.bitswap=r(385),e.pubsub=r(716),e.dht=r(715),e.dns=r(708),e.key=r(706),e.stats=r(705)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return n&&t[n]&&t[n]()};var n="function"==typeof Symbol&&Symbol.iterator;t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,n.default)(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e=(0,i.default)(t);return e?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(e):(r=t,s=(0,o.default)(r),a=-1,u=s.length,function(){var t=s[++a];return a<u?{value:r[t],key:t}:null});var r,s,a,u};var n=s(r(10)),i=s(r(1084)),o=s(r(46));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,u){if(u=(0,i.default)(u||n.default),t<=0||!e)return u(null);var c=(0,o.default)(e),f=!1,l=0;function h(t,e){if(l-=1,t)f=!0,u(t);else{if(e===a.default||f&&l<=0)return f=!0,u(null);p()}}function p(){for(;l<t&&!f;){var e=c();if(null===e)return f=!0,void(l<=0&&u(null));l+=1,r(e.value,e.key,(0,s.default)(h))}}p()}};var n=u(r(4)),i=u(r(289)),o=u(r(1085)),s=u(r(288)),a=u(r(286));function u(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(478)),i=o(r(477));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)(n.default,1),t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,o.default)(arguments),r=e.pop();t.call(this,e,r)}};var n,i=r(187),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(function(e,r){var i;try{i=t.apply(this,e)}catch(t){return r(t)}(0,n.default)(i)&&"function"==typeof i.then?i.then(function(t){a(r,null,t)},function(t){a(r,t.message?t:new Error(t))}):r(null,i)})};var n=s(r(23)),i=s(r(1088)),o=s(r(480));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){try{t(e,r)}catch(t){(0,o.default)(u,t)}}function u(t){throw t}t.exports=e.default},function(t,e,r){"use strict";const n=r(120),i=r(287),o=r(481);t.exports=(t=>{t.log("booting");const e=t._options,r=e.init,s=e.start,a=e.config,u=a&&"object"==typeof a,c=!t._repo.closed,f="object"==typeof e.init?e.init:{},l=Object.assign({bits:2048,pass:t._options.pass},f),h=e=>{if(e)return t.emit("error",e);t.log("boot:done"),t.emit("ready")},p=[];(e=>{if(c)return e(null,!0);i([e=>t._repo.open(e),e=>t.preStart(e),e=>{t.log("initialized"),t.state.initialized(),e(null,!0)}],(t,r)=>{if(t)return t.message.match(/not found/)||t.message.match(/ENOENT/)||t.message.match(/No value/)?e(null,!1):e(t);e(null,r)})})((a,c)=>{if(a)return h(a);if(r&&!c&&(p.push(e=>t.init(l,e)),c=!0),u&&(c?p.push(r=>{n([e=>t.config.get(e),(r,n)=>{o(r,e.config),t.config.replace(r,n)}],r)}):console.log('WARNING, trying to set config on uninitialized repo, maybe forgot to set "init: true"')),s){if(!c)return console.log('WARNING, trying to start ipfs node on uninitialized repo, maybe forgot to set "init: true"'),h(new Error("Uninitalized repo"));p.push(e=>t.start(e))}i(p,h)})})},function(t,e,r){const n=r(25),i=r(80);t.exports={name:"multiaddr",language:{invalid:"{{message}}",fmt:"must be in {{fmt}} format"},pre(t,e,r){if(null==t)return this.createError("multiaddr.invalid",{v:t,message:"addr must be a string, Buffer, or another Multiaddr"},e,r);let i;try{i=n(t)}catch(n){return this.createError("multiaddr.invalid",{v:t,message:n.message},e,r)}return r.convert?i:t},rules:Object.keys(i).map(t=>({name:t,validate(e,r,n,o){return i[t].matches(r)?r:this.createError("multiaddr.fmt",{v:r,fmt:t},n,o)}}))}},function(t,e,r){var n;n=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.i=function(t){return t},r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=29)}([function(t,e,r){"use strict";(function(t,n){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(14),s=r(34),a=r(38),u=r(15),c={};e.clone=function(r,n){if("object"!==(void 0===r?"undefined":i(r))||null===r)return r;var o=(n=n||new Map).get(r);if(o)return o;var s=void 0,a=!1;if(Array.isArray(r))s=[],a=!0;else if(t.isBuffer(r))s=new t(r);else if(r instanceof Date)s=new Date(r.getTime());else if(r instanceof RegExp)s=new RegExp(r);else{var u=Object.getPrototypeOf(r);u&&u.isImmutable?s=r:(s=Object.create(u),a=!0)}if(n.set(r,s),a)for(var c=Object.getOwnPropertyNames(r),f=0;f<c.length;++f){var l=c[f],h=Object.getOwnPropertyDescriptor(r,l);h&&(h.get||h.set)?Object.defineProperty(s,l,h):s[l]=e.clone(r[l],n)}return s},e.merge=function(r,n,o,s){if(e.assert(r&&"object"===(void 0===r?"undefined":i(r)),"Invalid target value: must be an object"),e.assert(null===n||void 0===n||"object"===(void 0===n?"undefined":i(n)),"Invalid source value: must be null, undefined, or an object"),!n)return r;if(Array.isArray(n)){e.assert(Array.isArray(r),"Cannot merge array onto an object"),!1===s&&(r.length=0);for(var a=0;a<n.length;++a)r.push(e.clone(n[a]));return r}for(var u=Object.keys(n),c=0;c<u.length;++c){var f=u[c],l=n[f];l&&"object"===(void 0===l?"undefined":i(l))?!r[f]||"object"!==i(r[f])||Array.isArray(r[f])!==Array.isArray(l)||l instanceof Date||t.isBuffer(l)||l instanceof RegExp?r[f]=e.clone(l):e.merge(r[f],l,o,s):null!==l&&void 0!==l?r[f]=l:!1!==o&&(r[f]=l)}return r},e.applyToDefaults=function(t,r,n){if(e.assert(t&&"object"===(void 0===t?"undefined":i(t)),"Invalid defaults value: must be an object"),e.assert(!r||!0===r||"object"===(void 0===r?"undefined":i(r)),"Invalid options value: must be true, falsy or an object"),!r)return null;var o=e.clone(t);return!0===r?o:e.merge(o,r,!0===n,!1)},e.cloneWithShallow=function(t,r){if(!t||"object"!==(void 0===t?"undefined":i(t)))return t;var n=c.store(t,r),o=e.clone(t);return c.restore(o,t,n),o},c.store=function(t,r){for(var n={},i=0;i<r.length;++i){var o=r[i],s=e.reach(t,o);void 0!==s&&(n[o]=s,c.reachSet(t,o,void 0))}return n},c.restore=function(t,e,r){for(var n=Object.keys(r),i=0;i<n.length;++i){var o=n[i];c.reachSet(t,o,r[o]),c.reachSet(e,o,r[o])}},c.reachSet=function(t,e,r){for(var n=e.split("."),i=t,o=0;o<n.length;++o){var s=n[o];o+1===n.length&&(i[s]=r),i=i[s]}},e.applyToDefaultsWithShallow=function(t,r,n){if(e.assert(t&&"object"===(void 0===t?"undefined":i(t)),"Invalid defaults value: must be an object"),e.assert(!r||!0===r||"object"===(void 0===r?"undefined":i(r)),"Invalid options value: must be true, falsy or an object"),e.assert(n&&Array.isArray(n),"Invalid keys"),!r)return null;var o=e.cloneWithShallow(t,n);if(!0===r)return o;var s=c.store(r,n);return e.merge(o,r,!1,!1),c.restore(o,r,s),o},e.deepEqual=function(r,n,o,s){o=o||{prototype:!0};var a=void 0===r?"undefined":i(r);if(a!==(void 0===n?"undefined":i(n)))return!1;if("object"!==a||null===r||null===n)return r===n?0!==r||1/r==1/n:r!=r&&n!=n;if(-1!==(s=s||[]).indexOf(r))return!0;if(s.push(r),Array.isArray(r)){if(!Array.isArray(n))return!1;if(!o.part&&r.length!==n.length)return!1;for(var u=0;u<r.length;++u){if(o.part){for(var c=!1,f=0;f<n.length;++f)if(e.deepEqual(r[u],n[f],o)){c=!0;break}return c}if(!e.deepEqual(r[u],n[u],o))return!1}return!0}if(t.isBuffer(r)){if(!t.isBuffer(n))return!1;if(r.length!==n.length)return!1;for(var l=0;l<r.length;++l)if(r[l]!==n[l])return!1;return!0}if(r instanceof Date)return n instanceof Date&&r.getTime()===n.getTime();if(r instanceof RegExp)return n instanceof RegExp&&r.toString()===n.toString();if(o.prototype&&Object.getPrototypeOf(r)!==Object.getPrototypeOf(n))return!1;var h=Object.getOwnPropertyNames(r);if(!o.part&&h.length!==Object.getOwnPropertyNames(n).length)return!1;for(var p=0;p<h.length;++p){var d=h[p],m=Object.getOwnPropertyDescriptor(r,d);if(m.get){if(!e.deepEqual(m,Object.getOwnPropertyDescriptor(n,d),o,s))return!1}else if(!e.deepEqual(r[d],n[d],o,s))return!1}return!0},e.unique=function(t,e){var r=void 0;if(e){r=[];var n=new Set;t.forEach(function(t){var i=t[e];n.has(i)||(n.add(i),r.push(t))})}else r=Array.from(new Set(t));return r},e.mapToObject=function(t,e){if(!t)return null;for(var r={},n=0;n<t.length;++n)e?t[n][e]&&(r[t[n][e]]=!0):r[t[n]]=!0;return r},e.intersect=function(t,r,n){if(!t||!r)return[];for(var i=[],o=Array.isArray(t)?e.mapToObject(t):t,s={},a=0;a<r.length;++a)if(o[r[a]]&&!s[r[a]]){if(n)return r[a];i.push(r[a]),s[r[a]]=!0}return n?null:i},e.contain=function(t,r,n){var o=null;"object"!==(void 0===t?"undefined":i(t))||"object"!==(void 0===r?"undefined":i(r))||Array.isArray(t)||Array.isArray(r)?r=[].concat(r):(o=r,r=Object.keys(r)),n=n||{},e.assert("string"==typeof t||"object"===(void 0===t?"undefined":i(t)),"Reference must be string or an object"),e.assert(r.length,"Values array cannot be empty");var s=void 0,a=void 0;if(n.deep){s=e.deepEqual;var u=n.hasOwnProperty("only"),c=n.hasOwnProperty("part");a={prototype:u?n.only:!!c&&!n.part,part:u?!n.only:!c||n.part}}else s=function(t,e){return t===e};for(var f=!1,l=new Array(r.length),h=0;h<l.length;++h)l[h]=0;if("string"==typeof t){for(var p="(",d=0;d<r.length;++d){var m=r[d];e.assert("string"==typeof m,"Cannot compare string reference to non-string value"),p+=(d?"|":"")+e.escapeRegex(m)}var g=new RegExp(p+")","g");f=!!t.replace(g,function(t,e){var n=r.indexOf(e);return++l[n],""})}else if(Array.isArray(t))for(var v=0;v<t.length;++v){for(var y=!1,b=0;b<r.length&&!1===y;++b)y=s(r[b],t[v],a)&&b;!1!==y?++l[y]:f=!0}else for(var w=Object.getOwnPropertyNames(t),_=0;_<w.length;++_){var k=w[_],S=r.indexOf(k);if(-1!==S){if(o&&!s(o[k],t[k],a))return!1;++l[S]}else f=!0}for(var x=!1,E=0;E<l.length;++E)if(x=x||!!l[E],n.once&&l[E]>1||!n.part&&!l[E])return!1;return(!n.only||!f)&&x},e.flatten=function(t,r){for(var n=r||[],i=0;i<t.length;++i)Array.isArray(t[i])?e.flatten(t[i],n):n.push(t[i]);return n},e.reach=function(t,r,n){if(!1===r||null===r||void 0===r)return t;"string"==typeof(n=n||{})&&(n={separator:n});for(var o=r.split(n.separator||"."),s=t,a=0;a<o.length;++a){var u=o[a];if("-"===u[0]&&Array.isArray(s)&&(u=u.slice(1,u.length),u=s.length-u),!s||"object"!==(void 0===s?"undefined":i(s))&&"function"!=typeof s||!(u in s)||"object"!==(void 0===s?"undefined":i(s))&&!1===n.functions){e.assert(!n.strict||a+1===o.length,"Missing segment",u,"in reach path ",r),e.assert("object"===(void 0===s?"undefined":i(s))||!0===n.functions||"function"!=typeof s,"Invalid segment",u,"in reach path ",r),s=n.default;break}s=s[u]}return s},e.reachTemplate=function(t,r,n){return r.replace(/{([^}]+)}/g,function(r,i){var o=e.reach(t,i,n);return void 0===o||null===o?"":o})},e.formatStack=function(t){for(var e=[],r=0;r<t.length;++r){var n=t[r];e.push([n.getFileName(),n.getLineNumber(),n.getColumnNumber(),n.getFunctionName(),n.isConstructor()])}return e},e.formatTrace=function(t){for(var e=[],r=0;r<t.length;++r){var n=t[r];e.push((n[4]?"new ":"")+n[3]+" ("+n[0]+":"+n[1]+":"+n[2]+")")}return e},e.callStack=function(t){var r=Error.prepareStackTrace;Error.prepareStackTrace=function(t,e){return e};var n={};Error.captureStackTrace(n,this);var i=n.stack;return Error.prepareStackTrace=r,e.formatStack(i).slice(1+t)},e.displayStack=function(t){var r=e.callStack(void 0===t?1:t+1);return e.formatTrace(r)},e.abortThrow=!1,e.abort=function(t,r){if("test"===n.env.NODE_ENV||!0===e.abortThrow)throw new Error(t||"Unknown error");var i="";r||(i=e.displayStack(1).join("\n\t")),console.log("ABORT: "+t+"\n\t"+i),n.exit(1)},e.assert=function(t){if(!t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(1===n.length&&n[0]instanceof Error)throw n[0];var o=n.filter(function(t){return""!==t}).map(function(t){return"string"==typeof t?t:t instanceof Error?t.message:e.stringify(t)});throw new Error(o.join(" ")||"Unknown error")}},e.Bench=function(){this.ts=0,this.reset()},e.Bench.prototype.reset=function(){this.ts=e.Bench.now()},e.Bench.prototype.elapsed=function(){return e.Bench.now()-this.ts},e.Bench.now=function(){var t=n.hrtime();return 1e3*t[0]+t[1]/1e6},e.escapeRegex=function(t){return t.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")},e.base64urlEncode=function(r,n){return e.assert("string"==typeof r||t.isBuffer(r),"value must be string or buffer"),(t.isBuffer(r)?r:new t(r,n||"binary")).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")},e.base64urlDecode=function(e,r){if("string"!=typeof e)throw new Error("Value not a string");if(!/^[\w\-]*$/.test(e))throw new Error("Invalid character");var n=new t(e,"base64");return"buffer"===r?n:n.toString(r||"binary")},e.escapeHeaderAttribute=function(t){return e.assert(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(t),"Bad attribute value ("+t+")"),t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},e.escapeHtml=function(t){return u.escapeHtml(t)},e.escapeJavaScript=function(t){return u.escapeJavaScript(t)},e.escapeJson=function(t){return u.escapeJson(t)},e.once=function(t){if(t._hoekOnce)return t;var e=!1,r=function(){if(!e){e=!0;for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(null,n)}};return r._hoekOnce=!0,r},e.isInteger=Number.isSafeInteger,e.ignore=function(){},e.inherits=a.inherits,e.format=a.format,e.transform=function(t,r,n){e.assert(null===t||void 0===t||"object"===(void 0===t?"undefined":i(t))||Array.isArray(t),"Invalid source object: must be null, undefined, an object, or an array");var o="object"===(void 0===n?"undefined":i(n))&&null!==n&&n.separator||".";if(Array.isArray(t)){for(var s=[],a=0;a<t.length;++a)s.push(e.transform(t[a],r,n));return s}for(var u={},c=Object.keys(r),f=0;f<c.length;++f){var l=c[f],h=l.split(o),p=r[l];e.assert("string"==typeof p,'All mappings must be "." delineated strings');for(var d=void 0,m=u;h.length>1;)m[d=h.shift()]||(m[d]={}),m=m[d];m[d=h.shift()]=e.reach(t,p,n)}return u},e.uniqueFilename=function(t,e){e=e?"."!==e[0]?"."+e:e:"",t=s.resolve(t);var r=[Date.now(),n.pid,o.randomBytes(8).toString("hex")].join("-")+e;return s.join(t,r)},e.stringify=function(){try{for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return JSON.stringify.apply(null,e)}catch(t){return"[Cannot display object: "+t.message+"]"}},e.shallow=function(t){for(var e={},r=Object.keys(t),n=0;n<r.length;++n){var i=r[n];e[i]=t[i]}return e},e.wait=function(t){return new Promise(function(e){return setTimeout(e,t)})},e.block=function(){return new Promise(e.ignore)}}).call(e,r(3).Buffer,r(5))},function(t,e,r){"use strict";var n=r(0);e.create=function(t,e){n.assert("string"==typeof t,"Invalid reference key:",t);var r=n.clone(e),i=function t(e,i){return n.reach(t.isContext?i.context:e,t.key,r)};return i.isContext=t[0]===(r&&r.contextPrefix||"$"),i.key=i.isContext?t.slice(1):t,i.path=i.key.split(r&&r.separator||"."),i.depth=i.path.length,i.root=i.path[0],i.isJoi=!0,i.toString=function(){return(i.isContext?"context:":"ref:")+i.key},i},e.isRef=function(t){return"function"==typeof t&&t.isJoi},e.push=function(t,r){e.isRef(r)&&!r.isContext&&t.push(r.root)}},function(t,e,r){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var s=r(0),a=r(1),u=r(6),c=null,f=null,l={Set:r(9),defaults:{abortEarly:!0,convert:!0,allowUnknown:!1,skipFunctions:!1,stripUnknown:!1,language:{},presence:"optional",strip:!1,noDefaults:!1,escapeHtml:!1}};t.exports=l.Any=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),f=f||r(4),this.isJoi=!0,this._type="any",this._settings=null,this._valids=new l.Set,this._invalids=new l.Set,this._tests=[],this._refs=[],this._flags={},this._description=null,this._unit=null,this._notes=[],this._tags=[],this._examples=[],this._meta=[],this._inner={}}return t.prototype.createError=function(t,e,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this._flags;return u.create(t,e,r,n,i)},t.prototype.createOverrideError=function(t,e,r,n,i,o){return u.create(t,e,r,n,this._flags,i,o)},t.prototype.checkOptions=function(t){var e=r(18).options.validate(t);if(e.error)throw new Error(e.error.details[0].message)},t.prototype.clone=function(){var t=Object.create(Object.getPrototypeOf(this));t.isJoi=!0,t._currentJoi=this._currentJoi,t._type=this._type,t._settings=l.concatSettings(this._settings),t._baseType=this._baseType,t._valids=s.clone(this._valids),t._invalids=s.clone(this._invalids),t._tests=this._tests.slice(),t._refs=this._refs.slice(),t._flags=s.clone(this._flags),t._description=this._description,t._unit=this._unit,t._notes=this._notes.slice(),t._tags=this._tags.slice(),t._examples=this._examples.slice(),t._meta=this._meta.slice(),t._inner={};for(var e=Object.keys(this._inner),r=0;r<e.length;++r){var n=e[r];t._inner[n]=this._inner[n]?this._inner[n].slice():null}return t},t.prototype.concat=function(t){s.assert(t instanceof l.Any,"Invalid schema object"),s.assert("any"===this._type||"any"===t._type||t._type===this._type,"Cannot merge type",this._type,"with another type:",t._type);var e=this.clone();if("any"===this._type&&"any"!==t._type){for(var r=t.clone(),n=["_settings","_valids","_invalids","_tests","_refs","_flags","_description","_unit","_notes","_tags","_examples","_meta","_inner"],i=0;i<n.length;++i)r[n[i]]=e[n[i]];e=r}e._settings=e._settings?l.concatSettings(e._settings,t._settings):t._settings,e._valids.merge(t._valids,t._invalids),e._invalids.merge(t._invalids,t._valids),e._tests=e._tests.concat(t._tests),e._refs=e._refs.concat(t._refs),s.merge(e._flags,t._flags),e._description=t._description||e._description,e._unit=t._unit||e._unit,e._notes=e._notes.concat(t._notes),e._tags=e._tags.concat(t._tags),e._examples=e._examples.concat(t._examples),e._meta=e._meta.concat(t._meta);for(var o=Object.keys(t._inner),a="object"===e._type,u=0;u<o.length;++u){var c=o[u],f=t._inner[c];if(f){var h=e._inner[c];if(h)if(a&&"children"===c){for(var p={},d=0;d<h.length;++d)p[h[d].key]=d;for(var m=0;m<f.length;++m){var g=f[m].key;p[g]>=0?h[p[g]]={key:g,schema:h[p[g]].schema.concat(f[m].schema)}:h.push(f[m])}}else e._inner[c]=e._inner[c].concat(f);else e._inner[c]=f.slice()}}return e},t.prototype._test=function(t,e,r,n){var i=this.clone();return i._tests.push({func:r,name:t,arg:e,options:n}),i},t.prototype.options=function(t){s.assert(!t.context,"Cannot override context"),this.checkOptions(t);var e=this.clone();return e._settings=l.concatSettings(e._settings,t),e},t.prototype.strict=function(t){var e=this.clone();return e._settings=e._settings||{},e._settings.convert=void 0!==t&&!t,e},t.prototype.raw=function(t){var e=void 0===t||t;if(this._flags.raw===e)return this;var r=this.clone();return r._flags.raw=e,r},t.prototype.error=function(t){s.assert(t&&(t instanceof Error||"function"==typeof t),"Must provide a valid Error object or a function");var e=this.clone();return e._flags.error=t,e},t.prototype.allow=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=this.clone();e=s.flatten(e);for(var i=0;i<e.length;++i){var o=e[i];s.assert(void 0!==o,"Cannot call allow/valid/invalid with undefined"),n._invalids.remove(o),n._valids.add(o,n._refs)}return n},t.prototype.valid=function(){var t=this.allow.apply(this,arguments);return t._flags.allowOnly=!0,t},t.prototype.invalid=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=this.clone();e=s.flatten(e);for(var i=0;i<e.length;++i){var o=e[i];s.assert(void 0!==o,"Cannot call allow/valid/invalid with undefined"),n._valids.remove(o),n._invalids.add(o,n._refs)}return n},t.prototype.required=function(){if("required"===this._flags.presence)return this;var t=this.clone();return t._flags.presence="required",t},t.prototype.optional=function(){if("optional"===this._flags.presence)return this;var t=this.clone();return t._flags.presence="optional",t},t.prototype.forbidden=function(){if("forbidden"===this._flags.presence)return this;var t=this.clone();return t._flags.presence="forbidden",t},t.prototype.strip=function(){if(this._flags.strip)return this;var t=this.clone();return t._flags.strip=!0,t},t.prototype.applyFunctionToChildren=function(t,e,r,n){if(1!==(t=[].concat(t)).length||""!==t[0]){n=n?n+".":"";var i=(""===t[0]?t.slice(1):t).map(function(t){return n+t});throw new Error("unknown key(s) "+i.join(", "))}return this[e].apply(this,r)},t.prototype.default=function(t,e){"function"!=typeof t||a.isRef(t)||(!t.description&&e&&(t.description=e),this._flags.func||s.assert("string"==typeof t.description&&t.description.length>0,"description must be provided when default value is a function"));var r=this.clone();return r._flags.default=t,a.push(r._refs,t),r},t.prototype.empty=function(t){var e=this.clone();return void 0===t?delete e._flags.empty:e._flags.empty=f.schema(this._currentJoi,t),e},t.prototype.when=function(t,e){s.assert(e&&"object"===(void 0===e?"undefined":i(e)),"Invalid options"),s.assert(void 0!==e.then||void 0!==e.otherwise,'options must have at least one of "then" or "otherwise"');var n=e.hasOwnProperty("then")?this.concat(f.schema(this._currentJoi,e.then)):void 0,o=e.hasOwnProperty("otherwise")?this.concat(f.schema(this._currentJoi,e.otherwise)):void 0;c=c||r(10);var a={then:n,otherwise:o};Object.prototype.hasOwnProperty.call(e,"is")&&(a.is=e.is);var u=c.when(t,a);return u._flags.presence="ignore",u._baseType=this,u},t.prototype.description=function(t){s.assert(t&&"string"==typeof t,"Description must be a non-empty string");var e=this.clone();return e._description=t,e},t.prototype.notes=function(t){s.assert(t&&("string"==typeof t||Array.isArray(t)),"Notes must be a non-empty string or array");var e=this.clone();return e._notes=e._notes.concat(t),e},t.prototype.tags=function(t){s.assert(t&&("string"==typeof t||Array.isArray(t)),"Tags must be a non-empty string or array");var e=this.clone();return e._tags=e._tags.concat(t),e},t.prototype.meta=function(t){s.assert(void 0!==t,"Meta cannot be undefined");var e=this.clone();return e._meta=e._meta.concat(t),e},t.prototype.example=function(){s.assert(1===arguments.length,"Missing example");var t=arguments.length<=0?void 0:arguments[0],e=this._validate(t,null,l.defaults);s.assert(!e.errors,"Bad example:",e.errors&&u.process(e.errors,t));var r=this.clone();return r._examples.push(t),r},t.prototype.unit=function(t){s.assert(t&&"string"==typeof t,"Unit name must be a non-empty string");var e=this.clone();return e._unit=t,e},t.prototype._prepareEmptyValue=function(t){return"string"==typeof t&&this._flags.trim?t.trim():t},t.prototype._validate=function(t,e,r,n){var i=this,o=t;e=e||{key:"",path:[],parent:null,reference:n},this._settings&&(r=l.concatSettings(r,this._settings));var c=[],f=function(){var n=void 0;if(void 0!==t)n=i._flags.raw?o:t;else if(r.noDefaults)n=t;else if(a.isRef(i._flags.default))n=i._flags.default(e.parent,r);else if("function"!=typeof i._flags.default||i._flags.func&&!i._flags.default.description)n=s.clone(i._flags.default);else{var u=void 0;null!==e.parent&&i._flags.default.length>0&&(u=[s.clone(e.parent),r]);var f=l._try(i._flags.default,u);n=f.value,f.error&&c.push(i.createError("any.default",{error:f.error},e,r))}if(c.length&&"function"==typeof i._flags.error){var h=i._flags.error.call(i,c);c="string"==typeof h?[i.createOverrideError("override",{reason:c},e,r,h)]:[].concat(h).map(function(t){return t instanceof Error?t:i.createOverrideError(t.type||"override",t.context,e,r,t.message,t.template)})}return{value:i._flags.strip?void 0:n,finalValue:n,errors:c.length?c:null}};if(this._coerce){var h=this._coerce.call(this,t,e,r);if(h.errors)return t=h.value,c=c.concat(h.errors),f();t=h.value}this._flags.empty&&!this._flags.empty._validate(this._prepareEmptyValue(t),null,l.defaults).errors&&(t=void 0);var p=this._flags.presence||r.presence;if("optional"===p){if(void 0===t){if(!(this._flags.hasOwnProperty("default")&&void 0===this._flags.default)||"object"!==this._type)return f();t={}}}else{if("required"===p&&void 0===t)return c.push(this.createError("any.required",null,e,r)),f();if("forbidden"===p)return void 0===t?f():(c.push(this.createError("any.unknown",null,e,r)),f())}if(this._valids.has(t,e,r,this._flags.insensitive))return f();if(this._invalids.has(t,e,r,this._flags.insensitive)&&(c.push(this.createError(""===t?"any.empty":"any.invalid",null,e,r)),r.abortEarly||void 0===t))return f();if(this._base){var d=this._base.call(this,t,e,r);if(d.errors)return t=d.value,c=c.concat(d.errors),f();if(d.value!==t){if(t=d.value,this._valids.has(t,e,r,this._flags.insensitive))return f();if(this._invalids.has(t,e,r,this._flags.insensitive)&&(c.push(this.createError(""===t?"any.empty":"any.invalid",null,e,r)),r.abortEarly))return f()}}if(this._flags.allowOnly&&(c.push(this.createError("any.allowOnly",{valids:this._valids.values({stripUndefined:!0})},e,r)),r.abortEarly))return f();for(var m=0;m<this._tests.length;++m){var g=this._tests[m].func.call(this,t,e,r);if(g instanceof u.Err){if(c.push(g),r.abortEarly)return f()}else t=g}return f()},t.prototype._validateWithOptions=function(t,e,r){e&&this.checkOptions(e);var n=l.concatSettings(l.defaults,e),i=this._validate(t,null,n),o=u.process(i.errors,t);return r?r(o,i.value):{error:o,value:i.value,then:function(t,e){return o?Promise.reject(o).catch(e):Promise.resolve(i.value).then(t)},catch:function(t){return o?Promise.reject(o).catch(t):Promise.resolve(i.value)}}},t.prototype.validate=function(t,e,r){return"function"==typeof e?this._validateWithOptions(t,null,e):this._validateWithOptions(t,e,r)},t.prototype.describe=function(){var t=this,e={type:this._type},r=Object.keys(this._flags);if(r.length)if(["empty","default","lazy","label"].some(function(e){return t._flags.hasOwnProperty(e)})){e.flags={};for(var n=0;n<r.length;++n){var i=r[n];"empty"===i?e.flags[i]=this._flags[i].describe():"default"===i?a.isRef(this._flags[i])?e.flags[i]=this._flags[i].toString():"function"==typeof this._flags[i]?e.flags[i]={description:this._flags[i].description,function:this._flags[i]}:e.flags[i]=this._flags[i]:"lazy"===i||"label"===i||(e.flags[i]=this._flags[i])}}else e.flags=this._flags;this._settings&&(e.options=s.clone(this._settings)),this._baseType&&(e.base=this._baseType.describe()),this._description&&(e.description=this._description),this._notes.length&&(e.notes=this._notes),this._tags.length&&(e.tags=this._tags),this._meta.length&&(e.meta=this._meta),this._examples.length&&(e.examples=this._examples),this._unit&&(e.unit=this._unit);var o=this._valids.values();o.length&&(e.valids=o.map(function(t){return a.isRef(t)?t.toString():t}));var u=this._invalids.values();u.length&&(e.invalids=u.map(function(t){return a.isRef(t)?t.toString():t})),e.rules=[];for(var c=0;c<this._tests.length;++c){var f=this._tests[c],l={name:f.name};void 0!==f.arg&&(l.arg=a.isRef(f.arg)?f.arg.toString():f.arg);var h=f.options;if(h){if(h.hasRef){l.arg={};for(var p=Object.keys(f.arg),d=0;d<p.length;++d){var m=p[d],g=f.arg[m];l.arg[m]=a.isRef(g)?g.toString():g}}"string"==typeof h.description?l.description=h.description:"function"==typeof h.description&&(l.description=h.description(l.arg))}e.rules.push(l)}e.rules.length||delete e.rules;var v=this._getLabel();return v&&(e.label=v),e},t.prototype.label=function(t){s.assert(t&&"string"==typeof t,"Label name must be a non-empty string");var e=this.clone();return e._flags.label=t,e},t.prototype._getLabel=function(t){return this._flags.label||t},o(t,[{key:"schemaType",get:function(){return this._type}}]),t}(),l.Any.prototype.isImmutable=!0,l.Any.prototype.only=l.Any.prototype.equal=l.Any.prototype.valid,l.Any.prototype.disallow=l.Any.prototype.not=l.Any.prototype.invalid,l.Any.prototype.exist=l.Any.prototype.required,l._try=function(t,e){var r=void 0,n=void 0;try{n=t.apply(null,e)}catch(t){r=t}return{value:n,error:r}},l.concatSettings=function(t,e){if(!t&&!e)return null;var r=n({},t);if(e)for(var i=Object.keys(e),o=0;o<i.length;++o){var a=i[o];"language"===a&&r.hasOwnProperty(a)?r[a]=s.applyToDefaults(r[a],e[a]):r[a]=e[a]}return r}},function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(30),i=r(31),o=r(32);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return c(this,t,e,r)}function c(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(e,r),i=(t=a(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(u.isBuffer(e)){var r=0|p(e.length);return 0===(t=a(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?a(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(f(e),t=a(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function h(t,e){var r=e.length<0?0:0|p(e.length);t=a(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(t).length;default:if(n)return U(t).length;e=(""+e).toLowerCase(),n=!0}}function m(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function g(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:v(t,e,r,n,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,r,n,i){var o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var f=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var l=!0,h=0;h<u;h++)if(c(t,o+h)!==c(e,h)){l=!1;break}if(l)return o}return-1}function y(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[r+s]=a}return s}function b(t,e,r,n){return H(U(e,t.length-r),t,r,n)}function w(t,e,r,n){return H(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function _(t,e,r,n){return w(t,e,r,n)}function k(t,e,r,n){return H(z(e),t,r,n)}function S(t,e,r,n){return H(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function x(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function E(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,u,c=t[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=C));return r}(n)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return c(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,r){return function(t,e,r,n){return f(e),e<=0?a(t,e):void 0!==r?"string"==typeof n?a(t,e).fill(r,n):a(t,e).fill(r):a(t,e)}(null,t,e,r)},u.allocUnsafe=function(t){return l(null,t)},u.allocUnsafeSlow=function(t){return l(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,r);case"utf8":case"utf-8":return E(this,e,r);case"ascii":return A(this,e,r);case"latin1":case"binary":return M(this,e,r);case"base64":return x(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,r,n,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var o=i-n,s=r-e,a=Math.min(o,s),c=this.slice(n,i),f=t.slice(e,r),l=0;l<a;++l)if(c[l]!==f[l]){o=c[l],s=f[l];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return y(this,t,e,r);case"utf8":case"utf-8":return b(this,t,e,r);case"ascii":return w(this,t,e,r);case"latin1":case"binary":return _(this,t,e,r);case"base64":return k(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function A(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function M(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function I(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=D(t[o]);return i}function T(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function O(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function B(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function P(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function N(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function R(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(t,e,r,n,o){return o||R(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function j(t,e,r,n,o){return o||R(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},u.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||O(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||O(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUInt8=function(t,e){return e||O(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||O(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||O(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||O(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||O(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||O(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){e||O(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||O(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||O(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||O(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||O(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||B(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||B(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):N(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);B(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);B(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):N(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||B(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,r){return F(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return F(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return j(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return j(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=u.isBuffer(t)?t:U(new u(t,n).toString()),a=s.length;for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function D(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function z(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(L,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(e,r(7))},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(0),o=r(1);e.schema=function(t,e){return void 0!==e&&null!==e&&"object"===(void 0===e?"undefined":n(e))?e.isJoi?e:Array.isArray(e)?t.alternatives().try(e):e instanceof RegExp?t.string().regex(e):e instanceof Date?t.date().valid(e):t.object().keys(e):"string"==typeof e?t.string().valid(e):"number"==typeof e?t.number().valid(e):"boolean"==typeof e?t.boolean().valid(e):o.isRef(e)?t.valid(e):(i.assert(null===e,"Invalid schema content:",e),t.valid(null))},e.ref=function(t){return o.isRef(t)?t:o.create(t)}},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,c=[],f=!1,l=-1;function h(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&p())}function p(){if(!f){var t=a(h);f=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,f=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||f||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=r(0),o=r(17),s={annotations:Symbol("joi-annotations"),stringify:function(t,r){var i=void 0===t?"undefined":n(t);if(null===t)return"null";if("string"===i)return t;if(t instanceof e.Err||"function"===i||"symbol"===i)return t.toString();if("object"===i){if(Array.isArray(t)){for(var o="",a=0;a<t.length;++a)o=o+(o.length?", ":"")+s.stringify(t[a],r);return r?"["+o+"]":o}return t.toString()}return JSON.stringify(t)}};e.Err=function(){function t(e,r,n,i,s,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.isJoi=!0,this.type=e,this.context=r||{},this.context.key=n.path[n.path.length-1],this.context.label=n.key,this.path=n.path,this.options=i,this.flags=s,this.message=a,this.template=u;var c=this.options.language;this.flags.label?this.context.label=this.flags.label:!c||""!==this.context.label&&null!==this.context.label||(this.context.label=c.root||o.errors.root)}return t.prototype.toString=function(){var t=this;if(this.message)return this.message;var e=void 0;this.template&&(e=this.template);var r=this.options.language;if(void 0===(e=e||i.reach(r,this.type)||i.reach(o.errors,this.type)))return'Error code "'+this.type+'" is not defined, your custom type is missing the correct language definition';var n=i.reach(r,"messages.wrapArrays");if("boolean"!=typeof n&&(n=o.errors.messages.wrapArrays),null===e){var a=s.stringify(this.context.reason,n);return n?a.slice(1,-1):a}var u=/\{\{\!?label\}\}/.test(e),c=e.length>2&&"!"===e[0]&&"!"===e[1];if(c&&(e=e.slice(2)),!u&&!c){var f=i.reach(r,"key");e="string"==typeof f?f+e:i.reach(o.errors,"key")+e}return e.replace(/\{\{(\!?)([^}]+)\}\}/g,function(e,r,o){var a=i.reach(t.context,o),u=s.stringify(a,n);return r&&t.options.escapeHtml?i.escapeHtml(u):u})},t}(),e.create=function(t,r,n,i,o,s,a){return new e.Err(t,r,n,i,o,s,a)},e.process=function(t,e){if(!t||!t.length)return null;var r="",n=[],i=function t(e,i){for(var o=0;o<e.length;++o){var s=e[o];if(s instanceof Error)return s;if(s.flags.error&&"function"!=typeof s.flags.error)return s.flags.error;var a=void 0;if(void 0===i&&(a=s.toString(),r=r+(r?". ":"")+a),s.context.reason&&s.context.reason.length){var u=t(s.context.reason,s.path);if(u)return u}else n.push({message:a||s.toString(),path:s.path,type:s.type,context:s.context})}}(t);if(i)return i;var o=new Error(r);return o.isJoi=!0,o.name="ValidationError",o.details=n,o._object=e,o.annotate=s.annotate,o},s.safeStringify=function(t,e){return JSON.stringify(t,s.serializer(),e)},s.serializer=function(){var t=[],e=[];return function(r,i){if(e.length>0){var o=e.indexOf(this);~o?(e.length=o+1,t.length=o+1,t[o]=r):(e.push(this),t.push(r)),~e.indexOf(i)&&(i=function(r,n){return e[0]===n?"[Circular ~]":"[Circular ~."+t.slice(0,e.indexOf(n)).join(".")+"]"}.call(this,r,i))}else e.push(i);if(i){var a=i[s.annotations];if(a){if(Array.isArray(i)){for(var u=[],c=0;c<i.length;++c)a.errors[c]&&u.push("_$idx$_"+a.errors[c].sort().join(", ")+"_$end$_"),u.push(i[c]);i=u}else{for(var f=Object.keys(a.errors),l=0;l<f.length;++l){var h=f[l];i[h+"_$key$_"+a.errors[h].sort().join(", ")+"_$end$_"]=i[h],i[h]=void 0}for(var p=Object.keys(a.missing),d=0;d<p.length;++d){var m=p[d];i["_$miss$_"+m+"|"+a.missing[m]+"_$end$_"]="__missing__"}}return i}}return i===1/0||i===-1/0||Number.isNaN(i)||"function"==typeof i||"symbol"===(void 0===i?"undefined":n(i))?"["+i.toString()+"]":i}},s.annotate=function(t){var e=t?"":"[31m",r=t?"":"[41m",o=t?"":"[0m";if("object"!==n(this._object))return this.details[0].message;for(var a=i.clone(this._object||{}),u=this.details.length-1;u>=0;--u)for(var c=u+1,f=this.details[u],l=f.path,h=a,p=0;;++p){var d=l[p];if(h.isImmutable&&(h=h.clone()),!(p+1<l.length&&h[d]&&"string"!=typeof h[d])){var m=h[s.annotations]=h[s.annotations]||{errors:{},missing:{}},g=h[d],v=d||f.context.label;void 0!==g?(m.errors[v]=m.errors[v]||[],m.errors[v].push(c)):m.missing[v]=c;break}h=h[d]}var y=/_\$key\$_([, \d]+)_\$end\$_\"/g,b=/\"_\$miss\$_([^\|]+)\|(\d+)_\$end\$_\"\: \"__missing__\"/g,w=/\s*\"_\$idx\$_([, \d]+)_\$end\$_\",?\n(.*)/g,_=/"\[(NaN|Symbol.*|-?Infinity|function.*|\(.*)\]"/g,k=s.safeStringify(a,2).replace(y,function(t,r){return'" '+e+"["+r+"]"+o}).replace(b,function(t,n,i){return r+'"'+n+'"'+o+e+" ["+i+"]: -- missing --"+o}).replace(w,function(t,r,n){return"\n"+n+" "+e+"["+r+"]"+o}).replace(_,function(t,e){return e});k=k+"\n"+e;for(var S=0;S<this.details.length;++S){k=k+"\n["+(S+1)+"] "+this.details[S].message}return k+=o}},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var o=r(0),s=r(2),a=r(4),u=r(6),c=r(23),f=r(1),l={alternatives:r(10),array:r(19),boolean:r(21),binary:r(20),date:r(11),func:r(22),number:r(24),object:r(12),string:r(25),applyDefaults:function(t){return o.assert(this,"Must be invoked on a Joi instance."),this._defaults&&(t=this._defaults(t)),t._currentJoi=this,t}};l.root=function(){var t=new s,e=t.clone();return s.prototype._currentJoi=e,e._currentJoi=e,e.any=function(){return o.assert(0===arguments.length,"Joi.any() does not allow arguments."),l.applyDefaults.call(this,t)},e.alternatives=e.alt=function(){for(var t=l.applyDefaults.call(this,l.alternatives),e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.length?t.try.apply(t,r):t},e.array=function(){return o.assert(0===arguments.length,"Joi.array() does not allow arguments."),l.applyDefaults.call(this,l.array)},e.boolean=e.bool=function(){return o.assert(0===arguments.length,"Joi.boolean() does not allow arguments."),l.applyDefaults.call(this,l.boolean)},e.binary=function(){return o.assert(0===arguments.length,"Joi.binary() does not allow arguments."),l.applyDefaults.call(this,l.binary)},e.date=function(){return o.assert(0===arguments.length,"Joi.date() does not allow arguments."),l.applyDefaults.call(this,l.date)},e.func=function(){return o.assert(0===arguments.length,"Joi.func() does not allow arguments."),l.applyDefaults.call(this,l.func)},e.number=function(){return o.assert(0===arguments.length,"Joi.number() does not allow arguments."),l.applyDefaults.call(this,l.number)},e.object=function(){var t=l.applyDefaults.call(this,l.object);return arguments.length?t.keys.apply(t,arguments):t},e.string=function(){return o.assert(0===arguments.length,"Joi.string() does not allow arguments."),l.applyDefaults.call(this,l.string)},e.ref=function(){return f.create.apply(f,arguments)},e.isRef=function(t){return f.isRef(t)},e.validate=function(r){var n,i=(n=(arguments.length<=1?0:arguments.length-1)-1+1,arguments.length<=n?void 0:arguments[n]),o="function"==typeof i?i:null,s=(arguments.length<=1?0:arguments.length-1)-(o?1:0);if(0===s)return t.validate(r,o);var a=2===s?arguments.length<=2?void 0:arguments[2]:{};return e.compile(arguments.length<=1?void 0:arguments[1])._validateWithOptions(r,a,o)},e.describe=function(){return(arguments.length?e.compile(arguments.length<=0?void 0:arguments[0]):t).describe()},e.compile=function(t){try{return a.schema(this,t)}catch(t){throw t.hasOwnProperty("path")&&(t.message=t.message+"("+t.path+")"),t}},e.assert=function(t,r,n){e.attempt(t,r,n)},e.attempt=function(t,r,n){var i=e.validate(t,r),o=i.error;if(o){if(!n)throw"function"==typeof o.annotate&&(o.message=o.annotate()),o;if(!(n instanceof Error))throw"function"==typeof o.annotate&&(o.message=n+" "+o.annotate()),o;throw n}return i.value},e.reach=function(t,e){if(o.assert(t&&t instanceof s,"you must provide a joi schema"),o.assert("string"==typeof e,"path must be a string"),""===e)return t;var r=e.split("."),n=t._inner.children;if(n)for(var i=r[0],a=0;a<n.length;++a){var u=n[a];if(u.key===i)return this.reach(u.schema,e.substr(i.length+1))}},e.lazy=function(t){return c.set(t)},e.defaults=function(t){var e=this;o.assert("function"==typeof t,"Defaults must be a function");var r=Object.create(this.any());return r=t(r),o.assert(r&&r instanceof this.constructor,"defaults() must return a schema"),n(r,this,r.clone()),r._defaults=function(r){return e._defaults&&(r=e._defaults(r),o.assert(r instanceof e.constructor,"defaults() must return a schema")),r=t(r),o.assert(r instanceof e.constructor,"defaults() must return a schema"),r},r},e.extend=function(){for(var t=this,r=arguments.length,c=Array(r),h=0;h<r;h++)c[h]=arguments[h];var p=o.flatten(c);o.assert(p.length>0,"You need to provide at least one extension"),this.assert(p,e.extensionsSchema);var d=Object.create(this.any());n(d,this);for(var m=function(r){var c=p[r];"function"==typeof c&&(c=c(d)),t.assert(c,e.extensionSchema);var h=(c.base||t.any()).clone(),m=h.constructor,g=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r,i,s,a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return c.base&&n(a,h),a._type=c.name,c.language&&(a._settings=a._settings||{language:{}},a._settings.language=o.applyToDefaults(a._settings.language,(r={},i=c.name,s=c.language,i in r?Object.defineProperty(r,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[i]=s,r))),a}return i(e,t),e}(m);if(c.coerce&&(g.prototype._coerce=function(t,e,r){if(m.prototype._coerce){var n=m.prototype._coerce.call(this,t,e,r);if(n.errors)return n;t=n.value}var i=c.coerce.call(this,t,e,r);return i instanceof u.Err?{value:t,errors:i}:{value:i}}),c.pre&&(g.prototype._base=function(t,e,r){if(m.prototype._base){var n=m.prototype._base.call(this,t,e,r);if(n.errors)return n;t=n.value}var i=c.pre.call(this,t,e,r);return i instanceof u.Err?{value:t,errors:i}:{value:i}}),c.rules)for(var v=function(e){var r=c.rules[e],n=r.params?r.params instanceof s?r.params._inner.children.map(function(t){return t.key}):Object.keys(r.params):[],i=r.params?a.schema(t,r.params):null;g.prototype[r.name]=function(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];if(e.length>n.length)throw new Error("Unexpected number of arguments");for(var u=!1,c={},l=0;l<n.length;++l)c[n[l]]=e[l],!u&&f.isRef(e[l])&&(u=!0);i&&(c=d.attempt(c,i));var h=void 0;if(r.validate){h=this._test(r.name,c,function(t,e,n){return r.validate.call(this,c,t,e,n)},{description:r.description,hasRef:u})}else h=this.clone();if(r.setup){var p=r.setup.call(h,c);void 0!==p&&(o.assert(p instanceof s,"Setup of extension Joi."+this._type+"()."+r.name+"() must return undefined or a Joi object"),h=p)}return h}},y=0;y<c.rules.length;++y)v(y);c.describe&&(g.prototype.describe=function(){var t=m.prototype.describe.call(this);return c.describe.call(this,t)});var b=new g;d[c.name]=function(){return l.applyDefaults.call(this,b)}},g=0;g<p.length;++g)m(g);return d},e.extensionSchema=l.object.keys({base:l.object.type(s,"Joi object"),name:l.string.required(),coerce:l.func.arity(3),pre:l.func.arity(3),language:l.object,describe:l.func.arity(1),rules:l.array.items(l.object.keys({name:l.string.required(),setup:l.func.arity(1),validate:l.func.arity(4),params:[l.object.pattern(/.*/,l.object.type(s,"Joi object")),l.object.type(l.object.constructor,"Joi object")],description:[l.string,l.func.arity(1)]}).or("setup","validate"))}).strict(),e.extensionsSchema=l.array.items([l.object,l.func.arity(1)]).strict(),e.version=r(33).version,e},t.exports=l.root()},function(t,e,r){"use strict";(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=r(1);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._set=[]}return t.prototype.add=function(t,e){if(i.isRef(t)||!this.has(t,null,null,!1))return void 0!==e&&i.push(e,t),this._set.push(t),this},t.prototype.merge=function(t,e){for(var r=0;r<t._set.length;++r)this.add(t._set[r]);for(var n=0;n<e._set.length;++n)this.remove(e._set[n]);return this},t.prototype.remove=function(t){return this._set=this._set.filter(function(e){return t!==e}),this},t.prototype.has=function(t,r,o,s){for(var a=0;a<this._set.length;++a){var u=this._set[a];r&&i.isRef(u)&&(u=u(r.reference||r.parent,o)),Array.isArray(u)||(u=[u]);for(var c=0;c<u.length;++c){var f=u[c];if((void 0===t?"undefined":n(t))===(void 0===f?"undefined":n(f))&&(t===f||t instanceof Date&&f instanceof Date&&t.getTime()===f.getTime()||s&&"string"==typeof t&&t.toLowerCase()===f.toLowerCase()||e.isBuffer(t)&&e.isBuffer(f)&&t.length===f.length&&t.toString("binary")===f.toString("binary")))return!0}}return!1},t.prototype.values=function(t){if(t&&t.stripUndefined){for(var e=[],r=0;r<this._set.length;++r){var n=this._set[r];void 0!==n&&e.push(n)}return e}return this._set.slice()},t.prototype.slice=function(){var e=new t;return e._set=this._set.slice(),e},t.prototype.concat=function(e){var r=new t;return r._set=this._set.concat(e._set),r},t}()}).call(e,r(3).Buffer)},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var o=r(0),s=r(2),a=r(4),u=r(1),c={};c.Alternatives=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r._type="alternatives",r._invalids.remove(null),r._inner.matches=[],r}return i(e,t),e.prototype._base=function(t,e,r){for(var n=[],i=this._inner.matches.length,o=this._baseType,s=0;s<i;++s){var a=this._inner.matches[s];if(a.schema){var u=a.schema._validate(t,e,r);if(!u.errors)return u;n=n.concat(u.errors)}else{var c=a.peek||a.is,f=a.is?a.ref(e.reference||e.parent,r):t;if(c._validate(f,null,r,e.parent).errors){if(a.otherwise)return a.otherwise._validate(t,e,r)}else if(a.then)return a.then._validate(t,e,r);if(s===i-1&&o)return o._validate(t,e,r)}}return n.length?{errors:this.createError("alternatives.child",{reason:n},e,r)}:{errors:this.createError("alternatives.base",null,e,r)}},e.prototype.try=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];e=o.flatten(e),o.assert(e.length,"Cannot add other alternatives without at least one schema");for(var n=this.clone(),i=0;i<e.length;++i){var s=a.schema(this._currentJoi,e[i]);s._refs.length&&(n._refs=n._refs.concat(s._refs)),n._inner.matches.push({schema:s})}return n},e.prototype.when=function(t,e){var r=!1;o.assert(u.isRef(t)||"string"==typeof t||(r=t instanceof s),"Invalid condition:",t),o.assert(e,"Missing options"),o.assert("object"===(void 0===e?"undefined":n(e)),"Invalid options"),r?o.assert(!e.hasOwnProperty("is"),'"is" can not be used with a schema condition'):o.assert(e.hasOwnProperty("is"),'Missing "is" directive'),o.assert(void 0!==e.then||void 0!==e.otherwise,'options must have at least one of "then" or "otherwise"');var i=this.clone(),c=void 0;r||(c=a.schema(this._currentJoi,e.is),null!==e.is&&(u.isRef(e.is)||e.is instanceof s)||(c=c.required()));var f={ref:r?null:a.ref(t),peek:r?t:null,is:c,then:void 0!==e.then?a.schema(this._currentJoi,e.then):void 0,otherwise:void 0!==e.otherwise?a.schema(this._currentJoi,e.otherwise):void 0};return i._baseType&&(f.then=f.then&&i._baseType.concat(f.then),f.otherwise=f.otherwise&&i._baseType.concat(f.otherwise)),r||(u.push(i._refs,f.ref),i._refs=i._refs.concat(f.is._refs)),f.then&&f.then._refs&&(i._refs=i._refs.concat(f.then._refs)),f.otherwise&&f.otherwise._refs&&(i._refs=i._refs.concat(f.otherwise._refs)),i._inner.matches.push(f),i},e.prototype.describe=function(){for(var t=s.prototype.describe.call(this),e=[],r=0;r<this._inner.matches.length;++r){var n=this._inner.matches[r];if(n.schema)e.push(n.schema.describe());else{var i=n.is?{ref:n.ref.toString(),is:n.is.describe()}:{peek:n.peek.describe()};n.then&&(i.then=n.then.describe()),n.otherwise&&(i.otherwise=n.otherwise.describe()),e.push(i)}}return t.alternatives=e,t},e}(s),t.exports=new c.Alternatives},function(t,e,r){"use strict";function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var i,o=r(2),s=r(1),a=r(0),u={};u.isoDate=/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,u.invalidDate=new Date(""),u.isIsoDate=(i=u.isoDate.toString(),function(t){return t&&t.toString()===i}),u.Date=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r._type="date",r}return n(e,t),e.prototype._base=function(t,e,r){var n={value:r.convert&&u.Date.toDate(t,this._flags.format,this._flags.timestamp,this._flags.multiplier)||t};if(n.value instanceof Date&&!isNaN(n.value.getTime()))n.errors=null;else if(r.convert){var i=void 0;i=u.isIsoDate(this._flags.format)?"isoDate":this._flags.timestamp?"timestamp."+this._flags.timestamp:"base",n.errors=this.createError("date."+i,null,e,r)}else n.errors=this.createError("date.strict",null,e,r);return n},e.toDate=function(t,e,r,n){if(t instanceof Date)return t;if("string"==typeof t||"number"==typeof t&&!isNaN(t)&&isFinite(t)){"string"==typeof t&&/^[+-]?\d+(\.\d+)?$/.test(t)&&(t=parseFloat(t));var i=void 0;if(i=e&&u.isIsoDate(e)?e.test(t)?new Date(t):u.invalidDate:r&&n?/^\s*$/.test(t)?u.invalidDate:new Date(t*n):new Date(t),!isNaN(i.getTime()))return i}return null},e.prototype.iso=function(){if(this._flags.format===u.isoDate)return this;var t=this.clone();return t._flags.format=u.isoDate,t},e.prototype.timestamp=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"javascript",e=["javascript","unix"];if(a.assert(e.includes(t),'"type" must be one of "'+e.join('", "')+'"'),this._flags.timestamp===t)return this;var r=this.clone();return r._flags.timestamp=t,r._flags.multiplier="unix"===t?1e3:1,r},e.prototype._isIsoDate=function(t){return u.isoDate.test(t)},e}(o),u.compare=function(t,e){return function(r){var n="now"===r,i=s.isRef(r);return n||i||(r=u.Date.toDate(r)),a.assert(r,"Invalid date format"),this._test(t,r,function(o,s,a){var c=void 0;if(n)c=Date.now();else if(i){if(!(c=u.Date.toDate(r(s.reference||s.parent,a))))return this.createError("date.ref",{ref:r.key},s,a);c=c.getTime()}else c=r.getTime();return e(o.getTime(),c)?o:this.createError("date."+t,{limit:new Date(c)},s,a)})}},u.Date.prototype.min=u.compare("min",function(t,e){return t>=e}),u.Date.prototype.max=u.compare("max",function(t,e){return t<=e}),t.exports=new u.Date},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var o=r(0),s=r(28),a=r(2),u=r(6),c=r(4),f={};f.Object=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r._type="object",r._inner.children=null,r._inner.renames=[],r._inner.dependencies=[],r._inner.patterns=[],r}return i(e,t),e.prototype._base=function(t,e,r){var i=t,s=[],a=function(){return{value:i,errors:s.length?s:null}};"string"==typeof t&&r.convert&&(t=f.safeParse(t));var c=this._flags.func?"function":"object";if(!t||(void 0===t?"undefined":n(t))!==c||Array.isArray(t))return s.push(this.createError(c+".base",null,e,r)),a();if(!(this._inner.renames.length||this._inner.dependencies.length||this._inner.children||this._inner.patterns.length))return i=t,a();if(i===t){"object"===c?i=Object.create(Object.getPrototypeOf(t)):(i=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.apply(this,r)}).prototype=o.clone(t.prototype);for(var l=Object.keys(t),h=0;h<l.length;++h)i[l[h]]=t[l[h]]}else i=t;for(var p={},d=0;d<this._inner.renames.length;++d){var m=this._inner.renames[d];if(m.isRegExp){for(var g=Object.keys(i),v=[],y=0;y<g.length;++y)m.from.test(g[y])&&v.push(g[y]);var b=v.every(function(t){return void 0===i[t]});if(m.options.ignoreUndefined&&b)continue;if(!m.options.multiple&&p[m.to]&&(s.push(this.createError("object.rename.regex.multiple",{from:v,to:m.to},e,r)),r.abortEarly))return a();if(Object.prototype.hasOwnProperty.call(i,m.to)&&!m.options.override&&!p[m.to]&&(s.push(this.createError("object.rename.regex.override",{from:v,to:m.to},e,r)),r.abortEarly))return a();if(b?delete i[m.to]:i[m.to]=i[v[v.length-1]],p[m.to]=!0,!m.options.alias)for(var w=0;w<v.length;++w)delete i[v[w]]}else{if(m.options.ignoreUndefined&&void 0===i[m.from])continue;if(!m.options.multiple&&p[m.to]&&(s.push(this.createError("object.rename.multiple",{from:m.from,to:m.to},e,r)),r.abortEarly))return a();if(Object.prototype.hasOwnProperty.call(i,m.to)&&!m.options.override&&!p[m.to]&&(s.push(this.createError("object.rename.override",{from:m.from,to:m.to},e,r)),r.abortEarly))return a();void 0===i[m.from]?delete i[m.to]:i[m.to]=i[m.from],p[m.to]=!0,m.options.alias||delete i[m.from]}}if(!this._inner.children&&!this._inner.patterns.length&&!this._inner.dependencies.length)return a();var _=o.mapToObject(Object.keys(i));if(this._inner.children){for(var k=[],S=0;S<this._inner.children.length;++S){var x=this._inner.children[S],E=x.key,C=i[E];delete _[E];var A={key:E,path:e.path.concat(E),parent:i,reference:e.reference},M=x.schema._validate(C,A,r);if(M.errors){if(s.push(this.createError("object.child",{key:E,child:x.schema._getLabel(E),reason:M.errors},A,r)),r.abortEarly)return a()}else x.schema._flags.strip||void 0===M.value&&M.value!==C?(k.push(E),i[E]=M.finalValue):void 0!==M.value&&(i[E]=M.value)}for(var I=0;I<k.length;++I)delete i[k[I]]}var T=Object.keys(_);if(T.length&&this._inner.patterns.length){for(var O=0;O<T.length;++O)for(var B=T[O],P={key:B,path:e.path.concat(B),parent:i,reference:e.reference},N=i[B],R=0;R<this._inner.patterns.length;++R){var F=this._inner.patterns[R];if(F.regex.test(B)){delete _[B];var j=F.rule._validate(N,P,r);if(j.errors&&(s.push(this.createError("object.child",{key:B,child:F.rule._getLabel(B),reason:j.errors},P,r)),r.abortEarly))return a();void 0!==j.value&&(i[B]=j.value)}}T=Object.keys(_)}if((this._inner.children||this._inner.patterns.length)&&T.length){if(r.stripUnknown&&!0!==this._flags.allowUnknown||r.skipFunctions){for(var L=!!r.stripUnknown&&(!0===r.stripUnknown||!!r.stripUnknown.objects),D=0;D<T.length;++D){var U=T[D];L?(delete i[U],delete _[U]):"function"==typeof i[U]&&delete _[U]}T=Object.keys(_)}if(T.length&&(void 0!==this._flags.allowUnknown?!this._flags.allowUnknown:!r.allowUnknown))for(var z=0;z<T.length;++z){var H=T[z];s.push(this.createError("object.allowUnknown",{child:H},{key:H,path:e.path.concat(H)},r,{}))}}for(var K=0;K<this._inner.dependencies.length;++K){var q=this._inner.dependencies[K],V=f[q.type].call(this,null!==q.key&&i[q.key],q.peers,i,{key:q.key,path:null===q.key?e.path:e.path.concat(q.key)},r);if(V instanceof u.Err&&(s.push(V),r.abortEarly))return a()}return a()},e.prototype.keys=function(t){o.assert(null===t||void 0===t||"object"===(void 0===t?"undefined":n(t)),"Object schema must be a valid object"),o.assert(!(t&&t instanceof a),"Object schema cannot be a joi schema");var e=this.clone();if(!t)return e._inner.children=null,e;var r=Object.keys(t);if(!r.length)return e._inner.children=[],e;var i=new s;if(e._inner.children)for(var u=0;u<e._inner.children.length;++u){var f=e._inner.children[u];r.includes(f.key)||i.add(f,{after:f._refs,group:f.key})}for(var l=0;l<r.length;++l){var h=r[l],p=t[h];try{var d=c.schema(this._currentJoi,p);i.add({key:h,schema:d},{after:d._refs,group:h})}catch(t){throw t.hasOwnProperty("path")?t.path=h+"."+t.path:t.path=h,t}}return e._inner.children=i.nodes,e},e.prototype.unknown=function(t){var e=!1!==t;if(this._flags.allowUnknown===e)return this;var r=this.clone();return r._flags.allowUnknown=e,r},e.prototype.length=function(t){return o.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("length",t,function(e,r,n){return Object.keys(e).length===t?e:this.createError("object.length",{limit:t},r,n)})},e.prototype.min=function(t){return o.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("min",t,function(e,r,n){return Object.keys(e).length>=t?e:this.createError("object.min",{limit:t},r,n)})},e.prototype.max=function(t){return o.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("max",t,function(e,r,n){return Object.keys(e).length<=t?e:this.createError("object.max",{limit:t},r,n)})},e.prototype.pattern=function(t,e){o.assert(t instanceof RegExp,"Invalid regular expression"),o.assert(void 0!==e,"Invalid rule"),t=new RegExp(t.source,t.ignoreCase?"i":void 0);try{e=c.schema(this._currentJoi,e)}catch(t){throw t.hasOwnProperty("path")&&(t.message=t.message+"("+t.path+")"),t}var r=this.clone();return r._inner.patterns.push({regex:t,rule:e}),r},e.prototype.schema=function(){return this._test("schema",null,function(t,e,r){return t instanceof a?t:this.createError("object.schema",null,e,r)})},e.prototype.with=function(t,e){return this._dependency("with",t,e)},e.prototype.without=function(t,e){return this._dependency("without",t,e)},e.prototype.xor=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=o.flatten(e),this._dependency("xor",null,e)},e.prototype.or=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=o.flatten(e),this._dependency("or",null,e)},e.prototype.and=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=o.flatten(e),this._dependency("and",null,e)},e.prototype.nand=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=o.flatten(e),this._dependency("nand",null,e)},e.prototype.requiredKeys=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=o.flatten(e),this.applyFunctionToChildren(e,"required")},e.prototype.optionalKeys=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=o.flatten(e),this.applyFunctionToChildren(e,"optional")},e.prototype.forbiddenKeys=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=o.flatten(e),this.applyFunctionToChildren(e,"forbidden")},e.prototype.rename=function(t,e,r){o.assert("string"==typeof t||t instanceof RegExp,"Rename missing the from argument"),o.assert("string"==typeof e,"Rename missing the to argument"),o.assert(e!==t,"Cannot rename key to same name:",t);for(var n=0;n<this._inner.renames.length;++n)o.assert(this._inner.renames[n].from!==t,"Cannot rename the same key multiple times");var i=this.clone();return i._inner.renames.push({from:t,to:e,options:o.applyToDefaults(f.renameDefaults,r||{}),isRegExp:t instanceof RegExp}),i},e.prototype.applyFunctionToChildren=function(t,e,r,n){t=[].concat(t),o.assert(t.length>0,"expected at least one children");var i=f.groupChildren(t),s=void 0;if(""in i?(s=this[e].apply(this,r),delete i[""]):s=this.clone(),s._inner.children){n=n?n+".":"";for(var a=0;a<s._inner.children.length;++a){var u=s._inner.children[a],c=i[u.key];c&&(s._inner.children[a]={key:u.key,_refs:u._refs,schema:u.schema.applyFunctionToChildren(c,e,r,n+u.key)},delete i[u.key])}}var l=Object.keys(i);return o.assert(0===l.length,"unknown key(s)",l.join(", ")),s},e.prototype._dependency=function(t,e,r){r=[].concat(r);for(var n=0;n<r.length;++n)o.assert("string"==typeof r[n],t,"peers must be a string or array of strings");var i=this.clone();return i._inner.dependencies.push({type:t,key:e,peers:r}),i},e.prototype.describe=function(t){var e=a.prototype.describe.call(this);if(e.rules)for(var r=0;r<e.rules.length;++r){var i=e.rules[r];i.arg&&"object"===n(i.arg)&&i.arg.schema&&i.arg.ref&&(i.arg={schema:i.arg.schema.describe(),ref:i.arg.ref.toString()})}if(this._inner.children&&!t){e.children={};for(var s=0;s<this._inner.children.length;++s){var u=this._inner.children[s];e.children[u.key]=u.schema.describe()}}if(this._inner.dependencies.length&&(e.dependencies=o.clone(this._inner.dependencies)),this._inner.patterns.length){e.patterns=[];for(var c=0;c<this._inner.patterns.length;++c){var f=this._inner.patterns[c];e.patterns.push({regex:f.regex.toString(),rule:f.rule.describe()})}}return this._inner.renames.length>0&&(e.renames=o.clone(this._inner.renames)),e},e.prototype.assert=function(t,e,r){t=c.ref(t),o.assert(t.isContext||t.depth>1,"Cannot use assertions for root level references - use direct key rules instead"),r=r||"pass the assertion test";try{e=c.schema(this._currentJoi,e)}catch(t){throw t.hasOwnProperty("path")&&(t.message=t.message+"("+t.path+")"),t}var n=t.path[t.path.length-1],i=t.path.join(".");return this._test("assert",{schema:e,ref:t},function(s,a,u){if(!e._validate(t(s),null,u,s).errors)return s;var c=o.merge({},a);return c.key=n,c.path=t.path,this.createError("object.assert",{ref:i,message:r},c,u)})},e.prototype.type=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.name;o.assert("function"==typeof t,"type must be a constructor function");var r={name:e,ctor:t};return this._test("type",r,function(e,n,i){return e instanceof t?e:this.createError("object.type",{type:r.name},n,i)})},e}(a),f.safeParse=function(t){try{return JSON.parse(t)}catch(t){}return t},f.renameDefaults={alias:!1,multiple:!1,override:!1},f.groupChildren=function(t){t.sort();for(var e={},r=0;r<t.length;++r){var n=t[r];o.assert("string"==typeof n,"children must be strings");var i=n.split(".")[0];(e[i]=e[i]||[]).push(n.substring(i.length+1))}return e},f.keysToLabels=function(t,e){var r=t._inner.children;if(!r)return e;var n=function(t){var e=r.find(function(e){return e.key===t});return e?e.schema._getLabel(t):t};return Array.isArray(e)?e.map(n):n(e)},f.with=function(t,e,r,n,i){if(void 0===t)return t;for(var o=0;o<e.length;++o){var s=e[o];if(!Object.prototype.hasOwnProperty.call(r,s)||void 0===r[s])return this.createError("object.with",{main:n.key,mainWithLabel:f.keysToLabels(this,n.key),peer:s,peerWithLabel:f.keysToLabels(this,s)},n,i)}return t},f.without=function(t,e,r,n,i){if(void 0===t)return t;for(var o=0;o<e.length;++o){var s=e[o];if(Object.prototype.hasOwnProperty.call(r,s)&&void 0!==r[s])return this.createError("object.without",{main:n.key,mainWithLabel:f.keysToLabels(this,n.key),peer:s,peerWithLabel:f.keysToLabels(this,s)},n,i)}return t},f.xor=function(t,e,r,n,i){for(var o=[],s=0;s<e.length;++s){var a=e[s];Object.prototype.hasOwnProperty.call(r,a)&&void 0!==r[a]&&o.push(a)}if(1===o.length)return t;var u={peers:e,peersWithLabels:f.keysToLabels(this,e)};return 0===o.length?this.createError("object.missing",u,n,i):this.createError("object.xor",u,n,i)},f.or=function(t,e,r,n,i){for(var o=0;o<e.length;++o){var s=e[o];if(Object.prototype.hasOwnProperty.call(r,s)&&void 0!==r[s])return t}return this.createError("object.missing",{peers:e,peersWithLabels:f.keysToLabels(this,e)},n,i)},f.and=function(t,e,r,n,i){for(var o=[],s=[],a=e.length,u=0;u<a;++u){var c=e[u];Object.prototype.hasOwnProperty.call(r,c)&&void 0!==r[c]?s.push(c):o.push(c)}if(!(o.length===a||s.length===a))return this.createError("object.and",{present:s,presentWithLabels:f.keysToLabels(this,s),missing:o,missingWithLabels:f.keysToLabels(this,o)},n,i)},f.nand=function(t,e,r,n,i){for(var s=[],a=0;a<e.length;++a){var u=e[a];Object.prototype.hasOwnProperty.call(r,u)&&void 0!==r[u]&&s.push(u)}var c=o.clone(e),l=c.splice(0,1)[0];return s.length===e.length?this.createError("object.nand",{main:l,mainWithLabel:f.keysToLabels(this,l),peers:c,peersWithLabels:f.keysToLabels(this,c)},n,i):null},t.exports=new f.Object},function(t,e,r){"use strict";var n={rfc3986:{},generate:function(){var t="|";n.rfc3986.ipv4Cidr="[0-9]|[1-2][0-9]|3[0-2]",n.rfc3986.ipv6Cidr="(?:0?0?[0-9]|0?[1-9][0-9]|1[01][0-9]|12[0-8])";var e="a-zA-Z0-9-\\._~",r="!\\$&'\\(\\)\\*\\+,;=",i=e+"%0-9A-Fa-f"+r+":@",o="["+i+"]",s="(?:0?0?[0-9]|0?[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])";n.rfc3986.IPv4address="(?:"+s+"\\.){3}"+s;var a="[0-9A-Fa-f]{1,4}",u="(?:"+a+":"+a+"|"+n.rfc3986.IPv4address+")",c="(?:"+a+":){6}"+u,f="::(?:"+a+":){5}"+u,l="(?:"+a+")?::(?:"+a+":){4}"+u,h="(?:(?:"+a+":){0,1}"+a+")?::(?:"+a+":){3}"+u,p="(?:(?:"+a+":){0,2}"+a+")?::(?:"+a+":){2}"+u,d="(?:(?:"+a+":){0,3}"+a+")?::"+a+":"+u,m="(?:(?:"+a+":){0,4}"+a+")?::"+u;n.rfc3986.IPv6address="(?:"+c+t+f+t+l+t+h+t+p+t+d+t+m+t+"(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}"+t+"(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)",n.rfc3986.IPvFuture="v[0-9A-Fa-f]+\\.["+e+r+":]+",n.rfc3986.scheme="[a-zA-Z][a-zA-Z0-9+-\\.]*";var g="(?:[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:]*@)?"+("(?:"+("\\[(?:"+n.rfc3986.IPv6address+t+n.rfc3986.IPvFuture+")\\]")+t+n.rfc3986.IPv4address+t+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=]{0,255})")+"(?::[0-9]*)?",v=o+"+",y="(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*",b="\\/(?:"+v+y+")?";n.rfc3986.hierPart="(?:(?:\\/\\/"+g+y+")"+t+b+t+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*)",n.rfc3986.relativeRef="(?:(?:\\/\\/"+g+y+")"+t+b+t+"[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*"+t+")",n.rfc3986.query="["+i+"\\/\\?]*(?=#|$)",n.rfc3986.fragment="["+i+"\\/\\?]*"}};n.generate(),t.exports=n.rfc3986},function(t,e){},function(t,e,r){"use strict";(function(t){var r={};e.escapeJavaScript=function(t){if(!t)return"";for(var e="",n=0;n<t.length;++n){var i=t.charCodeAt(n);r.isSafe(i)?e+=t[n]:e+=r.escapeJavaScriptChar(i)}return e},e.escapeHtml=function(t){if(!t)return"";for(var e="",n=0;n<t.length;++n){var i=t.charCodeAt(n);r.isSafe(i)?e+=t[n]:e+=r.escapeHtmlChar(i)}return e},e.escapeJson=function(t){if(!t)return"";var e=void 0;return t.replace(/[<>&\u2028\u2029]/g,function(t){return 60===(e=t.charCodeAt(0))?"\\u003c":62===e?"\\u003e":38===e?"\\u0026":8232===e?"\\u2028":"\\u2029"})},r.escapeJavaScriptChar=function(e){if(e>=256)return"\\u"+r.padLeft(""+e,4);var n=new t(String.fromCharCode(e),"ascii").toString("hex");return"\\x"+r.padLeft(n,2)},r.escapeHtmlChar=function(e){var n=r.namedHtml[e];if(void 0!==n)return n;if(e>=256)return"&#"+e+";";var i=new t(String.fromCharCode(e),"ascii").toString("hex");return"&#x"+r.padLeft(i,2)+";"},r.padLeft=function(t,e){for(;t.length<e;)t="0"+t;return t},r.isSafe=function(t){return void 0!==r.safeCharCodes[t]},r.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},r.safeCharCodes=function(){for(var t={},e=32;e<123;++e)(e>=97||e>=65&&e<=90||e>=48&&e<=57||32===e||46===e||44===e||45===e||58===e||95===e)&&(t[e]=null);return t}()}).call(e,r(3).Buffer)},function(t,e,r){"use strict";(function(t,n){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(35),s={hasOwn:Object.prototype.hasOwnProperty,indexOf:Array.prototype.indexOf,defaultThreshold:16,maxIPv6Groups:8,categories:{valid:1,dnsWarn:7,rfc5321:15,cfws:31,deprecated:63,rfc5322:127,error:255},diagnoses:{valid:0,rfc5321TLD:9,rfc5321TLDNumeric:10,rfc5321QuotedString:11,rfc5321AddressLiteral:12,cfwsComment:17,cfwsFWS:18,deprecatedLocalPart:33,deprecatedFWS:34,deprecatedQTEXT:35,deprecatedQP:36,deprecatedComment:37,deprecatedCTEXT:38,deprecatedIPv6:39,deprecatedCFWSNearAt:49,rfc5322Domain:65,rfc5322TooLong:66,rfc5322LocalTooLong:67,rfc5322DomainTooLong:68,rfc5322LabelTooLong:69,rfc5322DomainLiteral:70,rfc5322DomainLiteralOBSDText:71,rfc5322IPv6GroupCount:72,rfc5322IPv62x2xColon:73,rfc5322IPv6BadCharacter:74,rfc5322IPv6MaxGroups:75,rfc5322IPv6ColonStart:76,rfc5322IPv6ColonEnd:77,errExpectingDTEXT:129,errNoLocalPart:130,errNoDomain:131,errConsecutiveDots:132,errATEXTAfterCFWS:133,errATEXTAfterQS:134,errATEXTAfterDomainLiteral:135,errExpectingQPair:136,errExpectingATEXT:137,errExpectingQTEXT:138,errExpectingCTEXT:139,errBackslashEnd:140,errDotStart:141,errDotEnd:142,errDomainHyphenStart:143,errDomainHyphenEnd:144,errUnclosedQuotedString:145,errUnclosedComment:146,errUnclosedDomainLiteral:147,errFWSCRLFx2:148,errFWSCRLFEnd:149,errCRNoLF:150,errUnknownTLD:160,errDomainTooShort:161},components:{localpart:0,domain:1,literal:2,contextComment:3,contextFWS:4,contextQuotedString:5,contextQuotedPair:6}};s.specials=function(){var t=new Array(256);t.fill(!1);for(var e=0;e<'()<>[]:;@\\,."'.length;++e)t['()<>[]:;@\\,."'.codePointAt(e)]=!0;return function(e){return t[e]}}(),s.c0Controls=function(){var t=new Array(256);t.fill(!1);for(var e=0;e<33;++e)t[e]=!0;return function(e){return t[e]}}(),s.c1Controls=function(){var t=new Array(256);t.fill(!1);for(var e=127;e<160;++e)t[e]=!0;return function(e){return t[e]}}(),s.regex={ipV4:/\b(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipV6:/^[a-fA-F\d]{0,4}$/},s.nulNormalize=function(t){var e=t.split("\0");return(e=e.map(function(t){return t.normalize("NFC")})).join("\0")},s.checkIpV6=function(t){return t.every(function(t){return s.regex.ipV6.test(t)})},s.validDomain=function(t,e){return e.tldBlacklist?Array.isArray(e.tldBlacklist)?-1===s.indexOf.call(e.tldBlacklist,t):!s.hasOwn.call(e.tldBlacklist,t):Array.isArray(e.tldWhitelist)?-1!==s.indexOf.call(e.tldWhitelist,t):s.hasOwn.call(e.tldWhitelist,t)},e.validate=s.validate=function(e,r,n){r=r||{},e=s.normalize(e),"function"==typeof r&&(n=r,r={}),"function"!=typeof n&&(n=null);var a=void 0,u=void 0;if("number"==typeof r.errorLevel?(a=!0,u=r.errorLevel):(a=!!r.errorLevel,u=s.diagnoses.valid),r.tldWhitelist)if("string"==typeof r.tldWhitelist)r.tldWhitelist=[r.tldWhitelist];else if("object"!==i(r.tldWhitelist))throw new TypeError("expected array or object tldWhitelist");if(r.tldBlacklist)if("string"==typeof r.tldBlacklist)r.tldBlacklist=[r.tldBlacklist];else if("object"!==i(r.tldBlacklist))throw new TypeError("expected array or object tldBlacklist");if(r.minDomainAtoms&&(r.minDomainAtoms!==(0|+r.minDomainAtoms)||r.minDomainAtoms<0))throw new TypeError("expected positive integer minDomainAtoms");for(var c=s.diagnoses.valid,f=function(t){t>c&&(c=t)},l={now:s.components.localpart,prev:s.components.localpart,stack:[s.components.localpart]},h="",p={local:"",domain:""},d={locals:[""],domains:[""]},m=0,g=0,v=0,y=void 0,b=!1,w=!1,_=e.length,k=void 0,S=0;S<_;S+=k.length){switch(k=String.fromCodePoint(e.codePointAt(S)),l.now){case s.components.localpart:switch(k){case"(":0===g?f(0===m?s.diagnoses.cfwsComment:s.diagnoses.deprecatedComment):(f(s.diagnoses.cfwsComment),w=!0),l.stack.push(l.now),l.now=s.components.contextComment;break;case".":0===g?f(0===m?s.diagnoses.errDotStart:s.diagnoses.errConsecutiveDots):(w&&f(s.diagnoses.deprecatedLocalPart),w=!1,g=0,++m,p.local+=k,d.locals[m]="");break;case'"':0===g?(f(0===m?s.diagnoses.rfc5321QuotedString:s.diagnoses.deprecatedLocalPart),p.local+=k,d.locals[m]+=k,g+=t.byteLength(k,"utf8"),w=!0,l.stack.push(l.now),l.now=s.components.contextQuotedString):f(s.diagnoses.errExpectingATEXT);break;case"\r":if(_===++S||"\n"!==e[S]){f(s.diagnoses.errCRNoLF);break}case" ":case"\t":0===g?f(0===m?s.diagnoses.cfwsFWS:s.diagnoses.deprecatedFWS):w=!0,l.stack.push(l.now),l.now=s.components.contextFWS,h=k;break;case"@":if(1!==l.stack.length)throw new Error("unexpected item on context stack");0===p.local.length?f(s.diagnoses.errNoLocalPart):0===g?f(s.diagnoses.errDotEnd):t.byteLength(p.local,"utf8")>64?f(s.diagnoses.rfc5322LocalTooLong):l.prev!==s.components.contextComment&&l.prev!==s.components.contextFWS||f(s.diagnoses.deprecatedCFWSNearAt),l.now=s.components.domain,l.stack[0]=s.components.domain,m=0,g=0,w=!1;break;default:if(w)switch(l.prev){case s.components.contextComment:case s.components.contextFWS:f(s.diagnoses.errATEXTAfterCFWS);break;case s.components.contextQuotedString:f(s.diagnoses.errATEXTAfterQS);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+l.prev)}else l.prev=l.now,y=k.codePointAt(0),(s.specials(y)||s.c0Controls(y)||s.c1Controls(y))&&f(s.diagnoses.errExpectingATEXT),p.local+=k,d.locals[m]+=k,g+=t.byteLength(k,"utf8")}break;case s.components.domain:switch(k){case"(":0===g?f(0===m?s.diagnoses.deprecatedCFWSNearAt:s.diagnoses.deprecatedComment):(w=!0,f(s.diagnoses.cfwsComment)),l.stack.push(l.now),l.now=s.components.contextComment;break;case".":var x=o.encode(d.domains[m]).length;0===g?f(0===m?s.diagnoses.errDotStart:s.diagnoses.errConsecutiveDots):b?f(s.diagnoses.errDomainHyphenEnd):x>63&&f(s.diagnoses.rfc5322LabelTooLong),w=!1,g=0,++m,d.domains[m]="",p.domain+=k;break;case"[":0===p.domain.length?(w=!0,g+=t.byteLength(k,"utf8"),l.stack.push(l.now),l.now=s.components.literal,p.domain+=k,d.domains[m]+=k,p.literal=""):f(s.diagnoses.errExpectingATEXT);break;case"\r":if(_===++S||"\n"!==e[S]){f(s.diagnoses.errCRNoLF);break}case" ":case"\t":0===g?f(0===m?s.diagnoses.deprecatedCFWSNearAt:s.diagnoses.deprecatedFWS):(f(s.diagnoses.cfwsFWS),w=!0),l.stack.push(l.now),l.now=s.components.contextFWS,h=k;break;default:if(w)switch(l.prev){case s.components.contextComment:case s.components.contextFWS:f(s.diagnoses.errATEXTAfterCFWS);break;case s.components.literal:f(s.diagnoses.errATEXTAfterDomainLiteral);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+l.prev)}y=k.codePointAt(0),b=!1,s.specials(y)||s.c0Controls(y)||s.c1Controls(y)?f(s.diagnoses.errExpectingATEXT):"-"===k?(0===g&&f(s.diagnoses.errDomainHyphenStart),b=!0):(y<48||y>122&&y<192||y>57&&y<65||y>90&&y<97)&&f(s.diagnoses.rfc5322Domain),p.domain+=k,d.domains[m]+=k,g+=t.byteLength(k,"utf8")}break;case s.components.literal:switch(k){case"]":if(c<s.categories.deprecated){var E=-1,C=p.literal,A=s.regex.ipV4.exec(C);if(A&&0!==(E=A.index)&&(C=C.slice(0,E)+"0:0"),0===E)f(s.diagnoses.rfc5321AddressLiteral);else if("ipv6:"!==C.slice(0,5).toLowerCase())f(s.diagnoses.rfc5322DomainLiteral);else{var M=C.slice(5),I=s.maxIPv6Groups,T=M.split(":");~(E=M.indexOf("::"))?E!==M.lastIndexOf("::")?f(s.diagnoses.rfc5322IPv62x2xColon):(0!==E&&E!==M.length-2||++I,T.length>I?f(s.diagnoses.rfc5322IPv6MaxGroups):T.length===I&&f(s.diagnoses.deprecatedIPv6)):T.length!==I&&f(s.diagnoses.rfc5322IPv6GroupCount),":"===M[0]&&":"!==M[1]?f(s.diagnoses.rfc5322IPv6ColonStart):":"===M[M.length-1]&&":"!==M[M.length-2]?f(s.diagnoses.rfc5322IPv6ColonEnd):s.checkIpV6(T)?f(s.diagnoses.rfc5321AddressLiteral):f(s.diagnoses.rfc5322IPv6BadCharacter)}}else f(s.diagnoses.rfc5322DomainLiteral);p.domain+=k,d.domains[m]+=k,g+=t.byteLength(k,"utf8"),l.prev=l.now,l.now=l.stack.pop();break;case"\\":f(s.diagnoses.rfc5322DomainLiteralOBSDText),l.stack.push(l.now),l.now=s.components.contextQuotedPair;break;case"\r":if(_===++S||"\n"!==e[S]){f(s.diagnoses.errCRNoLF);break}case" ":case"\t":f(s.diagnoses.cfwsFWS),l.stack.push(l.now),l.now=s.components.contextFWS,h=k;break;default:if(127!==(y=k.codePointAt(0))&&s.c1Controls(y)||0===y||"["===k){f(s.diagnoses.errExpectingDTEXT);break}(s.c0Controls(y)||127===y)&&f(s.diagnoses.rfc5322DomainLiteralOBSDText),p.literal+=k,p.domain+=k,d.domains[m]+=k,g+=t.byteLength(k,"utf8")}break;case s.components.contextQuotedString:switch(k){case"\\":l.stack.push(l.now),l.now=s.components.contextQuotedPair;break;case"\r":if(_===++S||"\n"!==e[S]){f(s.diagnoses.errCRNoLF);break}case"\t":p.local+=" ",d.locals[m]+=" ",g+=t.byteLength(k,"utf8"),f(s.diagnoses.cfwsFWS),l.stack.push(l.now),l.now=s.components.contextFWS,h=k;break;case'"':p.local+=k,d.locals[m]+=k,g+=t.byteLength(k,"utf8"),l.prev=l.now,l.now=l.stack.pop();break;default:127!==(y=k.codePointAt(0))&&s.c1Controls(y)||0===y||10===y?f(s.diagnoses.errExpectingQTEXT):(s.c0Controls(y)||127===y)&&f(s.diagnoses.deprecatedQTEXT),p.local+=k,d.locals[m]+=k,g+=t.byteLength(k,"utf8")}break;case s.components.contextQuotedPair:127!==(y=k.codePointAt(0))&&s.c1Controls(y)?f(s.diagnoses.errExpectingQPair):(y<31&&9!==y||127===y)&&f(s.diagnoses.deprecatedQP),l.prev=l.now,l.now=l.stack.pop();var O="\\"+k;switch(l.now){case s.components.contextComment:break;case s.components.contextQuotedString:p.local+=O,d.locals[m]+=O,g+=2;break;case s.components.literal:p.domain+=O,d.domains[m]+=O,g+=2;break;default:throw new Error("quoted pair logic invoked in an invalid context: "+l.now)}break;case s.components.contextComment:switch(k){case"(":l.stack.push(l.now),l.now=s.components.contextComment;break;case")":l.prev=l.now,l.now=l.stack.pop();break;case"\\":l.stack.push(l.now),l.now=s.components.contextQuotedPair;break;case"\r":if(_===++S||"\n"!==e[S]){f(s.diagnoses.errCRNoLF);break}case" ":case"\t":f(s.diagnoses.cfwsFWS),l.stack.push(l.now),l.now=s.components.contextFWS,h=k;break;default:if(0===(y=k.codePointAt(0))||10===y||127!==y&&s.c1Controls(y)){f(s.diagnoses.errExpectingCTEXT);break}(s.c0Controls(y)||127===y)&&f(s.diagnoses.deprecatedCTEXT)}break;case s.components.contextFWS:if("\r"===h){if("\r"===k){f(s.diagnoses.errFWSCRLFx2);break}++v>1?f(s.diagnoses.deprecatedFWS):v=1}switch(k){case"\r":_!==++S&&"\n"===e[S]||f(s.diagnoses.errCRNoLF);break;case" ":case"\t":break;default:"\r"===h&&f(s.diagnoses.errFWSCRLFEnd),v=0,l.prev=l.now,l.now=l.stack.pop(),--S}h=k;break;default:throw new Error("unknown context: "+l.now)}if(c>s.categories.rfc5322)break}if(c<s.categories.rfc5322){var B=o.encode(p.domain).length;if(l.now===s.components.contextQuotedString)f(s.diagnoses.errUnclosedQuotedString);else if(l.now===s.components.contextQuotedPair)f(s.diagnoses.errBackslashEnd);else if(l.now===s.components.contextComment)f(s.diagnoses.errUnclosedComment);else if(l.now===s.components.literal)f(s.diagnoses.errUnclosedDomainLiteral);else if("\r"===k)f(s.diagnoses.errFWSCRLFEnd);else if(0===p.domain.length)f(s.diagnoses.errNoDomain);else if(0===g)f(s.diagnoses.errDotEnd);else if(b)f(s.diagnoses.errDomainHyphenEnd);else if(B>255)f(s.diagnoses.rfc5322DomainTooLong);else if(t.byteLength(p.local,"utf8")+B+1>254)f(s.diagnoses.rfc5322TooLong);else if(g>63)f(s.diagnoses.rfc5322LabelTooLong);else if(r.minDomainAtoms&&d.domains.length<r.minDomainAtoms)f(s.diagnoses.errDomainTooShort);else if(r.tldWhitelist||r.tldBlacklist){var P=d.domains[m];s.validDomain(P,r)||f(s.diagnoses.errUnknownTLD)}}c<s.categories.dnsWarn&&(d.domains[m].codePointAt(0)<=57&&f(s.diagnoses.rfc5321TLDNumeric));c<u&&(c=s.diagnoses.valid);var N=a?c:c<s.defaultThreshold;return n&&n(N),N},e.diagnoses=s.validate.diagnoses=function(){for(var t={},e=Object.keys(s.diagnoses),r=0;r<e.length;++r){var n=e[r];t[n]=s.diagnoses[n]}return t}(),e.normalize=s.normalize=function(t){return"4"===n.version[1]&&t.indexOf("\0")>=0?s.nulNormalize(t):t.normalize("NFC")}}).call(e,r(3).Buffer,r(5))},function(t,e,r){"use strict";e.errors={root:"value",key:'"{{!label}}" ',messages:{wrapArrays:!0},any:{unknown:"is not allowed",invalid:"contains an invalid value",empty:"is not allowed to be empty",required:"is required",allowOnly:"must be one of {{valids}}",default:"threw an error when running default method"},alternatives:{base:"not matching any of the allowed alternatives",child:null},array:{base:"must be an array",includes:"at position {{pos}} does not match any of the allowed types",includesSingle:'single value of "{{!label}}" does not match any of the allowed types',includesOne:"at position {{pos}} fails because {{reason}}",includesOneSingle:'single value of "{{!label}}" fails because {{reason}}',includesRequiredUnknowns:"does not contain {{unknownMisses}} required value(s)",includesRequiredKnowns:"does not contain {{knownMisses}}",includesRequiredBoth:"does not contain {{knownMisses}} and {{unknownMisses}} other required value(s)",excludes:"at position {{pos}} contains an excluded value",excludesSingle:'single value of "{{!label}}" contains an excluded value',min:"must contain at least {{limit}} items",max:"must contain less than or equal to {{limit}} items",length:"must contain {{limit}} items",ordered:"at position {{pos}} fails because {{reason}}",orderedLength:"at position {{pos}} fails because array must contain at most {{limit}} items",ref:'references "{{ref}}" which is not a positive integer',sparse:"must not be a sparse array",unique:"position {{pos}} contains a duplicate value"},boolean:{base:"must be a boolean"},binary:{base:"must be a buffer or a string",min:"must be at least {{limit}} bytes",max:"must be less than or equal to {{limit}} bytes",length:"must be {{limit}} bytes"},date:{base:"must be a number of milliseconds or valid date string",format:"must be a string with one of the following formats {{format}}",strict:"must be a valid date",min:'must be larger than or equal to "{{limit}}"',max:'must be less than or equal to "{{limit}}"',isoDate:"must be a valid ISO 8601 date",timestamp:{javascript:"must be a valid timestamp or number of milliseconds",unix:"must be a valid timestamp or number of seconds"},ref:'references "{{ref}}" which is not a date'},function:{base:"must be a Function",arity:"must have an arity of {{n}}",minArity:"must have an arity greater or equal to {{n}}",maxArity:"must have an arity lesser or equal to {{n}}",ref:"must be a Joi reference",class:"must be a class"},lazy:{base:"!!schema error: lazy schema must be set",schema:"!!schema error: lazy schema function must return a schema"},object:{base:"must be an object",child:'!!child "{{!child}}" fails because {{reason}}',min:"must have at least {{limit}} children",max:"must have less than or equal to {{limit}} children",length:"must have {{limit}} children",allowUnknown:'!!"{{!child}}" is not allowed',with:'!!"{{mainWithLabel}}" missing required peer "{{peerWithLabel}}"',without:'!!"{{mainWithLabel}}" conflict with forbidden peer "{{peerWithLabel}}"',missing:"must contain at least one of {{peersWithLabels}}",xor:"contains a conflict between exclusive peers {{peersWithLabels}}",or:"must contain at least one of {{peersWithLabels}}",and:"contains {{presentWithLabels}} without its required peers {{missingWithLabels}}",nand:'!!"{{mainWithLabel}}" must not exist simultaneously with {{peersWithLabels}}',assert:'!!"{{ref}}" validation failed because "{{ref}}" failed to {{message}}',rename:{multiple:'cannot rename child "{{from}}" because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename child "{{from}}" because override is disabled and target "{{to}}" exists',regex:{multiple:'cannot rename children {{from}} because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename children {{from}} because override is disabled and target "{{to}}" exists'}},type:'must be an instance of "{{type}}"',schema:"must be a Joi instance"},number:{base:"must be a number",min:"must be larger than or equal to {{limit}}",max:"must be less than or equal to {{limit}}",less:"must be less than {{limit}}",greater:"must be greater than {{limit}}",float:"must be a float or double",integer:"must be an integer",negative:"must be a negative number",positive:"must be a positive number",precision:"must have no more than {{limit}} decimal places",ref:'references "{{ref}}" which is not a number',multiple:"must be a multiple of {{multiple}}"},string:{base:"must be a string",min:"length must be at least {{limit}} characters long",max:"length must be less than or equal to {{limit}} characters long",length:"length must be {{limit}} characters long",alphanum:"must only contain alpha-numeric characters",token:"must only contain alpha-numeric and underscore characters",regex:{base:'with value "{{!value}}" fails to match the required pattern: {{pattern}}',name:'with value "{{!value}}" fails to match the {{name}} pattern',invert:{base:'with value "{{!value}}" matches the inverted pattern: {{pattern}}',name:'with value "{{!value}}" matches the inverted {{name}} pattern'}},email:"must be a valid email",uri:"must be a valid uri",uriRelativeOnly:"must be a valid relative uri",uriCustomScheme:"must be a valid uri with a scheme matching the {{scheme}} pattern",isoDate:"must be a valid ISO 8601 date",guid:"must be a valid GUID",hex:"must only contain hexadecimal characters",base64:"must be a valid base64 string",hostname:"must be a valid hostname",normalize:"must be unicode normalized in the {{form}} form",lowercase:"must only contain lowercase characters",uppercase:"must only contain uppercase characters",trim:"must not have leading or trailing whitespace",creditCard:"must be a credit card",ref:'references "{{ref}}" which is not a number',ip:"must be a valid ip address with a {{cidr}} CIDR",ipVersion:"must be a valid ip address of one of the following versions {{version}} with a {{cidr}} CIDR"}}},function(t,e,r){"use strict";var n=r(8);e.options=n.object({abortEarly:n.boolean(),convert:n.boolean(),allowUnknown:n.boolean(),skipFunctions:n.boolean(),stripUnknown:[n.boolean(),n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects")],language:n.object(),presence:n.string().only("required","optional","forbidden","ignore"),raw:n.boolean(),context:n.object(),strip:n.boolean(),noDefaults:n.boolean(),escapeHtml:n.boolean()}).strict()},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var o=r(2),s=r(4),a=r(1),u=r(0),c={fastSplice:function(t,e){for(var r=e;r<t.length;)t[r++]=t[r];--t.length}};c.Array=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r._type="array",r._inner.items=[],r._inner.ordereds=[],r._inner.inclusions=[],r._inner.exclusions=[],r._inner.requireds=[],r._flags.sparse=!1,r}return i(e,t),e.prototype._base=function(t,e,r){var n={value:t};"string"==typeof t&&r.convert&&c.safeParse(t,n);var i=Array.isArray(n.value),o=i;if(r.convert&&this._flags.single&&!i&&(n.value=[n.value],i=!0),!i)return n.errors=this.createError("array.base",null,e,r),n;if((this._inner.inclusions.length||this._inner.exclusions.length||this._inner.requireds.length||this._inner.ordereds.length||!this._flags.sparse)&&(o&&(n.value=n.value.slice(0)),n.errors=this._checkItems.call(this,n.value,o,e,r),n.errors&&o&&r.convert&&this._flags.single)){var s=n.errors;n.value=[n.value],n.errors=this._checkItems.call(this,n.value,o,e,r),n.errors&&(n.errors=s,n.value=n.value[0])}return n},e.prototype._checkItems=function(t,e,r,n){for(var i=[],o=void 0,s=this._inner.requireds.slice(),a=this._inner.ordereds.slice(),u=this._inner.inclusions.concat(s),f=t.length,l=0;l<f;++l){o=!1;var h=t[l],p=!1,d={key:e?l:r.key,path:e?r.path.concat(l):r.path,parent:r.parent,reference:r.reference},m=void 0;if(this._flags.sparse||void 0!==h){for(var g=0;g<this._inner.exclusions.length;++g)if(!(m=this._inner.exclusions[g]._validate(h,d,{})).errors){if(i.push(this.createError(e?"array.excludes":"array.excludesSingle",{pos:l,value:h},{key:r.key,path:d.path},n)),o=!0,n.abortEarly)return i;break}if(!o){if(this._inner.ordereds.length){if(a.length>0){var v=a.shift();if((m=v._validate(h,d,n)).errors){if(i.push(this.createError("array.ordered",{pos:l,reason:m.errors,value:h},{key:r.key,path:d.path},n)),n.abortEarly)return i}else if(v._flags.strip)c.fastSplice(t,l),--l,--f;else{if(!this._flags.sparse&&void 0===m.value){if(i.push(this.createError("array.sparse",null,{key:r.key,path:d.path,pos:l},n)),n.abortEarly)return i;continue}t[l]=m.value}continue}if(!this._inner.items.length){if(i.push(this.createError("array.orderedLength",{pos:l,limit:this._inner.ordereds.length},{key:r.key,path:d.path},n)),n.abortEarly)return i;continue}}for(var y=[],b=s.length,w=0;w<b;++w)if(!(m=y[w]=s[w]._validate(h,d,n)).errors){if(t[l]=m.value,p=!0,c.fastSplice(s,w),--w,--b,!this._flags.sparse&&void 0===m.value&&(i.push(this.createError("array.sparse",null,{key:r.key,path:d.path,pos:l},n)),n.abortEarly))return i;break}if(!p){var _=!!n.stripUnknown&&(!0===n.stripUnknown||!!n.stripUnknown.arrays);b=u.length;for(var k=0;k<b;++k){var S=u[k],x=s.indexOf(S);if(-1!==x)m=y[x];else if(!(m=S._validate(h,d,n)).errors){S._flags.strip?(c.fastSplice(t,l),--l,--f):this._flags.sparse||void 0!==m.value?t[l]=m.value:(i.push(this.createError("array.sparse",null,{key:r.key,path:d.path,pos:l},n)),o=!0),p=!0;break}if(1===b){if(_){c.fastSplice(t,l),--l,--f,p=!0;break}if(i.push(this.createError(e?"array.includesOne":"array.includesOneSingle",{pos:l,reason:m.errors,value:h},{key:r.key,path:d.path},n)),o=!0,n.abortEarly)return i;break}}if(!o&&this._inner.inclusions.length&&!p){if(_){c.fastSplice(t,l),--l,--f;continue}if(i.push(this.createError(e?"array.includes":"array.includesSingle",{pos:l,value:h},{key:r.key,path:d.path},n)),n.abortEarly)return i}}}}else if(i.push(this.createError("array.sparse",null,{key:r.key,path:d.path,pos:l},n)),n.abortEarly)return i}return s.length&&this._fillMissedErrors.call(this,i,s,r,n),a.length&&this._fillOrderedErrors.call(this,i,a,r,n),i.length?i:null},e.prototype.describe=function(){var t=o.prototype.describe.call(this);if(this._inner.ordereds.length){t.orderedItems=[];for(var e=0;e<this._inner.ordereds.length;++e)t.orderedItems.push(this._inner.ordereds[e].describe())}if(this._inner.items.length){t.items=[];for(var r=0;r<this._inner.items.length;++r)t.items.push(this._inner.items[r].describe())}return t},e.prototype.items=function(){for(var t=this,e=this.clone(),r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return u.flatten(n).forEach(function(r,n){try{r=s.schema(t._currentJoi,r)}catch(t){throw t.hasOwnProperty("path")?t.path=n+"."+t.path:t.path=n,t.message=t.message+"("+t.path+")",t}e._inner.items.push(r),"required"===r._flags.presence?e._inner.requireds.push(r):"forbidden"===r._flags.presence?e._inner.exclusions.push(r.optional()):e._inner.inclusions.push(r)}),e},e.prototype.ordered=function(){for(var t=this,e=this.clone(),r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return u.flatten(n).forEach(function(r,n){try{r=s.schema(t._currentJoi,r)}catch(t){throw t.hasOwnProperty("path")?t.path=n+"."+t.path:t.path=n,t.message=t.message+"("+t.path+")",t}e._inner.ordereds.push(r)}),e},e.prototype.min=function(t){var e=a.isRef(t);return u.assert(Number.isSafeInteger(t)&&t>=0||e,"limit must be a positive integer or reference"),this._test("min",t,function(r,n,i){var o=void 0;if(e){if(o=t(n.reference||n.parent,i),!(Number.isSafeInteger(o)&&o>=0))return this.createError("array.ref",{ref:t.key},n,i)}else o=t;return r.length>=o?r:this.createError("array.min",{limit:t,value:r},n,i)})},e.prototype.max=function(t){var e=a.isRef(t);return u.assert(Number.isSafeInteger(t)&&t>=0||e,"limit must be a positive integer or reference"),this._test("max",t,function(r,n,i){var o=void 0;if(e){if(o=t(n.reference||n.parent,i),!(Number.isSafeInteger(o)&&o>=0))return this.createError("array.ref",{ref:t.key},n,i)}else o=t;return r.length<=o?r:this.createError("array.max",{limit:t,value:r},n,i)})},e.prototype.length=function(t){var e=a.isRef(t);return u.assert(Number.isSafeInteger(t)&&t>=0||e,"limit must be a positive integer or reference"),this._test("length",t,function(r,n,i){var o=void 0;if(e){if(o=t(n.reference||n.parent,i),!(Number.isSafeInteger(o)&&o>=0))return this.createError("array.ref",{ref:t.key},n,i)}else o=t;return r.length===o?r:this.createError("array.length",{limit:t,value:r},n,i)})},e.prototype.unique=function(t){u.assert(void 0===t||"function"==typeof t||"string"==typeof t,"comparator must be a function or a string");var e={};return"string"==typeof t?e.path=t:"function"==typeof t&&(e.comparator=t),this._test("unique",e,function(t,r,i){for(var o={string:{},number:{},undefined:{},boolean:{},object:new Map,function:new Map,custom:new Map},s=e.comparator||u.deepEqual,a=0;a<t.length;++a){var c=e.path?u.reach(t[a],e.path):t[a],f=e.comparator?o.custom:o[void 0===c?"undefined":n(c)];if(f)if(f instanceof Map){for(var l=f.entries(),h=void 0;!(h=l.next()).done;)if(s(h.value[0],c)){var p={key:r.key,path:r.path.concat(a),parent:r.parent,reference:r.reference},d={pos:a,value:t[a],dupePos:h.value[1],dupeValue:t[h.value[1]]};return e.path&&(d.path=e.path),this.createError("array.unique",d,p,i)}f.set(c,a)}else{if(void 0!==f[c]){var m={key:r.key,path:r.path.concat(a),parent:r.parent,reference:r.reference},g={pos:a,value:t[a],dupePos:f[c],dupeValue:t[f[c]]};return e.path&&(g.path=e.path),this.createError("array.unique",g,m,i)}f[c]=a}}return t})},e.prototype.sparse=function(t){var e=void 0===t||!!t;if(this._flags.sparse===e)return this;var r=this.clone();return r._flags.sparse=e,r},e.prototype.single=function(t){var e=void 0===t||!!t;if(this._flags.single===e)return this;var r=this.clone();return r._flags.single=e,r},e.prototype._fillMissedErrors=function(t,e,r,n){for(var i=[],o=0,s=0;s<e.length;++s){var a=e[s]._getLabel();a?i.push(a):++o}i.length?o?t.push(this.createError("array.includesRequiredBoth",{knownMisses:i,unknownMisses:o},{key:r.key,path:r.path},n)):t.push(this.createError("array.includesRequiredKnowns",{knownMisses:i},{key:r.key,path:r.path},n)):t.push(this.createError("array.includesRequiredUnknowns",{unknownMisses:o},{key:r.key,path:r.path},n))},e.prototype._fillOrderedErrors=function(t,e,r,n){for(var i=[],o=0;o<e.length;++o){"required"===u.reach(e[o],"_flags.presence")&&i.push(e[o])}i.length&&this._fillMissedErrors.call(this,t,i,r,n)},e}(o),c.safeParse=function(t,e){try{var r=JSON.parse(t);Array.isArray(r)&&(e.value=r)}catch(t){}},t.exports=new c.Array},function(t,e,r){"use strict";(function(e){function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var i=r(2),o=r(0),s={};s.Binary=function(t){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return e._type="binary",e}return n(r,t),r.prototype._base=function(t,r,n){var i={value:t};if("string"==typeof t&&n.convert)try{i.value=new e(t,this._flags.encoding)}catch(t){}return i.errors=e.isBuffer(i.value)?null:this.createError("binary.base",null,r,n),i},r.prototype.encoding=function(t){if(o.assert(e.isEncoding(t),"Invalid encoding:",t),this._flags.encoding===t)return this;var r=this.clone();return r._flags.encoding=t,r},r.prototype.min=function(t){return o.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("min",t,function(e,r,n){return e.length>=t?e:this.createError("binary.min",{limit:t,value:e},r,n)})},r.prototype.max=function(t){return o.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("max",t,function(e,r,n){return e.length<=t?e:this.createError("binary.max",{limit:t,value:e},r,n)})},r.prototype.length=function(t){return o.assert(Number.isSafeInteger(t)&&t>=0,"limit must be a positive integer"),this._test("length",t,function(e,r,n){return e.length===t?e:this.createError("binary.length",{limit:t,value:e},r,n)})},r}(i),t.exports=new s.Binary}).call(e,r(3).Buffer)},function(t,e,r){"use strict";function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var i=r(2),o=r(0),s={Set:r(9)};s.Boolean=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r._type="boolean",r._flags.insensitive=!0,r._inner.truthySet=new s.Set,r._inner.falsySet=new s.Set,r}return n(e,t),e.prototype._base=function(t,e,r){var n={value:t};if("string"==typeof t&&r.convert){var i=this._flags.insensitive?t.toLowerCase():t;n.value="true"===i||"false"!==i&&t}return"boolean"!=typeof n.value&&(n.value=!!this._inner.truthySet.has(t,null,null,this._flags.insensitive)||!this._inner.falsySet.has(t,null,null,this._flags.insensitive)&&t),n.errors="boolean"==typeof n.value?null:this.createError("boolean.base",null,e,r),n},e.prototype.truthy=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=this.clone();e=o.flatten(e);for(var i=0;i<e.length;++i){var s=e[i];o.assert(void 0!==s,"Cannot call truthy with undefined"),n._inner.truthySet.add(s)}return n},e.prototype.falsy=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=this.clone();e=o.flatten(e);for(var i=0;i<e.length;++i){var s=e[i];o.assert(void 0!==s,"Cannot call falsy with undefined"),n._inner.falsySet.add(s)}return n},e.prototype.insensitive=function(t){var e=void 0===t||!!t;if(this._flags.insensitive===e)return this;var r=this.clone();return r._flags.insensitive=e,r},e.prototype.describe=function(){var t=i.prototype.describe.call(this);return t.truthy=[!0].concat(this._inner.truthySet.values()),t.falsy=[!1].concat(this._inner.falsySet.values()),t},e}(i),t.exports=new s.Boolean},function(t,e,r){"use strict";function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var i=r(0),o=r(12),s=r(1),a={};a.Func=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r._flags.func=!0,r}return n(e,t),e.prototype.arity=function(t){return i.assert(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this._test("arity",t,function(e,r,n){return e.length===t?e:this.createError("function.arity",{n:t},r,n)})},e.prototype.minArity=function(t){return i.assert(Number.isSafeInteger(t)&&t>0,"n must be a strict positive integer"),this._test("minArity",t,function(e,r,n){return e.length>=t?e:this.createError("function.minArity",{n:t},r,n)})},e.prototype.maxArity=function(t){return i.assert(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this._test("maxArity",t,function(e,r,n){return e.length<=t?e:this.createError("function.maxArity",{n:t},r,n)})},e.prototype.ref=function(){return this._test("ref",null,function(t,e,r){return s.isRef(t)?t:this.createError("function.ref",null,e,r)})},e.prototype.class=function(){return this._test("class",null,function(t,e,r){return/^\s*class\s/.test(t.toString())?t:this.createError("function.class",null,e,r)})},e}(o.constructor),t.exports=new a.Func},function(t,e,r){"use strict";function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var i=r(2),o=r(0),s={};s.Lazy=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r._type="lazy",r}return n(e,t),e.prototype._base=function(t,e,r){var n={value:t},o=this._flags.lazy;if(!o)return n.errors=this.createError("lazy.base",null,e,r),n;var s=o();return s instanceof i?s._validate(t,e,r):(n.errors=this.createError("lazy.schema",null,e,r),n)},e.prototype.set=function(t){o.assert("function"==typeof t,"You must provide a function as first argument");var e=this.clone();return e._flags.lazy=t,e},e}(i),t.exports=new s.Lazy},function(t,e,r){"use strict";function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var i=r(2),o=r(1),s=r(0),a={precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/};a.Number=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r._type="number",r._invalids.add(1/0),r._invalids.add(-1/0),r}return n(e,t),e.prototype._base=function(t,e,r){var n={errors:null,value:t};if("string"==typeof t&&r.convert){var i=parseFloat(t);n.value=isNaN(i)||!isFinite(t)?NaN:i}var o="number"==typeof n.value&&!isNaN(n.value);if(r.convert&&"precision"in this._flags&&o){var s=Math.pow(10,this._flags.precision);n.value=Math.round(n.value*s)/s}return n.errors=o?null:this.createError("number.base",null,e,r),n},e.prototype.multiple=function(t){var e=o.isRef(t);return e||(s.assert("number"==typeof t&&isFinite(t),"multiple must be a number"),s.assert(t>0,"multiple must be greater than 0")),this._test("multiple",t,function(r,n,i){var o=e?t(n.reference||n.parent,i):t;return!e||"number"==typeof o&&isFinite(o)?r%o==0?r:this.createError("number.multiple",{multiple:t,value:r},n,i):this.createError("number.ref",{ref:t.key},n,i)})},e.prototype.integer=function(){return this._test("integer",void 0,function(t,e,r){return Number.isSafeInteger(t)?t:this.createError("number.integer",{value:t},e,r)})},e.prototype.negative=function(){return this._test("negative",void 0,function(t,e,r){return t<0?t:this.createError("number.negative",{value:t},e,r)})},e.prototype.positive=function(){return this._test("positive",void 0,function(t,e,r){return t>0?t:this.createError("number.positive",{value:t},e,r)})},e.prototype.precision=function(t){s.assert(Number.isSafeInteger(t),"limit must be an integer"),s.assert(!("precision"in this._flags),"precision already set");var e=this._test("precision",t,function(e,r,n){var i=e.toString().match(a.precisionRx);return Math.max((i[1]?i[1].length:0)-(i[2]?parseInt(i[2],10):0),0)<=t?e:this.createError("number.precision",{limit:t,value:e},r,n)});return e._flags.precision=t,e},e}(i),a.compare=function(t,e){return function(r){var n=o.isRef(r),i="number"==typeof r&&!isNaN(r);return s.assert(i||n,"limit must be a number or reference"),this._test(t,r,function(i,o,s){var a=void 0;if(n){if("number"!=typeof(a=r(o.reference||o.parent,s))||isNaN(a))return this.createError("number.ref",{ref:r.key},o,s)}else a=r;return e(i,a)?i:this.createError("number."+t,{limit:a,value:i},o,s)})}},a.Number.prototype.min=a.compare("min",function(t,e){return t>=e}),a.Number.prototype.max=a.compare("max",function(t,e){return t<=e}),a.Number.prototype.greater=a.compare("greater",function(t,e){return t>e}),a.Number.prototype.less=a.compare("less",function(t,e){return t<e}),t.exports=new a.Number},function(t,e,r){"use strict";(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var o=r(14),s=r(0),a=void 0,u=r(2),c=r(1),f=r(11),l=r(27),h=r(26),p={uriRegex:l.createUriRegex(),ipRegex:h.createIpRegex(["ipv4","ipv6","ipvfuture"],"optional"),guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},cidrPresences:["required","optional","forbidden"],normalizationForms:["NFC","NFD","NFKC","NFKD"]};p.String=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return r._type="string",r._invalids.add(""),r}return i(e,t),e.prototype._base=function(t,e,r){if("string"==typeof t&&r.convert){if(this._flags.normalize&&(t=t.normalize(this._flags.normalize)),this._flags.case&&(t="upper"===this._flags.case?t.toLocaleUpperCase():t.toLocaleLowerCase()),this._flags.trim&&(t=t.trim()),this._inner.replacements)for(var n=0;n<this._inner.replacements.length;++n){var i=this._inner.replacements[n];t=t.replace(i.pattern,i.replacement)}if(this._flags.truncate)for(var o=0;o<this._tests.length;++o){var s=this._tests[o];if("max"===s.name){t=t.slice(0,s.arg);break}}}return{value:t,errors:"string"==typeof t?null:this.createError("string.base",{value:t},e,r)}},e.prototype.insensitive=function(){if(this._flags.insensitive)return this;var t=this.clone();return t._flags.insensitive=!0,t},e.prototype.creditCard=function(){return this._test("creditCard",void 0,function(t,e,r){for(var n=t.length,i=0,o=1;n--;){var s=t.charAt(n)*o;i+=s-9*(s>9),o^=3}return i%10==0&&i>0?t:this.createError("string.creditCard",{value:t},e,r)})},e.prototype.regex=function(t,e){s.assert(t instanceof RegExp,"pattern must be a RegExp");var r={pattern:new RegExp(t.source,t.ignoreCase?"i":void 0)};"string"==typeof e?r.name=e:"object"===(void 0===e?"undefined":n(e))&&(r.invert=!!e.invert,e.name&&(r.name=e.name));var i=["string.regex",r.invert?".invert":"",r.name?".name":".base"].join("");return this._test("regex",r,function(t,e,n){return r.pattern.test(t)^r.invert?t:this.createError(i,{name:r.name,pattern:r.pattern,value:t},e,n)})},e.prototype.alphanum=function(){return this._test("alphanum",void 0,function(t,e,r){return/^[a-zA-Z0-9]+$/.test(t)?t:this.createError("string.alphanum",{value:t},e,r)})},e.prototype.token=function(){return this._test("token",void 0,function(t,e,r){return/^\w+$/.test(t)?t:this.createError("string.token",{value:t},e,r)})},e.prototype.email=function(t){return t&&(s.assert("object"===(void 0===t?"undefined":n(t)),"email options must be an object"),s.assert(void 0===t.checkDNS,"checkDNS option is not supported"),s.assert(void 0===t.tldWhitelist||"object"===n(t.tldWhitelist),"tldWhitelist must be an array or object"),s.assert(void 0===t.minDomainAtoms||Number.isSafeInteger(t.minDomainAtoms)&&t.minDomainAtoms>0,"minDomainAtoms must be a positive integer"),s.assert(void 0===t.errorLevel||"boolean"==typeof t.errorLevel||Number.isSafeInteger(t.errorLevel)&&t.errorLevel>=0,"errorLevel must be a non-negative integer or boolean")),this._test("email",t,function(e,n,i){a=a||r(16);try{var o=a.validate(e,t);if(!0===o||0===o)return e}catch(t){}return this.createError("string.email",{value:e},n,i)})},e.prototype.ip=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=p.ipRegex;s.assert("object"===(void 0===t?"undefined":n(t)),"options must be an object"),t.cidr?(s.assert("string"==typeof t.cidr,"cidr must be a string"),t.cidr=t.cidr.toLowerCase(),s.assert(s.contain(p.cidrPresences,t.cidr),"cidr must be one of "+p.cidrPresences.join(", ")),t.version||"optional"===t.cidr||(e=h.createIpRegex(["ipv4","ipv6","ipvfuture"],t.cidr))):t.cidr="optional";var r=void 0;if(t.version){Array.isArray(t.version)||(t.version=[t.version]),s.assert(t.version.length>=1,"version must have at least 1 version specified"),r=[];for(var i=0;i<t.version.length;++i){var o=t.version[i];s.assert("string"==typeof o,"version at position "+i+" must be a string"),o=o.toLowerCase(),s.assert(h.versions[o],"version at position "+i+" must be one of "+Object.keys(h.versions).join(", ")),r.push(o)}r=s.unique(r),e=h.createIpRegex(r,t.cidr)}return this._test("ip",t,function(n,i,o){return e.test(n)?n:r?this.createError("string.ipVersion",{value:n,cidr:t.cidr,version:r},i,o):this.createError("string.ip",{value:n,cidr:t.cidr},i,o)})},e.prototype.uri=function(t){var e="",r=!1,i=!1,o=p.uriRegex;if(t){if(s.assert("object"===(void 0===t?"undefined":n(t)),"options must be an object"),t.scheme){s.assert(t.scheme instanceof RegExp||"string"==typeof t.scheme||Array.isArray(t.scheme),"scheme must be a RegExp, String, or Array"),Array.isArray(t.scheme)||(t.scheme=[t.scheme]),s.assert(t.scheme.length>=1,"scheme must have at least 1 scheme specified");for(var a=0;a<t.scheme.length;++a){var u=t.scheme[a];s.assert(u instanceof RegExp||"string"==typeof u,"scheme at position "+a+" must be a RegExp or String"),e+=e?"|":"",u instanceof RegExp?e+=u.source:(s.assert(/[a-zA-Z][a-zA-Z0-9+-\.]*/.test(u),"scheme at position "+a+" must be a valid scheme"),e+=s.escapeRegex(u))}}t.allowRelative&&(r=!0),t.relativeOnly&&(i=!0)}return(e||r||i)&&(o=l.createUriRegex(e,r,i)),this._test("uri",t,function(t,r,n){return o.test(t)?t:i?this.createError("string.uriRelativeOnly",{value:t},r,n):e?this.createError("string.uriCustomScheme",{scheme:e,value:t},r,n):this.createError("string.uri",{value:t},r,n)})},e.prototype.isoDate=function(){return this._test("isoDate",void 0,function(t,e,r){if(f._isIsoDate(t)){if(!r.convert)return t;var n=new Date(t);if(!isNaN(n.getTime()))return n.toISOString()}return this.createError("string.isoDate",{value:t},e,r)})},e.prototype.guid=function(t){var e="";if(t&&t.version){Array.isArray(t.version)||(t.version=[t.version]),s.assert(t.version.length>=1,"version must have at least 1 valid version specified");for(var r=new Set,n=0;n<t.version.length;++n){var i=t.version[n];s.assert("string"==typeof i,"version at position "+n+" must be a string"),i=i.toLowerCase();var o=p.guidVersions[i];s.assert(o,"version at position "+n+" must be one of "+Object.keys(p.guidVersions).join(", ")),s.assert(!r.has(o),"version at position "+n+" must not be a duplicate."),e+=o,r.add(o)}}var a=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}([:-]?)[0-9A-F]{4}\\2?["+(e||"0-9A-F")+"][0-9A-F]{3}\\2?["+(e?"89AB":"0-9A-F")+"][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$","i");return this._test("guid",t,function(t,e,r){var n=a.exec(t);return n?p.guidBrackets[n[1]]!==n[n.length-1]?this.createError("string.guid",{value:t},e,r):t:this.createError("string.guid",{value:t},e,r)})},e.prototype.hex=function(){var t=/^[a-f0-9]+$/i;return this._test("hex",t,function(e,r,n){return t.test(e)?e:this.createError("string.hex",{value:e},r,n)})},e.prototype.base64=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.assert("object"===(void 0===t?"undefined":n(t)),"base64 options must be an object"),s.assert(void 0===t.paddingRequired||"boolean"==typeof t.paddingRequired,"paddingRequired must be boolean");var e=(!1===t.paddingRequired?t.paddingRequired:t.paddingRequired||!0)?/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/:/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/;return this._test("base64",e,function(t,r,n){return e.test(t)?t:this.createError("string.base64",{value:t},r,n)})},e.prototype.hostname=function(){var t=/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/;return this._test("hostname",void 0,function(e,r,n){return e.length<=255&&t.test(e)||o.isIPv6(e)?e:this.createError("string.hostname",{value:e},r,n)})},e.prototype.normalize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NFC";s.assert(s.contain(p.normalizationForms,t),"normalization form must be one of "+p.normalizationForms.join(", "));var e=this._test("normalize",t,function(e,r,n){return n.convert||e===e.normalize(t)?e:this.createError("string.normalize",{value:e,form:t},r,n)});return e._flags.normalize=t,e},e.prototype.lowercase=function(){var t=this._test("lowercase",void 0,function(t,e,r){return r.convert||t===t.toLocaleLowerCase()?t:this.createError("string.lowercase",{value:t},e,r)});return t._flags.case="lower",t},e.prototype.uppercase=function(){var t=this._test("uppercase",void 0,function(t,e,r){return r.convert||t===t.toLocaleUpperCase()?t:this.createError("string.uppercase",{value:t},e,r)});return t._flags.case="upper",t},e.prototype.trim=function(){var t=this._test("trim",void 0,function(t,e,r){return r.convert||t===t.trim()?t:this.createError("string.trim",{value:t},e,r)});return t._flags.trim=!0,t},e.prototype.replace=function(t,e){"string"==typeof t&&(t=new RegExp(s.escapeRegex(t),"g")),s.assert(t instanceof RegExp,"pattern must be a RegExp"),s.assert("string"==typeof e,"replacement must be a String");var r=this.clone();return r._inner.replacements||(r._inner.replacements=[]),r._inner.replacements.push({pattern:t,replacement:e}),r},e.prototype.truncate=function(t){var e=void 0===t||!!t;if(this._flags.truncate===e)return this;var r=this.clone();return r._flags.truncate=e,r},e}(u),p.compare=function(t,r){return function(n,i){var o=c.isRef(n);return s.assert(Number.isSafeInteger(n)&&n>=0||o,"limit must be a positive integer or reference"),s.assert(!i||e.isEncoding(i),"Invalid encoding:",i),this._test(t,n,function(e,s,a){var u=void 0;if(o){if(u=n(s.reference||s.parent,a),!Number.isSafeInteger(u))return this.createError("string.ref",{ref:n.key},s,a)}else u=n;return r(e,u,i)?e:this.createError("string."+t,{limit:u,value:e,encoding:i},s,a)})}},p.String.prototype.min=p.compare("min",function(t,r,n){return(n?e.byteLength(t,n):t.length)>=r}),p.String.prototype.max=p.compare("max",function(t,r,n){return(n?e.byteLength(t,n):t.length)<=r}),p.String.prototype.length=p.compare("length",function(t,r,n){return(n?e.byteLength(t,n):t.length)===r}),p.String.prototype.uuid=p.String.prototype.guid,t.exports=new p.String}).call(e,r(3).Buffer)},function(t,e,r){"use strict";var n=r(13),i={Ip:{cidrs:{ipv4:{required:"\\/(?:"+n.ipv4Cidr+")",optional:"(?:\\/(?:"+n.ipv4Cidr+"))?",forbidden:""},ipv6:{required:"\\/"+n.ipv6Cidr,optional:"(?:\\/"+n.ipv6Cidr+")?",forbidden:""},ipvfuture:{required:"\\/"+n.ipv6Cidr,optional:"(?:\\/"+n.ipv6Cidr+")?",forbidden:""}},versions:{ipv4:n.IPv4address,ipv6:n.IPv6address,ipvfuture:n.IPvFuture}}};i.Ip.createIpRegex=function(t,e){for(var r=void 0,n=0;n<t.length;++n){var o=t[n];r?r+="|"+i.Ip.versions[o]+i.Ip.cidrs[o][e]:r="^(?:"+i.Ip.versions[o]+i.Ip.cidrs[o][e]}return new RegExp(r+")$")},t.exports=i.Ip},function(t,e,r){"use strict";var n=r(13),i={Uri:{createUriRegex:function(t,e,r){var i=n.scheme,o=void 0;if(r)o="(?:"+n.relativeRef+")";else{t&&(i="(?:"+t+")");var s="(?:"+i+":"+n.hierPart+")";o=e?"(?:"+s+"|"+n.relativeRef+")":s}return new RegExp("^"+o+"(?:\\?"+n.query+")?(?:#"+n.fragment+")?$")}}};t.exports=i.Uri},function(t,e,r){"use strict";var n=r(0),i={};t.exports=i.Topo=function(){this._items=[],this.nodes=[]},i.Topo.prototype.add=function(t,e){var r=this,i=[].concat((e=e||{}).before||[]),o=[].concat(e.after||[]),s=e.group||"?",a=e.sort||0;n.assert(-1===i.indexOf(s),"Item cannot come before itself:",s),n.assert(-1===i.indexOf("?"),"Item cannot come before unassociated items"),n.assert(-1===o.indexOf(s),"Item cannot come after itself:",s),n.assert(-1===o.indexOf("?"),"Item cannot come after unassociated items"),[].concat(t).forEach(function(t,e){var n={seq:r._items.length,sort:a,before:i,after:o,group:s,node:t};r._items.push(n)});var u=this._sort();return n.assert(!u,"item","?"!==s?"added into group "+s:"","created a dependencies error"),this.nodes},i.Topo.prototype.merge=function(t){t=[].concat(t);for(var e=0;e<t.length;++e){var r=t[e];if(r)for(var o=0;o<r._items.length;++o){var s=n.shallow(r._items[o]);this._items.push(s)}}this._items.sort(i.mergeSort);for(var a=0;a<this._items.length;++a)this._items[a].seq=a;var u=this._sort();return n.assert(!u,"merge created a dependencies error"),this.nodes},i.mergeSort=function(t,e){return t.sort===e.sort?0:t.sort<e.sort?-1:1},i.Topo.prototype._sort=function(){for(var t={},e=Object.create(null),r=Object.create(null),n=0;n<this._items.length;++n){var i=this._items[n],o=i.seq,s=i.group;r[s]=r[s]||[],r[s].push(o),t[o]=i.before;for(var a=i.after,u=0;u<a.length;++u)e[a[u]]=(e[a[u]]||[]).concat(o)}for(var c=Object.keys(t),f=0;f<c.length;++f){for(var l=c[f],h=[],p=Object.keys(t[l]),d=0;d<p.length;++d){var m=t[l][p[d]];r[m]=r[m]||[];for(var g=0;g<r[m].length;++g)h.push(r[m][g])}t[l]=h}for(var v=Object.keys(e),y=0;y<v.length;++y){var b=v[y];if(r[b])for(var w=0;w<r[b].length;++w){var _=r[b][w];t[_]=t[_].concat(e[b])}}var k=void 0,S={};c=Object.keys(t);for(var x=0;x<c.length;++x){var E=c[x];k=t[E];for(var C=0;C<k.length;++C)S[k[C]]=(S[k[C]]||[]).concat(E)}for(var A={},M=[],I=0;I<this._items.length;++I){var T=I;if(S[I]){T=null;for(var O=0;O<this._items.length;++O)if(!0!==A[O]){S[O]||(S[O]=[]);for(var B=S[O].length,P=0,N=0;N<B;++N)A[S[O][N]]&&++P;if(P===B){T=O;break}}}null!==T&&(A[T]=!0,M.push(T))}if(M.length!==this._items.length)return new Error("Invalid dependencies");for(var R={},F=0;F<this._items.length;++F){var j=this._items[F];R[j.seq]=j}var L=[];this._items=M.map(function(t){var e=R[t];return L.push(e.node),e}),this.nodes=L}},function(t,e,r){"use strict";var n=r(8);t.exports=n},function(t,e,r){"use strict";e.byteLength=function(t){return 3*t.length/4-c(t)},e.toByteArray=function(t){var e,r,n,s,a,u=t.length;s=c(t),a=new o(3*u/4-s),r=s>0?u-4:u;var f=0;for(e=0;e<r;e+=4)n=i[t.charCodeAt(e)]<<18|i[t.charCodeAt(e+1)]<<12|i[t.charCodeAt(e+2)]<<6|i[t.charCodeAt(e+3)],a[f++]=n>>16&255,a[f++]=n>>8&255,a[f++]=255&n;2===s?(n=i[t.charCodeAt(e)]<<2|i[t.charCodeAt(e+1)]>>4,a[f++]=255&n):1===s&&(n=i[t.charCodeAt(e)]<<10|i[t.charCodeAt(e+1)]<<4|i[t.charCodeAt(e+2)]>>2,a[f++]=n>>8&255,a[f++]=255&n);return a},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o="",s=[],a=0,u=r-i;a<u;a+=16383)s.push(f(t,a,a+16383>u?u:a+16383));1===i?(e=t[r-1],o+=n[e>>2],o+=n[e<<4&63],o+="=="):2===i&&(e=(t[r-2]<<8)+t[r-1],o+=n[e>>10],o+=n[e>>4&63],o+=n[e<<2&63],o+="=");return s.push(o),s.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function f(t,e,r){for(var i,o,s=[],a=e;a<r;a+=3)i=(t[a]<<16)+(t[a+1]<<8)+t[a+2],s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,f=-7,l=r?i-1:0,h=r?-1:1,p=t[e+l];for(l+=h,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=256*o+t[e+l],l+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+t[e+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=c}return(p?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(e*u-1)*Math.pow(2,i),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+p]=255&s,p+=d,s/=256,c-=8);t[r+p-d]|=128*m}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e){t.exports={_args:[["joi@13.0.1","/Users/jeff/projects/joi-browser"]],_development:!0,_from:"joi@13.0.1",_id:"joi@13.0.1",_inBundle:!1,_integrity:"sha512-ChTMfmbIg5yrN9pUdeaLL8vzylMQhUteXiXa1MWINsMUs3jTQ8I87lUZwR5GdfCLJlpK04U7UgrxgmU8Zp7PhQ==",_location:"/joi",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"joi@13.0.1",name:"joi",escapedName:"joi",rawSpec:"13.0.1",saveSpec:null,fetchSpec:"13.0.1"},_requiredBy:["#DEV:/"],_resolved:"https://registry.npmjs.org/joi/-/joi-13.0.1.tgz",_spec:"13.0.1",_where:"/Users/jeff/projects/joi-browser",bugs:{url:"https://github.com/hapijs/joi/issues"},dependencies:{hoek:"5.x.x",isemail:"3.x.x",topo:"3.x.x"},description:"Object schema validation",devDependencies:{hapitoc:"1.x.x",lab:"14.x.x"},engines:{node:">=8.3.0"},homepage:"https://github.com/hapijs/joi",keywords:["hapi","schema","validation"],license:"BSD-3-Clause",main:"lib/index.js",name:"joi",repository:{type:"git",url:"git://github.com/hapijs/joi.git"},scripts:{test:"lab -t 100 -a code -L","test-cov-html":"lab -r html -o coverage.html -a code","test-debug":"lab -a code",toc:"hapitoc",version:"npm run toc && git add API.md README.md"},version:"13.0.1"}},function(t,e,r){(function(t){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return n.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var e="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var s=i>=0?arguments[i]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,n="/"===s.charAt(0))}return e=r(o(e.split("/"),function(t){return!!t}),!n).join("/"),(n?"/":"")+e||"."},e.normalize=function(t){var n=e.isAbsolute(t),i="/"===s(t,-1);return(t=r(o(t.split("/"),function(t){return!!t}),!n).join("/"))||n||(t="."),t&&i&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var i=n(t.split("/")),o=n(r.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var c=[];for(u=a;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},e.basename=function(t,e){var r=i(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return i(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(e,r(5))},function(t,e,r){(function(t,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){"object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType;var s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,c=36,f=1,l=26,h=38,p=700,d=72,m=128,g="-",v=/^xn--/,y=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=c-f,k=Math.floor,S=String.fromCharCode;function x(t){throw new RangeError(w[t])}function E(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function C(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+E((t=t.replace(b,".")).split("."),e).join(".")}function A(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function M(t){return E(t,function(t){var e="";return t>65535&&(e+=S((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=S(t)}).join("")}function I(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function T(t,e,r){var n=0;for(t=r?k(t/p):t>>1,t+=k(t/e);t>_*l>>1;n+=c)t=k(t/_);return k(n+(_+1)*t/(t+h))}function O(t){var e,r,n,i,o,s,a,h,p,v,y,b=[],w=t.length,_=0,S=m,E=d;for((r=t.lastIndexOf(g))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&x("not-basic"),b.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<w;){for(o=_,s=1,a=c;i>=w&&x("invalid-input"),((h=(y=t.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:c)>=c||h>k((u-_)/s))&&x("overflow"),_+=h*s,!(h<(p=a<=E?f:a>=E+l?l:a-E));a+=c)s>k(u/(v=c-p))&&x("overflow"),s*=v;E=T(_-o,e=b.length+1,0==o),k(_/e)>u-S&&x("overflow"),S+=k(_/e),_%=e,b.splice(_++,0,S)}return M(b)}function B(t){var e,r,n,i,o,s,a,h,p,v,y,b,w,_,E,C=[];for(b=(t=A(t)).length,e=m,r=0,o=d,s=0;s<b;++s)(y=t[s])<128&&C.push(S(y));for(n=i=C.length,i&&C.push(g);n<b;){for(a=u,s=0;s<b;++s)(y=t[s])>=e&&y<a&&(a=y);for(a-e>k((u-r)/(w=n+1))&&x("overflow"),r+=(a-e)*w,e=a,s=0;s<b;++s)if((y=t[s])<e&&++r>u&&x("overflow"),y==e){for(h=r,p=c;!(h<(v=p<=o?f:p>=o+l?l:p-o));p+=c)E=h-v,_=c-v,C.push(S(I(v+E%_,0))),h=k(E/_);C.push(S(I(h,0))),o=T(r,w,n==i),r=0,++n}++r,++e}return C.join("")}a={version:"1.4.1",ucs2:{decode:A,encode:M},decode:O,encode:B,toASCII:function(t){return C(t,function(t){return y.test(t)?"xn--"+B(t):t})},toUnicode:function(t){return C(t,function(t){return v.test(t)?O(t.slice(4).toLowerCase()):t})}},void 0===(i=function(){return a}.call(e,r,e,t))||(t.exports=i)}()}).call(e,r(39)(t),r(7))},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,r){(function(t,n){var i=/%[sdj%]/g;e.format=function(t){if(!v(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(a(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,o=n.length,s=String(t).replace(i,function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}}),u=n[r];r<o;u=n[++r])m(u)||!w(u)?s+=" "+u:s+=" "+a(u);return s},e.deprecate=function(r,i){if(y(t.process))return function(){return e.deprecate(r,i).apply(this,arguments)};if(!0===n.noDeprecation)return r;var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),o=!0}return r.apply(this,arguments)}};var o,s={};function a(t,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(r)?n.showHidden=r:r&&e._extend(n,r),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),f(n,t,n.depth)}function u(t,e){var r=a.styles[e];return r?"["+a.colors[r][0]+"m"+t+"["+a.colors[r][1]+"m":t}function c(t,e){return t}function f(t,r,n){if(t.customInspect&&r&&S(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return v(i)||(i=f(t,i,n)),i}var o=function(t,e){if(y(e))return t.stylize("undefined","undefined");if(v(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(g(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(m(e))return t.stylize("null","null")}(t,r);if(o)return o;var s=Object.keys(r),a=function(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(r)),k(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(r);if(0===s.length){if(S(r)){var u=r.name?": "+r.name:"";return t.stylize("[Function"+u+"]","special")}if(b(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(_(r))return t.stylize(Date.prototype.toString.call(r),"date");if(k(r))return l(r)}var c,w="",x=!1,E=["{","}"];(p(r)&&(x=!0,E=["[","]"]),S(r))&&(w=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(w=" "+RegExp.prototype.toString.call(r)),_(r)&&(w=" "+Date.prototype.toUTCString.call(r)),k(r)&&(w=" "+l(r)),0!==s.length||x&&0!=r.length?n<0?b(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),c=x?function(t,e,r,n,i){for(var o=[],s=0,a=e.length;s<a;++s)A(e,String(s))?o.push(h(t,e,r,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,r,n,i,!0))}),o}(t,r,n,a,s):s.map(function(e){return h(t,r,n,a,e,x)}),t.seen.pop(),function(t,e,r){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(c,w,E)):E[0]+w+E[1]}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,r,n,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),A(n,i)||(s="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(a=m(r)?f(t,u.value,null):f(t,u.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),y(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function p(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function m(t){return null===t}function g(t){return"number"==typeof t}function v(t){return"string"==typeof t}function y(t){return void 0===t}function b(t){return w(t)&&"[object RegExp]"===x(t)}function w(t){return"object"==typeof t&&null!==t}function _(t){return w(t)&&"[object Date]"===x(t)}function k(t){return w(t)&&("[object Error]"===x(t)||t instanceof Error)}function S(t){return"function"==typeof t}function x(t){return Object.prototype.toString.call(t)}function E(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(y(o)&&(o=n.env.NODE_DEBUG||""),t=t.toUpperCase(),!s[t])if(new RegExp("\\b"+t+"\\b","i").test(o)){var r=n.pid;s[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else s[t]=function(){};return s[t]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=d,e.isNull=m,e.isNullOrUndefined=function(t){return null==t},e.isNumber=g,e.isString=v,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=y,e.isRegExp=b,e.isObject=w,e.isDate=_,e.isError=k,e.isFunction=S,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(37);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,r;console.log("%s - %s",(t=new Date,r=[E(t.getHours()),E(t.getMinutes()),E(t.getSeconds())].join(":"),[t.getDate(),C[t.getMonth()],r].join(" ")),e.format.apply(e,arguments))},e.inherits=r(36),e._extend=function(t,e){if(!e||!w(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(e,r(7),r(5))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}])},t.exports=n()},function(t,e,r){"use strict";const n=r(1092).extend(r(1091)),i=n.object().keys({repo:n.alternatives().try(n.object(),n.string()).allow(null),init:n.alternatives().try(n.boolean(),n.object().keys({bits:n.number().integer()})).allow(null),start:n.boolean(),pass:n.string().allow(""),EXPERIMENTAL:n.object().keys({pubsub:n.boolean(),sharding:n.boolean(),dht:n.boolean()}).allow(null),config:n.object().keys({Addresses:n.object().keys({Swarm:n.array().items(n.multiaddr().options({convert:!1})),API:n.multiaddr().options({convert:!1}),Gateway:n.multiaddr().options({convert:!1})}).allow(null),Discovery:n.object().keys({MDNS:n.object().keys({Enabled:n.boolean(),Interval:n.number().integer()}).allow(null),webRTCStar:n.object().keys({Enabled:n.boolean()}).allow(null)}).allow(null),Bootstrap:n.array().items(n.multiaddr().IPFS().options({convert:!1}))}).allow(null),libp2p:n.object().keys({modules:n.object().allow(null)}).allow(null)}).options({allowUnknown:!0});t.exports.validate=(t=>n.attempt(t,i))},function(t,e,r){function n(t){var r;function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;u++;var i=e.formatters[n];if("function"==typeof i){var o=s[u];r=i.call(t,o),s.splice(u,1),u--}return r}),e.formatArgs.call(t,s),(n.log||e.log||console.log.bind(console)).apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),n.destroy=i,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var r;e.save(t),e.names=[],e.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(r=0;r<e.instances.length;r++){var o=e.instances[r];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(34),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e,r){(function(t,r){var n=200,i="Expected a function",o="__lodash_hash_undefined__",s=1,a=2,u=1/0,c=9007199254740991,f="[object Arguments]",l="[object Array]",h="[object Boolean]",p="[object Date]",d="[object Error]",m="[object Function]",g="[object GeneratorFunction]",v="[object Map]",y="[object Number]",b="[object Object]",w="[object RegExp]",_="[object Set]",k="[object String]",S="[object Symbol]",x="[object ArrayBuffer]",E="[object DataView]",C=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A=/^\w*$/,M=/^\./,I=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T=/\\(\\)?/g,O=/^\[object .+?Constructor\]$/,B=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[f]=P[l]=P[x]=P[h]=P[E]=P[p]=P[d]=P[m]=P[v]=P[y]=P[b]=P[w]=P[_]=P[k]=P["[object WeakMap]"]=!1;var N="object"==typeof t&&t&&t.Object===Object&&t,R="object"==typeof self&&self&&self.Object===Object&&self,F=N||R||Function("return this")(),j="object"==typeof e&&e&&!e.nodeType&&e,L=j&&"object"==typeof r&&r&&!r.nodeType&&r,D=L&&L.exports===j&&N.process,U=function(){try{return D&&D.binding("util")}catch(t){}}(),z=U&&U.isTypedArray;function H(t,e){return!!(t?t.length:0)&&function(t,e,r){if(e!=e)return function(t,e,r,n){var i=t.length,o=r+(n?1:-1);for(;n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,V,r);var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,0)>-1}function K(t,e,r){for(var n=-1,i=t?t.length:0;++n<i;)if(r(e,t[n]))return!0;return!1}function q(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function V(t){return t!=t}function W(t,e){return t.has(e)}function G(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function Y(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function $(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var Z,X,J,Q=Array.prototype,tt=Function.prototype,et=Object.prototype,rt=F["__core-js_shared__"],nt=(Z=/[^.]+$/.exec(rt&&rt.keys&&rt.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"",it=tt.toString,ot=et.hasOwnProperty,st=et.toString,at=RegExp("^"+it.call(ot).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ut=F.Symbol,ct=F.Uint8Array,ft=et.propertyIsEnumerable,lt=Q.splice,ht=(X=Object.keys,J=Object,function(t){return X(J(t))}),pt=qt(F,"DataView"),dt=qt(F,"Map"),mt=qt(F,"Promise"),gt=qt(F,"Set"),vt=qt(F,"WeakMap"),yt=qt(Object,"create"),bt=Jt(pt),wt=Jt(dt),_t=Jt(mt),kt=Jt(gt),St=Jt(vt),xt=ut?ut.prototype:void 0,Et=xt?xt.valueOf:void 0,Ct=xt?xt.toString:void 0;function At(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Mt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function It(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Tt(t){var e=-1,r=t?t.length:0;for(this.__data__=new It;++e<r;)this.add(t[e])}function Ot(t){this.__data__=new Mt(t)}function Bt(t,e){var r=re(t)||ee(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!ot.call(t,o)||i&&("length"==o||Wt(o,n))||r.push(o);return r}function Pt(t,e){for(var r=t.length;r--;)if(te(t[r][0],e))return r;return-1}function Nt(t,e){for(var r=0,n=(e=Gt(e,t)?[e]:Ut(e)).length;null!=t&&r<n;)t=t[Xt(e[r++])];return r&&r==n?t:void 0}function Rt(t,e){return null!=t&&e in Object(t)}function Ft(t,e,r,n,i){return t===e||(null==t||null==e||!se(t)&&!ae(e)?t!=t&&e!=e:function(t,e,r,n,i,o){var u=re(t),c=re(e),m=l,g=l;u||(m=(m=Vt(t))==f?b:m);c||(g=(g=Vt(e))==f?b:g);var C=m==b&&!G(t),A=g==b&&!G(e),M=m==g;if(M&&!C)return o||(o=new Ot),u||ce(t)?Ht(t,e,r,n,i,o):function(t,e,r,n,i,o,u){switch(r){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x:return!(t.byteLength!=e.byteLength||!n(new ct(t),new ct(e)));case h:case p:case y:return te(+t,+e);case d:return t.name==e.name&&t.message==e.message;case w:case k:return t==e+"";case v:var c=Y;case _:var f=o&a;if(c||(c=$),t.size!=e.size&&!f)return!1;var l=u.get(t);if(l)return l==e;o|=s,u.set(t,e);var m=Ht(c(t),c(e),n,i,o,u);return u.delete(t),m;case S:if(Et)return Et.call(t)==Et.call(e)}return!1}(t,e,m,r,n,i,o);if(!(i&a)){var I=C&&ot.call(t,"__wrapped__"),T=A&&ot.call(e,"__wrapped__");if(I||T){var O=I?t.value():t,B=T?e.value():e;return o||(o=new Ot),r(O,B,n,i,o)}}if(!M)return!1;return o||(o=new Ot),function(t,e,r,n,i,o){var s=i&a,u=fe(t),c=u.length,f=fe(e).length;if(c!=f&&!s)return!1;for(var l=c;l--;){var h=u[l];if(!(s?h in e:ot.call(e,h)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var m=s;++l<c;){h=u[l];var g=t[h],v=e[h];if(n)var y=s?n(v,g,h,e,t,o):n(g,v,h,t,e,o);if(!(void 0===y?g===v||r(g,v,n,i,o):y)){d=!1;break}m||(m="constructor"==h)}if(d&&!m){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,r,n,i,o)}(t,e,Ft,r,n,i))}function jt(t){return!(!se(t)||nt&&nt in t)&&(ie(t)||G(t)?at:O).test(Jt(t))}function Lt(t){return"function"==typeof t?t:null==t?le:"object"==typeof t?re(t)?function(t,e){if(Gt(t)&&Yt(e))return $t(Xt(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:Nt(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){var n,i=-1,o=(e=Gt(e,t)?[e]:Ut(e)).length;for(;++i<o;){var s=Xt(e[i]);if(!(n=null!=t&&r(t,s)))break;t=t[s]}if(n)return n;return!!(o=t?t.length:0)&&oe(o)&&Wt(s,o)&&(re(t)||ee(t))}(t,e,Rt)}(r,t):Ft(e,n,void 0,s|a)}}(t[0],t[1]):function(t){var e=function(t){var e=fe(t),r=e.length;for(;r--;){var n=e[r],i=t[n];e[r]=[n,i,Yt(i)]}return e}(t);if(1==e.length&&e[0][2])return $t(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var i=r.length,o=i,u=!n;if(null==t)return!o;for(t=Object(t);i--;){var c=r[i];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){var f=(c=r[i])[0],l=t[f],h=c[1];if(u&&c[2]){if(void 0===l&&!(f in t))return!1}else{var p=new Ot;if(n)var d=n(l,h,f,t,e,p);if(!(void 0===d?Ft(h,l,n,s|a,p):d))return!1}}return!0}(r,t,e)}}(t):Gt(e=t)?(r=Xt(e),function(t){return null==t?void 0:t[r]}):function(t){return function(e){return Nt(e,t)}}(e);var e,r}function Dt(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||et,e!==n)return ht(t);var e,r,n,i=[];for(var o in Object(t))ot.call(t,o)&&"constructor"!=o&&i.push(o);return i}function Ut(t){return re(t)?t:Zt(t)}At.prototype.clear=function(){this.__data__=yt?yt(null):{}},At.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},At.prototype.get=function(t){var e=this.__data__;if(yt){var r=e[t];return r===o?void 0:r}return ot.call(e,t)?e[t]:void 0},At.prototype.has=function(t){var e=this.__data__;return yt?void 0!==e[t]:ot.call(e,t)},At.prototype.set=function(t,e){return this.__data__[t]=yt&&void 0===e?o:e,this},Mt.prototype.clear=function(){this.__data__=[]},Mt.prototype.delete=function(t){var e=this.__data__,r=Pt(e,t);return!(r<0||(r==e.length-1?e.pop():lt.call(e,r,1),0))},Mt.prototype.get=function(t){var e=this.__data__,r=Pt(e,t);return r<0?void 0:e[r][1]},Mt.prototype.has=function(t){return Pt(this.__data__,t)>-1},Mt.prototype.set=function(t,e){var r=this.__data__,n=Pt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},It.prototype.clear=function(){this.__data__={hash:new At,map:new(dt||Mt),string:new At}},It.prototype.delete=function(t){return Kt(this,t).delete(t)},It.prototype.get=function(t){return Kt(this,t).get(t)},It.prototype.has=function(t){return Kt(this,t).has(t)},It.prototype.set=function(t,e){return Kt(this,t).set(t,e),this},Tt.prototype.add=Tt.prototype.push=function(t){return this.__data__.set(t,o),this},Tt.prototype.has=function(t){return this.__data__.has(t)},Ot.prototype.clear=function(){this.__data__=new Mt},Ot.prototype.delete=function(t){return this.__data__.delete(t)},Ot.prototype.get=function(t){return this.__data__.get(t)},Ot.prototype.has=function(t){return this.__data__.has(t)},Ot.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Mt){var i=r.__data__;if(!dt||i.length<n-1)return i.push([t,e]),this;r=this.__data__=new It(i)}return r.set(t,e),this};var zt=gt&&1/$(new gt([,-0]))[1]==u?function(t){return new gt(t)}:function(){};function Ht(t,e,r,n,i,o){var u=i&a,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var h=-1,p=!0,d=i&s?new Tt:void 0;for(o.set(t,e),o.set(e,t);++h<c;){var m=t[h],g=e[h];if(n)var v=u?n(g,m,h,e,t,o):n(m,g,h,t,e,o);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!q(e,function(t,e){if(!d.has(e)&&(m===t||r(m,t,n,i,o)))return d.add(e)})){p=!1;break}}else if(m!==g&&!r(m,g,n,i,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function Kt(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function qt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return jt(r)?r:void 0}var Vt=function(t){return st.call(t)};function Wt(t,e){return!!(e=null==e?c:e)&&("number"==typeof t||B.test(t))&&t>-1&&t%1==0&&t<e}function Gt(t,e){if(re(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!ue(t))||(A.test(t)||!C.test(t)||null!=e&&t in Object(e))}function Yt(t){return t==t&&!se(t)}function $t(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(pt&&Vt(new pt(new ArrayBuffer(1)))!=E||dt&&Vt(new dt)!=v||mt&&"[object Promise]"!=Vt(mt.resolve())||gt&&Vt(new gt)!=_||vt&&"[object WeakMap]"!=Vt(new vt))&&(Vt=function(t){var e=st.call(t),r=e==b?t.constructor:void 0,n=r?Jt(r):void 0;if(n)switch(n){case bt:return E;case wt:return v;case _t:return"[object Promise]";case kt:return _;case St:return"[object WeakMap]"}return e});var Zt=Qt(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(ue(t))return Ct?Ct.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}(e);var r=[];return M.test(t)&&r.push(""),t.replace(I,function(t,e,n,i){r.push(n?i.replace(T,"$1"):e||t)}),r});function Xt(t){if("string"==typeof t||ue(t))return t;var e=t+"";return"0"==e&&1/t==-u?"-0":e}function Jt(t){if(null!=t){try{return it.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Qt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(Qt.Cache||It),r}function te(t,e){return t===e||t!=t&&e!=e}function ee(t){return function(t){return ae(t)&&ne(t)}(t)&&ot.call(t,"callee")&&(!ft.call(t,"callee")||st.call(t)==f)}Qt.Cache=It;var re=Array.isArray;function ne(t){return null!=t&&oe(t.length)&&!ie(t)}function ie(t){var e=se(t)?st.call(t):"";return e==m||e==g}function oe(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function se(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ae(t){return!!t&&"object"==typeof t}function ue(t){return"symbol"==typeof t||ae(t)&&st.call(t)==S}var ce=z?function(t){return function(e){return t(e)}}(z):function(t){return ae(t)&&oe(t.length)&&!!P[st.call(t)]};function fe(t){return ne(t)?Bt(t):Dt(t)}function le(t){return t}r.exports=function(t,e){return t&&t.length?function(t,e,r){var i=-1,o=H,s=t.length,a=!0,u=[],c=u;if(r)a=!1,o=K;else if(s>=n){var f=e?null:zt(t);if(f)return $(f);a=!1,o=W,c=new Tt}else c=e?[]:u;t:for(;++i<s;){var l=t[i],h=e?e(l):l;if(l=r||0!==l?l:0,a&&h==h){for(var p=c.length;p--;)if(c[p]===h)continue t;e&&c.push(h),u.push(l)}else o(c,h,r)||(c!==u&&c.push(h),u.push(l))}return u}(t,Lt(e)):[]}}).call(this,r(7),r(24)(t))},function(t,e,r){"use strict";const n=r(484).ensureMultiaddr,i=r(1095);t.exports=class{constructor(t){this._multiaddrs=t||[],this._observedMultiaddrs=[]}add(t){t=n(t),this.has(t)||this._multiaddrs.push(t)}addSafe(t){t=n(t),this._observedMultiaddrs.some((e,r)=>{if(e.equals(t))return this.add(t),this._observedMultiaddrs.splice(r,1),!0})||this._observedMultiaddrs.push(t)}toArray(){return this._multiaddrs.slice()}get size(){return this._multiaddrs.length}forEach(t){return this._multiaddrs.forEach(t)}has(t){return t=n(t),this._multiaddrs.some(e=>e.equals(t))}delete(t){t=n(t),this._multiaddrs.some((e,r)=>{if(e.equals(t))return this._multiaddrs.splice(r,1),!0})}replace(t,e){Array.isArray(t)||(t=[t]),Array.isArray(e)||(e=[e]),t.forEach(t=>this.delete(t)),e.forEach(t=>this.add(t))}clear(){this._multiaddrs=[]}distinct(){return i(this._multiaddrs,t=>[t.toOptions().port,t.toOptions().transport].join())}}},function(t,e,r){"use strict";var n=e,i=r(0).Buffer,o=r(339);n.toBuffer=function(t,e,r){var n;if(r=~~r,this.isV4Format(t))n=e||new i(r+4),t.split(/\./g).map(function(t){n[r++]=255&parseInt(t,10)});else if(this.isV6Format(t)){var o,s=t.split(":",8);for(o=0;o<s.length;o++){var a;this.isV4Format(s[o])&&(a=this.toBuffer(s[o]),s[o]=a.slice(0,2).toString("hex")),a&&++o<8&&s.splice(o,0,a.slice(2,4).toString("hex"))}if(""===s[0])for(;s.length<8;)s.unshift("0");else if(""===s[s.length-1])for(;s.length<8;)s.push("0");else if(s.length<8){for(o=0;o<s.length&&""!==s[o];o++);var u=[o,1];for(o=9-s.length;o>0;o--)u.push("0");s.splice.apply(s,u)}for(n=e||new i(r+16),o=0;o<s.length;o++){var c=parseInt(s[o],16);n[r++]=c>>8&255,n[r++]=255&c}}if(!n)throw Error("Invalid ip address: "+t);return n},n.toString=function(t,e,r){e=~~e;var n=[];if(4===(r=r||t.length-e)){for(var i=0;i<r;i++)n.push(t[e+i]);n=n.join(".")}else if(16===r){for(i=0;i<r;i+=2)n.push(t.readUInt16BE(e+i).toString(16));n=(n=(n=n.join(":")).replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3")).replace(/:{3,4}/,"::")}return n};var s=/^(\d{1,3}\.){3,3}\d{1,3}$/,a=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;function u(t){return t?t.toLowerCase():"ipv4"}n.isV4Format=function(t){return s.test(t)},n.isV6Format=function(t){return a.test(t)},n.fromPrefixLen=function(t,e){var r=4;"ipv6"===(e=t>32?"ipv6":u(e))&&(r=16);for(var o=new i(r),s=0,a=o.length;s<a;++s){var c=8;t<8&&(c=t),t-=c,o[s]=255&~(255>>c)}return n.toString(o)},n.mask=function(t,e){t=n.toBuffer(t),e=n.toBuffer(e);var r=new i(Math.max(t.length,e.length)),o=0;if(t.length===e.length)for(o=0;o<t.length;o++)r[o]=t[o]&e[o];else if(4===e.length)for(o=0;o<e.length;o++)r[o]=t[t.length-4+o]&e[o];else{for(o=0;o<r.length-6;o++)r[o]=0;for(r[10]=255,r[11]=255,o=0;o<t.length;o++)r[o+12]=t[o]&e[o+12];o+=12}for(;o<r.length;o++)r[o]=0;return n.toString(r)},n.cidr=function(t){var e=t.split("/"),r=e[0];if(2!==e.length)throw new Error("invalid CIDR subnet: "+r);var i=n.fromPrefixLen(parseInt(e[1],10));return n.mask(r,i)},n.subnet=function(t,e){for(var r=n.toLong(n.mask(t,e)),i=n.toBuffer(e),o=0,s=0;s<i.length;s++)if(255===i[s])o+=8;else for(var a=255&i[s];a;)a=a<<1&255,o++;var u=Math.pow(2,32-o);return{networkAddress:n.fromLong(r),firstAddress:u<=2?n.fromLong(r):n.fromLong(r+1),lastAddress:u<=2?n.fromLong(r+u-1):n.fromLong(r+u-2),broadcastAddress:n.fromLong(r+u-1),subnetMask:e,subnetMaskLength:o,numHosts:u<=2?u:u-2,length:u,contains:function(t){return r===n.toLong(n.mask(t,e))}}},n.cidrSubnet=function(t){var e=t.split("/"),r=e[0];if(2!==e.length)throw new Error("invalid CIDR subnet: "+r);var i=n.fromPrefixLen(parseInt(e[1],10));return n.subnet(r,i)},n.not=function(t){for(var e=n.toBuffer(t),r=0;r<e.length;r++)e[r]=255^e[r];return n.toString(e)},n.or=function(t,e){if(t=n.toBuffer(t),e=n.toBuffer(e),t.length===e.length){for(var r=0;r<t.length;++r)t[r]|=e[r];return n.toString(t)}var i=t,o=e;e.length>t.length&&(i=e,o=t);var s=i.length-o.length;for(r=s;r<i.length;++r)i[r]|=o[r-s];return n.toString(i)},n.isEqual=function(t,e){if(t=n.toBuffer(t),e=n.toBuffer(e),t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}if(4===e.length){var i=e;e=t,t=i}for(r=0;r<10;r++)if(0!==e[r])return!1;var o=e.readUInt16BE(10);if(0!==o&&65535!==o)return!1;for(r=0;r<4;r++)if(t[r]!==e[r+12])return!1;return!0},n.isPrivate=function(t){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^f[cd][0-9a-f]{2}:/i.test(t)||/^fe80:/i.test(t)||/^::1$/.test(t)||/^::$/.test(t)},n.isPublic=function(t){return!n.isPrivate(t)},n.isLoopback=function(t){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(t)||/^fe80::1$/.test(t)||/^::1$/.test(t)||/^::$/.test(t)},n.loopback=function(t){if("ipv4"!==(t=u(t))&&"ipv6"!==t)throw new Error("family must be ipv4 or ipv6");return"ipv4"===t?"127.0.0.1":"fe80::1"},n.address=function(t,e){var r,i=o.networkInterfaces();if(e=u(e),t&&"private"!==t&&"public"!==t){var s=i[t].filter(function(t){return t.family.toLowerCase()===e});if(0===s.length)return;return s[0].address}return(r=Object.keys(i).map(function(r){var o=i[r].filter(function(r){return r.family=r.family.toLowerCase(),r.family===e&&!n.isLoopback(r.address)&&(!t||("public"===t?n.isPrivate(r.address):n.isPublic(r.address)))});return o.length?o[0].address:void 0}).filter(Boolean)).length?r[0]:n.loopback(e)},n.toLong=function(t){var e=0;return t.split(".").forEach(function(t){e<<=8,e+=parseInt(t)}),e>>>0},n.fromLong=function(t){return(t>>>24)+"."+(t>>16&255)+"."+(t>>8&255)+"."+(255&t)}},function(t,e,r){"use strict";(function(e){const n=r(1097),i=r(290),o=r(86),s=r(35);function a(t,r){return r instanceof e?a.toString(t,r):a.toBuffer(t,r)}t.exports=a,a.toString=function(t,e){switch((t=i(t)).code){case 4:case 41:return n.toString(e);case 6:case 17:case 33:case 132:return function(t){return t.readUInt16BE(0)}(e);case 54:case 55:case 56:return function(t){const e=s.decode(t);if((t=t.slice(s.decode.bytes)).length!==e)throw new Error("inconsistent lengths");return t.toString()}(e);case 421:return function(t){const e=s.decode(t),r=t.slice(s.decode.bytes);if(r.length!==e)throw new Error("inconsistent lengths");return o.encode(r)}(e);default:return e.toString("hex")}},a.toBuffer=function(t,r){switch((t=i(t)).code){case 4:case 41:return n.toBuffer(r);case 6:case 17:case 33:case 132:return function(t){const r=e.alloc(2);return r.writeUInt16BE(t,0),r}(parseInt(r,10));case 54:case 55:case 56:return function(t){const r=e.from(t),n=e.from(s.encode(r.length));return e.concat([n,r])}(r);case 421:return function(t){const r=e.from(o.decode(t)),n=e.from(s.encode(r.length));return e.concat([n,r])}(r);default:return e.from(r,"hex")}}}).call(this,r(0).Buffer)},function(t,e,r){(function(t,r){var n=200,i="Expected a function",o="__lodash_hash_undefined__",s=1,a=2,u=1/0,c=9007199254740991,f="[object Arguments]",l="[object Array]",h="[object Boolean]",p="[object Date]",d="[object Error]",m="[object Function]",g="[object GeneratorFunction]",v="[object Map]",y="[object Number]",b="[object Object]",w="[object RegExp]",_="[object Set]",k="[object String]",S="[object Symbol]",x="[object ArrayBuffer]",E="[object DataView]",C=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A=/^\w*$/,M=/^\./,I=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T=/\\(\\)?/g,O=/^\[object .+?Constructor\]$/,B=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[f]=P[l]=P[x]=P[h]=P[E]=P[p]=P[d]=P[m]=P[v]=P[y]=P[b]=P[w]=P[_]=P[k]=P["[object WeakMap]"]=!1;var N="object"==typeof t&&t&&t.Object===Object&&t,R="object"==typeof self&&self&&self.Object===Object&&self,F=N||R||Function("return this")(),j="object"==typeof e&&e&&!e.nodeType&&e,L=j&&"object"==typeof r&&r&&!r.nodeType&&r,D=L&&L.exports===j&&N.process,U=function(){try{return D&&D.binding("util")}catch(t){}}(),z=U&&U.isTypedArray;function H(t,e){for(var r=-1,n=t?t.length:0,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}function K(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function q(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function V(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function W(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var G,Y,$,Z=Array.prototype,X=Function.prototype,J=Object.prototype,Q=F["__core-js_shared__"],tt=(G=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",et=X.toString,rt=J.hasOwnProperty,nt=J.toString,it=RegExp("^"+et.call(rt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=F.Symbol,st=F.Uint8Array,at=J.propertyIsEnumerable,ut=Z.splice,ct=(Y=Object.keys,$=Object,function(t){return Y($(t))}),ft=Vt(F,"DataView"),lt=Vt(F,"Map"),ht=Vt(F,"Promise"),pt=Vt(F,"Set"),dt=Vt(F,"WeakMap"),mt=Vt(Object,"create"),gt=Qt(ft),vt=Qt(lt),yt=Qt(ht),bt=Qt(pt),wt=Qt(dt),_t=ot?ot.prototype:void 0,kt=_t?_t.valueOf:void 0,St=_t?_t.toString:void 0;function xt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Et(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ct(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function At(t){var e=-1,r=t?t.length:0;for(this.__data__=new Ct;++e<r;)this.add(t[e])}function Mt(t){this.__data__=new Et(t)}function It(t,e){var r=ne(t)||re(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!rt.call(t,o)||i&&("length"==o||Gt(o,n))||r.push(o);return r}function Tt(t,e){for(var r=t.length;r--;)if(ee(t[r][0],e))return r;return-1}xt.prototype.clear=function(){this.__data__=mt?mt(null):{}},xt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},xt.prototype.get=function(t){var e=this.__data__;if(mt){var r=e[t];return r===o?void 0:r}return rt.call(e,t)?e[t]:void 0},xt.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:rt.call(e,t)},xt.prototype.set=function(t,e){return this.__data__[t]=mt&&void 0===e?o:e,this},Et.prototype.clear=function(){this.__data__=[]},Et.prototype.delete=function(t){var e=this.__data__,r=Tt(e,t);return!(r<0||(r==e.length-1?e.pop():ut.call(e,r,1),0))},Et.prototype.get=function(t){var e=this.__data__,r=Tt(e,t);return r<0?void 0:e[r][1]},Et.prototype.has=function(t){return Tt(this.__data__,t)>-1},Et.prototype.set=function(t,e){var r=this.__data__,n=Tt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},Ct.prototype.clear=function(){this.__data__={hash:new xt,map:new(lt||Et),string:new xt}},Ct.prototype.delete=function(t){return qt(this,t).delete(t)},Ct.prototype.get=function(t){return qt(this,t).get(t)},Ct.prototype.has=function(t){return qt(this,t).has(t)},Ct.prototype.set=function(t,e){return qt(this,t).set(t,e),this},At.prototype.add=At.prototype.push=function(t){return this.__data__.set(t,o),this},At.prototype.has=function(t){return this.__data__.has(t)},Mt.prototype.clear=function(){this.__data__=new Et},Mt.prototype.delete=function(t){return this.__data__.delete(t)},Mt.prototype.get=function(t){return this.__data__.get(t)},Mt.prototype.has=function(t){return this.__data__.has(t)},Mt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Et){var i=r.__data__;if(!lt||i.length<n-1)return i.push([t,e]),this;r=this.__data__=new Ct(i)}return r.set(t,e),this};var Ot,Bt,Pt=(Ot=function(t,e){return t&&Rt(t,e,le)},function(t,e){if(null==t)return t;if(!ie(t))return Ot(t,e);for(var r=t.length,n=Bt?r:-1,i=Object(t);(Bt?n--:++n<r)&&!1!==e(i[n],n,i););return t});function Nt(t,e){var r=[];return Pt(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r}var Rt=function(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===r(o[u],u,o))break}return e}}();function Ft(t,e){for(var r=0,n=(e=Yt(e,t)?[e]:Ht(e)).length;null!=t&&r<n;)t=t[Jt(e[r++])];return r&&r==n?t:void 0}function jt(t,e){return null!=t&&e in Object(t)}function Lt(t,e,r,n,i){return t===e||(null==t||null==e||!ae(t)&&!ue(e)?t!=t&&e!=e:function(t,e,r,n,i,o){var u=ne(t),c=ne(e),m=l,g=l;u||(m=(m=Wt(t))==f?b:m);c||(g=(g=Wt(e))==f?b:g);var C=m==b&&!q(t),A=g==b&&!q(e),M=m==g;if(M&&!C)return o||(o=new Mt),u||fe(t)?Kt(t,e,r,n,i,o):function(t,e,r,n,i,o,u){switch(r){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x:return!(t.byteLength!=e.byteLength||!n(new st(t),new st(e)));case h:case p:case y:return ee(+t,+e);case d:return t.name==e.name&&t.message==e.message;case w:case k:return t==e+"";case v:var c=V;case _:var f=o&a;if(c||(c=W),t.size!=e.size&&!f)return!1;var l=u.get(t);if(l)return l==e;o|=s,u.set(t,e);var m=Kt(c(t),c(e),n,i,o,u);return u.delete(t),m;case S:if(kt)return kt.call(t)==kt.call(e)}return!1}(t,e,m,r,n,i,o);if(!(i&a)){var I=C&&rt.call(t,"__wrapped__"),T=A&&rt.call(e,"__wrapped__");if(I||T){var O=I?t.value():t,B=T?e.value():e;return o||(o=new Mt),r(O,B,n,i,o)}}if(!M)return!1;return o||(o=new Mt),function(t,e,r,n,i,o){var s=i&a,u=le(t),c=u.length,f=le(e).length;if(c!=f&&!s)return!1;for(var l=c;l--;){var h=u[l];if(!(s?h in e:rt.call(e,h)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var d=!0;o.set(t,e),o.set(e,t);for(var m=s;++l<c;){h=u[l];var g=t[h],v=e[h];if(n)var y=s?n(v,g,h,e,t,o):n(g,v,h,t,e,o);if(!(void 0===y?g===v||r(g,v,n,i,o):y)){d=!1;break}m||(m="constructor"==h)}if(d&&!m){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,r,n,i,o)}(t,e,Lt,r,n,i))}function Dt(t){return!(!ae(t)||tt&&tt in t)&&(oe(t)||q(t)?it:O).test(Qt(t))}function Ut(t){return"function"==typeof t?t:null==t?he:"object"==typeof t?ne(t)?function(t,e){if(Yt(t)&&$t(e))return Zt(Jt(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:Ft(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){var n,i=-1,o=(e=Yt(e,t)?[e]:Ht(e)).length;for(;++i<o;){var s=Jt(e[i]);if(!(n=null!=t&&r(t,s)))break;t=t[s]}if(n)return n;return!!(o=t?t.length:0)&&se(o)&&Gt(s,o)&&(ne(t)||re(t))}(t,e,jt)}(r,t):Lt(e,n,void 0,s|a)}}(t[0],t[1]):function(t){var e=function(t){var e=le(t),r=e.length;for(;r--;){var n=e[r],i=t[n];e[r]=[n,i,$t(i)]}return e}(t);if(1==e.length&&e[0][2])return Zt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var i=r.length,o=i,u=!n;if(null==t)return!o;for(t=Object(t);i--;){var c=r[i];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){var f=(c=r[i])[0],l=t[f],h=c[1];if(u&&c[2]){if(void 0===l&&!(f in t))return!1}else{var p=new Mt;if(n)var d=n(l,h,f,t,e,p);if(!(void 0===d?Lt(h,l,n,s|a,p):d))return!1}}return!0}(r,t,e)}}(t):Yt(e=t)?(r=Jt(e),function(t){return null==t?void 0:t[r]}):function(t){return function(e){return Ft(e,t)}}(e);var e,r}function zt(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||J,e!==n)return ct(t);var e,r,n,i=[];for(var o in Object(t))rt.call(t,o)&&"constructor"!=o&&i.push(o);return i}function Ht(t){return ne(t)?t:Xt(t)}function Kt(t,e,r,n,i,o){var u=i&a,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var h=-1,p=!0,d=i&s?new At:void 0;for(o.set(t,e),o.set(e,t);++h<c;){var m=t[h],g=e[h];if(n)var v=u?n(g,m,h,e,t,o):n(m,g,h,t,e,o);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!K(e,function(t,e){if(!d.has(e)&&(m===t||r(m,t,n,i,o)))return d.add(e)})){p=!1;break}}else if(m!==g&&!r(m,g,n,i,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function qt(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Vt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Dt(r)?r:void 0}var Wt=function(t){return nt.call(t)};function Gt(t,e){return!!(e=null==e?c:e)&&("number"==typeof t||B.test(t))&&t>-1&&t%1==0&&t<e}function Yt(t,e){if(ne(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!ce(t))||(A.test(t)||!C.test(t)||null!=e&&t in Object(e))}function $t(t){return t==t&&!ae(t)}function Zt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(ft&&Wt(new ft(new ArrayBuffer(1)))!=E||lt&&Wt(new lt)!=v||ht&&"[object Promise]"!=Wt(ht.resolve())||pt&&Wt(new pt)!=_||dt&&"[object WeakMap]"!=Wt(new dt))&&(Wt=function(t){var e=nt.call(t),r=e==b?t.constructor:void 0,n=r?Qt(r):void 0;if(n)switch(n){case gt:return E;case vt:return v;case yt:return"[object Promise]";case bt:return _;case wt:return"[object WeakMap]"}return e});var Xt=te(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(ce(t))return St?St.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}(e);var r=[];return M.test(t)&&r.push(""),t.replace(I,function(t,e,n,i){r.push(n?i.replace(T,"$1"):e||t)}),r});function Jt(t){if("string"==typeof t||ce(t))return t;var e=t+"";return"0"==e&&1/t==-u?"-0":e}function Qt(t){if(null!=t){try{return et.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function te(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s),s};return r.cache=new(te.Cache||Ct),r}function ee(t,e){return t===e||t!=t&&e!=e}function re(t){return function(t){return ue(t)&&ie(t)}(t)&&rt.call(t,"callee")&&(!at.call(t,"callee")||nt.call(t)==f)}te.Cache=Ct;var ne=Array.isArray;function ie(t){return null!=t&&se(t.length)&&!oe(t)}function oe(t){var e=ae(t)?nt.call(t):"";return e==m||e==g}function se(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function ae(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ue(t){return!!t&&"object"==typeof t}function ce(t){return"symbol"==typeof t||ue(t)&&nt.call(t)==S}var fe=z?function(t){return function(e){return t(e)}}(z):function(t){return ue(t)&&se(t.length)&&!!P[nt.call(t)]};function le(t){return ie(t)?It(t):zt(t)}function he(t){return t}r.exports=function(t,e){return(ne(t)?H:Nt)(t,Ut(e))}}).call(this,r(7),r(24)(t))},function(t,e,r){"use strict";(function(e){const n=r(291),i=r(1099),o=r(1098),s=r(290),a=r(35);function u(t){const e=[],r=t.split("/").slice(1);if(1===r.length&&""===r[0])return[];for(let n=0;n<r.length;n++){const i=r[n];if(0!==s(i).size){if(++n>=r.length)throw b("invalid address: "+t);e.push([i,r[n]])}else e.push([i])}return e}function c(t){const e=[];return n(t,function(t){const r=w(t);e.push(r.name),t.length>1&&e.push(t[1])}),"/"+e.join("/")}function f(t){return n(t,function(t){Array.isArray(t)||(t=[t]);const e=w(t);return t.length>1?[e.code,o.toBuffer(e.code,t[1])]:[e.code]})}function l(t){return n(t,function(t){const e=w(t);return t.length>1?[e.code,o.toString(e.code,t[1])]:[e.code]})}function h(t){return g(e.concat(n(t,function(t){const r=w(t);let n=e.from(a.encode(r.code));return t.length>1&&(n=e.concat([n,t[1]])),n})))}function p(t,e){if(t.size>0)return t.size/8;if(0===t.size)return 0;return a.decode(e)+a.decode.bytes}function d(t){const e=[];let r=0;for(;r<t.length;){const n=a.decode(t,r),i=a.decode.bytes,o=p(s(n),t.slice(r+i));if(0===o){e.push([n]),r+=i;continue}const u=t.slice(r+i,r+i+o);if((r+=o+i)>t.length)throw b("Invalid address buffer: "+t.toString("hex"));e.push([n,u])}return e}function m(t){return h(f(u(t=y(t))))}function g(t){const r=v(t);if(r)throw r;return e.from(t)}function v(t){try{d(t)}catch(t){return t}}function y(t){return"/"+i(t.trim().split("/")).join("/")}function b(t){return new Error("Error parsing address: "+t)}function w(t){return s(t[0])}t.exports={stringToStringTuples:u,stringTuplesToString:c,tuplesToStringTuples:l,stringTuplesToTuples:f,bufferToTuples:d,tuplesToBuffer:h,bufferToString:function(t){return c(l(d(t)))},stringToBuffer:m,fromString:function(t){return m(t)},fromBuffer:g,validateBuffer:v,isValidBuffer:function(t){return void 0===v(t)},cleanPath:y,ParseError:b,protoFromTuple:w,sizeForAddr:p}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(292),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,o.default)(arguments),r=e.pop();t.call(this,e,r)}};var n,i=r(292),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(function(e,r){var i;try{i=t.apply(this,e)}catch(t){return r(t)}(0,n.default)(i)&&"function"==typeof i.then?i.then(function(t){a(r,null,t)},function(t){a(r,t.message?t:new Error(t))}):r(null,i)})};var n=s(r(23)),i=s(r(1102)),o=s(r(1101));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){try{t(e,r)}catch(t){(0,o.default)(u,t)}}function u(t){throw t}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var n,i=r(1103),o=(n=i)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol;function a(t){return s&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return a(t)?(0,o.default)(t):t},e.isAsync=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(e=(0,o.default)(e||i.default),!(0,n.default)(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function c(e){var n=(0,u.default)(t[r++]);e.push((0,a.default)(f)),n.apply(null,e)}function f(n){if(n||r===t.length)return e.apply(null,arguments);c((0,s.default)(arguments,1))}c([])};var n=c(r(31)),i=c(r(4)),o=c(r(1106)),s=c(r(292)),a=c(r(1105)),u=c(r(1104));function c(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";const n=r(145),i={sha1:"sha1","sha2-256":"sha256","sha2-512":"sha512"};t.exports=function(t,e,r,o,s){const a=i[s];if(!a)throw new Error(`Hash '${s}' is unknown or not supported`);const u=n.pkcs5.pbkdf2(t,e,r,o,a);return n.util.encode64(u)}},function(t,e,r){"use strict";(function(t){const n=r(300)(),i=r(301),o=r(121).bignum,s=r(490),a=s.toBase64,u=s.toBn,c={"P-256":256,"P-384":384,"P-521":521};e.generateEphmeralKeyPair=function(e,r){i(n.subtle.generateKey({name:"ECDH",namedCurve:e},!0,["deriveBits"]).then(r=>{const s=(s,u,f)=>{let h;"function"==typeof u&&(f=u,u=void 0),h=u?n.subtle.importKey("jwk",function(t,e){const r=l(t,e.public);return r.d=a(new o(e.private)),r}(e,u),{name:"ECDH",namedCurve:e},!1,["deriveBits"]):Promise.resolve(r.privateKey);const p=Promise.all([n.subtle.importKey("jwk",l(e,s),{name:"ECDH",namedCurve:e},!1,[]),h]);i(p.then(t=>n.subtle.deriveBits({name:"ECDH",namedCurve:e,public:t[0]},t[1],c[e])).then(e=>t.from(e)),f)};return n.subtle.exportKey("jwk",r.publicKey).then(e=>({key:function(e){const r=f[e.crv];return t.concat([t.from([4]),u(e.x).toArrayLike(t,"be",r),u(e.y).toArrayLike(t,"be",r)],1+2*r)}(e),genSharedKey:s}))}),r)};const f={"P-256":32,"P-384":48,"P-521":66};function l(e,r){const n=f[e];if(!r.slice(0,1).equals(t.from([4])))throw new Error("Invalid key format");const i=new o(r.slice(1,n+1)),s=new o(r.slice(1+n));return{kty:"EC",crv:e,x:a(i,n),y:a(s,n),ext:!0}}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(1109);t.exports=((t,e)=>{n.generateEphmeralKeyPair(t,e)})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,o.default)(arguments),r=e.pop();t.call(this,e,r)}};var n,i=r(293),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(function(e,r){var i;try{i=t.apply(this,e)}catch(t){return r(t)}(0,n.default)(i)&&"function"==typeof i.then?i.then(function(t){a(r,null,t)},function(t){a(r,t.message?t:new Error(t))}):r(null,i)})};var n=s(r(23)),i=s(r(1111)),o=s(r(488));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){try{t(e,r)}catch(t){(0,o.default)(u,t)}}function u(t){throw t}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var n,i=r(1112),o=(n=i)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol;function a(t){return s&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return a(t)?(0,o.default)(t):t},e.isAsync=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){r=(0,o.default)(r||n.default);var a=(0,s.default)(e);if(!t())return r(null);var u=function(e){if(e)return r(e);if(t())return a(u);var n=(0,i.default)(arguments,1);r.apply(null,[null].concat(n))};a(u)};var n=a(r(4)),i=a(r(293)),o=a(r(1114)),s=a(r(1113));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";(function(e){const n=r(1115),i=r(512),o={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};t.exports=((t,r,s,a)=>{const u=o[t];if(!u)return a(new Error("unkown cipherType passed"));if(!r)return a(new Error("unkown hashType passed"));const c=u.keySize,f=u.ivSize,l=e.from("key expansion"),h=2*(f+c+20);i.create(r,s,(t,r)=>{if(t)return a(t);r.digest(l,(t,i)=>{if(t)return a(t);let o=[],s=0;n(()=>s<h,function(t){r.digest(e.concat([i,l]),(e,n)=>{if(e)return t(e);let a=n.length;s+a>h&&(a=h-s),o.push(n),s+=a,r.digest(i,(e,r)=>{if(e)return t(e);i=r,t()})})},function(t){if(t)return a(t);const r=h/2,n=e.concat(o),i=n.slice(0,r),s=n.slice(r,h),u=t=>({iv:t.slice(0,f),cipherKey:t.slice(f,f+c),macKey:t.slice(f+c)});a(null,{k1:u(i),k2:u(s)})})})})})}).call(this,r(0).Buffer)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(1117),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(1118),o=(n=i)&&n.__esModule?n:{default:n};e.default=o.default,t.exports=e.default},function(t,e,r){"use strict";var n=r(3).Buffer,i=r(188),o=r(487),s=r(486);function a(){this.x=i.fromBuffer(n.from("79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","hex")),this.y=i.fromBuffer(n.from("483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8","hex")),this.inf=!1,this._precompute()}a.prototype._precompute=function(){for(var t=new o(this.x,this.y),e=new Array(1+Math.ceil(64.25)),r=e[0]=t,n=1;n<e.length;++n){for(var i=0;i<4;i++)r=r.dbl();e[n]=r}this.precomputed={naf:t._getNAFPoints(7),doubles:{step:4,points:e,negpoints:e.map(function(t){return t.neg()})}}},a.prototype.mul=function(t){for(var e=this.precomputed.doubles.step,r=this.precomputed.doubles.points,n=this.precomputed.doubles.negpoints,i=t.getNAF(1),a=((1<<e+1)-(e%2==0?2:1))/3,u=[],c=0;c<i.length;c+=e){for(var f=0,l=c+e-1;l>=c;l--)f=(f<<1)+i[l];u.push(f)}for(var h=new s(null,null,null),p=new s(null,null,null),d=a;d>0;d--){for(var m=0;m<u.length;m++)u[m]===d?p=p.mixedAdd(r[m]):u[m]===-d&&(p=p.mixedAdd(n[m]));h=h.add(p)}return o.fromECJPoint(h)},a.prototype.mulAdd=function(t,e,r){for(var n=this.precomputed.naf,i=e._getNAFPoints1(),o=[n.points,i.points],a=[t.getNAF(n.wnd),r.getNAF(i.wnd)],u=new s(null,null,null),c=[null,null],f=Math.max(a[0].length,a[1].length);f>=0;f--){for(var l=0;f>=0&&(c[0]=0|a[0][f],c[1]=0|a[1][f],0===c[0]&&0===c[1]);++l,--f);if(f>=0&&(l+=1),u=u.dblp(l),f<0)break;for(var h=0;h<2;h++){var p,d=c[h];0!==d&&(d>0?p=o[h][d>>1]:d<0&&(p=o[h][-d>>1].neg()),u=void 0===p.z?u.mixedAdd(p):u.add(p))}}return u},t.exports=new a},function(t,e,r){"use strict";e.umulTo10x10=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,f=0|s[0],l=8191&f,h=f>>>13,p=0|s[1],d=8191&p,m=p>>>13,g=0|s[2],v=8191&g,y=g>>>13,b=0|s[3],w=8191&b,_=b>>>13,k=0|s[4],S=8191&k,x=k>>>13,E=0|s[5],C=8191&E,A=E>>>13,M=0|s[6],I=8191&M,T=M>>>13,O=0|s[7],B=8191&O,P=O>>>13,N=0|s[8],R=8191&N,F=N>>>13,j=0|s[9],L=8191&j,D=j>>>13,U=0|a[0],z=8191&U,H=U>>>13,K=0|a[1],q=8191&K,V=K>>>13,W=0|a[2],G=8191&W,Y=W>>>13,$=0|a[3],Z=8191&$,X=$>>>13,J=0|a[4],Q=8191&J,tt=J>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ft=0|a[8],lt=8191&ft,ht=ft>>>13,pt=0|a[9],dt=8191&pt,mt=pt>>>13;r.length=19,n=Math.imul(l,z),i=Math.imul(l,H);var gt=c+n+((8191&(i+=Math.imul(h,z)))<<13);c=(o=Math.imul(h,H))+(i>>>13)+(gt>>>26),gt&=67108863,n=Math.imul(d,z),i=Math.imul(d,H),i+=Math.imul(m,z),o=Math.imul(m,H),n+=Math.imul(l,q),i+=Math.imul(l,V);var vt=c+n+((8191&(i+=Math.imul(h,q)))<<13);c=(o+=Math.imul(h,V))+(i>>>13)+(vt>>>26),vt&=67108863,n=Math.imul(v,z),i=Math.imul(v,H),i+=Math.imul(y,z),o=Math.imul(y,H),n+=Math.imul(d,q),i+=Math.imul(d,V),i+=Math.imul(m,q),o+=Math.imul(m,V),n+=Math.imul(l,G),i+=Math.imul(l,Y);var yt=c+n+((8191&(i+=Math.imul(h,G)))<<13);c=(o+=Math.imul(h,Y))+(i>>>13)+(yt>>>26),yt&=67108863,n=Math.imul(w,z),i=Math.imul(w,H),i+=Math.imul(_,z),o=Math.imul(_,H),n+=Math.imul(v,q),i+=Math.imul(v,V),i+=Math.imul(y,q),o+=Math.imul(y,V),n+=Math.imul(d,G),i+=Math.imul(d,Y),i+=Math.imul(m,G),o+=Math.imul(m,Y),n+=Math.imul(l,Z),i+=Math.imul(l,X);var bt=c+n+((8191&(i+=Math.imul(h,Z)))<<13);c=(o+=Math.imul(h,X))+(i>>>13)+(bt>>>26),bt&=67108863,n=Math.imul(S,z),i=Math.imul(S,H),i+=Math.imul(x,z),o=Math.imul(x,H),n+=Math.imul(w,q),i+=Math.imul(w,V),i+=Math.imul(_,q),o+=Math.imul(_,V),n+=Math.imul(v,G),i+=Math.imul(v,Y),i+=Math.imul(y,G),o+=Math.imul(y,Y),n+=Math.imul(d,Z),i+=Math.imul(d,X),i+=Math.imul(m,Z),o+=Math.imul(m,X),n+=Math.imul(l,Q),i+=Math.imul(l,tt);var wt=c+n+((8191&(i+=Math.imul(h,Q)))<<13);c=(o+=Math.imul(h,tt))+(i>>>13)+(wt>>>26),wt&=67108863,n=Math.imul(C,z),i=Math.imul(C,H),i+=Math.imul(A,z),o=Math.imul(A,H),n+=Math.imul(S,q),i+=Math.imul(S,V),i+=Math.imul(x,q),o+=Math.imul(x,V),n+=Math.imul(w,G),i+=Math.imul(w,Y),i+=Math.imul(_,G),o+=Math.imul(_,Y),n+=Math.imul(v,Z),i+=Math.imul(v,X),i+=Math.imul(y,Z),o+=Math.imul(y,X),n+=Math.imul(d,Q),i+=Math.imul(d,tt),i+=Math.imul(m,Q),o+=Math.imul(m,tt),n+=Math.imul(l,rt),i+=Math.imul(l,nt);var _t=c+n+((8191&(i+=Math.imul(h,rt)))<<13);c=(o+=Math.imul(h,nt))+(i>>>13)+(_t>>>26),_t&=67108863,n=Math.imul(I,z),i=Math.imul(I,H),i+=Math.imul(T,z),o=Math.imul(T,H),n+=Math.imul(C,q),i+=Math.imul(C,V),i+=Math.imul(A,q),o+=Math.imul(A,V),n+=Math.imul(S,G),i+=Math.imul(S,Y),i+=Math.imul(x,G),o+=Math.imul(x,Y),n+=Math.imul(w,Z),i+=Math.imul(w,X),i+=Math.imul(_,Z),o+=Math.imul(_,X),n+=Math.imul(v,Q),i+=Math.imul(v,tt),i+=Math.imul(y,Q),o+=Math.imul(y,tt),n+=Math.imul(d,rt),i+=Math.imul(d,nt),i+=Math.imul(m,rt),o+=Math.imul(m,nt),n+=Math.imul(l,ot),i+=Math.imul(l,st);var kt=c+n+((8191&(i+=Math.imul(h,ot)))<<13);c=(o+=Math.imul(h,st))+(i>>>13)+(kt>>>26),kt&=67108863,n=Math.imul(B,z),i=Math.imul(B,H),i+=Math.imul(P,z),o=Math.imul(P,H),n+=Math.imul(I,q),i+=Math.imul(I,V),i+=Math.imul(T,q),o+=Math.imul(T,V),n+=Math.imul(C,G),i+=Math.imul(C,Y),i+=Math.imul(A,G),o+=Math.imul(A,Y),n+=Math.imul(S,Z),i+=Math.imul(S,X),i+=Math.imul(x,Z),o+=Math.imul(x,X),n+=Math.imul(w,Q),i+=Math.imul(w,tt),i+=Math.imul(_,Q),o+=Math.imul(_,tt),n+=Math.imul(v,rt),i+=Math.imul(v,nt),i+=Math.imul(y,rt),o+=Math.imul(y,nt),n+=Math.imul(d,ot),i+=Math.imul(d,st),i+=Math.imul(m,ot),o+=Math.imul(m,st),n+=Math.imul(l,ut),i+=Math.imul(l,ct);var St=c+n+((8191&(i+=Math.imul(h,ut)))<<13);c=(o+=Math.imul(h,ct))+(i>>>13)+(St>>>26),St&=67108863,n=Math.imul(R,z),i=Math.imul(R,H),i+=Math.imul(F,z),o=Math.imul(F,H),n+=Math.imul(B,q),i+=Math.imul(B,V),i+=Math.imul(P,q),o+=Math.imul(P,V),n+=Math.imul(I,G),i+=Math.imul(I,Y),i+=Math.imul(T,G),o+=Math.imul(T,Y),n+=Math.imul(C,Z),i+=Math.imul(C,X),i+=Math.imul(A,Z),o+=Math.imul(A,X),n+=Math.imul(S,Q),i+=Math.imul(S,tt),i+=Math.imul(x,Q),o+=Math.imul(x,tt),n+=Math.imul(w,rt),i+=Math.imul(w,nt),i+=Math.imul(_,rt),o+=Math.imul(_,nt),n+=Math.imul(v,ot),i+=Math.imul(v,st),i+=Math.imul(y,ot),o+=Math.imul(y,st),n+=Math.imul(d,ut),i+=Math.imul(d,ct),i+=Math.imul(m,ut),o+=Math.imul(m,ct),n+=Math.imul(l,lt),i+=Math.imul(l,ht);var xt=c+n+((8191&(i+=Math.imul(h,lt)))<<13);c=(o+=Math.imul(h,ht))+(i>>>13)+(xt>>>26),xt&=67108863,n=Math.imul(L,z),i=Math.imul(L,H),i+=Math.imul(D,z),o=Math.imul(D,H),n+=Math.imul(R,q),i+=Math.imul(R,V),i+=Math.imul(F,q),o+=Math.imul(F,V),n+=Math.imul(B,G),i+=Math.imul(B,Y),i+=Math.imul(P,G),o+=Math.imul(P,Y),n+=Math.imul(I,Z),i+=Math.imul(I,X),i+=Math.imul(T,Z),o+=Math.imul(T,X),n+=Math.imul(C,Q),i+=Math.imul(C,tt),i+=Math.imul(A,Q),o+=Math.imul(A,tt),n+=Math.imul(S,rt),i+=Math.imul(S,nt),i+=Math.imul(x,rt),o+=Math.imul(x,nt),n+=Math.imul(w,ot),i+=Math.imul(w,st),i+=Math.imul(_,ot),o+=Math.imul(_,st),n+=Math.imul(v,ut),i+=Math.imul(v,ct),i+=Math.imul(y,ut),o+=Math.imul(y,ct),n+=Math.imul(d,lt),i+=Math.imul(d,ht),i+=Math.imul(m,lt),o+=Math.imul(m,ht),n+=Math.imul(l,dt),i+=Math.imul(l,mt);var Et=c+n+((8191&(i+=Math.imul(h,dt)))<<13);c=(o+=Math.imul(h,mt))+(i>>>13)+(Et>>>26),Et&=67108863,n=Math.imul(L,q),i=Math.imul(L,V),i+=Math.imul(D,q),o=Math.imul(D,V),n+=Math.imul(R,G),i+=Math.imul(R,Y),i+=Math.imul(F,G),o+=Math.imul(F,Y),n+=Math.imul(B,Z),i+=Math.imul(B,X),i+=Math.imul(P,Z),o+=Math.imul(P,X),n+=Math.imul(I,Q),i+=Math.imul(I,tt),i+=Math.imul(T,Q),o+=Math.imul(T,tt),n+=Math.imul(C,rt),i+=Math.imul(C,nt),i+=Math.imul(A,rt),o+=Math.imul(A,nt),n+=Math.imul(S,ot),i+=Math.imul(S,st),i+=Math.imul(x,ot),o+=Math.imul(x,st),n+=Math.imul(w,ut),i+=Math.imul(w,ct),i+=Math.imul(_,ut),o+=Math.imul(_,ct),n+=Math.imul(v,lt),i+=Math.imul(v,ht),i+=Math.imul(y,lt),o+=Math.imul(y,ht),n+=Math.imul(d,dt),i+=Math.imul(d,mt);var Ct=c+n+((8191&(i+=Math.imul(m,dt)))<<13);c=(o+=Math.imul(m,mt))+(i>>>13)+(Ct>>>26),Ct&=67108863,n=Math.imul(L,G),i=Math.imul(L,Y),i+=Math.imul(D,G),o=Math.imul(D,Y),n+=Math.imul(R,Z),i+=Math.imul(R,X),i+=Math.imul(F,Z),o+=Math.imul(F,X),n+=Math.imul(B,Q),i+=Math.imul(B,tt),i+=Math.imul(P,Q),o+=Math.imul(P,tt),n+=Math.imul(I,rt),i+=Math.imul(I,nt),i+=Math.imul(T,rt),o+=Math.imul(T,nt),n+=Math.imul(C,ot),i+=Math.imul(C,st),i+=Math.imul(A,ot),o+=Math.imul(A,st),n+=Math.imul(S,ut),i+=Math.imul(S,ct),i+=Math.imul(x,ut),o+=Math.imul(x,ct),n+=Math.imul(w,lt),i+=Math.imul(w,ht),i+=Math.imul(_,lt),o+=Math.imul(_,ht),n+=Math.imul(v,dt),i+=Math.imul(v,mt);var At=c+n+((8191&(i+=Math.imul(y,dt)))<<13);c=(o+=Math.imul(y,mt))+(i>>>13)+(At>>>26),At&=67108863,n=Math.imul(L,Z),i=Math.imul(L,X),i+=Math.imul(D,Z),o=Math.imul(D,X),n+=Math.imul(R,Q),i+=Math.imul(R,tt),i+=Math.imul(F,Q),o+=Math.imul(F,tt),n+=Math.imul(B,rt),i+=Math.imul(B,nt),i+=Math.imul(P,rt),o+=Math.imul(P,nt),n+=Math.imul(I,ot),i+=Math.imul(I,st),i+=Math.imul(T,ot),o+=Math.imul(T,st),n+=Math.imul(C,ut),i+=Math.imul(C,ct),i+=Math.imul(A,ut),o+=Math.imul(A,ct),n+=Math.imul(S,lt),i+=Math.imul(S,ht),i+=Math.imul(x,lt),o+=Math.imul(x,ht),n+=Math.imul(w,dt),i+=Math.imul(w,mt);var Mt=c+n+((8191&(i+=Math.imul(_,dt)))<<13);c=(o+=Math.imul(_,mt))+(i>>>13)+(Mt>>>26),Mt&=67108863,n=Math.imul(L,Q),i=Math.imul(L,tt),i+=Math.imul(D,Q),o=Math.imul(D,tt),n+=Math.imul(R,rt),i+=Math.imul(R,nt),i+=Math.imul(F,rt),o+=Math.imul(F,nt),n+=Math.imul(B,ot),i+=Math.imul(B,st),i+=Math.imul(P,ot),o+=Math.imul(P,st),n+=Math.imul(I,ut),i+=Math.imul(I,ct),i+=Math.imul(T,ut),o+=Math.imul(T,ct),n+=Math.imul(C,lt),i+=Math.imul(C,ht),i+=Math.imul(A,lt),o+=Math.imul(A,ht),n+=Math.imul(S,dt),i+=Math.imul(S,mt);var It=c+n+((8191&(i+=Math.imul(x,dt)))<<13);c=(o+=Math.imul(x,mt))+(i>>>13)+(It>>>26),It&=67108863,n=Math.imul(L,rt),i=Math.imul(L,nt),i+=Math.imul(D,rt),o=Math.imul(D,nt),n+=Math.imul(R,ot),i+=Math.imul(R,st),i+=Math.imul(F,ot),o+=Math.imul(F,st),n+=Math.imul(B,ut),i+=Math.imul(B,ct),i+=Math.imul(P,ut),o+=Math.imul(P,ct),n+=Math.imul(I,lt),i+=Math.imul(I,ht),i+=Math.imul(T,lt),o+=Math.imul(T,ht),n+=Math.imul(C,dt),i+=Math.imul(C,mt);var Tt=c+n+((8191&(i+=Math.imul(A,dt)))<<13);c=(o+=Math.imul(A,mt))+(i>>>13)+(Tt>>>26),Tt&=67108863,n=Math.imul(L,ot),i=Math.imul(L,st),i+=Math.imul(D,ot),o=Math.imul(D,st),n+=Math.imul(R,ut),i+=Math.imul(R,ct),i+=Math.imul(F,ut),o+=Math.imul(F,ct),n+=Math.imul(B,lt),i+=Math.imul(B,ht),i+=Math.imul(P,lt),o+=Math.imul(P,ht),n+=Math.imul(I,dt),i+=Math.imul(I,mt);var Ot=c+n+((8191&(i+=Math.imul(T,dt)))<<13);c=(o+=Math.imul(T,mt))+(i>>>13)+(Ot>>>26),Ot&=67108863,n=Math.imul(L,ut),i=Math.imul(L,ct),i+=Math.imul(D,ut),o=Math.imul(D,ct),n+=Math.imul(R,lt),i+=Math.imul(R,ht),i+=Math.imul(F,lt),o+=Math.imul(F,ht),n+=Math.imul(B,dt),i+=Math.imul(B,mt);var Bt=c+n+((8191&(i+=Math.imul(P,dt)))<<13);c=(o+=Math.imul(P,mt))+(i>>>13)+(Bt>>>26),Bt&=67108863,n=Math.imul(L,lt),i=Math.imul(L,ht),i+=Math.imul(D,lt),o=Math.imul(D,ht),n+=Math.imul(R,dt),i+=Math.imul(R,mt);var Pt=c+n+((8191&(i+=Math.imul(F,dt)))<<13);c=(o+=Math.imul(F,mt))+(i>>>13)+(Pt>>>26),Pt&=67108863,n=Math.imul(L,dt),i=Math.imul(L,mt);var Nt=c+n+((8191&(i+=Math.imul(D,dt)))<<13);return c=(o=Math.imul(D,mt))+(i>>>13)+(Nt>>>26),Nt&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=kt,u[7]=St,u[8]=xt,u[9]=Et,u[10]=Ct,u[11]=At,u[12]=Mt,u[13]=It,u[14]=Tt,u[15]=Ot,u[16]=Bt,u[17]=Pt,u[18]=Nt,0!==c&&(u[19]=c,r.length++),r}},function(t){t.exports={sha1:{securityStrength:128,outlen:160,seedlen:440},sha224:{securityStrength:192,outlen:224,seedlen:440},sha256:{securityStrength:256,outlen:256,seedlen:440},sha384:{securityStrength:256,outlen:384,seedlen:888},sha512:{securityStrength:256,outlen:512,seedlen:888}}},function(t,e,r){"use strict";(function(e){var n=r(163),i=r(1122),o=new e(0),s=new e([0]),a=new e([1]);function u(t,e,r,n){var o=i[t];if(void 0===o)throw new Error("hash "+t+" is not supported");this._algo=t,this._securityStrength=o.securityStrength/8,this._outlen=o.outlen/8,this._reseedInterval=281474976710656,this._init(e,r,n)}u.prototype._update=function(t){var e=n(this._algo,this._K).update(this._V).update(s);t&&e.update(t),this._K=e.digest(),this._V=n(this._algo,this._K).update(this._V).digest(),t&&(this._K=n(this._algo,this._K).update(this._V).update(a).update(t).digest(),this._V=n(this._algo,this._K).update(this._V).digest())},u.prototype._init=function(t,r,n){if(t.length<this._securityStrength)throw new Error("Not enough entropy");this._K=new e(this._outlen),this._V=new e(this._outlen);for(var i=0;i<this._K.length;++i)this._K[i]=0,this._V[i]=1;this._update(e.concat([t,r,n||o])),this._reseed=1},u.prototype.reseed=function(t,r){if(t.length<this._securityStrength)throw new Error("Not enough entropy");this._update(e.concat([t,r||o])),this._reseed=1},u.prototype.generate=function(t,r){if(this._reseed>this._reseedInterval)throw new Error("Reseed is required");r&&0===r.length&&(r=void 0),r&&this._update(r);for(var i=new e(0);i.length<t;)this._V=n(this._algo,this._K).update(this._V).digest(),i=e.concat([i,this._V]);return this._update(r),this._reseed+=1,i.slice(0,t)},t.exports=u}).call(this,r(0).Buffer)},function(t,e,r){"use strict";var n=r(3).Buffer,i=r(51),o=r(1123),s=r(314),a=r(188),u=r(487),c=r(1120);e.privateKeyVerify=function(t){var e=a.fromBuffer(t);return!(e.isOverflow()||e.isZero())},e.privateKeyExport=function(t,e){var r=a.fromBuffer(t);if(r.isOverflow()||r.isZero())throw new Error(s.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return c.mul(r).toPublicKey(e)},e.privateKeyNegate=function(t){var e=a.fromBuffer(t);return e.isZero()?n.alloc(32):(e.ucmp(a.n)>0&&e.isub(a.n),a.n.sub(e).toBuffer())},e.privateKeyModInverse=function(t){var e=a.fromBuffer(t);if(e.isOverflow()||e.isZero())throw new Error(s.EC_PRIVATE_KEY_RANGE_INVALID);return e.uinvm().toBuffer()},e.privateKeyTweakAdd=function(t,e){var r=a.fromBuffer(e);if(r.isOverflow())throw new Error(s.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(r.iadd(a.fromBuffer(t)),r.isOverflow()&&r.isub(a.n),r.isZero())throw new Error(s.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return r.toBuffer()},e.privateKeyTweakMul=function(t,e){var r=a.fromBuffer(e);if(r.isOverflow()||r.isZero())throw new Error(s.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);var n=a.fromBuffer(t);return r.umul(n).ureduce().toBuffer()},e.publicKeyCreate=function(t,e){var r=a.fromBuffer(t);if(r.isOverflow()||r.isZero())throw new Error(s.EC_PUBLIC_KEY_CREATE_FAIL);return c.mul(r).toPublicKey(e)},e.publicKeyConvert=function(t,e){var r=u.fromPublicKey(t);if(null===r)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);return r.toPublicKey(e)},e.publicKeyVerify=function(t){return null!==u.fromPublicKey(t)},e.publicKeyTweakAdd=function(t,e,r){var n=u.fromPublicKey(t);if(null===n)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);if((e=a.fromBuffer(e)).isOverflow())throw new Error(s.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return c.mul(e).add(n).toPublicKey(r)},e.publicKeyTweakMul=function(t,e,r){var n=u.fromPublicKey(t);if(null===n)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);if((e=a.fromBuffer(e)).isOverflow()||e.isZero())throw new Error(s.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return n.mul(e).toPublicKey(r)},e.publicKeyCombine=function(t,e){for(var r=new Array(t.length),n=0;n<t.length;++n)if(r[n]=u.fromPublicKey(t[n]),null===r[n])throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);for(var i=r[0],o=1;o<r.length;++o)i=i.add(r[o]);if(i.inf)throw new Error(s.EC_PUBLIC_KEY_COMBINE_FAIL);return i.toPublicKey(e)},e.signatureNormalize=function(t){var e=a.fromBuffer(t.slice(0,32)),r=a.fromBuffer(t.slice(32,64));if(e.isOverflow()||r.isOverflow())throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);var i=n.from(t);return r.isHigh()&&a.n.sub(r).toBuffer().copy(i,32),i},e.signatureExport=function(t){var e=t.slice(0,32),r=t.slice(32,64);if(a.fromBuffer(e).isOverflow()||a.fromBuffer(r).isOverflow())throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);return{r:e,s:r}},e.signatureImport=function(t){var e=a.fromBuffer(t.r);e.isOverflow()&&(e=a.fromNumber(0));var r=a.fromBuffer(t.s);return r.isOverflow()&&(r=a.fromNumber(0)),n.concat([e.toBuffer(),r.toBuffer()])},e.sign=function(t,e,r,i){var u=a.fromBuffer(e);if(u.isOverflow()||u.isZero())throw new Error(s.ECDSA_SIGN_FAIL);if(null===r){var f=new o("sha256",e,t,i);r=function(){return f.generate(32)}}for(var l=a.fromBuffer(t),h=0;;++h){var p=r(t,e,null,i,h);if(!n.isBuffer(p)||32!==p.length)throw new Error(s.ECDSA_SIGN_FAIL);var d=a.fromBuffer(p);if(!d.isOverflow()&&!d.isZero()){var m=c.mul(d),g=m.x.fireduce();if(!g.isZero()){var v=d.uinvm().umul(g.umul(u).ureduce().iadd(l).fireduce()).ureduce();if(!v.isZero()){var y=(0!==m.x.ucmp(g)?2:0)|(m.y.isOdd()?1:0);return v.isHigh()&&(v=a.n.sub(v),y^=1),{signature:n.concat([g.toBuffer(),v.toBuffer()]),recovery:y}}}}}},e.verify=function(t,e,r){var n=a.fromBuffer(e.slice(0,32)),i=a.fromBuffer(e.slice(32,64));if(n.isOverflow()||i.isOverflow())throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);if(i.isHigh()||n.isZero()||i.isZero())return!1;var o=u.fromPublicKey(r);if(null===o)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);var f=i.uinvm(),l=f.umul(a.fromBuffer(t)).ureduce(),h=f.umul(n).ureduce(),p=c.mulAdd(l,o,h);if(p.inf)return!1;var d=p.z.redSqr();return 0===n.redMul(d).ucmp(p.x)||!(n.ucmp(a.psn)>=0)&&0===n.iadd(a.psn).redMul(d).ucmp(p.x)},e.recover=function(t,e,r,i){var o=a.fromBuffer(e.slice(0,32)),f=a.fromBuffer(e.slice(32,64));if(o.isOverflow()||f.isOverflow())throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);do{if(o.isZero()||f.isZero())break;var l=o;if(r>>1){if(l.ucmp(a.psn)>=0)break;l=o.add(a.n)}var h=n.concat([n.from([2+(1&r)]),l.toBuffer()]),p=u.fromPublicKey(h);if(null===p)break;var d=o.uinvm(),m=a.n.sub(a.fromBuffer(t)).umul(d).ureduce(),g=f.umul(d).ureduce();return u.fromECJPoint(c.mulAdd(m,p,g)).toPublicKey(i)}while(0);throw new Error(s.ECDSA_RECOVER_FAIL)},e.ecdh=function(t,r){var n=e.ecdhUnsafe(t,r,!0);return i("sha256").update(n).digest()},e.ecdhUnsafe=function(t,e,r){var n=u.fromPublicKey(t);if(null===n)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);var i=a.fromBuffer(e);if(i.isOverflow()||i.isZero())throw new Error(s.ECDH_FAIL);return n.mul(i).toPublicKey(r)}},function(t,e,r){"use strict";t.exports=r(529)(r(1124))},function(t,e,r){"use strict";const n=r(1125),i=r(53),o=r(1119),s="sha2-256";t.exports=(t=>{function e(t){if(!n.privateKeyVerify(t))throw new Error("Invalid private key")}return{generateKey:function(e){let r;do{r=t(32)}while(!n.privateKeyVerify(r));((t,r)=>o(()=>e(t,r)))(null,r)},privateKeyLength:32,hashAndSign:function(t,e,r){const a=(t,e)=>o(()=>r(t,e));i.digest(e,s,(e,r)=>{if(e)return a(e);try{const i=n.sign(r,t),o=n.signatureExport(i.signature);return a(null,o)}catch(e){a(e)}})},hashAndVerify:function(t,e,r,a){const u=(t,e)=>o(()=>a(t,e));i.digest(r,s,(r,i)=>{if(r)return u(r);try{e=n.signatureImport(e);const o=n.verify(i,e,t);return u(null,o)}catch(r){u(r)}})},compressPublicKey:function(t){if(!n.publicKeyVerify(t))throw new Error("Invalid public key");return n.publicKeyConvert(t,!0)},decompressPublicKey:function(t){return n.publicKeyConvert(t,!1)},validatePrivateKey:e,validatePublicKey:function(t){if(!n.publicKeyVerify(t))throw new Error("Invalid public key")},computePublicKey:function(t){return e(t),n.publicKeyCreate(t)}}})},function(t,e,r){"use strict";const n=r(53);t.exports=((t,e,i)=>{i=i||r(1126)(e);class o{constructor(t){i.validatePublicKey(t),this._key=t}verify(t,e,r){a(r),i.hashAndVerify(this._key,e,t,r)}marshal(){return i.compressPublicKey(this._key)}get bytes(){return t.PublicKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){a(t),n(this.bytes,"sha2-256",t)}}class s{constructor(t,e){this._key=t,this._publicKey=e||i.computePublicKey(t),i.validatePrivateKey(this._key),i.validatePublicKey(this._publicKey)}sign(t,e){a(e),i.hashAndSign(this._key,t,e)}get public(){return new o(this._publicKey)}marshal(){return this._key}get bytes(){return t.PrivateKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){a(t),n(this.bytes,"sha2-256",t)}}function a(t){if("function"!=typeof t)throw new Error("callback is required")}return{Secp256k1PublicKey:o,Secp256k1PrivateKey:s,unmarshalSecp256k1PrivateKey:function(t,e){e(null,new s(t),null)},unmarshalSecp256k1PublicKey:function(t){return new o(t)},generateKeyPair:function(t,e){void 0===e&&"function"==typeof t&&(e=t),a(e),i.generateKey((t,r)=>{if(t)return e(t);let n;try{n=new s(r)}catch(t){return e(t)}e(null,n)})}}})},function(t,e){},function(t,e,r){!function(t){"use strict";var e=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=e(),a=e([1]),u=e([56129,1]),c=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(t,e,r,n){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r,t[e+4]=n>>24&255,t[e+5]=n>>16&255,t[e+6]=n>>8&255,t[e+7]=255&n}function m(t,e,r,n,i){var o,s=0;for(o=0;o<i;o++)s|=t[e+o]^r[n+o];return(1&s-1>>>8)-1}function g(t,e,r,n){return m(t,e,r,n,16)}function v(t,e,r,n){return m(t,e,r,n,32)}function y(t,e,r,n){!function(t,e,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,v=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=o,k=s,S=a,x=u,E=c,C=f,A=l,M=h,I=p,T=d,O=m,B=g,P=v,N=y,R=b,F=w,j=0;j<20;j+=2)_^=(i=(P^=(i=(I^=(i=(E^=(i=_+P|0)<<7|i>>>25)+_|0)<<9|i>>>23)+E|0)<<13|i>>>19)+I|0)<<18|i>>>14,C^=(i=(k^=(i=(N^=(i=(T^=(i=C+k|0)<<7|i>>>25)+C|0)<<9|i>>>23)+T|0)<<13|i>>>19)+N|0)<<18|i>>>14,O^=(i=(A^=(i=(S^=(i=(R^=(i=O+A|0)<<7|i>>>25)+O|0)<<9|i>>>23)+R|0)<<13|i>>>19)+S|0)<<18|i>>>14,F^=(i=(B^=(i=(M^=(i=(x^=(i=F+B|0)<<7|i>>>25)+F|0)<<9|i>>>23)+x|0)<<13|i>>>19)+M|0)<<18|i>>>14,_^=(i=(x^=(i=(S^=(i=(k^=(i=_+x|0)<<7|i>>>25)+_|0)<<9|i>>>23)+k|0)<<13|i>>>19)+S|0)<<18|i>>>14,C^=(i=(E^=(i=(M^=(i=(A^=(i=C+E|0)<<7|i>>>25)+C|0)<<9|i>>>23)+A|0)<<13|i>>>19)+M|0)<<18|i>>>14,O^=(i=(T^=(i=(I^=(i=(B^=(i=O+T|0)<<7|i>>>25)+O|0)<<9|i>>>23)+B|0)<<13|i>>>19)+I|0)<<18|i>>>14,F^=(i=(R^=(i=(N^=(i=(P^=(i=F+R|0)<<7|i>>>25)+F|0)<<9|i>>>23)+P|0)<<13|i>>>19)+N|0)<<18|i>>>14;_=_+o|0,k=k+s|0,S=S+a|0,x=x+u|0,E=E+c|0,C=C+f|0,A=A+l|0,M=M+h|0,I=I+p|0,T=T+d|0,O=O+m|0,B=B+g|0,P=P+v|0,N=N+y|0,R=R+b|0,F=F+w|0,t[0]=_>>>0&255,t[1]=_>>>8&255,t[2]=_>>>16&255,t[3]=_>>>24&255,t[4]=k>>>0&255,t[5]=k>>>8&255,t[6]=k>>>16&255,t[7]=k>>>24&255,t[8]=S>>>0&255,t[9]=S>>>8&255,t[10]=S>>>16&255,t[11]=S>>>24&255,t[12]=x>>>0&255,t[13]=x>>>8&255,t[14]=x>>>16&255,t[15]=x>>>24&255,t[16]=E>>>0&255,t[17]=E>>>8&255,t[18]=E>>>16&255,t[19]=E>>>24&255,t[20]=C>>>0&255,t[21]=C>>>8&255,t[22]=C>>>16&255,t[23]=C>>>24&255,t[24]=A>>>0&255,t[25]=A>>>8&255,t[26]=A>>>16&255,t[27]=A>>>24&255,t[28]=M>>>0&255,t[29]=M>>>8&255,t[30]=M>>>16&255,t[31]=M>>>24&255,t[32]=I>>>0&255,t[33]=I>>>8&255,t[34]=I>>>16&255,t[35]=I>>>24&255,t[36]=T>>>0&255,t[37]=T>>>8&255,t[38]=T>>>16&255,t[39]=T>>>24&255,t[40]=O>>>0&255,t[41]=O>>>8&255,t[42]=O>>>16&255,t[43]=O>>>24&255,t[44]=B>>>0&255,t[45]=B>>>8&255,t[46]=B>>>16&255,t[47]=B>>>24&255,t[48]=P>>>0&255,t[49]=P>>>8&255,t[50]=P>>>16&255,t[51]=P>>>24&255,t[52]=N>>>0&255,t[53]=N>>>8&255,t[54]=N>>>16&255,t[55]=N>>>24&255,t[56]=R>>>0&255,t[57]=R>>>8&255,t[58]=R>>>16&255,t[59]=R>>>24&255,t[60]=F>>>0&255,t[61]=F>>>8&255,t[62]=F>>>16&255,t[63]=F>>>24&255}(t,e,r,n)}function b(t,e,r,n){!function(t,e,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,v=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=0;_<20;_+=2)o^=(i=(v^=(i=(p^=(i=(c^=(i=o+v|0)<<7|i>>>25)+o|0)<<9|i>>>23)+c|0)<<13|i>>>19)+p|0)<<18|i>>>14,f^=(i=(s^=(i=(y^=(i=(d^=(i=f+s|0)<<7|i>>>25)+f|0)<<9|i>>>23)+d|0)<<13|i>>>19)+y|0)<<18|i>>>14,m^=(i=(l^=(i=(a^=(i=(b^=(i=m+l|0)<<7|i>>>25)+m|0)<<9|i>>>23)+b|0)<<13|i>>>19)+a|0)<<18|i>>>14,w^=(i=(g^=(i=(h^=(i=(u^=(i=w+g|0)<<7|i>>>25)+w|0)<<9|i>>>23)+u|0)<<13|i>>>19)+h|0)<<18|i>>>14,o^=(i=(u^=(i=(a^=(i=(s^=(i=o+u|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,f^=(i=(c^=(i=(h^=(i=(l^=(i=f+c|0)<<7|i>>>25)+f|0)<<9|i>>>23)+l|0)<<13|i>>>19)+h|0)<<18|i>>>14,m^=(i=(d^=(i=(p^=(i=(g^=(i=m+d|0)<<7|i>>>25)+m|0)<<9|i>>>23)+g|0)<<13|i>>>19)+p|0)<<18|i>>>14,w^=(i=(b^=(i=(y^=(i=(v^=(i=w+b|0)<<7|i>>>25)+w|0)<<9|i>>>23)+v|0)<<13|i>>>19)+y|0)<<18|i>>>14;t[0]=o>>>0&255,t[1]=o>>>8&255,t[2]=o>>>16&255,t[3]=o>>>24&255,t[4]=f>>>0&255,t[5]=f>>>8&255,t[6]=f>>>16&255,t[7]=f>>>24&255,t[8]=m>>>0&255,t[9]=m>>>8&255,t[10]=m>>>16&255,t[11]=m>>>24&255,t[12]=w>>>0&255,t[13]=w>>>8&255,t[14]=w>>>16&255,t[15]=w>>>24&255,t[16]=l>>>0&255,t[17]=l>>>8&255,t[18]=l>>>16&255,t[19]=l>>>24&255,t[20]=h>>>0&255,t[21]=h>>>8&255,t[22]=h>>>16&255,t[23]=h>>>24&255,t[24]=p>>>0&255,t[25]=p>>>8&255,t[26]=p>>>16&255,t[27]=p>>>24&255,t[28]=d>>>0&255,t[29]=d>>>8&255,t[30]=d>>>16&255,t[31]=d>>>24&255}(t,e,r,n)}var w=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function _(t,e,r,n,i,o,s){var a,u,c=new Uint8Array(16),f=new Uint8Array(64);for(u=0;u<16;u++)c[u]=0;for(u=0;u<8;u++)c[u]=o[u];for(;i>=64;){for(y(f,c,s,w),u=0;u<64;u++)t[e+u]=r[n+u]^f[u];for(a=1,u=8;u<16;u++)a=a+(255&c[u])|0,c[u]=255&a,a>>>=8;i-=64,e+=64,n+=64}if(i>0)for(y(f,c,s,w),u=0;u<i;u++)t[e+u]=r[n+u]^f[u];return 0}function k(t,e,r,n,i){var o,s,a=new Uint8Array(16),u=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=n[s];for(;r>=64;){for(y(u,a,i,w),s=0;s<64;s++)t[e+s]=u[s];for(o=1,s=8;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;r-=64,e+=64}if(r>0)for(y(u,a,i,w),s=0;s<r;s++)t[e+s]=u[s];return 0}function S(t,e,r,n,i){var o=new Uint8Array(32);b(o,n,i,w);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=n[a+16];return k(t,e,r,s,o)}function x(t,e,r,n,i,o,s){var a=new Uint8Array(32);b(a,o,s,w);for(var u=new Uint8Array(8),c=0;c<8;c++)u[c]=o[c+16];return _(t,e,r,n,i,u,a)}var E=function(t){var e,r,n,i,o,s,a,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,r=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|r<<3),n=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&t[8]|(255&t[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(s>>>11|a<<5),u=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(a>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function C(t,e,r,n,i,o){var s=new E(o);return s.update(r,n,i),s.finish(t,e),0}function A(t,e,r,n,i,o){var s=new Uint8Array(16);return C(s,0,r,n,i,o),g(t,e,s,0)}function M(t,e,r,n,i){var o;if(r<32)return-1;for(x(t,0,e,0,r,n,i),C(t,16,t,32,r-32,t),o=0;o<16;o++)t[o]=0;return 0}function I(t,e,r,n,i){var o,s=new Uint8Array(32);if(r<32)return-1;if(S(s,0,32,n,i),0!==A(e,16,e,32,r-32,s))return-1;for(x(t,0,e,0,r,n,i),o=0;o<32;o++)t[o]=0;return 0}function T(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function O(t){var e,r,n=1;for(e=0;e<16;e++)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-65536*n;t[0]+=n-1+37*(n-1)}function B(t,e,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(t[o]^e[o]),t[o]^=n,e[o]^=n}function P(t,r){var n,i,o,s=e(),a=e();for(n=0;n<16;n++)a[n]=r[n];for(O(a),O(a),O(a),i=0;i<2;i++){for(s[0]=a[0]-65517,n=1;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,B(a,s,1-o)}for(n=0;n<16;n++)t[2*n]=255&a[n],t[2*n+1]=a[n]>>8}function N(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);return P(r,t),P(n,e),v(r,0,n,0)}function R(t){var e=new Uint8Array(32);return P(e,t),1&e[0]}function F(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function j(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]+r[n]}function L(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]-r[n]}function D(t,e,r){var n,i,o=0,s=0,a=0,u=0,c=0,f=0,l=0,h=0,p=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,_=0,k=0,S=0,x=0,E=0,C=0,A=0,M=0,I=0,T=0,O=0,B=0,P=0,N=0,R=0,F=r[0],j=r[1],L=r[2],D=r[3],U=r[4],z=r[5],H=r[6],K=r[7],q=r[8],V=r[9],W=r[10],G=r[11],Y=r[12],$=r[13],Z=r[14],X=r[15];o+=(n=e[0])*F,s+=n*j,a+=n*L,u+=n*D,c+=n*U,f+=n*z,l+=n*H,h+=n*K,p+=n*q,d+=n*V,m+=n*W,g+=n*G,v+=n*Y,y+=n*$,b+=n*Z,w+=n*X,s+=(n=e[1])*F,a+=n*j,u+=n*L,c+=n*D,f+=n*U,l+=n*z,h+=n*H,p+=n*K,d+=n*q,m+=n*V,g+=n*W,v+=n*G,y+=n*Y,b+=n*$,w+=n*Z,_+=n*X,a+=(n=e[2])*F,u+=n*j,c+=n*L,f+=n*D,l+=n*U,h+=n*z,p+=n*H,d+=n*K,m+=n*q,g+=n*V,v+=n*W,y+=n*G,b+=n*Y,w+=n*$,_+=n*Z,k+=n*X,u+=(n=e[3])*F,c+=n*j,f+=n*L,l+=n*D,h+=n*U,p+=n*z,d+=n*H,m+=n*K,g+=n*q,v+=n*V,y+=n*W,b+=n*G,w+=n*Y,_+=n*$,k+=n*Z,S+=n*X,c+=(n=e[4])*F,f+=n*j,l+=n*L,h+=n*D,p+=n*U,d+=n*z,m+=n*H,g+=n*K,v+=n*q,y+=n*V,b+=n*W,w+=n*G,_+=n*Y,k+=n*$,S+=n*Z,x+=n*X,f+=(n=e[5])*F,l+=n*j,h+=n*L,p+=n*D,d+=n*U,m+=n*z,g+=n*H,v+=n*K,y+=n*q,b+=n*V,w+=n*W,_+=n*G,k+=n*Y,S+=n*$,x+=n*Z,E+=n*X,l+=(n=e[6])*F,h+=n*j,p+=n*L,d+=n*D,m+=n*U,g+=n*z,v+=n*H,y+=n*K,b+=n*q,w+=n*V,_+=n*W,k+=n*G,S+=n*Y,x+=n*$,E+=n*Z,C+=n*X,h+=(n=e[7])*F,p+=n*j,d+=n*L,m+=n*D,g+=n*U,v+=n*z,y+=n*H,b+=n*K,w+=n*q,_+=n*V,k+=n*W,S+=n*G,x+=n*Y,E+=n*$,C+=n*Z,A+=n*X,p+=(n=e[8])*F,d+=n*j,m+=n*L,g+=n*D,v+=n*U,y+=n*z,b+=n*H,w+=n*K,_+=n*q,k+=n*V,S+=n*W,x+=n*G,E+=n*Y,C+=n*$,A+=n*Z,M+=n*X,d+=(n=e[9])*F,m+=n*j,g+=n*L,v+=n*D,y+=n*U,b+=n*z,w+=n*H,_+=n*K,k+=n*q,S+=n*V,x+=n*W,E+=n*G,C+=n*Y,A+=n*$,M+=n*Z,I+=n*X,m+=(n=e[10])*F,g+=n*j,v+=n*L,y+=n*D,b+=n*U,w+=n*z,_+=n*H,k+=n*K,S+=n*q,x+=n*V,E+=n*W,C+=n*G,A+=n*Y,M+=n*$,I+=n*Z,T+=n*X,g+=(n=e[11])*F,v+=n*j,y+=n*L,b+=n*D,w+=n*U,_+=n*z,k+=n*H,S+=n*K,x+=n*q,E+=n*V,C+=n*W,A+=n*G,M+=n*Y,I+=n*$,T+=n*Z,O+=n*X,v+=(n=e[12])*F,y+=n*j,b+=n*L,w+=n*D,_+=n*U,k+=n*z,S+=n*H,x+=n*K,E+=n*q,C+=n*V,A+=n*W,M+=n*G,I+=n*Y,T+=n*$,O+=n*Z,B+=n*X,y+=(n=e[13])*F,b+=n*j,w+=n*L,_+=n*D,k+=n*U,S+=n*z,x+=n*H,E+=n*K,C+=n*q,A+=n*V,M+=n*W,I+=n*G,T+=n*Y,O+=n*$,B+=n*Z,P+=n*X,b+=(n=e[14])*F,w+=n*j,_+=n*L,k+=n*D,S+=n*U,x+=n*z,E+=n*H,C+=n*K,A+=n*q,M+=n*V,I+=n*W,T+=n*G,O+=n*Y,B+=n*$,P+=n*Z,N+=n*X,w+=(n=e[15])*F,s+=38*(k+=n*L),a+=38*(S+=n*D),u+=38*(x+=n*U),c+=38*(E+=n*z),f+=38*(C+=n*H),l+=38*(A+=n*K),h+=38*(M+=n*q),p+=38*(I+=n*V),d+=38*(T+=n*W),m+=38*(O+=n*G),g+=38*(B+=n*Y),v+=38*(P+=n*$),y+=38*(N+=n*Z),b+=38*(R+=n*X),o=(n=(o+=38*(_+=n*j))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),t[0]=o,t[1]=s,t[2]=a,t[3]=u,t[4]=c,t[5]=f,t[6]=l,t[7]=h,t[8]=p,t[9]=d,t[10]=m,t[11]=g,t[12]=v,t[13]=y,t[14]=b,t[15]=w}function U(t,e){D(t,e,e)}function z(t,r){var n,i=e();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)U(i,i),2!==n&&4!==n&&D(i,i,r);for(n=0;n<16;n++)t[n]=i[n]}function H(t,r,n){var i,o,s=new Uint8Array(32),a=new Float64Array(80),c=e(),f=e(),l=e(),h=e(),p=e(),d=e();for(o=0;o<31;o++)s[o]=r[o];for(s[31]=127&r[31]|64,s[0]&=248,F(a,n),o=0;o<16;o++)f[o]=a[o],h[o]=c[o]=l[o]=0;for(c[0]=h[0]=1,o=254;o>=0;--o)B(c,f,i=s[o>>>3]>>>(7&o)&1),B(l,h,i),j(p,c,l),L(c,c,l),j(l,f,h),L(f,f,h),U(h,p),U(d,c),D(c,l,c),D(l,f,p),j(p,c,l),L(c,c,l),U(f,c),L(l,h,d),D(c,l,u),j(c,c,h),D(l,l,c),D(c,h,d),D(h,f,a),U(f,p),B(c,f,i),B(l,h,i);for(o=0;o<16;o++)a[o+16]=c[o],a[o+32]=l[o],a[o+48]=f[o],a[o+64]=h[o];var m=a.subarray(32),g=a.subarray(16);return z(m,m),D(g,g,m),P(t,g),0}function K(t,e){return H(t,e,o)}function q(t,e){return n(e,32),K(t,e)}function V(t,e,r){var n=new Uint8Array(32);return H(n,r,e),b(t,i,n,w)}E.prototype.blocks=function(t,e,r){for(var n,i,o,s,a,u,c,f,l,h,p,d,m,g,v,y,b,w,_,k=this.fin?0:2048,S=this.h[0],x=this.h[1],E=this.h[2],C=this.h[3],A=this.h[4],M=this.h[5],I=this.h[6],T=this.h[7],O=this.h[8],B=this.h[9],P=this.r[0],N=this.r[1],R=this.r[2],F=this.r[3],j=this.r[4],L=this.r[5],D=this.r[6],U=this.r[7],z=this.r[8],H=this.r[9];r>=16;)S+=8191&(n=255&t[e+0]|(255&t[e+1])<<8),x+=8191&(n>>>13|(i=255&t[e+2]|(255&t[e+3])<<8)<<3),E+=8191&(i>>>10|(o=255&t[e+4]|(255&t[e+5])<<8)<<6),C+=8191&(o>>>7|(s=255&t[e+6]|(255&t[e+7])<<8)<<9),A+=8191&(s>>>4|(a=255&t[e+8]|(255&t[e+9])<<8)<<12),M+=a>>>1&8191,I+=8191&(a>>>14|(u=255&t[e+10]|(255&t[e+11])<<8)<<2),T+=8191&(u>>>11|(c=255&t[e+12]|(255&t[e+13])<<8)<<5),f=255&t[e+14]|(255&t[e+15])<<8,h=l=0,h+=S*P,h+=x*(5*H),h+=E*(5*z),h+=C*(5*U),l=(h+=A*(5*D))>>>13,h&=8191,h+=M*(5*L),h+=I*(5*j),h+=T*(5*F),h+=(O+=8191&(c>>>8|f<<8))*(5*R),p=l+=(h+=(B+=f>>>5|k)*(5*N))>>>13,p+=S*N,p+=x*P,p+=E*(5*H),p+=C*(5*z),l=(p+=A*(5*U))>>>13,p&=8191,p+=M*(5*D),p+=I*(5*L),p+=T*(5*j),p+=O*(5*F),l+=(p+=B*(5*R))>>>13,p&=8191,d=l,d+=S*R,d+=x*N,d+=E*P,d+=C*(5*H),l=(d+=A*(5*z))>>>13,d&=8191,d+=M*(5*U),d+=I*(5*D),d+=T*(5*L),d+=O*(5*j),m=l+=(d+=B*(5*F))>>>13,m+=S*F,m+=x*R,m+=E*N,m+=C*P,l=(m+=A*(5*H))>>>13,m&=8191,m+=M*(5*z),m+=I*(5*U),m+=T*(5*D),m+=O*(5*L),g=l+=(m+=B*(5*j))>>>13,g+=S*j,g+=x*F,g+=E*R,g+=C*N,l=(g+=A*P)>>>13,g&=8191,g+=M*(5*H),g+=I*(5*z),g+=T*(5*U),g+=O*(5*D),v=l+=(g+=B*(5*L))>>>13,v+=S*L,v+=x*j,v+=E*F,v+=C*R,l=(v+=A*N)>>>13,v&=8191,v+=M*P,v+=I*(5*H),v+=T*(5*z),v+=O*(5*U),y=l+=(v+=B*(5*D))>>>13,y+=S*D,y+=x*L,y+=E*j,y+=C*F,l=(y+=A*R)>>>13,y&=8191,y+=M*N,y+=I*P,y+=T*(5*H),y+=O*(5*z),b=l+=(y+=B*(5*U))>>>13,b+=S*U,b+=x*D,b+=E*L,b+=C*j,l=(b+=A*F)>>>13,b&=8191,b+=M*R,b+=I*N,b+=T*P,b+=O*(5*H),w=l+=(b+=B*(5*z))>>>13,w+=S*z,w+=x*U,w+=E*D,w+=C*L,l=(w+=A*j)>>>13,w&=8191,w+=M*F,w+=I*R,w+=T*N,w+=O*P,_=l+=(w+=B*(5*H))>>>13,_+=S*H,_+=x*z,_+=E*U,_+=C*D,l=(_+=A*L)>>>13,_&=8191,_+=M*j,_+=I*F,_+=T*R,_+=O*N,S=h=8191&(l=(l=((l+=(_+=B*P)>>>13)<<2)+l|0)+(h&=8191)|0),x=p+=l>>>=13,E=d&=8191,C=m&=8191,A=g&=8191,M=v&=8191,I=y&=8191,T=b&=8191,O=w&=8191,B=_&=8191,e+=16,r-=16;this.h[0]=S,this.h[1]=x,this.h[2]=E,this.h[3]=C,this.h[4]=A,this.h[5]=M,this.h[6]=I,this.h[7]=T,this.h[8]=O,this.h[9]=B},E.prototype.finish=function(t,e){var r,n,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},E.prototype.update=function(t,e,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=t[e+n];if(r-=i,e+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(t,e,i),e+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=t[e+n];this.leftover+=r}};var W=M,G=I;var Y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function $(t,e,r,n){for(var i,o,s,a,u,c,f,l,h,p,d,m,g,v,y,b,w,_,k,S,x,E,C,A,M,I,T=new Int32Array(16),O=new Int32Array(16),B=t[0],P=t[1],N=t[2],R=t[3],F=t[4],j=t[5],L=t[6],D=t[7],U=e[0],z=e[1],H=e[2],K=e[3],q=e[4],V=e[5],W=e[6],G=e[7],$=0;n>=128;){for(k=0;k<16;k++)S=8*k+$,T[k]=r[S+0]<<24|r[S+1]<<16|r[S+2]<<8|r[S+3],O[k]=r[S+4]<<24|r[S+5]<<16|r[S+6]<<8|r[S+7];for(k=0;k<80;k++)if(i=B,o=P,s=N,a=R,u=F,c=j,f=L,l=D,h=U,p=z,d=H,m=K,g=q,v=V,y=W,b=G,C=65535&(E=G),A=E>>>16,M=65535&(x=D),I=x>>>16,C+=65535&(E=(q>>>14|F<<18)^(q>>>18|F<<14)^(F>>>9|q<<23)),A+=E>>>16,M+=65535&(x=(F>>>14|q<<18)^(F>>>18|q<<14)^(q>>>9|F<<23)),I+=x>>>16,C+=65535&(E=q&V^~q&W),A+=E>>>16,M+=65535&(x=F&j^~F&L),I+=x>>>16,x=Y[2*k],C+=65535&(E=Y[2*k+1]),A+=E>>>16,M+=65535&x,I+=x>>>16,x=T[k%16],A+=(E=O[k%16])>>>16,M+=65535&x,I+=x>>>16,M+=(A+=(C+=65535&E)>>>16)>>>16,C=65535&(E=_=65535&C|A<<16),A=E>>>16,M=65535&(x=w=65535&M|(I+=M>>>16)<<16),I=x>>>16,C+=65535&(E=(U>>>28|B<<4)^(B>>>2|U<<30)^(B>>>7|U<<25)),A+=E>>>16,M+=65535&(x=(B>>>28|U<<4)^(U>>>2|B<<30)^(U>>>7|B<<25)),I+=x>>>16,A+=(E=U&z^U&H^z&H)>>>16,M+=65535&(x=B&P^B&N^P&N),I+=x>>>16,l=65535&(M+=(A+=(C+=65535&E)>>>16)>>>16)|(I+=M>>>16)<<16,b=65535&C|A<<16,C=65535&(E=m),A=E>>>16,M=65535&(x=a),I=x>>>16,A+=(E=_)>>>16,M+=65535&(x=w),I+=x>>>16,P=i,N=o,R=s,F=a=65535&(M+=(A+=(C+=65535&E)>>>16)>>>16)|(I+=M>>>16)<<16,j=u,L=c,D=f,B=l,z=h,H=p,K=d,q=m=65535&C|A<<16,V=g,W=v,G=y,U=b,k%16==15)for(S=0;S<16;S++)x=T[S],C=65535&(E=O[S]),A=E>>>16,M=65535&x,I=x>>>16,x=T[(S+9)%16],C+=65535&(E=O[(S+9)%16]),A+=E>>>16,M+=65535&x,I+=x>>>16,w=T[(S+1)%16],C+=65535&(E=((_=O[(S+1)%16])>>>1|w<<31)^(_>>>8|w<<24)^(_>>>7|w<<25)),A+=E>>>16,M+=65535&(x=(w>>>1|_<<31)^(w>>>8|_<<24)^w>>>7),I+=x>>>16,w=T[(S+14)%16],A+=(E=((_=O[(S+14)%16])>>>19|w<<13)^(w>>>29|_<<3)^(_>>>6|w<<26))>>>16,M+=65535&(x=(w>>>19|_<<13)^(_>>>29|w<<3)^w>>>6),I+=x>>>16,I+=(M+=(A+=(C+=65535&E)>>>16)>>>16)>>>16,T[S]=65535&M|I<<16,O[S]=65535&C|A<<16;C=65535&(E=U),A=E>>>16,M=65535&(x=B),I=x>>>16,x=t[0],A+=(E=e[0])>>>16,M+=65535&x,I+=x>>>16,I+=(M+=(A+=(C+=65535&E)>>>16)>>>16)>>>16,t[0]=B=65535&M|I<<16,e[0]=U=65535&C|A<<16,C=65535&(E=z),A=E>>>16,M=65535&(x=P),I=x>>>16,x=t[1],A+=(E=e[1])>>>16,M+=65535&x,I+=x>>>16,I+=(M+=(A+=(C+=65535&E)>>>16)>>>16)>>>16,t[1]=P=65535&M|I<<16,e[1]=z=65535&C|A<<16,C=65535&(E=H),A=E>>>16,M=65535&(x=N),I=x>>>16,x=t[2],A+=(E=e[2])>>>16,M+=65535&x,I+=x>>>16,I+=(M+=(A+=(C+=65535&E)>>>16)>>>16)>>>16,t[2]=N=65535&M|I<<16,e[2]=H=65535&C|A<<16,C=65535&(E=K),A=E>>>16,M=65535&(x=R),I=x>>>16,x=t[3],A+=(E=e[3])>>>16,M+=65535&x,I+=x>>>16,I+=(M+=(A+=(C+=65535&E)>>>16)>>>16)>>>16,t[3]=R=65535&M|I<<16,e[3]=K=65535&C|A<<16,C=65535&(E=q),A=E>>>16,M=65535&(x=F),I=x>>>16,x=t[4],A+=(E=e[4])>>>16,M+=65535&x,I+=x>>>16,I+=(M+=(A+=(C+=65535&E)>>>16)>>>16)>>>16,t[4]=F=65535&M|I<<16,e[4]=q=65535&C|A<<16,C=65535&(E=V),A=E>>>16,M=65535&(x=j),I=x>>>16,x=t[5],A+=(E=e[5])>>>16,M+=65535&x,I+=x>>>16,I+=(M+=(A+=(C+=65535&E)>>>16)>>>16)>>>16,t[5]=j=65535&M|I<<16,e[5]=V=65535&C|A<<16,C=65535&(E=W),A=E>>>16,M=65535&(x=L),I=x>>>16,x=t[6],A+=(E=e[6])>>>16,M+=65535&x,I+=x>>>16,I+=(M+=(A+=(C+=65535&E)>>>16)>>>16)>>>16,t[6]=L=65535&M|I<<16,e[6]=W=65535&C|A<<16,C=65535&(E=G),A=E>>>16,M=65535&(x=D),I=x>>>16,x=t[7],A+=(E=e[7])>>>16,M+=65535&x,I+=x>>>16,I+=(M+=(A+=(C+=65535&E)>>>16)>>>16)>>>16,t[7]=D=65535&M|I<<16,e[7]=G=65535&C|A<<16,$+=128,n-=128}return n}function Z(t,e,r){var n,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,$(i,o,e,r),r%=128,n=0;n<r;n++)s[n]=e[a-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,d(s,r-8,a/536870912|0,a<<3),$(i,o,s,r),n=0;n<8;n++)d(t,8*n,i[n],o[n]);return 0}function X(t,r){var n=e(),i=e(),o=e(),s=e(),a=e(),u=e(),c=e(),l=e(),h=e();L(n,t[1],t[0]),L(h,r[1],r[0]),D(n,n,h),j(i,t[0],t[1]),j(h,r[0],r[1]),D(i,i,h),D(o,t[3],r[3]),D(o,o,f),D(s,t[2],r[2]),j(s,s,s),L(a,i,n),L(u,s,o),j(c,s,o),j(l,i,n),D(t[0],a,u),D(t[1],l,c),D(t[2],c,u),D(t[3],a,l)}function J(t,e,r){var n;for(n=0;n<4;n++)B(t[n],e[n],r)}function Q(t,r){var n=e(),i=e(),o=e();z(o,r[2]),D(n,r[0],o),D(i,r[1],o),P(t,i),t[31]^=R(n)<<7}function tt(t,e,r){var n,i;for(T(t[0],s),T(t[1],a),T(t[2],a),T(t[3],s),i=255;i>=0;--i)J(t,e,n=r[i/8|0]>>(7&i)&1),X(e,t),X(t,t),J(t,e,n)}function et(t,r){var n=[e(),e(),e(),e()];T(n[0],l),T(n[1],h),T(n[2],a),D(n[3],l,h),tt(t,n,r)}function rt(t,r,i){var o,s=new Uint8Array(64),a=[e(),e(),e(),e()];for(i||n(r,32),Z(s,r,32),s[0]&=248,s[31]&=127,s[31]|=64,et(a,s),Q(t,a),o=0;o<32;o++)r[o+32]=t[o];return 0}var nt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function it(t,e){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)e[i]+=r-16*e[n]*nt[i-(n-32)],r=e[i]+128>>8,e[i]-=256*r;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;i++)e[i]+=r-(e[31]>>4)*nt[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=r*nt[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function ot(t){var e,r=new Float64Array(64);for(e=0;e<64;e++)r[e]=t[e];for(e=0;e<64;e++)t[e]=0;it(t,r)}function st(t,r,n,i){var o,s,a=new Uint8Array(64),u=new Uint8Array(64),c=new Uint8Array(64),f=new Float64Array(64),l=[e(),e(),e(),e()];Z(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var h=n+64;for(o=0;o<n;o++)t[64+o]=r[o];for(o=0;o<32;o++)t[32+o]=a[32+o];for(Z(c,t.subarray(32),n+32),ot(c),et(l,c),Q(t,l),o=32;o<64;o++)t[o]=i[o];for(Z(u,t,n+64),ot(u),o=0;o<64;o++)f[o]=0;for(o=0;o<32;o++)f[o]=c[o];for(o=0;o<32;o++)for(s=0;s<32;s++)f[o+s]+=u[o]*a[s];return it(t.subarray(32),f),h}function at(t,r){var n=e(),i=e(),o=e(),u=e(),f=e(),l=e(),h=e();return T(t[2],a),F(t[1],r),U(o,t[1]),D(u,o,c),L(o,o,t[2]),j(u,t[2],u),U(f,u),U(l,f),D(h,l,f),D(n,h,o),D(n,n,u),function(t,r){var n,i=e();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)U(i,i),1!==n&&D(i,i,r);for(n=0;n<16;n++)t[n]=i[n]}(n,n),D(n,n,o),D(n,n,u),D(n,n,u),D(t[0],n,u),U(i,t[0]),D(i,i,u),N(i,o)&&D(t[0],t[0],p),U(i,t[0]),D(i,i,u),N(i,o)?-1:(R(t[0])===r[31]>>7&&L(t[0],s,t[0]),D(t[3],t[0],t[1]),0)}function ut(t,r,n,i){var o,s=new Uint8Array(32),a=new Uint8Array(64),u=[e(),e(),e(),e()],c=[e(),e(),e(),e()];if(-1,n<64)return-1;if(at(c,i))return-1;for(o=0;o<n;o++)t[o]=r[o];for(o=0;o<32;o++)t[o+32]=i[o];if(Z(a,t,n),ot(a),tt(u,c,a),et(c,r.subarray(32)),X(u,c),Q(s,u),n-=64,v(r,0,s,0)){for(o=0;o<n;o++)t[o]=0;return-1}for(o=0;o<n;o++)t[o]=r[o+64];return n}var ct=32,ft=24,lt=32,ht=32,pt=ft;function dt(t,e){if(t.length!==ct)throw new Error("bad key size");if(e.length!==ft)throw new Error("bad nonce size")}function mt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function gt(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:b,crypto_stream_xor:x,crypto_stream:S,crypto_stream_salsa20_xor:_,crypto_stream_salsa20:k,crypto_onetimeauth:C,crypto_onetimeauth_verify:A,crypto_verify_16:g,crypto_verify_32:v,crypto_secretbox:M,crypto_secretbox_open:I,crypto_scalarmult:H,crypto_scalarmult_base:K,crypto_box_beforenm:V,crypto_box_afternm:W,crypto_box:function(t,e,r,n,i,o){var s=new Uint8Array(32);return V(s,i,o),W(t,e,r,n,s)},crypto_box_open:function(t,e,r,n,i,o){var s=new Uint8Array(32);return V(s,i,o),G(t,e,r,n,s)},crypto_box_keypair:q,crypto_hash:Z,crypto_sign:st,crypto_sign_keypair:rt,crypto_sign_open:ut,crypto_secretbox_KEYBYTES:ct,crypto_secretbox_NONCEBYTES:ft,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:lt,crypto_box_SECRETKEYBYTES:ht,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:pt,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},t.randomBytes=function(t){var e=new Uint8Array(t);return n(e,t),e},t.secretbox=function(t,e,r){mt(t,e,r),dt(r,e);for(var n=new Uint8Array(32+t.length),i=new Uint8Array(n.length),o=0;o<t.length;o++)n[o+32]=t[o];return M(i,n,n.length,e,r),i.subarray(16)},t.secretbox.open=function(t,e,r){mt(t,e,r),dt(r,e);for(var n=new Uint8Array(16+t.length),i=new Uint8Array(n.length),o=0;o<t.length;o++)n[o+16]=t[o];return n.length<32?null:0!==I(i,n,n.length,e,r)?null:i.subarray(32)},t.secretbox.keyLength=ct,t.secretbox.nonceLength=ft,t.secretbox.overheadLength=16,t.scalarMult=function(t,e){if(mt(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var r=new Uint8Array(32);return H(r,t,e),r},t.scalarMult.base=function(t){if(mt(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return K(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,r,n,i){var o=t.box.before(n,i);return t.secretbox(e,r,o)},t.box.before=function(t,e){mt(t,e),function(t,e){if(t.length!==lt)throw new Error("bad public key size");if(e.length!==ht)throw new Error("bad secret key size")}(t,e);var r=new Uint8Array(32);return V(r,t,e),r},t.box.after=t.secretbox,t.box.open=function(e,r,n,i){var o=t.box.before(n,i);return t.secretbox.open(e,r,o)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(lt),e=new Uint8Array(ht);return q(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(mt(t),t.length!==ht)throw new Error("bad secret key size");var e=new Uint8Array(lt);return K(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=lt,t.box.secretKeyLength=ht,t.box.sharedKeyLength=32,t.box.nonceLength=pt,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(mt(t,e),64!==e.length)throw new Error("bad secret key size");var r=new Uint8Array(64+t.length);return st(r,t,t.length,e),r},t.sign.open=function(t,e){if(mt(t,e),32!==e.length)throw new Error("bad public key size");var r=new Uint8Array(t.length),n=ut(r,t,t.length,e);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},t.sign.detached=function(e,r){for(var n=t.sign(e,r),i=new Uint8Array(64),o=0;o<i.length;o++)i[o]=n[o];return i},t.sign.detached.verify=function(t,e,r){if(mt(t,e,r),64!==e.length)throw new Error("bad signature size");if(32!==r.length)throw new Error("bad public key size");var n,i=new Uint8Array(64+t.length),o=new Uint8Array(64+t.length);for(n=0;n<64;n++)i[n]=e[n];for(n=0;n<t.length;n++)i[n+64]=t[n];return ut(o,i,i.length,r)>=0},t.sign.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(64);return rt(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(mt(t),64!==t.length)throw new Error("bad secret key size");for(var e=new Uint8Array(32),r=0;r<e.length;r++)e[r]=t[32+r];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(mt(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=t[n];return rt(e,r,!0),{publicKey:e,secretKey:r}},t.sign.publicKeyLength=32,t.sign.secretKeyLength=64,t.sign.seedLength=32,t.sign.signatureLength=64,t.hash=function(t){mt(t);var e=new Uint8Array(64);return Z(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return mt(t,e),0!==t.length&&0!==e.length&&(t.length===e.length&&0===m(t,0,e,0,t.length))},t.setPRNG=function(t){n=t},function(){var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(e&&e.getRandomValues){t.setPRNG(function(t,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)e.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)t[n]=i[n];gt(i)})}else(e=r(1128))&&e.randomBytes&&t.setPRNG(function(t,r){var n,i=e.randomBytes(r);for(n=0;n<r;n++)t[n]=i[n];gt(i)})}()}(void 0!==t&&t.exports?t.exports:self.nacl=self.nacl||{})},function(t,e,r){"use strict";(function(t){const n=r(1129),i=r(489);e.publicKeyLength=n.sign.publicKeyLength,e.privateKeyLength=n.sign.secretKeyLength,e.generateKey=function(t){i(()=>{let e;try{e=n.sign.keyPair()}catch(e){return t(e)}t(null,e)})},e.generateKeyFromSeed=function(t,e){i(()=>{let r;try{r=n.sign.keyPair.fromSeed(t)}catch(t){return e(t)}e(null,r)})},e.hashAndSign=function(e,r,o){i(()=>{o(null,t.from(n.sign.detached(r,e)))})},e.hashAndVerify=function(t,e,r,o){i(()=>{let i;try{i=n.sign.detached.verify(r,e,t)}catch(t){return o(t)}o(null,i)})}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e){const n=r(53),i=r(66),o=r(86),s=r(1130),a=i(r(299));class u{constructor(t){this._key=l(t,s.publicKeyLength)}verify(t,e,r){f(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return e.from(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,"sha2-256",t)}}class c{constructor(t,e){this._key=l(t,s.privateKeyLength),this._publicKey=l(e,s.publicKeyLength)}sign(t,e){f(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error("public key not provided");return new u(this._publicKey)}marshal(){return e.concat([e.from(this._key),e.from(this._publicKey)])}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){f(t),n(this.bytes,"sha2-256",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}}function f(t){if("function"!=typeof t)throw new Error("callback is required")}function l(t,r){if(e.isBuffer(t)&&(t=new Uint8Array(t)),!(t instanceof Uint8Array)||t.length!==r)throw new Error("Key must be a Uint8Array or Buffer of length "+r);return t}t.exports={Ed25519PublicKey:u,Ed25519PrivateKey:c,unmarshalEd25519PrivateKey:function(t,e){try{t=l(t,s.privateKeyLength+s.publicKeyLength)}catch(t){return e(t)}const r=t.slice(0,s.privateKeyLength),n=t.slice(s.privateKeyLength,t.length);e(null,new c(r,n))},unmarshalEd25519PublicKey:function(t){return t=l(t,s.publicKeyLength),new u(t)},generateKeyPair:function(t,e){void 0===e&&"function"==typeof t&&(e=t),s.generateKey((t,r)=>{if(t)return e(t);let n;try{n=new c(r.secretKey,r.publicKey)}catch(t){return void e(t)}e(null,n)})},generateKeyPairFromSeed:function(t,e,r){void 0===r&&"function"==typeof e&&(r=e),s.generateKeyFromSeed(t,(t,e)=>{if(t)return r(t);let n;try{n=new c(e.secretKey,e.publicKey)}catch(t){return void r(t)}r(null,n)})}}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(6),i=r(491);function o(t){i.call(this,t),this.enc="pem"}n(o,i),t.exports=o,o.prototype.encode=function(t,e){const r=i.prototype.encode.call(this,t).toString("base64"),n=["-----BEGIN "+e.label+"-----"];for(let t=0;t<r.length;t+=64)n.push(r.slice(t,t+64));return n.push("-----END "+e.label+"-----"),n.join("\n")}},function(t,e,r){"use strict";const n=e;n.der=r(491),n.pem=r(1132)},function(t,e,r){"use strict";const n=r(6),i=r(0).Buffer,o=r(492);function s(t){o.call(this,t),this.enc="pem"}n(s,o),t.exports=s,s.prototype.decode=function(t,e){const r=t.toString().split(/[\r\n]+/g),n=e.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,u=-1;for(let t=0;t<r.length;t++){const e=r[t].match(s);if(null!==e&&e[2]===n){if(-1!==a){if("END"!==e[1])break;u=t;break}if("BEGIN"!==e[1])break;a=t}}if(-1===a||-1===u)throw new Error("PEM section not found for: "+n);const c=r.slice(a+1,u).join("");c.replace(/[^a-z0-9+/=]+/gi,"");const f=new i(c,"base64");return o.prototype.decode.call(this,f,e)}},function(t,e,r){"use strict";const n=e;n.der=r(492),n.pem=r(1134)},function(t,e,r){"use strict";const n=r(493);e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=n._reverse(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=n._reverse(e.tag)},function(t,e,r){"use strict";const n=r(142).Reporter,i=r(142).EncoderBuffer,o=r(142).DecoderBuffer,s=r(49),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function c(t,e){const r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=c;const f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){const t=this._baseState,e={};f.forEach(function(r){e[r]=t[r]});const r=new this.constructor(e.parent);return r._baseState=e,r},c.prototype._wrap=function(){const t=this._baseState;u.forEach(function(e){this[e]=function(){const r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}},this)},c.prototype._init=function(t){const e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),s.equal(e.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(t){const e=this._baseState,r=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==r.length&&(s(null===e.children),e.children=r,r.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if("object"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach(function(r){r==(0|r)&&(r|=0);const n=t[r];e[n]=r}),e}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(t){c.prototype[t]=function(){const e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}}),a.forEach(function(t){c.prototype[t]=function(){const e=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(r),this}}),c.prototype.use=function(t){s(t);const e=this._baseState;return s(null===e.use),e.use=t,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(t){const e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},c.prototype.explicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},c.prototype.implicit=function(t){const e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},c.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},c.prototype.key=function(t){const e=this._baseState;return s(null===e.key),e.key=t,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(t){const e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},c.prototype.contains=function(t){const e=this._baseState;return s(null===e.use),e.contains=t,this},c.prototype._decode=function(t,e){const r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));let n,i=r.default,s=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(s=this._peekTag(t,n,r.any),t.isError(s))return s}else{const n=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),s=!0}catch(t){s=!1}t.restore(n)}}if(r.obj&&s&&(n=t.enterObject()),s){if(null!==r.explicit){const e=this._decodeTag(t,r.explicit);if(t.isError(e))return e;t=e}const n=t.offset;if(null===r.use&&null===r.choice){let e;r.any&&(e=t.save());const n=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(n))return n;r.any?i=t.raw(e):t=n}if(e&&e.track&&null!==r.tag&&e.track(t.path(),n,t.length,"tagged"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,"content"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(t,e)}),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){const n=new o(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(n,e)}}return r.obj&&s&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==s?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,i),i},c.prototype._decodeGeneric=function(t,e,r){const n=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):"objid"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):"objid"===t?this._decodeObjid(e,null,null,r):"gentime"===t||"utctime"===t?this._decodeTime(e,t,r):"null_"===t?this._decodeNull(e,r):"bool"===t?this._decodeBool(e,r):"objDesc"===t?this._decodeStr(e,t,r):"int"===t||"enum"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error("unknown tag: "+t)},c.prototype._getUse=function(t,e){const r=this._baseState;return r.useDecoder=this._use(t,e),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},c.prototype._decodeChoice=function(t,e){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some(function(o){const s=t.save(),a=r.choice[o];try{const r=a._decode(t,e);if(t.isError(r))return!1;n={type:o,value:r},i=!0}catch(e){return t.restore(s),!1}return!0},this),i?n:t.error("Choice not matched")},c.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},c.prototype._encode=function(t,e,r){const n=this._baseState;if(null!==n.default&&n.default===t)return;const i=this._encodeValue(t,e,r);return void 0===i||this._skipDefault(i,e,r)?void 0:i},c.prototype._encodeValue=function(t,e,r){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);let o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}let s=null,a=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)s=this._getUse(i.contains,r)._encode(t,e),a=!0;else if(i.children)s=i.children.map(function(r){if("null_"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error("Child should have a key");const n=e.enterKey(r._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");const i=r._encode(t[r._baseState.key],e,t);return e.leaveKey(n),i},this).filter(function(t){return t}),s=this._createEncoderBuffer(s);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return e.error("Too many args for : "+i.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");const r=this.clone();r._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(r){const n=this._baseState;return this._getUse(n.args[0],t)._encode(r,e)},r))}else null!==i.use?o=this._getUse(i.use,r)._encode(t,e):(s=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){const t=null!==i.implicit?i.implicit:i.tag,r=null===i.implicit?"universal":"context";null===t?null===i.use&&e.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(t,a,r,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},c.prototype._encodeChoice=function(t,e){const r=this._baseState,n=r.choice[t.type];return n||s(!1,t.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},c.prototype._encodePrimitive=function(t,e){const r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},c.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},c.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},function(t,e,r){"use strict";const n=r(6);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,r){const n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){const e=this._reporterState,r=e.obj;return e.obj=t,r},i.prototype.error=function(t){let e;const r=this._reporterState,n=t instanceof o;if(e=n?t:new o(r.path.map(function(t){return"["+JSON.stringify(t)+"]"}).join(""),t.message||t,t.stack),!r.options.partial)throw e;return n||r.errors.push(e),e},i.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},n(o,Error),o.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,r){"use strict";const n=r(121),i=r(6);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){let e;try{e=r(631).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(t){e=function(t){this._initNamed(t)}}return i(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},o.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(n.decoders[t])),this.decoders[t]},o.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},o.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(n.encoders[t])),this.encoders[t]},o.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},function(t,e,r){"use strict";const n=r(121),i=r(490),o=i.toBase64,s=i.toBn,a=n.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}),u=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid({"1.2.840.113549.1.1.1":"rsa"}),this.key("none").optional().null_(),this.key("curve").optional().objid(),this.key("params").optional().seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()))}),c=n.define("RSAPublicKey",function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())}),f=n.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});e.pkcs1ToJwk=function(t){const e=a.decode(t,"der");return{kty:"RSA",n:o(e.modulus),e:o(e.publicExponent),d:o(e.privateExponent),p:o(e.prime1),q:o(e.prime2),dp:o(e.exponent1),dq:o(e.exponent2),qi:o(e.coefficient),alg:"RS256",kid:"2011-04-29"}},e.jwkToPkcs1=function(t){return a.encode({version:0,modulus:s(t.n),publicExponent:s(t.e),privateExponent:s(t.d),prime1:s(t.p),prime2:s(t.q),exponent1:s(t.dp),exponent2:s(t.dq),coefficient:s(t.qi)},"der")},e.pkixToJwk=function(t){const e=c.decode(t,"der"),r=f.decode(e.subjectPublicKey.data,"der");return{kty:"RSA",n:o(r.modulus),e:o(r.publicExponent),alg:"RS256",kid:"2011-04-29"}},e.jwkToPkix=function(t){return c.encode({algorithm:{algorithm:"rsa",none:null},subjectPublicKey:{data:f.encode({modulus:s(t.n),publicExponent:s(t.e)},"der")}},"der")}},function(t,e,r){"use strict";const n=r(53),i=r(66),o=r(86),s=r(495),a=i(r(299)),u=r(145),c=r(489);class f{constructor(t){this._key=t}verify(t,e,r){h(r),s.hashAndVerify(this._key,e,t,r)}marshal(){return s.utils.jwkToPkix(this._key)}get bytes(){return a.PublicKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}encrypt(t){return this._key.encrypt(t,"RSAES-PKCS1-V1_5")}equals(t){return this.bytes.equals(t.bytes)}hash(t){h(t),n(this.bytes,"sha2-256",t)}}class l{constructor(t,e){this._key=t,this._publicKey=e}genSecret(){return s.getRandomValues(new Uint8Array(16))}sign(t,e){h(e),s.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error("public key not provided");return new f(this._publicKey)}decrypt(t,e){s.decrypt(this._key,t,e)}marshal(){return s.utils.jwkToPkcs1(this._key)}get bytes(){return a.PrivateKey.encode({Type:a.KeyType.RSA,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){h(t),n(this.bytes,"sha2-256",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,o.encode(r))})}export(t,e,r){"function"==typeof e&&(r=e,e=t,t="pkcs-8"),h(r),c(()=>{let n=null,i=null;try{const r=new u.util.ByteBuffer(this.marshal()),o=u.asn1.fromDer(r),s=u.pki.privateKeyFromAsn1(o);if("pkcs-8"===t){const t={algorithm:"aes256",count:1e4,saltSize:16,prfAlgorithm:"sha512"};i=u.pki.encryptRsaPrivateKey(s,e,t)}else n=new Error(`Unknown export format '${t}'`)}catch(t){n=t}r(n,i)})}}function h(t){if("function"!=typeof t)throw new Error("callback is required")}t.exports={RsaPublicKey:f,RsaPrivateKey:l,unmarshalRsaPublicKey:function(t){const e=s.utils.pkixToJwk(t);return new f(e)},unmarshalRsaPrivateKey:function(t,e){const r=s.utils.pkcs1ToJwk(t);s.unmarshalPrivateKey(r,(t,r)=>{if(t)return e(t);e(null,new l(r.privateKey,r.publicKey))})},generateKeyPair:function(t,e){s.generateKey(t,(t,r)=>{if(t)return e(t);e(null,new l(r.privateKey,r.publicKey))})},fromJwk:function(t,e){s.unmarshalPrivateKey(t,(t,r)=>{if(t)return e(t);e(null,new l(r.privateKey,r.publicKey))})}}},function(t,e,r){var n=r(11);r(498),r(496),r(13);var i="forge.task",o={},s=0;n.debug.set(i,"tasks",o);var a={};n.debug.set(i,"queues",a);var u="ready",c="running",f="blocked",l="sleeping",h="done",p="error",d={ready:{}};d.ready.stop=u,d.ready.start=c,d.ready.cancel=h,d.ready.fail=p,d.running={},d.running.stop=u,d.running.start=c,d.running.block=f,d.running.unblock=c,d.running.sleep=l,d.running.wakeup=c,d.running.cancel=h,d.running.fail=p,d.blocked={},d.blocked.stop=f,d.blocked.start=f,d.blocked.block=f,d.blocked.unblock=f,d.blocked.sleep=f,d.blocked.wakeup=f,d.blocked.cancel=h,d.blocked.fail=p,d.sleeping={},d.sleeping.stop=l,d.sleeping.start=l,d.sleeping.block=l,d.sleeping.unblock=l,d.sleeping.sleep=l,d.sleeping.wakeup=l,d.sleeping.cancel=h,d.sleeping.fail=p,d.done={},d.done.stop=h,d.done.start=h,d.done.block=h,d.done.unblock=h,d.done.sleep=h,d.done.wakeup=h,d.done.cancel=h,d.done.fail=p,d.error={},d.error.stop=p,d.error.start=p,d.error.block=p,d.error.unblock=p,d.error.sleep=p,d.error.wakeup=p,d.error.cancel=p,d.error.fail=p;var m=function(t){this.id=-1,this.name=t.name||"?",this.parent=t.parent||null,this.run=t.run,this.subtasks=[],this.error=!1,this.state=u,this.blocks=0,this.timeoutId=null,this.swapTime=null,this.userData=null,this.id=s++,o[this.id]=this};m.prototype.debug=function(t){t=t||"",n.log.debug(i,t,"[%s][%s] task:",this.id,this.name,this,"subtasks:",this.subtasks.length,"queue:",a)},m.prototype.next=function(t,e){"function"==typeof t&&(e=t,t=this.name);var r=new m({run:e,name:t,parent:this});return r.state=c,r.type=this.type,r.successCallback=this.successCallback||null,r.failureCallback=this.failureCallback||null,this.subtasks.push(r),this},m.prototype.parallel=function(t,e){return n.util.isArray(t)&&(e=t,t=this.name),this.next(t,function(r){var i=r;i.block(e.length);for(var o=function(t,r){n.task.start({type:t,run:function(t){e[r](t)},success:function(t){i.unblock()},failure:function(t){i.unblock()}})},s=0;s<e.length;s++){o(t+"__parallel-"+r.id+"-"+s,s)}})},m.prototype.stop=function(){this.state=d[this.state].stop},m.prototype.start=function(){this.error=!1,this.state=d[this.state].start,this.state===c&&(this.start=new Date,this.run(this),g(this,0))},m.prototype.block=function(t){t=void 0===t?1:t,this.blocks+=t,this.blocks>0&&(this.state=d[this.state].block)},m.prototype.unblock=function(t){return t=void 0===t?1:t,this.blocks-=t,0===this.blocks&&this.state!==h&&(this.state=c,g(this,0)),this.blocks},m.prototype.sleep=function(t){t=void 0===t?0:t,this.state=d[this.state].sleep;var e=this;this.timeoutId=setTimeout(function(){e.timeoutId=null,e.state=c,g(e,0)},t)},m.prototype.wait=function(t){t.wait(this)},m.prototype.wakeup=function(){this.state===l&&(cancelTimeout(this.timeoutId),this.timeoutId=null,this.state=c,g(this,0))},m.prototype.cancel=function(){this.state=d[this.state].cancel,this.permitsNeeded=0,null!==this.timeoutId&&(cancelTimeout(this.timeoutId),this.timeoutId=null),this.subtasks=[]},m.prototype.fail=function(t){if(this.error=!0,v(this,!0),t)t.error=this.error,t.swapTime=this.swapTime,t.userData=this.userData,g(t,0);else{if(null!==this.parent){for(var e=this.parent;null!==e.parent;)e.error=this.error,e.swapTime=this.swapTime,e.userData=this.userData,e=e.parent;v(e,!0)}this.failureCallback&&this.failureCallback(this)}};var g=function(t,e){var r=e>30||+new Date-t.swapTime>20,n=function(e){if(e++,t.state===c)if(r&&(t.swapTime=+new Date),t.subtasks.length>0){var n=t.subtasks.shift();n.error=t.error,n.swapTime=t.swapTime,n.userData=t.userData,n.run(n),n.error||g(n,e)}else v(t),t.error||null!==t.parent&&(t.parent.error=t.error,t.parent.swapTime=t.swapTime,t.parent.userData=t.userData,g(t.parent,e))};r?setTimeout(n,0):n(e)},v=function(t,e){t.state=h,delete o[t.id],null===t.parent&&(t.type in a?0===a[t.type].length?n.log.error(i,"[%s][%s] task queue empty [%s]",t.id,t.name,t.type):a[t.type][0]!==t?n.log.error(i,"[%s][%s] task not first in queue [%s]",t.id,t.name,t.type):(a[t.type].shift(),0===a[t.type].length?delete a[t.type]:a[t.type][0].start()):n.log.error(i,"[%s][%s] task queue missing [%s]",t.id,t.name,t.type),e||(t.error&&t.failureCallback?t.failureCallback(t):!t.error&&t.successCallback&&t.successCallback(t)))};t.exports=n.task=n.task||{},n.task.start=function(t){var e=new m({run:t.run,name:t.name||"?"});e.type=t.type,e.successCallback=t.success||null,e.failureCallback=t.failure||null,e.type in a?a[t.type].push(e):(a[e.type]=[e],function(t){t.error=!1,t.state=d[t.state].start,setTimeout(function(){t.state===c&&(t.swapTime=+new Date,t.run(t),g(t,0))},0)}(e))},n.task.cancel=function(t){t in a&&(a[t]=[a[t][0]])},n.task.createCondition=function(){var t={tasks:{},wait:function(e){e.id in t.tasks||(e.block(),t.tasks[e.id]=e)},notify:function(){var e=t.tasks;for(var r in t.tasks={},e)e[r].unblock()}};return t}},function(t,e,r){var n=r(11);r(95),r(144),r(297),r(143),r(13);var i=t.exports=n.ssh=n.ssh||{};function o(t,e){var r=e.toString(16);r[0]>="8"&&(r="00"+r);var i=n.util.hexToBytes(r);t.putInt32(i.length),t.putBytes(i)}function s(t,e){t.putInt32(e.length),t.putString(e)}function a(){for(var t=n.md.sha1.create(),e=arguments.length,r=0;r<e;++r)t.update(arguments[r]);return t.digest()}i.privateKeyToPutty=function(t,e,r){r=r||"";var i=""===(e=e||"")?"none":"aes256-cbc",u="PuTTY-User-Key-File-2: ssh-rsa\r\n";u+="Encryption: "+i+"\r\n",u+="Comment: "+r+"\r\n";var c=n.util.createBuffer();s(c,"ssh-rsa"),o(c,t.e),o(c,t.n);var f=n.util.encode64(c.bytes(),64),l=Math.floor(f.length/66)+1;u+="Public-Lines: "+l+"\r\n",u+=f;var h,p=n.util.createBuffer();if(o(p,t.d),o(p,t.p),o(p,t.q),o(p,t.qInv),e){var d=p.length()+16-1;d-=d%16;var m=a(p.bytes());m.truncate(m.length()-d+p.length()),p.putBuffer(m);var g=n.util.createBuffer();g.putBuffer(a("\0\0\0\0",e)),g.putBuffer(a("\0\0\0",e));var v=n.aes.createEncryptionCipher(g.truncate(8),"CBC");v.start(n.util.createBuffer().fillWithByte(0,16)),v.update(p.copy()),v.finish();var y=v.output;y.truncate(16),h=n.util.encode64(y.bytes(),64)}else h=n.util.encode64(p.bytes(),64);u+="\r\nPrivate-Lines: "+(l=Math.floor(h.length/66)+1)+"\r\n",u+=h;var b=a("putty-private-key-file-mac-key",e),w=n.util.createBuffer();s(w,"ssh-rsa"),s(w,i),s(w,r),w.putInt32(c.length()),w.putBuffer(c),w.putInt32(p.length()),w.putBuffer(p);var _=n.hmac.create();return _.start("sha1",b),_.update(w.bytes()),u+="\r\nPrivate-MAC: "+_.digest().toHex()+"\r\n"},i.publicKeyToOpenSSH=function(t,e){e=e||"";var r=n.util.createBuffer();return s(r,"ssh-rsa"),o(r,t.e),o(r,t.n),"ssh-rsa "+n.util.encode64(r.bytes())+" "+e},i.privateKeyToOpenSSH=function(t,e){return e?n.pki.encryptRsaPrivateKey(t,e,{legacy:!0,algorithm:"aes128"}):n.pki.privateKeyToPem(t)},i.getPublicKeyFingerprint=function(t,e){var r=(e=e||{}).md||n.md.md5.create(),i=n.util.createBuffer();s(i,"ssh-rsa"),o(i,t.e),o(i,t.n),r.start(),r.update(i.getBytes());var a=r.digest();if("hex"===e.encoding){var u=a.toHex();return e.delimiter?u.match(/.{2}/g).join(e.delimiter):u}if("binary"===e.encoding)return a.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".');return a}},function(t,e,r){var n=r(11);r(95),r(73),r(191),r(94),r(122),r(500),r(56),r(13),r(295);var i=n.asn1,o=t.exports=n.pkcs7=n.pkcs7||{};function s(t){var e={},r=[];if(!i.validate(t,o.asn1.recipientInfoValidator,e,r)){var s=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw s.errors=r,s}return{version:e.version.charCodeAt(0),issuer:n.pki.RDNAttributesAsArray(e.issuer),serialNumber:n.util.createBuffer(e.serial).toHex(),encryptedContent:{algorithm:i.derToOid(e.encAlgorithm),parameter:e.encParameter.value,content:e.encKey}}}function a(t){var e=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:t.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(t.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.digestAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])]);if(t.authenticatedAttributesAsn1&&e.value.push(t.authenticatedAttributesAsn1),e.value.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.signatureAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])),e.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.signature)),t.unauthenticatedAttributes.length>0){for(var r=i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[]),o=0;o<t.unauthenticatedAttributes.length;++o){var s=t.unauthenticatedAttributes[o];r.values.push(u(s))}e.value.push(r)}return e}function u(t){var e;if(t.type===n.pki.oids.contentType)e=i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.value).getBytes());else if(t.type===n.pki.oids.messageDigest)e=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.value.bytes());else if(t.type===n.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),o=new Date("2050-01-01T00:00:00Z"),s=t.value;if("string"==typeof s){var a=Date.parse(s);s=isNaN(a)?13===s.length?i.utcTimeToDate(s):i.generalizedTimeToDate(s):new Date(a)}e=s>=r&&s<o?i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(s)):i.create(i.Class.UNIVERSAL,i.Type.GENERALIZEDTIME,!1,i.dateToGeneralizedTime(s))}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[e])])}function c(t,e,r){var o={};if(!i.validate(e,r,o,[])){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw s.errors=s,s}if(i.derToOid(o.contentType)!==n.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(o.encryptedContent){var a="";if(n.util.isArray(o.encryptedContent))for(var u=0;u<o.encryptedContent.length;++u){if(o.encryptedContent[u].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");a+=o.encryptedContent[u].value}else a=o.encryptedContent;t.encryptedContent={algorithm:i.derToOid(o.encAlgorithm),parameter:n.util.createBuffer(o.encParameter.value),content:n.util.createBuffer(a)}}if(o.content){a="";if(n.util.isArray(o.content))for(u=0;u<o.content.length;++u){if(o.content[u].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");a+=o.content[u].value}else a=o.content;t.content=n.util.createBuffer(a)}return t.version=o.version.charCodeAt(0),t.rawCapture=o,o}function f(t){if(void 0===t.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===t.content){var e;switch(t.encryptedContent.algorithm){case n.pki.oids["aes128-CBC"]:case n.pki.oids["aes192-CBC"]:case n.pki.oids["aes256-CBC"]:e=n.aes.createDecryptionCipher(t.encryptedContent.key);break;case n.pki.oids.desCBC:case n.pki.oids["des-EDE3-CBC"]:e=n.des.createDecryptionCipher(t.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+t.encryptedContent.algorithm)}if(e.start(t.encryptedContent.parameter),e.update(t.encryptedContent.content),!e.finish())throw new Error("Symmetric decryption failed.");t.content=e.output}}o.messageFromPem=function(t){var e=n.pem.decode(t)[0];if("PKCS7"!==e.type){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=e.type,r}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var s=i.fromDer(e.body);return o.messageFromAsn1(s)},o.messageToPem=function(t,e){var r={type:"PKCS7",body:i.toDer(t.toAsn1()).getBytes()};return n.pem.encode(r,{maxline:e})},o.messageFromAsn1=function(t){var e={},r=[];if(!i.validate(t,o.asn1.contentInfoValidator,e,r)){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw s.errors=r,s}var a,u=i.derToOid(e.contentType);switch(u){case n.pki.oids.envelopedData:a=o.createEnvelopedData();break;case n.pki.oids.encryptedData:a=o.createEncryptedData();break;case n.pki.oids.signedData:a=o.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+u+" is not (yet) supported.")}return a.fromAsn1(e.content.value[0]),a},o.createSignedData=function(){var t=null;return t={type:n.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(e){if(c(t,e,o.asn1.signedDataValidator),t.certificates=[],t.crls=[],t.digestAlgorithmIdentifiers=[],t.contentInfo=null,t.signerInfos=[],t.rawCapture.certificates)for(var r=t.rawCapture.certificates.value,i=0;i<r.length;++i)t.certificates.push(n.pki.certificateFromAsn1(r[i]))},toAsn1:function(){t.contentInfo||t.sign();for(var e=[],r=0;r<t.certificates.length;++r)e.push(n.pki.certificateToAsn1(t.certificates[r]));var o=[],s=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,t.digestAlgorithmIdentifiers),t.contentInfo])]);return e.length>0&&s.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,e)),o.length>0&&s.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,o)),s.value[0].value.push(i.create(i.Class.UNIVERSAL,i.Type.SET,!0,t.signerInfos)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),s])},addSigner:function(e){var r=e.issuer,i=e.serialNumber;if(e.certificate){var o=e.certificate;"string"==typeof o&&(o=n.pki.certificateFromPem(o)),r=o.issuer.attributes,i=o.serialNumber}var s=e.key;if(!s)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof s&&(s=n.pki.privateKeyFromPem(s));var a=e.digestAlgorithm||n.pki.oids.sha1;switch(a){case n.pki.oids.sha1:case n.pki.oids.sha256:case n.pki.oids.sha384:case n.pki.oids.sha512:case n.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+a)}var u=e.authenticatedAttributes||[];if(u.length>0){for(var c=!1,f=!1,l=0;l<u.length;++l){var h=u[l];if(c||h.type!==n.pki.oids.contentType){if(f||h.type!==n.pki.oids.messageDigest);else if(f=!0,c)break}else if(c=!0,f)break}if(!c||!f)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}t.signers.push({key:s,version:1,issuer:r,serialNumber:i,digestAlgorithm:a,signatureAlgorithm:n.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},sign:function(){var e;"object"==typeof t.content&&null!==t.contentInfo||(t.contentInfo=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes())]),"content"in t&&(t.content instanceof n.util.ByteBuffer?e=t.content.bytes():"string"==typeof t.content&&(e=n.util.encodeUtf8(t.content)),t.contentInfo.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e)]))));0!==t.signers.length&&function(e){if(t.contentInfo.value.length<2)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var r=i.derToOid(t.contentInfo.value[0].value),o=t.contentInfo.value[1];o=o.value[0];var s=i.toDer(o);for(var c in s.getByte(),i.getBerValueLength(s),s=s.getBytes(),e)e[c].start().update(s);for(var f=new Date,l=0;l<t.signers.length;++l){var h=t.signers[l];if(0===h.authenticatedAttributes.length){if(r!==n.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{h.authenticatedAttributesAsn1=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var p=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[]),d=0;d<h.authenticatedAttributes.length;++d){var m=h.authenticatedAttributes[d];m.type===n.pki.oids.messageDigest?m.value=e[h.digestAlgorithm].digest():m.type===n.pki.oids.signingTime&&(m.value||(m.value=f)),p.value.push(u(m)),h.authenticatedAttributesAsn1.value.push(u(m))}s=i.toDer(p).getBytes(),h.md.start().update(s)}h.signature=h.key.sign(h.md,"RSASSA-PKCS1-V1_5")}t.signerInfos=function(t){for(var e=[],r=0;r<t.length;++r)e.push(a(t[r]));return e}(t.signers)}(function(){for(var e={},r=0;r<t.signers.length;++r){var o=t.signers[r],s=o.digestAlgorithm;s in e||(e[s]=n.md[n.pki.oids[s]].create()),0===o.authenticatedAttributes.length?o.md=e[s]:o.md=n.md[n.pki.oids[s]].create()}for(var s in t.digestAlgorithmIdentifiers=[],e)t.digestAlgorithmIdentifiers.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]));return e}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(e){"string"==typeof e&&(e=n.pki.certificateFromPem(e)),t.certificates.push(e)},addCertificateRevokationList:function(t){throw new Error("PKCS#7 CRL support not yet implemented.")}}},o.createEncryptedData=function(){var t=null;return t={type:n.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(e){c(t,e,o.asn1.encryptedDataValidator)},decrypt:function(e){void 0!==e&&(t.encryptedContent.key=e),f(t)}}},o.createEnvelopedData=function(){var t=null;return t={type:n.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(e){var r=c(t,e,o.asn1.envelopedDataValidator);t.recipients=function(t){for(var e=[],r=0;r<t.length;++r)e.push(s(t[r]));return e}(r.recipientInfos.value)},toAsn1:function(){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,function(t){for(var e=[],r=0;r<t.length;++r)e.push((o=t[r],i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(o.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:o.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(o.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.encryptedContent.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,o.encryptedContent.content)])));var o;return e}(t.recipients)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,(e=t.encryptedContent,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(n.pki.oids.data).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.parameter.getBytes())]),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.content.getBytes())])]))])])]);var e},findRecipient:function(e){for(var r=e.issuer.attributes,n=0;n<t.recipients.length;++n){var i=t.recipients[n],o=i.issuer;if(i.serialNumber===e.serialNumber&&o.length===r.length){for(var s=!0,a=0;a<r.length;++a)if(o[a].type!==r[a].type||o[a].value!==r[a].value){s=!1;break}if(s)return i}}return null},decrypt:function(e,r){if(void 0===t.encryptedContent.key&&void 0!==e&&void 0!==r)switch(e.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:case n.pki.oids.desCBC:var i=r.decrypt(e.encryptedContent.content);t.encryptedContent.key=n.util.createBuffer(i);break;default:throw new Error("Unsupported asymmetric cipher, OID "+e.encryptedContent.algorithm)}f(t)},addRecipient:function(e){t.recipients.push({version:0,issuer:e.issuer.attributes,serialNumber:e.serialNumber,encryptedContent:{algorithm:n.pki.oids.rsaEncryption,key:e.publicKey}})},encrypt:function(e,r){if(void 0===t.encryptedContent.content){var i,o,s;switch(r=r||t.encryptedContent.algorithm,e=e||t.encryptedContent.key,r){case n.pki.oids["aes128-CBC"]:i=16,o=16,s=n.aes.createEncryptionCipher;break;case n.pki.oids["aes192-CBC"]:i=24,o=16,s=n.aes.createEncryptionCipher;break;case n.pki.oids["aes256-CBC"]:i=32,o=16,s=n.aes.createEncryptionCipher;break;case n.pki.oids["des-EDE3-CBC"]:i=24,o=8,s=n.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(void 0===e)e=n.util.createBuffer(n.random.getBytes(i));else if(e.length()!=i)throw new Error("Symmetric key has wrong length; got "+e.length()+" bytes, expected "+i+".");t.encryptedContent.algorithm=r,t.encryptedContent.key=e,t.encryptedContent.parameter=n.util.createBuffer(n.random.getBytes(o));var a=s(e);if(a.start(t.encryptedContent.parameter.copy()),a.update(t.content),!a.finish())throw new Error("Symmetric encryption failed.");t.encryptedContent.content=a.output}for(var u=0;u<t.recipients.length;++u){var c=t.recipients[u];if(void 0===c.encryptedContent.content)switch(c.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(t.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}}}}},function(t,e,r){t.exports=r(72),r(297),r(143),r(506),r(497)},function(t,e,r){var n=r(11);r(13),r(56),r(189),t.exports=n.kem=n.kem||{};var i=n.jsbn.BigInteger;function o(t,e,r,i){t.generate=function(t,o){for(var s=new n.util.ByteBuffer,a=Math.ceil(o/i)+r,u=new n.util.ByteBuffer,c=r;c<a;++c){u.putInt32(c),e.start(),e.update(t+u.getBytes());var f=e.digest();s.putBytes(f.getBytes(i))}return s.truncate(s.length()-o),s.getBytes()}}n.kem.rsa={},n.kem.rsa.create=function(t,e){var r=(e=e||{}).prng||n.random,o={encrypt:function(e,o){var s,a=Math.ceil(e.n.bitLength()/8);do{s=new i(n.util.bytesToHex(r.getBytesSync(a)),16).mod(e.n)}while(s.equals(i.ZERO));var u=a-(s=n.util.hexToBytes(s.toString(16))).length;return u>0&&(s=n.util.fillString(String.fromCharCode(0),u)+s),{encapsulation:e.encrypt(s,"NONE"),key:t.generate(s,o)}},decrypt:function(e,r,n){var i=e.decrypt(r,"NONE");return t.generate(i,n)}};return o},n.kem.kdf1=function(t,e){o(this,t,0,e||t.digestLength)},n.kem.kdf2=function(t,e){o(this,t,1,e||t.digestLength)}},function(t,e,r){(function(e){var n=r(11);if(r(189),r(56),r(497),r(13),void 0===i)var i=n.jsbn.BigInteger;var o=n.util.ByteBuffer,s=void 0===e?Uint8Array:e;n.pki=n.pki||{},t.exports=n.pki.ed25519=n.ed25519=n.ed25519||{};var a=n.ed25519;function u(t){var r=t.message;if(r instanceof Uint8Array)return r;var n=t.encoding;if(void 0===r){if(!t.md)throw new TypeError('"options.message" or "options.md" not specified.');r=t.md.digest().getBytes(),n="binary"}if("string"==typeof r&&!n)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof r){if(void 0!==e)return new e(r,n);r=new o(r,n)}else if(!(r instanceof o))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var i=new s(r.length()),a=0;a<i.length;++a)i[a]=r.at(a);return i}a.constants={},a.constants.PUBLIC_KEY_BYTE_LENGTH=32,a.constants.PRIVATE_KEY_BYTE_LENGTH=64,a.constants.SEED_BYTE_LENGTH=32,a.constants.SIGN_BYTE_LENGTH=64,a.constants.HASH_BYTE_LENGTH=64,a.generateKeyPair=function(t){var e=(t=t||{}).seed;if(void 0===e)e=n.random.getBytesSync(a.constants.SEED_BYTE_LENGTH);else if("string"==typeof e){if(e.length!==a.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+a.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');e=u({message:e,encoding:"binary"});for(var r=new s(a.constants.PUBLIC_KEY_BYTE_LENGTH),i=new s(a.constants.PRIVATE_KEY_BYTE_LENGTH),o=0;o<32;++o)i[o]=e[o];return function(t,e){var r,n=[B(),B(),B(),B()],i=v(e,32);for(i[0]&=248,i[31]&=127,i[31]|=64,M(n,i),k(t,n),r=0;r<32;++r)e[r+32]=t[r]}(r,i),{publicKey:r,privateKey:i}},a.publicKeyFromPrivateKey=function(t){var e=u({message:(t=t||{}).privateKey,encoding:"binary"});if(e.length!==a.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+a.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new s(a.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=e[32+n];return r},a.sign=function(t){var e=u(t=t||{}),r=u({message:t.privateKey,encoding:"binary"});if(r.length!==a.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+a.constants.PRIVATE_KEY_BYTE_LENGTH);var n=new s(a.constants.SIGN_BYTE_LENGTH+e.length);!function(t,e,r,n){var i,o,s=new Float64Array(64),a=[B(),B(),B(),B()],u=v(n,32);u[0]&=248,u[31]&=127,u[31]|=64;var c=r+64;for(i=0;i<r;++i)t[64+i]=e[i];for(i=0;i<32;++i)t[32+i]=u[32+i];var f=v(t.subarray(32),r+32);for(b(f),M(a,f),k(t,a),i=32;i<64;++i)t[i]=n[i];var l=v(t,r+64);for(b(l),i=32;i<64;++i)s[i]=0;for(i=0;i<32;++i)s[i]=f[i];for(i=0;i<32;++i)for(o=0;o<32;o++)s[i+o]+=l[i]*u[o];y(t.subarray(32),s)}(n,e,e.length,r);for(var i=new s(a.constants.SIGN_BYTE_LENGTH),o=0;o<i.length;++o)i[o]=n[o];return i},a.verify=function(t){var e=u(t=t||{});if(void 0===t.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=u({message:t.signature,encoding:"binary"});if(r.length!==a.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+a.constants.SIGN_BYTE_LENGTH);var n=u({message:t.publicKey,encoding:"binary"});if(n.length!==a.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+a.constants.PUBLIC_KEY_BYTE_LENGTH);var i,o=new s(a.constants.SIGN_BYTE_LENGTH+e.length),h=new s(a.constants.SIGN_BYTE_LENGTH+e.length);for(i=0;i<a.constants.SIGN_BYTE_LENGTH;++i)o[i]=r[i];for(i=0;i<e.length;++i)o[i+a.constants.SIGN_BYTE_LENGTH]=e[i];return function(t,e,r,n){var i,o=new s(32),a=[B(),B(),B(),B()],u=[B(),B(),B(),B()];if(-1,r<64)return-1;if(function(t,e){var r=B(),n=B(),i=B(),o=B(),s=B(),a=B(),u=B();I(t[2],f),function(t,e){var r;for(r=0;r<16;++r)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}(t[1],e),R(i,t[1]),F(o,i,l),N(i,i,t[2]),P(o,t[2],o),R(s,o),R(a,s),F(u,a,s),F(r,u,i),F(r,r,o),function(t,e){var r,n=B();for(r=0;r<16;++r)n[r]=e[r];for(r=250;r>=0;--r)R(n,n),1!==r&&F(n,n,e);for(r=0;r<16;++r)t[r]=n[r]}(r,r),F(r,r,i),F(r,r,o),F(r,r,o),F(t[0],r,o),R(n,t[0]),F(n,n,o),x(n,i)&&F(t[0],t[0],g);if(R(n,t[0]),F(n,n,o),x(n,i))return-1;C(t[0])===e[31]>>7&&N(t[0],c,t[0]);return F(t[3],t[0],t[1]),0}(u,n))return-1;for(i=0;i<r;++i)t[i]=e[i];for(i=0;i<32;++i)t[i+32]=n[i];var h=v(t,r);if(b(h),A(a,u,h),M(u,e.subarray(32)),w(a,u),k(o,a),r-=64,E(e,0,o,0)){for(i=0;i<r;++i)t[i]=0;return-1}for(i=0;i<r;++i)t[i]=e[i+64];return r}(h,o,o.length,n)>=0};var c=B(),f=B([1]),l=B([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=B([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),p=B([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=B([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),g=B([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function v(t,r){var i=n.md.sha512.create(),u=new o(t);i.update(u.getBytes(r),"binary");var c=i.digest().getBytes();if(void 0!==e)return new e(c,"binary");for(var f=new s(a.constants.HASH_BYTE_LENGTH),l=0;l<64;++l)f[l]=c.charCodeAt(l);return f}function y(t,e){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)e[i]+=r-16*e[n]*m[i-(n-32)],r=e[i]+128>>8,e[i]-=256*r;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;++i)e[i]+=r-(e[31]>>4)*m[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;++i)e[i]-=r*m[i];for(n=0;n<32;++n)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function b(t){for(var e=new Float64Array(64),r=0;r<64;++r)e[r]=t[r],t[r]=0;y(t,e)}function w(t,e){var r=B(),n=B(),i=B(),o=B(),s=B(),a=B(),u=B(),c=B(),f=B();N(r,t[1],t[0]),N(f,e[1],e[0]),F(r,r,f),P(n,t[0],t[1]),P(f,e[0],e[1]),F(n,n,f),F(i,t[3],e[3]),F(i,i,h),F(o,t[2],e[2]),P(o,o,o),N(s,n,r),N(a,o,i),P(u,o,i),P(c,n,r),F(t[0],s,a),F(t[1],c,u),F(t[2],u,a),F(t[3],s,c)}function _(t,e,r){for(var n=0;n<4;++n)O(t[n],e[n],r)}function k(t,e){var r=B(),n=B(),i=B();!function(t,e){var r,n=B();for(r=0;r<16;++r)n[r]=e[r];for(r=253;r>=0;--r)R(n,n),2!==r&&4!==r&&F(n,n,e);for(r=0;r<16;++r)t[r]=n[r]}(i,e[2]),F(r,e[0],i),F(n,e[1],i),S(t,n),t[31]^=C(r)<<7}function S(t,e){var r,n,i,o=B(),s=B();for(r=0;r<16;++r)s[r]=e[r];for(T(s),T(s),T(s),n=0;n<2;++n){for(o[0]=s[0]-65517,r=1;r<15;++r)o[r]=s[r]-65535-(o[r-1]>>16&1),o[r-1]&=65535;o[15]=s[15]-32767-(o[14]>>16&1),i=o[15]>>16&1,o[14]&=65535,O(s,o,1-i)}for(r=0;r<16;r++)t[2*r]=255&s[r],t[2*r+1]=s[r]>>8}function x(t,e){var r=new s(32),n=new s(32);return S(r,t),S(n,e),E(r,0,n,0)}function E(t,e,r,n){return function(t,e,r,n,i){var o,s=0;for(o=0;o<i;++o)s|=t[e+o]^r[n+o];return(1&s-1>>>8)-1}(t,e,r,n,32)}function C(t){var e=new s(32);return S(e,t),1&e[0]}function A(t,e,r){var n,i;for(I(t[0],c),I(t[1],f),I(t[2],f),I(t[3],c),i=255;i>=0;--i)_(t,e,n=r[i/8|0]>>(7&i)&1),w(e,t),w(t,t),_(t,e,n)}function M(t,e){var r=[B(),B(),B(),B()];I(r[0],p),I(r[1],d),I(r[2],f),F(r[3],p,d),A(t,r,e)}function I(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function T(t){var e,r,n=1;for(e=0;e<16;++e)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-65536*n;t[0]+=n-1+37*(n-1)}function O(t,e,r){for(var n,i=~(r-1),o=0;o<16;++o)n=i&(t[o]^e[o]),t[o]^=n,e[o]^=n}function B(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;++e)r[e]=t[e];return r}function P(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]+r[n]}function N(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]-r[n]}function R(t,e){F(t,e,e)}function F(t,e,r){var n,i,o=0,s=0,a=0,u=0,c=0,f=0,l=0,h=0,p=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,_=0,k=0,S=0,x=0,E=0,C=0,A=0,M=0,I=0,T=0,O=0,B=0,P=0,N=0,R=0,F=r[0],j=r[1],L=r[2],D=r[3],U=r[4],z=r[5],H=r[6],K=r[7],q=r[8],V=r[9],W=r[10],G=r[11],Y=r[12],$=r[13],Z=r[14],X=r[15];o+=(n=e[0])*F,s+=n*j,a+=n*L,u+=n*D,c+=n*U,f+=n*z,l+=n*H,h+=n*K,p+=n*q,d+=n*V,m+=n*W,g+=n*G,v+=n*Y,y+=n*$,b+=n*Z,w+=n*X,s+=(n=e[1])*F,a+=n*j,u+=n*L,c+=n*D,f+=n*U,l+=n*z,h+=n*H,p+=n*K,d+=n*q,m+=n*V,g+=n*W,v+=n*G,y+=n*Y,b+=n*$,w+=n*Z,_+=n*X,a+=(n=e[2])*F,u+=n*j,c+=n*L,f+=n*D,l+=n*U,h+=n*z,p+=n*H,d+=n*K,m+=n*q,g+=n*V,v+=n*W,y+=n*G,b+=n*Y,w+=n*$,_+=n*Z,k+=n*X,u+=(n=e[3])*F,c+=n*j,f+=n*L,l+=n*D,h+=n*U,p+=n*z,d+=n*H,m+=n*K,g+=n*q,v+=n*V,y+=n*W,b+=n*G,w+=n*Y,_+=n*$,k+=n*Z,S+=n*X,c+=(n=e[4])*F,f+=n*j,l+=n*L,h+=n*D,p+=n*U,d+=n*z,m+=n*H,g+=n*K,v+=n*q,y+=n*V,b+=n*W,w+=n*G,_+=n*Y,k+=n*$,S+=n*Z,x+=n*X,f+=(n=e[5])*F,l+=n*j,h+=n*L,p+=n*D,d+=n*U,m+=n*z,g+=n*H,v+=n*K,y+=n*q,b+=n*V,w+=n*W,_+=n*G,k+=n*Y,S+=n*$,x+=n*Z,E+=n*X,l+=(n=e[6])*F,h+=n*j,p+=n*L,d+=n*D,m+=n*U,g+=n*z,v+=n*H,y+=n*K,b+=n*q,w+=n*V,_+=n*W,k+=n*G,S+=n*Y,x+=n*$,E+=n*Z,C+=n*X,h+=(n=e[7])*F,p+=n*j,d+=n*L,m+=n*D,g+=n*U,v+=n*z,y+=n*H,b+=n*K,w+=n*q,_+=n*V,k+=n*W,S+=n*G,x+=n*Y,E+=n*$,C+=n*Z,A+=n*X,p+=(n=e[8])*F,d+=n*j,m+=n*L,g+=n*D,v+=n*U,y+=n*z,b+=n*H,w+=n*K,_+=n*q,k+=n*V,S+=n*W,x+=n*G,E+=n*Y,C+=n*$,A+=n*Z,M+=n*X,d+=(n=e[9])*F,m+=n*j,g+=n*L,v+=n*D,y+=n*U,b+=n*z,w+=n*H,_+=n*K,k+=n*q,S+=n*V,x+=n*W,E+=n*G,C+=n*Y,A+=n*$,M+=n*Z,I+=n*X,m+=(n=e[10])*F,g+=n*j,v+=n*L,y+=n*D,b+=n*U,w+=n*z,_+=n*H,k+=n*K,S+=n*q,x+=n*V,E+=n*W,C+=n*G,A+=n*Y,M+=n*$,I+=n*Z,T+=n*X,g+=(n=e[11])*F,v+=n*j,y+=n*L,b+=n*D,w+=n*U,_+=n*z,k+=n*H,S+=n*K,x+=n*q,E+=n*V,C+=n*W,A+=n*G,M+=n*Y,I+=n*$,T+=n*Z,O+=n*X,v+=(n=e[12])*F,y+=n*j,b+=n*L,w+=n*D,_+=n*U,k+=n*z,S+=n*H,x+=n*K,E+=n*q,C+=n*V,A+=n*W,M+=n*G,I+=n*Y,T+=n*$,O+=n*Z,B+=n*X,y+=(n=e[13])*F,b+=n*j,w+=n*L,_+=n*D,k+=n*U,S+=n*z,x+=n*H,E+=n*K,C+=n*q,A+=n*V,M+=n*W,I+=n*G,T+=n*Y,O+=n*$,B+=n*Z,P+=n*X,b+=(n=e[14])*F,w+=n*j,_+=n*L,k+=n*D,S+=n*U,x+=n*z,E+=n*H,C+=n*K,A+=n*q,M+=n*V,I+=n*W,T+=n*G,O+=n*Y,B+=n*$,P+=n*Z,N+=n*X,w+=(n=e[15])*F,s+=38*(k+=n*L),a+=38*(S+=n*D),u+=38*(x+=n*U),c+=38*(E+=n*z),f+=38*(C+=n*H),l+=38*(A+=n*K),h+=38*(M+=n*q),p+=38*(I+=n*V),d+=38*(T+=n*W),m+=38*(O+=n*G),g+=38*(B+=n*Y),v+=38*(P+=n*$),y+=38*(N+=n*Z),b+=38*(R+=n*X),o=(n=(o+=38*(_+=n*j))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),t[0]=o,t[1]=s,t[2]=a,t[3]=u,t[4]=c,t[5]=f,t[6]=l,t[7]=h,t[8]=p,t[9]=d,t[10]=m,t[11]=g,t[12]=v,t[13]=y,t[14]=b,t[15]=w}}).call(this,r(0).Buffer)},function(t,e,r){var n=r(11);r(499),t.exports=n.mgf=n.mgf||{},n.mgf.mgf1=n.mgf1},function(t,e,r){var n=r(11);r(95),r(510);var i=t.exports=n.tls;function o(t,e,r){var o=e.entity===n.tls.ConnectionEnd.client;t.read.cipherState={init:!1,cipher:n.cipher.createDecipher("AES-CBC",o?r.keys.server_write_key:r.keys.client_write_key),iv:o?r.keys.server_write_IV:r.keys.client_write_IV},t.write.cipherState={init:!1,cipher:n.cipher.createCipher("AES-CBC",o?r.keys.client_write_key:r.keys.server_write_key),iv:o?r.keys.client_write_IV:r.keys.server_write_IV},t.read.cipherFunction=c,t.write.cipherFunction=s,t.read.macLength=t.write.macLength=r.mac_length,t.read.macFunction=t.write.macFunction=i.hmac_sha1}function s(t,e){var r,o=!1,s=e.macFunction(e.macKey,e.sequenceNumber,t);t.fragment.putBytes(s),e.updateSequenceNumber(),r=t.version.minor===i.Versions.TLS_1_0.minor?e.cipherState.init?null:e.cipherState.iv:n.random.getBytesSync(16),e.cipherState.init=!0;var u=e.cipherState.cipher;return u.start({iv:r}),t.version.minor>=i.Versions.TLS_1_1.minor&&u.output.putBytes(r),u.update(t.fragment),u.finish(a)&&(t.fragment=u.output,t.length=t.fragment.length(),o=!0),o}function a(t,e,r){if(!r){var n=t-e.length()%t;e.fillWithByte(n-1,n)}return!0}function u(t,e,r){var n=!0;if(r){for(var i=e.length(),o=e.last(),s=i-1-o;s<i-1;++s)n=n&&e.at(s)==o;n&&e.truncate(o+1)}return n}i.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(t){t.bulk_cipher_algorithm=i.BulkCipherAlgorithm.aes,t.cipher_type=i.CipherType.block,t.enc_key_length=16,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=i.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},initConnectionState:o},i.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(t){t.bulk_cipher_algorithm=i.BulkCipherAlgorithm.aes,t.cipher_type=i.CipherType.block,t.enc_key_length=32,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=i.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},initConnectionState:o};function c(t,e){var r,o=!1;0,r=t.version.minor===i.Versions.TLS_1_0.minor?e.cipherState.init?null:e.cipherState.iv:t.fragment.getBytes(16),e.cipherState.init=!0;var s=e.cipherState.cipher;s.start({iv:r}),s.update(t.fragment),o=s.finish(u);var a=e.macLength,c=n.random.getBytesSync(a),f=s.output.length();f>=a?(t.fragment=s.output.getBytes(f-a),c=s.output.getBytes(a)):t.fragment=s.output.getBytes(),t.fragment=n.util.createBuffer(t.fragment),t.length=t.fragment.length();var l=e.macFunction(e.macKey,e.sequenceNumber,t);return e.updateSequenceNumber(),o=function(t,e,r){var i=n.hmac.create();return i.start("SHA1",t),i.update(e),e=i.digest().getBytes(),i.start(null,null),i.update(r),r=i.digest().getBytes(),e===r}(e.macKey,c,l)&&o}},function(t,e,r){(function(e){var r={};t.exports=r;var n={};r.encode=function(t,e,r){if("string"!=typeof e)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');var n="";if(t instanceof Uint8Array){var i=0,o=e.length,s=e.charAt(0),a=[0];for(i=0;i<t.length;++i){for(var u=0,c=t[i];u<a.length;++u)c+=a[u]<<8,a[u]=c%o,c=c/o|0;for(;c>0;)a.push(c%o),c=c/o|0}for(i=0;0===t[i]&&i<t.length-1;++i)n+=s;for(i=a.length-1;i>=0;--i)n+=e[a[i]]}else n=function(t,e){var r=0,n=e.length,i=e.charAt(0),o=[0];for(r=0;r<t.length();++r){for(var s=0,a=t.at(r);s<o.length;++s)a+=o[s]<<8,o[s]=a%n,a=a/n|0;for(;a>0;)o.push(a%n),a=a/n|0}var u="";for(r=0;0===t.at(r)&&r<t.length()-1;++r)u+=i;for(r=o.length-1;r>=0;--r)u+=e[o[r]];return u}(t,e);if(r){var f=new RegExp(".{1,"+r+"}","g");n=n.match(f).join("\r\n")}return n},r.decode=function(t,r){if("string"!=typeof t)throw new TypeError('"input" must be a string.');if("string"!=typeof r)throw new TypeError('"alphabet" must be a string.');var i=n[r];if(!i){i=n[r]=[];for(var o=0;o<r.length;++o)i[r.charCodeAt(o)]=o}t=t.replace(/\s/g,"");var s=r.length,a=r.charAt(0),u=[0];for(o=0;o<t.length;o++){var c=i[t.charCodeAt(o)];if(void 0===c)return;for(var f=0,l=c;f<u.length;++f)l+=u[f]*s,u[f]=255&l,l>>=8;for(;l>0;)u.push(255&l),l>>=8}for(var h=0;t[h]===a&&h<t.length-1;++h)u.push(0);return void 0!==e?e.from(u.reverse()):new Uint8Array(u.reverse())}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(n){const i=r(66)(r(299)),o=r(145);e=t.exports;const s={rsa:r(1141),ed25519:r(1131),secp256k1:r(1127)(i,r(485))};function a(t){return void 0!==s[t.toLowerCase()]}e.supportedKeys=s,e.keysPBM=i,e.keyStretcher=r(1116),e.generateEphemeralKeyPair=r(1110),e.generateKeyPair=((t,e,r)=>{let n=s[t.toLowerCase()];if(!n)return r(new Error("invalid or unsupported key type"));n.generateKeyPair(e,r)}),e.generateKeyPairFromSeed=((t,e,r,n)=>{let i=s[t.toLowerCase()];return i?"ed25519"!==t.toLowerCase()?n(new Error("Seed key derivation is unimplemented for RSA or secp256k1")):void i.generateKeyPairFromSeed(e,r,n):n(new Error("invalid or unsupported key type"))}),e.unmarshalPublicKey=(t=>{const e=i.PublicKey.decode(t),r=e.Data;switch(e.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPublicKey(r);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PublicKey(r);case i.KeyType.Secp256k1:if(s.secp256k1)return s.secp256k1.unmarshalSecp256k1PublicKey(r);throw new Error("secp256k1 support requires libp2p-crypto-secp256k1 package");default:throw new Error("invalid or unsupported key type")}}),e.marshalPublicKey=((t,e)=>{if(!a(e=(e||"rsa").toLowerCase()))throw new Error("invalid or unsupported key type");return t.bytes}),e.unmarshalPrivateKey=((t,e)=>{let r;try{r=i.PrivateKey.decode(t)}catch(t){return e(t)}const n=r.Data;switch(r.Type){case i.KeyType.RSA:return s.rsa.unmarshalRsaPrivateKey(n,e);case i.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PrivateKey(n,e);case i.KeyType.Secp256k1:return s.secp256k1?s.secp256k1.unmarshalSecp256k1PrivateKey(n,e):e(new Error("secp256k1 support requires libp2p-crypto-secp256k1 package"));default:e(new Error("invalid or unsupported key type"))}}),e.marshalPrivateKey=((t,e)=>{if(!a(e=(e||"rsa").toLowerCase()))throw new Error("invalid or unsupported key type");return t.bytes}),e.import=((t,e,r)=>{try{const i=o.pki.decryptRsaPrivateKey(t,e);if(null===i)throw new Error("Cannot read the key, most likely the password is wrong or not a RSA key");let a=o.asn1.toDer(o.pki.privateKeyToAsn1(i));return a=n.from(a.getBytes(),"binary"),s.rsa.unmarshalRsaPrivateKey(a,r)}catch(t){r(t)}})}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(233);t.exports={createCipheriv:n.createCipheriv,createDecipheriv:n.createDecipheriv}},function(t,e,r){"use strict";const n=r(1152),i={16:"aes-128-ctr",32:"aes-256-ctr"};e.create=function(t,e,r){const o=i[t.length];if(!o)return r(new Error("Invalid key length"));const s=n.createCipheriv(o,t,e),a=n.createDecipheriv(o,t,e);r(null,{encrypt(t,e){e(null,s.update(t))},decrypt(t,e){e(null,a.update(t))}})}},function(t,e,r){"use strict";t.exports={SHA1:20,SHA256:32,SHA512:64}},function(t,e){
/**
 * @file Web Cryptography API shim
 * @author Artem S Vybornov <vybornov@gmail.com>
 * @license MIT
 */
t.exports=function(t){"use strict";if("function"!=typeof Promise)throw"Promise support required";var e=t.crypto||t.msCrypto;if(e){var r=e.subtle||e.webkitSubtle;if(r){var n=t.Crypto||e.constructor||Object,i=t.SubtleCrypto||r.constructor||Object,o=(t.CryptoKey||t.Key||Object,t.navigator.userAgent.indexOf("Edge/")>-1),s=!!t.msCrypto&&!o,a=!e.subtle&&!!e.webkitSubtle;if(s||a){var u={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},c={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};if(["generateKey","importKey","unwrapKey"].forEach(function(t){var n=r[t];r[t]=function(i,o,u){var c,f,b,S,x,E=[].slice.call(arguments);switch(t){case"generateKey":c=m(i),f=o,b=u;break;case"importKey":c=m(u),f=E[3],b=E[4],"jwk"===i&&((o=v(o)).alg||(o.alg=g(c)),o.key_ops||(o.key_ops="oct"!==o.kty?"d"in o?b.filter(k):b.filter(_):b.slice()),E[1]=(S=v(o),s&&(S.extractable=S.ext,delete S.ext),p(unescape(encodeURIComponent(JSON.stringify(S)))).buffer));break;case"unwrapKey":c=E[4],f=E[5],b=E[6],E[2]=u._key}if("generateKey"===t&&"HMAC"===c.name&&c.hash)return c.length=c.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[c.hash.name],r.importKey("raw",e.getRandomValues(new Uint8Array(c.length+7>>3)),c,f,b);if(a&&"generateKey"===t&&"RSASSA-PKCS1-v1_5"===c.name&&(!c.modulusLength||c.modulusLength>=2048))return(i=m(i)).name="RSAES-PKCS1-v1_5",delete i.hash,r.generateKey(i,!0,["encrypt","decrypt"]).then(function(t){return Promise.all([r.exportKey("jwk",t.publicKey),r.exportKey("jwk",t.privateKey)])}).then(function(t){return t[0].alg=t[1].alg=g(c),t[0].key_ops=b.filter(_),t[1].key_ops=b.filter(k),Promise.all([r.importKey("jwk",t[0],c,!0,t[0].key_ops),r.importKey("jwk",t[1],c,f,t[1].key_ops)])}).then(function(t){return{publicKey:t[0],privateKey:t[1]}});if((a||s&&"SHA-1"===(c.hash||{}).name)&&"importKey"===t&&"jwk"===i&&"HMAC"===c.name&&"oct"===o.kty)return r.importKey("raw",p(h(o.k)),u,E[3],E[4]);if(a&&"importKey"===t&&("spki"===i||"pkcs8"===i))return r.importKey("jwk",function(t){var e=y(t),r=!1;e.length>2&&(r=!0,e.shift());var n={ext:!0};switch(e[0][0]){case"1.2.840.113549.1.1.1":var i=["n","e","d","p","q","dp","dq","qi"],o=y(e[1]);r&&o.shift();for(var s=0;s<o.length;s++)o[s][0]||(o[s]=o[s].subarray(1)),n[i[s]]=l(d(o[s]));n.kty="RSA";break;default:throw new TypeError("Unsupported key type")}return n}(o),u,E[3],E[4]);if(s&&"unwrapKey"===t)return r.decrypt(E[3],u,o).then(function(t){return r.importKey(i,t,E[4],E[5],E[6])});try{x=n.apply(r,E)}catch(t){return Promise.reject(t)}return s&&(x=new Promise(function(t,e){x.onabort=x.onerror=function(t){e(t)},x.oncomplete=function(e){t(e.target.result)}})),x=x.then(function(t){return"HMAC"===c.name&&(c.length||(c.length=8*t.algorithm.length)),0==c.name.search("RSA")&&(c.modulusLength||(c.modulusLength=(t.publicKey||t).algorithm.modulusLength),c.publicExponent||(c.publicExponent=(t.publicKey||t).algorithm.publicExponent)),t=t.publicKey&&t.privateKey?{publicKey:new w(t.publicKey,c,f,b.filter(_)),privateKey:new w(t.privateKey,c,f,b.filter(k))}:new w(t,c,f,b)})}}),["exportKey","wrapKey"].forEach(function(t){var e=r[t];r[t]=function(n,i,o){var u,c=[].slice.call(arguments);switch(t){case"exportKey":c[1]=i._key;break;case"wrapKey":c[1]=i._key,c[2]=o._key}if((a||s&&"SHA-1"===(i.algorithm.hash||{}).name)&&"exportKey"===t&&"jwk"===n&&"HMAC"===i.algorithm.name&&(c[0]="raw"),!a||"exportKey"!==t||"spki"!==n&&"pkcs8"!==n||(c[0]="jwk"),s&&"wrapKey"===t)return r.exportKey(n,i).then(function(t){return"jwk"===n&&(t=p(unescape(encodeURIComponent(JSON.stringify(v(t)))))),r.encrypt(c[3],o,t)});try{u=e.apply(r,c)}catch(t){return Promise.reject(t)}return s&&(u=new Promise(function(t,e){u.onabort=u.onerror=function(t){e(t)},u.oncomplete=function(e){t(e.target.result)}})),"exportKey"===t&&"jwk"===n&&(u=u.then(function(t){return(a||s&&"SHA-1"===(i.algorithm.hash||{}).name)&&"HMAC"===i.algorithm.name?{kty:"oct",alg:g(i.algorithm),key_ops:i.usages.slice(),ext:!0,k:l(d(t))}:((t=v(t)).alg||(t.alg=g(i.algorithm)),t.key_ops||(t.key_ops="public"===i.type?i.usages.filter(_):"private"===i.type?i.usages.filter(k):i.usages.slice()),t)})),!a||"exportKey"!==t||"spki"!==n&&"pkcs8"!==n||(u=u.then(function(t){return t=function(t){var e,r=[["",null]],n=!1;switch(t.kty){case"RSA":for(var i=["n","e","d","p","q","dp","dq","qi"],o=[],s=0;s<i.length&&i[s]in t;s++){var a=o[s]=p(h(t[i[s]]));128&a[0]&&(o[s]=new Uint8Array(a.length+1),o[s].set(a,1))}o.length>2&&(n=!0,o.unshift(new Uint8Array([0]))),r[0][0]="1.2.840.113549.1.1.1",e=o;break;default:throw new TypeError("Unsupported key type")}return r.push(new Uint8Array(b(e)).buffer),n?r.unshift(new Uint8Array([0])):r[1]={tag:3,value:r[1]},new Uint8Array(b(r)).buffer}(v(t))})),u}}),["encrypt","decrypt","sign","verify"].forEach(function(t){var e=r[t];r[t]=function(n,i,o,a){if(s&&(!o.byteLength||a&&!a.byteLength))throw new Error("Empy input is not allowed");var u,c=[].slice.call(arguments),f=m(n);if(s&&"decrypt"===t&&"AES-GCM"===f.name){var l=n.tagLength>>3;c[2]=(o.buffer||o).slice(0,o.byteLength-l),n.tag=(o.buffer||o).slice(o.byteLength-l)}c[1]=i._key;try{u=e.apply(r,c)}catch(t){return Promise.reject(t)}return s&&(u=new Promise(function(e,r){u.onabort=u.onerror=function(t){r(t)},u.oncomplete=function(r){r=r.target.result;if("encrypt"===t&&r instanceof AesGcmEncryptResult){var n=r.ciphertext,i=r.tag;(r=new Uint8Array(n.byteLength+i.byteLength)).set(new Uint8Array(n),0),r.set(new Uint8Array(i),n.byteLength),r=r.buffer}e(r)}})),u}}),s){var f=r.digest;r.digest=function(t,e){if(!e.byteLength)throw new Error("Empy input is not allowed");var n;try{n=f.call(r,t,e)}catch(t){return Promise.reject(t)}return n=new Promise(function(t,e){n.onabort=n.onerror=function(t){e(t)},n.oncomplete=function(e){t(e.target.result)}})},t.crypto=Object.create(e,{getRandomValues:{value:function(t){return e.getRandomValues(t)}},subtle:{value:r}}),t.CryptoKey=w}a&&(e.subtle=r,t.Crypto=n,t.SubtleCrypto=i,t.CryptoKey=w)}}}function l(t){return btoa(t).replace(/\=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function h(t){return t=(t+="===").slice(0,-t.length%4),atob(t.replace(/-/g,"+").replace(/_/g,"/"))}function p(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function d(t){return t instanceof ArrayBuffer&&(t=new Uint8Array(t)),String.fromCharCode.apply(String,t)}function m(t){var e={name:(t.name||t||"").toUpperCase().replace("V","v")};switch(e.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":t.length&&(e.length=t.length);break;case"HMAC":t.hash&&(e.hash=m(t.hash)),t.length&&(e.length=t.length);break;case"RSAES-PKCS1-v1_5":t.publicExponent&&(e.publicExponent=new Uint8Array(t.publicExponent)),t.modulusLength&&(e.modulusLength=t.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":t.hash&&(e.hash=m(t.hash)),t.publicExponent&&(e.publicExponent=new Uint8Array(t.publicExponent)),t.modulusLength&&(e.modulusLength=t.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return e}function g(t){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}}[t.name][(t.hash||{}).name||t.length||""]}function v(t){(t instanceof ArrayBuffer||t instanceof Uint8Array)&&(t=JSON.parse(decodeURIComponent(escape(d(t)))));var e={kty:t.kty,alg:t.alg,ext:t.ext||t.extractable};switch(e.kty){case"oct":e.k=t.k;case"RSA":["n","e","d","p","q","dp","dq","qi","oth"].forEach(function(r){r in t&&(e[r]=t[r])});break;default:throw new TypeError("Unsupported key type")}return e}function y(t,e){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),e||(e={pos:0,end:t.length}),e.end-e.pos<2||e.end>t.length)throw new RangeError("Malformed DER");var r,n=t[e.pos++],i=t[e.pos++];if(i>=128){if(i&=127,e.end-e.pos<i)throw new RangeError("Malformed DER");for(var o=0;i--;)o<<=8,o|=t[e.pos++];i=o}if(e.end-e.pos<i)throw new RangeError("Malformed DER");switch(n){case 2:r=t.subarray(e.pos,e.pos+=i);break;case 3:if(t[e.pos++])throw new Error("Unsupported bit string");i--;case 4:r=new Uint8Array(t.subarray(e.pos,e.pos+=i)).buffer;break;case 5:r=null;break;case 6:var s=btoa(d(t.subarray(e.pos,e.pos+=i)));if(!(s in u))throw new Error("Unsupported OBJECT ID "+s);r=u[s];break;case 48:r=[];for(var a=e.pos+i;e.pos<a;)r.push(y(t,e));break;default:throw new Error("Unsupported DER tag 0x"+n.toString(16))}return r}function b(t,e){e||(e=[]);var r=0,n=0,i=e.length+2;if(e.push(0,0),t instanceof Uint8Array){r=2,n=t.length;for(var o=0;o<n;o++)e.push(t[o])}else if(t instanceof ArrayBuffer){r=4,n=t.byteLength,t=new Uint8Array(t);for(o=0;o<n;o++)e.push(t[o])}else if(null===t)r=5,n=0;else if("string"==typeof t&&t in c){var s=p(atob(c[t]));r=6,n=s.length;for(o=0;o<n;o++)e.push(s[o])}else if(t instanceof Array){for(o=0;o<t.length;o++)b(t[o],e);r=48,n=e.length-i}else{if(!("object"==typeof t&&3===t.tag&&t.value instanceof ArrayBuffer))throw new Error("Unsupported DER value "+t);r=3,n=(t=new Uint8Array(t.value)).byteLength,e.push(0);for(o=0;o<n;o++)e.push(t[o]);n++}if(n>=128){var a=n;n=4;for(e.splice(i,0,a>>24&255,a>>16&255,a>>8&255,255&a);n>1&&!(a>>24);)a<<=8,n--;n<4&&e.splice(i,4-n),n|=128}return e.splice(i-2,2,r,n),e}function w(t,e,r,n){Object.defineProperties(this,{_key:{value:t},type:{value:t.type,enumerable:!0},extractable:{value:void 0===r?t.extractable:r,enumerable:!0},algorithm:{value:void 0===e?t.algorithm:e,enumerable:!0},usages:{value:void 0===n?t.usages:n,enumerable:!0}})}function _(t){return"verify"===t||"encrypt"===t||"wrapKey"===t}function k(t){return"sign"===t||"decrypt"===t||"unwrapKey"===t}}},function(t,e,r){"use strict";var n=r(14),i=r(164),o=r(96),s=r(303),a=function(t,e){if(!(this instanceof a))return new a(t,e);if(this.extras={},this.knownParams=e||[],this.address=this.network=this.amount=this.message=null,"string"==typeof t){var r=a.parse(t);r.amount&&(r.amount=this._parseAmount(r.amount)),this._fromObject(r)}else{if("object"!=typeof t)throw new TypeError("Unrecognized data format.");this._fromObject(t)}};a.fromString=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return new a(t)},a.fromObject=function(t){return new a(t)},a.isValid=function(t,e){try{new a(t,e)}catch(t){return!1}return!0},a.parse=function(t){var e=i.parse(t,!0);if("zcash:"!==e.protocol)throw new TypeError("Invalid zcash URI");var r=/[^:]*:\/?\/?([^?]*)/.exec(t);return e.query.address=r&&r[1]||void 0,e.query},a.Members=["address","amount","message","label","r"],a.prototype._fromObject=function(t){if(!o.isValid(t.address))throw new TypeError("Invalid zcash address");for(var e in this.address=new o(t.address),this.network=this.address.network,this.amount=t.amount,t)if("address"!==e&&"amount"!==e){if(/^req-/.exec(e)&&-1===this.knownParams.indexOf(e))throw Error("Unknown required argument "+e);(a.Members.indexOf(e)>-1?this:this.extras)[e]=t[e]}},a.prototype._parseAmount=function(t){if(t=Number(t),isNaN(t))throw new TypeError("Invalid amount");return s.fromBTC(t).toSatoshis()},a.prototype.toObject=a.prototype.toJSON=function(){for(var t={},e=0;e<a.Members.length;e++){var r=a.Members[e];this.hasOwnProperty(r)&&void 0!==this[r]&&(t[r]=this[r].toString())}return n.extend(t,this.extras),t},a.prototype.toString=function(){var t={};return this.amount&&(t.amount=s.fromSatoshis(this.amount).toBTC()),this.message&&(t.message=this.message),this.label&&(t.label=this.label),this.r&&(t.r=this.r),n.extend(t,this.extras),i.format({protocol:"zcash:",host:this.address,query:t})},a.prototype.inspect=function(){return"<URI: "+this.toString()+">"},t.exports=a},function(t,e,r){"use strict";(function(e){var n=r(14),i=r(192),o=r(32),s=r(21),a=r(84),u=r(52),c=r(40),f=r(194),l=r(16);function h(t){return this instanceof h?(n.extend(this,h._from(t)),this):new h(t)}h.MAX_BLOCK_SIZE=1e6,h._from=function(t){var e={};if(s.isBuffer(t))e=h._fromBufferReader(a(t));else{if(!n.isObject(t))throw new TypeError("Unrecognized argument for Block");e=h._fromObject(t)}return e},h._fromObject=function(t){var e=[];return t.transactions.forEach(function(t){t instanceof f?e.push(t):e.push(f().fromObject(t))}),{header:i.fromObject(t.header),transactions:e}},h.fromObject=function(t){return new h(h._fromObject(t))},h._fromBufferReader=function(t){var e={};l.checkState(!t.finished(),"No block data received"),e.header=i.fromBufferReader(t);var r=t.readVarintNum();e.transactions=[];for(var n=0;n<r;n++)e.transactions.push(f().fromBufferReader(t));return e},h.fromBufferReader=function(t){return l.checkArgument(t,"br is required"),new h(h._fromBufferReader(t))},h.fromBuffer=function(t){return h.fromBufferReader(new a(t))},h.fromString=function(t){var r=new e(t,"hex");return h.fromBuffer(r)},h.fromRawBlock=function(t){s.isBuffer(t)||(t=new e(t,"binary"));var r=a(t);return r.pos=h.Values.START_OF_BLOCK,new h(h._fromBufferReader(r))},h.prototype.toObject=h.prototype.toJSON=function(){var t=[];return this.transactions.forEach(function(e){t.push(e.toObject())}),{header:this.header.toObject(),transactions:t}},h.prototype.toBuffer=function(){return this.toBufferWriter().concat()},h.prototype.toString=function(){return this.toBuffer().toString("hex")},h.prototype.toBufferWriter=function(t){t||(t=new u),t.write(this.header.toBuffer()),t.writeVarintNum(this.transactions.length);for(var e=0;e<this.transactions.length;e++)this.transactions[e].toBufferWriter(t);return t},h.prototype.getTransactionHashes=function(){var t=[];if(0===this.transactions.length)return[h.Values.NULL_HASH];for(var e=0;e<this.transactions.length;e++)t.push(this.transactions[e]._getHash());return t},h.prototype.getMerkleTree=function(){for(var t=this.getTransactionHashes(),r=0,n=this.transactions.length;n>1;n=Math.floor((n+1)/2)){for(var i=0;i<n;i+=2){var o=Math.min(i+1,n-1),s=e.concat([t[r+i],t[r+o]]);t.push(c.sha256sha256(s))}r+=n}return t},h.prototype.getMerkleRoot=function(){var t=this.getMerkleTree();return t[t.length-1]},h.prototype.validMerkleRoot=function(){var t=new o(this.header.merkleRoot.toString("hex"),"hex"),e=new o(this.getMerkleRoot().toString("hex"),"hex");return 0===t.cmp(e)},h.prototype._getHash=function(){return this.header._getHash()};var p={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=this.header.id),this._id},set:n.noop};Object.defineProperty(h.prototype,"id",p),Object.defineProperty(h.prototype,"hash",p),h.prototype.inspect=function(){return"<Block "+this.id+">"},h.Values={START_OF_BLOCK:8,NULL_HASH:new e("0000000000000000000000000000000000000000000000000000000000000000","hex")},t.exports=h}).call(this,r(0).Buffer)},function(t,e,r){t.exports=r(1157),t.exports.BlockHeader=r(192),t.exports.MerkleBlock=r(515)},function(t,e,r){"use strict";(function(e){var n=r(52),i=r(84),o=r(32),s=function t(r){if(!(this instanceof t))return new t(r);if(e.isBuffer(r))this.buf=r;else if("number"==typeof r){var n=r;this.fromNumber(n)}else if(r instanceof o){var i=r;this.fromBN(i)}else if(r){var s=r;this.set(s)}};s.prototype.set=function(t){return this.buf=t.buf||this.buf,this},s.prototype.fromString=function(t){return this.set({buf:new e(t,"hex")}),this},s.prototype.toString=function(){return this.buf.toString("hex")},s.prototype.fromBuffer=function(t){return this.buf=t,this},s.prototype.fromBufferReader=function(t){return this.buf=t.readVarintBuf(),this},s.prototype.fromBN=function(t){return this.buf=n().writeVarintBN(t).concat(),this},s.prototype.fromNumber=function(t){return this.buf=n().writeVarintNum(t).concat(),this},s.prototype.toBuffer=function(){return this.buf},s.prototype.toBN=function(){return i(this.buf).readVarintBN()},s.prototype.toNumber=function(){return i(this.buf).readVarintNum()},t.exports=s}).call(this,r(0).Buffer)},function(t,e,r){"use strict";var n=r(16),i=r(0),o=r(52);function s(t){return this instanceof s?t?this._fromObject(t):void 0:new s(t)}function a(t){return this instanceof a?t?this._fromObject(t):void 0:new a(t)}function u(t){return this instanceof u?t?this._fromObject(t):void 0:new u(t)}s.fromObject=function(t){return n.checkArgument(_.isObject(t)),(new s)._fromObject(t)},s.prototype._fromObject=function(t){return this.y_lsb=t.y_lsb,this.x=new i.Buffer(t.x,"hex"),this},s.prototype.toObject=s.prototype.toJSON=function(){return{y_lsb:this.y_lsb,x:this.x.toString("hex")}},s.fromBufferReader=function(t){var e=new s,r=t.readUInt8();return e.y_lsb=1&r,e.x=t.read(32),e},s.prototype.toBufferWriter=function(t){return t||(t=new o),t.writeUInt8(2|this.y_lsb),t.write(this.x),t},a.fromObject=function(t){return n.checkArgument(_.isObject(t)),(new a)._fromObject(t)},a.prototype._fromObject=function(t){return this.y_gt=t.y_gt,this.x=new i.Buffer(t.x,"hex"),this},a.prototype.toObject=a.prototype.toJSON=function(){return{y_gt:this.y_gt,x:this.x.toString("hex")}},a.fromBufferReader=function(t){var e=new a,r=t.readUInt8();return e.y_gt=1&r,e.x=t.read(64),e},a.prototype.toBufferWriter=function(t){return t||(t=new o),t.writeUInt8(10|this.y_gt),t.write(this.x),t},u.fromObject=function(t){return n.checkArgument(_.isObject(t)),(new u)._fromObject(t)},u.prototype._fromObject=function(t){return this.g_A=s.fromObject(t.g_A),this.g_A_prime=s.fromObject(t.g_A_prime),this.g_B=a.fromObject(t.g_B),this.g_B_prime=s.fromObject(t.g_B_prime),this.g_C=s.fromObject(t.g_C),this.g_C_prime=s.fromObject(t.g_C_prime),this.g_K=s.fromObject(t.g_K),this.g_H=s.fromObject(t.g_H),this},u.prototype.toObject=u.prototype.toJSON=function(){return{g_A:this.g_A.toObject(),g_A_prime:this.g_A_prime.toObject(),g_B:this.g_B.toObject(),g_B_prime:this.g_B_prime.toObject(),g_C:this.g_C.toObject(),g_C_prime:this.g_C_prime.toObject(),g_K:this.g_K.toObject(),g_H:this.g_H.toObject()}},u.fromBufferReader=function(t){var e=new u;return e.g_A=s.fromBufferReader(t),e.g_A_prime=s.fromBufferReader(t),e.g_B=a.fromBufferReader(t),e.g_B_prime=s.fromBufferReader(t),e.g_C=s.fromBufferReader(t),e.g_C_prime=s.fromBufferReader(t),e.g_K=s.fromBufferReader(t),e.g_H=s.fromBufferReader(t),e},u.prototype.toBufferWriter=function(t){return t||(t=new o),this.g_A.toBufferWriter(t),this.g_A_prime.toBufferWriter(t),this.g_B.toBufferWriter(t),this.g_B_prime.toBufferWriter(t),this.g_C.toBufferWriter(t),this.g_C_prime.toBufferWriter(t),this.g_K.toBufferWriter(t),this.g_H.toBufferWriter(t),t},t.exports=u},function(t,e,r){"use strict";var n=r(14),i=r(16),o=r(32),s=r(0),a=r(52),u=r(21),c=r(28),f=r(1160);function l(t){return this instanceof l?(this.nullifiers=[],this.commitments=[],this.ciphertexts=[],this.macs=[],t?this._fromObject(t):void 0):new l(t)}Object.defineProperty(l.prototype,"vpub_old",{configurable:!1,enumerable:!0,get:function(){return this._vpub_old},set:function(t){t instanceof o?(this._vpub_oldBN=t,this._vpub_old=t.toNumber()):n.isString(t)?(this._vpub_old=parseInt(t),this._vpub_oldBN=o.fromNumber(this._vpub_old)):(i.checkArgument(c.isNaturalNumber(t),"vpub_old is not a natural number"),this._vpub_oldBN=o.fromNumber(t),this._vpub_old=t),i.checkState(c.isNaturalNumber(this._vpub_old),"vpub_old is not a natural number")}}),Object.defineProperty(l.prototype,"vpub_new",{configurable:!1,enumerable:!0,get:function(){return this._vpub_new},set:function(t){t instanceof o?(this._vpub_newBN=t,this._vpub_new=t.toNumber()):n.isString(t)?(this._vpub_new=parseInt(t),this._vpub_newBN=o.fromNumber(this._vpub_new)):(i.checkArgument(c.isNaturalNumber(t),"vpub_new is not a natural number"),this._vpub_newBN=o.fromNumber(t),this._vpub_new=t),i.checkState(c.isNaturalNumber(this._vpub_new),"vpub_new is not a natural number")}}),l.fromObject=function(t){return i.checkArgument(n.isObject(t)),(new l)._fromObject(t)},l.prototype._fromObject=function(t){var e=[];n.each(t.nullifiers,function(t){e.push(u.reverse(new s.Buffer(t,"hex")))});var r=[];n.each(t.commitments,function(t){r.push(u.reverse(new s.Buffer(t,"hex")))});var i=[];n.each(t.ciphertexts,function(t){i.push(new s.Buffer(t,"hex"))});var o=[];return n.each(t.macs,function(t){o.push(u.reverse(new s.Buffer(t,"hex")))}),this.vpub_old=t.vpub_old,this.vpub_new=t.vpub_new,this.anchor=u.reverse(new s.Buffer(t.anchor,"hex")),this.nullifiers=e,this.commitments=r,this.ephemeralKey=u.reverse(new s.Buffer(t.ephemeralKey,"hex")),this.ciphertexts=i,this.randomSeed=u.reverse(new s.Buffer(t.randomSeed,"hex")),this.macs=o,this.proof=f.fromObject(t.proof),this},l.prototype.toObject=l.prototype.toJSON=function(){var t=[];n.each(this.nullifiers,function(e){t.push(u.reverse(e).toString("hex"))});var e=[];n.each(this.commitments,function(t){e.push(u.reverse(t).toString("hex"))});var r=[];n.each(this.ciphertexts,function(t){r.push(t.toString("hex"))});var i=[];return n.each(this.macs,function(t){i.push(u.reverse(t).toString("hex"))}),{vpub_old:this.vpub_old,vpub_new:this.vpub_new,anchor:u.reverse(this.anchor).toString("hex"),nullifiers:t,commitments:e,ephemeralKey:u.reverse(this.ephemeralKey).toString("hex"),ciphertexts:r,randomSeed:u.reverse(this.randomSeed).toString("hex"),macs:i,proof:this.proof.toObject()}},l.fromBufferReader=function(t){var e,r=new l;for(r.vpub_old=t.readUInt64LEBN(),r.vpub_new=t.readUInt64LEBN(),r.anchor=t.read(32),e=0;e<2;e++)r.nullifiers.push(t.read(32));for(e=0;e<2;e++)r.commitments.push(t.read(32));for(r.ephemeralKey=t.read(32),r.randomSeed=t.read(32),e=0;e<2;e++)r.macs.push(t.read(32));for(r.proof=f.fromBufferReader(t),e=0;e<2;e++)r.ciphertexts.push(t.read(601));return r},l.prototype.toBufferWriter=function(t){var e;for(t||(t=new a),t.writeUInt64LEBN(this._vpub_oldBN),t.writeUInt64LEBN(this._vpub_newBN),t.write(this.anchor),e=0;e<2;e++)t.write(this.nullifiers[e]);for(e=0;e<2;e++)t.write(this.commitments[e]);for(t.write(this.ephemeralKey),t.write(this.randomSeed),e=0;e<2;e++)t.write(this.macs[e]);for(this.proof.toBufferWriter(t),e=0;e<2;e++)t.write(this.ciphertexts[e]);return t},t.exports=l},function(t,e,r){"use strict";var n=r(14),i=r(74),o=r(147),s=r(82),a=r(16),u=r(57),c=r(58),f=r(83),l=(r(64),r(21)),h=r(146);function p(t,e,r,i){o.apply(this,arguments);var s=this;e=e||t.publicKeys,r=r||t.threshold,i=i||t.signatures,this.publicKeys=n.sortBy(e,function(t){return t.toString("hex")}),this.redeemScript=u.buildMultisigOut(this.publicKeys,r),a.checkState(u.buildScriptHashOut(this.redeemScript).equals(this.output.script),"Provided public keys don't hash to the provided output"),this.publicKeyIndex={},n.each(this.publicKeys,function(t,e){s.publicKeyIndex[t.toString()]=e}),this.threshold=r,this.signatures=i?this._deserializeSignatures(i):new Array(this.publicKeys.length)}i(p,o),p.prototype.toObject=function(){var t=o.prototype.toObject.apply(this,arguments);return t.threshold=this.threshold,t.publicKeys=n.map(this.publicKeys,function(t){return t.toString()}),t.signatures=this._serializeSignatures(),t},p.prototype._deserializeSignatures=function(t){return n.map(t,function(t){if(t)return new h(t)})},p.prototype._serializeSignatures=function(){return n.map(this.signatures,function(t){if(t)return t.toObject()})},p.prototype.getSignatures=function(t,e,r,i){a.checkState(this.output instanceof s),i=i||c.SIGHASH_ALL;var o=this,u=[];return n.each(this.publicKeys,function(n){n.toString()===e.publicKey.toString()&&u.push(new h({publicKey:e.publicKey,prevTxId:o.prevTxId,outputIndex:o.outputIndex,inputIndex:r,signature:f.sign(t,e,i,r,o.redeemScript),sigtype:i}))}),u},p.prototype.addSignature=function(t,e){return a.checkState(!this.isFullySigned(),"All needed signatures have already been added"),a.checkArgument(!n.isUndefined(this.publicKeyIndex[e.publicKey.toString()]),"Signature has no matching public key"),a.checkState(this.isValidSignature(t,e)),this.signatures[this.publicKeyIndex[e.publicKey.toString()]]=e,this._updateScript(),this},p.prototype._updateScript=function(){return this.setScript(u.buildP2SHMultisigIn(this.publicKeys,this.threshold,this._createSignatures(),{cachedMultisig:this.redeemScript})),this},p.prototype._createSignatures=function(){return n.map(n.filter(this.signatures,function(t){return!n.isUndefined(t)}),function(t){return l.concat([t.signature.toDER(),l.integerAsSingleByteBuffer(t.sigtype)])})},p.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()},p.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold},p.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()},p.prototype.countSignatures=function(){return n.reduce(this.signatures,function(t,e){return t+!!e},0)},p.prototype.publicKeysWithoutSignature=function(){var t=this;return n.filter(this.publicKeys,function(e){return!t.signatures[t.publicKeyIndex[e.toString()]]})},p.prototype.isValidSignature=function(t,e){return e.signature.nhashtype=e.sigtype,f.verify(t,e.signature,e.publicKey,e.inputIndex,this.redeemScript)},p.OPCODES_SIZE=7,p.SIGNATURE_SIZE=74,p.PUBKEY_SIZE=34,p.prototype._estimateSize=function(){return p.OPCODES_SIZE+this.threshold*p.SIGNATURE_SIZE+this.publicKeys.length*p.PUBKEY_SIZE},t.exports=p},function(t,e,r){"use strict";var n=r(14),i=r(74),o=(r(305),r(147)),s=r(82),a=r(16),u=r(57),c=r(58),f=r(83),l=(r(64),r(21)),h=r(146);function p(t,e,r,i){o.apply(this,arguments);var s=this;e=e||t.publicKeys,r=r||t.threshold,i=i||t.signatures,this.publicKeys=n.sortBy(e,function(t){return t.toString("hex")}),a.checkState(u.buildMultisigOut(this.publicKeys,r).equals(this.output.script),"Provided public keys don't match to the provided output script"),this.publicKeyIndex={},n.each(this.publicKeys,function(t,e){s.publicKeyIndex[t.toString()]=e}),this.threshold=r,this.signatures=i?this._deserializeSignatures(i):new Array(this.publicKeys.length)}i(p,o),p.prototype.toObject=function(){var t=o.prototype.toObject.apply(this,arguments);return t.threshold=this.threshold,t.publicKeys=n.map(this.publicKeys,function(t){return t.toString()}),t.signatures=this._serializeSignatures(),t},p.prototype._deserializeSignatures=function(t){return n.map(t,function(t){if(t)return new h(t)})},p.prototype._serializeSignatures=function(){return n.map(this.signatures,function(t){if(t)return t.toObject()})},p.prototype.getSignatures=function(t,e,r,i){a.checkState(this.output instanceof s),i=i||c.SIGHASH_ALL;var o=this,u=[];return n.each(this.publicKeys,function(n){n.toString()===e.publicKey.toString()&&u.push(new h({publicKey:e.publicKey,prevTxId:o.prevTxId,outputIndex:o.outputIndex,inputIndex:r,signature:f.sign(t,e,i,r,o.output.script),sigtype:i}))}),u},p.prototype.addSignature=function(t,e){return a.checkState(!this.isFullySigned(),"All needed signatures have already been added"),a.checkArgument(!n.isUndefined(this.publicKeyIndex[e.publicKey.toString()]),"Signature has no matching public key"),a.checkState(this.isValidSignature(t,e)),this.signatures[this.publicKeyIndex[e.publicKey.toString()]]=e,this._updateScript(),this},p.prototype._updateScript=function(){return this.setScript(u.buildMultisigIn(this.publicKeys,this.threshold,this._createSignatures())),this},p.prototype._createSignatures=function(){return n.map(n.filter(this.signatures,function(t){return!n.isUndefined(t)}),function(t){return l.concat([t.signature.toDER(),l.integerAsSingleByteBuffer(t.sigtype)])})},p.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()},p.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold},p.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()},p.prototype.countSignatures=function(){return n.reduce(this.signatures,function(t,e){return t+!!e},0)},p.prototype.publicKeysWithoutSignature=function(){var t=this;return n.filter(this.publicKeys,function(e){return!t.signatures[t.publicKeyIndex[e.toString()]]})},p.prototype.isValidSignature=function(t,e){return e.signature.nhashtype=e.sigtype,f.verify(t,e.signature,e.publicKey,e.inputIndex,this.output.script)},p.normalizeSignatures=function(t,e,r,n,i){return i.map(function(i){var o=null;return n=n.filter(function(n){if(o)return!0;var s=new h({signature:c.fromTxFormat(n),publicKey:i,prevTxId:e.prevTxId,outputIndex:e.outputIndex,inputIndex:r,sigtype:c.SIGHASH_ALL});return s.signature.nhashtype=s.sigtype,!f.verify(t,s.signature,s.publicKey,s.inputIndex,e.output.script)||(o=s,!1)}),o||null})},p.OPCODES_SIZE=1,p.SIGNATURE_SIZE=73,p.prototype._estimateSize=function(){return p.OPCODES_SIZE+this.threshold*p.SIGNATURE_SIZE},t.exports=p},function(t,e,r){"use strict";var n=r(74),i=r(16),o=r(21),s=r(40),a=r(147),u=r(82),c=r(83),f=r(57),l=r(58),h=r(146);function p(){a.apply(this,arguments)}n(p,a),p.prototype.getSignatures=function(t,e,r,n,a){return i.checkState(this.output instanceof u),a=a||s.sha256ripemd160(e.publicKey.toBuffer()),n=n||l.SIGHASH_ALL,o.equals(a,this.output.script.getPublicKeyHash())?[new h({publicKey:e.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:c.sign(t,e,n,r,this.output.script),sigtype:n})]:[]},p.prototype.addSignature=function(t,e){return i.checkState(this.isValidSignature(t,e),"Signature is invalid"),this.setScript(f.buildPublicKeyHashIn(e.publicKey,e.signature.toDER(),e.sigtype)),this},p.prototype.clearSignatures=function(){return this.setScript(f.empty()),this},p.prototype.isFullySigned=function(){return this.script.isPublicKeyHashIn()},p.SCRIPT_MAX_SIZE=107,p.prototype._estimateSize=function(){return p.SCRIPT_MAX_SIZE},t.exports=p},function(t,e,r){"use strict";var n=r(74),i=r(16),o=(r(21),r(147)),s=r(82),a=r(83),u=r(57),c=r(58),f=r(146);function l(){o.apply(this,arguments)}n(l,o),l.prototype.getSignatures=function(t,e,r,n){i.checkState(this.output instanceof s),n=n||c.SIGHASH_ALL;var o=e.toPublicKey();return o.toString()===this.output.script.getPublicKey().toString("hex")?[new f({publicKey:o,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:a.sign(t,e,n,r,this.output.script),sigtype:n})]:[]},l.prototype.addSignature=function(t,e){return i.checkState(this.isValidSignature(t,e),"Signature is invalid"),this.setScript(u.buildPublicKeyIn(e.signature.toDER(),e.sigtype)),this},l.prototype.clearSignatures=function(){return this.setScript(u.empty()),this},l.prototype.isFullySigned=function(){return this.script.isPublicKeyIn()},l.SCRIPT_MAX_SIZE=73,l.prototype._estimateSize=function(){return l.SCRIPT_MAX_SIZE},t.exports=l},function(t,e){t.exports=function(t,e){for(var r=0,n=0;n<t.length&&n!=e.length&&0==(r=t[n]<e[n]?-1:t[n]>e[n]?1:0);++n);return 0==r&&(e.length>t.length?r=-1:t.length>e.length&&(r=1)),r}},function(t,e,r){"use strict";(function(e){var n=r(14),i=r(517),o=r(306),s=r(32),a=r(40),u=r(58),c=r(64),f=function t(e){if(!(this instanceof t))return new t(e);e?(this.initialize(),this.set(e)):this.initialize()};f.prototype.verify=function(t,e,o,s,a){var u,c=r(194);if(n.isUndefined(o)&&(o=new c),n.isUndefined(s)&&(s=0),n.isUndefined(a)&&(a=0),this.set({script:t,tx:o,nin:s,flags:a}),0!=(a&f.SCRIPT_VERIFY_SIGPUSHONLY)&&!t.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(!this.evaluate())return!1;a&f.SCRIPT_VERIFY_P2SH&&(u=this.stack.slice());var l=this.stack;if(this.initialize(),this.set({script:e,stack:l,tx:o,nin:s,flags:a}),!this.evaluate())return!1;if(0===this.stack.length)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_RESULT",!1;var h=this.stack[this.stack.length-1];if(!f.castToBool(h))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_STACK",!1;if(a&f.SCRIPT_VERIFY_P2SH&&e.isScriptHashOut()){if(!t.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(0===u.length)throw new Error("internal error - stack copy empty");var p=u[u.length-1],d=i.fromBuffer(p);return u.pop(),this.initialize(),this.set({script:d,stack:u,tx:o,nin:s,flags:a}),!!this.evaluate()&&(0===u.length?(this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_P2SH_STACK",!1):!!f.castToBool(u[u.length-1])||(this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_P2SH_STACK",!1))}return!0},t.exports=f,f.prototype.initialize=function(t){this.stack=[],this.altstack=[],this.pc=0,this.pbegincodehash=0,this.nOpCount=0,this.vfExec=[],this.errstr="",this.flags=0},f.prototype.set=function(t){this.script=t.script||this.script,this.tx=t.tx||this.tx,this.nin=void 0!==t.nin?t.nin:this.nin,this.stack=t.stack||this.stack,this.altstack=t.altack||this.altstack,this.pc=void 0!==t.pc?t.pc:this.pc,this.pbegincodehash=void 0!==t.pbegincodehash?t.pbegincodehash:this.pbegincodehash,this.nOpCount=void 0!==t.nOpCount?t.nOpCount:this.nOpCount,this.vfExec=t.vfExec||this.vfExec,this.errstr=t.errstr||this.errstr,this.flags=void 0!==t.flags?t.flags:this.flags},f.true=new e([1]),f.false=new e([]),f.MAX_SCRIPT_ELEMENT_SIZE=520,f.LOCKTIME_THRESHOLD_BN=new s(f.LOCKTIME_THRESHOLD=5e8),f.SCRIPT_VERIFY_NONE=0,f.SCRIPT_VERIFY_P2SH=1,f.SCRIPT_VERIFY_STRICTENC=2,f.SCRIPT_VERIFY_DERSIG=4,f.SCRIPT_VERIFY_LOW_S=8,f.SCRIPT_VERIFY_NULLDUMMY=16,f.SCRIPT_VERIFY_SIGPUSHONLY=32,f.SCRIPT_VERIFY_MINIMALDATA=64,f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS=128,f.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY=512,f.castToBool=function(t){for(var e=0;e<t.length;e++)if(0!==t[e])return e!==t.length-1||128!==t[e];return!1},f.prototype.checkSignatureEncoding=function(t){if(0!=(this.flags&(f.SCRIPT_VERIFY_DERSIG|f.SCRIPT_VERIFY_LOW_S|f.SCRIPT_VERIFY_STRICTENC))&&!u.isTxDER(t))return this.errstr="SCRIPT_ERR_SIG_DER_INVALID_FORMAT",!1;if(0!=(this.flags&f.SCRIPT_VERIFY_LOW_S)){if(!u.fromTxFormat(t).hasLowS())return this.errstr="SCRIPT_ERR_SIG_DER_HIGH_S",!1}else if(0!=(this.flags&f.SCRIPT_VERIFY_STRICTENC)&&!u.fromTxFormat(t).hasDefinedHashtype())return this.errstr="SCRIPT_ERR_SIG_HASHTYPE",!1;return!0},f.prototype.checkPubkeyEncoding=function(t){return!(0!=(this.flags&f.SCRIPT_VERIFY_STRICTENC)&&!c.isValid(t))||(this.errstr="SCRIPT_ERR_PUBKEYTYPE",!1)},f.prototype.evaluate=function(){if(this.script.toBuffer().length>1e4)return this.errstr="SCRIPT_ERR_SCRIPT_SIZE",!1;try{for(;this.pc<this.script.chunks.length;){if(!this.step())return!1}if(this.stack.length+this.altstack.length>1e3)return this.errstr="SCRIPT_ERR_STACK_SIZE",!1}catch(t){return this.errstr="SCRIPT_ERR_UNKNOWN_ERROR: "+t,!1}return!(this.vfExec.length>0)||(this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1)},f.prototype.checkLockTime=function(t){return!!(this.tx.nLockTime<f.LOCKTIME_THRESHOLD&&t.lt(f.LOCKTIME_THRESHOLD_BN)||this.tx.nLockTime>=f.LOCKTIME_THRESHOLD&&t.gte(f.LOCKTIME_THRESHOLD_BN))&&(!t.gt(new s(this.tx.nLockTime))&&!!this.tx.inputs[this.nin].isFinal())},f.prototype.step=function(){var t,e,r,l,h,p,d,m,g,v,y,b,w,_,k,S,x,E=0!=(this.flags&f.SCRIPT_VERIFY_MINIMALDATA),C=-1===this.vfExec.indexOf(!1),A=this.script.chunks[this.pc];this.pc++;var M=A.opcodenum;if(n.isUndefined(M))return this.errstr="SCRIPT_ERR_UNDEFINED_OPCODE",!1;if(A.buf&&A.buf.length>f.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;if(M>o.OP_16&&++this.nOpCount>201)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;if(M===o.OP_CAT||M===o.OP_SUBSTR||M===o.OP_LEFT||M===o.OP_RIGHT||M===o.OP_INVERT||M===o.OP_AND||M===o.OP_OR||M===o.OP_XOR||M===o.OP_2MUL||M===o.OP_2DIV||M===o.OP_MUL||M===o.OP_DIV||M===o.OP_MOD||M===o.OP_LSHIFT||M===o.OP_RSHIFT)return this.errstr="SCRIPT_ERR_DISABLED_OPCODE",!1;if(C&&0<=M&&M<=o.OP_PUSHDATA4){if(E&&!this.script.checkMinimalPush(this.pc-1))return this.errstr="SCRIPT_ERR_MINIMALDATA",!1;if(A.buf){if(A.len!==A.buf.length)throw new Error("Length of push value not equal to length of data");this.stack.push(A.buf)}else this.stack.push(f.false)}else if(C||o.OP_IF<=M&&M<=o.OP_ENDIF)switch(M){case o.OP_1NEGATE:case o.OP_1:case o.OP_2:case o.OP_3:case o.OP_4:case o.OP_5:case o.OP_6:case o.OP_7:case o.OP_8:case o.OP_9:case o.OP_10:case o.OP_11:case o.OP_12:case o.OP_13:case o.OP_14:case o.OP_15:case o.OP_16:h=M-(o.OP_1-1),t=new s(h).toScriptNumBuffer(),this.stack.push(t);break;case o.OP_NOP:break;case o.OP_NOP2:case o.OP_CHECKLOCKTIMEVERIFY:if(!(this.flags&f.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY)){if(this.flags&f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var I=s.fromScriptNumBuffer(this.stack[this.stack.length-1],E,5);if(I.lt(new s(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if(!this.checkLockTime(I))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case o.OP_NOP1:case o.OP_NOP3:case o.OP_NOP4:case o.OP_NOP5:case o.OP_NOP6:case o.OP_NOP7:case o.OP_NOP8:case o.OP_NOP9:case o.OP_NOP10:if(this.flags&f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break;case o.OP_IF:case o.OP_NOTIF:if(S=!1,C){if(this.stack.length<1)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;t=this.stack.pop(),S=f.castToBool(t),M===o.OP_NOTIF&&(S=!S)}this.vfExec.push(S);break;case o.OP_ELSE:if(0===this.vfExec.length)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec[this.vfExec.length-1]=!this.vfExec[this.vfExec.length-1];break;case o.OP_ENDIF:if(0===this.vfExec.length)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec.pop();break;case o.OP_VERIFY:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(t=this.stack[this.stack.length-1],!(S=f.castToBool(t)))return this.errstr="SCRIPT_ERR_VERIFY",!1;this.stack.pop();break;case o.OP_RETURN:return this.errstr="SCRIPT_ERR_OP_RETURN",!1;case o.OP_TOALTSTACK:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.altstack.push(this.stack.pop());break;case o.OP_FROMALTSTACK:if(this.altstack.length<1)return this.errstr="SCRIPT_ERR_INVALID_ALTSTACK_OPERATION",!1;this.stack.push(this.altstack.pop());break;case o.OP_2DROP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop(),this.stack.pop();break;case o.OP_2DUP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;e=this.stack[this.stack.length-2],r=this.stack[this.stack.length-1],this.stack.push(e),this.stack.push(r);break;case o.OP_3DUP:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;e=this.stack[this.stack.length-3],r=this.stack[this.stack.length-2];var T=this.stack[this.stack.length-1];this.stack.push(e),this.stack.push(r),this.stack.push(T);break;case o.OP_2OVER:if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;e=this.stack[this.stack.length-4],r=this.stack[this.stack.length-3],this.stack.push(e),this.stack.push(r);break;case o.OP_2ROT:if(this.stack.length<6)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;l=this.stack.splice(this.stack.length-6,2),this.stack.push(l[0]),this.stack.push(l[1]);break;case o.OP_2SWAP:if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;l=this.stack.splice(this.stack.length-4,2),this.stack.push(l[0]),this.stack.push(l[1]);break;case o.OP_IFDUP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;t=this.stack[this.stack.length-1],(S=f.castToBool(t))&&this.stack.push(t);break;case o.OP_DEPTH:t=new s(this.stack.length).toScriptNumBuffer(),this.stack.push(t);break;case o.OP_DROP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop();break;case o.OP_DUP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.push(this.stack[this.stack.length-1]);break;case o.OP_NIP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.splice(this.stack.length-2,1);break;case o.OP_OVER:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.push(this.stack[this.stack.length-2]);break;case o.OP_PICK:case o.OP_ROLL:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(t=this.stack[this.stack.length-1],h=(m=s.fromScriptNumBuffer(t,E)).toNumber(),this.stack.pop(),h<0||h>=this.stack.length)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;t=this.stack[this.stack.length-h-1],M===o.OP_ROLL&&this.stack.splice(this.stack.length-h-1,1),this.stack.push(t);break;case o.OP_ROT:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;p=this.stack[this.stack.length-3],d=this.stack[this.stack.length-2];var O=this.stack[this.stack.length-1];this.stack[this.stack.length-3]=d,this.stack[this.stack.length-2]=O,this.stack[this.stack.length-1]=p;break;case o.OP_SWAP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;p=this.stack[this.stack.length-2],d=this.stack[this.stack.length-1],this.stack[this.stack.length-2]=d,this.stack[this.stack.length-1]=p;break;case o.OP_TUCK:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.splice(this.stack.length-2,0,this.stack[this.stack.length-1]);break;case o.OP_SIZE:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;m=new s(this.stack[this.stack.length-1].length),this.stack.push(m.toScriptNumBuffer());break;case o.OP_EQUAL:case o.OP_EQUALVERIFY:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;e=this.stack[this.stack.length-2],r=this.stack[this.stack.length-1];var B=e.toString("hex")===r.toString("hex");if(this.stack.pop(),this.stack.pop(),this.stack.push(B?f.true:f.false),M===o.OP_EQUALVERIFY){if(!B)return this.errstr="SCRIPT_ERR_EQUALVERIFY",!1;this.stack.pop()}break;case o.OP_1ADD:case o.OP_1SUB:case o.OP_NEGATE:case o.OP_ABS:case o.OP_NOT:case o.OP_0NOTEQUAL:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(t=this.stack[this.stack.length-1],m=s.fromScriptNumBuffer(t,E),M){case o.OP_1ADD:m=m.add(s.One);break;case o.OP_1SUB:m=m.sub(s.One);break;case o.OP_NEGATE:m=m.neg();break;case o.OP_ABS:m.cmp(s.Zero)<0&&(m=m.neg());break;case o.OP_NOT:m=new s((0===m.cmp(s.Zero))+0);break;case o.OP_0NOTEQUAL:m=new s((0!==m.cmp(s.Zero))+0)}this.stack.pop(),this.stack.push(m.toScriptNumBuffer());break;case o.OP_ADD:case o.OP_SUB:case o.OP_BOOLAND:case o.OP_BOOLOR:case o.OP_NUMEQUAL:case o.OP_NUMEQUALVERIFY:case o.OP_NUMNOTEQUAL:case o.OP_LESSTHAN:case o.OP_GREATERTHAN:case o.OP_LESSTHANOREQUAL:case o.OP_GREATERTHANOREQUAL:case o.OP_MIN:case o.OP_MAX:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(g=s.fromScriptNumBuffer(this.stack[this.stack.length-2],E),v=s.fromScriptNumBuffer(this.stack[this.stack.length-1],E),m=new s(0),M){case o.OP_ADD:m=g.add(v);break;case o.OP_SUB:m=g.sub(v);break;case o.OP_BOOLAND:m=new s((0!==g.cmp(s.Zero)&&0!==v.cmp(s.Zero))+0);break;case o.OP_BOOLOR:m=new s((0!==g.cmp(s.Zero)||0!==v.cmp(s.Zero))+0);break;case o.OP_NUMEQUAL:case o.OP_NUMEQUALVERIFY:m=new s((0===g.cmp(v))+0);break;case o.OP_NUMNOTEQUAL:m=new s((0!==g.cmp(v))+0);break;case o.OP_LESSTHAN:m=new s((g.cmp(v)<0)+0);break;case o.OP_GREATERTHAN:m=new s((g.cmp(v)>0)+0);break;case o.OP_LESSTHANOREQUAL:m=new s((g.cmp(v)<=0)+0);break;case o.OP_GREATERTHANOREQUAL:m=new s((g.cmp(v)>=0)+0);break;case o.OP_MIN:m=g.cmp(v)<0?g:v;break;case o.OP_MAX:m=g.cmp(v)>0?g:v}if(this.stack.pop(),this.stack.pop(),this.stack.push(m.toScriptNumBuffer()),M===o.OP_NUMEQUALVERIFY){if(!f.castToBool(this.stack[this.stack.length-1]))return this.errstr="SCRIPT_ERR_NUMEQUALVERIFY",!1;this.stack.pop()}break;case o.OP_WITHIN:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;g=s.fromScriptNumBuffer(this.stack[this.stack.length-3],E),v=s.fromScriptNumBuffer(this.stack[this.stack.length-2],E);var P=s.fromScriptNumBuffer(this.stack[this.stack.length-1],E);S=v.cmp(g)<=0&&g.cmp(P)<0,this.stack.pop(),this.stack.pop(),this.stack.pop(),this.stack.push(S?f.true:f.false);break;case o.OP_RIPEMD160:case o.OP_SHA1:case o.OP_SHA256:case o.OP_HASH160:case o.OP_HASH256:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var N;t=this.stack[this.stack.length-1],M===o.OP_RIPEMD160?N=a.ripemd160(t):M===o.OP_SHA1?N=a.sha1(t):M===o.OP_SHA256?N=a.sha256(t):M===o.OP_HASH160?N=a.sha256ripemd160(t):M===o.OP_HASH256&&(N=a.sha256sha256(t)),this.stack.pop(),this.stack.push(N);break;case o.OP_CODESEPARATOR:this.pbegincodehash=this.pc;break;case o.OP_CHECKSIG:case o.OP_CHECKSIGVERIFY:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;y=this.stack[this.stack.length-2],b=this.stack[this.stack.length-1],w=(new i).set({chunks:this.script.chunks.slice(this.pbegincodehash)});var R=(new i).add(y);if(w.findAndDelete(R),!this.checkSignatureEncoding(y)||!this.checkPubkeyEncoding(b))return!1;try{_=u.fromTxFormat(y),k=c.fromBuffer(b,!1),x=this.tx.verifySignature(_,k,this.nin,w)}catch(t){x=!1}if(this.stack.pop(),this.stack.pop(),this.stack.push(x?f.true:f.false),M===o.OP_CHECKSIGVERIFY){if(!x)return this.errstr="SCRIPT_ERR_CHECKSIGVERIFY",!1;this.stack.pop()}break;case o.OP_CHECKMULTISIG:case o.OP_CHECKMULTISIGVERIFY:var F=1;if(this.stack.length<F)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var j=s.fromScriptNumBuffer(this.stack[this.stack.length-F],E).toNumber();if(j<0||j>20)return this.errstr="SCRIPT_ERR_PUBKEY_COUNT",!1;if(this.nOpCount+=j,this.nOpCount>201)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;var L=++F;if(F+=j,this.stack.length<F)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var D=s.fromScriptNumBuffer(this.stack[this.stack.length-F],E).toNumber();if(D<0||D>j)return this.errstr="SCRIPT_ERR_SIG_COUNT",!1;var U=++F;if(F+=D,this.stack.length<F)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;w=(new i).set({chunks:this.script.chunks.slice(this.pbegincodehash)});for(var z=0;z<D;z++)y=this.stack[this.stack.length-U-z],w.findAndDelete((new i).add(y));for(x=!0;x&&D>0;){if(y=this.stack[this.stack.length-U],b=this.stack[this.stack.length-L],!this.checkSignatureEncoding(y)||!this.checkPubkeyEncoding(b))return!1;var H;try{_=u.fromTxFormat(y),k=c.fromBuffer(b,!1),H=this.tx.verifySignature(_,k,this.nin,w)}catch(t){H=!1}H&&(U++,D--),L++,D>--j&&(x=!1)}for(;F-- >1;)this.stack.pop();if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(this.flags&f.SCRIPT_VERIFY_NULLDUMMY&&this.stack[this.stack.length-1].length)return this.errstr="SCRIPT_ERR_SIG_NULLDUMMY",!1;if(this.stack.pop(),this.stack.push(x?f.true:f.false),M===o.OP_CHECKMULTISIGVERIFY){if(!x)return this.errstr="SCRIPT_ERR_CHECKMULTISIGVERIFY",!1;this.stack.pop()}break;default:return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1}return!0}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";var n=r(75),i=r(65).utils,o=i.assert;function s(t,e){if(t instanceof s)return t;this._importDER(t,e)||(o(t.r&&t.s,"Signature without r or s"),this.r=new n(t.r,16),this.s=new n(t.s,16))}t.exports=s,s.prototype._importDER=function(t,e){if((t=i.toArray(t,e)).length<6||48!==t[0]||2!==t[2])return!1;if(1+t[1]>t.length)return!1;var r=t[3];if(r>=128)return!1;if(4+r+2>=t.length)return!1;if(2!==t[4+r])return!1;var o=t[5+r];return!(o>=128)&&(!(4+r+2+o>t.length)&&(this.r=new n(t.slice(4,4+r)),this.s=new n(t.slice(4+r+2,4+r+2+o)),!0))},s.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r));var n=[48,e.length+r.length+4,2,e.length];return n=n.concat(e,[2,r.length],r),i.encode(n,t)}},function(t,e,r){"use strict";var n=r(75),i=r(65).utils;function o(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=o,o.fromPublic=function(t,e,r){return e instanceof o?e:new o(t,{pub:e,pubEnc:r})},o.fromPrivate=function(t,e,r){return e instanceof o?e:new o(t,{priv:e,privEnc:r})},o.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(t,e){if(this.pub||(this.pub=this.ec.g.mul(this.priv)),"string"==typeof t&&(e=t,t=null),!e)return this.pub;for(var r=this.ec.curve.p.byteLength(),n=this.pub.getX().toArray(),o=n.length;o<r;o++)n.unshift(0);if("mont"!==this.ec.curve.type)if(t)a=[this.pub.getY().isEven()?2:3].concat(n);else{var s=this.pub.getY().toArray();for(o=s.length;o<r;o++)s.unshift(0);var a=[4].concat(n,s)}else a=n;return i.encode(a,e)},o.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(t,e){this.priv=new n(t,e||16),this.priv=this.priv.mod(this.ec.curve.n)},o.prototype._importPublic=function(t,e){if(!t.x&&!t.y)return t=i.toArray(t,e),"mont"!==this.ec.curve.type?this._importPublicShort(t):this._importPublicMont(t);this.pub=this.ec.curve.point(t.x,t.y)},o.prototype._importPublicShort=function(t){var e=this.ec.curve.p.byteLength();4===t[0]&&t.length-1==2*e?this.pub=this.ec.curve.point(t.slice(1,1+e),t.slice(1+e,1+2*e)):2!==t[0]&&3!==t[0]||t.length-1!==e||(this.pub=this.ec.curve.pointFromX(3===t[0],t.slice(1,1+e)))},o.prototype._importPublicMont=function(t){this.pub=this.ec.curve.point(t,1)},o.prototype.derive=function(t){return t.mul(this.priv).getX()},o.prototype.sign=function(t){return this.ec.sign(t,this)},o.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(t,e,r){"use strict";var n=r(75),i=r(65),o=i.utils.assert,s=r(1169),a=r(1168);function u(t){if(!(this instanceof u))return new u(t);"string"==typeof t&&(o(i.curves.hasOwnProperty(t),"Unknown curve "+t),t=i.curves[t]),t instanceof i.curves.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.shrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=u,u.prototype.keyPair=function(t){return new s(this,t)},u.prototype.keyFromPrivate=function(t,e){return s.fromPrivate(this,t,e)},u.prototype.keyFromPublic=function(t,e){return s.fromPublic(this,t,e)},u.prototype.genKeyPair=function(t){t||(t={});for(var e=new i.hmacDRBG({hash:this.hash,pers:t.pers,entropy:t.entropy||i.rand(this.hash.hmacStrength),nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var s=new n(e.generate(r));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},u.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.shrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},u.prototype.sign=function(t,e,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new n(t,16));for(var s=this.n.byteLength(),u=e.getPrivate().toArray(),c=u.length;c<21;c++)u.unshift(0);var f=t.toArray();for(c=f.length;c<s;c++)f.unshift(0);for(var l=new i.hmacDRBG({hash:this.hash,entropy:u,nonce:f}),h=this.n.sub(new n(1));;){var p=new n(l.generate(this.n.byteLength()));if(!((p=this._truncateToN(p,!0)).cmpn(1)<=0||p.cmp(h)>=0)){var d=this.g.mul(p);if(!d.isInfinity()){var m=d.getX().mod(this.n);if(0!==m.cmpn(0)){var g=p.invm(this.n).mul(m.mul(e.getPrivate()).iadd(t)).mod(this.n);if(0!==g.cmpn(0))return o.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g)),new a({r:m,s:g})}}}}},u.prototype.verify=function(t,e,r,i){t=this._truncateToN(new n(t,16)),r=this.keyFromPublic(r,i);var o=(e=new a(e,"hex")).r,s=e.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var u=s.invm(this.n),c=u.mul(t).mod(this.n),f=u.mul(o).mod(this.n),l=this.g.mulAdd(c,r.getPublic(),f);return!l.isInfinity()&&0===l.getX().mod(this.n).cmp(o)}},function(t,e){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(t,e,r){"use strict";var n,i=e,o=r(123),s=r(65),a=s.utils.assert;function u(t){"short"===t.type?this.curve=new s.curve.short(t):"edwards"===t.type?this.curve=new s.curve.edwards(t):this.curve=new s.curve.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var r=new u(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=u,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"0",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(1171)}catch(t){n=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},function(t,e,r){"use strict";var n=r(197),i=r(65),o=r(75),s=r(74),a=n.base,u=i.utils.assert;function c(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,a.call(this,"edwards",t),this.a=new o(t.a,16).mod(this.red.m).toRed(this.red),this.c=new o(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function f(t,e,r,n,i){a.BasePoint.call(this,t,"projective"),null===e&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(e,16),this.y=new o(r,16),this.z=n?new o(n,16):this.curve.one,this.t=i&&new o(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(c,a),t.exports=c,c.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},c.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},c.prototype.jpoint=function(t,e,r,n){return this.point(t,e,r,n)},c.prototype.pointFromX=function(t,e){(e=new o(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),i=this.c2.redSub(this.a.redMul(r)),s=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=i.redMul(s.redInvm()).redSqrt(),u=a.fromRed().isOdd();return(t&&!u||!t&&u)&&(a=a.redNeg()),this.point(e,a,n.one)},c.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),n=e.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===n.cmp(i)},s(f,a.BasePoint),c.prototype.pointFromJSON=function(t){return f.fromJSON(this,t)},c.prototype.point=function(t,e,r,n){return new f(this,t,e,r,n)},f.fromJSON=function(t,e){return new f(t,e[0],e[1],e[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},f.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=n.redAdd(e),s=o.redSub(r),a=n.redSub(e),u=i.redMul(s),c=o.redMul(a),f=i.redMul(a),l=s.redMul(o);return this.curve.point(u,c,l,f)},f.prototype._projDbl=function(){var t,e,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var s=(c=this.curve._mulA(i)).redAdd(o);if(this.zOne)t=n.redSub(i).redSub(o).redMul(s.redSub(this.curve.two)),e=s.redMul(c.redSub(o)),r=s.redSqr().redSub(s).redSub(s);else{var a=this.z.redSqr(),u=s.redSub(a).redISub(a);t=n.redSub(i).redISub(o).redMul(u),e=s.redMul(c.redSub(o)),r=s.redMul(u)}}else{var c=i.redAdd(o);a=this.curve._mulC(this.c.redMul(this.z)).redSqr(),u=c.redSub(a).redSub(a);t=this.curve._mulC(n.redISub(c)).redMul(u),e=this.curve._mulC(c).redMul(i.redISub(o)),r=c.redMul(u)}return this.curve.point(t,e,r)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=r.redSub(e),s=i.redSub(n),a=i.redAdd(n),u=r.redAdd(e),c=o.redMul(s),f=a.redMul(u),l=o.redMul(u),h=s.redMul(a);return this.curve.point(c,f,h,l)},f.prototype._projAdd=function(t){var e,r,n=this.z.redMul(t.z),i=n.redSqr(),o=this.x.redMul(t.x),s=this.y.redMul(t.y),a=this.curve.d.redMul(o).redMul(s),u=i.redSub(a),c=i.redAdd(a),f=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(s),l=n.redMul(u).redMul(f);return this.curve.twisted?(e=n.redMul(c).redMul(s.redSub(this.curve._mulA(o))),r=u.redMul(c)):(e=n.redMul(c).redMul(s.redSub(o)),r=this.curve._mulC(u).redMul(c)),this.curve.point(l,e,r)},f.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},f.prototype.mul=function(t){return this.precomputed&&this.precomputed.doubles?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},f.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2)},f.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},function(t,e,r){"use strict";var n=r(197),i=r(75),o=r(74),s=n.base;function a(t){s.call(this,"mont",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(t,e,r){s.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(e,16),this.z=new i(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(a,s),t.exports=a,a.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),n=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===n.redSqrt().redSqr().cmp(n)},o(u,s.BasePoint),a.prototype.point=function(t,e){return new u(this,t,e)},a.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},u.prototype.precompute=function(){},u.fromJSON=function(t,e){return new u(t,e[0],e[1]||t.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),n=t.redMul(e),i=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z).redMul(r),s=i.redMul(n),a=e.z.redMul(o.redAdd(s).redSqr()),u=e.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,u)},u.prototype.mul=function(t){for(var e=t.clone(),r=this,n=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.ishrn(1))i.push(e.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(t,e,r){"use strict";var n=r(197),i=r(65),o=r(75),s=r(74),a=n.base,u=i.utils.assert;function c(t){a.call(this,"short",t),this.a=new o(t.a,16).toRed(this.red),this.b=new o(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function f(t,e,r,n){a.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(e,16),this.y=new o(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(t,e,r,n){a.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(e,16),this.y=new o(r,16),this.z=new o(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(c,a),t.exports=c,c.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new o(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new o(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],u(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map(function(t){return{a:new o(t.a,16),b:new o(t.b,16)}}):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:o.mont(t),r=new o(2).toRed(e).redInvm(),n=r.redNeg(),i=new o(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},c.prototype._getEndoBasis=function(t){for(var e,r,n,i,s,a,u,c,f,l=this.n.shrn(Math.floor(this.n.bitLength()/2)),h=t,p=this.n.clone(),d=new o(1),m=new o(0),g=new o(0),v=new o(1),y=0;0!==h.cmpn(0);){var b=p.div(h);c=p.sub(b.mul(h)),f=g.sub(b.mul(d));var w=v.sub(b.mul(m));if(!n&&c.cmp(l)<0)e=u.neg(),r=d,n=c.neg(),i=f;else if(n&&2==++y)break;u=c,p=h,h=c,g=d,d=f,v=m,m=w}s=c.neg(),a=f;var _=n.sqr().add(i.sqr());return s.sqr().add(a.sqr()).cmp(_)>=0&&(s=e,a=r),n.sign&&(n=n.neg(),i=i.neg()),s.sign&&(s=s.neg(),a=a.neg()),[{a:n,b:i},{a:s,b:a}]},c.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),c=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:u.add(c).neg()}},c.prototype.pointFromX=function(t,e){(e=new o(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b).redSqrt(),n=r.fromRed().isOdd();return(t&&!n||!t&&n)&&(r=r.redNeg()),this.point(e,r)},c.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(t,e){for(var r=this._endoWnafT1,n=this._endoWnafT2,i=0;i<t.length;i++){var o=this._endoSplit(e[i]),s=t[i],a=s._getBeta();o.k1.sign&&(o.k1.sign=!o.k1.sign,s=s.neg(!0)),o.k2.sign&&(o.k2.sign=!o.k2.sign,a=a.neg(!0)),r[2*i]=s,r[2*i+1]=a,n[2*i]=o.k1,n[2*i+1]=o.k2}for(var u=this._wnafMulAdd(1,r,n,2*i),c=0;c<2*i;c++)r[c]=null,n[c]=null;return u},s(f,a.BasePoint),c.prototype.point=function(t,e,r){return new f(this,t,e,r)},c.prototype.pointFromJSON=function(t,e){return f.fromJSON(this,t,e)},f.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},f.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(t){return t=new o(t,16),this.precomputed&&this.precomputed.doubles?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},f.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},f.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},f.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},f.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(l,a.BasePoint),c.prototype.jpoint=function(t,e,r){return new l(this,t,e,r)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),f=c.redMul(a),l=n.redMul(c),h=u.redSqr().redIAdd(f).redISub(l).redISub(l),p=u.redMul(l.redISub(h)).redISub(o.redMul(f)),d=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(h,p,d)},l.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),c=u.redMul(s),f=r.redMul(u),l=a.redSqr().redIAdd(c).redISub(f).redISub(f),h=a.redMul(f.redISub(l)).redISub(i.redMul(c)),p=this.z.redMul(s);return this.curve.jpoint(l,h,p)},l.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),c=s.redAdd(s);for(r=0;r<t;r++){var f=o.redSqr(),l=c.redSqr(),h=l.redSqr(),p=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(u)),d=o.redMul(l),m=p.redSqr().redISub(d.redAdd(d)),g=d.redISub(m),v=p.redMul(g);v=v.redIAdd(v).redISub(h);var y=c.redMul(a);r+1<t&&(u=u.redMul(h)),o=m,a=y,c=v}return this.curve.jpoint(o,c.redMul(i),a)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=u,e=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),l=this.y.redSqr(),h=l.redSqr(),p=this.x.redAdd(l).redSqr().redISub(f).redISub(h);p=p.redIAdd(p);var d=f.redAdd(f).redIAdd(f),m=d.redSqr(),g=h.redIAdd(h);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(p).redISub(p),e=d.redMul(p.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},l.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);t=u;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),l=this.y.redSqr(),h=this.x.redMul(l),p=this.x.redSub(f).redMul(this.x.redAdd(f));p=p.redAdd(p).redIAdd(p);var d=h.redIAdd(h),m=(d=d.redIAdd(d)).redAdd(d);t=p.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(l).redISub(f);var g=l.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=p.redMul(d.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},l.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),c=(u=u.redIAdd(u)).redMul(s),f=a.redSqr().redISub(c.redAdd(c)),l=c.redISub(f),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var p=a.redMul(l).redISub(h),d=r.redAdd(r).redMul(n);return this.curve.jpoint(f,p,d)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),f=e.redMul(c);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.x.redMul(a).redISub(f);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.y.redMul(c.redMul(u.redISub(c)).redISub(s.redMul(a)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var p=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(l,h,p)},l.prototype.mul=function(t,e){return t=new o(t,e),this.curve._wnafMul(this,t)},l.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(t,e,r){"use strict";var n=r(75),i=r(65),o=i.utils.getNAF,s=i.utils.getJSF,a=i.utils.assert;function u(t,e){this.type=t,this.p=new n(e.p,16),this.red=e.prime?n.red(e.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=e.n&&new n(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4)}function c(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(t,e){var r=t._getDoubles(),n=o(e,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var s=[],a=0;a<n.length;a+=r.step){var u=0;for(e=a+r.step-1;e>=a;e--)u=(u<<1)+n[e];s.push(u)}for(var c=this.jpoint(null,null,null),f=this.jpoint(null,null,null),l=i;l>0;l--){for(a=0;a<s.length;a++){(u=s[a])===l?f=f.mixedAdd(r.points[a]):u===-l&&(f=f.mixedAdd(r.points[a].neg()))}c=c.add(f)}return c.toP()},u.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=o(e,r),u=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(e=0;c>=0&&0===s[c];c--)e++;if(c>=0&&e++,u=u.dblp(e),c<0)break;var f=s[c];a(0!==f),u="affine"===t.type?f>0?u.mixedAdd(i[f-1>>1]):u.mixedAdd(i[-f-1>>1].neg()):f>0?u.add(i[f-1>>1]):u.add(i[-f-1>>1].neg())}return"affine"===t.type?u.toP():u},u.prototype._wnafMulAdd=function(t,e,r,n){for(var i=this._wnafT1,a=this._wnafT2,u=this._wnafT3,c=0,f=0;f<n;f++){var l=(x=e[f])._getNAFPoints(t);i[f]=l.wnd,a[f]=l.points}for(f=n-1;f>=1;f-=2){var h=f-1,p=f;if(1===i[h]&&1===i[p]){var d=[e[h],null,null,e[p]];0===e[h].y.cmp(e[p].y)?(d[1]=e[h].add(e[p]),d[2]=e[h].toJ().mixedAdd(e[p].neg())):0===e[h].y.cmp(e[p].y.redNeg())?(d[1]=e[h].toJ().mixedAdd(e[p]),d[2]=e[h].add(e[p].neg())):(d[1]=e[h].toJ().mixedAdd(e[p]),d[2]=e[h].toJ().mixedAdd(e[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],g=s(r[h],r[p]);c=Math.max(g[0].length,c),u[h]=new Array(c),u[p]=new Array(c);for(var v=0;v<c;v++){var y=0|g[0][v],b=0|g[1][v];u[h][v]=m[3*(y+1)+(b+1)],u[p][v]=0,a[h]=d}}else u[h]=o(r[h],i[h]),u[p]=o(r[p],i[p]),c=Math.max(u[h].length,c),c=Math.max(u[p].length,c)}var w=this.jpoint(null,null,null),_=this._wnafT4;for(f=c;f>=0;f--){for(var k=0;f>=0;){var S=!0;for(v=0;v<n;v++)_[v]=0|u[v][f],0!==_[v]&&(S=!1);if(!S)break;k++,f--}if(f>=0&&k++,w=w.dblp(k),f<0)break;for(v=0;v<n;v++){var x,E=_[v];0!==E&&(E>0?x=a[v][E-1>>1]:E<0&&(x=a[v][-E-1>>1].neg()),w="affine"===x.type?w.mixedAdd(x):w.add(x))}}for(f=0;f<n;f++)a[f]=null;return w.toP()},u.BasePoint=c,c.prototype.validate=function(){return this.curve.validate(this)},c.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},c.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},c.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}},function(t,e,r){var n=r(123).utils,i=n.assert;function o(t,e,r){if(!(this instanceof o))return new o(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(e,r))}t.exports=o,o.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;this.inner=(new this.Hash).update(t);for(e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},o.prototype.update=function(t,e){return this.inner.update(t,e),this},o.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},function(t,e,r){var n=r(123),i=n.utils,o=i.rotl32,s=i.sum32,a=i.sum32_3,u=i.sum32_4,c=n.common.BlockHash;function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function l(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function h(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function p(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}i.inherits(f,c),e.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],c=this.h[3],f=this.h[4],y=r,b=n,w=i,_=c,k=f,S=0;S<80;S++){var x=s(o(u(r,l(S,n,i,c),t[d[S]+e],h(S)),g[S]),f);r=f,f=c,c=o(i,10),i=n,n=x,x=s(o(u(y,l(79-S,b,w,_),t[m[S]+e],p(S)),v[S]),k),y=k,k=_,_=o(w,10),w=b,b=x}x=a(this.h[1],i,_),this.h[1]=a(this.h[2],c,k),this.h[2]=a(this.h[3],f,y),this.h[3]=a(this.h[4],r,b),this.h[4]=a(this.h[0],n,w),this.h[0]=x},f.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(t,e,r){var n=r(123),i=n.utils,o=i.assert,s=i.rotr32,a=i.rotl32,u=i.sum32,c=i.sum32_4,f=i.sum32_5,l=i.rotr64_hi,h=i.rotr64_lo,p=i.shr64_hi,d=i.shr64_lo,m=i.sum64,g=i.sum64_hi,v=i.sum64_lo,y=i.sum64_4_hi,b=i.sum64_4_lo,w=i.sum64_5_hi,_=i.sum64_5_lo,k=n.common.BlockHash,S=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],x=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],E=[1518500249,1859775393,2400959708,3395469782];function C(){if(!(this instanceof C))return new C;k.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=S,this.W=new Array(64)}function A(){if(!(this instanceof A))return new A;C.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}function M(){if(!(this instanceof M))return new M;k.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=x,this.W=new Array(160)}function I(){if(!(this instanceof I))return new I;M.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}function T(){if(!(this instanceof T))return new T;k.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}function O(t,e,r){return t&e^~t&r}function B(t,e,r){return t&e^t&r^e&r}function P(t){return s(t,2)^s(t,13)^s(t,22)}function N(t){return s(t,6)^s(t,11)^s(t,25)}function R(t){return s(t,7)^s(t,18)^t>>>3}function F(t,e,r,n){return 0===t?O(e,r,n):1===t||3===t?function(t,e,r){return t^e^r}(e,r,n):2===t?B(e,r,n):void 0}function j(t,e,r,n,i,o){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function L(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function D(t,e,r,n,i,o){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function U(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function z(t,e){var r=l(t,e,28)^l(e,t,2)^l(e,t,7);return r<0&&(r+=4294967296),r}function H(t,e){var r=h(t,e,28)^h(e,t,2)^h(e,t,7);return r<0&&(r+=4294967296),r}function K(t,e){var r=l(t,e,14)^l(t,e,18)^l(e,t,9);return r<0&&(r+=4294967296),r}function q(t,e){var r=h(t,e,14)^h(t,e,18)^h(e,t,9);return r<0&&(r+=4294967296),r}function V(t,e){var r=l(t,e,1)^l(t,e,8)^p(t,e,7);return r<0&&(r+=4294967296),r}function W(t,e){var r=h(t,e,1)^h(t,e,8)^d(t,e,7);return r<0&&(r+=4294967296),r}function G(t,e){var r=l(t,e,19)^l(e,t,29)^p(t,e,6);return r<0&&(r+=4294967296),r}function Y(t,e){var r=h(t,e,19)^h(e,t,29)^d(t,e,6);return r<0&&(r+=4294967296),r}i.inherits(C,k),e.sha256=C,C.blockSize=512,C.outSize=256,C.hmacStrength=192,C.padLength=64,C.prototype._update=function(t,e){for(var r,n=this.W,i=0;i<16;i++)n[i]=t[e+i];for(;i<n.length;i++)n[i]=c((r=n[i-2],s(r,17)^s(r,19)^r>>>10),n[i-7],R(n[i-15]),n[i-16]);var a=this.h[0],l=this.h[1],h=this.h[2],p=this.h[3],d=this.h[4],m=this.h[5],g=this.h[6],v=this.h[7];o(this.k.length===n.length);for(i=0;i<n.length;i++){var y=f(v,N(d),O(d,m,g),this.k[i],n[i]),b=u(P(a),B(a,l,h));v=g,g=m,m=d,d=u(p,y),p=h,h=l,l=a,a=u(y,b)}this.h[0]=u(this.h[0],a),this.h[1]=u(this.h[1],l),this.h[2]=u(this.h[2],h),this.h[3]=u(this.h[3],p),this.h[4]=u(this.h[4],d),this.h[5]=u(this.h[5],m),this.h[6]=u(this.h[6],g),this.h[7]=u(this.h[7],v)},C.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")},i.inherits(A,C),e.sha224=A,A.blockSize=512,A.outSize=224,A.hmacStrength=192,A.padLength=64,A.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")},i.inherits(M,k),e.sha512=M,M.blockSize=1024,M.outSize=512,M.hmacStrength=192,M.padLength=128,M.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=G(r[n-4],r[n-3]),o=Y(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],u=V(r[n-30],r[n-29]),c=W(r[n-30],r[n-29]),f=r[n-32],l=r[n-31];r[n]=y(i,o,s,a,u,c,f,l),r[n+1]=b(i,o,s,a,u,c,f,l)}},M.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],f=this.h[6],l=this.h[7],h=this.h[8],p=this.h[9],d=this.h[10],y=this.h[11],b=this.h[12],k=this.h[13],S=this.h[14],x=this.h[15];o(this.k.length===r.length);for(var E=0;E<r.length;E+=2){var C=S,A=x,M=K(h,p),I=q(h,p),T=j(h,p,d,y,b,k),O=L(h,p,d,y,b,k),B=this.k[E],P=this.k[E+1],N=r[E],R=r[E+1],F=w(C,A,M,I,T,O,B,P,N,R),V=_(C,A,M,I,T,O,B,P,N,R),W=(C=z(n,i),A=H(n,i),M=D(n,i,s,a,u,c),I=U(n,i,s,a,u,c),g(C,A,M,I)),G=v(C,A,M,I);S=b,x=k,b=d,k=y,d=h,y=p,h=g(f,l,F,V),p=v(l,l,F,V),f=u,l=c,u=s,c=a,s=n,a=i,n=g(F,V,W,G),i=v(F,V,W,G)}m(this.h,0,n,i),m(this.h,2,s,a),m(this.h,4,u,c),m(this.h,6,f,l),m(this.h,8,h,p),m(this.h,10,d,y),m(this.h,12,b,k),m(this.h,14,S,x)},M.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")},i.inherits(I,M),e.sha384=I,I.blockSize=1024,I.outSize=384,I.hmacStrength=192,I.padLength=128,I.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")},i.inherits(T,k),e.sha1=T,T.blockSize=512,T.outSize=160,T.hmacStrength=80,T.padLength=64,T.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=a(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],s=this.h[2],c=this.h[3],l=this.h[4];for(n=0;n<r.length;n++){var h=~~(n/20),p=f(a(i,5),F(h,o,s,c),l,r[n],E[h]);l=c,c=s,s=a(o,30),o=i,i=p}this.h[0]=u(this.h[0],i),this.h[1]=u(this.h[1],o),this.h[2]=u(this.h[2],s),this.h[3]=u(this.h[3],c),this.h[4]=u(this.h[4],l)},T.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(t,e,r){var n=r(123).utils,i=n.assert;function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=o,o.prototype.update=function(t,e){if(t=n.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=n.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},o.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},o.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else{n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0;for(o=8;o<this.padLength;o++)n[i++]=0}return n}},function(t,e,r){var n=e,i=r(74);function o(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function s(t){return 1===t.length?"0"+t:t}function a(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}function u(t,e){if(!t)throw new Error(e||"Assertion failed")}n.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}else for(n=0;n<t.length;n++)r[n]=0|t[n];return r},n.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=s(t[r].toString(16));return e},n.htonl=o,n.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=o(i)),r+=a(i.toString(16))}return r},n.zero2=s,n.zero8=a,n.join32=function(t,e,r,n){var i=r-e;u(i%4==0);for(var o=new Array(i/4),s=0,a=e;s<o.length;s++,a+=4){var c;c="big"===n?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],o[s]=c>>>0}return o},n.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];"big"===e?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},n.rotr32=function(t,e){return t>>>e|t<<32-e},n.rotl32=function(t,e){return t<<e|t>>>32-e},n.sum32=function(t,e){return t+e>>>0},n.sum32_3=function(t,e,r){return t+e+r>>>0},n.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},n.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},n.assert=u,n.inherits=i,e.sum64=function(t,e,r,n){var i=t[e],o=n+t[e+1]>>>0,s=(o<n?1:0)+r+i;t[e]=s>>>0,t[e+1]=o},e.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},e.sum64_lo=function(t,e,r,n){return e+n>>>0},e.sum64_4_hi=function(t,e,r,n,i,o,s,a){var u=0,c=e;return u+=(c=c+n>>>0)<e?1:0,u+=(c=c+o>>>0)<o?1:0,t+r+i+s+(u+=(c=c+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(t,e,r,n,i,o,s,a){return e+n+o+a>>>0},e.sum64_5_hi=function(t,e,r,n,i,o,s,a,u,c){var f=0,l=e;return f+=(l=l+n>>>0)<e?1:0,f+=(l=l+o>>>0)<o?1:0,f+=(l=l+a>>>0)<a?1:0,t+r+i+s+u+(f+=(l=l+c>>>0)<c?1:0)>>>0},e.sum64_5_lo=function(t,e,r,n,i,o,s,a,u,c){return e+n+o+a+c>>>0},e.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},e.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},e.shr64_hi=function(t,e,r){return t>>>r},e.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0}},function(t,e,r){"use strict";var n=r(123),i=r(65).utils,o=i.assert;function s(t){if(!(this instanceof s))return new s(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this.reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc),r=i.toArray(t.nonce,t.nonceEnc),n=i.toArray(t.pers,t.persEnc);o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}t.exports=s,s.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this.reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=i.toBuffer(t,e),r=i.toBuffer(r,n),o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this.reseed=1},s.prototype.generate=function(t,e,r,n){if(this.reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=i.toArray(r,n),this._update(r));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,t);return this._update(r),this.reseed++,i.encode(s,e)}},function(t,e,r){var n;function i(t){this.rand=t}if(t.exports=function(t){return n||(n=new i(null)),n.generate(t)},t.exports.Rand=i,i.prototype.generate=function(t){return this._rand(t)},"object"==typeof window)window.crypto&&window.crypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return window.crypto.getRandomValues(e),e}:window.msCrypto&&window.msCrypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return window.msCrypto.getRandomValues(e),e}:i.prototype._rand=function(){throw new Error("Not implemented yet")};else try{var o=r(107);i.prototype._rand=function(t){return o.randomBytes(t)}}catch(t){i.prototype._rand=function(t){for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e}}},function(t,e,r){"use strict";var n=e;function i(t){return 1===t.length?"0"+t:t}function o(t){for(var e="",r=0;r<t.length;r++)e+=i(t[r].toString(16));return e}n.assert=function(t,e){if(!t)throw new Error(e||"Assertion failed")},n.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},n.zero2=i,n.toHex=o,n.encode=function(t,e){return"hex"===e?o(t):t},n.getNAF=function(t,e){for(var r=[],n=1<<e+1,i=t.clone();i.cmpn(1)>=0;){var o;if(i.isOdd()){var s=i.andln(n-1);o=s>(n>>1)-1?(n>>1)-s:s,i.isubn(o)}else o=0;r.push(o);for(var a=0!==i.cmpn(0)&&0===i.andln(n-1)?e+1:1,u=1;u<a;u++)r.push(0);i.ishrn(a)}return r},n.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0;t.cmpn(-n)>0||e.cmpn(-i)>0;){var o,s,a,u=t.andln(3)+n&3,c=e.andln(3)+i&3;3===u&&(u=-1),3===c&&(c=-1),o=0==(1&u)?0:3!=(a=t.andln(7)+n&7)&&5!==a||2!==c?u:-u,r[0].push(o),s=0==(1&c)?0:3!=(a=e.andln(7)+i&7)&&5!==a||2!==u?c:-c,r[1].push(s),2*n===o+1&&(n=1-n),2*i===s+1&&(i=1-i),t.ishrn(1),e.ishrn(1)}return r}},function(t){t.exports={_args:[["elliptic@3.0.3","/Users/wangyiyi/github/ribbit"]],_from:"elliptic@3.0.3",_id:"elliptic@3.0.3",_inBundle:!1,_integrity:"sha1-hlybQgv75VAGuflp+XoNLESWZZU=",_location:"/zcash-bitcore-lib/elliptic",_phantomChildren:{inherits:"2.0.1"},_requested:{type:"version",registry:!0,raw:"elliptic@3.0.3",name:"elliptic",escapedName:"elliptic",rawSpec:"3.0.3",saveSpec:null,fetchSpec:"3.0.3"},_requiredBy:["/zcash-bitcore-lib"],_resolved:"http://registry.npmjs.org/elliptic/-/elliptic-3.0.3.tgz",_spec:"3.0.3",_where:"/Users/wangyiyi/github/ribbit",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^2.0.0",brorand:"^1.0.1","hash.js":"^1.0.0",inherits:"^2.0.1"},description:"EC cryptography",devDependencies:{browserify:"^3.44.2",jscs:"^1.11.3",jshint:"^2.6.0",mocha:"^2.1.0","uglify-js":"^2.4.13"},homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{test:"make lint && mocha --reporter=spec test/*-test.js"},version:"3.0.3"}},function(t,e,r){"use strict";t.exports=[{name:"InvalidB58Char",message:"Invalid Base58 character: {0} in {1}"},{name:"InvalidB58Checksum",message:"Invalid Base58 checksum for {0}"},{name:"InvalidNetwork",message:"Invalid version for network: got {0}"},{name:"InvalidState",message:"Invalid state: {0}"},{name:"NotImplemented",message:"Function {0} was not implemented yet"},{name:"InvalidNetworkArgument",message:'Invalid network: must be "livenet" or "testnet", got {0}'},{name:"InvalidArgument",message:function(){return"Invalid Argument"+(arguments[0]?": "+arguments[0]:"")+(arguments[1]?" Documentation: http://bitcore.io/"+arguments[1]:"")}},{name:"AbstractMethodInvoked",message:"Abstract Method Invocation: {0}"},{name:"InvalidArgumentType",message:function(){return"Invalid Argument for "+arguments[2]+", expected "+arguments[1]+" but got "+typeof arguments[0]}},{name:"Unit",message:"Internal Error on Unit {0}",errors:[{name:"UnknownCode",message:"Unrecognized unit code: {0}"},{name:"InvalidRate",message:"Invalid exchange rate: {0}"}]},{name:"Transaction",message:"Internal Error on Transaction {0}",errors:[{name:"Input",message:"Internal Error on Input {0}",errors:[{name:"MissingScript",message:"Need a script to create an input"},{name:"UnsupportedScript",message:"Unsupported input script type: {0}"},{name:"MissingPreviousOutput",message:"No previous output information."}]},{name:"NeedMoreInfo",message:"{0}"},{name:"InvalidSorting",message:"The sorting function provided did not return the change output as one of the array elements"},{name:"InvalidOutputAmountSum",message:"{0}"},{name:"MissingSignatures",message:"Some inputs have not been fully signed"},{name:"InvalidIndex",message:"Invalid index: {0} is not between 0, {1}"},{name:"UnableToVerifySignature",message:"Unable to verify signature: {0}"},{name:"DustOutputs",message:"Dust amount detected in one output"},{name:"InvalidSatoshis",message:"Output satoshis are invalid"},{name:"FeeError",message:"Internal Error on Fee {0}",errors:[{name:"TooSmall",message:"Fee is too small: {0}"},{name:"TooLarge",message:"Fee is too large: {0}"},{name:"Different",message:"Unspent value is different from specified fee: {0}"}]},{name:"ChangeAddressMissing",message:"Change address is missing"},{name:"BlockHeightTooHigh",message:"Block Height can be at most 2^32 -1"},{name:"NLockTimeOutOfRange",message:"Block Height can only be between 0 and 499 999 999"},{name:"LockTimeTooEarly",message:"Lock Time can't be earlier than UNIX date 500 000 000"}]},{name:"Script",message:"Internal Error on Script {0}",errors:[{name:"UnrecognizedAddress",message:"Expected argument {0} to be an address"},{name:"CantDeriveAddress",message:"Can't derive address associated with script {0}, needs to be p2pkh in, p2pkh out, p2sh in, or p2sh out."},{name:"InvalidBuffer",message:"Invalid script buffer: can't parse valid script from given buffer {0}"}]},{name:"HDPrivateKey",message:"Internal Error on HDPrivateKey {0}",errors:[{name:"InvalidDerivationArgument",message:"Invalid derivation argument {0}, expected string, or number and boolean"},{name:"InvalidEntropyArgument",message:"Invalid entropy: must be an hexa string or binary buffer, got {0}",errors:[{name:"TooMuchEntropy",message:'Invalid entropy: more than 512 bits is non standard, got "{0}"'},{name:"NotEnoughEntropy",message:'Invalid entropy: at least 128 bits needed, got "{0}"'}]},{name:"InvalidLength",message:"Invalid length for xprivkey string in {0}"},{name:"InvalidPath",message:"Invalid derivation path: {0}"},{name:"UnrecognizedArgument",message:'Invalid argument: creating a HDPrivateKey requires a string, buffer, json or object, got "{0}"'}]},{name:"HDPublicKey",message:"Internal Error on HDPublicKey {0}",errors:[{name:"ArgumentIsPrivateExtended",message:"Argument is an extended private key: {0}"},{name:"InvalidDerivationArgument",message:"Invalid derivation argument: got {0}"},{name:"InvalidLength",message:'Invalid length for xpubkey: got "{0}"'},{name:"InvalidPath",message:'Invalid derivation path, it should look like: "m/1/100", got "{0}"'},{name:"InvalidIndexCantDeriveHardened",message:"Invalid argument: creating a hardened path requires an HDPrivateKey"},{name:"MustSupplyArgument",message:"Must supply an argument to create a HDPublicKey"},{name:"UnrecognizedArgument",message:"Invalid argument for creation, must be string, json, buffer, or object"}]}]},function(t){t.exports={_args:[["zcash-bitcore-lib@0.13.20-rc3","/Users/wangyiyi/github/ribbit"]],_from:"zcash-bitcore-lib@0.13.20-rc3",_id:"zcash-bitcore-lib@0.13.20-rc3",_inBundle:!1,_integrity:"sha1-gToPVtz4t2vBQplRvqbRI2xQcAg=",_location:"/zcash-bitcore-lib",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"zcash-bitcore-lib@0.13.20-rc3",name:"zcash-bitcore-lib",escapedName:"zcash-bitcore-lib",rawSpec:"0.13.20-rc3",saveSpec:null,fetchSpec:"0.13.20-rc3"},_requiredBy:["/ipld-zcash"],_resolved:"https://registry.npmjs.org/zcash-bitcore-lib/-/zcash-bitcore-lib-0.13.20-rc3.tgz",_spec:"0.13.20-rc3",_where:"/Users/wangyiyi/github/ribbit",author:{name:"BitPay",email:"dev@bitpay.com"},browser:{request:"browser-request"},bugs:{url:"https://github.com/bitmex/zcash-bitcore-lib/issues"},contributors:[{name:"Daniel Cousens",email:"bitcoin@dcousens.com"},{name:"Esteban Ordano",email:"eordano@gmail.com"},{name:"Gordon Hall",email:"gordon@bitpay.com"},{name:"Jeff Garzik",email:"jgarzik@bitpay.com"},{name:"Kyle Drake",email:"kyle@kyledrake.net"},{name:"Manuel Araoz",email:"manuelaraoz@gmail.com"},{name:"Matias Alejo Garcia",email:"ematiu@gmail.com"},{name:"Ryan X. Charles",email:"ryanxcharles@gmail.com"},{name:"Stefan Thomas",email:"moon@justmoon.net"},{name:"Stephen Pair",email:"stephen@bitpay.com"},{name:"Wei Lu",email:"luwei.here@gmail.com"},{name:"Jack Grigg",email:"jack@z.cash"}],dependencies:{"bn.js":"=2.0.4",bs58:"=2.0.0","buffer-compare":"=1.0.0",elliptic:"=3.0.3",inherits:"=2.0.1",lodash:"=3.10.1"},description:"A pure and powerful JavaScript Zcash library.",devDependencies:{brfs:"^1.2.0",chai:"^1.10.0",gulp:"^3.8.10",sinon:"^1.13.0","zcash-bitcore-build":"^0.5.4"},homepage:"https://github.com/bitmex/zcash-bitcore-lib#readme",keywords:["zcash","transaction","address","p2p","ecies","cryptocurrency","blockchain","payment","bip21","bip32","bip37","bip69","bip70","multisig"],license:"MIT",main:"index.js",name:"zcash-bitcore-lib",repository:{type:"git",url:"git+https://github.com/bitmex/zcash-bitcore-lib.git"},scripts:{build:"gulp",coverage:"gulp coverage",lint:"gulp lint",test:"gulp test"},version:"0.13.20-rc3"}},function(t,e,r){"use strict";(function(e,n){var i=t.exports;i.version="v"+r(1187).version,i.versionGuard=function(t){if(void 0!==t);},i.versionGuard(e._bitcore),e._bitcore=i.version,i.crypto={},i.crypto.BN=r(32),i.crypto.ECDSA=r(519),i.crypto.Hash=r(40),i.crypto.Random=r(193),i.crypto.Point=r(124),i.crypto.Signature=r(58),i.encoding={},i.encoding.Base58=r(195),i.encoding.Base58Check=r(148),i.encoding.BufferReader=r(84),i.encoding.BufferWriter=r(52),i.encoding.Varint=r(1159),i.util={},i.util.buffer=r(21),i.util.js=r(28),i.util.preconditions=r(16),i.errors=r(59),i.Address=r(96),i.Block=r(1158),i.MerkleBlock=r(515),i.BlockHeader=r(192),i.HDPrivateKey=r(514),i.HDPublicKey=r(513),i.Networks=r(97),i.Opcode=r(306),i.PrivateKey=r(196),i.PublicKey=r(64),i.Script=r(57),i.Transaction=r(194),i.URI=r(1156),i.Unit=r(303),i.deps={},i.deps.bnjs=r(75),i.deps.bs58=r(518),i.deps.Buffer=n,i.deps.elliptic=r(65),i.deps._=r(14),i._HDKeyCache=r(302),i.Transaction.sighash=r(83)}).call(this,r(7),r(0).Buffer)},function(t,e,r){"use strict";const n=r(520),i=(t,e)=>{switch(e){case"version":return t.version;case"timestamp":return t.time;case"difficulty":return t.bits;case"nonce":return t.nonce;case"solution":return t.solution;case"reserved":return t.reserved;case"parent":return{"/":n.hashToCid(t.prevHash)};case"tx":return{"/":n.hashToCid(t.merkleRoot)};default:return null}};t.exports={multicodec:"zcash-block",resolve:(t,e,r)=>{"function"==typeof e&&(r=e,e=void 0),n.deserialize(t,(t,n)=>{if(t)return r(t);if(!e)return r(null,{value:n,remainderPath:""});const o=e.split("/"),s=i(n.header,o[0]);if(null===s)return r(new Error("No such path"),null);let a=o.slice(1).join("/");return void 0!==s["/"]?r(null,{value:s,remainderPath:a}):a.length>0?r(new Error("No such path"),null):r(null,{value:s,remainderPath:""})})},tree:(t,e,r)=>{"function"==typeof e&&(r=e,e=void 0),e=e||{},n.deserialize(t,(t,n)=>{if(t)return r(t);const o=["version","timestamp","difficulty","nonce","solution","reserved","parent","tx"];if(!0===e.values){const t={};for(let e of o)t[e]=i(n.header,e);return r(null,t)}return r(null,o)})}}},function(t,e,r){"use strict";e.resolver=r(1189),e.util=r(520)},function(t,e,r){"use strict";const n=r(18);t.exports={resolver:{multicodec:"raw",resolve:(t,e,r)=>{r(null,{value:t,remainderPath:""})},tree:(t,e,r)=>{r(null,[])}},util:{deserialize:(t,e)=>{e(null,t)},serialize:(t,e)=>{e(null,t)},cid:(t,e)=>{e(null,new n(1,"raw",t))}}}},function(t,e,r){"use strict";const n=r(521),i=r(307)("eth-tx-trie",n);t.exports=i},function(t){t.exports={genesisGasLimit:{v:5e3,d:"Gas limit of the Genesis block."},genesisDifficulty:{v:17179869184,d:"Difficulty of the Genesis block."},genesisNonce:{v:"0x0000000000000042",d:"the geneis nonce"},genesisExtraData:{v:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa",d:"extra data "},genesisHash:{v:"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3",d:"genesis hash"},genesisStateRoot:{v:"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544",d:"the genesis state root"},minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be."},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations."},minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be."},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations."},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not."},maximumExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis."},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs."},stackLimit:{v:1024,d:"Maximum size of VM stack allowed."},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack."},tierStepGas:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them."},expGas:{v:10,d:"Once per EXP instuction."},expByteGas:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction."},sha3Gas:{v:30,d:"Once per SHA3 operation."},sha3WordGas:{v:6,d:"Once per word of the SHA3 operation's data."},sloadGas:{v:50,d:"Once per SLOAD operation."},sstoreSetGas:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero."},sstoreResetGas:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero."},sstoreRefundGas:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero."},jumpdestGas:{v:1,d:"Refunded gas, once per SSTORE operation if the zeroness changes to zero."},logGas:{v:375,d:"Per LOG* operation."},logDataGas:{v:8,d:"Per byte in a LOG* operation's data."},logTopicGas:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas."},createGas:{v:32e3,d:"Once per CREATE operation & contract-creation transaction."},callGas:{v:40,d:"Once per CALL operation & message call transaction."},callStipend:{v:2300,d:"Free gas given at beginning of call."},callValueTransferGas:{v:9e3,d:"Paid for CALL when the value transfor is non-zero."},callNewAccountGas:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior."},suicideRefundGas:{v:24e3,d:"Refunded following a suicide operation."},memoryGas:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL."},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation."},createDataGas:{v:200,d:""},txGas:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions."},txCreation:{v:32e3,d:"the cost of creating a contract via tx"},txDataZeroGas:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions."},txDataNonZeroGas:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions."},copyGas:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added."},ecrecoverGas:{v:3e3,d:""},sha256Gas:{v:60,d:""},sha256WordGas:{v:12,d:""},ripemd160Gas:{v:600,d:""},ripemd160WordGas:{v:120,d:""},identityGas:{v:15,d:""},identityWordGas:{v:3,d:""},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},ommerReward:{v:"625000000000000000",d:"The amount of wei a miner of an uncle block gets for being inculded in the blockchain"},niblingReward:{v:"156250000000000000",d:"the amount a miner gets for inculding a uncle"},homeSteadForkNumber:{v:115e4,d:"the block that the Homestead fork started at"},homesteadRepriceForkNumber:{v:2463e3,d:"the block that the Homestead Reprice (EIP150) fork started at"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},freeBlockPeriod:{v:2}}},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(309),o=r(200),s=r(17),a=r(85),u=r(19),c=r(51),f=r(3).Buffer;Object.assign(e,r(308)),e.MAX_INTEGER=new u("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new u("10000000000000000000000000000000000000000000000000000000000000000",16),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.SHA3_NULL_S=e.KECCAK256_NULL_S,e.KECCAK256_NULL=f.from(e.KECCAK256_NULL_S,"hex"),e.SHA3_NULL=e.KECCAK256_NULL,e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.SHA3_RLP_ARRAY_S=e.KECCAK256_RLP_ARRAY_S,e.KECCAK256_RLP_ARRAY=f.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.SHA3_RLP_ARRAY=e.KECCAK256_RLP_ARRAY,e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.SHA3_RLP_S=e.KECCAK256_RLP_S,e.KECCAK256_RLP=f.from(e.KECCAK256_RLP_S,"hex"),e.SHA3_RLP=e.KECCAK256_RLP,e.BN=u,e.rlp=a,e.secp256k1=o,e.zeros=function(t){return f.allocUnsafe(t).fill(0)},e.zeroAddress=function(){var t=e.zeros(20);return e.bufferToHex(t)},e.setLengthLeft=e.setLength=function(t,r,n){var i=e.zeros(r);return t=e.toBuffer(t),n?t.length<r?(t.copy(i),i):t.slice(0,r):t.length<r?(t.copy(i,r-t.length),i):t.slice(-r)},e.setLengthRight=function(t,r){return e.setLength(t,r,!0)},e.unpad=e.stripZeros=function(t){for(var r=(t=e.stripHexPrefix(t))[0];t.length>0&&"0"===r.toString();)r=(t=t.slice(1))[0];return t},e.toBuffer=function(t){if(!f.isBuffer(t))if(Array.isArray(t))t=f.from(t);else if("string"==typeof t)t=e.isHexString(t)?f.from(e.padToEven(e.stripHexPrefix(t)),"hex"):f.from(t);else if("number"==typeof t)t=e.intToBuffer(t);else if(null===t||void 0===t)t=f.allocUnsafe(0);else if(u.isBN(t))t=t.toArrayLike(f);else{if(!t.toArray)throw new Error("invalid type");t=f.from(t.toArray())}return t},e.bufferToInt=function(t){return new u(e.toBuffer(t)).toNumber()},e.bufferToHex=function(t){return"0x"+(t=e.toBuffer(t)).toString("hex")},e.fromSigned=function(t){return new u(t).fromTwos(256)},e.toUnsigned=function(t){return f.from(t.toTwos(256).toArray())},e.keccak=function(t,r){return t=e.toBuffer(t),r||(r=256),i("keccak"+r).update(t).digest()},e.keccak256=function(t){return e.keccak(t)},e.sha3=e.keccak,e.sha256=function(t){return t=e.toBuffer(t),c("sha256").update(t).digest()},e.ripemd160=function(t,r){t=e.toBuffer(t);var n=c("rmd160").update(t).digest();return!0===r?e.setLength(n,32):n},e.rlphash=function(t){return e.keccak(a.encode(t))},e.isValidPrivate=function(t){return o.privateKeyVerify(t)},e.isValidPublic=function(t,e){return 64===t.length?o.publicKeyVerify(f.concat([f.from([4]),t])):!!e&&o.publicKeyVerify(t)},e.pubToAddress=e.publicToAddress=function(t,r){return t=e.toBuffer(t),r&&64!==t.length&&(t=o.publicKeyConvert(t,!1).slice(1)),s(64===t.length),e.keccak(t).slice(-20)};var l=e.privateToPublic=function(t){return t=e.toBuffer(t),o.publicKeyCreate(t,!1).slice(1)};e.importPublic=function(t){return 64!==(t=e.toBuffer(t)).length&&(t=o.publicKeyConvert(t,!1).slice(1)),t},e.ecsign=function(t,e){var r=o.sign(t,e),n={};return n.r=r.signature.slice(0,32),n.s=r.signature.slice(32,64),n.v=r.recovery+27,n},e.hashPersonalMessage=function(t){var r=e.toBuffer("Ethereum Signed Message:\n"+t.length.toString());return e.keccak(f.concat([r,t]))},e.ecrecover=function(t,r,n,i){var s=f.concat([e.setLength(n,32),e.setLength(i,32)],64),a=r-27;if(0!==a&&1!==a)throw new Error("Invalid signature v value");var u=o.recover(t,s,a);return o.publicKeyConvert(u,!1).slice(1)},e.toRpcSig=function(t,r,n){if(27!==t&&28!==t)throw new Error("Invalid recovery id");return e.bufferToHex(f.concat([e.setLengthLeft(r,32),e.setLengthLeft(n,32),e.toBuffer(t-27)]))},e.fromRpcSig=function(t){if(65!==(t=e.toBuffer(t)).length)throw new Error("Invalid signature length");var r=t[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},e.privateToAddress=function(t){return e.publicToAddress(l(t))},e.isValidAddress=function(t){return/^0x[0-9a-fA-F]{40}$/.test(t)},e.isZeroAddress=function(t){return e.zeroAddress()===e.addHexPrefix(t)},e.toChecksumAddress=function(t){t=e.stripHexPrefix(t).toLowerCase();for(var r=e.keccak(t).toString("hex"),n="0x",i=0;i<t.length;i++)parseInt(r[i],16)>=8?n+=t[i].toUpperCase():n+=t[i];return n},e.isValidChecksumAddress=function(t){return e.isValidAddress(t)&&e.toChecksumAddress(t)===t},e.generateAddress=function(t,r){return t=e.toBuffer(t),r=(r=new u(r)).isZero()?null:f.from(r.toArray()),e.rlphash([t,r]).slice(-20)},e.isPrecompiled=function(t){var r=e.unpad(t);return 1===r.length&&r[0]>=1&&r[0]<=8},e.addHexPrefix=function(t){return"string"!=typeof t?t:e.isHexPrefixed(t)?t:"0x"+t},e.isValidSignature=function(t,e,r,n){var i=new u("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),o=new u("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return 32===e.length&&32===r.length&&((27===t||28===t)&&(e=new u(e),r=new u(r),!(e.isZero()||e.gt(o)||r.isZero()||r.gt(o))&&(!1!==n||1!==new u(r).cmp(i))))},e.baToJSON=function(t){if(f.isBuffer(t))return"0x"+t.toString("hex");if(t instanceof Array){for(var r=[],n=0;n<t.length;n++)r.push(e.baToJSON(t[n]));return r}},e.defineProperties=function(t,r,i){if(t.raw=[],t._fields=[],t.toJSON=function(r){if(r){var n={};return t._fields.forEach(function(e){n[e]="0x"+t[e].toString("hex")}),n}return e.baToJSON(this.raw)},t.serialize=function(){return a.encode(t.raw)},r.forEach(function(r,n){function i(){return t.raw[n]}function o(i){"00"!==(i=e.toBuffer(i)).toString("hex")||r.allowZero||(i=f.allocUnsafe(0)),r.allowLess&&r.length?(i=e.stripZeros(i),s(r.length>=i.length,"The field "+r.name+" must not have more "+r.length+" bytes")):r.allowZero&&0===i.length||!r.length||s(r.length===i.length,"The field "+r.name+" must have byte length of "+r.length),t.raw[n]=i}t._fields.push(r.name),Object.defineProperty(t,r.name,{enumerable:!0,configurable:!0,get:i,set:o}),r.default&&(t[r.name]=r.default),r.alias&&Object.defineProperty(t,r.alias,{enumerable:!1,configurable:!0,set:o,get:i})}),i)if("string"==typeof i&&(i=f.from(e.stripHexPrefix(i),"hex")),f.isBuffer(i)&&(i=a.decode(i)),Array.isArray(i)){if(i.length>t._fields.length)throw new Error("wrong number of fields in data");i.forEach(function(r,n){t[t._fields[n]]=e.toBuffer(r)})}else{if("object"!==(void 0===i?"undefined":n(i)))throw new Error("invalid data");var o=Object.keys(i);r.forEach(function(e){-1!==o.indexOf(e.name)&&(t[e.name]=i[e.name]),-1!==o.indexOf(e.alias)&&(t[e.alias]=i[e.alias])})}}},function(t,e,r){"use strict";(function(e){var n=r(1194),i=r(1193),o=n.BN,s=new o("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),a=function(){function t(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=r||{};var i=[{name:"nonce",length:32,allowLess:!0,default:new e([])},{name:"gasPrice",length:32,allowLess:!0,default:new e([])},{name:"gasLimit",alias:"gas",length:32,allowLess:!0,default:new e([])},{name:"to",allowZero:!0,length:20,default:new e([])},{name:"value",length:32,allowLess:!0,default:new e([])},{name:"data",alias:"input",allowZero:!0,default:new e([])},{name:"v",allowZero:!0,default:new e([28])},{name:"r",length:32,allowZero:!0,allowLess:!0,default:new e([])},{name:"s",length:32,allowZero:!0,allowLess:!0,default:new e([])}];n.defineProperties(this,i,r),Object.defineProperty(this,"from",{enumerable:!0,configurable:!0,get:this.getSenderAddress.bind(this)});var o=n.bufferToInt(this.v),s=Math.floor((o-35)/2);s<0&&(s=0),this._chainId=s||r.chainId||0,this._homestead=!0}return t.prototype.toCreationAddress=function(){return""===this.to.toString("hex")},t.prototype.hash=function(t){void 0===t&&(t=!0);var e=void 0;if(t)e=this.raw;else if(this._chainId>0){var r=this.raw.slice();this.v=this._chainId,this.r=0,this.s=0,e=this.raw,this.raw=r}else e=this.raw.slice(0,6);return n.rlphash(e)},t.prototype.getChainId=function(){return this._chainId},t.prototype.getSenderAddress=function(){if(this._from)return this._from;var t=this.getSenderPublicKey();return this._from=n.publicToAddress(t),this._from},t.prototype.getSenderPublicKey=function(){if(!(this._senderPubKey&&this._senderPubKey.length||this.verifySignature()))throw new Error("Invalid Signature");return this._senderPubKey},t.prototype.verifySignature=function(){var t=this.hash(!1);if(this._homestead&&1===new o(this.s).cmp(s))return!1;try{var e=n.bufferToInt(this.v);this._chainId>0&&(e-=2*this._chainId+8),this._senderPubKey=n.ecrecover(t,e,this.r,this.s)}catch(t){return!1}return!!this._senderPubKey},t.prototype.sign=function(t){var e=this.hash(!1),r=n.ecsign(e,t);this._chainId>0&&(r.v+=2*this._chainId+8),Object.assign(this,r)},t.prototype.getDataFee=function(){for(var t=this.raw[5],e=new o(0),r=0;r<t.length;r++)0===t[r]?e.iaddn(i.txDataZeroGas.v):e.iaddn(i.txDataNonZeroGas.v);return e},t.prototype.getBaseFee=function(){var t=this.getDataFee().iaddn(i.txGas.v);return this._homestead&&this.toCreationAddress()&&t.iaddn(i.txCreation.v),t},t.prototype.getUpfrontCost=function(){return new o(this.gasLimit).imul(new o(this.gasPrice)).iadd(new o(this.value))},t.prototype.validate=function(t){var e=[];return this.verifySignature()||e.push("Invalid Signature"),this.getBaseFee().cmp(new o(this.gasLimit))>0&&e.push(["gas limit is too low. Need at least "+this.getBaseFee()]),void 0===t||!1===t?0===e.length:e.join(" ")},t}();t.exports=a}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(307)("eth-storage-trie");t.exports=n},function(t,e){t.exports=function(t){return Boolean(t["/"])}},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(309),o=r(200),s=r(17),a=r(85),u=r(19),c=r(51),f=r(3).Buffer;Object.assign(e,r(308)),e.MAX_INTEGER=new u("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new u("10000000000000000000000000000000000000000000000000000000000000000",16),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.SHA3_NULL_S=e.KECCAK256_NULL_S,e.KECCAK256_NULL=f.from(e.KECCAK256_NULL_S,"hex"),e.SHA3_NULL=e.KECCAK256_NULL,e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.SHA3_RLP_ARRAY_S=e.KECCAK256_RLP_ARRAY_S,e.KECCAK256_RLP_ARRAY=f.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.SHA3_RLP_ARRAY=e.KECCAK256_RLP_ARRAY,e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.SHA3_RLP_S=e.KECCAK256_RLP_S,e.KECCAK256_RLP=f.from(e.KECCAK256_RLP_S,"hex"),e.SHA3_RLP=e.KECCAK256_RLP,e.BN=u,e.rlp=a,e.secp256k1=o,e.zeros=function(t){return f.allocUnsafe(t).fill(0)},e.zeroAddress=function(){var t=e.zeros(20);return e.bufferToHex(t)},e.setLengthLeft=e.setLength=function(t,r,n){var i=e.zeros(r);return t=e.toBuffer(t),n?t.length<r?(t.copy(i),i):t.slice(0,r):t.length<r?(t.copy(i,r-t.length),i):t.slice(-r)},e.setLengthRight=function(t,r){return e.setLength(t,r,!0)},e.unpad=e.stripZeros=function(t){for(var r=(t=e.stripHexPrefix(t))[0];t.length>0&&"0"===r.toString();)r=(t=t.slice(1))[0];return t},e.toBuffer=function(t){if(!f.isBuffer(t))if(Array.isArray(t))t=f.from(t);else if("string"==typeof t)t=e.isHexString(t)?f.from(e.padToEven(e.stripHexPrefix(t)),"hex"):f.from(t);else if("number"==typeof t)t=e.intToBuffer(t);else if(null===t||void 0===t)t=f.allocUnsafe(0);else if(u.isBN(t))t=t.toArrayLike(f);else{if(!t.toArray)throw new Error("invalid type");t=f.from(t.toArray())}return t},e.bufferToInt=function(t){return new u(e.toBuffer(t)).toNumber()},e.bufferToHex=function(t){return"0x"+(t=e.toBuffer(t)).toString("hex")},e.fromSigned=function(t){return new u(t).fromTwos(256)},e.toUnsigned=function(t){return f.from(t.toTwos(256).toArray())},e.keccak=function(t,r){return t=e.toBuffer(t),r||(r=256),i("keccak"+r).update(t).digest()},e.keccak256=function(t){return e.keccak(t)},e.sha3=e.keccak,e.sha256=function(t){return t=e.toBuffer(t),c("sha256").update(t).digest()},e.ripemd160=function(t,r){t=e.toBuffer(t);var n=c("rmd160").update(t).digest();return!0===r?e.setLength(n,32):n},e.rlphash=function(t){return e.keccak(a.encode(t))},e.isValidPrivate=function(t){return o.privateKeyVerify(t)},e.isValidPublic=function(t,e){return 64===t.length?o.publicKeyVerify(f.concat([f.from([4]),t])):!!e&&o.publicKeyVerify(t)},e.pubToAddress=e.publicToAddress=function(t,r){return t=e.toBuffer(t),r&&64!==t.length&&(t=o.publicKeyConvert(t,!1).slice(1)),s(64===t.length),e.keccak(t).slice(-20)};var l=e.privateToPublic=function(t){return t=e.toBuffer(t),o.publicKeyCreate(t,!1).slice(1)};e.importPublic=function(t){return 64!==(t=e.toBuffer(t)).length&&(t=o.publicKeyConvert(t,!1).slice(1)),t},e.ecsign=function(t,e){var r=o.sign(t,e),n={};return n.r=r.signature.slice(0,32),n.s=r.signature.slice(32,64),n.v=r.recovery+27,n},e.hashPersonalMessage=function(t){var r=e.toBuffer("Ethereum Signed Message:\n"+t.length.toString());return e.keccak(f.concat([r,t]))},e.ecrecover=function(t,r,n,i){var s=f.concat([e.setLength(n,32),e.setLength(i,32)],64),a=r-27;if(0!==a&&1!==a)throw new Error("Invalid signature v value");var u=o.recover(t,s,a);return o.publicKeyConvert(u,!1).slice(1)},e.toRpcSig=function(t,r,n){if(27!==t&&28!==t)throw new Error("Invalid recovery id");return e.bufferToHex(f.concat([e.setLengthLeft(r,32),e.setLengthLeft(n,32),e.toBuffer(t-27)]))},e.fromRpcSig=function(t){if(65!==(t=e.toBuffer(t)).length)throw new Error("Invalid signature length");var r=t[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},e.privateToAddress=function(t){return e.publicToAddress(l(t))},e.isValidAddress=function(t){return/^0x[0-9a-fA-F]{40}$/.test(t)},e.isZeroAddress=function(t){return e.zeroAddress()===e.addHexPrefix(t)},e.toChecksumAddress=function(t){t=e.stripHexPrefix(t).toLowerCase();for(var r=e.keccak(t).toString("hex"),n="0x",i=0;i<t.length;i++)parseInt(r[i],16)>=8?n+=t[i].toUpperCase():n+=t[i];return n},e.isValidChecksumAddress=function(t){return e.isValidAddress(t)&&e.toChecksumAddress(t)===t},e.generateAddress=function(t,r){return t=e.toBuffer(t),r=(r=new u(r)).isZero()?null:f.from(r.toArray()),e.rlphash([t,r]).slice(-20)},e.isPrecompiled=function(t){var r=e.unpad(t);return 1===r.length&&r[0]>=1&&r[0]<=8},e.addHexPrefix=function(t){return"string"!=typeof t?t:e.isHexPrefixed(t)?t:"0x"+t},e.isValidSignature=function(t,e,r,n){var i=new u("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),o=new u("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return 32===e.length&&32===r.length&&((27===t||28===t)&&(e=new u(e),r=new u(r),!(e.isZero()||e.gt(o)||r.isZero()||r.gt(o))&&(!1!==n||1!==new u(r).cmp(i))))},e.baToJSON=function(t){if(f.isBuffer(t))return"0x"+t.toString("hex");if(t instanceof Array){for(var r=[],n=0;n<t.length;n++)r.push(e.baToJSON(t[n]));return r}},e.defineProperties=function(t,r,i){if(t.raw=[],t._fields=[],t.toJSON=function(r){if(r){var n={};return t._fields.forEach(function(e){n[e]="0x"+t[e].toString("hex")}),n}return e.baToJSON(this.raw)},t.serialize=function(){return a.encode(t.raw)},r.forEach(function(r,n){function i(){return t.raw[n]}function o(i){"00"!==(i=e.toBuffer(i)).toString("hex")||r.allowZero||(i=f.allocUnsafe(0)),r.allowLess&&r.length?(i=e.stripZeros(i),s(r.length>=i.length,"The field "+r.name+" must not have more "+r.length+" bytes")):r.allowZero&&0===i.length||!r.length||s(r.length===i.length,"The field "+r.name+" must have byte length of "+r.length),t.raw[n]=i}t._fields.push(r.name),Object.defineProperty(t,r.name,{enumerable:!0,configurable:!0,get:i,set:o}),r.default&&(t[r.name]=r.default),r.alias&&Object.defineProperty(t,r.alias,{enumerable:!1,configurable:!0,set:o,get:i})}),i)if("string"==typeof i&&(i=f.from(e.stripHexPrefix(i),"hex")),f.isBuffer(i)&&(i=a.decode(i)),Array.isArray(i)){if(i.length>t._fields.length)throw new Error("wrong number of fields in data");i.forEach(function(r,n){t[t._fields[n]]=e.toBuffer(r)})}else{if("object"!==(void 0===i?"undefined":n(i)))throw new Error("invalid data");var o=Object.keys(i);r.forEach(function(e){-1!==o.indexOf(e.name)&&(t[e.name]=i[e.name]),-1!==o.indexOf(e.alias)&&(t[e.alias]=i[e.alias])})}}},function(t,e,r){(function(e){const n=r(85),i=r(1198);function o(t,e,r){if(Array.isArray(t))this.parseNode(t);else if(this.type=t,"branch"===t){var n=e;this.raw=Array.apply(null,Array(17)),n&&n.forEach(function(t){this.set.apply(this,t)})}else this.raw=Array(2),this.setValue(r),this.setKey(e)}function s(t,e){return t.length%2?t.unshift(1):(t.unshift(0),t.unshift(0)),e&&(t[0]+=2),t}function a(t){return t=t[0]%2?t.slice(1):t.slice(2)}function u(t){return t[0]>1}function c(t){for(var r=new e(t),n=[],i=0;i<r.length;i++){var o=2*i;n[o]=r[i]>>4,n[++o]=r[i]%16}return n}function f(t){for(var r=new e(t.length/2),n=0;n<r.length;n++){var i=2*n;r[n]=(t[i]<<4)+t[++i]}return r}function l(t){return 17===t.length?"branch":2===t.length?u(c(t[0]))?"leaf":"extention":void 0}t.exports=o,o.isRawNode=function(t){return Array.isArray(t)&&!e.isBuffer(t)},o.addHexPrefix=s,o.removeHexPrefix=a,o.isTerminator=u,o.stringToNibbles=c,o.nibblesToBuffer=f,o.getNodeType=l,Object.defineProperty(o.prototype,"value",{get:function(){return this.getValue()},set:function(t){this.setValue(t)}}),Object.defineProperty(o.prototype,"key",{get:function(){return this.getKey()},set:function(t){this.setKey(t)}}),o.prototype.parseNode=function(t){this.raw=t,this.type=l(t)},o.prototype.setValue=function(t,e){"branch"!==this.type?this.raw[1]=t:(1===arguments.length&&(e=t,t=16),this.raw[t]=e)},o.prototype.getValue=function(t){if("branch"!==this.type)return this.raw[1];0===arguments.length&&(t=16);var e=this.raw[t];return null!==e&&void 0!==e&&0!==e.length?e:void 0},o.prototype.setKey=function(t){"branch"!==this.type&&(t=s(t=e.isBuffer(t)?c(t):t.slice(0),"leaf"===this.type),this.raw[0]=f(t))},o.prototype.getKey=function(){if("branch"!==this.type){var t=this.raw[0];return t=a(c(t))}},o.prototype.serialize=function(){return n.encode(this.raw)},o.prototype.hash=function(){return i.sha3(this.serialize())},o.prototype.toString=function(){var t=this.type;return t+=": [",this.raw.forEach(function(r){e.isBuffer(r)?t+=r.toString("hex")+", ":t+=r?"object, ":"empty, "}),t=t.slice(0,-2),t+="]"},o.prototype.getChildren=function(){var t=[];switch(this.type){case"leaf":break;case"extention":t.push([this.key,this.getValue()]);break;case"branch":for(var e=0;e<16;e++){var r=this.getValue(e);r&&t.push([[e],r])}}return t}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(530),i=r(307)("eth-state-trie",n);t.exports=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,n){return t(e,n)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(r,n,i){return t(r,e,n,i)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return n&&t[n]&&t[n]()};var n="function"==typeof Symbol&&Symbol.iterator;t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,n.default)(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e=(0,i.default)(t);return e?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(e):(r=t,s=(0,o.default)(r),a=-1,u=s.length,function(){var t=s[++a];return a<u?{value:r[t],key:t}:null});var r,s,a,u};var n=s(r(10)),i=s(r(1203)),o=s(r(46));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,u){if(u=(0,i.default)(u||n.default),t<=0||!e)return u(null);var c=(0,o.default)(e),f=!1,l=0;function h(t,e){if(l-=1,t)f=!0,u(t);else{if(e===a.default||f&&l<=0)return f=!0,u(null);p()}}function p(){for(;l<t&&!f;){var e=c();if(null===e)return f=!0,void(l<=0&&u(null));l+=1,r(e.value,e.key,(0,s.default)(h))}}p()}};var n=u(r(4)),i=u(r(312)),o=u(r(1204)),s=u(r(310)),a=u(r(522));function u(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,o){(0,n.default)(e)(t,(0,i.default)(r),o)};var n=o(r(1205)),i=o(r(199));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){((0,n.default)(t)?h:p)(t,(0,f.default)(e),r)};var n=l(r(10)),i=l(r(522)),o=l(r(1206)),s=l(r(1202)),a=l(r(4)),u=l(r(312)),c=l(r(310)),f=l(r(199));function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e,r){r=(0,u.default)(r||a.default);var n=0,o=0,s=t.length;function f(t,e){t?r(t):++o!==s&&e!==i.default||r(null)}for(0===s&&r(null);n<s;n++)e(t[n],n,(0,c.default)(f))}var p=(0,s.default)(o.default,1/0);t.exports=e.default},function(t,e,r){"use strict";const n=r(313),i=r(523),o=r(198),s=r(85),a=r(524),u=r(53),c=r(150),f=r(525).resolver,l=r(149)("eth-block-list",void 0,function(t,e,r){let n=[];n.push({path:"count",value:t.length}),i(t,(e,r)=>{const i=t.indexOf(e),o=i.toString();n.push({path:o,value:e}),f._mapFromEthObject(e,{},(t,e)=>{if(t)return r(t);e.forEach(t=>t.path=o+"/"+t.path),n=n.concat(e),r()})},t=>{if(t)return r(t);r(null,n)})}),h=l.util;h.serialize=o(t=>{const e=t.map(t=>t.raw);return s.encode(e)}),h.deserialize=o(t=>{return s.decode(t).map(t=>new a(t))}),h.cid=((t,e)=>{n([e=>h.serialize(t,e),(t,e)=>u.digest(t,"keccak-256",e),o(t=>c("eth-block-list",t))],e)}),t.exports=l},function(t){t.exports={genesisGasLimit:{v:5e3,d:"Gas limit of the Genesis block."},genesisDifficulty:{v:17179869184,d:"Difficulty of the Genesis block."},genesisNonce:{v:"0x0000000000000042",d:"the geneis nonce"},genesisExtraData:{v:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa",d:"extra data "},genesisHash:{v:"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3",d:"genesis hash"},genesisStateRoot:{v:"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544",d:"the genesis state root"},minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be."},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations."},minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be."},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations."},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not."},maximumExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis."},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs."},stackLimit:{v:1024,d:"Maximum size of VM stack allowed."},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack."},tierStepGas:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them."},expGas:{v:10,d:"Once per EXP instuction."},expByteGas:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction."},sha3Gas:{v:30,d:"Once per SHA3 operation."},sha3WordGas:{v:6,d:"Once per word of the SHA3 operation's data."},sloadGas:{v:50,d:"Once per SLOAD operation."},sstoreSetGas:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero."},sstoreResetGas:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero."},sstoreRefundGas:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero."},jumpdestGas:{v:1,d:"Refunded gas, once per SSTORE operation if the zeroness changes to zero."},logGas:{v:375,d:"Per LOG* operation."},logDataGas:{v:8,d:"Per byte in a LOG* operation's data."},logTopicGas:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas."},createGas:{v:32e3,d:"Once per CREATE operation & contract-creation transaction."},callGas:{v:40,d:"Once per CALL operation & message call transaction."},callStipend:{v:2300,d:"Free gas given at beginning of call."},callValueTransferGas:{v:9e3,d:"Paid for CALL when the value transfor is non-zero."},callNewAccountGas:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior."},suicideRefundGas:{v:24e3,d:"Refunded following a suicide operation."},memoryGas:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL."},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation."},createDataGas:{v:200,d:""},txGas:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions."},txCreation:{v:32e3,d:"the cost of creating a contract via tx"},txDataZeroGas:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions."},txDataNonZeroGas:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions."},copyGas:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added."},ecrecoverGas:{v:3e3,d:""},sha256Gas:{v:60,d:""},sha256WordGas:{v:12,d:""},ripemd160Gas:{v:600,d:""},ripemd160WordGas:{v:120,d:""},identityGas:{v:15,d:""},identityWordGas:{v:3,d:""},modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation."},ecAddGas:{v:500,d:"Gas costs for curve addition precompile."},ecMulGas:{v:4e4,d:"Gas costs for curve multiplication precompile."},ecPairingGas:{v:1e5,d:"Base gas costs for curve pairing precompile."},ecPairingWordGas:{v:8e4,d:"Gas costs regarding curve pairing precompile input length."},minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},homeSteadForkNumber:{v:115e4,d:"the block that the Homestead fork started at"},homesteadRepriceForkNumber:{v:2463e3,d:"the block that the Homestead Reprice (EIP150) fork started at"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},freeBlockPeriod:{v:2}}},function(t,e,r){"use strict";var n=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];e.p1600=function(t){for(var e=0;e<24;++e){var r=t[0]^t[10]^t[20]^t[30]^t[40],i=t[1]^t[11]^t[21]^t[31]^t[41],o=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],a=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],f=t[7]^t[17]^t[27]^t[37]^t[47],l=t[8]^t[18]^t[28]^t[38]^t[48],h=t[9]^t[19]^t[29]^t[39]^t[49],p=l^(o<<1|s>>>31),d=h^(s<<1|o>>>31),m=t[0]^p,g=t[1]^d,v=t[10]^p,y=t[11]^d,b=t[20]^p,w=t[21]^d,_=t[30]^p,k=t[31]^d,S=t[40]^p,x=t[41]^d;p=r^(a<<1|u>>>31),d=i^(u<<1|a>>>31);var E=t[2]^p,C=t[3]^d,A=t[12]^p,M=t[13]^d,I=t[22]^p,T=t[23]^d,O=t[32]^p,B=t[33]^d,P=t[42]^p,N=t[43]^d;p=o^(c<<1|f>>>31),d=s^(f<<1|c>>>31);var R=t[4]^p,F=t[5]^d,j=t[14]^p,L=t[15]^d,D=t[24]^p,U=t[25]^d,z=t[34]^p,H=t[35]^d,K=t[44]^p,q=t[45]^d;p=a^(l<<1|h>>>31),d=u^(h<<1|l>>>31);var V=t[6]^p,W=t[7]^d,G=t[16]^p,Y=t[17]^d,$=t[26]^p,Z=t[27]^d,X=t[36]^p,J=t[37]^d,Q=t[46]^p,tt=t[47]^d;p=c^(r<<1|i>>>31),d=f^(i<<1|r>>>31);var et=t[8]^p,rt=t[9]^d,nt=t[18]^p,it=t[19]^d,ot=t[28]^p,st=t[29]^d,at=t[38]^p,ut=t[39]^d,ct=t[48]^p,ft=t[49]^d,lt=m,ht=g,pt=y<<4|v>>>28,dt=v<<4|y>>>28,mt=b<<3|w>>>29,gt=w<<3|b>>>29,vt=k<<9|_>>>23,yt=_<<9|k>>>23,bt=S<<18|x>>>14,wt=x<<18|S>>>14,_t=E<<1|C>>>31,kt=C<<1|E>>>31,St=M<<12|A>>>20,xt=A<<12|M>>>20,Et=I<<10|T>>>22,Ct=T<<10|I>>>22,At=B<<13|O>>>19,Mt=O<<13|B>>>19,It=P<<2|N>>>30,Tt=N<<2|P>>>30,Ot=F<<30|R>>>2,Bt=R<<30|F>>>2,Pt=j<<6|L>>>26,Nt=L<<6|j>>>26,Rt=U<<11|D>>>21,Ft=D<<11|U>>>21,jt=z<<15|H>>>17,Lt=H<<15|z>>>17,Dt=q<<29|K>>>3,Ut=K<<29|q>>>3,zt=V<<28|W>>>4,Ht=W<<28|V>>>4,Kt=Y<<23|G>>>9,qt=G<<23|Y>>>9,Vt=$<<25|Z>>>7,Wt=Z<<25|$>>>7,Gt=X<<21|J>>>11,Yt=J<<21|X>>>11,$t=tt<<24|Q>>>8,Zt=Q<<24|tt>>>8,Xt=et<<27|rt>>>5,Jt=rt<<27|et>>>5,Qt=nt<<20|it>>>12,te=it<<20|nt>>>12,ee=st<<7|ot>>>25,re=ot<<7|st>>>25,ne=at<<8|ut>>>24,ie=ut<<8|at>>>24,oe=ct<<14|ft>>>18,se=ft<<14|ct>>>18;t[0]=lt^~St&Rt,t[1]=ht^~xt&Ft,t[10]=zt^~Qt&mt,t[11]=Ht^~te&gt,t[20]=_t^~Pt&Vt,t[21]=kt^~Nt&Wt,t[30]=Xt^~pt&Et,t[31]=Jt^~dt&Ct,t[40]=Ot^~Kt&ee,t[41]=Bt^~qt&re,t[2]=St^~Rt&Gt,t[3]=xt^~Ft&Yt,t[12]=Qt^~mt&At,t[13]=te^~gt&Mt,t[22]=Pt^~Vt&ne,t[23]=Nt^~Wt&ie,t[32]=pt^~Et&jt,t[33]=dt^~Ct&Lt,t[42]=Kt^~ee&vt,t[43]=qt^~re&yt,t[4]=Rt^~Gt&oe,t[5]=Ft^~Yt&se,t[14]=mt^~At&Dt,t[15]=gt^~Mt&Ut,t[24]=Vt^~ne&bt,t[25]=Wt^~ie&wt,t[34]=Et^~jt&$t,t[35]=Ct^~Lt&Zt,t[44]=ee^~vt&It,t[45]=re^~yt&Tt,t[6]=Gt^~oe&lt,t[7]=Yt^~se&ht,t[16]=At^~Dt&zt,t[17]=Mt^~Ut&Ht,t[26]=ne^~bt&_t,t[27]=ie^~wt&kt,t[36]=jt^~$t&Xt,t[37]=Lt^~Zt&Jt,t[46]=vt^~It&Ot,t[47]=yt^~Tt&Bt,t[8]=oe^~lt&St,t[9]=se^~ht&xt,t[18]=Dt^~zt&Qt,t[19]=Ut^~Ht&te,t[28]=bt^~_t&Pt,t[29]=wt^~kt&Nt,t[38]=$t^~Xt&pt,t[39]=Zt^~Jt&dt,t[48]=It^~Ot&Kt,t[49]=Tt^~Bt&qt,t[0]^=n[2*e],t[1]^=n[2*e+1]}}},function(t,e,r){"use strict";var n=r(3).Buffer,i=r(1210);function o(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}o.prototype.initialize=function(t,e){for(var r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1},o.prototype.absorb=function(t){for(var e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0)},o.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<this.count%4*8,0!=(128&t)&&this.count===this.blockSize-1&&i.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,i.p1600(this.state),this.count=0,this.squeezing=!0},o.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);for(var e=n.alloc(t),r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0);return e},o.prototype.copy=function(t){for(var e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing},t.exports=o},function(t,e,r){"use strict";var n=r(3).Buffer,i=r(50).Transform,o=r(6);t.exports=function(t){function e(e,r,n,o){i.call(this,o),this._rate=e,this._capacity=r,this._delimitedSuffix=n,this._options=o,this._state=new t,this._state.initialize(e,r),this._finalized=!1}return o(e,i),e.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(t){n=t}r(n)},e.prototype._flush=function(){},e.prototype._read=function(t){this.push(this.squeeze(t))},e.prototype.update=function(t,e){if(!n.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return n.isBuffer(t)||(t=n.from(t,e)),this._state.absorb(t),this},e.prototype.squeeze=function(t,e){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));var r=this._state.squeeze(t);return void 0!==e&&(r=r.toString(e)),r},e.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},e.prototype._clone=function(){var t=new e(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t},e}},function(t,e,r){"use strict";var n=r(3).Buffer,i=r(50).Transform,o=r(6);t.exports=function(t){function e(e,r,n,o,s){i.call(this,s),this._rate=e,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=o,this._options=s,this._state=new t,this._state.initialize(e,r),this._finalized=!1}return o(e,i),e.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(t){n=t}r(n)},e.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},e.prototype.update=function(t,e){if(!n.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return n.isBuffer(t)||(t=n.from(t,e)),this._state.absorb(t),this},e.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);var e=this._state.squeeze(this._hashBitLength/8);return void 0!==t&&(e=e.toString(t)),this._resetState(),e},e.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},e.prototype._clone=function(){var t=new e(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t},e}},function(t,e,r){"use strict";var n=r(1213),i=r(1212);t.exports=function(t){var e=n(t),r=i(t);return function(t,n){switch("string"==typeof t?t.toLowerCase():t){case"keccak224":return new e(1152,448,null,224,n);case"keccak256":return new e(1088,512,null,256,n);case"keccak384":return new e(832,768,null,384,n);case"keccak512":return new e(576,1024,null,512,n);case"sha3-224":return new e(1152,448,6,224,n);case"sha3-256":return new e(1088,512,6,256,n);case"sha3-384":return new e(832,768,6,384,n);case"sha3-512":return new e(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+t)}}}},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(309),o=r(200),s=r(17),a=r(85),u=r(19),c=r(51),f=r(3).Buffer;Object.assign(e,r(308)),e.MAX_INTEGER=new u("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new u("10000000000000000000000000000000000000000000000000000000000000000",16),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.SHA3_NULL_S=e.KECCAK256_NULL_S,e.KECCAK256_NULL=f.from(e.KECCAK256_NULL_S,"hex"),e.SHA3_NULL=e.KECCAK256_NULL,e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.SHA3_RLP_ARRAY_S=e.KECCAK256_RLP_ARRAY_S,e.KECCAK256_RLP_ARRAY=f.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.SHA3_RLP_ARRAY=e.KECCAK256_RLP_ARRAY,e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.SHA3_RLP_S=e.KECCAK256_RLP_S,e.KECCAK256_RLP=f.from(e.KECCAK256_RLP_S,"hex"),e.SHA3_RLP=e.KECCAK256_RLP,e.BN=u,e.rlp=a,e.secp256k1=o,e.zeros=function(t){return f.allocUnsafe(t).fill(0)},e.zeroAddress=function(){var t=e.zeros(20);return e.bufferToHex(t)},e.setLengthLeft=e.setLength=function(t,r,n){var i=e.zeros(r);return t=e.toBuffer(t),n?t.length<r?(t.copy(i),i):t.slice(0,r):t.length<r?(t.copy(i,r-t.length),i):t.slice(-r)},e.setLengthRight=function(t,r){return e.setLength(t,r,!0)},e.unpad=e.stripZeros=function(t){for(var r=(t=e.stripHexPrefix(t))[0];t.length>0&&"0"===r.toString();)r=(t=t.slice(1))[0];return t},e.toBuffer=function(t){if(!f.isBuffer(t))if(Array.isArray(t))t=f.from(t);else if("string"==typeof t)t=e.isHexString(t)?f.from(e.padToEven(e.stripHexPrefix(t)),"hex"):f.from(t);else if("number"==typeof t)t=e.intToBuffer(t);else if(null===t||void 0===t)t=f.allocUnsafe(0);else if(u.isBN(t))t=t.toArrayLike(f);else{if(!t.toArray)throw new Error("invalid type");t=f.from(t.toArray())}return t},e.bufferToInt=function(t){return new u(e.toBuffer(t)).toNumber()},e.bufferToHex=function(t){return"0x"+(t=e.toBuffer(t)).toString("hex")},e.fromSigned=function(t){return new u(t).fromTwos(256)},e.toUnsigned=function(t){return f.from(t.toTwos(256).toArray())},e.keccak=function(t,r){return t=e.toBuffer(t),r||(r=256),i("keccak"+r).update(t).digest()},e.keccak256=function(t){return e.keccak(t)},e.sha3=e.keccak,e.sha256=function(t){return t=e.toBuffer(t),c("sha256").update(t).digest()},e.ripemd160=function(t,r){t=e.toBuffer(t);var n=c("rmd160").update(t).digest();return!0===r?e.setLength(n,32):n},e.rlphash=function(t){return e.keccak(a.encode(t))},e.isValidPrivate=function(t){return o.privateKeyVerify(t)},e.isValidPublic=function(t,e){return 64===t.length?o.publicKeyVerify(f.concat([f.from([4]),t])):!!e&&o.publicKeyVerify(t)},e.pubToAddress=e.publicToAddress=function(t,r){return t=e.toBuffer(t),r&&64!==t.length&&(t=o.publicKeyConvert(t,!1).slice(1)),s(64===t.length),e.keccak(t).slice(-20)};var l=e.privateToPublic=function(t){return t=e.toBuffer(t),o.publicKeyCreate(t,!1).slice(1)};e.importPublic=function(t){return 64!==(t=e.toBuffer(t)).length&&(t=o.publicKeyConvert(t,!1).slice(1)),t},e.ecsign=function(t,e){var r=o.sign(t,e),n={};return n.r=r.signature.slice(0,32),n.s=r.signature.slice(32,64),n.v=r.recovery+27,n},e.hashPersonalMessage=function(t){var r=e.toBuffer("Ethereum Signed Message:\n"+t.length.toString());return e.keccak(f.concat([r,t]))},e.ecrecover=function(t,r,n,i){var s=f.concat([e.setLength(n,32),e.setLength(i,32)],64),a=r-27;if(0!==a&&1!==a)throw new Error("Invalid signature v value");var u=o.recover(t,s,a);return o.publicKeyConvert(u,!1).slice(1)},e.toRpcSig=function(t,r,n){if(27!==t&&28!==t)throw new Error("Invalid recovery id");return e.bufferToHex(f.concat([e.setLengthLeft(r,32),e.setLengthLeft(n,32),e.toBuffer(t-27)]))},e.fromRpcSig=function(t){if(65!==(t=e.toBuffer(t)).length)throw new Error("Invalid signature length");var r=t[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},e.privateToAddress=function(t){return e.publicToAddress(l(t))},e.isValidAddress=function(t){return/^0x[0-9a-fA-F]{40}$/.test(t)},e.isZeroAddress=function(t){return e.zeroAddress()===e.addHexPrefix(t)},e.toChecksumAddress=function(t){t=e.stripHexPrefix(t).toLowerCase();for(var r=e.keccak(t).toString("hex"),n="0x",i=0;i<t.length;i++)parseInt(r[i],16)>=8?n+=t[i].toUpperCase():n+=t[i];return n},e.isValidChecksumAddress=function(t){return e.isValidAddress(t)&&e.toChecksumAddress(t)===t},e.generateAddress=function(t,r){return t=e.toBuffer(t),r=(r=new u(r)).isZero()?null:f.from(r.toArray()),e.rlphash([t,r]).slice(-20)},e.isPrecompiled=function(t){var r=e.unpad(t);return 1===r.length&&r[0]>=1&&r[0]<=8},e.addHexPrefix=function(t){return"string"!=typeof t?t:e.isHexPrefixed(t)?t:"0x"+t},e.isValidSignature=function(t,e,r,n){var i=new u("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),o=new u("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return 32===e.length&&32===r.length&&((27===t||28===t)&&(e=new u(e),r=new u(r),!(e.isZero()||e.gt(o)||r.isZero()||r.gt(o))&&(!1!==n||1!==new u(r).cmp(i))))},e.baToJSON=function(t){if(f.isBuffer(t))return"0x"+t.toString("hex");if(t instanceof Array){for(var r=[],n=0;n<t.length;n++)r.push(e.baToJSON(t[n]));return r}},e.defineProperties=function(t,r,i){if(t.raw=[],t._fields=[],t.toJSON=function(r){if(r){var n={};return t._fields.forEach(function(e){n[e]="0x"+t[e].toString("hex")}),n}return e.baToJSON(this.raw)},t.serialize=function(){return a.encode(t.raw)},r.forEach(function(r,n){function i(){return t.raw[n]}function o(i){"00"!==(i=e.toBuffer(i)).toString("hex")||r.allowZero||(i=f.allocUnsafe(0)),r.allowLess&&r.length?(i=e.stripZeros(i),s(r.length>=i.length,"The field "+r.name+" must not have more "+r.length+" bytes")):r.allowZero&&0===i.length||!r.length||s(r.length===i.length,"The field "+r.name+" must have byte length of "+r.length),t.raw[n]=i}t._fields.push(r.name),Object.defineProperty(t,r.name,{enumerable:!0,configurable:!0,get:i,set:o}),r.default&&(t[r.name]=r.default),r.alias&&Object.defineProperty(t,r.alias,{enumerable:!1,configurable:!0,set:o,get:i})}),i)if("string"==typeof i&&(i=f.from(e.stripHexPrefix(i),"hex")),f.isBuffer(i)&&(i=a.decode(i)),Array.isArray(i)){if(i.length>t._fields.length)throw new Error("wrong number of fields in data");i.forEach(function(r,n){t[t._fields[n]]=e.toBuffer(r)})}else{if("object"!==(void 0===i?"undefined":n(i)))throw new Error("invalid data");var o=Object.keys(i);r.forEach(function(e){-1!==o.indexOf(e.name)&&(t[e.name]=i[e.name]),-1!==o.indexOf(e.alias)&&(t[e.alias]=i[e.alias])})}}},function(t,e,r){(function(e){t.exports=new e("c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470","hex")}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(311),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,o.default)(arguments),r=e.pop();t.call(this,e,r)}};var n,i=r(311),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){"use strict";var n=r(3).Buffer,i=r(51),o=r(19),s=r(39).ec,a=r(314),u=new s("secp256k1"),c=u.curve;function f(t){var e=t[0];switch(e){case 2:case 3:return 33!==t.length?null:function(t,e){var r=new o(e);if(r.cmp(c.p)>=0)return null;var n=(r=r.toRed(c.red)).redSqr().redIMul(r).redIAdd(c.b).redSqrt();return 3===t!==n.isOdd()&&(n=n.redNeg()),u.keyPair({pub:{x:r,y:n}})}(e,t.slice(1,33));case 4:case 6:case 7:return 65!==t.length?null:function(t,e,r){var n=new o(e),i=new o(r);if(n.cmp(c.p)>=0||i.cmp(c.p)>=0)return null;if(n=n.toRed(c.red),i=i.toRed(c.red),(6===t||7===t)&&i.isOdd()!==(7===t))return null;var s=n.redSqr().redIMul(n);return i.redSqr().redISub(s.redIAdd(c.b)).isZero()?u.keyPair({pub:{x:n,y:i}}):null}(e,t.slice(1,33),t.slice(33,65));default:return null}}e.privateKeyVerify=function(t){var e=new o(t);return e.cmp(c.n)<0&&!e.isZero()},e.privateKeyExport=function(t,e){var r=new o(t);if(r.cmp(c.n)>=0||r.isZero())throw new Error(a.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return n.from(u.keyFromPrivate(t).getPublic(e,!0))},e.privateKeyNegate=function(t){var e=new o(t);return e.isZero()?n.alloc(32):c.n.sub(e).umod(c.n).toArrayLike(n,"be",32)},e.privateKeyModInverse=function(t){var e=new o(t);if(e.cmp(c.n)>=0||e.isZero())throw new Error(a.EC_PRIVATE_KEY_RANGE_INVALID);return e.invm(c.n).toArrayLike(n,"be",32)},e.privateKeyTweakAdd=function(t,e){var r=new o(e);if(r.cmp(c.n)>=0)throw new Error(a.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(r.iadd(new o(t)),r.cmp(c.n)>=0&&r.isub(c.n),r.isZero())throw new Error(a.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return r.toArrayLike(n,"be",32)},e.privateKeyTweakMul=function(t,e){var r=new o(e);if(r.cmp(c.n)>=0||r.isZero())throw new Error(a.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return r.imul(new o(t)),r.cmp(c.n)&&(r=r.umod(c.n)),r.toArrayLike(n,"be",32)},e.publicKeyCreate=function(t,e){var r=new o(t);if(r.cmp(c.n)>=0||r.isZero())throw new Error(a.EC_PUBLIC_KEY_CREATE_FAIL);return n.from(u.keyFromPrivate(t).getPublic(e,!0))},e.publicKeyConvert=function(t,e){var r=f(t);if(null===r)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);return n.from(r.getPublic(e,!0))},e.publicKeyVerify=function(t){return null!==f(t)},e.publicKeyTweakAdd=function(t,e,r){var i=f(t);if(null===i)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);if((e=new o(e)).cmp(c.n)>=0)throw new Error(a.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return n.from(c.g.mul(e).add(i.pub).encode(!0,r))},e.publicKeyTweakMul=function(t,e,r){var i=f(t);if(null===i)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);if((e=new o(e)).cmp(c.n)>=0||e.isZero())throw new Error(a.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return n.from(i.pub.mul(e).encode(!0,r))},e.publicKeyCombine=function(t,e){for(var r=new Array(t.length),i=0;i<t.length;++i)if(r[i]=f(t[i]),null===r[i])throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);for(var o=r[0].pub,s=1;s<r.length;++s)o=o.add(r[s].pub);if(o.isInfinity())throw new Error(a.EC_PUBLIC_KEY_COMBINE_FAIL);return n.from(o.encode(!0,e))},e.signatureNormalize=function(t){var e=new o(t.slice(0,32)),r=new o(t.slice(32,64));if(e.cmp(c.n)>=0||r.cmp(c.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);var i=n.from(t);return 1===r.cmp(u.nh)&&c.n.sub(r).toArrayLike(n,"be",32).copy(i,32),i},e.signatureExport=function(t){var e=t.slice(0,32),r=t.slice(32,64);if(new o(e).cmp(c.n)>=0||new o(r).cmp(c.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);return{r:e,s:r}},e.signatureImport=function(t){var e=new o(t.r);e.cmp(c.n)>=0&&(e=new o(0));var r=new o(t.s);return r.cmp(c.n)>=0&&(r=new o(0)),n.concat([e.toArrayLike(n,"be",32),r.toArrayLike(n,"be",32)])},e.sign=function(t,e,r,i){if("function"==typeof r){var s=r;r=function(r){var u=s(t,e,null,i,r);if(!n.isBuffer(u)||32!==u.length)throw new Error(a.ECDSA_SIGN_FAIL);return new o(u)}}var f=new o(e);if(f.cmp(c.n)>=0||f.isZero())throw new Error(a.ECDSA_SIGN_FAIL);var l=u.sign(t,e,{canonical:!0,k:r,pers:i});return{signature:n.concat([l.r.toArrayLike(n,"be",32),l.s.toArrayLike(n,"be",32)]),recovery:l.recoveryParam}},e.verify=function(t,e,r){var n={r:e.slice(0,32),s:e.slice(32,64)},i=new o(n.r),s=new o(n.s);if(i.cmp(c.n)>=0||s.cmp(c.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);if(1===s.cmp(u.nh)||i.isZero()||s.isZero())return!1;var l=f(r);if(null===l)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);return u.verify(t,n,{x:l.pub.x,y:l.pub.y})},e.recover=function(t,e,r,i){var s={r:e.slice(0,32),s:e.slice(32,64)},f=new o(s.r),l=new o(s.s);if(f.cmp(c.n)>=0||l.cmp(c.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);try{if(f.isZero()||l.isZero())throw new Error;var h=u.recoverPubKey(t,s,r);return n.from(h.encode(!0,i))}catch(t){throw new Error(a.ECDSA_RECOVER_FAIL)}},e.ecdh=function(t,r){var n=e.ecdhUnsafe(t,r,!0);return i("sha256").update(n).digest()},e.ecdhUnsafe=function(t,e,r){var i=f(t);if(null===i)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);var s=new o(e);if(s.cmp(c.n)>=0||s.isZero())throw new Error(a.ECDH_FAIL);return n.from(i.pub.mul(s).encode(!0,r))}},function(t,e,r){"use strict";var n=r(3).Buffer,i=r(327),o=n.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),s=n.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);e.privateKeyExport=function(t,e,r){var i=n.from(r?o:s);return t.copy(i,r?8:9),e.copy(i,r?181:214),i},e.privateKeyImport=function(t){var e=t.length,r=0;if(!(e<r+1||48!==t[r])&&!(e<(r+=1)+1)&&128&t[r]){var n=127&t[r];if(r+=1,!(n<1||n>2||e<r+n)){var i=t[r+n-1]|(n>1?t[r+n-2]<<8:0);if(!(e<(r+=n)+i||e<r+3||2!==t[r]||1!==t[r+1]||1!==t[r+2]||e<(r+=3)+2||4!==t[r]||t[r+1]>32||e<r+2+t[r+1]))return t.slice(r+2,r+2+t[r+1])}}},e.signatureExport=function(t){for(var e=n.concat([n.from([0]),t.r]),r=33,o=0;r>1&&0===e[o]&&!(128&e[o+1]);--r,++o);for(var s=n.concat([n.from([0]),t.s]),a=33,u=0;a>1&&0===s[u]&&!(128&s[u+1]);--a,++u);return i.encode(e.slice(o),s.slice(u))},e.signatureImport=function(t){var e=n.alloc(32,0),r=n.alloc(32,0);try{var o=i.decode(t);if(33===o.r.length&&0===o.r[0]&&(o.r=o.r.slice(1)),o.r.length>32)throw new Error("R length is too long");if(33===o.s.length&&0===o.s[0]&&(o.s=o.s.slice(1)),o.s.length>32)throw new Error("S length is too long")}catch(t){return}return o.r.copy(e,32-o.r.length),o.s.copy(r,32-o.s.length),{r:e,s:r}},e.signatureImportLax=function(t){var e=n.alloc(32,0),r=n.alloc(32,0),i=t.length,o=0;if(48===t[o++]){var s=t[o++];if(!(128&s&&(o+=s-128)>i)&&2===t[o++]){var a=t[o++];if(128&a){if(o+(s=a-128)>i)return;for(;s>0&&0===t[o];o+=1,s-=1);for(a=0;s>0;o+=1,s-=1)a=(a<<8)+t[o]}if(!(a>i-o)){var u=o;if(o+=a,2===t[o++]){var c=t[o++];if(128&c){if(o+(s=c-128)>i)return;for(;s>0&&0===t[o];o+=1,s-=1);for(c=0;s>0;o+=1,s-=1)c=(c<<8)+t[o]}if(!(c>i-o)){var f=o;for(o+=c;a>0&&0===t[u];a-=1,u+=1);if(!(a>32)){var l=t.slice(u,u+a);for(l.copy(e,32-l.length);c>0&&0===t[f];c-=1,f+=1);if(!(c>32)){var h=t.slice(f,f+c);return h.copy(r,32-h.length),{r:e,s:r}}}}}}}}}},function(t,e,r){"use strict";(function(t){var r=Object.prototype.toString;e.isArray=function(t,e){if(!Array.isArray(t))throw TypeError(e)},e.isBoolean=function(t,e){if("[object Boolean]"!==r.call(t))throw TypeError(e)},e.isBuffer=function(e,r){if(!t.isBuffer(e))throw TypeError(r)},e.isFunction=function(t,e){if("[object Function]"!==r.call(t))throw TypeError(e)},e.isNumber=function(t,e){if("[object Number]"!==r.call(t))throw TypeError(e)},e.isObject=function(t,e){if("[object Object]"!==r.call(t))throw TypeError(e)},e.isBufferLength=function(t,e,r){if(t.length!==e)throw RangeError(r)},e.isBufferLength2=function(t,e,r,n){if(t.length!==e&&t.length!==r)throw RangeError(n)},e.isLengthGTZero=function(t,e){if(0===t.length)throw RangeError(e)},e.isNumberInInterval=function(t,e,r,n){if(t<=e||t>=r)throw RangeError(n)}}).call(this,r(0).Buffer)},function(t,e,r){(function(e){!function(r,n){"use strict";var i=void 0!==t;i&&(r=e).JS_SHA3_TEST&&(r.navigator={userAgent:"Chrome"});var o=(r.JS_SHA3_TEST||!i)&&-1!=navigator.userAgent.indexOf("Chrome"),s="0123456789abcdef".split(""),a=[1,256,65536,16777216],u=[6,1536,393216,100663296],c=[0,8,16,24],f=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],l=[],h=[],p=function(t){return w(t,224,a)},d=function(t){return w(t,256,a)},m=function(t){return w(t,384,a)},g=function(t){return w(t,224,u)},v=function(t){return w(t,256,u)},y=function(t){return w(t,384,u)},b=function(t){return w(t,512,u)},w=function(t,e,n){var i="string"!=typeof t;i&&t.constructor==r.ArrayBuffer&&(t=new Uint8Array(t)),void 0===e&&(e=512,n=a);var u,p,d,m,g,v,y,b,w,_,k,S,x,E,C,A,M,I,T,O,B,P,N,R,F,j,L,D,U,z,H,K,q,V,W,G,Y,$,Z,X,J,Q,tt,et,rt,nt,it,ot,st,at,ut,ct,ft,lt,ht,pt,dt,mt,gt,vt,yt,bt,wt,_t,kt,St,xt=!1,Et=0,Ct=0,At=t.length,Mt=(1600-2*e)/32,It=4*Mt;for(m=0;m<50;++m)h[m]=0;u=0;do{for(l[0]=u,m=1;m<Mt+1;++m)l[m]=0;if(i)for(m=Ct;Et<At&&m<It;++Et)l[m>>2]|=t[Et]<<c[3&m++];else for(m=Ct;Et<At&&m<It;++Et)(p=t.charCodeAt(Et))<128?l[m>>2]|=p<<c[3&m++]:p<2048?(l[m>>2]|=(192|p>>6)<<c[3&m++],l[m>>2]|=(128|63&p)<<c[3&m++]):p<55296||p>=57344?(l[m>>2]|=(224|p>>12)<<c[3&m++],l[m>>2]|=(128|p>>6&63)<<c[3&m++],l[m>>2]|=(128|63&p)<<c[3&m++]):(p=65536+((1023&p)<<10|1023&t.charCodeAt(++Et)),l[m>>2]|=(240|p>>18)<<c[3&m++],l[m>>2]|=(128|p>>12&63)<<c[3&m++],l[m>>2]|=(128|p>>6&63)<<c[3&m++],l[m>>2]|=(128|63&p)<<c[3&m++]);for(Ct=m-It,Et==At&&(l[m>>2]|=n[3&m],++Et),u=l[Mt],Et>At&&m<It&&(l[Mt-1]|=2147483648,xt=!0),m=0;m<Mt;++m)h[m]^=l[m];for(d=0;d<48;d+=2)y=h[0]^h[10]^h[20]^h[30]^h[40],b=h[1]^h[11]^h[21]^h[31]^h[41],w=h[2]^h[12]^h[22]^h[32]^h[42],_=h[3]^h[13]^h[23]^h[33]^h[43],k=h[4]^h[14]^h[24]^h[34]^h[44],S=h[5]^h[15]^h[25]^h[35]^h[45],x=h[6]^h[16]^h[26]^h[36]^h[46],E=h[7]^h[17]^h[27]^h[37]^h[47],g=(C=h[8]^h[18]^h[28]^h[38]^h[48])^(w<<1|_>>>31),v=(A=h[9]^h[19]^h[29]^h[39]^h[49])^(_<<1|w>>>31),h[0]^=g,h[1]^=v,h[10]^=g,h[11]^=v,h[20]^=g,h[21]^=v,h[30]^=g,h[31]^=v,h[40]^=g,h[41]^=v,g=y^(k<<1|S>>>31),v=b^(S<<1|k>>>31),h[2]^=g,h[3]^=v,h[12]^=g,h[13]^=v,h[22]^=g,h[23]^=v,h[32]^=g,h[33]^=v,h[42]^=g,h[43]^=v,g=w^(x<<1|E>>>31),v=_^(E<<1|x>>>31),h[4]^=g,h[5]^=v,h[14]^=g,h[15]^=v,h[24]^=g,h[25]^=v,h[34]^=g,h[35]^=v,h[44]^=g,h[45]^=v,g=k^(C<<1|A>>>31),v=S^(A<<1|C>>>31),h[6]^=g,h[7]^=v,h[16]^=g,h[17]^=v,h[26]^=g,h[27]^=v,h[36]^=g,h[37]^=v,h[46]^=g,h[47]^=v,g=x^(y<<1|b>>>31),v=E^(b<<1|y>>>31),h[8]^=g,h[9]^=v,h[18]^=g,h[19]^=v,h[28]^=g,h[29]^=v,h[38]^=g,h[39]^=v,h[48]^=g,h[49]^=v,M=h[0],I=h[1],st=h[11]<<4|h[10]>>>28,at=h[10]<<4|h[11]>>>28,H=h[20]<<3|h[21]>>>29,K=h[21]<<3|h[20]>>>29,wt=h[31]<<9|h[30]>>>23,_t=h[30]<<9|h[31]>>>23,rt=h[40]<<18|h[41]>>>14,nt=h[41]<<18|h[40]>>>14,Y=h[2]<<1|h[3]>>>31,$=h[3]<<1|h[2]>>>31,T=h[13]<<12|h[12]>>>20,O=h[12]<<12|h[13]>>>20,ut=h[22]<<10|h[23]>>>22,ct=h[23]<<10|h[22]>>>22,q=h[33]<<13|h[32]>>>19,V=h[32]<<13|h[33]>>>19,kt=h[42]<<2|h[43]>>>30,St=h[43]<<2|h[42]>>>30,dt=h[5]<<30|h[4]>>>2,mt=h[4]<<30|h[5]>>>2,Z=h[14]<<6|h[15]>>>26,X=h[15]<<6|h[14]>>>26,B=h[25]<<11|h[24]>>>21,P=h[24]<<11|h[25]>>>21,ft=h[34]<<15|h[35]>>>17,lt=h[35]<<15|h[34]>>>17,W=h[45]<<29|h[44]>>>3,G=h[44]<<29|h[45]>>>3,L=h[6]<<28|h[7]>>>4,D=h[7]<<28|h[6]>>>4,gt=h[17]<<23|h[16]>>>9,vt=h[16]<<23|h[17]>>>9,J=h[26]<<25|h[27]>>>7,Q=h[27]<<25|h[26]>>>7,N=h[36]<<21|h[37]>>>11,R=h[37]<<21|h[36]>>>11,ht=h[47]<<24|h[46]>>>8,pt=h[46]<<24|h[47]>>>8,it=h[8]<<27|h[9]>>>5,ot=h[9]<<27|h[8]>>>5,U=h[18]<<20|h[19]>>>12,z=h[19]<<20|h[18]>>>12,yt=h[29]<<7|h[28]>>>25,bt=h[28]<<7|h[29]>>>25,tt=h[38]<<8|h[39]>>>24,et=h[39]<<8|h[38]>>>24,F=h[48]<<14|h[49]>>>18,j=h[49]<<14|h[48]>>>18,h[0]=M^~T&B,h[1]=I^~O&P,h[10]=L^~U&H,h[11]=D^~z&K,h[20]=Y^~Z&J,h[21]=$^~X&Q,h[30]=it^~st&ut,h[31]=ot^~at&ct,h[40]=dt^~gt&yt,h[41]=mt^~vt&bt,h[2]=T^~B&N,h[3]=O^~P&R,h[12]=U^~H&q,h[13]=z^~K&V,h[22]=Z^~J&tt,h[23]=X^~Q&et,h[32]=st^~ut&ft,h[33]=at^~ct&lt,h[42]=gt^~yt&wt,h[43]=vt^~bt&_t,h[4]=B^~N&F,h[5]=P^~R&j,h[14]=H^~q&W,h[15]=K^~V&G,h[24]=J^~tt&rt,h[25]=Q^~et&nt,h[34]=ut^~ft&ht,h[35]=ct^~lt&pt,h[44]=yt^~wt&kt,h[45]=bt^~_t&St,h[6]=N^~F&M,h[7]=R^~j&I,h[16]=q^~W&L,h[17]=V^~G&D,h[26]=tt^~rt&Y,h[27]=et^~nt&$,h[36]=ft^~ht&it,h[37]=lt^~pt&ot,h[46]=wt^~kt&dt,h[47]=_t^~St&mt,h[8]=F^~M&T,h[9]=j^~I&O,h[18]=W^~L&U,h[19]=G^~D&z,h[28]=rt^~Y&Z,h[29]=nt^~$&X,h[38]=ht^~it&st,h[39]=pt^~ot&at,h[48]=kt^~dt&gt,h[49]=St^~mt&vt,h[0]^=f[d],h[1]^=f[d+1]}while(!xt);var Tt="";if(o)M=h[0],I=h[1],T=h[2],O=h[3],B=h[4],P=h[5],N=h[6],R=h[7],F=h[8],j=h[9],L=h[10],D=h[11],U=h[12],z=h[13],H=h[14],K=h[15],Tt+=s[M>>4&15]+s[15&M]+s[M>>12&15]+s[M>>8&15]+s[M>>20&15]+s[M>>16&15]+s[M>>28&15]+s[M>>24&15]+s[I>>4&15]+s[15&I]+s[I>>12&15]+s[I>>8&15]+s[I>>20&15]+s[I>>16&15]+s[I>>28&15]+s[I>>24&15]+s[T>>4&15]+s[15&T]+s[T>>12&15]+s[T>>8&15]+s[T>>20&15]+s[T>>16&15]+s[T>>28&15]+s[T>>24&15]+s[O>>4&15]+s[15&O]+s[O>>12&15]+s[O>>8&15]+s[O>>20&15]+s[O>>16&15]+s[O>>28&15]+s[O>>24&15]+s[B>>4&15]+s[15&B]+s[B>>12&15]+s[B>>8&15]+s[B>>20&15]+s[B>>16&15]+s[B>>28&15]+s[B>>24&15]+s[P>>4&15]+s[15&P]+s[P>>12&15]+s[P>>8&15]+s[P>>20&15]+s[P>>16&15]+s[P>>28&15]+s[P>>24&15]+s[N>>4&15]+s[15&N]+s[N>>12&15]+s[N>>8&15]+s[N>>20&15]+s[N>>16&15]+s[N>>28&15]+s[N>>24&15],e>=256&&(Tt+=s[R>>4&15]+s[15&R]+s[R>>12&15]+s[R>>8&15]+s[R>>20&15]+s[R>>16&15]+s[R>>28&15]+s[R>>24&15]),e>=384&&(Tt+=s[F>>4&15]+s[15&F]+s[F>>12&15]+s[F>>8&15]+s[F>>20&15]+s[F>>16&15]+s[F>>28&15]+s[F>>24&15]+s[j>>4&15]+s[15&j]+s[j>>12&15]+s[j>>8&15]+s[j>>20&15]+s[j>>16&15]+s[j>>28&15]+s[j>>24&15]+s[L>>4&15]+s[15&L]+s[L>>12&15]+s[L>>8&15]+s[L>>20&15]+s[L>>16&15]+s[L>>28&15]+s[L>>24&15]+s[D>>4&15]+s[15&D]+s[D>>12&15]+s[D>>8&15]+s[D>>20&15]+s[D>>16&15]+s[D>>28&15]+s[D>>24&15]),512==e&&(Tt+=s[U>>4&15]+s[15&U]+s[U>>12&15]+s[U>>8&15]+s[U>>20&15]+s[U>>16&15]+s[U>>28&15]+s[U>>24&15]+s[z>>4&15]+s[15&z]+s[z>>12&15]+s[z>>8&15]+s[z>>20&15]+s[z>>16&15]+s[z>>28&15]+s[z>>24&15]+s[H>>4&15]+s[15&H]+s[H>>12&15]+s[H>>8&15]+s[H>>20&15]+s[H>>16&15]+s[H>>28&15]+s[H>>24&15]+s[K>>4&15]+s[15&K]+s[K>>12&15]+s[K>>8&15]+s[K>>20&15]+s[K>>16&15]+s[K>>28&15]+s[K>>24&15]);else for(m=0,d=e/32;m<d;++m)g=h[m],Tt+=s[g>>4&15]+s[15&g]+s[g>>12&15]+s[g>>8&15]+s[g>>20&15]+s[g>>16&15]+s[g>>28&15]+s[g>>24&15];return Tt};!r.JS_SHA3_TEST&&i?t.exports={sha3_512:b,sha3_384:y,sha3_256:v,sha3_224:g,keccak_512:w,keccak_384:m,keccak_256:d,keccak_224:p}:r&&(r.sha3_512=b,r.sha3_384=y,r.sha3_256=v,r.sha3_224=g,r.keccak_512=w,r.keccak_384=m,r.keccak_256=d,r.keccak_224=p)}(this)}).call(this,r(7))},function(t,e,r){(function(e){const n=r(1222),i=[224,256,384,512];var o=function(t){if(void 0!==t&&-1==i.indexOf(t))throw new Error("Unsupported hash length");this.content=[],this.bitcount=t?"keccak_"+t:"keccak_512"};o.prototype.update=function(t){if(e.isBuffer(t))this.content.push(t);else{if("string"!=typeof t)throw new Error("Unsupported argument to update");this.content.push(new e(t))}return this},o.prototype.digest=function(t){var r=n[this.bitcount](e.concat(this.content));if("hex"===t)return r;if("binary"===t||void 0===t)return new e(r,"hex").toString("binary");throw new Error("Unsupported encoding for digest: "+t)},t.exports={SHA3Hash:o}}).call(this,r(0).Buffer)},function(t,e,r){t.exports=r(1223).SHA3Hash},function(t,e,r){(function(t){const n=r(1224),i=r(200),o=r(17),s=r(85),a=r(19),u=r(51);e.MAX_INTEGER=new a("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new a("10000000000000000000000000000000000000000000000000000000000000000",16),e.SHA3_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.SHA3_NULL=new t(e.SHA3_NULL_S,"hex"),e.SHA3_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.SHA3_RLP_ARRAY=new t(e.SHA3_RLP_ARRAY_S,"hex"),e.SHA3_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.SHA3_RLP=new t(e.SHA3_RLP_S,"hex"),e.BN=a,e.rlp=s,e.secp256k1=i,e.zeros=function(e){var r=new t(e);return r.fill(0),r},e.setLengthLeft=e.setLength=function(t,r,n){var i=e.zeros(r);return t=e.toBuffer(t),n?t.length<r?(t.copy(i),i):t.slice(0,r):t.length<r?(t.copy(i,r-t.length),i):t.slice(-r)},e.setLengthRight=function(t,r){return e.setLength(t,r,!0)},e.unpad=e.stripZeros=function(t){for(var r=(t=e.stripHexPrefix(t))[0];t.length>0&&"0"===r.toString();)r=(t=t.slice(1))[0];return t},e.toBuffer=function(r){if(!t.isBuffer(r))if(Array.isArray(r))r=new t(r);else if("string"==typeof r)r=e.isHexPrefixed(r)?new t(e.padToEven(e.stripHexPrefix(r)),"hex"):new t(r);else if("number"==typeof r)r=e.intToBuffer(r);else if(null===r||void 0===r)r=new t([]);else{if(!r.toArray)throw new Error("invalid type");r=new t(r.toArray())}return r},e.intToHex=function(t){o(t%1==0,"number is not a integer"),o(t>=0,"number must be positive");var e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e},e.intToBuffer=function(r){var n=e.intToHex(r);return new t(n.slice(2),"hex")},e.bufferToInt=function(t){return parseInt(e.bufferToHex(t),16)},e.bufferToHex=function(t){return 0===(t=e.toBuffer(t)).length?0:"0x"+t.toString("hex")},e.fromSigned=function(t){return new a(t).fromTwos(256)},e.toUnsigned=function(e){return new t(e.toTwos(256).toArray())},e.sha3=function(r,i){r=e.toBuffer(r),i||(i=256);var o=new n(i);return r&&o.update(r),new t(o.digest("hex"),"hex")},e.sha256=function(t){return t=e.toBuffer(t),u("sha256").update(t).digest()},e.ripemd160=function(t,r){t=e.toBuffer(t);var n=u("rmd160").update(t).digest();return!0===r?e.setLength(n,32):n},e.rlphash=function(t){return e.sha3(s.encode(t))},e.isValidPrivate=function(t){return i.privateKeyVerify(t)},e.isValidPublic=function(e,r){return 64===e.length?i.publicKeyVerify(t.concat([new t([4]),e])):!!r&&i.publicKeyVerify(e)},e.pubToAddress=e.publicToAddress=function(t,r){return t=e.toBuffer(t),r&&64!==t.length&&(t=i.publicKeyConvert(t,!1).slice(1)),o(64===t.length),e.sha3(t).slice(-20)};var c=e.privateToPublic=function(t){return t=e.toBuffer(t),i.publicKeyCreate(t,!1).slice(1)};e.importPublic=function(t){return 64!==(t=e.toBuffer(t)).length&&(t=i.publicKeyConvert(t,!1).slice(1)),t},e.ecsign=function(t,e){var r=i.sign(t,e),n={};return n.r=r.signature.slice(0,32),n.s=r.signature.slice(32,64),n.v=r.recovery+27,n},e.ecrecover=function(r,n,o,s){var a=t.concat([e.setLength(o,32),e.setLength(s,32)],64),u=e.bufferToInt(n)-27;if(0!==u&&1!==u)throw new Error("Invalid signature v value");var c=i.recover(r,a,u);return i.publicKeyConvert(c,!1).slice(1)},e.toRpcSig=function(r,n,i){return e.bufferToHex(t.concat([n,i,e.toBuffer(r-27)]))},e.fromRpcSig=function(t){var r=(t=e.toBuffer(t))[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},e.privateToAddress=function(t){return e.publicToAddress(c(t))},e.isValidAddress=function(t){return/^0x[0-9a-fA-F]{40}$/i.test(t)},e.toChecksumAddress=function(t){t=e.stripHexPrefix(t).toLowerCase();for(var r=e.sha3(t).toString("hex"),n="0x",i=0;i<t.length;i++)parseInt(r[i],16)>=8?n+=t[i].toUpperCase():n+=t[i];return n},e.isValidChecksumAddress=function(t){return e.isValidAddress(t)&&e.toChecksumAddress(t)===t},e.generateAddress=function(r,n){return r=e.toBuffer(r),n=(n=new a(n)).isZero()?null:new t(n.toArray()),e.rlphash([r,n]).slice(-20)},e.isPrecompiled=function(t){var r=e.unpad(t);return 1===r.length&&r[0]>0&&r[0]<5},e.isHexPrefixed=function(t){return"0x"===t.slice(0,2)},e.stripHexPrefix=function(t){return"string"!=typeof t?t:e.isHexPrefixed(t)?t.slice(2):t},e.addHexPrefix=function(t){return"string"!=typeof t?t:e.isHexPrefixed(t)?t:"0x"+t},e.padToEven=function(t){return t.length%2&&(t="0"+t),t},e.baToJSON=function(r){if(t.isBuffer(r))return"0x"+r.toString("hex");if(r instanceof Array){for(var n=[],i=0;i<r.length;i++)n.push(e.baToJSON(r[i]));return n}},e.defineProperties=function(r,n,i){if(r.raw=[],r._fields=[],r.toJSON=function(t){if(t){var n={};return r._fields.forEach(function(t){n[t]="0x"+r[t].toString("hex")}),n}return e.baToJSON(this.raw)},r.serialize=function(){return s.encode(r.raw)},n.forEach(function(n,i){function s(){return r.raw[i]}function a(s){"00"!==(s=e.toBuffer(s)).toString("hex")||n.allowZero||(s=new t([])),n.allowLess&&n.length?(s=e.stripZeros(s),o(n.length>=s.length,"The field "+n.name+" must not have more "+n.length+" bytes")):n.allowZero&&0===s.length||!n.length||o(n.length===s.length,"The field "+n.name+" must have byte length of "+n.length),r.raw[i]=s}r._fields.push(n.name),Object.defineProperty(r,n.name,{enumerable:!0,configurable:!0,get:s,set:a}),n.default&&(r[n.name]=n.default),n.alias&&Object.defineProperty(r,n.alias,{enumerable:!1,configurable:!0,set:a,get:s})}),i)if("string"==typeof i&&(i=new t(e.stripHexPrefix(i),"hex")),t.isBuffer(i)&&(i=s.decode(i)),Array.isArray(i)){if(i.length>r._fields.length)throw new Error("wrong number of fields in data");i.forEach(function(t,n){r[r._fields[n]]=e.toBuffer(t)})}else{if("object"!=typeof i)throw new Error("invalid data");for(var a in i)-1!==r._fields.indexOf(a)&&(r[a]=i[a])}}}).call(this,r(0).Buffer)},function(t,e,r){(function(e){const n=r(1225),i=r(85);var o=t.exports=function(t){var r=[{name:"nonce",default:new e([])},{name:"balance",default:new e([])},{name:"stateRoot",length:32,default:n.SHA3_RLP},{name:"codeHash",length:32,default:n.SHA3_NULL}];n.defineProperties(this,r,t)};o.prototype.serialize=function(){return i.encode(this.raw)},o.prototype.isContract=function(){return this.codeHash.toString("hex")!==n.SHA3_NULL_S},o.prototype.getCode=function(t,r){this.isContract()?t.getRaw(this.codeHash,r):r(null,new e([]))},o.prototype.setCode=function(t,r,i){var o=this;this.codeHash=n.sha3(r),this.codeHash.toString("hex")!==n.SHA3_NULL_S?t.putRaw(this.codeHash,r,function(t){i(t,o.codeHash)}):i(null,new e([]))},o.prototype.getStorage=function(t,e,r){var n=t.copy();n.root=this.stateRoot,n.get(e,r)},o.prototype.setStorage=function(t,e,r,n){var i=this,o=t.copy();o.root=i.stateRoot,o.put(e,r,function(t){if(t)return n();i.stateRoot=o.root,n()})},o.prototype.isEmpty=function(){return""===this.balance.toString("hex")&&""===this.nonce.toString("hex")&&this.stateRoot.toString("hex")===n.SHA3_RLP_S&&this.codeHash.toString("hex")===n.SHA3_NULL_S}}).call(this,r(0).Buffer)},function(t,e,r){var n=r(3).Buffer,i=r(318),o=r(125),s=r(29),a=r(325),u=r(151),c=r(41),f=r(22),l=r(33),h=a.types,p=[a.types.P2PKH,a.types.P2PK,a.types.MULTISIG],d=p.concat([a.types.P2WPKH,a.types.P2WSH]),m=r(319),g=r(316),v=r(320);function y(t){return-1!==p.indexOf(t)}function b(t){return-1!==d.indexOf(t)}function w(t,e){if(0===t.length&&0===e.length)return{};var r,n,i,u,c,f,l,p,d,m,g=!1,v=!1,w=!1,_=s.decompile(t);a.classifyInput(_,!0)===h.P2SH&&(w=!0,c=_[_.length-1],p=a.classifyOutput(c),r=a.scriptHash.output.encode(o.hash160(c)),n=h.P2SH,u=c);var k=a.classifyWitness(e,!0);if(k===h.P2WSH){if(f=e[e.length-1],l=a.classifyOutput(f),v=!0,g=!0,0===t.length){if(r=a.witnessScriptHash.output.encode(o.sha256(f)),n=h.P2WSH,void 0!==c)throw new Error("Redeem script given when unnecessary")}else{if(!c)throw new Error("No redeemScript provided for P2WSH, but scriptSig non-empty");if(d=a.witnessScriptHash.output.encode(o.sha256(f)),!c.equals(d))throw new Error("Redeem script didn't match witnessScript")}if(!y(a.classifyOutput(f)))throw new Error("unsupported witness script");u=f,i=l,m=e.slice(0,-1)}else if(k===h.P2WPKH){g=!0;var S=e[e.length-1],x=o.hash160(S);if(0===t.length){if(r=a.witnessPubKeyHash.output.encode(x),n=h.P2WPKH,void 0!==c)throw new Error("Redeem script given when unnecessary")}else{if(!c)throw new Error("No redeemScript provided for P2WPKH, but scriptSig wasn't empty");if(d=a.witnessPubKeyHash.output.encode(x),!c.equals(d))throw new Error("Redeem script did not have the right witness program")}i=h.P2PKH,m=e}else if(c){if(!b(p))throw new Error("Bad redeemscript!");u=c,i=p,m=_.slice(0,-1)}else n=i=a.classifyInput(t),m=_;var E=function(t,e,r){var n=[],i=[];switch(t){case h.P2PKH:n=e.slice(1),i=e.slice(0,1);break;case h.P2PK:n[0]=r?a.pubKey.output.decode(r):void 0,i=e.slice(0,1);break;case h.MULTISIG:r&&(n=a.multisig.output.decode(r).pubKeys),i=e.slice(1).map(function(t){return 0===t.length?void 0:t})}return{pubKeys:n,signatures:i}}(i,m,u),C={pubKeys:E.pubKeys,signatures:E.signatures,prevOutScript:r,prevOutType:n,signType:i,signScript:u,witness:Boolean(g)};return w&&(C.redeemScript=c,C.redeemScriptType=p),v&&(C.witnessScript=f,C.witnessScriptType=l),C}function _(t,e,r){f(l.Buffer,t);var n=s.decompile(t);e||(e=a.classifyOutput(t));var i=[];switch(e){case h.P2PKH:if(!r)break;var u=n[2],c=o.hash160(r);u.equals(c)&&(i=[r]);break;case h.P2WPKH:if(!r)break;var p=n[1],d=o.hash160(r);p.equals(d)&&(i=[r]);break;case h.P2PK:i=n.slice(0,1);break;case h.MULTISIG:i=n.slice(1,-2);break;default:return{scriptType:e}}return{pubKeys:i,scriptType:e,signatures:i.map(function(){})}}function k(t,e){if(t.prevOutType){if(t.prevOutType!==h.P2SH)throw new Error("PrevOutScript must be P2SH");if(!s.decompile(t.prevOutScript)[1].equals(e))throw new Error("Inconsistent hash160(RedeemScript)")}}function S(t,e,r,n,i){var u,c,f,l,p,d,m,g,v,y=!1,b=!1,w=!1;if(r&&i){if(p=o.hash160(r),m=o.sha256(i),k(t,p),!r.equals(a.witnessScriptHash.output.encode(m)))throw new Error("Witness script inconsistent with redeem script");if(!(u=_(i,void 0,e)).pubKeys)throw new Error('WitnessScript not supported "'+s.toASM(r)+'"');c=a.types.P2SH,f=a.scriptHash.output.encode(p),y=b=w=!0,l=a.types.P2WSH,g=d=u.scriptType,v=i}else if(r){if(k(t,p=o.hash160(r)),!(u=_(r,void 0,e)).pubKeys)throw new Error('RedeemScript not supported "'+s.toASM(r)+'"');c=a.types.P2SH,f=a.scriptHash.output.encode(p),y=!0,v=r,b=(g=l=u.scriptType)===a.types.P2WPKH}else if(i){if(function(t,e){if(t.prevOutType){if(t.prevOutType!==h.P2WSH)throw new Error("PrevOutScript must be P2WSH");if(!s.decompile(t.prevOutScript)[1].equals(e))throw new Error("Inconsistent sha25(WitnessScript)")}}(t,m=o.sha256(i)),!(u=_(i,void 0,e)).pubKeys)throw new Error('WitnessScript not supported "'+s.toASM(r)+'"');c=a.types.P2WSH,f=a.witnessScriptHash.output.encode(m),b=w=!0,g=d=u.scriptType,v=i}else if(t.prevOutType){if(t.prevOutType===h.P2SH||t.prevOutType===h.P2WSH)throw new Error("PrevOutScript is "+t.prevOutType+", requires redeemScript");if(c=t.prevOutType,f=t.prevOutScript,!(u=_(t.prevOutScript,t.prevOutType,e)).pubKeys)return;b=t.prevOutType===h.P2WPKH,g=c,v=f}else u=_(f=a.pubKeyHash.output.encode(o.hash160(e)),h.P2PKH,e),b=!1,g=c=h.P2PKH,v=f;g===h.P2WPKH&&(v=a.pubKeyHash.output.encode(a.witnessPubKeyHash.output.decode(v))),y&&(t.redeemScript=r,t.redeemScriptType=l),w&&(t.witnessScript=i,t.witnessScriptType=d),t.pubKeys=u.pubKeys,t.signatures=u.signatures,t.signScript=v,t.signType=g,t.prevOutScript=f,t.prevOutType=c,t.witness=b}function x(t,e,r,i){if(t===h.P2PKH){if(1===e.length&&n.isBuffer(e[0])&&1===r.length)return a.pubKeyHash.input.encodeStack(e[0],r[0])}else if(t===h.P2PK){if(1===e.length&&n.isBuffer(e[0]))return a.pubKey.input.encodeStack(e[0])}else{if(t!==h.MULTISIG)throw new Error("Not yet supported");if(e.length>0)return e=e.map(function(t){return t||c.OP_0}),i||(e=e.filter(function(t){return t!==c.OP_0})),a.multisig.input.encodeStack(e)}if(!i)throw new Error("Not enough signatures provided");return[]}function E(t,e){this.prevTxMap={},this.network=t||u.bitcoin,this.maximumFeeRate=e||2500,this.inputs=[],this.tx=new v}function C(t){return void 0!==t.prevOutScript&&void 0!==t.signScript&&void 0!==t.pubKeys&&void 0!==t.signatures&&t.signatures.length===t.pubKeys.length&&t.pubKeys.length>0&&(!1===t.witness||!0===t.witness&&void 0!==t.value)}function A(t){return t.readUInt8(t.length-1)}E.prototype.setLockTime=function(t){if(f(l.UInt32,t),this.inputs.some(function(t){return!!t.signatures&&t.signatures.some(function(t){return t})}))throw new Error("No, this would invalidate signatures");this.tx.locktime=t},E.prototype.setVersion=function(t){f(l.UInt32,t),this.tx.version=t},E.fromTransaction=function(t,e){var r=new E(e);return r.setVersion(t.version),r.setLockTime(t.locktime),t.outs.forEach(function(t){r.addOutput(t.script,t.value)}),t.ins.forEach(function(t){r.__addInputUnsafe(t.hash,t.index,{sequence:t.sequence,script:t.script,witness:t.witness})}),r.inputs.forEach(function(e,r){!function(t,e,r){if(t.redeemScriptType===h.MULTISIG&&t.redeemScript&&t.pubKeys.length!==t.signatures.length){var n=t.signatures.concat();t.signatures=t.pubKeys.map(function(i){var o,s=m.fromPublicKeyBuffer(i);return n.some(function(i,a){if(!i)return!1;var u=g.parseScriptSignature(i),c=e.hashForSignature(r,t.redeemScript,u.hashType);return!!s.verify(c,u.signature)&&(n[a]=void 0,o=i,!0)}),o})}}(e,t,r)}),r},E.prototype.addInput=function(t,e,r,i){if(!this.__canModifyInputs())throw new Error("No, this would invalidate signatures");var o;if("string"==typeof t)t=n.from(t,"hex").reverse();else if(t instanceof v){var s=t.outs[e];i=s.script,o=s.value,t=t.getHash()}return this.__addInputUnsafe(t,e,{sequence:r,prevOutScript:i,value:o})},E.prototype.__addInputUnsafe=function(t,e,r){if(v.isCoinbaseHash(t))throw new Error("coinbase inputs not supported");var n=t.toString("hex")+":"+e;if(void 0!==this.prevTxMap[n])throw new Error("Duplicate TxOut: "+n);var i={};if(void 0!==r.script&&(i=w(r.script,r.witness||[])),void 0!==r.value&&(i.value=r.value),!i.prevOutScript&&r.prevOutScript){var o;if(!i.pubKeys&&!i.signatures){var s=_(r.prevOutScript);s.pubKeys&&(i.pubKeys=s.pubKeys,i.signatures=s.signatures),o=s.scriptType}i.prevOutScript=r.prevOutScript,i.prevOutType=o||a.classifyOutput(r.prevOutScript)}var u=this.tx.addInput(t,e,r.sequence,r.scriptSig);return this.inputs[u]=i,this.prevTxMap[n]=u,u},E.prototype.addOutput=function(t,e){if(!this.__canModifyOutputs())throw new Error("No, this would invalidate signatures");return"string"==typeof t&&(t=i.toOutputScript(t,this.network)),this.tx.addOutput(t,e)},E.prototype.build=function(){return this.__build(!1)},E.prototype.buildIncomplete=function(){return this.__build(!0)},E.prototype.__build=function(t){if(!t){if(!this.tx.ins.length)throw new Error("Transaction has no inputs");if(!this.tx.outs.length)throw new Error("Transaction has no outputs")}var e=this.tx.clone();if(this.inputs.forEach(function(r,n){if(!(r.witnessScriptType||r.redeemScriptType||r.prevOutType)&&!t)throw new Error("Transaction is not complete");var i=function(t,e){var r=t.prevOutType,n=[],i=[];y(r)&&(n=x(r,t.signatures,t.pubKeys,e));var o=!1;if(r===a.types.P2SH){if(!e&&!b(t.redeemScriptType))throw new Error("Impossible to sign this type");y(t.redeemScriptType)&&(n=x(t.redeemScriptType,t.signatures,t.pubKeys,e)),t.redeemScriptType&&(o=!0,r=t.redeemScriptType)}switch(r){case a.types.P2WPKH:i=x(a.types.P2PKH,t.signatures,t.pubKeys,e);break;case a.types.P2WSH:if(!e&&!y(t.witnessScriptType))throw new Error("Impossible to sign this type");y(t.witnessScriptType)&&((i=x(t.witnessScriptType,t.signatures,t.pubKeys,e)).push(t.witnessScript),r=t.witnessScriptType)}return o&&n.push(t.redeemScript),{type:r,script:s.compile(n),witness:i}}(r,t);if(!t&&!y(i.type)&&i.type!==a.types.P2WPKH)throw new Error(i.type+" not supported");e.setInputScript(n,i.script),e.setWitness(n,i.witness)}),!t&&this.__overMaximumFees(e.virtualSize()))throw new Error("Transaction has absurd fees");return e},E.prototype.sign=function(t,e,r,i,o,s){if(e.network&&e.network!==this.network)throw new TypeError("Inconsistent network");if(!this.inputs[t])throw new Error("No input at index: "+t);i=i||v.SIGHASH_ALL;var a=this.inputs[t];if(void 0!==a.redeemScript&&r&&!a.redeemScript.equals(r))throw new Error("Inconsistent redeemScript");var u,c=e.publicKey||e.getPublicKeyBuffer();if(!C(a)){if(void 0!==o){if(void 0!==a.value&&a.value!==o)throw new Error("Input didn't match witnessValue");f(l.Satoshi,o),a.value=o}if(C(a)||S(a,c,r,0,s),!C(a))throw Error(a.prevOutType+" not supported")}if(u=a.witness?this.tx.hashForWitnessV0(t,a.signScript,a.value,i):this.tx.hashForSignature(t,a.signScript,i),!a.pubKeys.some(function(t,r){if(!c.equals(t))return!1;if(a.signatures[r])throw new Error("Signature already exists");if(33!==c.length&&a.signType===h.P2WPKH)throw new Error("BIP143 rejects uncompressed public keys in P2WPKH or P2WSH");var o=e.sign(u);return n.isBuffer(o)&&(o=g.fromRSBuffer(o)),a.signatures[r]=o.toScriptSignature(i),!0}))throw new Error("Key pair cannot sign for this input")},E.prototype.__canModifyInputs=function(){return this.inputs.every(function(t){return void 0===t.signatures||t.signatures.every(function(t){return!t||A(t)&v.SIGHASH_ANYONECANPAY})})},E.prototype.__canModifyOutputs=function(){var t=this.tx.ins.length,e=this.tx.outs.length;return this.inputs.every(function(r){return void 0===r.signatures||r.signatures.every(function(r){if(!r)return!0;var n=31&A(r);return n===v.SIGHASH_NONE||(n===v.SIGHASH_SINGLE?t<=e:void 0)})})},E.prototype.__overMaximumFees=function(t){return(this.inputs.reduce(function(t,e){return t+(e.value>>>0)},0)-this.tx.outs.reduce(function(t,e){return t+e.value},0))/t>this.maximumFeeRate},t.exports=E},function(t,e,r){var n=r(3).Buffer,i=r(317),o=r(125),s=r(163),a=r(22),u=r(33),c=r(151),f=r(99),l=r(319),h=r(315),p=h.getCurveByName("secp256k1");function d(t,e){if(a(u.tuple("ECPair",u.Buffer256bit),arguments),!t.compressed)throw new TypeError("BIP32 only allows compressed keyPairs");this.keyPair=t,this.chainCode=e,this.depth=0,this.index=0,this.parentFingerprint=0}d.HIGHEST_BIT=2147483648,d.LENGTH=78,d.MASTER_SECRET=n.from("Bitcoin seed","utf8"),d.fromSeedBuffer=function(t,e){if(a(u.tuple(u.Buffer,u.maybe(u.Network)),arguments),t.length<16)throw new TypeError("Seed should be at least 128 bits");if(t.length>64)throw new TypeError("Seed should be at most 512 bits");var r=s("sha512",d.MASTER_SECRET).update(t).digest(),n=r.slice(0,32),i=r.slice(32),o=f.fromBuffer(n);return new d(new l(o,null,{network:e}),i)},d.fromSeedHex=function(t,e){return d.fromSeedBuffer(n.from(t,"hex"),e)},d.fromBase58=function(t,e){var r=i.decode(t);if(78!==r.length)throw new Error("Invalid buffer length");var n,o=r.readUInt32BE(0);if(Array.isArray(e)){if(!(n=e.filter(function(t){return o===t.bip32.private||o===t.bip32.public}).pop()))throw new Error("Unknown network version")}else n=e||c.bitcoin;if(o!==n.bip32.private&&o!==n.bip32.public)throw new Error("Invalid network version");var s=r[4],a=r.readUInt32BE(5);if(0===s&&0!==a)throw new Error("Invalid parent fingerprint");var u=r.readUInt32BE(9);if(0===s&&0!==u)throw new Error("Invalid index");var m,g=r.slice(13,45);if(o===n.bip32.private){if(0!==r.readUInt8(45))throw new Error("Invalid private key");var v=f.fromBuffer(r.slice(46,78));m=new l(v,null,{network:n})}else{var y=h.Point.decodeFrom(p,r.slice(45,78));p.validate(y),m=new l(null,y,{network:n})}var b=new d(m,g);return b.depth=s,b.index=u,b.parentFingerprint=a,b},d.prototype.getAddress=function(){return this.keyPair.getAddress()},d.prototype.getIdentifier=function(){return o.hash160(this.keyPair.getPublicKeyBuffer())},d.prototype.getFingerprint=function(){return this.getIdentifier().slice(0,4)},d.prototype.getNetwork=function(){return this.keyPair.getNetwork()},d.prototype.getPublicKeyBuffer=function(){return this.keyPair.getPublicKeyBuffer()},d.prototype.neutered=function(){var t=new d(new l(null,this.keyPair.Q,{network:this.keyPair.network}),this.chainCode);return t.depth=this.depth,t.index=this.index,t.parentFingerprint=this.parentFingerprint,t},d.prototype.sign=function(t){return this.keyPair.sign(t)},d.prototype.verify=function(t,e){return this.keyPair.verify(t,e)},d.prototype.toBase58=function(t){if(void 0!==t)throw new TypeError("Unsupported argument in 2.0.0");var e=this.keyPair.network,r=this.isNeutered()?e.bip32.public:e.bip32.private,o=n.allocUnsafe(78);return o.writeUInt32BE(r,0),o.writeUInt8(this.depth,4),o.writeUInt32BE(this.parentFingerprint,5),o.writeUInt32BE(this.index,9),this.chainCode.copy(o,13),this.isNeutered()?this.keyPair.getPublicKeyBuffer().copy(o,45):(o.writeUInt8(0,45),this.keyPair.d.toBuffer(32).copy(o,46)),i.encode(o)},d.prototype.derive=function(t){a(u.UInt32,t);var e=t>=d.HIGHEST_BIT,r=n.allocUnsafe(37);if(e){if(this.isNeutered())throw new TypeError("Could not derive hardened child key");r[0]=0,this.keyPair.d.toBuffer(32).copy(r,1),r.writeUInt32BE(t,33)}else this.keyPair.getPublicKeyBuffer().copy(r,0),r.writeUInt32BE(t,33);var i,o=s("sha512",this.chainCode).update(r).digest(),c=o.slice(0,32),h=o.slice(32),m=f.fromBuffer(c);if(m.compareTo(p.n)>=0)return this.derive(t+1);if(this.isNeutered()){var g=p.G.multiply(m).add(this.keyPair.Q);if(p.isInfinity(g))return this.derive(t+1);i=new l(null,g,{network:this.keyPair.network})}else{var v=m.add(this.keyPair.d).mod(p.n);if(0===v.signum())return this.derive(t+1);i=new l(v,null,{network:this.keyPair.network})}var y=new d(i,h);return y.depth=this.depth+1,y.index=t,y.parentFingerprint=this.getFingerprint().readUInt32BE(0),y},d.prototype.deriveHardened=function(t){return a(u.UInt31,t),this.derive(t+d.HIGHEST_BIT)},d.prototype.isNeutered=function(){return!this.keyPair.d},d.prototype.derivePath=function(t){a(u.BIP32Path,t);var e=t.split("/");if("m"===e[0]){if(this.parentFingerprint)throw new Error("Not a master node");e=e.slice(1)}return e.reduce(function(t,e){var r;return"'"===e.slice(-1)?(r=parseInt(e.slice(0,-1),10),t.deriveHardened(r)):(r=parseInt(e,10),t.derive(r))},this)},t.exports=d},function(t,e,r){(function(e){var n=r(317);function i(t,e){if(void 0!==e&&t[0]!==e)throw new Error("Invalid network version");if(33===t.length)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(34!==t.length)throw new Error("Invalid WIF length");if(1!==t[33])throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}function o(t,r,n){var i=new e(n?34:33);return i.writeUInt8(t,0),r.copy(i,1),n&&(i[33]=1),i}t.exports={decode:function(t,e){return i(n.decode(t),e)},decodeRaw:i,encode:function(t,e,r){return"number"==typeof t?n.encode(o(t,e,r)):n.encode(o(t.version,t.privateKey,t.compressed))},encodeRaw:o}}).call(this,r(0).Buffer)},function(t){t.exports={secp128r1:{p:"fffffffdffffffffffffffffffffffff",a:"fffffffdfffffffffffffffffffffffc",b:"e87579c11079f43dd824993c2cee5ed3",n:"fffffffe0000000075a30d1b9038a115",h:"01",Gx:"161ff7528b899b2d0c28607ca52c5b86",Gy:"cf5ac8395bafeb13c02da292dded7a83"},secp160k1:{p:"fffffffffffffffffffffffffffffffeffffac73",a:"00",b:"07",n:"0100000000000000000001b8fa16dfab9aca16b6b3",h:"01",Gx:"3b4c382ce37aa192a4019e763036f4f5dd4d7ebb",Gy:"938cf935318fdced6bc28286531733c3f03c4fee"},secp160r1:{p:"ffffffffffffffffffffffffffffffff7fffffff",a:"ffffffffffffffffffffffffffffffff7ffffffc",b:"1c97befc54bd7a8b65acf89f81d4d4adc565fa45",n:"0100000000000000000001f4c8f927aed3ca752257",h:"01",Gx:"4a96b5688ef573284664698968c38bb913cbfc82",Gy:"23a628553168947d59dcc912042351377ac5fb32"},secp192k1:{p:"fffffffffffffffffffffffffffffffffffffffeffffee37",a:"00",b:"03",n:"fffffffffffffffffffffffe26f2fc170f69466a74defd8d",h:"01",Gx:"db4ff10ec057e9ae26b07d0280b7f4341da5d1b1eae06c7d",Gy:"9b2f2f6d9c5628a7844163d015be86344082aa88d95e2f9d"},secp192r1:{p:"fffffffffffffffffffffffffffffffeffffffffffffffff",a:"fffffffffffffffffffffffffffffffefffffffffffffffc",b:"64210519e59c80e70fa7e9ab72243049feb8deecc146b9b1",n:"ffffffffffffffffffffffff99def836146bc9b1b4d22831",h:"01",Gx:"188da80eb03090f67cbf20eb43a18800f4ff0afd82ff1012",Gy:"07192b95ffc8da78631011ed6b24cdd573f977a11e794811"},secp256k1:{p:"fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f",a:"00",b:"07",n:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",h:"01",Gx:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",Gy:"483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"},secp256r1:{p:"ffffffff00000001000000000000000000000000ffffffffffffffffffffffff",a:"ffffffff00000001000000000000000000000000fffffffffffffffffffffffc",b:"5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b",n:"ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551",h:"01",Gx:"6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296",Gy:"4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"}}},function(t,e,r){var n=r(99),i=r(1230),o=r(531);t.exports=function(t){var e=i[t];if(!e)return null;var r=new n(e.p,16),s=new n(e.a,16),a=new n(e.b,16),u=new n(e.n,16),c=new n(e.h,16),f=new n(e.Gx,16),l=new n(e.Gy,16);return new o(r,s,a,f,l,u,c)}},function(t,e,r){(function(t){var e=r(17),n=r(533);n.fromByteArrayUnsigned=function(t){return 128&t[0]?new n([0].concat(t)):new n(t)},n.prototype.toByteArrayUnsigned=function(){var t=this.toByteArray();return 0===t[0]?t.slice(1):t},n.fromDERInteger=function(t){return new n(t)},n.prototype.toDERInteger=n.prototype.toByteArray,n.fromBuffer=function(t){if(128&t[0]){var e=Array.prototype.slice.call(t);return new n([0].concat(e))}return new n(t)},n.fromHex=function(t){return""===t?n.ZERO:(e.equal(t,t.match(/^[A-Fa-f0-9]+/),"Invalid hex string"),e.equal(t.length%2,0,"Incomplete hex"),new n(t,16))},n.prototype.toBuffer=function(e){for(var r=this.toByteArrayUnsigned(),n=[],i=e-r.length;n.length<i;)n.push(0);return new t(n.concat(r))},n.prototype.toHex=function(t){return this.toBuffer(t).toString("hex")}}).call(this,r(0).Buffer)},function(t){t.exports={_args:[["bigi@1.4.2","/Users/wangyiyi/github/ribbit"]],_from:"bigi@1.4.2",_id:"bigi@1.4.2",_inBundle:!1,_integrity:"sha1-nGZalfiLiwj8Bc/XMfVhhZ1yWCU=",_location:"/bigi",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"bigi@1.4.2",name:"bigi",escapedName:"bigi",rawSpec:"1.4.2",saveSpec:null,fetchSpec:"1.4.2"},_requiredBy:["/bitcoinjs-lib","/ecurve"],_resolved:"https://registry.npmjs.org/bigi/-/bigi-1.4.2.tgz",_spec:"1.4.2",_where:"/Users/wangyiyi/github/ribbit",bugs:{url:"https://github.com/cryptocoinjs/bigi/issues"},dependencies:{},description:"Big integers.",devDependencies:{coveralls:"^2.11.2",istanbul:"^0.3.5",jshint:"^2.5.1",mocha:"^2.1.0",mochify:"^2.1.0"},homepage:"https://github.com/cryptocoinjs/bigi#readme",keywords:["cryptography","math","bitcoin","arbitrary","precision","arithmetic","big","integer","int","number","biginteger","bigint","bignumber","decimal","float"],main:"./lib/index.js",name:"bigi",repository:{url:"git+https://github.com/cryptocoinjs/bigi.git",type:"git"},scripts:{"browser-test":"mochify --wd -R spec",coverage:"istanbul cover ./node_modules/.bin/_mocha -- --reporter list test/*.js",coveralls:"npm run-script coverage && node ./node_modules/.bin/coveralls < coverage/lcov.info",jshint:"jshint --config jshint.json lib/*.js ; true",test:"_mocha -- test/*.js",unit:"mocha"},testling:{files:"test/*.js",harness:"mocha",browsers:["ie/9..latest","firefox/latest","chrome/latest","safari/6.0..latest","iphone/6.0..latest","android-browser/4.2..latest"]},version:"1.4.2"}},function(t,e,r){var n=r(3).Buffer,i=r(163),o=r(22),s=r(33),a=r(99),u=r(316),c=n.alloc(1,0),f=n.alloc(1,1),l=r(315).getCurveByName("secp256k1");function h(t,e,r){o(s.tuple(s.Hash256bit,s.Buffer256bit,s.Function),arguments);var u=n.alloc(32,0),h=n.alloc(32,1);u=i("sha256",u).update(h).update(c).update(e).update(t).digest(),h=i("sha256",u).update(h).digest(),u=i("sha256",u).update(h).update(f).update(e).update(t).digest(),h=i("sha256",u).update(h).digest(),h=i("sha256",u).update(h).digest();for(var p=a.fromBuffer(h);p.signum()<=0||p.compareTo(l.n)>=0||!r(p);)u=i("sha256",u).update(h).update(c).digest(),h=i("sha256",u).update(h).digest(),h=i("sha256",u).update(h).digest(),p=a.fromBuffer(h);return p}var p=l.n.shiftRight(1);t.exports={deterministicGenerateK:h,sign:function(t,e){o(s.tuple(s.Hash256bit,s.BigInt),arguments);var r,n,i=e.toBuffer(32),c=a.fromBuffer(t),f=l.n,d=l.G;return h(t,i,function(t){var i=d.multiply(t);return!l.isInfinity(i)&&0!==(r=i.affineX.mod(f)).signum()&&0!==(n=t.modInverse(f).multiply(c.add(e.multiply(r))).mod(f)).signum()}),n.compareTo(p)>0&&(n=f.subtract(n)),new u(r,n)},verify:function(t,e,r){o(s.tuple(s.Hash256bit,s.ECSignature,s.ECPoint),arguments);var n=l.n,i=l.G,u=e.r,c=e.s;if(u.signum()<=0||u.compareTo(n)>=0)return!1;if(c.signum()<=0||c.compareTo(n)>=0)return!1;var f=a.fromBuffer(t),h=c.modInverse(n),p=f.multiply(h).mod(n),d=u.multiply(h).mod(n),m=i.multiplyTwo(p,r,d);return!l.isInfinity(m)&&m.affineX.mod(n).equals(u)},__curve:l}},function(t,e,r){"use strict";var n=r(86),i=r(3).Buffer;t.exports=function(t){function e(e){var r=e.slice(0,-4),n=e.slice(-4),i=t(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(e){var r=t(e);return n.encode(i.concat([e,r],e.length+4))},decode:function(t){var r=e(n.decode(t));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(t){var r=n.decodeUnsafe(t);if(r)return e(r)}}}},function(t,e,r){"use strict";for(var n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",i={},o=0;o<n.length;o++){var s=n.charAt(o);if(void 0!==i[s])throw new TypeError(s+" is ambiguous");i[s]=o}function a(t){var e=t>>25;return(33554431&t)<<5^996825010&-(e>>0&1)^642813549&-(e>>1&1)^513874426&-(e>>2&1)^1027748829&-(e>>3&1)^705979059&-(e>>4&1)}function u(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)throw new Error("Invalid prefix ("+t+")");e=a(e)^n>>5}for(e=a(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=a(e)^31&i}return e}function c(t,e,r,n){for(var i=0,o=0,s=(1<<r)-1,a=[],u=0;u<t.length;++u)for(i=i<<e|t[u],o+=e;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=e)throw new Error("Excess padding");if(i<<r-o&s)throw new Error("Non-zero padding")}return a}t.exports={decode:function(t,e){if(e=e||90,t.length<8)throw new TypeError(t+" too short");if(t.length>e)throw new TypeError("Exceeds length limit");var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)throw new Error("Mixed-case string "+t);var o=(t=r).lastIndexOf("1");if(-1===o)throw new Error("No separator character for "+t);if(0===o)throw new Error("Missing prefix for "+t);var s=t.slice(0,o),c=t.slice(o+1);if(c.length<6)throw new Error("Data too short");for(var f=u(s),l=[],h=0;h<c.length;++h){var p=c.charAt(h),d=i[p];if(void 0===d)throw new Error("Unknown character "+p);f=a(f)^d,h+6>=c.length||l.push(d)}if(1!==f)throw new Error("Invalid checksum for "+t);return{prefix:s,words:l}},encode:function(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");for(var i=u(t=t.toLowerCase()),o=t+"1",s=0;s<e.length;++s){var c=e[s];if(c>>5!=0)throw new Error("Non 5-bit word");i=a(i)^c,o+=n.charAt(c)}for(s=0;s<6;++s)i=a(i);for(i^=1,s=0;s<6;++s){var f=i>>5*(5-s)&31;o+=n.charAt(f)}return o},toWords:function(t){return c(t,8,5,!0)},fromWords:function(t){return c(t,5,8,!1)}}},function(t,e,r){(function(e){t.exports=function(t,r){if(!Array.isArray(t))throw TypeError("Expected values Array");if("function"!=typeof r)throw TypeError("Expected digest Function");for(var n=t.length,i=t.concat();n>1;){for(var o=0,s=0;s<n;s+=2,++o){var a=i[s],u=s+1===n?a:i[s+1],c=e.concat([a,u]);i[o]=r(c)}n=o}return i[0]}}).call(this,r(0).Buffer)},function(t,e,r){var n=r(3).Buffer,i=r(125),o=r(1237),s=r(22),a=r(33),u=r(321),c=r(320);function f(){this.version=1,this.prevHash=null,this.merkleRoot=null,this.timestamp=0,this.bits=0,this.nonce=0}f.fromBuffer=function(t){if(t.length<80)throw new Error("Buffer too small (< 80 bytes)");var e=0;function r(r){return e+=r,t.slice(e-r,e)}function n(){var r=t.readUInt32LE(e);return e+=4,r}var i=new f;if(i.version=function(){var r=t.readInt32LE(e);return e+=4,r}(),i.prevHash=r(32),i.merkleRoot=r(32),i.timestamp=n(),i.bits=n(),i.nonce=n(),80===t.length)return i;function o(){var r=c.fromBuffer(t.slice(e),!0);return e+=r.byteLength(),r}var s,a=(s=u.decode(t,e),e+=u.decode.bytes,s);i.transactions=[];for(var l=0;l<a;++l){var h=o();i.transactions.push(h)}return i},f.prototype.byteLength=function(t){return t||!this.transactions?80:80+u.encodingLength(this.transactions.length)+this.transactions.reduce(function(t,e){return t+e.byteLength()},0)},f.fromHex=function(t){return f.fromBuffer(n.from(t,"hex"))},f.prototype.getHash=function(){return i.hash256(this.toBuffer(!0))},f.prototype.getId=function(){return this.getHash().reverse().toString("hex")},f.prototype.getUTCDate=function(){var t=new Date(0);return t.setUTCSeconds(this.timestamp),t},f.prototype.toBuffer=function(t){var e,r=n.allocUnsafe(this.byteLength(t)),i=0;function o(t){t.copy(r,i),i+=t.length}function s(t){r.writeUInt32LE(t,i),i+=4}return e=this.version,r.writeInt32LE(e,i),i+=4,o(this.prevHash),o(this.merkleRoot),s(this.timestamp),s(this.bits),s(this.nonce),t||!this.transactions?r:(u.encode(this.transactions.length,r,i),i+=u.encode.bytes,this.transactions.forEach(function(t){var e=t.byteLength();t.toBuffer(r,i),i+=e}),r)},f.prototype.toHex=function(t){return this.toBuffer(t).toString("hex")},f.calculateTarget=function(t){var e=((4278190080&t)>>24)-3,r=8388607&t,i=n.alloc(32,0);return i.writeUInt32BE(r,28-e),i},f.calculateMerkleRoot=function(t){if(s([{getHash:a.Function}],t),0===t.length)throw TypeError("Cannot compute merkle root for zero transactions");var e=t.map(function(t){return t.getHash()});return o(e,i.hash256)},f.prototype.checkMerkleRoot=function(){if(!this.transactions)return!1;var t=f.calculateMerkleRoot(this.transactions);return 0===this.merkleRoot.compare(t)},f.prototype.checkProofOfWork=function(){var t=this.getHash().reverse(),e=f.calculateTarget(this.bits);return t.compare(e)<=0},t.exports=f},function(t,e,r){var n=r(3).Buffer,i=r(29),o=r(33),s=r(22),a=r(41),u=n.from("aa21a9ed","hex");function c(t){var e=i.compile(t);return e.length>37&&e[0]===a.OP_RETURN&&36===e[1]&&e.slice(2,6).equals(u)}c.toJSON=function(){return"Witness commitment output"},t.exports={check:c,decode:function(t){return s(c,t),i.decompile(t)[1].slice(4,36)},encode:function(t){s(o.Hash256bit,t);var e=n.allocUnsafe(36);return u.copy(e,0),t.copy(e,4),i.compile([a.OP_RETURN,e])}}},function(t,e,r){t.exports={output:r(1239)}},function(t,e,r){(function(e){var n=r(29),i=r(33),o=r(22),s=r(324),a=r(323),u=r(322);function c(t,r){if(o(i.Array,t),t.length<1)return!1;var c=t[t.length-1];if(!e.isBuffer(c))return!1;var f=n.decompile(c);if(0===f.length)return!1;var l=n.compile(t.slice(0,-1));return!(!u.input.check(l)||!u.output.check(f))||(!(!s.input.check(l,r)||!s.output.check(f))||!(!a.input.check(l)||!a.output.check(f)))}c.toJSON=function(){return"witnessScriptHash input"},t.exports={check:c,decodeStack:function(t){return o(o.Array,t),o(c,t),{witnessData:t.slice(0,-1),witnessScript:t[t.length-1]}},encodeStack:function(t,e){return o({witnessData:[i.Buffer],witnessScript:i.Buffer},{witnessData:t,witnessScript:e}),[].concat(t,e)}}}).call(this,r(0).Buffer)},function(t,e,r){t.exports={input:r(1241),output:r(535)}},function(t,e,r){var n=r(29),i=r(22);function o(t){return n.isCanonicalPubKey(t)&&33===t.length}function s(t){var e=n.decompile(t);return 2===e.length&&n.isCanonicalSignature(e[0])&&o(e[1])}s.toJSON=function(){return"witnessPubKeyHash input"},t.exports={check:s,decodeStack:function(t){return i(i.Array,t),i(s,t),{signature:t[0],pubKey:t[1]}},encodeStack:function(t,e){return i({signature:n.isCanonicalSignature,pubKey:o},{signature:t,pubKey:e}),[t,e]}}},function(t,e,r){t.exports={input:r(1243),output:r(536)}},function(t,e,r){var n=r(29),i=r(33),o=r(22),s=r(41);function a(t){var e=n.compile(t);return 23===e.length&&e[0]===s.OP_HASH160&&20===e[1]&&e[22]===s.OP_EQUAL}a.toJSON=function(){return"scriptHash output"},t.exports={check:a,decode:function(t){return o(a,t),t.slice(2,22)},encode:function(t){return o(i.Hash160bit,t),n.compile([s.OP_HASH160,t,s.OP_EQUAL])}}},function(t,e,r){var n=r(3).Buffer,i=r(29),o=r(22),s=r(324),a=r(323),u=r(322),c=r(536),f=r(535);function l(t,e){var r=i.decompile(t);if(r.length<1)return!1;var o=r[r.length-1];if(!n.isBuffer(o))return!1;var l=i.decompile(i.compile(r.slice(0,-1))),h=i.decompile(o);return 0!==h.length&&(!!i.isPushOnly(l)&&(1===r.length?f.check(h)||c.check(h):!(!u.input.check(l)||!u.output.check(h))||(!(!s.input.check(l,e)||!s.output.check(h))||!(!a.input.check(l)||!a.output.check(h)))))}function h(t,e){var r=i.compile(e);return[].concat(t,r)}function p(t){return o(o.Array,t),o(l,t),{redeemScriptStack:t.slice(0,-1),redeemScript:t[t.length-1]}}l.toJSON=function(){return"scriptHash input"},t.exports={check:l,decode:function(t){var e=p(i.decompile(t));return e.redeemScriptSig=i.compile(e.redeemScriptStack),delete e.redeemScriptStack,e},decodeStack:p,encode:function(t,e){var r=i.decompile(t);return i.compile(h(r,e))},encodeStack:h}},function(t,e,r){t.exports={input:r(1246),output:r(1245)}},function(t,e,r){var n=r(29),i=r(33),o=r(22),s=r(41);function a(t){var e=n.compile(t);return 25===e.length&&e[0]===s.OP_DUP&&e[1]===s.OP_HASH160&&20===e[2]&&e[23]===s.OP_EQUALVERIFY&&e[24]===s.OP_CHECKSIG}a.toJSON=function(){return"pubKeyHash output"},t.exports={check:a,decode:function(t){return o(a,t),t.slice(3,23)},encode:function(t){return o(i.Hash160bit,t),n.compile([s.OP_DUP,s.OP_HASH160,t,s.OP_EQUALVERIFY,s.OP_CHECKSIG])}}},function(t,e,r){var n=r(29),i=r(22);function o(t){var e=n.decompile(t);return 2===e.length&&n.isCanonicalSignature(e[0])&&n.isCanonicalPubKey(e[1])}function s(t,e){return i({signature:n.isCanonicalSignature,pubKey:n.isCanonicalPubKey},{signature:t,pubKey:e}),[t,e]}function a(t){return i(i.Array,t),i(o,t),{signature:t[0],pubKey:t[1]}}o.toJSON=function(){return"pubKeyHash input"},t.exports={check:o,decode:function(t){return a(n.decompile(t))},decodeStack:a,encode:function(t,e){return n.compile(s(t,e))},encodeStack:s}},function(t,e,r){var n=r(29),i=r(22),o=r(41);function s(t){var e=n.decompile(t);return 2===e.length&&n.isCanonicalPubKey(e[0])&&e[1]===o.OP_CHECKSIG}s.toJSON=function(){return"pubKey output"},t.exports={check:s,decode:function(t){var e=n.decompile(t);return i(s,e),e[0]},encode:function(t){return i(n.isCanonicalPubKey,t),n.compile([t,o.OP_CHECKSIG])}}},function(t,e,r){var n=r(29),i=r(22);function o(t){var e=n.decompile(t);return 1===e.length&&n.isCanonicalSignature(e[0])}function s(t){return i(n.isCanonicalSignature,t),[t]}function a(t){return i(i.Array,t),i(o,t),t[0]}o.toJSON=function(){return"pubKey input"},t.exports={check:o,decode:function(t){return a(n.decompile(t))},decodeStack:a,encode:function(t){return n.compile(s(t))},encodeStack:s}},function(t,e,r){var n=r(29),i=r(33),o=r(22),s=r(41);function a(t){var e=n.compile(t);return e.length>1&&e[0]===s.OP_RETURN}a.toJSON=function(){return"null data output"},t.exports={output:{check:a,decode:function(t){return o(a,t),t.slice(2)},encode:function(t){return o(i.Buffer,t),n.compile([s.OP_RETURN,t])}}}},function(t,e,r){var n=r(3).Buffer,i=r(29),o=r(537),s=r(22),a=r(41);function u(t){return t===a.OP_0||i.isCanonicalSignature(t)}function c(t,e){var r=i.decompile(t);return!(r.length<2)&&(r[0]===a.OP_0&&(e?r.slice(1).every(u):r.slice(1).every(i.isCanonicalSignature)))}c.toJSON=function(){return"multisig input"};var f=n.allocUnsafe(0);function l(t,e){if(s([u],t),e){var r=o.decode(e);if(t.length<r.m)throw new TypeError("Not enough signatures provided");if(t.length>r.pubKeys.length)throw new TypeError("Too many signatures provided")}return[].concat(f,t.map(function(t){return t===a.OP_0?f:t}))}function h(t,e){return s(s.Array,t),s(c,t,e),t.slice(1)}t.exports={check:c,decode:function(t,e){return h(i.decompile(t),e)},decodeStack:h,encode:function(t,e){return i.compile(l(t,e))},encodeStack:l}},function(t,e,r){var n=r(41),i={};for(var o in n){i[n[o]]=o}t.exports=i},function(t,e,r){(function(e){var n=r(326),i=r(539);function o(t){return e.isBuffer(t)}function s(t){return"string"==typeof t&&/^([0-9a-f]{2})+$/i.test(t)}function a(t,e){var r=t.toJSON();function n(n){if(!t(n))return!1;if(n.length===e)return!0;throw i.tfCustomError(r+"(Length: "+e+")",r+"(Length: "+n.length+")")}return n.toJSON=function(){return r},n}var u=a.bind(null,n.Array),c=a.bind(null,o),f=a.bind(null,s),l=a.bind(null,n.String),h=Math.pow(2,53)-1;var p={ArrayN:u,Buffer:o,BufferN:c,Finite:function(t){return"number"==typeof t&&isFinite(t)},Hex:s,HexN:f,Int8:function(t){return t<<24>>24===t},Int16:function(t){return t<<16>>16===t},Int32:function(t){return(0|t)===t},StringN:l,UInt8:function(t){return(255&t)===t},UInt16:function(t){return(65535&t)===t},UInt32:function(t){return t>>>0===t},UInt53:function(t){return"number"==typeof t&&t>=0&&t<=h&&Math.floor(t)===t}};for(var d in p)p[d].toJSON=function(t){return t}.bind(null,d);t.exports=p}).call(this,r(0).Buffer)},function(t,e,r){var n=r(29),i=r(325);for(var o in i)n[o]=i[o];t.exports={bufferutils:r(534),Block:r(1238),ECPair:r(319),ECSignature:r(316),HDNode:r(1228),Transaction:r(320),TransactionBuilder:r(1227),address:r(318),crypto:r(125),networks:r(151),opcodes:r(41),script:n}},function(t,e,r){"use strict";const n=r(541),i=(t,e)=>{switch(e){case"version":return t.version;case"timestamp":return t.timestamp;case"difficulty":return t.bits;case"nonce":return t.nonce;case"parent":return{"/":n.hashToCid(t.prevHash)};case"tx":return{"/":n.hashToCid(t.merkleRoot)};default:return null}};t.exports={multicodec:"bitcoin-block",resolve:(t,e,r)=>{"function"==typeof e&&(r=e,e=void 0),n.deserialize(t,(t,n)=>{if(t)return r(t);if(!e)return r(null,{value:n,remainderPath:""});const o=e.split("/"),s=i(n,o[0]);if(null===s)return r(new Error("No such path"),null);let a=o.slice(1).join("/");return void 0!==s["/"]?r(null,{value:s,remainderPath:a}):a.length>0?r(new Error("No such path"),null):r(null,{value:s,remainderPath:""})})},tree:(t,e,r)=>{"function"==typeof e&&(r=e,e=void 0),e=e||{},n.deserialize(t,(t,n)=>{if(t)return r(t);const o=["version","timestamp","difficulty","nonce","parent","tx"];if(!0===e.values){const t={};for(let e of o)t[e]=i(n,e);return r(null,t)}return r(null,o)})}}},function(t,e,r){"use strict";e.resolver=r(1257),e.util=r(541)},function(t,e,r){"use strict";const n=r(203),i=r(201).SmartBuffer,o=r(202);(e=t.exports).serialize=((t,e)=>{let r=[];Object.keys(t).forEach(e=>{r.push([e,t[e]])}),r.sort((t,e)=>t[0]>e[0]?1:-1);let s=new i;r.forEach(t=>{s.writeStringNT(t[1].mode+" "+t[0]),s.writeBuffer(o.cidToSha(t[1].hash["/"]))});let a=new i;a.writeString("tree "),a.writeString(s.length.toString()),a.writeUInt8(0),a.writeBuffer(s.toBuffer()),n(()=>e(null,a.toBuffer()))}),e.deserialize=((t,e)=>{let r={},s=i.fromBuffer(t,"utf8");for(;;){let t=s.readStringNT();if(""===t)break;let i=s.readBuffer(o.SHA1_LENGTH),a=t.match(/^(\d+) (.+)$/);a||n(()=>e(new Error("invalid file mode/name"))),r[a[2]]&&n(()=>e(new Error("duplicate file in tree"))),r[a[2]]={mode:a[1],hash:{"/":o.shaToCid(i)}}}n(()=>e(null,r))})},function(t,e,r){"use strict";(function(n){const i=r(203),o=r(201).SmartBuffer,s=r(202);(e=t.exports).serialize=((t,e)=>{let r=[];r.push("object "+s.cidToSha(t.object["/"]).toString("hex")),r.push("type "+t.type),r.push("tag "+t.tag),null!==t.tagger&&r.push("tagger "+s.serializePersonLine(t.tagger)),r.push(""),r.push(t.message);let n=r.join("\n"),a=new o;a.writeString("tag "),a.writeString(n.length.toString()),a.writeUInt8(0),a.writeString(n),i(()=>e(null,a.toBuffer()))}),e.deserialize=((t,e)=>{let r=t.toString().split("\n"),o={gitType:"tag"};for(let t=0;t<r.length;t++){let a=r[t].match(/^([^ ]+) (.+)$/);if(null===a){""!==r[t]&&i(()=>e(new Error("Invalid tag line "+t))),o.message=r.slice(t+1).join("\n");break}let u=a[1],c=a[2];switch(u){case"object":o.object={"/":s.shaToCid(n.from(c,"hex"))};break;case"tagger":o.tagger=s.parsePersonLine(c);break;case"tag":o.tag=c;break;case"type":o.type=c;break;default:o[u]=c}}i(()=>e(null,o))})}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(n){const i=r(203),o=r(201).SmartBuffer,s=r(202);(e=t.exports).serialize=((t,e)=>{let r=[];r.push("tree "+s.cidToSha(t.tree["/"]).toString("hex")),t.parents.forEach(t=>{r.push("parent "+s.cidToSha(t["/"]).toString("hex"))}),r.push("author "+s.serializePersonLine(t.author)),r.push("committer "+s.serializePersonLine(t.committer)),t.encoding&&r.push("encoding "+t.encoding),t.signature&&(r.push("gpgsig -----BEGIN PGP SIGNATURE-----"),r.push(t.signature.text)),r.push(""),r.push(t.message);let n=r.join("\n"),a=new o;a.writeString("commit "),a.writeString(n.length.toString()),a.writeUInt8(0),a.writeString(n),i(()=>e(null,a.toBuffer()))}),e.deserialize=((t,e)=>{let r=t.toString().split("\n"),o={gitType:"commit",parents:[]};for(let t=0;t<r.length;t++){let a=r[t].match(/^([^ ]+) (.+)$/);if(!a){""!==r[t]&&i(()=>e(new Error("Invalid commit line "+t))),o.message=r.slice(t+1).join("\n");break}let u=a[1],c=a[2];switch(u){case"tree":o.tree={"/":s.shaToCid(n.from(c,"hex"))};break;case"committer":o.committer=s.parsePersonLine(c);break;case"author":o.author=s.parsePersonLine(c);break;case"parent":o.parents.push({"/":s.shaToCid(n.from(c,"hex"))});break;case"gpgsig":{"-----BEGIN PGP SIGNATURE-----"!==c&&i(()=>e(new Error("Invalid commit line "+t))),o.signature={};let n=t;for(;t<r.length-1;t++)if(" "!==r[t+1][0]){o.signature.text=r.slice(n+1,t+1).join("\n");break}break}default:o[u]=c}}i(()=>e(null,o))})}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});const r={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};function n(t){return"number"==typeof t&&isFinite(t)&&function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}(t)}function i(t,e){if("number"!=typeof t)throw new Error(e?r.INVALID_OFFSET_NON_NUMBER:r.INVALID_LENGTH_NON_NUMBER);if(!n(t)||t<0)throw new Error(e?r.INVALID_OFFSET:r.INVALID_LENGTH)}e.ERRORS=r,e.checkEncoding=function(e){if(!t.isEncoding(e))throw new Error(r.INVALID_ENCODING)},e.isFiniteInteger=n,e.checkLengthValue=function(t){i(t,!1)},e.checkOffsetValue=function(t){i(t,!0)},e.checkTargetOffset=function(t,e){if(t<0||t>e.length)throw new Error(r.INVALID_TARGET_OFFSET)}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,o.default)(arguments),r=e.pop();t.call(this,e,r)}};var n,i=r(328),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(function(e,r){var i;try{i=t.apply(this,e)}catch(t){return r(t)}(0,n.default)(i)&&"function"==typeof i.then?i.then(function(t){a(r,null,t)},function(t){a(r,t.message?t:new Error(t))}):r(null,i)})};var n=s(r(23)),i=s(r(1263)),o=s(r(543));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){try{t(e,r)}catch(t){(0,o.default)(u,t)}}function u(t){throw t}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var n,i=r(1264),o=(n=i)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol;function a(t){return s&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return a(t)?(0,o.default)(t):t},e.isAsync=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(e=(0,o.default)(e||i.default),!(0,n.default)(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function c(e){var n=(0,u.default)(t[r++]);e.push((0,a.default)(f)),n.apply(null,e)}function f(n){if(n||r===t.length)return e.apply(null,arguments);c((0,s.default)(arguments,1))}c([])};var n=c(r(31)),i=c(r(4)),o=c(r(1267)),s=c(r(328)),a=c(r(1266)),u=c(r(1265));function c(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";e.util=r(544),e.resolver=r(542)},function(t,e){function r(t){this.obj=t}t.exports=function(t){return new r(t).isCircular()},r.prototype.isCircular=function(t,e){if(t=t||this.obj,e=e||[],!(t instanceof Object))throw new TypeError('"obj" must be an object (or inherit from it)');for(var r in e.push(t),t){var n=t[r];if(n instanceof Object&&(~e.indexOf(n)||this.isCircular(n,e.slice())))return!0}return!1}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(547),o=(n=i)&&n.__esModule?n:{default:n};e.default=o.default,t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,o.default)(arguments),r=e.pop();t.call(this,e,r)}};var n,i=r(329),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(function(e,r){var i;try{i=t.apply(this,e)}catch(t){return r(t)}(0,n.default)(i)&&"function"==typeof i.then?i.then(function(t){a(r,null,t)},function(t){a(r,t.message?t:new Error(t))}):r(null,i)})};var n=s(r(23)),i=s(r(1272)),o=s(r(547));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){try{t(e,r)}catch(t){(0,o.default)(u,t)}}function u(t){throw t}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var n,i=r(1273),o=(n=i)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol;function a(t){return s&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return a(t)?(0,o.default)(t):t},e.isAsync=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(e=(0,o.default)(e||i.default),!(0,n.default)(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function c(e){var n=(0,u.default)(t[r++]);e.push((0,a.default)(f)),n.apply(null,e)}function f(n){if(n||r===t.length)return e.apply(null,arguments);c((0,s.default)(arguments,1))}c([])};var n=c(r(31)),i=c(r(4)),o=c(r(1276)),s=c(r(329)),a=c(r(1275)),u=c(r(1274));function c(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";(function(e){const n=r(164),i=r(205),o=r(330),s=r(204),a=s.MT,u=s.NUMBYTES,c=s.SHIFT32,f=s.SYMS,l=s.TAG,h=s.MT.SIMPLE_FLOAT<<5|s.NUMBYTES.TWO,p=s.MT.SIMPLE_FLOAT<<5|s.NUMBYTES.FOUR,d=s.MT.SIMPLE_FLOAT<<5|s.NUMBYTES.EIGHT,m=s.MT.SIMPLE_FLOAT<<5|s.SIMPLE.TRUE,g=s.MT.SIMPLE_FLOAT<<5|s.SIMPLE.FALSE,v=s.MT.SIMPLE_FLOAT<<5|s.SIMPLE.UNDEFINED,y=s.MT.SIMPLE_FLOAT<<5|s.SIMPLE.NULL,b=new i("0x20000000000000"),w=new e("f97e00","hex"),_=new e("f9fc00","hex"),k=new e("f97c00","hex");class S{constructor(t){t=t||{},this.streaming="function"==typeof t.stream,this.onData=t.stream,this.semanticTypes=[[n.Url,this._pushUrl],[i,this._pushBigNumber]];const e=t.genTypes||[],r=e.length;for(let t=0;t<r;t++)this.addSemanticType(e[t][0],e[t][1]);this._reset()}addSemanticType(t,e){const r=this.semanticTypes.length;for(let n=0;n<r;n++){if(this.semanticTypes[n][0]===t){const t=this.semanticTypes[n][1];return this.semanticTypes[n][1]=e,t}}return this.semanticTypes.push([t,e]),null}push(t){return!t||(this.result[this.offset]=t,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=t.length,this.offset++,this.streaming&&this.onData(this.finalize()),!0)}pushWrite(t,e,r){return this.result[this.offset]=t,this.resultMethod[this.offset]=e,this.resultLength[this.offset]=r,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(t){return this.pushWrite(t,1,1)}_pushUInt16BE(t){return this.pushWrite(t,2,2)}_pushUInt32BE(t){return this.pushWrite(t,3,4)}_pushDoubleBE(t){return this.pushWrite(t,4,8)}_pushNaN(){return this.push(w)}_pushInfinity(t){const e=t<0?_:k;return this.push(e)}_pushFloat(t){const r=new e(2);if(o.writeHalf(r,t)&&o.parseHalf(r)===t)return this._pushUInt8(h)&&this.push(r);const n=new e(4);return n.writeFloatBE(t,0),n.readFloatBE(0)===t?this._pushUInt8(p)&&this.push(n):this._pushUInt8(d)&&this._pushDoubleBE(t)}_pushInt(t,e,r){const n=e<<5;return t<24?this._pushUInt8(n|t):t<=255?this._pushUInt8(n|u.ONE)&&this._pushUInt8(t):t<=65535?this._pushUInt8(n|u.TWO)&&this._pushUInt16BE(t):t<=4294967295?this._pushUInt8(n|u.FOUR)&&this._pushUInt32BE(t):t<=Number.MAX_SAFE_INTEGER?this._pushUInt8(n|u.EIGHT)&&this._pushUInt32BE(Math.floor(t/c))&&this._pushUInt32BE(t%c):e===a.NEG_INT?this._pushFloat(r):this._pushFloat(t)}_pushIntNum(t){return t<0?this._pushInt(-t-1,a.NEG_INT,t):this._pushInt(t,a.POS_INT)}_pushNumber(t){switch(!1){case t==t:return this._pushNaN(t);case isFinite(t):return this._pushInfinity(t);case t%1!=0:return this._pushIntNum(t);default:return this._pushFloat(t)}}_pushString(t){const r=e.byteLength(t,"utf8");return this._pushInt(r,a.UTF8_STRING)&&this.pushWrite(t,5,r)}_pushBoolean(t){return this._pushUInt8(t?m:g)}_pushUndefined(t){return this._pushUInt8(v)}_pushArray(t,e){const r=e.length;if(!t._pushInt(r,a.ARRAY))return!1;for(let n=0;n<r;n++)if(!t.pushAny(e[n]))return!1;return!0}_pushTag(t){return this._pushInt(t,a.TAG)}_pushDate(t,e){return t._pushTag(l.DATE_EPOCH)&&t.pushAny(e/1e3)}_pushBuffer(t,e){return t._pushInt(e.length,a.BYTE_STRING)&&t.push(e)}_pushNoFilter(t,e){return t._pushBuffer(t,e.slice())}_pushRegexp(t,e){return t._pushTag(l.REGEXP)&&t.pushAny(e.source)}_pushSet(t,e){if(!t._pushInt(e.size,a.ARRAY))return!1;for(let r of e)if(!t.pushAny(r))return!1;return!0}_pushUrl(t,e){return t._pushTag(l.URI)&&t.pushAny(e.format())}_pushBigint(t){let r=l.POS_BIGINT;t.isNegative()&&(t=t.negated().minus(1),r=l.NEG_BIGINT);let n=t.toString(16);n.length%2&&(n="0"+n);const i=new e(n,"hex");return this._pushTag(r)&&this._pushBuffer(this,i)}_pushBigNumber(t,e){if(e.isNaN())return t._pushNaN();if(!e.isFinite())return t._pushInfinity(e.isNegative()?-1/0:1/0);if(e.isInteger())return t._pushBigint(e);if(!t._pushTag(l.DECIMAL_FRAC)||!t._pushInt(2,a.ARRAY))return!1;const r=e.decimalPlaces(),n=e.mul(new i(10).pow(r));return!!t._pushIntNum(-r)&&(n.abs().lessThan(b)?t._pushIntNum(n.toNumber()):t._pushBigint(n))}_pushMap(t,e){return!!t._pushInt(e.size,a.MAP)&&this._pushRawMap(e.size,Array.from(e))}_pushObject(t){if(!t)return this._pushUInt8(y);for(var e=this.semanticTypes.length,r=0;r<e;r++)if(t instanceof this.semanticTypes[r][0])return this.semanticTypes[r][1].call(t,this,t);var n=t.encodeCBOR;if("function"==typeof n)return n.call(t,this);var i=Object.keys(t),o=i.length;return!!this._pushInt(o,a.MAP)&&this._pushRawMap(o,i.map(e=>[e,t[e]]))}_pushRawMap(t,e){e=e.map(function(t){return t[0]=S.encode(t[0]),t}).sort(o.keySorter);for(var r=0;r<t;r++){if(!this.push(e[r][0]))return!1;if(!this.pushAny(e[r][1]))return!1}return!0}write(t){this.pushAny(t)}pushAny(t){switch(function(t){return{}.toString.call(t).slice(8,-1)}(t)){case"Number":return this._pushNumber(t);case"String":return this._pushString(t);case"Boolean":return this._pushBoolean(t);case"Object":return this._pushObject(t);case"Array":return this._pushArray(this,t);case"Uint8Array":return this._pushBuffer(this,t);case"Null":return this._pushUInt8(y);case"Undefined":return this._pushUndefined(t);case"Map":return this._pushMap(this,t);case"Set":return this._pushSet(this,t);case"Date":return this._pushDate(this,t);case"RegExp":return this._pushRegexp(this,t);case"Symbol":switch(t){case f.NULL:return this._pushObject(null);case f.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+t.toString())}default:throw new Error("Unknown type: "+typeof t+", "+(t?t.toString():""))}}finalize(){if(0===this.offset)return null;for(var t=this.result,r=this.resultLength,n=this.resultMethod,i=this.offset,o=0,s=0;s<i;s++)o+=r[s];var a=e.allocUnsafe(o),u=0,c=0;for(s=0;s<i;s++){switch(c=r[s],n[s]){case 0:t[s].copy(a,u);break;case 1:a.writeUInt8(t[s],u,!0);break;case 2:a.writeUInt16BE(t[s],u,!0);break;case 3:a.writeUInt32BE(t[s],u,!0);break;case 4:a.writeDoubleBE(t[s],u,!0);break;case 5:a.write(t[s],u,c,"utf8");break;default:throw new Error("unkown method")}u+=c}var f=a;return this._reset(),f}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(t){const e=new S;return e.pushAny(t),e.finalize()}}t.exports=S}).call(this,r(0).Buffer)},function(t,e){t.exports=function(t,e,r){"use asm";var n=new t.Uint8Array(r);var i=e.pushInt;var o=e.pushInt32;var s=e.pushInt32Neg;var a=e.pushInt64;var u=e.pushInt64Neg;var c=e.pushFloat;var f=e.pushFloatSingle;var l=e.pushFloatDouble;var h=e.pushTrue;var p=e.pushFalse;var d=e.pushUndefined;var m=e.pushNull;var g=e.pushInfinity;var v=e.pushInfinityNeg;var y=e.pushNaN;var b=e.pushNaNNeg;var w=e.pushArrayStart;var _=e.pushArrayStartFixed;var k=e.pushArrayStartFixed32;var S=e.pushArrayStartFixed64;var x=e.pushObjectStart;var E=e.pushObjectStartFixed;var C=e.pushObjectStartFixed32;var A=e.pushObjectStartFixed64;var M=e.pushByteString;var I=e.pushByteStringStart;var T=e.pushUtf8String;var O=e.pushUtf8StringStart;var B=e.pushSimpleUnassigned;var P=e.pushTagStart;var N=e.pushTagStart4;var R=e.pushTagStart8;var F=e.pushTagUnassigned;var j=e.pushBreak;var L=t.Math.pow;var D=0;var U=0;var z=0;function H(t){t=t|0;D=0;U=t;while((D|0)<(U|0)){z=$t[n[D]&255](n[D]|0)|0;if((z|0)>0){break}}return z|0}function K(t){t=t|0;if(((D|0)+(t|0)|0)<(U|0)){return 0}return 1}function q(t){t=t|0;return n[t|0]<<8|n[t+1|0]|0}function V(t){t=t|0;i(t|0);D=D+1|0;return 0}function W(t){t=t|0;if(K(1)|0){return 1}i(n[D+1|0]|0);D=D+2|0;return 0}function G(t){t=t|0;if(K(2)|0){return 1}i(q(D+1|0)|0);D=D+3|0;return 0}function Y(t){t=t|0;if(K(4)|0){return 1}o(q(D+1|0)|0,q(D+3|0)|0);D=D+5|0;return 0}function $(t){t=t|0;if(K(8)|0){return 1}a(q(D+1|0)|0,q(D+3|0)|0,q(D+5|0)|0,q(D+7|0)|0);D=D+9|0;return 0}function Z(t){t=t|0;i(-1-(t-32|0)|0);D=D+1|0;return 0}function X(t){t=t|0;if(K(1)|0){return 1}i(-1-(n[D+1|0]|0)|0);D=D+2|0;return 0}function J(t){t=t|0;var e=0;if(K(2)|0){return 1}e=q(D+1|0)|0;i(-1-(e|0)|0);D=D+3|0;return 0}function Q(t){t=t|0;if(K(4)|0){return 1}s(q(D+1|0)|0,q(D+3|0)|0);D=D+5|0;return 0}function tt(t){t=t|0;if(K(8)|0){return 1}u(q(D+1|0)|0,q(D+3|0)|0,q(D+5|0)|0,q(D+7|0)|0);D=D+9|0;return 0}function et(t){t=t|0;var e=0;var r=0;var n=0;n=t-64|0;if(K(n|0)|0){return 1}e=D+1|0;r=(D+1|0)+(n|0)|0;M(e|0,r|0);D=r|0;return 0}function rt(t){t=t|0;var e=0;var r=0;var i=0;if(K(1)|0){return 1}i=n[D+1|0]|0;e=D+2|0;r=(D+2|0)+(i|0)|0;if(K(i+1|0)|0){return 1}M(e|0,r|0);D=r|0;return 0}function nt(t){t=t|0;var e=0;var r=0;var n=0;if(K(2)|0){return 1}n=q(D+1|0)|0;e=D+3|0;r=(D+3|0)+(n|0)|0;if(K(n+2|0)|0){return 1}M(e|0,r|0);D=r|0;return 0}function it(t){t=t|0;return 1}function ot(t){t=t|0;return 1}function st(t){t=t|0;I();D=D+1|0;return 0}function at(t){t=t|0;var e=0;var r=0;var n=0;n=t-96|0;if(K(n|0)|0){return 1}e=D+1|0;r=(D+1|0)+(n|0)|0;T(e|0,r|0);D=r|0;return 0}function ut(t){t=t|0;var e=0;var r=0;var i=0;if(K(1)|0){return 1}i=n[D+1|0]|0;e=D+2|0;r=(D+2|0)+(i|0)|0;if(K(i+1|0)|0){return 1}T(e|0,r|0);D=r|0;return 0}function ct(t){t=t|0;var e=0;var r=0;var n=0;if(K(2)|0){return 1}n=q(D+1|0)|0;e=D+3|0;r=(D+3|0)+(n|0)|0;if(K(n+2|0)|0){return 1}T(e|0,r|0);D=r|0;return 0}function ft(t){t=t|0;return 1}function lt(t){t=t|0;return 1}function ht(t){t=t|0;O();D=D+1|0;return 0}function pt(t){t=t|0;_(t-128|0);D=D+1|0;return 0}function dt(t){t=t|0;if(K(1)|0){return 1}_(n[D+1|0]|0);D=D+2|0;return 0}function mt(t){t=t|0;if(K(2)|0){return 1}_(q(D+1|0)|0);D=D+3|0;return 1}function gt(t){t=t|0;if(K(4)|0){return 1}k(q(D+1|0)|0,q(D+3|0)|0);D=D+5|0;return 0}function vt(t){t=t|0;if(K(8)|0){return 1}S(q(D+1|0)|0,q(D+3|0)|0,q(D+5|0)|0,q(D+7|0)|0);D=D+9|0;return 0}function yt(t){t=t|0;w();D=D+1|0;return 0}function bt(t){t=t|0;var e=0;e=t-160|0;if(K(e|0)|0){return 1}E(e|0);D=D+1|0;return 0}function wt(t){t=t|0;if(K(1)|0){return 1}E(n[D+1|0]|0);D=D+2|0;return 0}function _t(t){t=t|0;if(K(2)|0){return 1}E(q(D+1|0)|0);D=D+3|0;return 0}function kt(t){t=t|0;if(K(4)|0){return 1}C(q(D+1|0)|0,q(D+3|0)|0);D=D+5|0;return 0}function St(t){t=t|0;if(K(8)|0){return 1}A(q(D+1|0)|0,q(D+3|0)|0,q(D+5|0)|0,q(D+7|0)|0);D=D+9|0;return 0}function xt(t){t=t|0;x();D=D+1|0;return 0}function Et(t){t=t|0;P(t-192|0|0);D=D+1|0;return 0}function Ct(t){t|0;P(t|0);D=D+1|0;return 0}function At(t){t|0;P(t|0);D=D+1|0;return 0}function Mt(t){t|0;P(t|0);D=D+1|0;return 0}function It(t){t|0;P(t|0);D=D+1|0;return 0}function Tt(t){t=t|0;P(t-192|0|0);D=D+1|0;return 0}function Ot(t){t|0;P(t|0);D=D+1|0;return 0}function Bt(t){t|0;P(t|0);D=D+1|0;return 0}function Pt(t){t|0;P(t|0);D=D+1|0;return 0}function Nt(t){t=t|0;if(K(1)|0){return 1}P(n[D+1|0]|0);D=D+2|0;return 0}function Rt(t){t=t|0;if(K(2)|0){return 1}P(q(D+1|0)|0);D=D+3|0;return 0}function Ft(t){t=t|0;if(K(4)|0){return 1}N(q(D+1|0)|0,q(D+3|0)|0);D=D+5|0;return 0}function jt(t){t=t|0;if(K(8)|0){return 1}R(q(D+1|0)|0,q(D+3|0)|0,q(D+5|0)|0,q(D+7|0)|0);D=D+9|0;return 0}function Lt(t){t=t|0;B((t|0)-224|0);D=D+1|0;return 0}function Dt(t){t=t|0;p();D=D+1|0;return 0}function Ut(t){t=t|0;h();D=D+1|0;return 0}function zt(t){t=t|0;m();D=D+1|0;return 0}function Ht(t){t=t|0;d();D=D+1|0;return 0}function Kt(t){t=t|0;if(K(1)|0){return 1}B(n[D+1|0]|0);D=D+2|0;return 0}function qt(t){t=t|0;var e=0;var r=0;var i=1.0;var o=0.0;var s=0.0;var a=0.0;if(K(2)|0){return 1}e=n[D+1|0]|0;r=n[D+2|0]|0;if((e|0)&0x80){i=-1.0}o=+(((e|0)&0x7C)>>2);s=+(((e|0)&0x03)<<8|r);if(+o==0.0){c(+(+i*+5.9604644775390625e-8*+s))}else if(+o==31.0){if(+i==1.0){if(+s>0.0){y()}else{g()}}else{if(+s>0.0){b()}else{v()}}}else{c(+(+i*L(+2,+(+o-25.0))*+(1024.0+s)))}D=D+3|0;return 0}function Vt(t){t=t|0;if(K(4)|0){return 1}f(n[D+1|0]|0,n[D+2|0]|0,n[D+3|0]|0,n[D+4|0]|0);D=D+5|0;return 0}function Wt(t){t=t|0;if(K(8)|0){return 1}l(n[D+1|0]|0,n[D+2|0]|0,n[D+3|0]|0,n[D+4|0]|0,n[D+5|0]|0,n[D+6|0]|0,n[D+7|0]|0,n[D+8|0]|0);D=D+9|0;return 0}function Gt(t){t=t|0;return 1}function Yt(t){t=t|0;j();D=D+1|0;return 0}var $t=[V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,W,G,Y,$,Gt,Gt,Gt,Gt,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,X,J,Q,tt,Gt,Gt,Gt,Gt,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,et,rt,nt,it,ot,Gt,Gt,Gt,st,at,at,at,at,at,at,at,at,at,at,at,at,at,at,at,at,at,at,at,at,at,at,at,at,ut,ct,ft,lt,Gt,Gt,Gt,ht,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,pt,dt,mt,gt,vt,Gt,Gt,Gt,yt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,bt,wt,_t,kt,St,Gt,Gt,Gt,xt,Et,Et,Et,Et,Et,Et,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Tt,Nt,Rt,Ft,jt,Gt,Gt,Gt,Gt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Lt,Dt,Ut,zt,Ht,Kt,qt,Vt,Wt,Gt,Gt,Gt,Yt];return{parse:H}}},function(t,e,r){"use strict";(function(e){const n=r(550),i=r(330);class o extends n{createTag(t,e){return`${t}(${e})`}createInt(t){return super.createInt(t).toString()}createInt32(t,e){return super.createInt32(t,e).toString()}createInt64(t,e,r,n){return super.createInt64(t,e,r,n).toString()}createInt32Neg(t,e){return super.createInt32Neg(t,e).toString()}createInt64Neg(t,e,r,n){return super.createInt64Neg(t,e,r,n).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(t){const e=super.createFloat(t);return i.isNegativeZero(t)?"-0_1":`${e}_1`}createFloatSingle(t,e,r,n){return`${super.createFloatSingle(t,e,r,n)}_2`}createFloatDouble(t,e,r,n,i,o,s,a){return`${super.createFloatDouble(t,e,r,n,i,o,s,a)}_3`}createByteString(t,e){const r=t.join(", ");return-1===e?`(_ ${r})`:`h'${r}`}createByteStringFromHeap(t,r){return`h'${new e(super.createByteStringFromHeap(t,r)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(t){return`simple(${t})`}createArray(t,e){const r=super.createArray(t,e);return-1===e?`[_ ${r.join(", ")}]`:`[${r.join(", ")}]`}createMap(t,e){const r=super.createMap(t),n=Array.from(r.keys()).reduce(s(r),"");return-1===e?`{_ ${n}}`:`{${n}}`}createObject(t,e){const r=super.createObject(t),n=Object.keys(r).reduce(s(r),"");return-1===e?`{_ ${n}}`:`{${n}}`}createUtf8String(t,e){const r=t.join(", ");return-1===e?`(_ ${r})`:`"${r}"`}createUtf8StringFromHeap(t,r){return`"${new e(super.createUtf8StringFromHeap(t,r)).toString("utf8")}"`}static diagnose(t,r){return"string"==typeof t&&(t=new e(t,r||"hex")),(new o).decodeFirst(t)}}function s(t){return(e,r)=>e?`${e}, ${r}: ${t[r]}`:`${r}: ${t[r]}`}t.exports=o}).call(this,r(0).Buffer)},function(t,e,r){"use strict";e.Diagnose=r(1280),e.Decoder=r(550),e.Encoder=r(1278),e.Simple=r(549),e.Tagged=r(548),e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.decode=e.Decoder.decode,e.leveldb={decode:e.Decoder.decodeAll,encode:e.Encoder.encode,buffer:!0,name:"cbor"}},function(t,e,r){"use strict";e.util=r(551),e.resolver=r(546)},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(331),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,o.default)(arguments),r=e.pop();t.call(this,e,r)}};var n,i=r(331),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(function(e,r){var i;try{i=t.apply(this,e)}catch(t){return r(t)}(0,n.default)(i)&&"function"==typeof i.then?i.then(function(t){a(r,null,t)},function(t){a(r,t.message?t:new Error(t))}):r(null,i)})};var n=s(r(23)),i=s(r(1284)),o=s(r(1283));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){try{t(e,r)}catch(t){(0,o.default)(u,t)}}function u(t){throw t}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var n,i=r(1285),o=(n=i)&&n.__esModule?n:{default:n};var s="function"==typeof Symbol;function a(t){return s&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return a(t)?(0,o.default)(t):t},e.isAsync=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(e=(0,o.default)(e||i.default),!(0,n.default)(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function c(e){var n=(0,u.default)(t[r++]);e.push((0,a.default)(f)),n.apply(null,e)}function f(n){if(n||r===t.length)return e.apply(null,arguments);c((0,s.default)(arguments,1))}c([])};var n=c(r(31)),i=c(r(4)),o=c(r(1288)),s=c(r(331)),a=c(r(1287)),u=c(r(1286));function c(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";const n=r(1289),i=r(18),o=r(333);(e=t.exports).multicodec="dag-pb",e.resolve=((t,e,r)=>{n([e=>o.deserialize(t,e),(t,n)=>{if(!e)return r(null,{value:t,remainderPath:""});const i=e.split("/");if("Links"===i[0]){let e="";if(!i[1])return n(null,{value:t.links.map(t=>t.toJSON()),remainderPath:""});const r={};t.links.forEach((t,e)=>{const n=t.toJSON();r[e]={hash:n.multihash,name:n.name,size:n.size},r[n.name]=n.multihash});let o=r[i[1]];"Hash"===i[2]?o={"/":o.hash}:"Tsize"===i[2]?o={"/":o.size}:"Name"===i[2]&&(o={"/":o.name}),n(null,{value:o,remainderPath:e=i.slice(3).join("/")})}else"Data"===i[0]?n(null,{value:t.data,remainderPath:""}):n(new Error("path not available"))}],r)}),e.tree=((t,e,r)=>{"function"==typeof e&&(r=e,e={}),e=e||{},o.deserialize(t,(t,e)=>{if(t)return r(t);const n=[];n.push("Links"),e.links.forEach((t,e)=>{n.push(`Links/${e}/Name`),n.push(`Links/${e}/Tsize`),n.push(`Links/${e}/Hash`)}),n.push("Data"),r(null,n)})}),e.isLink=((t,r,n)=>{e.resolve(t,r,(t,e)=>{if(t)return n(t);if(e.remainderPath.length>0)return n(new Error("path out of scope"));if("object"==typeof e.value&&e.value["/"]){let r;try{r=i.isCID(new i(e.value["/"]))}catch(t){r=!1}if(r)return n(null,e.value)}n(null,!1)})})},function(t,e,r){"use strict";(function(e){const n=r(206),i=n.cloneLinks,o=n.cloneData,s=r(207);t.exports=function(t,r,n){const a=o(t);let u=i(t);if("string"==typeof r)u=u.filter(t=>t.name!==r);else{if(!e.isBuffer(r))return n(new Error("second arg needs to be a name or multihash"),null);u=u.filter(t=>!t.multihash.equals(r))}s(a,u,n)}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(206),i=n.cloneLinks,o=n.cloneData,s=n.toDAGLink,a=r(100),u=r(207);t.exports=function(t,e,r){const n=i(t),c=o(t);if(e.constructor&&"DAGLink"===e.constructor.name);else if(e.constructor&&"DAGNode"===e.constructor.name)e=s(e);else{e.multihash=e.multihash||e.hash;try{e=new a(e.name,e.size,e.multihash)}catch(t){return r(t)}}n.push(e),u(c,n,r)}},function(t,e,r){"use strict";const n=r(206),i=n.cloneLinks,o=n.cloneData,s=r(207);t.exports=function(t,e){const r=o(t),n=i(t);s(r,n,e)}},function(t,e,r){"use strict";const n=r(100);(e=t.exports).isDagLink=function(t){return t&&t.constructor&&"DAGLink"===t.constructor.name},e.createDagLinkFromB58EncodedHash=function(t){return new n(t.name?t.name:t.Name,t.size?t.size:t.Size,t.hash||t.Hash||t.multihash)}},function(t,e,r){"use strict";const n=r(100);t.exports=function(t,e,r,i){i(null,new n(t,e,r))}},function(t,e,r){"use strict";t.exports="// An IPFS MerkleDAG Link\nmessage PBLink {\n\n  // multihash of the target object\n  optional bytes Hash = 1;\n\n  // utf string name. should be unique per object\n  optional string Name = 2;\n\n  // cumulative size of target object\n  optional uint64 Tsize = 3;\n}\n\n// An IPFS MerkleDAG Node\nmessage PBNode {\n\n  // refs to other objects\n  repeated PBLink Links = 2;\n\n  // opaque user data\n  optional bytes Data = 1;\n}"},function(t,e,r){"use strict";var n=r(332).defined,i=r(35);t.exports=function(t,e,r){for(var o=Object.keys(r),s=e.length,a=new Array(s),u=0;u<t.fields.length;u++){a[u]=i.encodingLength(t.fields[u].tag<<3|e[u].type);var c=t.fields[u];t.fields[u].packed=c.repeated&&c.options&&c.options.packed&&"false"!==c.options.packed}return function(u){var c=0,f=0,l=0;for(f=0;f<o.length;f++){var h=o[f],p=r[h],d=!1;for(l=0;l<p.length;l++)if(n(u[p[l]])){if(d)throw new Error("only one of the properties defined in oneof "+h+" can be set");d=!0}}for(f=0;f<s;f++){var m,g=e[f],v=t.fields[f],y=u[v.name],b=a[f];if(n(y)){if(v.map){var w=Object.keys(y);for(l=0;l<w.length;l++)w[l]={key:w[l],value:y[w[l]]};y=w}if(v.packed){var _=0;for(l=0;l<y.length;l++)n(y[l])&&(_+=m=g.encodingLength(y[l]),g.message&&(_+=i.encodingLength(m)));_&&(c+=b+_+i.encodingLength(_))}else if(v.repeated)for(l=0;l<y.length;l++)n(y[l])&&(c+=b+(m=g.encodingLength(y[l]))+(g.message?i.encodingLength(m):0));else c+=b+(m=g.encodingLength(y))+(g.message?i.encodingLength(m):0)}else if(v.required)throw new Error(v.name+" is required")}return c}}},function(t,e,r){"use strict";(function(e){var n=r(332).defined,i=r(35);t.exports=function(t,r,o,s,a){for(var u=Object.keys(s),c=o.length,f={},l=0;l<c;l++){f[l]={p:i.encode(t.fields[l].tag<<3|2),h:i.encode(t.fields[l].tag<<3|o[l].type)};var h=t.fields[l];t.fields[l].packed=h.repeated&&h.options&&h.options.packed&&"false"!==h.options.packed}function p(t,e,r,n,o,s){var a=0;if(!o)for(a=0;a<r.length;a++)t[e++]=r[a];return n.message&&(i.encode(n.encodingLength(s),t,e),e+=i.encode.bytes),n.encode(s,t,e),e+n.encode.bytes}return function r(l,h,d){null==d&&(d=0),null==h&&(h=e.allocUnsafe(a(l)));var m=d,g=Object.keys(l),v=0,y=!1;for(v=0;v<u.length;v++){var b=u[v],w=s[v];if(g.indexOf(w)>-1){if(y)throw new Error("only one of the properties defined in oneof "+b+" can be set");y=!0}}for(v=0;v<c;v++){var _=o[v],k=t.fields[v],S=l[k.name],x=0;if(n(S)){var E,C=f[v].p,A=f[v].h,M=k.packed;if(k.map){var I=Object.keys(S);for(x=0;x<I.length;x++)I[x]={key:I[x],value:S[I[x]]};S=I}if(M){var T=0;for(x=0;x<S.length;x++)n(S[x])&&(T+=_.encodingLength(S[x]));if(T){for(x=0;x<A.length;x++)h[d++]=C[x];i.encode(T,h,d),d+=i.encode.bytes}}if(k.repeated)for(x=0;x<S.length;x++)E=S[x],n(E)&&(d=p(h,d,A,_,M,E));else d=p(h,d,A,_,M,S)}else if(k.required)throw new Error(k.name+" is required")}return r.bytes=d-m,h}}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";var n=r(35),i=r(332).defined;var o=function(t,e,r){switch(t){case 0:return n.decode(e,r),r+n.decode.bytes;case 1:return r+8;case 2:var i=n.decode(e,r);return r+n.decode.bytes+i;case 3:case 4:throw new Error("Groups are not supported");case 5:return r+4;default:throw new Error("Unknown wire type: "+t)}},s=function(t,e){if(t.map)return{};if(t.repeated)return[];switch(t.type){case"string":return null!=e?e:"";case"bool":return"true"===e;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return parseInt(e||0,10);default:return null}};t.exports=function(t,e,r){for(var a=[],u={},c=[],f=[],l=0;l<r.length;l++){var h=t.fields[l];u[h.tag]=l;var p=h.options&&h.options.default,d=e(h.type,t.id,!1);f[l]=[p,d&&d.values],t.fields[l].packed=h.repeated&&h.options&&h.options.packed&&"false"!==h.options.packed,h.required&&a.push(h.name),h.oneof&&c.push(h.name)}function m(t,e,r,i,o,s){var a=e.name;if(e.oneof)for(var u=Object.keys(r),f=0;f<u.length;f++)c.indexOf(u[f])>-1&&delete r[u[f]];if(t.message){var l=n.decode(i,o);o+=n.decode.bytes;var h=t.decode(i,o,o+l);e.map?(r[a]=r[a]||{},r[a][h.key]=h.value):e.repeated?(r[a]=r[a]||[],r[a].push(h)):r[a]=h}else e.repeated?(r[a]=r[a]||[],r[a].push(t.decode(i,o))):r[a]=t.decode(i,o);return o+=t.decode.bytes}return function e(l,h,p){if(null==h&&(h=0),null==p&&(p=l.length),!(p<=l.length&&h<=l.length))throw new Error("Decoded message is not valid");for(var d,g=h,v={};;){if(p<=h){var y,b,w="",_=0;for(_=0;_<a.length;_++)if(w=a[_],!i(v[w]))throw new Error("Decoded message is not valid, missing required field: "+w);for(_=0;_<r.length;_++)if(d=t.fields[_],b=f[_][0],y=f[_][1],w=d.name,!i(v[w])){var k=!1;if(d.oneof)for(var S=Object.keys(v),x=0;x<S.length;x++)if(c.indexOf(S[x])>-1){k=!0;break}k||(y?d.repeated?v[w]=[]:(b=b&&y[b]?y[b].value:y[Object.keys(y)[0]].value,v[w]=parseInt(b||0,10)):v[w]=s(d,b))}return e.bytes=h-g,v}var E=n.decode(l,h);h+=n.decode.bytes;var C=u[E>>3];if(null!=C){var A=r[C];if((d=t.fields[C]).packed){var M=n.decode(l,h);for(M+=h+=n.decode.bytes;h<M;)h=m(A,d,v,l,h)}else h=m(A,d,v,l,h)}else h=o(7&E,l,h)}}}},function(t,e,r){var n=r(35);e.encode=function t(e,r,i){e=e>=0?2*e:-2*e-1;var o=n.encode(e,r,i);return t.bytes=n.encode.bytes,o},e.decode=function t(e,r){var i=n.decode(e,r);return t.bytes=n.decode.bytes,1&i?(i+1)/-2:i/2},e.encodingLength=function(t){return n.encodingLength(t>=0?2*t:-2*t-1)}},function(t,e,r){"use strict";var n,i,o,s=r(35),a=r(1300),u=r(3).Buffer,c=function(t,e,r,n){return e.bytes=r.bytes=0,{type:t,encode:e,decode:r,encodingLength:n}};e.make=c,e.bytes=(n=function(t){return u.isBuffer(t)?t.length:u.byteLength(t)},c(2,i=function(t,e,r){var o=r,a=n(t);return s.encode(a,e,r),r+=s.encode.bytes,u.isBuffer(t)?t.copy(e,r):e.write(t,r,a),r+=a,i.bytes=r-o,e},o=function(t,e){var r=e,n=s.decode(t,e);e+=s.decode.bytes;var i=t.slice(e,e+n);return e+=i.length,o.bytes=e-r,i},function(t){var e=n(t);return s.encodingLength(e)+e})),e.string=function(){var t=function(e,r,n){var i=n,o=u.byteLength(e);return s.encode(o,r,n,"utf-8"),n+=s.encode.bytes,r.write(e,n,o),n+=o,t.bytes=n-i,r},e=function(t,r){var n=r,i=s.decode(t,r);r+=s.decode.bytes;var o=t.toString("utf-8",r,r+i);return r+=i,e.bytes=r-n,o};return c(2,t,e,function(t){var e=u.byteLength(t);return s.encodingLength(e)+e})}(),e.bool=function(){var t=function(e,r,n){return r[n]=e?1:0,t.bytes=1,r},e=function(t,r){var n=t[r]>0;return e.bytes=1,n};return c(0,t,e,function(t){return 1})}(),e.int32=function(){var t=function(e,r){var n=s.decode(e,r);return t.bytes=s.decode.bytes,n>2147483647?n-4294967296:n};return c(0,s.encode,t,function(t){return s.encodingLength(t<0?t+4294967296:t)})}(),e.int64=function(){var t=function(e,r){var n=s.decode(e,r);if(n>=Math.pow(2,63)){for(var i=9;255===e[r+i-1];)i--;i=i||9;var o=u.allocUnsafe(i);e.copy(o,0,r,r+i),o[i-1]=127&o[i-1],n=-1*s.decode(o,0),t.bytes=10}else t.bytes=s.decode.bytes;return n},e=function(t,r,n){if(t<0){var i=n+9;for(s.encode(-1*t,r,n),r[n+=s.encode.bytes-1]=128|r[n];n<i-1;)r[++n]=255;r[i]=1,e.bytes=10}else s.encode(t,r,n),e.bytes=s.encode.bytes;return r};return c(0,e,t,function(t){return t<0?10:s.encodingLength(t)})}(),e.sint32=e.sint64=c(0,a.encode,a.decode,a.encodingLength),e.uint32=e.uint64=e.enum=e.varint=c(0,s.encode,s.decode,s.encodingLength),e.fixed64=e.sfixed64=function(){var t=function(e,r,n){return e.copy(r,n),t.bytes=8,r},e=function(t,r){var n=t.slice(r,r+8);return e.bytes=8,n};return c(1,t,e,function(t){return 8})}(),e.double=function(){var t=function(e,r,n){return r.writeDoubleLE(e,n),t.bytes=8,r},e=function(t,r){var n=t.readDoubleLE(r);return e.bytes=8,n};return c(1,t,e,function(t){return 8})}(),e.fixed32=function(){var t=function(e,r,n){return r.writeUInt32LE(e,n),t.bytes=4,r},e=function(t,r){var n=t.readUInt32LE(r);return e.bytes=4,n};return c(5,t,e,function(t){return 4})}(),e.sfixed32=function(){var t=function(e,r,n){return r.writeInt32LE(e,n),t.bytes=4,r},e=function(t,r){var n=t.readInt32LE(r);return e.bytes=4,n};return c(5,t,e,function(t){return 4})}(),e.float=function(){var t=function(e,r,n){return r.writeFloatLE(e,n),t.bytes=4,r},e=function(t,r){var n=t.readFloatLE(r);return e.bytes=4,n};return c(5,t,e,function(t){return 4})}()},function(t,e,r){"use strict";var n=r(1301),i=r(1299),o=r(1298),s=r(1297),a=r(35);t.exports=function(t,e){var r={},u={},c={},f=function(t,e){t.enums&&t.enums.forEach(function(t){t.id=e+(e?".":"")+t.name,u[t.id]=t,f(t,t.id)}),t.messages&&t.messages.forEach(function(n){n.id=e+(e?".":"")+n.name,r[n.id]=n,n.fields.forEach(function(n){if(n.map){var i="Map_"+n.map.from+"_"+n.map.to,o={name:i,enums:[],messages:[],fields:[{name:"key",type:n.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:n.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:e+(e?".":"")+i};r[o.id]||(r[o.id]=o,t.messages.push(o)),n.type=i,n.repeated=!0}}),f(n,n.id)})};f(t,"");var l=function(t,e){t.messages.forEach(function(r){e[r.name]=h(r.name,t.id)}),t.enums.forEach(function(t){e[t.name]=function(t){if(!t)return null;var e={};return Object.keys(t).forEach(function(r){e[r]=t[r].value}),e}(t.values)}),e.type=2,e.message=!0,e.name=t.name;var r={};t.fields.forEach(function(t){t.oneof&&(r[t.oneof]||(r[t.oneof]=[]),r[t.oneof].push(t.name))});var n=t.fields.map(function(e){return h(e.type,t.id)}),a=s(t,n,r),u=o(t,h,n,r,a),c=i(t,h,n);return u.bytes=c.bytes=0,e.buffer=!0,e.encode=u,e.decode=c,e.encodingLength=a,e},h=function(t,i,o){if(e&&e[t])return e[t];if(n[t])return n[t];var s,f,h=(i?i+"."+t:t).split(".").map(function(e,r,n){return n.slice(0,r).concat(t).join(".")}).reverse().reduce(function(t,e){return t||r[e]||u[e]},null);if(!1===o)return h;if(!h)throw new Error("Could not resolve "+t);return h.values?(s=h,f=Object.keys(s.values||[]).map(function(t){return parseInt(s.values[t].value,10)}),n.make(0,function t(e,r,n){if(!f.length||-1===f.indexOf(e))throw new Error("Invalid enum value: "+e);return a.encode(e,r,n),t.bytes=a.encode.bytes,r},function t(e,r){var n=a.decode(e,r);if(!f.length||-1===f.indexOf(n))throw new Error("Invalid enum value: "+n);return t.bytes=a.decode.bytes,n},a.encodingLength)):c[h.id]||l(h,c[h.id]={})};return(t.enums||[]).concat((t.messages||[]).map(function(t){return h(t.id)}))}},function(t,e){var r=function(t,e){var r=t.repeated?"repeated":t.required?"required":"optional";"map"===t.type&&(r="map<"+t.map.from+","+t.map.to+">"),t.oneof&&(r="");var n=Object.keys(t.options||{}).map(function(e){return e+" = "+t.options[e]}).join(",");return n&&(n=" ["+n+"]"),e.push((r?r+" ":"")+("map"===t.map?"":t.type+" ")+t.name+" = "+t.tag+n+";"),e},n=function(t,e){e.push("message "+t.name+" {"),t.enums||(t.enums=[]),t.enums.forEach(function(t){e.push(i(t,[]))}),t.messages||(t.messages=[]),t.messages.forEach(function(t){e.push(n(t,[]))});var o={};return t.fields||(t.fields=[]),t.fields.forEach(function(t){t.oneof?(o[t.oneof]||(o[t.oneof]=[]),o[t.oneof].push(r(t,[]))):e.push(r(t,[]))}),Object.keys(o).forEach(function(t){o[t].unshift("oneof "+t+" {"),o[t].push("}"),e.push(o[t])}),e.push("}",""),e},i=function(t,e){e.push("enum "+t.name+" {"),t.options||(t.options={});var r=s(t.options,[]);return r.length>1&&e.push(r.slice(0,-1)),Object.keys(t.values).map(function(r){var n=o(t.values[r]);e.push([r+" = "+n+";"])}),e.push("}",""),e},o=function(t,e){var r=Object.keys(t.options||{}).map(function(e){return e+" = "+t.options[e]}).join(",");return r&&(r=" ["+r+"]"),t.value+r},s=function(t,e){var r=Object.keys(t);return r.forEach(function(r){var n=t[r];~r.indexOf(".")&&(r="("+r+")");var i=typeof n;"object"===i?(n=a(n,[])).length&&e.push("option "+r+" = {",n,"};"):("string"===i&&"optimize_for"!==r&&(n='"'+n+'"'),e.push("option "+r+" = "+n+";"))}),r.length>0&&e.push(""),e},a=function(t,e){return Object.keys(t).forEach(function(r){var n=t[r],i=typeof n;"object"===i?Array.isArray(n)?n.forEach(function(t){(t=a(t,[])).length&&e.push(r+" {",t,"}")}):(n=a(n,[])).length&&e.push(r+" {",n,"}"):("string"===i&&(n='"'+n+'"'),e.push(r+": "+n))}),e},u=function(t,e){var r="rpc "+t.name+"(";t.client_streaming&&(r+="stream "),r+=t.input_type+") returns (",t.server_streaming&&(r+="stream "),r+=t.output_type+")",t.options||(t.options={});var n=s(t.options,[]);return n.length>1?e.push(r+" {",n.slice(0,-1),"}"):e.push(r+";"),e},c=function(t){return function(e){return Array.isArray(e)?e.map(c(t+"  ")).join("\n"):t+e}};t.exports=function(t){var e=[];return e.push('syntax = "proto'+t.syntax+'";',""),t.package&&e.push("package "+t.package+";",""),t.options||(t.options={}),s(t.options,e),t.enums||(t.enums=[]),t.enums.forEach(function(t){i(t,e)}),t.messages||(t.messages=[]),t.messages.forEach(function(t){n(t,e)}),t.services&&t.services.forEach(function(t){!function(t,e){e.push("service "+t.name+" {"),t.options||(t.options={}),s(t.options,e),t.methods||(t.methods=[]),t.methods.forEach(function(t){e.push(u(t,[]))}),e.push("}","")}(t,e)}),e.map(c("")).join("\n")}},function(t,e){t.exports=function(t){var e,r=function(t){return t.trim()};return t.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(r).filter(Boolean).map(function(t){var e=t.indexOf("//");return e>-1?t.slice(0,e):t}).map(r).filter(Boolean).join("\n").split(/\s+|\n+/gm).filter((e=!1,function(t){return"/*"===t?(e=!0,!1):"*/"===t?(e=!1,!1):!e}))}},function(t,e,r){var n=r(1304),i=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],o=function(t){for(var e={};t.length;)switch(t[0]){case"[":case",":t.shift();var r=t.shift();if("("===r&&(r=t.shift(),t.shift()),"="!==t[0])throw new Error("Unexpected token in field options: "+t[0]);if(t.shift(),"]"===t[0])throw new Error("Unexpected ] in field option");e[r]=t.shift();break;case"]":return t.shift(),e;default:throw new Error("Unexpected token in field options: "+t[0])}throw new Error("No closing tag for field options")},s=function(t){for(var e={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};t.length;)switch(t[0]){case"=":t.shift(),e.tag=Number(t.shift());break;case"map":if(e.type="map",e.map={from:null,to:null},t.shift(),"<"!==t[0])throw new Error("Unexpected token in map type: "+t[0]);if(t.shift(),e.map.from=t.shift(),","!==t[0])throw new Error("Unexpected token in map type: "+t[0]);if(t.shift(),e.map.to=t.shift(),">"!==t[0])throw new Error("Unexpected token in map type: "+t[0]);t.shift(),e.name=t.shift();break;case"repeated":case"required":case"optional":var r=t.shift();e.required="required"===r,e.repeated="repeated"===r,e.type=t.shift(),e.name=t.shift();break;case"[":e.options=o(t);break;case";":if(null===e.name)throw new Error("Missing field name");if(null===e.type)throw new Error("Missing type in message field: "+e.name);if(-1===e.tag)throw new Error("Missing tag number in message field: "+e.name);return t.shift(),e;default:throw new Error("Unexpected token in message field: "+t[0])}throw new Error("No ; found for message field")},a=function(t){for(var e={enums:[],messages:[],fields:[],extends:[],extensions:null};t.length;)switch(t[0]){case"map":case"repeated":case"optional":case"required":e.fields.push(s(t));break;case"enum":e.enums.push(d(t));break;case"message":e.messages.push(f(t));break;case"extensions":e.extensions=c(t);break;case"oneof":t.shift();var r=t.shift();if("{"!==t[0])throw new Error("Unexpected token in oneof: "+t[0]);for(t.shift();"}"!==t[0];){t.unshift("optional");var n=s(t);n.oneof=r,e.fields.push(n)}t.shift();break;case"extend":e.extends.push(u(t));break;case";":t.shift();break;case"reserved":case"option":for(t.shift();";"!==t[0];)t.shift();break;default:t.unshift("optional"),e.fields.push(s(t))}return e},u=function(t){return{name:t[1],message:f(t)}},c=function(t){t.shift();var e=Number(t.shift());if(isNaN(e))throw new Error("Invalid from in extensions definition");if("to"!==t.shift())throw new Error("Expected keyword 'to' in extensions definition");var r=t.shift();if("max"===r&&(r=536870911),r=Number(r),isNaN(r))throw new Error("Invalid to in extensions definition");if(";"!==t.shift())throw new Error("Missing ; in extensions definition");return{from:e,to:r}},f=function(t){t.shift();var e=1,r=[],n={name:t.shift(),enums:[],extends:[],messages:[],fields:[]};if("{"!==t[0])throw new Error("Expected { but found "+t[0]);for(t.shift();t.length;){if("{"===t[0]?e++:"}"===t[0]&&e--,!e)return t.shift(),r=a(r),n.enums=r.enums,n.messages=r.messages,n.fields=r.fields,n.extends=r.extends,n.extensions=r.extensions,n;r.push(t.shift())}if(e)throw new Error("No closing tag for message")},l=function(t){t.shift();var e=t.shift();if(";"!==t[0])throw new Error("Expected ; but found "+t[0]);return t.shift(),e},h=function(t){if(t.shift(),"="!==t[0])throw new Error("Expected = but found "+t[0]);t.shift();var e=t.shift();switch(e){case'"proto2"':e=2;break;case'"proto3"':e=3;break;default:throw new Error("Expected protobuf syntax version but found "+e)}if(";"!==t[0])throw new Error("Expected ; but found "+t[0]);return t.shift(),e},p=function(t){if(t.length<4)throw new Error("Invalid enum value: "+t.slice(0,3).join(" "));if("="!==t[1])throw new Error("Expected = but found "+t[1]);if(";"!==t[3]&&"["!==t[3])throw new Error("Expected ; or [ but found "+t[1]);var e=t.shift();t.shift();var r={value:null,options:{}};return r.value=Number(t.shift()),"["===t[0]&&(r.options=o(t)),t.shift(),{name:e,val:r}},d=function(t){t.shift();var e={},r={name:t.shift(),values:{},options:{}};if("{"!==t[0])throw new Error("Expected { but found "+t[0]);for(t.shift();t.length;){if("}"===t[0])return t.shift(),";"===t[0]&&t.shift(),r;if("option"!==t[0]){var n=p(t);r.values[n.name]=n.val}else e=m(t),r.options[e.name]=e.value}throw new Error("No closing tag for enum")},m=function(t){for(var e=null,r=null,n=function(t){return"true"===t||"false"!==t&&t.replace(/^"+|"+$/gm,"")};t.length;){if(";"===t[0])return t.shift(),{name:e,value:r};switch(t[0]){case"option":t.shift();var i="("===t[0];if(i&&t.shift(),e=t.shift(),i){if(")"!==t[0])throw new Error("Expected ) but found "+t[0]);t.shift()}"."===t[0][0]&&(e+=t.shift());break;case"=":if(t.shift(),null===e)throw new Error("Expected key for option with value: "+t[0]);if(r=n(t.shift()),"optimize_for"===e&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(r))throw new Error("Unexpected value for option optimize_for: "+r);"{"===r&&(r=g(t));break;default:throw new Error("Unexpected token in option: "+t[0])}}},g=function(t){for(var e=function(t){return"true"===t||"false"!==t&&t.replace(/^"+|"+$/gm,"")},r={};t.length;){if("}"===t[0])return t.shift(),r;var n="("===t[0];n&&t.shift();var i=t.shift();if(n){if(")"!==t[0])throw new Error("Expected ) but found "+t[0]);t.shift()}var o=null;switch(t[0]){case":":if(void 0!==r[i])throw new Error("Duplicate option map key "+i);t.shift(),"{"===(o=e(t.shift()))&&(o=g(t)),r[i]=o,";"===t[0]&&t.shift();break;case"{":if(t.shift(),o=g(t),void 0===r[i]&&(r[i]=[]),!Array.isArray(r[i]))throw new Error("Duplicate option map key "+i);r[i].push(o);break;default:throw new Error("Unexpected token in option map: "+t[0])}}throw new Error("No closing tag for option map")},v=function(t){t.shift();var e=t.shift().replace(/^"+|"+$/gm,"");if(";"!==t[0])throw new Error("Unexpected token: "+t[0]+'. Expected ";"');return t.shift(),e},y=function(t){t.shift();var e={name:t.shift(),methods:[],options:{}};if("{"!==t[0])throw new Error("Expected { but found "+t[0]);for(t.shift();t.length;){if("}"===t[0])return t.shift(),";"===t[0]&&t.shift(),e;switch(t[0]){case"option":var r=m(t);if(void 0!==e.options[r.name])throw new Error("Duplicate option "+r.name);e.options[r.name]=r.value;break;case"rpc":e.methods.push(b(t));break;default:throw new Error("Unexpected token in service: "+t[0])}}throw new Error("No closing tag for service")},b=function(t){t.shift();var e={name:t.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if("("!==t[0])throw new Error("Expected ( but found "+t[0]);if(t.shift(),"stream"===t[0]&&(t.shift(),e.client_streaming=!0),e.input_type=t.shift(),")"!==t[0])throw new Error("Expected ) but found "+t[0]);if(t.shift(),"returns"!==t[0])throw new Error("Expected returns but found "+t[0]);if(t.shift(),"("!==t[0])throw new Error("Expected ( but found "+t[0]);if(t.shift(),"stream"===t[0]&&(t.shift(),e.server_streaming=!0),e.output_type=t.shift(),")"!==t[0])throw new Error("Expected ) but found "+t[0]);if(t.shift(),";"===t[0])return t.shift(),e;if("{"!==t[0])throw new Error("Expected { but found "+t[0]);for(t.shift();t.length;){if("}"===t[0])return t.shift(),";"===t[0]&&t.shift(),e;if("option"!==t[0])throw new Error("Unexpected token in rpc options: "+t[0]);var r=m(t);if(void 0!==e.options[r.name])throw new Error("Duplicate option "+r.name);e.options[r.name]=r.value}throw new Error("No closing tag for rpc")};t.exports=function(t){for(var e=n(t.toString()),r=0;r<e.length;r++){var o;if(/^("|')([^'"]*)$/.test(e[r]))for(o=1===e[r].length?r+1:r;o<e.length;o++)if(/^([^'"]*)("|')$/.test(e[o])){e=e.slice(0,r).concat(e.slice(r,o+1).join("")).concat(e.slice(o+1));break}}for(var s={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},a=!0;e.length;){switch(e[0]){case"package":s.package=l(e);break;case"syntax":if(!a)throw new Error("Protobuf syntax version should be first thing in file");s.syntax=h(e);break;case"message":s.messages.push(f(e));break;case"enum":s.enums.push(d(e));break;case"option":var c=m(e);if(s.options[c.name])throw new Error("Duplicate option "+c.name);s.options[c.name]=c.value;break;case"import":s.imports.push(v(e));break;case"extend":s.extends.push(u(e));break;case"service":s.services||(s.services=[]),s.services.push(y(e));break;default:throw new Error("Unexpected token: "+e[0])}a=!1}return s.extends.forEach(function(t){s.messages.forEach(function(e){e.name===t.name&&t.message.fields.forEach(function(t){if(!e.extensions||t.tag<e.extensions.from||t.tag>e.extensions.to)throw new Error(e.name+" does not declare "+t.tag+" as an extension number");e.fields.push(t)})})}),s.messages.forEach(function(t){t.fields.forEach(function(e){var r,n,o,a;if(e.options&&"true"===e.options.packed&&-1===i.indexOf(e.type)){if(-1===e.type.indexOf(".")){if(t.enums&&t.enums.some(function(t){return t.name===e.type}))return}else{if((r=e.type.split(".")).length>2)throw new Error("what is this?");if(n=r[0],o=r[1],s.messages.some(function(t){if(t.name===n)return a=t,t}),a&&a.enums&&a.enums.some(function(t){return t.name===o}))return}throw new Error("Fields of type "+e.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}})}),s}},function(t,e,r){var n=r(1305),i=r(1303);t.exports=n,t.exports.parse=n,t.exports.stringify=i},function(t,e,r){
//! stable.js 0.1.8, https://github.com/Two-Screen/stable
//! © 2018 Angry Bytes and contributors. MIT licensed.
t.exports=function(){"use strict";var t=function(t,r){return e(t.slice(),r)};function e(t,e){"function"!=typeof e&&(e=function(t,e){return String(t).localeCompare(e)});var n=t.length;if(n<=1)return t;for(var i=new Array(n),o=1;o<n;o*=2){r(t,e,o,i);var s=t;t=i,i=s}return t}t.inplace=function(t,n){var i=e(t,n);return i!==t&&r(i,null,t.length,t),t};var r=function(t,e,r,n){var i,o,s,a,u,c=t.length,f=0,l=2*r;for(i=0;i<c;i+=l)for(s=(o=i+r)+r,o>c&&(o=c),s>c&&(s=c),a=i,u=o;;)if(a<o&&u<s)e(t[a],t[u])<=0?n[f++]=t[a++]:n[f++]=t[u++];else if(a<o)n[f++]=t[a++];else{if(!(u<s))break;n[f++]=t[u++]}};return t}()},function(t,e,r){var n=r(552);function i(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function o(t,e,r,n,i,o){c[t]=c[t]+c[e]+i,c[n]=s(c[n]^c[t],16),c[r]=c[r]+c[n],c[e]=s(c[e]^c[r],12),c[t]=c[t]+c[e]+o,c[n]=s(c[n]^c[t],8),c[r]=c[r]+c[n],c[e]=s(c[e]^c[r],7)}function s(t,e){return t>>>e^t<<32-e}var a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),c=new Uint32Array(16),f=new Uint32Array(16);function l(t,e){var r=0;for(r=0;r<8;r++)c[r]=t.h[r],c[r+8]=a[r];for(c[12]^=t.t,c[13]^=t.t/4294967296,e&&(c[14]=~c[14]),r=0;r<16;r++)f[r]=i(t.b,4*r);for(r=0;r<10;r++)o(0,4,8,12,f[u[16*r+0]],f[u[16*r+1]]),o(1,5,9,13,f[u[16*r+2]],f[u[16*r+3]]),o(2,6,10,14,f[u[16*r+4]],f[u[16*r+5]]),o(3,7,11,15,f[u[16*r+6]],f[u[16*r+7]]),o(0,5,10,15,f[u[16*r+8]],f[u[16*r+9]]),o(1,6,11,12,f[u[16*r+10]],f[u[16*r+11]]),o(2,7,8,13,f[u[16*r+12]],f[u[16*r+13]]),o(3,4,9,14,f[u[16*r+14]],f[u[16*r+15]]);for(r=0;r<8;r++)t.h[r]^=c[r]^c[r+8]}function h(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");var r=e?e.length:0;if(e&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");var n={h:new Uint32Array(a),b:new Uint32Array(64),c:0,t:0,outlen:t};return n.h[0]^=16842752^r<<8^t,r>0&&(p(n,e),n.c=64),n}function p(t,e){for(var r=0;r<e.length;r++)64===t.c&&(t.t+=t.c,l(t,!1),t.c=0),t.b[t.c++]=e[r]}function d(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;l(t,!0);for(var e=new Uint8Array(t.outlen),r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(3&r)&255;return e}function m(t,e,r){r=r||32,t=n.normalizeInput(t);var i=h(r,e);return p(i,t),d(i)}t.exports={blake2s:m,blake2sHex:function(t,e,r){var i=m(t,e,r);return n.toHex(i)},blake2sInit:h,blake2sUpdate:p,blake2sFinal:d}},function(t,e,r){var n=r(552);function i(t,e,r){var n=t[e]+t[r],i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i}function o(t,e,r,n){var i=t[e]+r;r<0&&(i+=4294967296);var o=t[e+1]+n;i>=4294967296&&o++,t[e]=i,t[e+1]=o}function s(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function a(t,e,r,n,s,a){var u=l[s],c=l[s+1],h=l[a],p=l[a+1];i(f,t,e),o(f,t,u,c);var d=f[n]^f[t],m=f[n+1]^f[t+1];f[n]=m,f[n+1]=d,i(f,r,n),d=f[e]^f[r],m=f[e+1]^f[r+1],f[e]=d>>>24^m<<8,f[e+1]=m>>>24^d<<8,i(f,t,e),o(f,t,h,p),d=f[n]^f[t],m=f[n+1]^f[t+1],f[n]=d>>>16^m<<16,f[n+1]=m>>>16^d<<16,i(f,r,n),d=f[e]^f[r],m=f[e+1]^f[r+1],f[e]=m>>>31^d<<1,f[e+1]=d>>>31^m<<1}var u=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(t){return 2*t})),f=new Uint32Array(32),l=new Uint32Array(32);function h(t,e){var r=0;for(r=0;r<16;r++)f[r]=t.h[r],f[r+16]=u[r];for(f[24]=f[24]^t.t,f[25]=f[25]^t.t/4294967296,e&&(f[28]=~f[28],f[29]=~f[29]),r=0;r<32;r++)l[r]=s(t.b,4*r);for(r=0;r<12;r++)a(0,8,16,24,c[16*r+0],c[16*r+1]),a(2,10,18,26,c[16*r+2],c[16*r+3]),a(4,12,20,28,c[16*r+4],c[16*r+5]),a(6,14,22,30,c[16*r+6],c[16*r+7]),a(0,10,20,30,c[16*r+8],c[16*r+9]),a(2,12,22,24,c[16*r+10],c[16*r+11]),a(4,14,16,26,c[16*r+12],c[16*r+13]),a(6,8,18,28,c[16*r+14],c[16*r+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^f[r]^f[r+16]}function p(t,e){if(0===t||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var r={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t},n=0;n<16;n++)r.h[n]=u[n];var i=e?e.length:0;return r.h[0]^=16842752^i<<8^t,e&&(d(r,e),r.c=128),r}function d(t,e){for(var r=0;r<e.length;r++)128===t.c&&(t.t+=t.c,h(t,!1),t.c=0),t.b[t.c++]=e[r]}function m(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;h(t,!0);for(var e=new Uint8Array(t.outlen),r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(3&r);return e}function g(t,e,r){r=r||64,t=n.normalizeInput(t);var i=p(r,e);return d(i,t),m(i)}t.exports={blake2b:g,blake2bHex:function(t,e,r){var i=g(t,e,r);return n.toHex(i)},blake2bInit:p,blake2bUpdate:d,blake2bFinal:m}},function(t,e,r){var n=r(1309),i=r(1308);t.exports={blake2b:n.blake2b,blake2bHex:n.blake2bHex,blake2bInit:n.blake2bInit,blake2bUpdate:n.blake2bUpdate,blake2bFinal:n.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}},function(t,e,r){"use strict";(function(e){const n=r(1310),i=r(554).toCallback,o={init:n.blake2bInit,update:n.blake2bUpdate,digest:n.blake2bFinal},s={init:n.blake2sInit,update:n.blake2sUpdate,digest:n.blake2sFinal},a=(t,r)=>i(n=>{const i=r.init(t,null);return r.update(i,n),e.from(r.digest(i))});t.exports=(t=>{for(let e=0;e<64;e++)t[45569+e]=a(e+1,o);for(let e=0;e<32;e++)t[45633+e]=a(e+1,s)})}).call(this,r(0).Buffer)},function(t,e,r){(function(e){var n,i=r(553);n="function"==typeof setImediate?setImediate:"object"==typeof e&&e&&e.nextTick?e.nextTick:function(t){setTimeout(t,0)};var o=[];function s(t){if(!(this instanceof s))return"function"==typeof t?new s(t):(r=new s(function(t){e=t}),{resolver:e,promise:r});var e,r,a,u=!1,c=!1,f=[],l=!1;function h(t){f.length?(l=!0,f.shift()(t||!1)):l=!1}this.then=function(t,e){return new s(function(r){f.push(function(i){var o=c?t:e;if("function"==typeof o){function s(){var t;try{t=o(a)}catch(t){return r.reject(t),h()}r.fulfill(t),h(!0)}i?s():n(s)}else c?(r.fulfill(a),h(i)):(r.reject(a),h(i))}),u&&!l&&h()})},function(){function e(t){u||(u=!0,c=!1,a=t,h())}for(var r={fulfill:function t(r){u||(i(r)?r.then(t,e):(u=c=!0,a=r,h()))},reject:e},n=0;n<o.length;n++)o[n](this,r);if("function"==typeof t)try{t(r)}catch(t){r.reject(t)}}()}t.exports=s,s.use=function(t){o.push(t)}}).call(this,r(2))},function(t,e,r){(function(e,n){var i,o=r(1312),s=r(553);function a(t,e){return"function"!=typeof e?t:t.then(function(t){i(function(){e(null,t)})},function(t){i(function(){e(t)})})}function u(t){return a(this,t)}function c(t){if(t&&s(t)){t.nodeify=u;var e=t.then;return t.then=function(){return c(e.apply(this,arguments))},t}"function"==typeof t?t.prototype.nodeify=u:o.prototype.nodeify=u}function f(t){if(!(this instanceof f))return new f(t);o.call(this,t),c(this)}i="function"==typeof e?e:"object"==typeof n&&n&&n.nextTick?n.nextTick:function(t){setTimeout(t,0)},t.exports=a,a.extend=c,a.Promise=f,f.prototype=Object.create(o.prototype),f.prototype.constructor=f}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";(function(e){const n=r(1313),i=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function o(t){if(!i)throw new Error("Please use a browser with webcrypto support");return(r,o)=>{const s=i.digest({name:t},r);if("function"!=typeof s.then)return s.onerror=(()=>{o(new Error(`hashing data using ${t}`))}),void(s.oncomplete=(t=>{o(null,t.target.result)}));n(s.then(t=>e.from(new Uint8Array(t))),o)}}t.exports={sha1:function(t,e){o("SHA-1")(t,e)},sha2256:function(t,e){o("SHA-256")(t,e)},sha2512:function(t,e){o("SHA-512")(t,e)}}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(1315),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(1316),o=(n=i)&&n.__esModule?n:{default:n};e.default=o.default,t.exports=e.default},function(t,e,r){!function(r,n){"use strict";var i={version:"3.0.1",x86:{},x64:{}};function o(t,e){return(65535&t)*e+(((t>>>16)*e&65535)<<16)}function s(t,e){return t<<e|t>>>32-e}function a(t){return t=o(t^=t>>>16,2246822507),t=o(t^=t>>>13,3266489909),t^=t>>>16}function u(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var r=[0,0,0,0];return r[3]+=t[3]+e[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=t[2]+e[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=t[1]+e[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=t[0]+e[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function c(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var r=[0,0,0,0];return r[3]+=t[3]*e[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=t[2]*e[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=t[3]*e[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=t[1]*e[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=t[2]*e[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=t[3]*e[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=t[0]*e[3]+t[1]*e[2]+t[2]*e[1]+t[3]*e[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function f(t,e){return 32===(e%=64)?[t[1],t[0]]:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e|t[0]>>>32-e]:(e-=32,[t[1]<<e|t[0]>>>32-e,t[0]<<e|t[1]>>>32-e])}function l(t,e){return 0===(e%=64)?t:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e]:[t[1]<<e-32,0]}function h(t,e){return[t[0]^e[0],t[1]^e[1]]}function p(t){return t=h(t=c(t=h(t=c(t=h(t,[0,t[0]>>>1]),[4283543511,3981806797]),[0,t[0]>>>1]),[3301882366,444984403]),[0,t[0]>>>1])}i.x86.hash32=function(t,e){t=t||"",e=e||0;for(var r=t.length%4,n=t.length-r,i=e,u=0,c=3432918353,f=461845907,l=0;l<n;l+=4)i=o(i=s(i^=u=o(u=s(u=o(u=255&t.charCodeAt(l)|(255&t.charCodeAt(l+1))<<8|(255&t.charCodeAt(l+2))<<16|(255&t.charCodeAt(l+3))<<24,c),15),f),13),5)+3864292196;switch(u=0,r){case 3:u^=(255&t.charCodeAt(l+2))<<16;case 2:u^=(255&t.charCodeAt(l+1))<<8;case 1:i^=u=o(u=s(u=o(u^=255&t.charCodeAt(l),c),15),f)}return(i=a(i^=t.length))>>>0},i.x86.hash128=function(t,e){t=t||"",e=e||0;for(var r=t.length%16,n=t.length-r,i=e,u=e,c=e,f=e,l=0,h=0,p=0,d=0,m=597399067,g=2869860233,v=951274213,y=2716044179,b=0;b<n;b+=16)l=255&t.charCodeAt(b)|(255&t.charCodeAt(b+1))<<8|(255&t.charCodeAt(b+2))<<16|(255&t.charCodeAt(b+3))<<24,h=255&t.charCodeAt(b+4)|(255&t.charCodeAt(b+5))<<8|(255&t.charCodeAt(b+6))<<16|(255&t.charCodeAt(b+7))<<24,p=255&t.charCodeAt(b+8)|(255&t.charCodeAt(b+9))<<8|(255&t.charCodeAt(b+10))<<16|(255&t.charCodeAt(b+11))<<24,d=255&t.charCodeAt(b+12)|(255&t.charCodeAt(b+13))<<8|(255&t.charCodeAt(b+14))<<16|(255&t.charCodeAt(b+15))<<24,i=s(i^=l=o(l=s(l=o(l,m),15),g),19),i=o(i+=u,5)+1444728091,u=s(u^=h=o(h=s(h=o(h,g),16),v),17),u=o(u+=c,5)+197830471,c=s(c^=p=o(p=s(p=o(p,v),17),y),15),c=o(c+=f,5)+2530024501,f=s(f^=d=o(d=s(d=o(d,y),18),m),13),f=o(f+=i,5)+850148119;switch(l=0,h=0,p=0,d=0,r){case 15:d^=t.charCodeAt(b+14)<<16;case 14:d^=t.charCodeAt(b+13)<<8;case 13:f^=d=o(d=s(d=o(d^=t.charCodeAt(b+12),y),18),m);case 12:p^=t.charCodeAt(b+11)<<24;case 11:p^=t.charCodeAt(b+10)<<16;case 10:p^=t.charCodeAt(b+9)<<8;case 9:c^=p=o(p=s(p=o(p^=t.charCodeAt(b+8),v),17),y);case 8:h^=t.charCodeAt(b+7)<<24;case 7:h^=t.charCodeAt(b+6)<<16;case 6:h^=t.charCodeAt(b+5)<<8;case 5:u^=h=o(h=s(h=o(h^=t.charCodeAt(b+4),g),16),v);case 4:l^=t.charCodeAt(b+3)<<24;case 3:l^=t.charCodeAt(b+2)<<16;case 2:l^=t.charCodeAt(b+1)<<8;case 1:i^=l=o(l=s(l=o(l^=t.charCodeAt(b),m),15),g)}return i^=t.length,i+=u^=t.length,i+=c^=t.length,u+=i+=f^=t.length,c+=i,f+=i,i=a(i),i+=u=a(u),i+=c=a(c),u+=i+=f=a(f),c+=i,f+=i,("00000000"+(i>>>0).toString(16)).slice(-8)+("00000000"+(u>>>0).toString(16)).slice(-8)+("00000000"+(c>>>0).toString(16)).slice(-8)+("00000000"+(f>>>0).toString(16)).slice(-8)},i.x64.hash128=function(t,e){t=t||"",e=e||0;for(var r=t.length%16,n=t.length-r,i=[0,e],o=[0,e],s=[0,0],a=[0,0],d=[2277735313,289559509],m=[1291169091,658871167],g=0;g<n;g+=16)s=[255&t.charCodeAt(g+4)|(255&t.charCodeAt(g+5))<<8|(255&t.charCodeAt(g+6))<<16|(255&t.charCodeAt(g+7))<<24,255&t.charCodeAt(g)|(255&t.charCodeAt(g+1))<<8|(255&t.charCodeAt(g+2))<<16|(255&t.charCodeAt(g+3))<<24],a=[255&t.charCodeAt(g+12)|(255&t.charCodeAt(g+13))<<8|(255&t.charCodeAt(g+14))<<16|(255&t.charCodeAt(g+15))<<24,255&t.charCodeAt(g+8)|(255&t.charCodeAt(g+9))<<8|(255&t.charCodeAt(g+10))<<16|(255&t.charCodeAt(g+11))<<24],i=u(c(i=u(i=f(i=h(i,s=c(s=f(s=c(s,d),31),m)),27),o),[0,5]),[0,1390208809]),o=u(c(o=u(o=f(o=h(o,a=c(a=f(a=c(a,m),33),d)),31),i),[0,5]),[0,944331445]);switch(s=[0,0],a=[0,0],r){case 15:a=h(a,l([0,t.charCodeAt(g+14)],48));case 14:a=h(a,l([0,t.charCodeAt(g+13)],40));case 13:a=h(a,l([0,t.charCodeAt(g+12)],32));case 12:a=h(a,l([0,t.charCodeAt(g+11)],24));case 11:a=h(a,l([0,t.charCodeAt(g+10)],16));case 10:a=h(a,l([0,t.charCodeAt(g+9)],8));case 9:o=h(o,a=c(a=f(a=c(a=h(a,[0,t.charCodeAt(g+8)]),m),33),d));case 8:s=h(s,l([0,t.charCodeAt(g+7)],56));case 7:s=h(s,l([0,t.charCodeAt(g+6)],48));case 6:s=h(s,l([0,t.charCodeAt(g+5)],40));case 5:s=h(s,l([0,t.charCodeAt(g+4)],32));case 4:s=h(s,l([0,t.charCodeAt(g+3)],24));case 3:s=h(s,l([0,t.charCodeAt(g+2)],16));case 2:s=h(s,l([0,t.charCodeAt(g+1)],8));case 1:i=h(i,s=c(s=f(s=c(s=h(s,[0,t.charCodeAt(g)]),d),31),m))}return i=h(i,[0,t.length]),o=u(o=h(o,[0,t.length]),i=u(i,o)),i=p(i),o=u(o=p(o),i=u(i,o)),("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)+("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)},void 0!==t&&t.exports&&(e=t.exports=i),e.murmurHash3=i}()},function(t,e,r){t.exports=r(1318)},function(t,e,r){(function(n,i){var o;
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.7.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2017
 * @license MIT
 */
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.7.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2017
 * @license MIT
 */
!function(){"use strict";var s="input is invalid type",a="object"==typeof window,u=a?window:{};u.JS_SHA3_NO_WINDOW&&(a=!1);var c=!a&&"object"==typeof self;!u.JS_SHA3_NO_NODE_JS&&"object"==typeof n&&n.versions&&n.versions.node?u=i:c&&(u=self);var f=!u.JS_SHA3_NO_COMMON_JS&&"object"==typeof t&&t.exports,l=r(616),h=!u.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,p="0123456789abcdef".split(""),d=[4,1024,262144,67108864],m=[0,8,16,24],g=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],v=[224,256,384,512],y=[128,256],b=["hex","buffer","arrayBuffer","array","digest"],w={128:168,256:136};!u.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!h||!u.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var _=function(t,e,r){return function(n){return new F(t,e,t).update(n)[r]()}},k=function(t,e,r){return function(n,i){return new F(t,e,i).update(n)[r]()}},S=function(t,e,r){return function(e,n,i,o){return M["cshake"+t].update(e,n,i,o)[r]()}},x=function(t,e,r){return function(e,n,i,o){return M["kmac"+t].update(e,n,i,o)[r]()}},E=function(t,e,r,n){for(var i=0;i<b.length;++i){var o=b[i];t[o]=e(r,n,o)}return t},C=function(t,e){var r=_(t,e,"hex");return r.create=function(){return new F(t,e,t)},r.update=function(t){return r.create().update(t)},E(r,_,t,e)},A=[{name:"keccak",padding:[1,256,65536,16777216],bits:v,createMethod:C},{name:"sha3",padding:[6,1536,393216,100663296],bits:v,createMethod:C},{name:"shake",padding:[31,7936,2031616,520093696],bits:y,createMethod:function(t,e){var r=k(t,e,"hex");return r.create=function(r){return new F(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},E(r,k,t,e)}},{name:"cshake",padding:d,bits:y,createMethod:function(t,e){var r=w[t],n=S(t,0,"hex");return n.create=function(n,i,o){return i||o?new F(t,e,n).bytepad([i,o],r):M["shake"+t].create(n)},n.update=function(t,e,r,i){return n.create(e,r,i).update(t)},E(n,S,t,e)}},{name:"kmac",padding:d,bits:y,createMethod:function(t,e){var r=w[t],n=x(t,0,"hex");return n.create=function(n,i,o){return new j(t,e,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(t,e,r,i){return n.create(t,r,i).update(e)},E(n,x,t,e)}}],M={},I=[],T=0;T<A.length;++T)for(var O=A[T],B=O.bits,P=0;P<B.length;++P){var N=O.name+"_"+B[P];if(I.push(N),M[N]=O.createMethod(B[P],O.padding),"sha3"!==O.name){var R=O.name+B[P];I.push(R),M[R]=M[N]}}function F(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function j(t,e,r){F.call(this,t,e,r)}F.prototype.update=function(t){if(!this.finalized){var e,r=typeof t;if("string"!==r){if("object"!==r)throw s;if(null===t)throw s;if(h&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||h&&ArrayBuffer.isView(t)))throw s;e=!0}for(var n,i,o=this.blocks,a=this.byteCount,u=t.length,c=this.blockCount,f=0,l=this.s;f<u;){if(this.reset)for(this.reset=!1,o[0]=this.block,n=1;n<c+1;++n)o[n]=0;if(e)for(n=this.start;f<u&&n<a;++f)o[n>>2]|=t[f]<<m[3&n++];else for(n=this.start;f<u&&n<a;++f)(i=t.charCodeAt(f))<128?o[n>>2]|=i<<m[3&n++]:i<2048?(o[n>>2]|=(192|i>>6)<<m[3&n++],o[n>>2]|=(128|63&i)<<m[3&n++]):i<55296||i>=57344?(o[n>>2]|=(224|i>>12)<<m[3&n++],o[n>>2]|=(128|i>>6&63)<<m[3&n++],o[n>>2]|=(128|63&i)<<m[3&n++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++f)),o[n>>2]|=(240|i>>18)<<m[3&n++],o[n>>2]|=(128|i>>12&63)<<m[3&n++],o[n>>2]|=(128|i>>6&63)<<m[3&n++],o[n>>2]|=(128|63&i)<<m[3&n++]);if(this.lastByteIndex=n,n>=a){for(this.start=n-a,this.block=o[c],n=0;n<c;++n)l[n]^=o[n];L(l),this.reset=!0}else this.start=n}return this}},F.prototype.encode=function(t,e){var r=255&t,n=1,i=[r];for(r=255&(t>>=8);r>0;)i.unshift(r),r=255&(t>>=8),++n;return e?i.push(n):i.unshift(n),this.update(i),i.length},F.prototype.encodeString=function(t){var e,r=typeof t;if("string"!==r){if("object"!==r)throw s;if(null===t)throw s;if(h&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||h&&ArrayBuffer.isView(t)))throw s;e=!0}var n=0,i=t.length;if(e)n=i;else for(var o=0;o<t.length;++o){var a=t.charCodeAt(o);a<128?n+=1:a<2048?n+=2:a<55296||a>=57344?n+=3:(a=65536+((1023&a)<<10|1023&t.charCodeAt(++o)),n+=4)}return n+=this.encode(8*n),this.update(t),n},F.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var i=e-r%e,o=[];return o.length=i,this.update(o),this},F.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];L(n)}},F.prototype.toString=F.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a="";s<n;){for(o=0;o<e&&s<n;++o,++s)t=r[o],a+=p[t>>4&15]+p[15&t]+p[t>>12&15]+p[t>>8&15]+p[t>>20&15]+p[t>>16&15]+p[t>>28&15]+p[t>>24&15];s%e==0&&(L(r),o=0)}return i&&(t=r[o],a+=p[t>>4&15]+p[15&t],i>1&&(a+=p[t>>12&15]+p[t>>8&15]),i>2&&(a+=p[t>>20&15]+p[t>>16&15])),a},F.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var u=new Uint32Array(t);s<n;){for(o=0;o<e&&s<n;++o,++s)u[s]=r[o];s%e==0&&L(r)}return i&&(u[o]=r[o],t=t.slice(0,a)),t},F.prototype.buffer=F.prototype.arrayBuffer,F.prototype.digest=F.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,u=[];a<i;){for(s=0;s<r&&a<i;++s,++a)t=a<<2,e=n[s],u[t]=255&e,u[t+1]=e>>8&255,u[t+2]=e>>16&255,u[t+3]=e>>24&255;a%r==0&&L(n)}return o&&(t=a<<2,e=n[s],u[t]=255&e,o>1&&(u[t+1]=e>>8&255),o>2&&(u[t+2]=e>>16&255)),u},j.prototype=new F,j.prototype.finalize=function(){return this.encode(this.outputBits,!0),F.prototype.finalize.call(this)};var L=function(t){var e,r,n,i,o,s,a,u,c,f,l,h,p,d,m,v,y,b,w,_,k,S,x,E,C,A,M,I,T,O,B,P,N,R,F,j,L,D,U,z,H,K,q,V,W,G,Y,$,Z,X,J,Q,tt,et,rt,nt,it,ot,st,at,ut,ct,ft;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],o=t[1]^t[11]^t[21]^t[31]^t[41],s=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],u=t[4]^t[14]^t[24]^t[34]^t[44],c=t[5]^t[15]^t[25]^t[35]^t[45],f=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],e=(h=t[8]^t[18]^t[28]^t[38]^t[48])^(s<<1|a>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|s>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(u<<1|c>>>31),r=o^(c<<1|u>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=s^(f<<1|l>>>31),r=a^(l<<1|f>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=u^(h<<1|p>>>31),r=c^(p<<1|h>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=f^(i<<1|o>>>31),r=l^(o<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,d=t[0],m=t[1],G=t[11]<<4|t[10]>>>28,Y=t[10]<<4|t[11]>>>28,I=t[20]<<3|t[21]>>>29,T=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ut=t[30]<<9|t[31]>>>23,K=t[40]<<18|t[41]>>>14,q=t[41]<<18|t[40]>>>14,R=t[2]<<1|t[3]>>>31,F=t[3]<<1|t[2]>>>31,v=t[13]<<12|t[12]>>>20,y=t[12]<<12|t[13]>>>20,$=t[22]<<10|t[23]>>>22,Z=t[23]<<10|t[22]>>>22,O=t[33]<<13|t[32]>>>19,B=t[32]<<13|t[33]>>>19,ct=t[42]<<2|t[43]>>>30,ft=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,j=t[14]<<6|t[15]>>>26,L=t[15]<<6|t[14]>>>26,b=t[25]<<11|t[24]>>>21,w=t[24]<<11|t[25]>>>21,X=t[34]<<15|t[35]>>>17,J=t[35]<<15|t[34]>>>17,P=t[45]<<29|t[44]>>>3,N=t[44]<<29|t[45]>>>3,E=t[6]<<28|t[7]>>>4,C=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,D=t[26]<<25|t[27]>>>7,U=t[27]<<25|t[26]>>>7,_=t[36]<<21|t[37]>>>11,k=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,V=t[8]<<27|t[9]>>>5,W=t[9]<<27|t[8]>>>5,A=t[18]<<20|t[19]>>>12,M=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,st=t[28]<<7|t[29]>>>25,z=t[38]<<8|t[39]>>>24,H=t[39]<<8|t[38]>>>24,S=t[48]<<14|t[49]>>>18,x=t[49]<<14|t[48]>>>18,t[0]=d^~v&b,t[1]=m^~y&w,t[10]=E^~A&I,t[11]=C^~M&T,t[20]=R^~j&D,t[21]=F^~L&U,t[30]=V^~G&$,t[31]=W^~Y&Z,t[40]=et^~nt&ot,t[41]=rt^~it&st,t[2]=v^~b&_,t[3]=y^~w&k,t[12]=A^~I&O,t[13]=M^~T&B,t[22]=j^~D&z,t[23]=L^~U&H,t[32]=G^~$&X,t[33]=Y^~Z&J,t[42]=nt^~ot&at,t[43]=it^~st&ut,t[4]=b^~_&S,t[5]=w^~k&x,t[14]=I^~O&P,t[15]=T^~B&N,t[24]=D^~z&K,t[25]=U^~H&q,t[34]=$^~X&Q,t[35]=Z^~J&tt,t[44]=ot^~at&ct,t[45]=st^~ut&ft,t[6]=_^~S&d,t[7]=k^~x&m,t[16]=O^~P&E,t[17]=B^~N&C,t[26]=z^~K&R,t[27]=H^~q&F,t[36]=X^~Q&V,t[37]=J^~tt&W,t[46]=at^~ct&et,t[47]=ut^~ft&rt,t[8]=S^~d&v,t[9]=x^~m&y,t[18]=P^~E&A,t[19]=N^~C&M,t[28]=K^~R&j,t[29]=q^~F&L,t[38]=Q^~V&G,t[39]=tt^~W&Y,t[48]=ct^~et&nt,t[49]=ft^~rt&it,t[0]^=g[n],t[1]^=g[n+1]};if(f)t.exports=M;else{for(T=0;T<I.length;++T)u[I[T]]=M[I[T]];l&&(void 0===(o=function(){return M}.call(e,r,e,t))||(t.exports=o))}}()}).call(this,r(2),r(7))},function(t,e,r){"use strict";(function(e){const n=r(1320),i=r(1319),o=r(554),s=r(1314),a=o.toCallback,u=o.toBuf,c=o.fromString,f=o.fromNumberTo32BitBuf;t.exports={sha1:s.sha1,sha2256:s.sha2256,sha2512:s.sha2512,sha3512:a(u(n.sha3_512)),sha3384:a(u(n.sha3_384)),sha3256:a(u(n.sha3_256)),sha3224:a(u(n.sha3_224)),shake128:a(u(n.shake_128,256)),shake256:a(u(n.shake_256,512)),keccak224:a(u(n.keccak_224)),keccak256:a(u(n.keccak_256)),keccak384:a(u(n.keccak_384)),keccak512:a(u(n.keccak_512)),murmur3128:a(u(c(i.x64.hash128))),murmur332:a(f(c(i.x86.hash32))),addBlake:r(1311),dblSha2256:(t,r)=>{s.sha2256(t,(t,n)=>{t&&r(t),s.sha2256(e.from(n),r)})}}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(e=(0,o.default)(e||i.default),!(0,n.default)(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function c(e){var n=(0,u.default)(t[r++]);e.push((0,a.default)(f)),n.apply(null,e)}function f(n){if(n||r===t.length)return e.apply(null,arguments);c((0,s.default)(arguments,1))}c([])};var n=c(r(31)),i=c(r(4)),o=c(r(335)),s=c(r(153)),a=c(r(217)),u=c(r(102));function c(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(556)),i=o(r(555));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)(n.default,1),t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){r=r||n.default;var a=(0,i.default)(e)?[]:{};t(e,function(t,e,r){(0,s.default)(t)(function(t,n){arguments.length>2&&(n=(0,o.default)(arguments,1)),a[e]=n,r(t)})},function(t){r(t,a)})};var n=a(r(4)),i=a(r(10)),o=a(r(153)),s=a(r(102));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,n.default)(i.default,t,e)};var n=o(r(1324)),i=o(r(1323));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,o){o=o||n.default,e=e||[];var s=[],a=0,u=(0,i.default)(r);t(e,function(t,e,r){var n=a++;u(t,function(t,e){s[n]=e,r(t)})},function(t){o(t,s)})};var n=o(r(4)),i=o(r(102));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return n&&t[n]&&t[n]()};var n="function"==typeof Symbol&&Symbol.iterator;t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,n.default)(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e=(0,i.default)(t);return e?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(e):(r=t,s=(0,o.default)(r),a=-1,u=s.length,function(){var t=s[++a];return a<u?{value:r[t],key:t}:null});var r,s,a,u};var n=s(r(10)),i=s(r(1327)),o=s(r(46));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,u){if(u=(0,i.default)(u||n.default),t<=0||!e)return u(null);var c=(0,o.default)(e),f=!1,l=0;function h(t,e){if(l-=1,t)f=!0,u(t);else{if(e===a.default||f&&l<=0)return f=!0,u(null);p()}}function p(){for(;l<t&&!f;){var e=c();if(null===e)return f=!0,void(l<=0&&u(null));l+=1,r(e.value,e.key,(0,s.default)(h))}}p()}};var n=u(r(4)),i=u(r(335)),o=u(r(1328)),s=u(r(217)),a=u(r(557));function u(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){((0,n.default)(t)?h:p)(t,(0,f.default)(e),r)};var n=l(r(10)),i=l(r(557)),o=l(r(556)),s=l(r(555)),a=l(r(4)),u=l(r(335)),c=l(r(217)),f=l(r(102));function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e,r){r=(0,u.default)(r||a.default);var n=0,o=0,s=t.length;function f(t,e){t?r(t):++o!==s&&e!==i.default||r(null)}for(0===s&&r(null);n<s;n++)e(t[n],n,(0,c.default)(f))}var p=(0,s.default)(o.default,1/0);t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,o){return t(n.default,e,(0,i.default)(r),o)}};var n=o(r(1330)),i=o(r(102));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(1331)),i=o(r(1326));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,n.default)(i.default),t.exports=e.default},function(t,e){t.exports=function(){var t,e,r,n,i;function o(o){return i?i(o):(t=o,function(t,i){e?e(t,i):(n=t,r=i)})}return o.resolve=function(o){if(i)throw new Error("already resolved");if(!(i=o))throw new Error("resolve *must* be passed a transform stream");t&&(e=i(t),r&&e(n,r))},o}},function(t,e,r){"use strict";t.exports={repoVersion:6}},function(t,e,r){"use strict";var n=r(50),i=r(79);t.exports=function(t,e,r){if("object"!=typeof t)throw new TypeError("db must be an object");if("string"!=typeof e)throw new TypeError("storeName must be a string");if(null==r&&(r={}),"object"!=typeof r)throw new TypeError("opts must be an object");var o=new n.Transform(i(r,{objectMode:!0,transform:function(t,e,r){r(null,t)}}));r=i({snapshot:!1},r);var s=null;return o._cursorsOpened=0,function n(){var i,a,u,c,f,l=r.direction||"next",h=r.range||{};i=h.lower,a=h.upper,u=!!h.lowerOpen,c=!!h.upperOpen,s&&("next"===l?(u=!0,i=s):(c=!0,a=s)),i&&a?f=IDBKeyRange.bound(i,a,u,c):i?f=IDBKeyRange.lowerBound(i,u):a&&(f=IDBKeyRange.upperBound(a,c));var p=t.transaction(e,"readonly"),d=p.objectStore(e);o._cursorsOpened++;var m=d.openCursor(f,r.direction);function g(t){try{t.continue()}catch(t){"TransactionInactiveError"!==t.name||r.snapshot?o.emit("error",t):n()}}m.onsuccess=function(){var t=m.result;if(t){s=t.key;var e=o.write({key:t.key,value:t.value});r.snapshot||e?g(t):o.once("drain",function(){g(t)})}else o.end()},p.onabort=function(){o.emit("error",p.error)},p.onerror=function(){o.emit("error",p.error)}}(),o}},function(t,e,r){(function(t){function r(t){return void 0!==t&&""!==t}function n(t,e){return Object.hasOwnProperty.call(t,e)}function i(t,e){return Object.hasOwnProperty.call(t,e)&&e}e.compare=function(e,r){if(t.isBuffer(e)){for(var n=Math.min(e.length,r.length),i=0;i<n;i++){var o=e[i]-r[i];if(o)return o}return e.length-r.length}return e<r?-1:e>r?1:0};var o=e.lowerBoundKey=function(t){return i(t,"gt")||i(t,"gte")||i(t,"min")||(t.reverse?i(t,"end"):i(t,"start"))||void 0},s=e.lowerBound=function(t,e){var r=o(t);return r?t[r]:e},a=e.lowerBoundInclusive=function(t){return!n(t,"gt")},u=e.upperBoundInclusive=function(t){return!n(t,"lt")},c=e.lowerBoundExclusive=function(t){return!a(t)},f=e.upperBoundExclusive=function(t){return!u(t)},l=e.upperBoundKey=function(t){return i(t,"lt")||i(t,"lte")||i(t,"max")||(t.reverse?i(t,"start"):i(t,"end"))||void 0},h=e.upperBound=function(t,e){var r=l(t);return r?t[r]:e};function p(t){return t}e.start=function(t,e){return t.reverse?h(t,e):s(t,e)},e.end=function(t,e){return t.reverse?s(t,e):h(t,e)},e.startInclusive=function(t){return t.reverse?u(t):a(t)},e.endInclusive=function(t){return t.reverse?a(t):u(t)},e.toLtgt=function(t,r,i,o,s){r=r||{},i=i||p;var a=arguments.length>3,u=e.lowerBoundKey(t),c=e.upperBoundKey(t);return u?"gt"===u?r.gt=i(t.gt,!1):r.gte=i(t[u],!1):a&&(r.gte=i(o,!1)),c?"lt"===c?r.lt=i(t.lt,!0):r.lte=i(t[c],!0):a&&(r.lte=i(s,!0)),null!=t.reverse&&(r.reverse=!!t.reverse),n(r,"max")&&delete r.max,n(r,"min")&&delete r.min,n(r,"start")&&delete r.start,n(r,"end")&&delete r.end,r},e.contains=function(t,n,i){i=i||e.compare;var o=s(t);if(r(o)&&((a=i(n,o))<0||0===a&&c(t)))return!1;var a,u=h(t);if(r(u)&&((a=i(n,u))>0||0===a&&f(t)))return!1;return!0},e.filter=function(t,r){return function(n){return e.contains(t,n,r)}}}).call(this,r(0).Buffer)},function(t,e,r){(function(e,n){var i=r(101),o=r(565).AbstractIterator,s=r(1336),a=r(1335),u=r(50),c=r(79),f=u.Writable;function l(t,e){if(this._db=t._db,this._idbOpts=t._idbOpts,o.call(this,t),this._options=c({snapshot:!0},this._idbOpts,e),this._limit=this._options.limit,null!=this._limit&&-1!==this._limit||(this._limit=1/0),"number"!=typeof this._limit)throw new TypeError("options.limit must be a number");0!==this._limit&&(this._count=0,this._startCursor(this._options))}t.exports=l,i.inherits(l,o),l.prototype._startCursor=function(t){t=c(this._options,t);var e=this,r=null,n=s.lowerBound(t),i=s.upperBound(t),o=s.lowerBoundExclusive(t),u=s.upperBoundExclusive(t),l=t.reverse?"prev":"next";if(n&&("binary"!==t.keyEncoding||Array.isArray(n)||(n=Array.prototype.slice.call(n))),i&&("binary"!==t.keyEncoding||Array.isArray(i)||(i=Array.prototype.slice.call(i))),n&&i)try{r=IDBKeyRange.bound(n,i,o,u)}catch(t){return void(this._keyRangeError=!0)}else n?r=IDBKeyRange.lowerBound(n,o):i&&(r=IDBKeyRange.upperBound(i,u));this._reader=a(this._db,this._idbOpts.storeName,c(t,{range:r,direction:l})),this._reader.on("error",function(t){var r=e._callback;e._callback=!1,r?r(t):e._readNext=function(e){e(t)}}),this._reader.pipe(new f({objectMode:!0,write:function(t,r,n){if(e._count++>=e._limit)return e._reader.pause(),e._reader.unpipe(this),n(),void this.end();var i=e._callback;e._callback=!1,i?e._processItem(t,function(t,e,r){n(t),i(t,e,r)}):e._readNext=function(r){e._processItem(t,function(t,e,i){n(t),r(t,e,i)})}}})).on("finish",function(){var t=e._callback;e._callback=!1,t?t():e._readNext=function(t){t()}})},l.prototype._processItem=function(t,r){if("function"!=typeof r)throw new TypeError("cb must be a function");var n=t.key,i=t.value;if(i instanceof Uint8Array&&(i=new e(i)),"binary"===this._options.keyEncoding&&Array.isArray(n)&&(n=new e(n)),"binary"!==this._options.valueEncoding||e.isBuffer(i)||(i=new e(i)),this._options.keyAsBuffer&&!e.isBuffer(n))if(null==n)n=new e(0);else if("string"==typeof n)n=new e(n);else if("boolean"==typeof n)n=new e(String(n));else if("number"==typeof n)n=new e(String(n));else if(Array.isArray(n))n=new e(String(n));else{if(!(n instanceof Uint8Array))throw new TypeError("can't coerce `"+n.constructor.name+"` into a Buffer");n=new e(n)}if(this._options.valueAsBuffer&&!e.isBuffer(i))if(null==i)i=new e(0);else if("string"==typeof i)i=new e(i);else if("boolean"==typeof i)i=new e(String(i));else if("number"==typeof i)i=new e(String(i));else if(Array.isArray(i))i=new e(String(i));else{if(!(i instanceof Uint8Array))throw new TypeError("can't coerce `"+i.constructor.name+"` into a Buffer");i=new e(i)}r(null,n,i)},l.prototype._next=function(t){if(this._callback)throw new Error("callback already exists");if(this._keyRangeError||0===this._limit)t();else{var e=this._readNext;this._readNext=!1,e?n.nextTick(function(){e(t)}):this._callback=t}}}).call(this,r(0).Buffer,r(2))},function(t,e,r){var n=r(564);t.exports=function(t){return!(!t||"object"!=typeof t)&&Object.keys(n.prototype).filter(function(t){return"_"!=t[0]&&"approximateSize"!=t}).every(function(e){return"function"==typeof t[e]})}},function(t,e){},function(t,e,r){(function(t){e.utf8=e["utf-8"]={encode:function(t){return n(t)?t:String(t)},decode:function(t){return"string"==typeof t?t:String(t)},buffer:!1,type:"utf8"},e.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"},e.binary={encode:function(e){return n(e)?e:new t(e)},decode:r,buffer:!0,type:"binary"},e.none={encode:r,decode:r,buffer:!1,type:"id"},e.id=e.none;function r(t){return t}function n(e){return void 0===e||null===e||t.isBuffer(e)}["hex","ascii","base64","ucs2","ucs-2","utf16le","utf-16le"].forEach(function(r){e[r]={encode:function(e){return n(e)?e:new t(e,r)},decode:function(t){return t.toString(r)},buffer:!0,type:r}})}).call(this,r(0).Buffer)},function(t,e,r){var n=r(1340);function i(t){this.opts=t||{},this.encodings=n}t.exports=i,i.prototype._encoding=function(t){return"string"==typeof t&&(t=n[t]),t||(t=n.id),t},i.prototype._keyEncoding=function(t,e){return this._encoding(e&&e.keyEncoding||t&&t.keyEncoding||this.opts.keyEncoding)},i.prototype._valueEncoding=function(t,e){return this._encoding(e&&(e.valueEncoding||e.encoding)||t&&(t.valueEncoding||t.encoding)||this.opts.valueEncoding||this.opts.encoding)},i.prototype.encodeKey=function(t,e,r){return this._keyEncoding(e,r).encode(t)},i.prototype.encodeValue=function(t,e,r){return this._valueEncoding(e,r).encode(t)},i.prototype.decodeKey=function(t,e){return this._keyEncoding(e).decode(t)},i.prototype.decodeValue=function(t,e){return this._valueEncoding(e).decode(t)},i.prototype.encodeBatch=function(t,e){var r=this;return t.map(function(t){var n={type:t.type,key:r.encodeKey(t.key,e,t)};return r.keyAsBuffer(e,t)&&(n.keyEncoding="binary"),t.prefix&&(n.prefix=t.prefix),"value"in t&&(n.value=r.encodeValue(t.value,e,t),r.valueAsBuffer(e,t)&&(n.valueEncoding="binary")),n})};var o=["lt","gt","lte","gte","start","end"];i.prototype.encodeLtgt=function(t){var e=this,r={};return Object.keys(t).forEach(function(n){r[n]=o.indexOf(n)>-1?e.encodeKey(t[n],t):t[n]}),r},i.prototype.createStreamDecoder=function(t){var e=this;return t.keys&&t.values?function(r,n){return{key:e.decodeKey(r,t),value:e.decodeValue(n,t)}}:t.keys?function(r){return e.decodeKey(r,t)}:t.values?function(r,n){return e.decodeValue(n,t)}:function(){}},i.prototype.keyAsBuffer=function(t){return this._keyEncoding(t).buffer},i.prototype.valueAsBuffer=function(t){return this._valueEncoding(t).buffer}},function(t,e,r){var n=r(566),i=r(209).WriteError,o=n.getOptions,s=n.dispatchError;function a(t,e){this._levelup=t,this._codec=e,this.batch=t.db.batch(),this.ops=[],this.length=0}a.prototype.put=function(t,e,r){r=o(r);var n=this._codec.encodeKey(t,r),s=this._codec.encodeValue(e,r);try{this.batch.put(n,s)}catch(t){throw new i(t)}return this.ops.push({type:"put",key:n,value:s}),this.length++,this},a.prototype.del=function(t,e){e=o(e);var r=this._codec.encodeKey(t,e);try{this.batch.del(r)}catch(t){throw new i(t)}return this.ops.push({type:"del",key:r}),this.length++,this},a.prototype.clear=function(){try{this.batch.clear()}catch(t){throw new i(t)}return this.ops=[],this.length=0,this},a.prototype.write=function(t){var e=this._levelup,r=this.ops;try{this.batch.write(function(n){if(n)return s(e,new i(n),t);e.emit("batch",r),t&&t()})}catch(t){throw new i(t)}},t.exports=a},function(t,e,r){var n=r(574);function i(t,e,r){e&&"string"!=typeof e&&(e=e.message||e.name),n(this,{type:t,name:t,cause:"string"!=typeof e?e:r,message:e},"ewr")}function o(t,e){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),i.call(this,"CustomError",t,e)}o.prototype=new Error,t.exports=function(t){var e=function(e,r){return function(t,e,r){var n=function(r,o){i.call(this,e,r,o),"FilesystemError"==e&&(this.code=this.cause.code,this.path=this.cause.path,this.errno=this.cause.errno,this.message=(t.errno[this.cause.errno]?t.errno[this.cause.errno].description:this.cause.message)+(this.cause.path?" ["+this.cause.path+"]":"")),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,n)};return n.prototype=r?new r:new o,n}(t,e,r)};return{CustomError:o,FilesystemError:e("FilesystemError"),createError:e}}},function(t,e,r){var n=t.exports.all=[{errno:-2,code:"ENOENT",description:"no such file or directory"},{errno:-1,code:"UNKNOWN",description:"unknown error"},{errno:0,code:"OK",description:"success"},{errno:1,code:"EOF",description:"end of file"},{errno:2,code:"EADDRINFO",description:"getaddrinfo error"},{errno:3,code:"EACCES",description:"permission denied"},{errno:4,code:"EAGAIN",description:"resource temporarily unavailable"},{errno:5,code:"EADDRINUSE",description:"address already in use"},{errno:6,code:"EADDRNOTAVAIL",description:"address not available"},{errno:7,code:"EAFNOSUPPORT",description:"address family not supported"},{errno:8,code:"EALREADY",description:"connection already in progress"},{errno:9,code:"EBADF",description:"bad file descriptor"},{errno:10,code:"EBUSY",description:"resource busy or locked"},{errno:11,code:"ECONNABORTED",description:"software caused connection abort"},{errno:12,code:"ECONNREFUSED",description:"connection refused"},{errno:13,code:"ECONNRESET",description:"connection reset by peer"},{errno:14,code:"EDESTADDRREQ",description:"destination address required"},{errno:15,code:"EFAULT",description:"bad address in system call argument"},{errno:16,code:"EHOSTUNREACH",description:"host is unreachable"},{errno:17,code:"EINTR",description:"interrupted system call"},{errno:18,code:"EINVAL",description:"invalid argument"},{errno:19,code:"EISCONN",description:"socket is already connected"},{errno:20,code:"EMFILE",description:"too many open files"},{errno:21,code:"EMSGSIZE",description:"message too long"},{errno:22,code:"ENETDOWN",description:"network is down"},{errno:23,code:"ENETUNREACH",description:"network is unreachable"},{errno:24,code:"ENFILE",description:"file table overflow"},{errno:25,code:"ENOBUFS",description:"no buffer space available"},{errno:26,code:"ENOMEM",description:"not enough memory"},{errno:27,code:"ENOTDIR",description:"not a directory"},{errno:28,code:"EISDIR",description:"illegal operation on a directory"},{errno:29,code:"ENONET",description:"machine is not on the network"},{errno:31,code:"ENOTCONN",description:"socket is not connected"},{errno:32,code:"ENOTSOCK",description:"socket operation on non-socket"},{errno:33,code:"ENOTSUP",description:"operation not supported on socket"},{errno:34,code:"ENOENT",description:"no such file or directory"},{errno:35,code:"ENOSYS",description:"function not implemented"},{errno:36,code:"EPIPE",description:"broken pipe"},{errno:37,code:"EPROTO",description:"protocol error"},{errno:38,code:"EPROTONOSUPPORT",description:"protocol not supported"},{errno:39,code:"EPROTOTYPE",description:"protocol wrong type for socket"},{errno:40,code:"ETIMEDOUT",description:"connection timed out"},{errno:41,code:"ECHARSET",description:"invalid Unicode character"},{errno:42,code:"EAIFAMNOSUPPORT",description:"address family for hostname not supported"},{errno:44,code:"EAISERVICE",description:"servname not supported for ai_socktype"},{errno:45,code:"EAISOCKTYPE",description:"ai_socktype not supported"},{errno:46,code:"ESHUTDOWN",description:"cannot send after transport endpoint shutdown"},{errno:47,code:"EEXIST",description:"file already exists"},{errno:48,code:"ESRCH",description:"no such process"},{errno:49,code:"ENAMETOOLONG",description:"name too long"},{errno:50,code:"EPERM",description:"operation not permitted"},{errno:51,code:"ELOOP",description:"too many symbolic links encountered"},{errno:52,code:"EXDEV",description:"cross-device link not permitted"},{errno:53,code:"ENOTEMPTY",description:"directory not empty"},{errno:54,code:"ENOSPC",description:"no space left on device"},{errno:55,code:"EIO",description:"i/o error"},{errno:56,code:"EROFS",description:"read-only file system"},{errno:57,code:"ENODEV",description:"no such device"},{errno:58,code:"ESPIPE",description:"invalid seek"},{errno:59,code:"ECANCELED",description:"operation canceled"}];t.exports.errno={},t.exports.code={},n.forEach(function(e){t.exports.errno[e.errno]=e,t.exports.code[e.code]=e}),t.exports.custom=r(1343)(t.exports),t.exports.create=t.exports.custom.createError},function(t,e,r){t.exports=o;var n=r(567),i=r(42);function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}i.inherits=r(6),i.inherits(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},function(t,e){},function(t,e,r){(function(n){(e=t.exports=r(569)).Stream=r(50),e.Readable=e,e.Writable=r(568),e.Duplex=r(127),e.Transform=r(567),e.PassThrough=r(1345),n.browser||"disable"!==n.env.READABLE_STREAM||(t.exports=r(50))}).call(this,r(2))},function(t,e,r){var n=r(6),i=r(1347).Readable,o=r(79),s=r(209).EncodingError;function a(t,e){if(!(this instanceof a))return new a(t,e);i.call(this,o(e,{objectMode:!0})),this._iterator=t,this._destroyed=!1,this._decoder=null,e&&e.decoder&&(this._decoder=e.decoder),this.on("end",this._cleanup.bind(this))}t.exports=a,n(a,i),a.prototype._read=function(){var t=this;this._destroyed||this._iterator.next(function(e,r,n){if(!t._destroyed){if(e)return t.emit("error",e);if(void 0===r&&void 0===n)t.push(null);else{if(!t._decoder)return t.push({key:r,value:n});try{n=t._decoder(r,n)}catch(e){return t.emit("error",new s(e)),void t.push(null)}t.push(n)}}})},a.prototype.destroy=a.prototype._cleanup=function(){var t=this;this._destroyed||(this._destroyed=!0,this._iterator.end(function(e){if(e)return t.emit("error",e);t.emit("close")}))}},function(t,e,r){var n=r(101),i=r(573).AbstractIterator;function o(t){i.call(this,t),this._options=t,this._iterator=null,this._operations=[]}n.inherits(o,i),o.prototype.setDb=function(t){var e=this._iterator=t.iterator(this._options);this._operations.forEach(function(t){e[t.method].apply(e,t.args)})},o.prototype._operation=function(t,e){if(this._iterator)return this._iterator[t].apply(this._iterator,e);this._operations.push({method:t,args:e})},"next end".split(" ").forEach(function(t){o.prototype["_"+t]=function(){this._operation(t,arguments)}}),t.exports=o},function(t,e,r){var n=r(572);t.exports=function(t){return!(!t||"object"!=typeof t)&&Object.keys(n.prototype).filter(function(t){return"_"!=t[0]&&"approximateSize"!=t}).every(function(e){return"function"==typeof t[e]})}},function(t,e,r){(function(e,n){var i=r(101),o=r(573).AbstractLevelDOWN,s=r(1349);function a(t){o.call(this,"string"==typeof t?t:""),this._db=void 0,this._operations=[],this._iterators=[]}i.inherits(a,o),a.prototype.setDb=function(t){this._db=t,this._operations.forEach(function(e){t[e.method].apply(t,e.args)}),this._iterators.forEach(function(e){e.setDb(t)})},a.prototype._open=function(t,r){return e.nextTick(r)},a.prototype._operation=function(t,e){if(this._db)return this._db[t].apply(this._db,e);this._operations.push({method:t,args:e})},"put get del batch approximateSize".split(" ").forEach(function(t){a.prototype["_"+t]=function(){this._operation(t,arguments)}}),a.prototype._isBuffer=function(t){return n.isBuffer(t)},a.prototype._iterator=function(t){if(this._db)return this._db.iterator.apply(this._db,arguments);var e=new s(t);return this._iterators.push(e),e},t.exports=a,t.exports.DeferredIterator=s}).call(this,r(2),r(0).Buffer)},function(t,e,r){(function(e){var n=r(20).EventEmitter,i=r(101).inherits,o=r(101).deprecate,s=r(79),a=r(574),u=r(1351),c=r(1348),f=r(1342),l=r(1341),h=r(1339),p=r(209),d=r(566),m=p.WriteError,g=p.ReadError,v=p.NotFoundError,y=p.OpenError,b=p.EncodingError,w=p.InitializationError,_=p.LevelUPError,k=d.getOptions,S=d.defaultOptions,x=d.dispatchError;function E(t,e){return"function"==typeof t?t:e}function C(t,r,i){if(!(this instanceof C))return new C(t,r,i);var o;if(n.call(this),this.setMaxListeners(1/0),"function"==typeof t?((r="object"==typeof r?r:{}).db=t,t=null):"object"==typeof t&&"function"==typeof t.db&&(r=t,t=null),"function"==typeof r&&(i=r,r={}),(!r||"function"!=typeof r.db)&&"string"!=typeof t){if(o=new w("Must provide a location for the database"),i)return e.nextTick(function(){i(o)});throw o}r=k(r),this.options=s(S,r),this._codec=new l(this.options),this._status="new",a(this,"location",t,"e"),this.open(i)}function A(t,e,r){if(!t._isOpening()&&!t.isOpen())return x(t,new g("Database is not open"),r),!0}function M(t,e,r){x(t,new m(e),r)}function I(t,e,r){x(t,new g(e),r)}function T(t){return function(e,r){h()[t](e,r||function(){})}}i(C,n),C.prototype.open=function(t){var r,n,i=this;if(this.isOpen())return t&&e.nextTick(function(){t(null,i)}),this;if(this._isOpening())return t&&this.once("open",function(){t(null,i)});if(this.emit("opening"),this._status="opening",this.db=new u(this.location),"function"!=typeof this.options.db&&"function"!=typeof h)throw new _("missing db factory, you need to set options.db");r=this.options.db||h(),(n=r(this.location)).open(this.options,function(e){if(e)return x(i,new y(e),t);i.db.setDb(n),i.db=n,i._status="open",t&&t(null,i),i.emit("open"),i.emit("ready")})},C.prototype.close=function(t){var r=this;if(this.isOpen())this._status="closing",this.db.close(function(){r._status="closed",r.emit("closed"),t&&t.apply(null,arguments)}),this.emit("closing"),this.db=new u(this.location);else{if("closed"===this._status&&t)return e.nextTick(t);"closing"===this._status&&t?this.once("closed",t):this._isOpening()&&this.once("open",function(){r.close(t)})}},C.prototype.isOpen=function(){return"open"===this._status},C.prototype._isOpening=function(){return"opening"===this._status},C.prototype.isClosed=function(){return/^clos/.test(this._status)},C.prototype.get=function(t,e,r){var n,i=this;if(!A(this,0,r=E(e,r))){if(null===t||void 0===t||"function"!=typeof r)return I(this,"get() requires key and callback arguments",r);e=d.getOptions(e),n=this._codec.encodeKey(t,e),e.asBuffer=this._codec.valueAsBuffer(e),this.db.get(n,e,function(n,o){if(n)return n=/notfound/i.test(n)||n.notFound?new v("Key not found in database ["+t+"]",n):new g(n),x(i,n,r);if(r){try{o=i._codec.decodeValue(o,e)}catch(t){return r(new b(t))}r(null,o)}})}},C.prototype.put=function(t,e,r,n){var i,o,s=this;if(n=E(r,n),null===t||void 0===t)return M(this,"put() requires a key argument",n);A(this,0,n)||(r=k(r),i=this._codec.encodeKey(t,r),o=this._codec.encodeValue(e,r),this.db.put(i,o,r,function(r){if(r)return x(s,new m(r),n);s.emit("put",t,e),n&&n()}))},C.prototype.del=function(t,e,r){var n,i=this;if(r=E(e,r),null===t||void 0===t)return M(this,"del() requires a key argument",r);A(this,0,r)||(e=k(e),n=this._codec.encodeKey(t,e),this.db.del(n,e,function(e){if(e)return x(i,new m(e),r);i.emit("del",t),r&&r()}))},C.prototype.batch=function(t,e,r){var n,i=this;return arguments.length?(r=E(e,r),Array.isArray(t)?void(A(this,0,r)||(e=k(e),n=(n=i._codec.encodeBatch(t,e)).map(function(t){return t.type||void 0===t.key||void 0===t.value||(t.type="put"),t}),this.db.batch(n,e,function(e){if(e)return x(i,new m(e),r);i.emit("batch",t),r&&r()}))):M(this,"batch() requires an array argument",r)):new f(this,this._codec)},C.prototype.approximateSize=o(function(t,e,r,n){var i,o,s=this;if(n=E(r,n),r=k(r),null===t||void 0===t||null===e||void 0===e||"function"!=typeof n)return I(this,"approximateSize() requires start, end and callback arguments",n);i=this._codec.encodeKey(t,r),o=this._codec.encodeKey(e,r),this.db.approximateSize(i,o,function(t,e){if(t)return x(s,new y(t),n);n&&n(null,e)})},"db.approximateSize() is deprecated. Use db.db.approximateSize() instead"),C.prototype.readStream=C.prototype.createReadStream=function(t){return(t=s({keys:!0,values:!0},this.options,t)).keyEncoding=t.keyEncoding,t.valueEncoding=t.valueEncoding,(t=this._codec.encodeLtgt(t)).keyAsBuffer=this._codec.keyAsBuffer(t),t.valueAsBuffer=this._codec.valueAsBuffer(t),"number"!=typeof t.limit&&(t.limit=-1),new c(this.db.iterator(t),s(t,{decoder:this._codec.createStreamDecoder(t)}))},C.prototype.keyStream=C.prototype.createKeyStream=function(t){return this.createReadStream(s(t,{keys:!0,values:!1}))},C.prototype.valueStream=C.prototype.createValueStream=function(t){return this.createReadStream(s(t,{keys:!1,values:!0}))},C.prototype.toString=function(){return"LevelUP"},t.exports=C,t.exports.errors=r(209),t.exports.destroy=o(T("destroy"),"levelup.destroy() is deprecated. Use leveldown.destroy() instead"),t.exports.repair=o(T("repair"),"levelup.repair() is deprecated. Use leveldown.repair() instead")}).call(this,r(2))},function(t,e,r){"use strict";t.exports={lock:"memory",storageBackends:{root:r(210),blocks:r(210),keys:r(210),datastore:r(210)},storageBackendOptions:{root:{db:r(208),extension:""},blocks:{sharding:!1,db:r(208)},keys:{sharding:!1,db:r(208)},datastore:{db:r(208)}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,o){return t(n.default,e,(0,i.default)(r),o)}};var n=o(r(343)),i=o(r(76));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,n){((0,i.default)(e)?c:f)(t,e,(0,a.default)(r),n||s.default)};var n=u(r(576)),i=u(r(10)),o=u(r(575)),s=u(r(4)),a=u(r(76));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e,r,n){var i=new Array(e.length);t(e,function(t,e,n){r(t,function(t,r){i[e]=!!r,n(t)})},function(t){if(t)return n(t);for(var r=[],o=0;o<e.length;o++)i[o]&&r.push(e[o]);n(null,r)})}function f(t,e,r,i){var s=[];t(e,function(t,e,n){r(t,function(r,i){r?n(r):(i&&s.push({index:e,value:t}),n())})},function(t){t?i(t):i(null,(0,n.default)(s.sort(function(t,e){return t.index-e.index}),(0,o.default)("value")))})}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,n){(0,o.default)(t,e,function(t,e){r(t,function(t,r){e(t,!r)})},n)};var n,i=r(1355),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(1356)),i=o(r(1354));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)(n.default),t.exports=e.default},function(t,e,r){"use strict";var n=function(t,e){return e||(e={}),t.split("").forEach(function(t,r){t in e||(e[t]=r)}),e},i={alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",charmap:{0:14,1:8}};i.charmap=n(i.alphabet,i.charmap);var o={alphabet:"0123456789ABCDEFGHJKMNPQRSTVWXYZ",charmap:{O:0,I:1,L:1}};o.charmap=n(o.alphabet,o.charmap);var s={alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",charmap:{}};function a(t){if(this.buf=[],this.shift=8,this.carry=0,t){switch(t.type){case"rfc4648":this.charmap=e.rfc4648.charmap;break;case"crockford":this.charmap=e.crockford.charmap;break;case"base32hex":this.charmap=e.base32hex.charmap;break;default:throw new Error("invalid type")}t.charmap&&(this.charmap=t.charmap)}}function u(t){if(this.buf="",this.shift=3,this.carry=0,t){switch(t.type){case"rfc4648":this.alphabet=e.rfc4648.alphabet;break;case"crockford":this.alphabet=e.crockford.alphabet;break;case"base32hex":this.alphabet=e.base32hex.alphabet;break;default:throw new Error("invalid type")}t.alphabet?this.alphabet=t.alphabet:t.lc&&(this.alphabet=this.alphabet.toLowerCase())}}s.charmap=n(s.alphabet,s.charmap),a.prototype.charmap=i.charmap,a.prototype.write=function(t){var e=this.charmap,r=this.buf,n=this.shift,i=this.carry;return t.toUpperCase().split("").forEach(function(t){if("="!=t){var o=255&e[t];(n-=5)>0?i|=o<<n:n<0?(r.push(i|o>>-n),i=o<<(n+=8)&255):(r.push(i|o),n=8,i=0)}}),this.shift=n,this.carry=i,this},a.prototype.finalize=function(t){return t&&this.write(t),8!==this.shift&&0!==this.carry&&(this.buf.push(this.carry),this.shift=8,this.carry=0),this.buf},u.prototype.alphabet=i.alphabet,u.prototype.write=function(t){var e,r,n,i=this.shift,o=this.carry;for(n=0;n<t.length;n++)e=o|(r=t[n])>>i,this.buf+=this.alphabet[31&e],i>5&&(e=r>>(i-=5),this.buf+=this.alphabet[31&e]),o=r<<(i=5-i),i=8-i;return this.shift=i,this.carry=o,this},u.prototype.finalize=function(t){return t&&this.write(t),3!==this.shift&&(this.buf+=this.alphabet[31&this.carry],this.shift=3,this.carry=0),this.buf},e.encode=function(t,e){return new u(e).finalize(t)},e.decode=function(t,e){return new a(e).finalize(t)},e.Decoder=a,e.Encoder=u,e.charmap=n,e.crockford=o,e.rfc4648=i,e.base32hex=s},function(t,e,r){"use strict";const n=r(45).Key,i=r(212);t.exports=class extends i{constructor(t,e){super(t,{convert:t=>e.child(t),invert(t){if("/"===e.toString())return t;if(!e.isAncestorOf(t))throw new Error(`Expected prefix: (${e.toString()}) in key: ${t.toString()}`);return new n(t.toString().slice(e.toString().length),!1)}}),this.prefix=e}query(t){return t.prefix&&"/"!==this.prefix.toString()?super.query(Object.assign({},t,{prefix:this.prefix.child(new n(t.prefix)).toString()})):super.query(t)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){r=(0,o.default)(r||n.default);var a=(0,s.default)(e);if(!t())return r(null);var u=function(e){if(e)return r(e);if(t())return a(u);var n=(0,i.default)(arguments,1);r.apply(null,[null].concat(n))};a(u)};var n=a(r(4)),i=a(r(152)),o=a(r(211)),s=a(r(128));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";const n=r(578),i=r(1360);t.exports=class{constructor(t){this.stores=t.slice()}open(t){n(this.stores,(t,e)=>{t.open(e)},t)}put(t,e,r){n(this.stores,(r,n)=>{r.put(t,e,n)},r)}get(t,e){const r=this.stores.length;let n=!1,o=0;i(()=>!n&&o<r,e=>{this.stores[o++].get(t,(t,r)=>{if(null==t)return n=!0,e(null,r);e()})},e)}has(t,e){const r=this.stores.length;let n=!1,o=0;i(()=>!n&&o<r,e=>{this.stores[o++].has(t,(t,r)=>{if(null==t)return n=!0,e(null,r);e()})},e)}delete(t,e){n(this.stores,(e,r)=>{e.delete(t,r)},e)}close(t){n(this.stores,(t,e)=>{t.close(e)},t)}batch(){const t=this.stores.map(t=>t.batch());return{put:(e,r)=>{t.forEach(t=>t.put(e,r))},delete:e=>{t.forEach(t=>t.delete(e))},commit:e=>{n(t,(t,e)=>{t.commit(e)},e)}}}query(t){return this.stores[this.stores.length-1].query(t)}}},function(t,e){t.exports=function(t){var e,r,n=!!t,i=(t||[]).map(s),o=0;function s(t){return{ready:!1,reading:!1,ended:!1,read:t,data:null}}function a(){if(r){!function(){var t=i.length;for(;t--;)i[t].ended&&i.splice(t,1)}();var t=i.length,s=r;if(0===t&&(e||n))return r=null,void s(e||!0);for(var a=0;a<t;a++){var u=i[(o+a)%t];if(u.ready&&!u.ended){var c=u.data;return u.ready=!1,u.data=null,o++,r=null,s(null,c)}}}}function u(){for(var t=i.length;t--;)!function(r){if(t>i.length)throw new Error("this should never happen");if(!(r.reading||r.ended||r.ready)){r.reading=!0;var n=!0;r.read(e,function t(i,o){r.data=o,r.ready=!0,r.reading=!1,!0===i||e?r.ended=!0:i&&(e=r.ended=i),e&&!i&&r.read(e,t),n||a()}),n=!1}}(i[t]);a()}function c(t,n){e=e||t,r=n,u()}return c.add=function(t){if(!t)return n=!0,u();i.push(s(t)),u()},c.cap=function(t){c.add(null)},c}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,n){return t(e,n)}},t.exports=e.default},function(t,e,r){"use strict";const n=r(578),i=r(1362),o=r(8),s=r(45).Key,a=r(45).utils,u=a.asyncFilter,c=a.asyncSort,f=a.replaceStartWith,l=r(212);t.exports=class{constructor(t){this.mounts=t.slice()}open(t){n(this.mounts,(t,e)=>{t.datastore.open(e)},t)}_lookup(t){for(let e of this.mounts)if(e.prefix.toString()===t.toString()||e.prefix.isAncestorOf(t)){const r=f(t.toString(),e.prefix.toString());return{datastore:e.datastore,mountpoint:e.prefix,rest:new s(r)}}}put(t,e,r){const n=this._lookup(t);null!=n?n.datastore.put(n.rest,e,r):r(new Error("No datastore mounted for this key"))}get(t,e){const r=this._lookup(t);null!=r?r.datastore.get(r.rest,e):e(new Error("No datastore mounted for this key"))}has(t,e){const r=this._lookup(t);null!=r?r.datastore.has(r.rest,e):e(null,!1)}delete(t,e){const r=this._lookup(t);null!=r?r.datastore.delete(r.rest,e):e(new Error("No datastore mounted for this key"))}close(t){n(this.mounts,(t,e)=>{t.datastore.close(e)},t)}batch(){const t={},e=e=>{const r=this._lookup(e);if(null==r)throw new Error("No datastore mounted for this key");const n=r.mountpoint.toString();return null==t[n]&&(t[n]=r.datastore.batch()),{batch:t[n],rest:r.rest}};return{put:(t,r)=>{const n=e(t);n.batch.put(n.rest,r)},delete:t=>{const r=e(t);r.batch.delete(r.rest)},commit:e=>{n(Object.keys(t),(e,r)=>{t[e].commit(r)},e)}}}query(t){const e=this.mounts.map(e=>{const r=new l(e.datastore,{convert:t=>{throw new Error("should never be called")},invert:t=>e.prefix.child(t)});let n;return null!=t.prefix&&(n=f(t.prefix,e.prefix.toString())),r.query({prefix:n,filters:t.filters,keysOnly:t.keysOnly})});let r=[i(e)];if(null!=t.filters&&(r=r.concat(t.filters.map(t=>u(t)))),null!=t.orders&&(r=r.concat(t.orders.map(t=>c(t)))),null!=t.offset){let e=0;r.push(o.filter(()=>e++>=t.offset))}return null!=t.limit&&r.push(o.take(t.limit)),o.apply(null,r)}}},function(t,e,r){"use strict";t.exports="This is a repository of IPLD objects. Each IPLD object is in a single file,\nnamed <base32 encoding of cid>.data. Where <base32 encoding of cid> is the\n\"base32\" encoding of the CID (as specified in\nhttps://github.com/multiformats/multibase) without the 'B' prefix.\nAll the object files are placed in a tree of directories, based on a\nfunction of the CID. This is a form of sharding similar to\nthe objects directory in git repositories. Previously, we used\nprefixes, we now use the next-to-last two charters.\n    func NextToLast(base32cid string) {\n      nextToLastLen := 2\n      offset := len(base32cid) - nextToLastLen - 1\n      return str[offset : offset+nextToLastLen]\n    }\nFor example, an object with a base58 CIDv1 of\n    zb2rhYSxw4ZjuzgCnWSt19Q94ERaeFhu9uSqRgjSdx9bsgM6f\nhas a base32 CIDv1 of\n    BAFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA\nand will be placed at\n    SC/AFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA.data\nwith 'SC' being the last-to-next two characters and the 'B' at the\nbeginning of the CIDv1 string is the multibase prefix that is not\nstored in the filename.\n"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){r=r||n.default;var a=(0,i.default)(e)?[]:{};t(e,function(t,e,r){(0,s.default)(t)(function(t,n){arguments.length>2&&(n=(0,o.default)(arguments,1)),a[e]=n,r(t)})},function(t){r(t,a)})};var n=a(r(4)),i=a(r(10)),o=a(r(152)),s=a(r(128));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(r,n,i){return t(r,e,n,i)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return n&&t[n]&&t[n]()};var n="function"==typeof Symbol&&Symbol.iterator;t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,n.default)(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e=(0,i.default)(t);return e?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(e):(r=t,s=(0,o.default)(r),a=-1,u=s.length,function(){var t=s[++a];return a<u?{value:r[t],key:t}:null});var r,s,a,u};var n=s(r(10)),i=s(r(1368)),o=s(r(46));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,u){if(u=(0,i.default)(u||n.default),t<=0||!e)return u(null);var c=(0,o.default)(e),f=!1,l=0;function h(t,e){if(l-=1,t)f=!0,u(t);else{if(e===a.default||f&&l<=0)return f=!0,u(null);p()}}function p(){for(;l<t&&!f;){var e=c();if(null===e)return f=!0,void(l<=0&&u(null));l+=1,r(e.value,e.key,(0,s.default)(h))}}p()}};var n=u(r(4)),i=u(r(337)),o=u(r(1369)),s=u(r(211)),a=u(r(581));function u(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,o){(0,n.default)(e)(t,(0,i.default)(r),o)};var n=o(r(1370)),i=o(r(128));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,i.default)(n.default,t,e)};var n=o(r(582)),i=o(r(1366));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(152),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,o.default)(arguments),r=e.pop();t.call(this,e,r)}};var n,i=r(152),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(function(e,r){var i;try{i=t.apply(this,e)}catch(t){return r(t)}(0,n.default)(i)&&"function"==typeof i.then?i.then(function(t){a(r,null,t)},function(t){a(r,t.message?t:new Error(t))}):r(null,i)})};var n=s(r(23)),i=s(r(1374)),o=s(r(1373));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){try{t(e,r)}catch(t){(0,o.default)(u,t)}}function u(t){throw t}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(e=(0,o.default)(e||i.default),!(0,n.default)(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function c(e){var n=(0,u.default)(t[r++]);e.push((0,a.default)(f)),n.apply(null,e)}function f(n){if(n||r===t.length)return e.apply(null,arguments);c((0,s.default)(arguments,1))}c([])};var n=c(r(31)),i=c(r(4)),o=c(r(337)),s=c(r(152)),a=c(r(211)),u=c(r(128));function c(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";(function(e){const n=r(1376),i=r(1372),o=r(45).Key,s=r(580),a=r(212),u=new o(s.SHARDING_FN),c=new o(s.README_FN);class f{constructor(t,e){this.child=new a(t,{convert:this._convertKey.bind(this),invert:this._invertKey.bind(this)}),this.shard=e}open(t){this.child.open(t)}_convertKey(t){const e=t.toString();return e===u.toString()||e===c.toString()?t:new o(this.shard.fun(e)).child(t)}_invertKey(t){const e=t.toString();return e===u.toString()||e===c.toString()?t:o.withNamespaces(t.list().slice(1))}static createOrOpen(t,e,r){f.create(t,e,e=>{if(e&&"datastore exists"!==e.message)return r(e);f.open(t,r)})}static open(t,e){n([e=>s.readShardFun("/",t,e),(e,r)=>{r(null,new f(t,e))}],e)}static create(t,r,n){t.has(u,(o,a)=>{if(o)return n(o);if(!a){const o="function"==typeof t.putRaw?t.putRaw.bind(t):t.put.bind(t);return i([t=>o(u,e.from(r.toString()+"\n"),t),t=>o(c,e.from(s.readme),t)],t=>n(t))}s.readShardFun("/",t,(t,e)=>{if(t)return n(t);const i=(e||"").toString(),o=r.toString();if(i!==o)return n(new Error(`specified fun ${o} does not match repo shard fun ${i}`));n(new Error("datastore exists"))})})}put(t,e,r){this.child.put(t,e,r)}get(t,e){this.child.get(t,e)}has(t,e){this.child.has(t,e)}delete(t,e){this.child.delete(t,e)}batch(){return this.child.batch()}query(t){const e={keysOnly:t.keysOnly,offset:t.offset,limit:t.limit,filters:[(t,e)=>e(null,t.key.toString()!==u.toString()),(t,e)=>e(null,t.key.toString()!==c.toString())]};if(null!=t.prefix&&e.filters.push((e,r)=>{r(null,this._invertKey(e.key).toString().startsWith(t.prefix))}),null!=t.filters){const r=t.filters.map(t=>(e,r)=>{t(Object.assign({},e,{key:this._invertKey(e.key)}),r)});e.filters=e.filters.concat(r)}return null!=t.orders&&(e.orders=t.orders.map(t=>(e,r)=>{e.forEach(t=>{t.key=this._invertKey(t.key)}),t(e,(t,e)=>{if(t)return r(t);e.forEach(t=>{t.key=this._convertKey(t.key)}),r(null,e)})})),this.child.query(e)}close(t){this.child.close(t)}}t.exports=f}).call(this,r(0).Buffer)},function(t,e,r){"use strict";const n=r(212),i=r(1377),o=r(1364),s=r(1361),a=r(1359),u=r(580);e.KeytransformDatastore=n,e.ShardingDatastore=i,e.MountDatastore=o,e.TieredDatastore=s,e.NamespaceDatastore=a,e.shard=u},function(t,e,r){"use strict";const n=r(1378),i=n.ShardingDatastore,o=r(45).Key,s=r(1358),a=r(219),u=r(577),c=r(1357),f=r(18),l=r(8),h=t=>(t=>{const e=new s.Encoder;return new o("/"+e.write(t).finalize(),!1)})(t.buffer);var p;t.exports=((t,e,r)=>{!function(t,e,r){if(e.sharding){const e=new n.shard.NextToLast(2);i.createOrOpen(t,e,r)}else u(()=>r(null,t))}(t,e,(t,e)=>{if(t)return r(t);r(null,(e=e,{query(t,r){l(e.query(t),l.collect(r))},get(t,r){if(!f.isCID(t))return u(()=>{r(new Error("Not a valid cid"))});const n=h(t);e.get(n,(e,n)=>{if(e)return r(e);r(null,new a(n,t))})},put(t,r){if(!a.isBlock(t))return u(()=>{r(new Error("invalid block"))});const n=h(t.cid);e.has(n,(i,o)=>i?r(i):o?r():void e.put(n,t.data,r))},putMany(t,r){const n=t.map(t=>({key:h(t.cid),block:t})),i=e.batch();c(n,(t,r)=>e.has(t.key,r),(t,e)=>{if(t)return r(t);e.forEach(t=>{i.put(t.key,t.block.data)}),i.commit(r)})},has(t,r){if(!f.isCID(t))return u(()=>{r(new Error("Not a valid cid"))});e.has(h(t),r)},delete(t,r){if(!f.isCID(t))return u(()=>{r(new Error("Not a valid cid"))});e.delete(h(t),r)},close(t){e.close(t)}}))})})},function(t,e,r){"use strict";const n=r(45).Key,i=r(3).Buffer,o=new n("api");t.exports=(t=>({get(e){t.get(o,(t,r)=>e(t,r&&r.toString()))},set(e,r){t.put(o,i.from(e.toString()),r)},delete(e){t.delete(o,e)}}))},function(t,e,r){(function(e){var r="Expected a function",n="__lodash_hash_undefined__",i=1/0,o=9007199254740991,s="[object Arguments]",a="[object Function]",u="[object GeneratorFunction]",c="[object Symbol]",f=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,h=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,m=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,v="object"==typeof e&&e&&e.Object===Object&&e,y="object"==typeof self&&self&&self.Object===Object&&self,b=v||y||Function("return this")();var w,_=Array.prototype,k=Function.prototype,S=Object.prototype,x=b["__core-js_shared__"],E=(w=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",C=k.toString,A=S.hasOwnProperty,M=S.toString,I=RegExp("^"+C.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=b.Symbol,O=S.propertyIsEnumerable,B=_.splice,P=q(b,"Map"),N=q(Object,"create"),R=T?T.prototype:void 0,F=R?R.toString:void 0;function j(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function L(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function D(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function U(t,e){for(var r,n,i=t.length;i--;)if((r=t[i][0])===(n=e)||r!=r&&n!=n)return i;return-1}function z(t,e){return null!=t&&A.call(t,e)}function H(t){return!(!J(t)||E&&E in t)&&(Z(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?I:m).test(function(t){if(null!=t){try{return C.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function K(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function q(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return H(r)?r:void 0}function V(t,e,r){for(var n,i,a=-1,u=(e=function(t,e){if($(t))return!1;var r=typeof t;if("number"==r||"symbol"==r||"boolean"==r||null==t||tt(t))return!0;return l.test(t)||!f.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:$(n=e)?n:W(n)).length;++a<u;){var c=G(e[a]);if(!(i=null!=t&&r(t,c)))break;t=t[c]}return i||!!(u=t?t.length:0)&&X(u)&&function(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||g.test(t))&&t>-1&&t%1==0&&t<e}(c,u)&&($(t)||function(t){return function(t){return Q(t)&&function(t){return null!=t&&X(t.length)&&!Z(t)}(t)}(t)&&A.call(t,"callee")&&(!O.call(t,"callee")||M.call(t)==s)}(t))}j.prototype.clear=function(){this.__data__=N?N(null):{}},j.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},j.prototype.get=function(t){var e=this.__data__;if(N){var r=e[t];return r===n?void 0:r}return A.call(e,t)?e[t]:void 0},j.prototype.has=function(t){var e=this.__data__;return N?void 0!==e[t]:A.call(e,t)},j.prototype.set=function(t,e){return this.__data__[t]=N&&void 0===e?n:e,this},L.prototype.clear=function(){this.__data__=[]},L.prototype.delete=function(t){var e=this.__data__,r=U(e,t);return!(r<0||(r==e.length-1?e.pop():B.call(e,r,1),0))},L.prototype.get=function(t){var e=this.__data__,r=U(e,t);return r<0?void 0:e[r][1]},L.prototype.has=function(t){return U(this.__data__,t)>-1},L.prototype.set=function(t,e){var r=this.__data__,n=U(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},D.prototype.clear=function(){this.__data__={hash:new j,map:new(P||L),string:new j}},D.prototype.delete=function(t){return K(this,t).delete(t)},D.prototype.get=function(t){return K(this,t).get(t)},D.prototype.has=function(t){return K(this,t).has(t)},D.prototype.set=function(t,e){return K(this,t).set(t,e),this};var W=Y(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(tt(t))return F?F.call(t):"";var e=t+"";return"0"==e&&1/t==-i?"-0":e}(e);var r=[];return h.test(t)&&r.push(""),t.replace(p,function(t,e,n,i){r.push(n?i.replace(d,"$1"):e||t)}),r});function G(t){if("string"==typeof t||tt(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}function Y(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(r);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(Y.Cache||D),n}Y.Cache=D;var $=Array.isArray;function Z(t){var e=J(t)?M.call(t):"";return e==a||e==u}function X(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function J(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Q(t){return!!t&&"object"==typeof t}function tt(t){return"symbol"==typeof t||Q(t)&&M.call(t)==c}t.exports=function(t,e){return null!=t&&V(t,e,z)}}).call(this,r(7))},function(t,e,r){(function(e){var r="Expected a function",n="__lodash_hash_undefined__",i=1/0,o=9007199254740991,s="[object Function]",a="[object GeneratorFunction]",u="[object Symbol]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,l=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,d=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,g="object"==typeof e&&e&&e.Object===Object&&e,v="object"==typeof self&&self&&self.Object===Object&&self,y=g||v||Function("return this")();var b,w=Array.prototype,_=Function.prototype,k=Object.prototype,S=y["__core-js_shared__"],x=(b=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",E=_.toString,C=k.hasOwnProperty,A=k.toString,M=RegExp("^"+E.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=y.Symbol,T=w.splice,O=K(y,"Map"),B=K(Object,"create"),P=I?I.prototype:void 0,N=P?P.toString:void 0;function R(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function F(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function j(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function L(t,e,r){var n=t[e];C.call(t,e)&&Y(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function D(t,e){for(var r=t.length;r--;)if(Y(t[r][0],e))return r;return-1}function U(t){return!(!Z(t)||x&&x in t)&&(function(t){var e=Z(t)?A.call(t):"";return e==s||e==a}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?M:d).test(function(t){if(null!=t){try{return E.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function z(t,e,r,n){if(!Z(t))return t;for(var i=-1,o=(e=function(t,e){if($(t))return!1;var r=typeof t;if("number"==r||"symbol"==r||"boolean"==r||null==t||X(t))return!0;return f.test(t)||!c.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:function(t){return $(t)?t:V(t)}(e)).length,s=o-1,a=t;null!=a&&++i<o;){var u=W(e[i]),l=r;if(i!=s){var h=a[u];void 0===(l=n?n(h,u,a):void 0)&&(l=Z(h)?h:q(e[i+1])?[]:{})}L(a,u,l),a=a[u]}return t}function H(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function K(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return U(r)?r:void 0}function q(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||m.test(t))&&t>-1&&t%1==0&&t<e}R.prototype.clear=function(){this.__data__=B?B(null):{}},R.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},R.prototype.get=function(t){var e=this.__data__;if(B){var r=e[t];return r===n?void 0:r}return C.call(e,t)?e[t]:void 0},R.prototype.has=function(t){var e=this.__data__;return B?void 0!==e[t]:C.call(e,t)},R.prototype.set=function(t,e){return this.__data__[t]=B&&void 0===e?n:e,this},F.prototype.clear=function(){this.__data__=[]},F.prototype.delete=function(t){var e=this.__data__,r=D(e,t);return!(r<0||(r==e.length-1?e.pop():T.call(e,r,1),0))},F.prototype.get=function(t){var e=this.__data__,r=D(e,t);return r<0?void 0:e[r][1]},F.prototype.has=function(t){return D(this.__data__,t)>-1},F.prototype.set=function(t,e){var r=this.__data__,n=D(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},j.prototype.clear=function(){this.__data__={hash:new R,map:new(O||F),string:new R}},j.prototype.delete=function(t){return H(this,t).delete(t)},j.prototype.get=function(t){return H(this,t).get(t)},j.prototype.has=function(t){return H(this,t).has(t)},j.prototype.set=function(t,e){return H(this,t).set(t,e),this};var V=G(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(X(t))return N?N.call(t):"";var e=t+"";return"0"==e&&1/t==-i?"-0":e}(e);var r=[];return l.test(t)&&r.push(""),t.replace(h,function(t,e,n,i){r.push(n?i.replace(p,"$1"):e||t)}),r});function W(t){if("string"==typeof t||X(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}function G(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(r);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(G.Cache||j),n}function Y(t,e){return t===e||t!=t&&e!=e}G.Cache=j;var $=Array.isArray;function Z(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function X(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&A.call(t)==u}t.exports=function(t,e,r){return null==t?t:z(t,e,r)}}).call(this,r(7))},function(t,e,r){"use strict";function n(){this.head=this.tail=null,this.length=0}function i(t,e){t.length=1,t.head=t.tail=e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n,n.prototype.removeLink=function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t},n.prototype.empty=function(){for(;this.head;)this.shift();return this},n.prototype.insertAfter=function(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1},n.prototype.insertBefore=function(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1},n.prototype.unshift=function(t){this.head?this.insertBefore(this.head,t):i(this,t)},n.prototype.push=function(t){this.tail?this.insertAfter(this.tail,t):i(this,t)},n.prototype.shift=function(){return this.head&&this.removeLink(this.head)},n.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},n.prototype.toArray=function(){for(var t=Array(this.length),e=this.head,r=0;r<this.length;r++)t[r]=e.data,e=e.next;return t},n.prototype.remove=function(t){for(var e=this.head;e;){var r=e.next;t(e)&&this.removeLink(e),e=r}return this},t.exports=e.default},function(t,e){t.exports=function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var f=(0,c.default)(t),l=0,h=[],p=!1;function d(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(v.started=!0,(0,i.default)(t)||(t=[t]),0===t.length&&v.idle())return(0,a.default)(function(){v.drain()});for(var n=0,s=t.length;n<s;n++){var u={data:t[n],callback:r||o.default};e?v._tasks.unshift(u):v._tasks.push(u)}p||(p=!0,(0,a.default)(function(){p=!1,v.process()}))}function m(t){return function(e){l-=1;for(var r=0,i=t.length;r<i;r++){var o=t[r],s=(0,n.default)(h,o,0);0===s?h.shift():s>0&&h.splice(s,1),o.callback.apply(o,arguments),null!=e&&v.error(e,o.data)}l<=v.concurrency-v.buffer&&v.unsaturated(),v.idle()&&v.drain(),v.process()}}var g=!1,v={_tasks:new u.default,concurrency:e,payload:r,saturated:o.default,unsaturated:o.default,buffer:e/4,empty:o.default,drain:o.default,error:o.default,started:!1,paused:!1,push:function(t,e){d(t,!1,e)},kill:function(){v.drain=o.default,v._tasks.empty()},unshift:function(t,e){d(t,!0,e)},remove:function(t){v._tasks.remove(t)},process:function(){if(!g){for(g=!0;!v.paused&&l<v.concurrency&&v._tasks.length;){var t=[],e=[],r=v._tasks.length;v.payload&&(r=Math.min(r,v.payload));for(var n=0;n<r;n++){var i=v._tasks.shift();t.push(i),h.push(i),e.push(i.data)}l+=1,0===v._tasks.length&&v.empty(),l===v.concurrency&&v.saturated();var o=(0,s.default)(m(t));f(e,o)}g=!1}},length:function(){return v._tasks.length},running:function(){return l},workersList:function(){return h},idle:function(){return v._tasks.length+l===0},pause:function(){v.paused=!0},resume:function(){!1!==v.paused&&(v.paused=!1,(0,a.default)(v.process))}};return v};var n=f(r(338)),i=f(r(31)),o=f(r(4)),s=f(r(215)),a=f(r(347)),u=f(r(1383)),c=f(r(76));function f(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var r=(0,i.default)(t);return(0,n.default)(function(t,e){r(t[0],e)},e,1)};var n=o(r(1387)),i=o(r(76));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";const n=r(45).Key,i=r(1388),o=r(598),s=r(583),a=r(1382),u=r(1381),c=r(3).Buffer,f=new n("config");t.exports=(t=>{const e=i(function(t,e){const i=t.key,s=t.value;i?o([t=>r.get(t),(t,e)=>e(null,a(t,i,s)),n],e):n(s,e)},1),r={get(e,r){"function"==typeof e&&(r=e,e=void 0),e||(e=void 0),t.get(f,(t,n)=>{if(t)return r(t);let i;try{i=JSON.parse(n.toString())}catch(t){return r(t)}if(void 0!==e&&!u(i,e))return r(new Error("Key "+e+" does not exist in config"));let o=void 0!==e?s(i,e):i;r(null,o)})},set(t,r,n){if("function"==typeof r)n=r,r=t,t=void 0;else if(!t||"string"!=typeof t)return n(new Error("Invalid key type"));if(void 0===r||c.isBuffer(r))return n(new Error("Invalid value type"));e.push({key:t,value:r},n)},exists(e){t.has(f,e)}};return r;function n(e,r){const n=c.from(JSON.stringify(e,null,2));t.put(f,n,r)}})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(1390),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(1391),o=(n=i)&&n.__esModule?n:{default:n};e.default=o.default,t.exports=e.default},function(t,e,r){"use strict";const n=r(8),i=r(1392),o=r(340).asyncFilter,s=r(340).asyncSort,a=r(586);t.exports=class{constructor(){this.data={}}open(t){i(t)}put(t,e,r){this.data[t.toString()]=e,i(r)}get(t,e){this.has(t,(r,n)=>r?e(r):n?void e(null,this.data[t.toString()]):e(new Error("No value")))}has(t,e){i(()=>{e(null,void 0!==this.data[t.toString()])})}delete(t,e){delete this.data[t.toString()],i(()=>{e()})}batch(){let t=[],e=[];return{put(e,r){t.push([e,r])},delete(t){e.push(t)},commit:r=>{t.forEach(t=>{this.data[t[0].toString()]=t[1]}),t=[],e.forEach(t=>{delete this.data[t.toString()]}),e=[],i(r)}}}query(t){let e=[n.keys(this.data),n.map(t=>({key:new a(t),value:this.data[t]}))],r=[];if(null!=t.prefix){const e=t.prefix;r.push((t,r)=>r(null,t.key.toString().startsWith(e)))}if(null!=t.filters&&(r=r.concat(t.filters)),e=e.concat(r.map(t=>o(t))),null!=t.orders&&(e=e.concat(t.orders.map(t=>s(t)))),null!=t.offset){let r=0;e.push(n.filter(()=>r++>=t.offset))}return null!=t.limit&&e.push(n.take(t.limit)),!0===t.keysOnly&&e.push(n.map(t=>({key:t.key}))),n.apply(null,e)}close(t){i(t)}}},function(t,e,r){"use strict";(function(e){const n=r(45).Key,i=r(342)("repo:version"),o=new n("version");t.exports=(t=>({exists(e){t.has(o,e)},get(e){t.get(o,(t,r)=>{if(t)return e(t);e(null,parseInt(r.toString().trim(),10))})},set(r,n){t.put(o,e.from(String(r)),n)},check(t,e){this.get((r,n)=>r?e(r):(i("comparing version: %s and %s",n,t),n!==t?e(new Error(`version mismatch: expected v${t}, found v${n}`)):void e()))}}))}).call(this,r(0).Buffer)},function(t,e,r){"use strict";e.create=function(t,e,r){return new(0,r.storageBackends[t])(e,Object.assign({},r.storageBackendOptions[t]||{}))}},function(t,e,r){var n;!function(i){"use strict";var o,s=20,a=1,u=1e6,c=-7,f=21,l="[big.js] ",h=l+"Invalid ",p=h+"decimal places",d=h+"rounding mode",m={},g=void 0,v=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function y(t,e,r,n){var i=t.c,o=t.e+e+1;if(o<i.length){if(1===r)n=i[o]>=5;else if(2===r)n=i[o]>5||5==i[o]&&(n||o<0||i[o+1]!==g||1&i[o-1]);else if(3===r)n=n||i[o]!==g||o<0;else if(n=!1,0!==r)throw Error(d);if(o<1)i.length=1,n?(t.e=-e,i[0]=1):i[0]=t.e=0;else{if(i.length=o--,n)for(;++i[o]>9;)i[o]=0,o--||(++t.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(r<0||r>3||r!==~~r)throw Error(d);return t}function b(t,e,r,n){var i,o,s=t.constructor,a=!t.c[0];if(r!==g){if(r!==~~r||r<(3==e)||r>u)throw Error(3==e?h+"precision":p);for(r=n-(t=new s(t)).e,t.c.length>++n&&y(t,r,s.RM),2==e&&(n=t.e+r+1);t.c.length<n;)t.c.push(0)}if(i=t.e,r=(o=t.c.join("")).length,2!=e&&(1==e||3==e&&n<=i||i<=s.NE||i>=s.PE))o=o.charAt(0)+(r>1?"."+o.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)o="0"+o;o="0."+o}else if(i>0)if(++i>r)for(i-=r;i--;)o+="0";else i<r&&(o=o.slice(0,i)+"."+o.slice(i));else r>1&&(o=o.charAt(0)+"."+o.slice(1));return t.s<0&&(!a||4==e)?"-"+o:o}m.abs=function(){var t=new this.constructor(this);return t.s=1,t},m.cmp=function(t){var e,r=this,n=r.c,i=(t=new r.constructor(t)).c,o=r.s,s=t.s,a=r.e,u=t.e;if(!n[0]||!i[0])return n[0]?o:i[0]?-s:0;if(o!=s)return o;if(e=o<0,a!=u)return a>u^e?1:-1;for(s=(a=n.length)<(u=i.length)?a:u,o=-1;++o<s;)if(n[o]!=i[o])return n[o]>i[o]^e?1:-1;return a==u?0:a>u^e?1:-1},m.div=function(t){var e=this,r=e.constructor,n=e.c,i=(t=new r(t)).c,o=e.s==t.s?1:-1,s=r.DP;if(s!==~~s||s<0||s>u)throw Error(p);if(!i[0])throw Error("[big.js] Division by zero");if(!n[0])return new r(0*o);var a,c,f,l,h,d=i.slice(),m=a=i.length,v=n.length,b=n.slice(0,a),w=b.length,_=t,k=_.c=[],S=0,x=s+(_.e=e.e-t.e)+1;for(_.s=o,o=x<0?0:x,d.unshift(0);w++<a;)b.push(0);do{for(f=0;f<10;f++){if(a!=(w=b.length))l=a>w?1:-1;else for(h=-1,l=0;++h<a;)if(i[h]!=b[h]){l=i[h]>b[h]?1:-1;break}if(!(l<0))break;for(c=w==a?i:d;w;){if(b[--w]<c[w]){for(h=w;h&&!b[--h];)b[h]=9;--b[h],b[w]+=10}b[w]-=c[w]}for(;!b[0];)b.shift()}k[S++]=l?f:++f,b[0]&&l?b[w]=n[m]||0:b=[n[m]]}while((m++<v||b[0]!==g)&&o--);return k[0]||1==S||(k.shift(),_.e--),S>x&&y(_,s,r.RM,b[0]!==g),_},m.eq=function(t){return!this.cmp(t)},m.gt=function(t){return this.cmp(t)>0},m.gte=function(t){return this.cmp(t)>-1},m.lt=function(t){return this.cmp(t)<0},m.lte=function(t){return this.cmp(t)<1},m.minus=m.sub=function(t){var e,r,n,i,o=this,s=o.constructor,a=o.s,u=(t=new s(t)).s;if(a!=u)return t.s=-u,o.plus(t);var c=o.c.slice(),f=o.e,l=t.c,h=t.e;if(!c[0]||!l[0])return l[0]?(t.s=-u,t):new s(c[0]?o:0);if(a=f-h){for((i=a<0)?(a=-a,n=c):(h=f,n=l),n.reverse(),u=a;u--;)n.push(0);n.reverse()}else for(r=((i=c.length<l.length)?c:l).length,a=u=0;u<r;u++)if(c[u]!=l[u]){i=c[u]<l[u];break}if(i&&(n=c,c=l,l=n,t.s=-t.s),(u=(r=l.length)-(e=c.length))>0)for(;u--;)c[e++]=0;for(u=e;r>a;){if(c[--r]<l[r]){for(e=r;e&&!c[--e];)c[e]=9;--c[e],c[r]+=10}c[r]-=l[r]}for(;0===c[--u];)c.pop();for(;0===c[0];)c.shift(),--h;return c[0]||(t.s=1,c=[h=0]),t.c=c,t.e=h,t},m.mod=function(t){var e,r=this,n=r.constructor,i=r.s,o=(t=new n(t)).s;if(!t.c[0])throw Error("[big.js] Division by zero");return r.s=t.s=1,e=1==t.cmp(r),r.s=i,t.s=o,e?new n(r):(i=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=o,this.minus(r.times(t)))},m.plus=m.add=function(t){var e,r=this,n=r.constructor,i=r.s,o=(t=new n(t)).s;if(i!=o)return t.s=-o,r.minus(t);var s=r.e,a=r.c,u=t.e,c=t.c;if(!a[0]||!c[0])return c[0]?t:new n(a[0]?r:0*i);if(a=a.slice(),i=s-u){for(i>0?(u=s,e=c):(i=-i,e=a),e.reverse();i--;)e.push(0);e.reverse()}for(a.length-c.length<0&&(e=c,c=a,a=e),i=c.length,o=0;i;a[i]%=10)o=(a[--i]=a[i]+c[i]+o)/10|0;for(o&&(a.unshift(o),++u),i=a.length;0===a[--i];)a.pop();return t.c=a,t.e=u,t},m.pow=function(t){var e=this,r=new e.constructor(1),n=r,i=t<0;if(t!==~~t||t<-1e6||t>1e6)throw Error(h+"exponent");for(i&&(t=-t);1&t&&(n=n.times(e)),t>>=1;)e=e.times(e);return i?r.div(n):n},m.round=function(t,e){var r=this.constructor;if(t===g)t=0;else if(t!==~~t||t<0||t>u)throw Error(p);return y(new r(this),t,e===g?r.RM:e)},m.sqrt=function(){var t,e,r,n=this,i=n.constructor,o=n.s,s=n.e,a=new i(.5);if(!n.c[0])return new i(n);if(o<0)throw Error(l+"No square root");0===(o=Math.sqrt(n.toString()))||o===1/0?((e=n.c.join("")).length+s&1||(e+="0"),(t=new i(Math.sqrt(e).toString())).e=((s+1)/2|0)-(s<0||1&s)):t=new i(o.toString()),s=t.e+(i.DP+=4);do{r=t,t=a.times(r.plus(n.div(r)))}while(r.c.slice(0,s).join("")!==t.c.slice(0,s).join(""));return y(t,i.DP-=4,i.RM)},m.times=m.mul=function(t){var e,r=this,n=r.constructor,i=r.c,o=(t=new n(t)).c,s=i.length,a=o.length,u=r.e,c=t.e;if(t.s=r.s==t.s?1:-1,!i[0]||!o[0])return new n(0*t.s);for(t.e=u+c,s<a&&(e=i,i=o,o=e,c=s,s=a,a=c),e=new Array(c=s+a);c--;)e[c]=0;for(u=a;u--;){for(a=0,c=s+u;c>u;)a=e[c]+o[u]*i[c-u-1]+a,e[c--]=a%10,a=a/10|0;e[c]=(e[c]+a)%10}for(a?++t.e:e.shift(),u=e.length;!e[--u];)e.pop();return t.c=e,t},m.toExponential=function(t){return b(this,1,t,t)},m.toFixed=function(t){return b(this,2,t,this.e+t)},m.toPrecision=function(t){return b(this,3,t,t-1)},m.toString=function(){return b(this)},m.valueOf=m.toJSON=function(){return b(this,4)},(o=function t(){function e(r){var n=this;if(!(n instanceof e))return r===g?t():new e(r);r instanceof e?(n.s=r.s,n.e=r.e,n.c=r.c.slice()):function(t,e){var r,n,i;if(0===e&&1/e<0)e="-0";else if(!v.test(e+=""))throw Error(h+"number");for(t.s="-"==e.charAt(0)?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),i=e.length,n=0;n<i&&"0"==e.charAt(n);)++n;if(n==i)t.c=[t.e=0];else{for(;i>0&&"0"==e.charAt(--i););for(t.e=r-n-1,t.c=[],r=0;n<=i;)t.c[r++]=+e.charAt(n++)}}(n,r),n.constructor=e}return e.prototype=m,e.DP=s,e.RM=a,e.NE=c,e.PE=f,e.version="5.0.2",e}()).default=o.Big=o,void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)}()},function(t,e,r){function n(t){var r;function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;u++;var i=e.formatters[n];if("function"==typeof i){var o=s[u];r=i.call(t,o),s.splice(u,1),u--}return r}),e.formatArgs.call(t,s),(n.log||e.log||console.log.bind(console)).apply(t,s)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var r,n=0;for(r in t)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]}(t),n.destroy=i,"function"==typeof e.init&&e.init(n),e.instances.push(n),n}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=n.debug=n.default=n).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var r;e.save(t),e.names=[],e.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(r=0;r<e.instances.length;r++){var o=e.instances[r];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r(34),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,n){return t(e,n)}},t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){(0,n.default)(t,(0,i.default)((0,o.default)(e)),r)};var n=s(r(343)),i=s(r(1400)),o=s(r(76));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,i.default)(n.default,t,e)};var n=o(r(343)),i=o(r(597));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e){t.exports=function(t,e){return function(r){return t(e(r))}}},function(t,e,r){var n=r(1403)(Object.keys,Object);t.exports=n},function(t,e,r){var n=r(589),i=r(1404),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=[];for(var r in Object(t))o.call(t,r)&&"constructor"!=r&&e.push(r);return e}},function(t,e,r){(function(t){var n=r(594),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===i&&n.process,a=function(){try{return s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a}).call(this,r(24)(t))},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,r){var n=r(346),i=r(593),o=r(344),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!s[n(t)]}},function(t,e,r){var n=r(1408),i=r(1407),o=r(1406),s=o&&o.isTypedArray,a=s?i(s):n;t.exports=a},function(t,e){t.exports=function(){return!1}},function(t,e,r){(function(t){var n=r(345),i=r(1410),o="object"==typeof e&&e&&!e.nodeType&&e,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o?n.Buffer:void 0,u=(a?a.isBuffer:void 0)||i;t.exports=u}).call(this,r(24)(t))},function(t,e,r){var n=r(346),i=r(344),o="[object Arguments]";t.exports=function(t){return i(t)&&n(t)==o}},function(t,e,r){var n=r(1412),i=r(344),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(t){return i(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=u},function(t,e){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return n&&t[n]&&t[n]()};var n="function"==typeof Symbol&&Symbol.iterator;t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,n.default)(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e=(0,i.default)(t);return e?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(e):(r=t,s=(0,o.default)(r),a=-1,u=s.length,function(){var t=s[++a];return a<u?{value:r[t],key:t}:null});var r,s,a,u};var n=s(r(10)),i=s(r(1415)),o=s(r(46));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,u){if(u=(0,i.default)(u||n.default),t<=0||!e)return u(null);var c=(0,o.default)(e),f=!1,l=0;function h(t,e){if(l-=1,t)f=!0,u(t);else{if(e===a.default||f&&l<=0)return f=!0,u(null);p()}}function p(){for(;l<t&&!f;){var e=c();if(null===e)return f=!0,void(l<=0&&u(null));l+=1,r(e.value,e.key,(0,s.default)(h))}}p()}};var n=u(r(4)),i=u(r(348)),o=u(r(1416)),s=u(r(215)),a=u(r(588));function u(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(592)),i=o(r(587));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.default)(n.default,1),t.exports=e.default},function(t,e){var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},function(t,e,r){var n=r(595),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=n?n.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),r=t[a];try{t[a]=void 0;var n=!0}catch(t){}var i=s.call(t);return n&&(e?t[a]=r:delete t[a]),i}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){(0,n.default)(i.default,t,e)};var n=o(r(597)),i=o(r(1418));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,o.default)(arguments),r=e.pop();t.call(this,e,r)}};var n,i=r(216),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(function(e,r){var i;try{i=t.apply(this,e)}catch(t){return r(t)}(0,n.default)(i)&&"function"==typeof i.then?i.then(function(t){a(r,null,t)},function(t){a(r,t.message?t:new Error(t))}):r(null,i)})};var n=s(r(23)),i=s(r(1422)),o=s(r(347));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){try{t(e,r)}catch(t){(0,o.default)(u,t)}}function u(t){throw t}t.exports=e.default},function(t,e,r){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=f,e.wrap=l;var i,o=r(153),s=(i=o)&&i.__esModule?i:{default:i};var a,u=e.hasSetImmediate="function"==typeof t&&t,c=e.hasNextTick="object"==typeof n&&"function"==typeof n.nextTick;function f(t){setTimeout(t,0)}function l(t){return function(e){var r=(0,s.default)(arguments,1);t(function(){e.apply(null,r)})}}a=u?t:c?n.nextTick:f,e.default=l(a)}).call(this,r(12).setImmediate,r(2))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,o.default)(arguments),r=e.pop();t.call(this,e,r)}};var n,i=r(153),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,i.default)(function(e,r){var i;try{i=t.apply(this,e)}catch(t){return r(t)}(0,n.default)(i)&&"function"==typeof i.then?i.then(function(t){a(r,null,t)},function(t){a(r,t.message?t:new Error(t))}):r(null,i)})};var n=s(r(23)),i=s(r(1425)),o=s(r(1424));function s(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){try{t(e,r)}catch(t){(0,o.default)(u,t)}}function u(t){throw t}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){r=(0,o.default)(r||n.default);var a=(0,s.default)(t),u=function(t){if(t)return r(t);var n=(0,i.default)(arguments,1);if(e.apply(this,n))return a(u);r.apply(null,[null].concat(n))};a(u)};var n=a(r(4)),i=a(r(153)),o=a(r(217)),s=a(r(102));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){(0,o.default)(t,function(){return!e.apply(this,arguments)},r)};var n,i=r(1427),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){"use strict";var n=r(352),i=r(602);t.exports=function(){return function(t){var e;return function(r,o){function s(){e(null,function(e,r){!0===e?a():e?t(!0,function(t){o(e)}):o(null,r)})}function a(){e=null,t(null,function(t,r){if(t)return o(t);Array.isArray(r)||r&&"object"==typeof r?r=n(r):"function"!=typeof r&&(r=i(r)),e=r,s()})}r?e?e(r,function(e){t(e||r,o)}):t(r,o):e?s():a()}}}},function(t,e,r){"use strict";var n=r(600);t.exports=function(t){return n(t,!0)}},function(t,e,r){"use strict";t.exports=function(t,e){var r=(e=e||{}).last||!1,n=!1;if("number"==typeof t){r=!0;var i=t;t=function(){return--i}}return function(e){function i(t){e(!0,function(e){r=!1,t(e||!0)})}return function(o,s){n&&!o?r?i(s):s(n):(n=o)?e(n,s):e(null,function(e,o){(n=n||e)?s(n):t(o)?s(null,o):(n=!0,r?s(null,o):i(s))})}}}},function(t,e,r){"use strict";t.exports=function(t,e){var r=!1;function n(t){!r&&e&&(r=!0,e(!0===t?null:t))}return function(e){return function(r,i){return r&&n(r),e(r,function(e,r){e?n(e):t&&t(r),i(e,r)})}}}},function(t,e,r){"use strict";var n=r(601),i=r(350);t.exports=function(t){return t=n(t),i(function(e){return!t(e)})}},function(t,e,r){"use strict";function n(t){return t}var i=r(154);t.exports=function(t){if(!t)return n;t=i(t);var e,r,o=!1;return function(n){return function i(s,a){if(r)return a(r);s?(r=s,n(s,o?function(t){o?e=a:a(s)}:function(t){a(s)})):n(null,function(n,s){n?a(n):r?a(r):(o=!0,t(s,function(t,n){o=!1,r?(a(r),e(r)):t?i(t,a):a(null,n)}))})}}}},function(t,e,r){"use strict";function n(t){return t}var i=r(154);t.exports=function(t){return t?(t=i(t),function(e){return function(r,n){e(r,function(r,i){try{i=r?null:t(i)}catch(t){return e(t,function(){return n(t)})}n(r,i)})}}):n}},function(t,e,r){"use strict";t.exports={map:r(1435),asyncMap:r(1434),filter:r(350),filterNot:r(1433),through:r(1432),take:r(1431),unique:r(600),nonUnique:r(1430),flatten:r(1429)}},function(t,e,r){"use strict";var n=r(351);t.exports=function(t){return n(function(t,e){return t+e},"",t)}},function(t,e,r){"use strict";var n=r(351);t.exports=function(t){return n(function(t,e){return t.push(e),t},[],t)}},function(t,e,r){"use strict";function n(t){return t}var i=r(154),o=r(155);t.exports=function(t,e){var r=!1;return e?t=i(t)||n:(e=t,t=n),o(function(n){if(t(n))return r=!0,e(null,n),!1},function(t){r||e(!0===t?null:t,null)})}},function(t,e,r){"use strict";var n=r(155);t.exports=function(t){return n(function(t){console.log(t)},t)}},function(t,e,r){"use strict";var n=r(155);t.exports=function(t){return n(null,t)}},function(t,e,r){"use strict";t.exports={drain:r(155),onEnd:r(1441),log:r(1440),find:r(1439),reduce:r(351),collect:r(1438),concat:r(1437)}},function(t,e,r){"use strict";t.exports=function(t){return function(e,r){r(t)}}},function(t,e,r){"use strict";t.exports=function(){return function(t,e){e(!0)}}},function(t,e,r){"use strict";t.exports=function(t){return t=t||Math.random,function(e,r){return e?r&&r(e):r(null,t())}}},function(t,e,r){"use strict";t.exports=function(t){var e=0;return t=t||1/0,function(r,n){return r?n&&n(r):e>t?n(!0):void n(null,e++)}}},function(t,e,r){"use strict";var n=r(352);t.exports=function(t){return n(Object.keys(t))}},function(t,e,r){"use strict";t.exports={keys:r(1447),once:r(602),values:r(352),count:r(1446),infinite:r(1445),empty:r(1444),error:r(1443)}},function(t,e,r){"use strict";(function(e){const n=r(38);var i={checkCIDComponents:function(t){if(null==t)return"null values are not valid CIDs";if(0!==t.version&&1!==t.version)return"Invalid version, must be a number equal to 1 or 0";if("string"!=typeof t.codec)return"codec must be string";if(!e.isBuffer(t.multihash))return"multihash must be a Buffer";try{n.validate(t.multihash)}catch(t){let e=t.message;return e||(e="Multihash validation failed"),e}}};t.exports=i}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(n){const i=r(35),o=r(606),s=r(604),a=r(605);(e=t.exports).addPrefix=((t,e)=>{let r;if(n.isBuffer(t))r=a.varintBufferEncode(t);else{if(!o[t])throw new Error("multicodec not recognized");r=o[t]}return n.concat([r,e])}),e.rmPrefix=(t=>(i.decode(t),t.slice(i.decode.bytes))),e.getCodec=(t=>{const e=a.varintBufferDecode(t);return s[e.toString("hex")]})}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e){t.exports=function(t){const r=t.indexOf("=")>-1,n=t.indexOf("-")>-1&&t.indexOf("_")>-1;return{encode(t){let i="";i="string"==typeof t?e.from(t).toString("base64"):t.toString("base64"),n&&(i=(i=i.replace("+","-")).replace("/","_"));const o=i.indexOf("=");return o>0&&!r&&(i=i.substring(0,o)),i},decode(r){n&&(r=(r=r.replace("+","-")).replace("/","_"));for(let e of r)if(t.indexOf(e)<0)throw new Error("invalid base64 character");return e.from(r,"base64")}}}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e){function r(t,e){let r=t.byteLength,n=new Uint8Array(t),i=e.indexOf("=")===e.length-1;i&&(e=e.substring(0,e.length-2));let o=0,s=0,a="";for(let t=0;t<r;t++)for(s=s<<8|n[t],o+=8;o>=5;)a+=e[s>>>o-5&31],o-=5;if(o>0&&(a+=e[s<<5-o&31]),i)for(;a.length%8!=0;)a+="=";return a}t.exports=function(t){return{encode:n=>r("string"==typeof n?e.from(n):n,t),decode(e){for(let r of e)if(t.indexOf(r)<0)throw new Error("invalid base32 character");return function(t,e){let r=(t=t.replace(new RegExp("=","g"),"")).length,n=0,i=0,o=0,s=new Uint8Array(5*r/8|0);for(let a=0;a<r;a++)i=i<<5|e.indexOf(t[a]),(n+=5)>=8&&(s[o++]=i>>>n-8&255,n-=8);return s.buffer}(e,t)}}}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";(function(e){t.exports=function(t){return{encode:t=>"string"==typeof t?e.from(t).toString("hex"):t.toString("hex"),decode(r){for(let e of r)if(t.indexOf(e)<0)throw new Error("invalid base16 character");return e.from(r,"hex")}}}}).call(this,r(0).Buffer)},function(t,e,r){"use strict";t.exports=class{constructor(t,e,r,n){this.name=t,this.code=e,this.alphabet=n,r&&n&&(this.engine=r(n))}encode(t){return this.engine.encode(t)}decode(t){return this.engine.decode(t)}isImplemented(){return this.engine}}},function(t,e,r){"use strict";const n=r(1454),i=r(608),o=r(1453),s=r(1452),a=r(1451),u=[["base1","1","","1"],["base2","0",i,"01"],["base8","7",i,"01234567"],["base10","9",i,"0123456789"],["base16","f",o,"0123456789abcdef"],["base32","b",s,"abcdefghijklmnopqrstuvwxyz234567"],["base32pad","c",s,"abcdefghijklmnopqrstuvwxyz234567="],["base32hex","v",s,"0123456789abcdefghijklmnopqrstuv"],["base32hexpad","t",s,"0123456789abcdefghijklmnopqrstuv="],["base32z","h",s,"ybndrfg8ejkmcpqxot1uwisza345h769"],["base58flickr","Z",i,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base58btc","z",i,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base64","m",a,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",a,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",a,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",a,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],c=u.reduce((t,e)=>(t[e[0]]=new n(e[0],e[1],e[2],e[3]),t),{}),f=u.reduce((t,e)=>(t[e[1]]=c[e[0]],t),{});t.exports={names:c,codes:f}},function(t,e,r){"use strict";(function(n){const i=r(1455);(e=t.exports=s).encode=function(t,e){const r=a(t);return s(r.name,n.from(r.encode(e)))},e.decode=function(t){n.isBuffer(t)&&(t=t.toString());const e=t.substring(0,1);"string"==typeof(t=t.substring(1,t.length))&&(t=n.from(t));const r=a(e);return r.name,n.from(r.decode(t.toString()))},e.isEncoded=function(t){n.isBuffer(t)&&(t=t.toString());const e=t.substring(0,1);try{const t=a(e);return t.name}catch(t){return!1}};const o=new Error("Unsupported encoding");function s(t,e){if(!e)throw new Error("requires an encoded buffer");const r=a(t),i=n.from(r.code);return function(t,e){a(t).decode(e.toString())}(r.name,e),n.concat([i,e])}function a(t){let e;if(i.names[t])e=i.names[t];else{if(!i.codes[t])throw o;e=i.codes[t]}if(!e.isImplemented())throw new Error("Base "+t+" is not implemented yet");return e}}).call(this,r(0).Buffer)},function(t,e){var r=Math.pow(2,7),n=Math.pow(2,14),i=Math.pow(2,21),o=Math.pow(2,28),s=Math.pow(2,35),a=Math.pow(2,42),u=Math.pow(2,49),c=Math.pow(2,56),f=Math.pow(2,63);t.exports=function(t){return t<r?1:t<n?2:t<i?3:t<o?4:t<s?5:t<a?6:t<u?7:t<c?8:t<f?9:10}},function(t,e){t.exports=function t(e,i){var o,s=0,i=i||0,a=0,u=i,c=e.length;do{if(u>=c)throw t.bytes=0,new RangeError("Could not decode varint");o=e[u++],s+=a<28?(o&n)<<a:(o&n)*Math.pow(2,a),a+=7}while(o>=r);t.bytes=u-i;return s};var r=128,n=127},function(t,e){t.exports=function t(e,o,s){o=o||[];s=s||0;var a=s;for(;e>=i;)o[s++]=255&e|r,e/=128;for(;e&n;)o[s++]=255&e|r,e>>>=7;o[s]=0|e;t.bytes=s-a+1;return o};var r=128,n=-128,i=Math.pow(2,31)},function(t,e,r){"use strict";(function(e){const n=r(219),i=r(8),o=r(18),s=r(1428),a=r(349),u=r(609),c=r(214).join,f=r(214).sep,l=r(336).source,h=r(558),p=r(1332),d=r(1325),m=r(1322),g=r(45).MemoryDatastore,v=r(126),y=r(1282),b=r(1269),w=r(1258),_=r(98).ethAccountSnapshot,k=r(98).ethBlock,S=r(98).ethBlockList,x=r(98).ethStateTrie,E=r(98).ethStorageTrie,C=r(98).ethTx,A=r(98).ethTxTrie,M=r(1191),I=r(1190);function T(){}class O{constructor(t){if(!t)throw new Error("Missing blockservice");this.bs=t,this.resolvers={},this.support={},this.support.add=((t,e,r)=>{if(this.resolvers[t])throw new Error(t+"already supported");this.resolvers[t]={resolver:e,util:r}}),this.support.rm=(t=>{this.resolvers[t]&&delete this.resolvers[t]}),this.support.add(v.resolver.multicodec,v.resolver,v.util),this.support.add(y.resolver.multicodec,y.resolver,y.util),this.support.add(b.resolver.multicodec,b.resolver,b.util),this.support.add(w.resolver.multicodec,w.resolver,w.util),this.support.add(_.resolver.multicodec,_.resolver,_.util),this.support.add(k.resolver.multicodec,k.resolver,k.util),this.support.add(S.resolver.multicodec,S.resolver,S.util),this.support.add(x.resolver.multicodec,x.resolver,x.util),this.support.add(E.resolver.multicodec,E.resolver,E.util),this.support.add(C.resolver.multicodec,C.resolver,C.util),this.support.add(A.resolver.multicodec,A.resolver,A.util),this.support.add(M.resolver.multicodec,M.resolver,M.util),this.support.add(I.resolver.multicodec,I.resolver,I.util)}get(t,e,r,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof r&&(n=r,r={}),"string"==typeof e&&(e=c("/",e).substr(1).split(f).join("/")),""===e||!e)return this._get(t,(t,e)=>{if(t)return n(t);n(null,{value:e,remainderPath:""})});let i;s(r=>{this.bs.get(t,(n,o)=>{if(n)return r(n);const s=this.resolvers[t.codec];if(!s)return r(new Error('No resolver found for codec "'+t.codec+'"'));s.resolver.resolve(o.data,e,(t,n)=>{if(t)return r(t);i=n.value,e=n.remainderPath,r()})})},()=>{const n=!e||""===e||"/"===e,s=i&&!i["/"];return!!(n&&s||r.localResolve)||(i&&(t=new o(i["/"])),!1)},(t,r)=>t?n(t):n(null,{value:i,remainderPath:e}))}getStream(t,e,r){const n=l();return this.get(t,e,r,(t,e)=>{if(t)return n.resolve(i.error(t));n.resolve(i.values([e]))}),n}put(t,r,n){if("function"==typeof r)return e(()=>n(new Error("no options were passed")));if(n=n||T,r.cid&&o.isCID(r.cid))return this._put(r.cid,t,n);r.hashAlg=r.hashAlg||"sha2-256";const i=this.resolvers[r.format];if(!i)return n(new Error('No resolver found for codec "'+r.format+'"'));i.util.cid(t,(e,r)=>{if(e)return n(e);this._put(r,t,n)})}treeStream(t,e,r){let n;if("object"==typeof e&&(r=e,e=void 0),!(r=r||{}).recursive){n=l();const e=this.resolvers[t.codec];if(!e)return n.abort(new Error('No resolver found for codec "'+t.codec+'"')),n;m([e=>this.bs.get(t,e),(t,r)=>e.resolver.tree(t.data,r)],(t,e)=>{if(t)return n.abort(t),n;n.resolve(i.values(e))})}return r.recursive&&(n=i(h.widthFirst({basePath:null,cid:t},t=>{if("string"==typeof t)return i.empty();const e=l(),r=t.cid,n=this.resolvers[r.codec];return n?(m([e=>this.bs.get(t.cid,e),(t,e)=>n.resolver.tree(t.data,(r,i)=>{if(r)return e(r);p(i,(e,r)=>{n.resolver.isLink(t.data,e,(t,n)=>{if(t)return r(t);r(null,{path:e,link:n})})},e)})],(r,n)=>{if(r)return e.abort(r),e;e.resolve(i.values(n.map(e=>{const r=t.basePath?t.basePath+"/"+e.path:e.path;return e.link?{basePath:r,cid:new o(e.link["/"])}:r})))}),e):(e.abort(new Error('No resolver found for codec "'+r.codec+'"')),e)}),i.map(t=>"string"==typeof t?t:t.basePath),i.filter(Boolean))),e?i(n,i.map(t=>{if(0===t.indexOf(e))return t=t.slice(e.length+1)}),i.filter(Boolean)):n}remove(t,e){this.bs.delete(t,e)}_get(t,e){const r=this.resolvers[t.codec];if(!r)return e(new Error('No resolver found for codec "'+t.codec+'"'));m([e=>this.bs.get(t,e),(t,e)=>{r?r.util.deserialize(t.data,(t,r)=>{if(t)return e(t);e(null,r)}):e(null,t.data)}],e)}_put(t,e,r){r=r||T;const i=this.resolvers[t.codec];if(!i)return r(new Error('No resolver found for codec "'+t.codec+'"'));m([t=>i.util.serialize(e,t),(e,r)=>this.bs.put(new n(e,t),r)],e=>{if(e)return r(e);r(null,t)})}}O.inMemory=function(t){const e=new a("in-memory",{storageBackends:{root:g,blocks:g,datastore:g},lock:"memory"}),r=new u(e);d([t=>e.init({},t),t=>e.open(t)],e=>{if(e)return t(e);t(null,new O(r))})},t.exports=O}).call(this,r(12).setImmediate)},function(t,e,r){"use strict";(function(e){const n=r(609),i=r(1460),o=r(30),s=r(48),a=r(25),u=r(38),c=r(483),f=r(18),l=r(482),h=r(481),p=r(20),d=r(1093),m=r(1090),g=r(1083),v=r(704);class y extends p{constructor(t){super(),this._options={init:!0,start:!0,EXPERIMENTAL:{}},t=d.validate(t||{}),this._libp2pModules=t.libp2p&&t.libp2p.modules,h(this._options,t),!1===t.init&&(this._options.init=!1),!1!==t.start&&(this._options.start=!0),"string"==typeof t.repo||void 0===t.repo?this._repo=v(t.repo):this._repo=t.repo,this.log=l("jsipfs"),this.log.err=l("jsipfs:err"),this.types={Buffer:e,PeerId:o,PeerInfo:s,multiaddr:a,multihash:u,CID:f},this._peerInfoBook=new c,this._peerInfo=void 0,this._libp2pNode=void 0,this._bitswap=void 0,this._blockService=new n(this._repo),this._ipld=new i(this._blockService),this._pubsub=void 0,this.init=g.init(this),this.preStart=g.preStart(this),this.start=g.start(this),this.stop=g.stop(this),this.shutdown=this.stop,this.isOnline=g.isOnline(this),this.version=g.version(this),this.id=g.id(this),this.repo=g.repo(this),this.bootstrap=g.bootstrap(this),this.config=g.config(this),this.block=g.block(this),this.object=g.object(this),this.dag=g.dag(this),this.libp2p=g.libp2p(this),this.swarm=g.swarm(this),this.files=g.files(this),this.bitswap=g.bitswap(this),this.ping=g.ping(this),this.pubsub=g.pubsub(this),this.dht=g.dht(this),this.dns=g.dns(this),this.key=g.key(this),this.stats=g.stats(this),this._options.EXPERIMENTAL.pubsub&&this.log("EXPERIMENTAL pubsub is enabled"),this._options.EXPERIMENTAL.sharding&&this.log("EXPERIMENTAL sharding is enabled"),this._options.EXPERIMENTAL.dht&&this.log("EXPERIMENTAL Kademlia DHT is enabled"),this._options.EXPERIMENTAL.relay&&this.log("EXPERIMENTAL Relay is enabled"),this.state=r(703)(this),this.ls=this.files.lsImmutable,this.lsReadableStream=this.files.lsReadableStreamImmutable,this.lsPullStream=this.files.lsPullStreamImmutable,m(this)}}(t.exports=y).createNode=(t=>new y(t))}).call(this,r(0).Buffer)},function(t,e,r){var n;!function(i){"use strict";var o,s=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,u=Math.floor,c="[BigNumber Error] ",f=c+"Number primitive has more than 15 significant digits: ",l=1e14,h=14,p=9007199254740991,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],m=1e7,g=1e9;function v(t){var e=0|t;return t>0||t===e?e:e-1}function y(t){for(var e,r,n=1,i=t.length,o=t[0]+"";n<i;){for(e=t[n++]+"",r=h-e.length;r--;e="0"+e);o+=e}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function b(t,e){var r,n,i=t.c,o=e.c,s=t.s,a=e.s,u=t.e,c=e.e;if(!s||!a)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=u==c,!i||!o)return n?0:!i^r?1:-1;if(!n)return u>c^r?1:-1;for(a=(u=i.length)<(c=o.length)?u:c,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^r?1:-1;return u==c?0:u>c^r?1:-1}function w(t,e,r,n){if(t<e||t>r||t!==(t<0?a(t):u(t)))throw Error(c+(n||"Argument")+("number"==typeof t?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+t)}function _(t){return"[object Array]"==Object.prototype.toString.call(t)}function k(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function S(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(++e>(n=t.length)){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}(o=function t(e){var r,n,i,o,x,E,C,A,M,I=H.prototype,T=new H(1),O=20,B=4,P=-7,N=21,R=-1e7,F=1e7,j=!1,L=1,D=0,U={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0},z="0123456789abcdefghijklmnopqrstuvwxyz";function H(t,e){var r,o,a,c,l,d,m,g=this;if(!(g instanceof H))return new H(t,e);if(null==e){if(t instanceof H)return g.s=t.s,g.e=t.e,void(g.c=(t=t.c)?t.slice():t);if((l="number"==typeof t)&&0*t==0){if(g.s=1/t<0?(t=-t,-1):1,t===~~t){for(a=0,c=t;c>=10;c/=10,a++);return g.e=a,void(g.c=[t])}m=t+""}else{if(!s.test(m=t+""))return i(g,m,l);g.s=45==m.charCodeAt(0)?(m=m.slice(1),-1):1}}else{if(w(e,2,z.length,"Base"),m=t+"",10==e)return W(g=new H(t instanceof H?t:m),O+g.e+1,B);if(l="number"==typeof t){if(0*t!=0)return i(g,m,l,e);if(g.s=1/t<0?(m=m.slice(1),-1):1,m.replace(/^0\.0*|\./,"").length>15)throw Error(f+t);l=!1}else g.s=45===m.charCodeAt(0)?(m=m.slice(1),-1):1,e>10&&e<37&&(m=m.toLowerCase());for(r=z.slice(0,e),a=c=0,d=m.length;c<d;c++)if(r.indexOf(o=m.charAt(c))<0){if("."==o&&c>a){a=d;continue}return i(g,t+"",l,e)}m=n(m,e,10,g.s)}for((a=m.indexOf("."))>-1&&(m=m.replace(".","")),(c=m.search(/e/i))>0?(a<0&&(a=c),a+=+m.slice(c+1),m=m.substring(0,c)):a<0&&(a=m.length),c=0;48===m.charCodeAt(c);c++);for(d=m.length;48===m.charCodeAt(--d););if(m=m.slice(c,d+1)){if(d=m.length,l&&d>15&&(t>p||t!==u(t)))throw Error(f+g.s*t);if((a=a-c-1)>F)g.c=g.e=null;else if(a<R)g.c=[g.e=0];else{if(g.e=a,g.c=[],c=(a+1)%h,a<0&&(c+=h),c<d){for(c&&g.c.push(+m.slice(0,c)),d-=h;c<d;)g.c.push(+m.slice(c,c+=h));m=m.slice(c),c=h-m.length}else c-=d;for(;c--;m+="0");g.c.push(+m)}}else g.c=[g.e=0]}function K(t,e,r,n){var i,o,s,a,u;if(null==r?r=B:w(r,0,8),!t.c)return t.toString();if(i=t.c[0],s=t.e,null==e)u=y(t.c),u=1==n||2==n&&s<=P?k(u,s):S(u,s,"0");else if(o=(t=W(new H(t),e,r)).e,a=(u=y(t.c)).length,1==n||2==n&&(e<=o||o<=P)){for(;a<e;u+="0",a++);u=k(u,o)}else if(e-=s,u=S(u,o,"0"),o+1>a){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=o-a)>0)for(o+1==a&&(u+=".");e--;u+="0");return t.s<0&&i?"-"+u:u}function q(t,e){var r,n,i=0;for(_(t[0])&&(t=t[0]),r=new H(t[0]);++i<t.length;){if(!(n=new H(t[i])).s){r=n;break}e.call(r,n)&&(r=n)}return r}function V(t,e,r){for(var n=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,n++);return(r=n+r*h-1)>F?t.c=t.e=null:r<R?t.c=[t.e=0]:(t.e=r,t.c=e),t}function W(t,e,r,n){var i,o,s,c,f,p,m,g=t.c,v=d;if(g){t:{for(i=1,c=g[0];c>=10;c/=10,i++);if((o=e-i)<0)o+=h,s=e,m=(f=g[p=0])/v[i-s-1]%10|0;else if((p=a((o+1)/h))>=g.length){if(!n)break t;for(;g.length<=p;g.push(0));f=m=0,i=1,s=(o%=h)-h+1}else{for(f=c=g[p],i=1;c>=10;c/=10,i++);m=(s=(o%=h)-h+i)<0?0:f/v[i-s-1]%10|0}if(n=n||e<0||null!=g[p+1]||(s<0?f:f%v[i-s-1]),n=r<4?(m||n)&&(0==r||r==(t.s<0?3:2)):m>5||5==m&&(4==r||n||6==r&&(o>0?s>0?f/v[i-s]:0:g[p-1])%10&1||r==(t.s<0?8:7)),e<1||!g[0])return g.length=0,n?(e-=t.e+1,g[0]=v[(h-e%h)%h],t.e=-e||0):g[0]=t.e=0,t;if(0==o?(g.length=p,c=1,p--):(g.length=p+1,c=v[h-o],g[p]=s>0?u(f/v[i-s]%v[s])*c:0),n)for(;;){if(0==p){for(o=1,s=g[0];s>=10;s/=10,o++);for(s=g[0]+=c,c=1;s>=10;s/=10,c++);o!=c&&(t.e++,g[0]==l&&(g[0]=1));break}if(g[p]+=c,g[p]!=l)break;g[p--]=0,c=1}for(o=g.length;0===g[--o];g.pop());}t.e>F?t.c=t.e=null:t.e<R&&(t.c=[t.e=0])}return t}return H.clone=t,H.ROUND_UP=0,H.ROUND_DOWN=1,H.ROUND_CEIL=2,H.ROUND_FLOOR=3,H.ROUND_HALF_UP=4,H.ROUND_HALF_DOWN=5,H.ROUND_HALF_EVEN=6,H.ROUND_HALF_CEIL=7,H.ROUND_HALF_FLOOR=8,H.EUCLID=9,H.config=H.set=function(t){var e,r;if(null!=t){if("object"!=typeof t)throw Error(c+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(w(r=t[e],0,g,e),O=r),t.hasOwnProperty(e="ROUNDING_MODE")&&(w(r=t[e],0,8,e),B=r),t.hasOwnProperty(e="EXPONENTIAL_AT")&&(_(r=t[e])?(w(r[0],-g,0,e),w(r[1],0,g,e),P=r[0],N=r[1]):(w(r,-g,g,e),P=-(N=r<0?-r:r))),t.hasOwnProperty(e="RANGE"))if(_(r=t[e]))w(r[0],-g,-1,e),w(r[1],1,g,e),R=r[0],F=r[1];else{if(w(r,-g,g,e),!r)throw Error(c+e+" cannot be zero: "+r);R=-(F=r<0?-r:r)}if(t.hasOwnProperty(e="CRYPTO")){if((r=t[e])!==!!r)throw Error(c+e+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw j=!r,Error(c+"crypto unavailable");j=r}else j=r}if(t.hasOwnProperty(e="MODULO_MODE")&&(w(r=t[e],0,9,e),L=r),t.hasOwnProperty(e="POW_PRECISION")&&(w(r=t[e],0,g,e),D=r),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(r=t[e]))throw Error(c+e+" not an object: "+r);U=r}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(r=t[e])||/^.$|\.|(.).*\1/.test(r))throw Error(c+e+" invalid: "+r);z=r}}return{DECIMAL_PLACES:O,ROUNDING_MODE:B,EXPONENTIAL_AT:[P,N],RANGE:[R,F],CRYPTO:j,MODULO_MODE:L,POW_PRECISION:D,FORMAT:U,ALPHABET:z}},H.isBigNumber=function(t){return t instanceof H||t&&!0===t._isBigNumber||!1},H.maximum=H.max=function(){return q(arguments,I.lt)},H.minimum=H.min=function(){return q(arguments,I.gt)},H.random=(o=9007199254740992*Math.random()&2097151?function(){return u(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,r,n,i,s,f=0,l=[],p=new H(T);if(null==t?t=O:w(t,0,g),i=a(t/h),j)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(i*=2));f<i;)(s=131072*e[f]+(e[f+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),e[f]=r[0],e[f+1]=r[1]):(l.push(s%1e14),f+=2);f=i/2}else{if(!crypto.randomBytes)throw j=!1,Error(c+"crypto unavailable");for(e=crypto.randomBytes(i*=7);f<i;)(s=281474976710656*(31&e[f])+1099511627776*e[f+1]+4294967296*e[f+2]+16777216*e[f+3]+(e[f+4]<<16)+(e[f+5]<<8)+e[f+6])>=9e15?crypto.randomBytes(7).copy(e,f):(l.push(s%1e14),f+=7);f=i/7}if(!j)for(;f<i;)(s=o())<9e15&&(l[f++]=s%1e14);for(i=l[--f],t%=h,i&&t&&(s=d[h-t],l[f]=u(i/s)*s);0===l[f];l.pop(),f--);if(f<0)l=[n=0];else{for(n=-1;0===l[0];l.splice(0,1),n-=h);for(f=1,s=l[0];s>=10;s/=10,f++);f<h&&(n-=h-f)}return p.e=n,p.c=l,p}),n=function(){function t(t,e,r,n){for(var i,o,s=[0],a=0,u=t.length;a<u;){for(o=s.length;o--;s[o]*=e);for(s[0]+=n.indexOf(t.charAt(a++)),i=0;i<s.length;i++)s[i]>r-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/r|0,s[i]%=r)}return s.reverse()}return function(e,n,i,o,s){var a,u,c,f,l,h,p,d,m=e.indexOf("."),g=O,v=B;for(m>=0&&(f=D,D=0,e=e.replace(".",""),h=(d=new H(n)).pow(e.length-m),D=f,d.c=t(S(y(h.c),h.e,"0"),10,i,"0123456789"),d.e=d.c.length),c=f=(p=t(e,n,i,s?(a=z,"0123456789"):(a="0123456789",z))).length;0==p[--f];p.pop());if(!p[0])return a.charAt(0);if(m<0?--c:(h.c=p,h.e=c,h.s=o,p=(h=r(h,d,g,v,i)).c,l=h.r,c=h.e),m=p[u=c+g+1],f=i/2,l=l||u<0||null!=p[u+1],l=v<4?(null!=m||l)&&(0==v||v==(h.s<0?3:2)):m>f||m==f&&(4==v||l||6==v&&1&p[u-1]||v==(h.s<0?8:7)),u<1||!p[0])e=l?S(a.charAt(1),-g,a.charAt(0)):a.charAt(0);else{if(p.length=u,l)for(--i;++p[--u]>i;)p[u]=0,u||(++c,p=[1].concat(p));for(f=p.length;!p[--f];);for(m=0,e="";m<=f;e+=a.charAt(p[m++]));e=S(e,c,a.charAt(0))}return e}}(),r=function(){function t(t,e,r){var n,i,o,s,a=0,u=t.length,c=e%m,f=e/m|0;for(t=t.slice();u--;)a=((i=c*(o=t[u]%m)+(n=f*o+(s=t[u]/m|0)*c)%m*m+a)/r|0)+(n/m|0)+f*s,t[u]=i%r;return a&&(t=[a].concat(t)),t}function e(t,e,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(n,i,o,s,a){var c,f,p,d,m,g,y,b,w,_,k,S,x,E,C,A,M,I=n.s==i.s?1:-1,T=n.c,O=i.c;if(!(T&&T[0]&&O&&O[0]))return new H(n.s&&i.s&&(T?!O||T[0]!=O[0]:O)?T&&0==T[0]||!O?0*I:I/0:NaN);for(w=(b=new H(I)).c=[],I=o+(f=n.e-i.e)+1,a||(a=l,f=v(n.e/h)-v(i.e/h),I=I/h|0),p=0;O[p]==(T[p]||0);p++);if(O[p]>(T[p]||0)&&f--,I<0)w.push(1),d=!0;else{for(E=T.length,A=O.length,p=0,I+=2,(m=u(a/(O[0]+1)))>1&&(O=t(O,m,a),T=t(T,m,a),A=O.length,E=T.length),x=A,k=(_=T.slice(0,A)).length;k<A;_[k++]=0);M=O.slice(),M=[0].concat(M),C=O[0],O[1]>=a/2&&C++;do{if(m=0,(c=e(O,_,A,k))<0){if(S=_[0],A!=k&&(S=S*a+(_[1]||0)),(m=u(S/C))>1)for(m>=a&&(m=a-1),y=(g=t(O,m,a)).length,k=_.length;1==e(g,_,y,k);)m--,r(g,A<y?M:O,y,a),y=g.length,c=1;else 0==m&&(c=m=1),y=(g=O.slice()).length;if(y<k&&(g=[0].concat(g)),r(_,g,k,a),k=_.length,-1==c)for(;e(O,_,A,k)<1;)m++,r(_,A<k?M:O,k,a),k=_.length}else 0===c&&(m++,_=[0]);w[p++]=m,_[0]?_[k++]=T[x]||0:(_=[T[x]],k=1)}while((x++<E||null!=_[0])&&I--);d=null!=_[0],w[0]||w.splice(0,1)}if(a==l){for(p=1,I=w[0];I>=10;I/=10,p++);W(b,o+(b.e=p+f*h-1)+1,s,d)}else b.e=f,b.r=+d;return b}}(),x=/^(-?)0([xbo])(?=\w[\w.]*$)/i,E=/^([^.]+)\.$/,C=/^\.([^.]+)$/,A=/^-?(Infinity|NaN)$/,M=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(t,e,r,n){var i,o=r?e:e.replace(M,"");if(!A.test(o)){if(!r&&(o=o.replace(x,function(t,e,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?t:e}),n&&(i=n,o=o.replace(E,"$1").replace(C,"0.$1")),e!=o))return new H(o,i);throw Error(c+"Not a"+(n?" base "+n:"")+" number: "+e)}t.s=isNaN(o)?null:o<0?-1:1,t.c=t.e=null},I.absoluteValue=I.abs=function(){var t=new H(this);return t.s<0&&(t.s=1),t},I.comparedTo=function(t,e){return b(this,new H(t,e))},I.decimalPlaces=I.dp=function(t,e){var r,n,i,o=this;if(null!=t)return w(t,0,g),null==e?e=B:w(e,0,8),W(new H(o),t+o.e+1,e);if(!(r=o.c))return null;if(n=((i=r.length-1)-v(this.e/h))*h,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},I.dividedBy=I.div=function(t,e){return r(this,new H(t,e),O,B)},I.dividedToIntegerBy=I.idiv=function(t,e){return r(this,new H(t,e),0,1)},I.isEqualTo=I.eq=function(t,e){return 0===b(this,new H(t,e))},I.integerValue=function(t){var e=new H(this);return null==t?t=B:w(t,0,8),W(e,e.e+1,t)},I.isGreaterThan=I.gt=function(t,e){return b(this,new H(t,e))>0},I.isGreaterThanOrEqualTo=I.gte=function(t,e){return 1===(e=b(this,new H(t,e)))||0===e},I.isFinite=function(){return!!this.c},I.isInteger=function(){return!!this.c&&v(this.e/h)>this.c.length-2},I.isNaN=function(){return!this.s},I.isNegative=function(){return this.s<0},I.isPositive=function(){return this.s>0},I.isZero=function(){return!!this.c&&0==this.c[0]},I.isLessThan=I.lt=function(t,e){return b(this,new H(t,e))<0},I.isLessThanOrEqualTo=I.lte=function(t,e){return-1===(e=b(this,new H(t,e)))||0===e},I.minus=function(t,e){var r,n,i,o,s=this,a=s.s;if(e=(t=new H(t,e)).s,!a||!e)return new H(NaN);if(a!=e)return t.s=-e,s.plus(t);var u=s.e/h,c=t.e/h,f=s.c,p=t.c;if(!u||!c){if(!f||!p)return f?(t.s=-e,t):new H(p?s:NaN);if(!f[0]||!p[0])return p[0]?(t.s=-e,t):new H(f[0]?s:3==B?-0:0)}if(u=v(u),c=v(c),f=f.slice(),a=u-c){for((o=a<0)?(a=-a,i=f):(c=u,i=p),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(n=(o=(a=f.length)<(e=p.length))?a:e,a=e=0;e<n;e++)if(f[e]!=p[e]){o=f[e]<p[e];break}if(o&&(i=f,f=p,p=i,t.s=-t.s),(e=(n=p.length)-(r=f.length))>0)for(;e--;f[r++]=0);for(e=l-1;n>a;){if(f[--n]<p[n]){for(r=n;r&&!f[--r];f[r]=e);--f[r],f[n]+=l}f[n]-=p[n]}for(;0==f[0];f.splice(0,1),--c);return f[0]?V(t,f,c):(t.s=3==B?-1:1,t.c=[t.e=0],t)},I.modulo=I.mod=function(t,e){var n,i,o=this;return t=new H(t,e),!o.c||!t.s||t.c&&!t.c[0]?new H(NaN):!t.c||o.c&&!o.c[0]?new H(o):(9==L?(i=t.s,t.s=1,n=r(o,t,0,3),t.s=i,n.s*=i):n=r(o,t,0,L),o.minus(n.times(t)))},I.multipliedBy=I.times=function(t,e){var r,n,i,o,s,a,u,c,f,p,d,g,y,b,w,_=this,k=_.c,S=(t=new H(t,e)).c;if(!(k&&S&&k[0]&&S[0]))return!_.s||!t.s||k&&!k[0]&&!S||S&&!S[0]&&!k?t.c=t.e=t.s=null:(t.s*=_.s,k&&S?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=v(_.e/h)+v(t.e/h),t.s*=_.s,(u=k.length)<(p=S.length)&&(y=k,k=S,S=y,i=u,u=p,p=i),i=u+p,y=[];i--;y.push(0));for(b=l,w=m,i=p;--i>=0;){for(r=0,d=S[i]%w,g=S[i]/w|0,o=i+(s=u);o>i;)r=((c=d*(c=k[--s]%w)+(a=g*c+(f=k[s]/w|0)*d)%w*w+y[o]+r)/b|0)+(a/w|0)+g*f,y[o--]=c%b;y[o]=r}return r?++n:y.splice(0,1),V(t,y,n)},I.negated=function(){var t=new H(this);return t.s=-t.s||null,t},I.plus=function(t,e){var r,n=this,i=n.s;if(e=(t=new H(t,e)).s,!i||!e)return new H(NaN);if(i!=e)return t.s=-e,n.minus(t);var o=n.e/h,s=t.e/h,a=n.c,u=t.c;if(!o||!s){if(!a||!u)return new H(i/0);if(!a[0]||!u[0])return u[0]?t:new H(a[0]?n:0*i)}if(o=v(o),s=v(s),a=a.slice(),i=o-s){for(i>0?(s=o,r=u):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(e=u.length)<0&&(r=u,u=a,a=r,e=i),i=0;e;)i=(a[--e]=a[e]+u[e]+i)/l|0,a[e]=l===a[e]?0:a[e]%l;return i&&(a=[i].concat(a),++s),V(t,a,s)},I.precision=I.sd=function(t,e){var r,n,i,o=this;if(null!=t&&t!==!!t)return w(t,1,g),null==e?e=B:w(e,0,8),W(new H(o),t,e);if(!(r=o.c))return null;if(n=(i=r.length-1)*h+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return t&&o.e+1>n&&(n=o.e+1),n},I.shiftedBy=function(t){return w(t,-p,p),this.times("1e"+t)},I.squareRoot=I.sqrt=function(){var t,e,n,i,o,s=this,a=s.c,u=s.s,c=s.e,f=O+4,l=new H("0.5");if(1!==u||!a||!a[0])return new H(!u||u<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(u=Math.sqrt(+s))||u==1/0?(((e=y(a)).length+c)%2==0&&(e+="0"),u=Math.sqrt(e),c=v((c+1)/2)-(c<0||c%2),n=new H(e=u==1/0?"1e"+c:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+c)):n=new H(u+""),n.c[0])for((u=(c=n.e)+f)<3&&(u=0);;)if(o=n,n=l.times(o.plus(r(s,o,f,1))),y(o.c).slice(0,u)===(e=y(n.c)).slice(0,u)){if(n.e<c&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(W(n,n.e+O+2,1),t=!n.times(n).eq(s));break}if(!i&&(W(o,o.e+O+2,0),o.times(o).eq(s))){n=o;break}f+=4,u+=4,i=1}return W(n,n.e+O+1,B,t)},I.toExponential=function(t,e){return null!=t&&(w(t,0,g),t++),K(this,t,e,1)},I.toFixed=function(t,e){return null!=t&&(w(t,0,g),t=t+this.e+1),K(this,t,e)},I.toFormat=function(t,e){var r=this.toFixed(t,e);if(this.c){var n,i=r.split("."),o=+U.groupSize,s=+U.secondaryGroupSize,a=U.groupSeparator,u=i[0],c=i[1],f=this.s<0,l=f?u.slice(1):u,h=l.length;if(s&&(n=o,o=s,s=n,h-=n),o>0&&h>0){for(n=h%o||o,u=l.substr(0,n);n<h;n+=o)u+=a+l.substr(n,o);s>0&&(u+=a+l.slice(n)),f&&(u="-"+u)}r=c?u+U.decimalSeparator+((s=+U.fractionGroupSize)?c.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+U.fractionGroupSeparator):c):u}return r},I.toFraction=function(t){var e,n,i,o,s,a,u,f,l,p,m,g,v=this,b=v.c;if(null!=t&&(!(f=new H(t)).isInteger()||f.lt(T)))throw Error(c+"Argument "+(f.isInteger()?"out of range: ":"not an integer: ")+t);if(!b)return v.toString();for(n=new H(T),p=i=new H(T),o=l=new H(T),g=y(b),a=n.e=g.length-v.e-1,n.c[0]=d[(u=a%h)<0?h+u:u],t=!t||f.comparedTo(n)>0?a>0?n:p:f,u=F,F=1/0,f=new H(g),l.c[0]=0;m=r(f,n,0,1),1!=(s=i.plus(m.times(o))).comparedTo(t);)i=o,o=s,p=l.plus(m.times(s=p)),l=s,n=f.minus(m.times(s=n)),f=s;return s=r(t.minus(i),o,0,1),l=l.plus(s.times(p)),i=i.plus(s.times(o)),l.s=p.s=v.s,e=r(p,o,a*=2,B).minus(v).abs().comparedTo(r(l,i,a,B).minus(v).abs())<1?[p.toString(),o.toString()]:[l.toString(),i.toString()],F=u,e},I.toNumber=function(){return+this},I.exponentiatedBy=I.pow=function(t,e){var r,n,i,o,s=this;for(w(t,-p,p),null!=e&&(e=new H(e)),e?t>1&&s.gt(T)&&s.isInteger()&&e.gt(T)&&e.isInteger()?s=s.mod(e):(o=e,e=null):D&&(n=a(D/h+2)),i=new H(T),r=u(t<0?-t:t);;){if(r%2){if(!(i=i.times(s)).c)break;n?i.c.length>n&&(i.c.length=n):e&&(i=i.mod(e))}if(!(r=u(r/2)))break;s=s.times(s),n?s.c&&s.c.length>n&&(s.c.length=n):e&&(s=s.mod(e))}return e?i:(t<0&&(i=T.div(i)),o?i.mod(o):n?W(i,D,B):i)},I.toPrecision=function(t,e){return null!=t&&w(t,1,g),K(this,t,e,2)},I.toString=function(t){var e,r=this,i=r.s,o=r.e;return null===o?i?(e="Infinity",i<0&&(e="-"+e)):e="NaN":(e=y(r.c),null==t?e=o<=P||o>=N?k(e,o):S(e,o,"0"):(w(t,2,z.length,"Base"),e=n(S(e,o,"0"),10,t,i,!0)),i<0&&r.c[0]&&(e="-"+e)),e},I.valueOf=I.toJSON=function(){var t,e=this,r=e.e;return null===r?e.toString():(t=y(e.c),t=r<=P||r>=N?k(t,r):S(t,r,"0"),e.s<0?"-"+t:t)},I._isBigNumber=!0,null!=e&&H.set(e),H}()).default=o.BigNumber=o,void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)}()},function(t,e){
/**
* A handy class to calculate color values.
*
* @version 1.0
* @author Robert Eisele <robert@xarg.org>
* @copyright Copyright (c) 2010, Robert Eisele
* @link http://www.xarg.org/2010/03/generate-client-side-png-files-using-javascript/
* @license http://www.opensource.org/licenses/bsd-license.php BSD License
*
*/
!function(){function e(t,e){for(var r=2;r<arguments.length;r++)for(var n=0;n<arguments[r].length;n++)t[e++]=arguments[r].charAt(n)}function r(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function n(t){return String.fromCharCode(255&t,t>>8&255)}var i=function(t,i,o){this.width=t,this.height=i,this.depth=o,this.pix_size=i*(t+1),this.data_size=2+this.pix_size+5*Math.floor((65534+this.pix_size)/65535)+4,this.ihdr_offs=0,this.ihdr_size=25,this.plte_offs=this.ihdr_offs+this.ihdr_size,this.plte_size=8+3*o+4,this.trns_offs=this.plte_offs+this.plte_size,this.trns_size=8+o+4,this.idat_offs=this.trns_offs+this.trns_size,this.idat_size=8+this.data_size+4,this.iend_offs=this.idat_offs+this.idat_size,this.iend_size=12,this.buffer_size=this.iend_offs+this.iend_size,this.buffer=new Array,this.palette=new Object,this.pindex=0;for(var s=new Array,a=0;a<this.buffer_size;a++)this.buffer[a]="\0";e(this.buffer,this.ihdr_offs,r(this.ihdr_size-12),"IHDR",r(t),r(i),"\b"),e(this.buffer,this.plte_offs,r(this.plte_size-12),"PLTE"),e(this.buffer,this.trns_offs,r(this.trns_size-12),"tRNS"),e(this.buffer,this.idat_offs,r(this.idat_size-12),"IDAT"),e(this.buffer,this.iend_offs,r(this.iend_size-12),"IEND");var u,c=30912;c+=31-c%31,e(this.buffer,this.idat_offs+8,(u=c,String.fromCharCode(u>>8&255,255&u)));for(a=0;(a<<16)-1<this.pix_size;a++){var f,l;a+65535<this.pix_size?(f=65535,l="\0"):(f=this.pix_size-(a<<16)-a,l=""),e(this.buffer,this.idat_offs+8+2+(a<<16)+(a<<2),l,n(f),n(~f))}for(a=0;a<256;a++){for(var h=a,p=0;p<8;p++)h=1&h?-306674912^h>>1&2147483647:h>>1&2147483647;s[a]=h}this.index=function(t,e){var r=e*(this.width+1)+t+1;return this.idat_offs+8+2+5*Math.floor(r/65535+1)+r},this.color=function(t,e,r,n){var i=(((n=n>=0?n:255)<<8|t)<<8|e)<<8|r;if(void 0===this.palette[i]){if(this.pindex==this.depth)return"\0";var o=this.plte_offs+8+3*this.pindex;this.buffer[o+0]=String.fromCharCode(t),this.buffer[o+1]=String.fromCharCode(e),this.buffer[o+2]=String.fromCharCode(r),this.buffer[this.trns_offs+8+this.pindex]=String.fromCharCode(n),this.palette[i]=String.fromCharCode(this.pindex++)}return this.palette[i]},this.getBase64=function(){var t,e,r,n,i,o,s,a=this.getDump(),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=a.length,f=0,l="";do{n=(t=a.charCodeAt(f))>>2,i=(3&t)<<4|(e=a.charCodeAt(f+1))>>4,r=a.charCodeAt(f+2),o=c<f+2?64:(15&e)<<2|r>>6,s=c<f+3?64:63&r,l+=u.charAt(n)+u.charAt(i)+u.charAt(o)+u.charAt(s)}while((f+=3)<c);return l},this.getDump=function(){for(var t=1,n=0,i=5552,o=0;o<this.height;o++)for(var a=-1;a<this.width;a++)n+=t+=this.buffer[this.index(a,o)].charCodeAt(0),0==(i-=1)&&(t%=65521,n%=65521,i=5552);function u(t,n,i){for(var o=-1,a=4;a<i-4;a+=1)o=s[255&(o^t[n+a].charCodeAt(0))]^o>>8&16777215;e(t,n+i-4,r(-1^o))}return t%=65521,n%=65521,e(this.buffer,this.idat_offs+this.idat_size-8,r(n<<16|t)),u(this.buffer,this.ihdr_offs,this.ihdr_size),u(this.buffer,this.plte_offs,this.plte_size),u(this.buffer,this.trns_offs,this.trns_size),u(this.buffer,this.idat_offs,this.idat_size),u(this.buffer,this.iend_offs,this.iend_size),"PNG\r\n\n"+this.buffer.join("")}};void 0!==t&&void 0!==t.exports?t.exports=i:window.PNGlib=i}()},function(t,e,r){(function(e){!function(){var n;n=void 0!==t&&void 0!==t.exports?r(1463):window.PNGlib;var i=function(t,e){if("string"!=typeof t||t.length<15)throw"A hash of at least 15 characters is required.";this.defaults={background:[240,240,240,255],margin:.08,size:64,saturation:.7,brightness:.5,format:"png"},this.options="object"==typeof e?e:this.defaults,"number"==typeof arguments[1]&&(this.options.size=arguments[1]),arguments[2]&&(this.options.margin=arguments[2]),this.hash=t,this.background=this.options.background||this.defaults.background,this.size=this.options.size||this.defaults.size,this.format=this.options.format||this.defaults.format,this.margin=void 0!==this.options.margin?this.options.margin:this.defaults.margin;var r=parseInt(this.hash.substr(-7),16)/268435455,n=this.options.saturation||this.defaults.saturation,i=this.options.brightness||this.defaults.brightness;this.foreground=this.options.foreground||this.hsl2rgb(r,n,i)};i.prototype={background:null,foreground:null,hash:null,margin:null,size:null,format:null,image:function(){return this.isSvg()?new o(this.size,this.foreground,this.background):new n(this.size,this.size,256)},render:function(){var t,e,r=this.image(),n=this.size,i=Math.floor(n*this.margin),o=Math.floor((n-2*i)/5),s=Math.floor((n-5*o)/2),a=r.color.apply(r,this.background),u=r.color.apply(r,this.foreground);for(t=0;t<15;t++)e=parseInt(this.hash.charAt(t),16)%2?a:u,t<5?this.rectangle(2*o+s,t*o+s,o,o,e,r):t<10?(this.rectangle(1*o+s,(t-5)*o+s,o,o,e,r),this.rectangle(3*o+s,(t-5)*o+s,o,o,e,r)):t<15&&(this.rectangle(0*o+s,(t-10)*o+s,o,o,e,r),this.rectangle(4*o+s,(t-10)*o+s,o,o,e,r));return r},rectangle:function(t,e,r,n,i,o){var s,a;if(this.isSvg())o.rectangles.push({x:t,y:e,w:r,h:n,color:i});else for(s=t;s<t+r;s++)for(a=e;a<e+n;a++)o.buffer[o.index(s,a)]=i},hsl2rgb:function(t,e,r){return t*=6,[255*(e=[r+=e*=r<.5?r:1-r,r-t%1*e*2,r-=e*=2,r,r+t%1*e,r+e])[~~t%6],255*e[(16|t)%6],255*e[(8|t)%6]]},toString:function(t){return t?this.render().getDump():this.render().getBase64()},isSvg:function(){return this.format.match(/svg/i)}};var o=function(t,e,r){this.size=t,this.foreground=this.color.apply(this,e),this.background=this.color.apply(this,r),this.rectangles=[]};o.prototype={size:null,foreground:null,background:null,rectangles:null,color:function(t,e,r,n){var i=[t,e,r].map(Math.round);return i.push(n>=0&&n<=255?n/255:1),"rgba("+i.join(",")+")"},getDump:function(){var t,e,r,n=this.foreground,i=this.background,o=.005*this.size;for(e="<svg xmlns='http://www.w3.org/2000/svg' width='"+this.size+"' height='"+this.size+"' style='background-color:"+i+";'><g style='fill:"+n+"; stroke:"+n+"; stroke-width:"+o+";'>",t=0;t<this.rectangles.length;t++)(r=this.rectangles[t]).color!=i&&(e+="<rect  x='"+r.x+"' y='"+r.y+"' width='"+r.w+"' height='"+r.h+"'/>");return e+="</g></svg>"},getBase64:function(){if(btoa)return btoa(this.getDump());if(e)return new e(this.getDump(),"binary").toString("base64");throw"Cannot generate base64 output"}},void 0!==t&&void 0!==t.exports?t.exports=i:window.Identicon=i}()}).call(this,r(0).Buffer)},function(t,e,r){var n,i=function(){var t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function i(t,e){if(!n[t]){n[t]={};for(var r=0;r<t.length;r++)n[t][t.charAt(r)]=r}return n[t][e]}var o={compressToBase64:function(t){if(null==t)return"";var r=o._compress(t,6,function(t){return e.charAt(t)});switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:o._decompress(t.length,32,function(r){return i(e,t.charAt(r))})},compressToUTF16:function(e){return null==e?"":o._compress(e,15,function(e){return t(e+32)})+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:o._decompress(t.length,16384,function(e){return t.charCodeAt(e)-32})},compressToUint8Array:function(t){for(var e=o.compress(t),r=new Uint8Array(2*e.length),n=0,i=e.length;n<i;n++){var s=e.charCodeAt(n);r[2*n]=s>>>8,r[2*n+1]=s%256}return r},decompressFromUint8Array:function(e){if(null===e||void 0===e)return o.decompress(e);for(var r=new Array(e.length/2),n=0,i=r.length;n<i;n++)r[n]=256*e[2*n]+e[2*n+1];var s=[];return r.forEach(function(e){s.push(t(e))}),o.decompress(s.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":o._compress(t,6,function(t){return r.charAt(t)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),o._decompress(t.length,32,function(e){return i(r,t.charAt(e))}))},compress:function(e){return o._compress(e,16,function(e){return t(e)})},_compress:function(t,e,r){if(null==t)return"";var n,i,o,s={},a={},u="",c="",f="",l=2,h=3,p=2,d=[],m=0,g=0;for(o=0;o<t.length;o+=1)if(u=t.charAt(o),Object.prototype.hasOwnProperty.call(s,u)||(s[u]=h++,a[u]=!0),c=f+u,Object.prototype.hasOwnProperty.call(s,c))f=c;else{if(Object.prototype.hasOwnProperty.call(a,f)){if(f.charCodeAt(0)<256){for(n=0;n<p;n++)m<<=1,g==e-1?(g=0,d.push(r(m)),m=0):g++;for(i=f.charCodeAt(0),n=0;n<8;n++)m=m<<1|1&i,g==e-1?(g=0,d.push(r(m)),m=0):g++,i>>=1}else{for(i=1,n=0;n<p;n++)m=m<<1|i,g==e-1?(g=0,d.push(r(m)),m=0):g++,i=0;for(i=f.charCodeAt(0),n=0;n<16;n++)m=m<<1|1&i,g==e-1?(g=0,d.push(r(m)),m=0):g++,i>>=1}0==--l&&(l=Math.pow(2,p),p++),delete a[f]}else for(i=s[f],n=0;n<p;n++)m=m<<1|1&i,g==e-1?(g=0,d.push(r(m)),m=0):g++,i>>=1;0==--l&&(l=Math.pow(2,p),p++),s[c]=h++,f=String(u)}if(""!==f){if(Object.prototype.hasOwnProperty.call(a,f)){if(f.charCodeAt(0)<256){for(n=0;n<p;n++)m<<=1,g==e-1?(g=0,d.push(r(m)),m=0):g++;for(i=f.charCodeAt(0),n=0;n<8;n++)m=m<<1|1&i,g==e-1?(g=0,d.push(r(m)),m=0):g++,i>>=1}else{for(i=1,n=0;n<p;n++)m=m<<1|i,g==e-1?(g=0,d.push(r(m)),m=0):g++,i=0;for(i=f.charCodeAt(0),n=0;n<16;n++)m=m<<1|1&i,g==e-1?(g=0,d.push(r(m)),m=0):g++,i>>=1}0==--l&&(l=Math.pow(2,p),p++),delete a[f]}else for(i=s[f],n=0;n<p;n++)m=m<<1|1&i,g==e-1?(g=0,d.push(r(m)),m=0):g++,i>>=1;0==--l&&(l=Math.pow(2,p),p++)}for(i=2,n=0;n<p;n++)m=m<<1|1&i,g==e-1?(g=0,d.push(r(m)),m=0):g++,i>>=1;for(;;){if(m<<=1,g==e-1){d.push(r(m));break}g++}return d.join("")},decompress:function(t){return null==t?"":""==t?null:o._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(e,r,n){var i,o,s,a,u,c,f,l=[],h=4,p=4,d=3,m="",g=[],v={val:n(0),position:r,index:1};for(i=0;i<3;i+=1)l[i]=i;for(s=0,u=Math.pow(2,2),c=1;c!=u;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=r,v.val=n(v.index++)),s|=(a>0?1:0)*c,c<<=1;switch(s){case 0:for(s=0,u=Math.pow(2,8),c=1;c!=u;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=r,v.val=n(v.index++)),s|=(a>0?1:0)*c,c<<=1;f=t(s);break;case 1:for(s=0,u=Math.pow(2,16),c=1;c!=u;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=r,v.val=n(v.index++)),s|=(a>0?1:0)*c,c<<=1;f=t(s);break;case 2:return""}for(l[3]=f,o=f,g.push(f);;){if(v.index>e)return"";for(s=0,u=Math.pow(2,d),c=1;c!=u;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=r,v.val=n(v.index++)),s|=(a>0?1:0)*c,c<<=1;switch(f=s){case 0:for(s=0,u=Math.pow(2,8),c=1;c!=u;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=r,v.val=n(v.index++)),s|=(a>0?1:0)*c,c<<=1;l[p++]=t(s),f=p-1,h--;break;case 1:for(s=0,u=Math.pow(2,16),c=1;c!=u;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=r,v.val=n(v.index++)),s|=(a>0?1:0)*c,c<<=1;l[p++]=t(s),f=p-1,h--;break;case 2:return g.join("")}if(0==h&&(h=Math.pow(2,d),d++),l[f])m=l[f];else{if(f!==p)return null;m=o+o.charAt(0)}g.push(m),l[p++]=o+m.charAt(0),o=m,0==--h&&(h=Math.pow(2,d),d++)}}};return o}();void 0===(n=function(){return i}.call(e,r,e,t))||(t.exports=n)},function(t,e,r){"use strict";var n=r(37),i=r(156),o=function(t,e){var r=this;this.responseCallbacks={},this.path=t,this.connection=e.connect({path:this.path}),this.connection.on("error",function(t){console.error("IPC Connection Error",t),r._timeout()}),this.connection.on("end",function(){r._timeout()}),this.connection.on("data",function(t){r._parseResponse(t.toString()).forEach(function(t){var e=null;n.isArray(t)?t.forEach(function(t){r.responseCallbacks[t.id]&&(e=t.id)}):e=t.id,r.responseCallbacks[e]&&(r.responseCallbacks[e](null,t),delete r.responseCallbacks[e])})})};o.prototype._parseResponse=function(t){var e=this,r=[];return t.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(function(t){e.lastChunk&&(t=e.lastChunk+t);var n=null;try{n=JSON.parse(t)}catch(r){return e.lastChunk=t,clearTimeout(e.lastChunkTimeout),void(e.lastChunkTimeout=setTimeout(function(){throw e._timeout(),i.InvalidResponse(t)},15e3))}clearTimeout(e.lastChunkTimeout),e.lastChunk=null,n&&r.push(n)}),r},o.prototype._addResponseCallback=function(t,e){var r=t.id||t[0].id,n=t.method||t[0].method;this.responseCallbacks[r]=e,this.responseCallbacks[r].method=n},o.prototype._timeout=function(){for(var t in this.responseCallbacks)this.responseCallbacks.hasOwnProperty(t)&&(this.responseCallbacks[t](i.InvalidConnection("on IPC")),delete this.responseCallbacks[t])},o.prototype.isConnected=function(){return this.connection.writable||this.connection.connect({path:this.path}),!!this.connection.writable},o.prototype.send=function(t){if(this.connection.writeSync){var e;this.connection.writable||this.connection.connect({path:this.path});var r=this.connection.writeSync(JSON.stringify(t));try{e=JSON.parse(r)}catch(t){throw i.InvalidResponse(r)}return e}throw new Error('You tried to send "'+t.method+'" synchronously. Synchronous requests are not supported by the IPC provider.')},o.prototype.sendAsync=function(t,e){this.connection.writable||this.connection.connect({path:this.path}),this.connection.write(JSON.stringify(t)),this._addResponseCallback(t,e)},t.exports=o},function(t,e,r){"use strict";"undefined"==typeof XMLHttpRequest?e.XMLHttpRequest={}:e.XMLHttpRequest=XMLHttpRequest},function(t,e,r){var n=r(156);"undefined"!=typeof window&&window.XMLHttpRequest?XMLHttpRequest=window.XMLHttpRequest:XMLHttpRequest=r(1467).XMLHttpRequest;var i=r(663),o=function(t,e){this.host=t||"http://localhost:8545",this.timeout=e||0};o.prototype.prepareRequest=function(t){var e;return t?(e=new i).timeout=this.timeout:e=new XMLHttpRequest,e.open("POST",this.host,t),e.setRequestHeader("Content-Type","application/json"),e},o.prototype.send=function(t){var e=this.prepareRequest(!1);try{e.send(JSON.stringify(t))}catch(t){throw n.InvalidConnection(this.host)}var r=e.responseText;try{r=JSON.parse(r)}catch(t){throw n.InvalidResponse(e.responseText)}return r},o.prototype.sendAsync=function(t,e){var r=this.prepareRequest(!0);r.onreadystatechange=function(){if(4===r.readyState&&1!==r.timeout){var t=r.responseText,i=null;try{t=JSON.parse(t)}catch(t){i=n.InvalidResponse(r.responseText)}e(i,t)}},r.ontimeout=function(){e(n.ConnectionTimeout(this.timeout))};try{r.send(JSON.stringify(t))}catch(t){e(n.InvalidConnection(this.host))}},o.prototype.isConnected=function(){try{return this.send({id:9999999999,jsonrpc:"2.0",method:"net_listening",params:[]}),!0}catch(t){return!1}},t.exports=o},function(t,e,r){var n=r(611),i=r(156),o=function(t){this.requestManager=t._requestManager,this.requests=[]};o.prototype.add=function(t){this.requests.push(t)},o.prototype.execute=function(){var t=this.requests;this.requestManager.sendBatch(t,function(e,r){r=r||[],t.map(function(t,e){return r[e]||{}}).forEach(function(e,r){if(t[r].callback){if(!n.isValidResponse(e))return t[r].callback(i.InvalidResponse(e));t[r].callback(null,t[r].format?t[r].format(e.result):e.result)}})})},t.exports=o},function(t,e,r){var n=r(77),i=r(37),o=r(103),s=r(129);t.exports=function(t){var e=function(e){var r;e.property?(t[e.property]||(t[e.property]={}),r=t[e.property]):r=t,e.methods&&e.methods.forEach(function(e){e.attachToObject(r),e.setRequestManager(t._requestManager)}),e.properties&&e.properties.forEach(function(e){e.attachToObject(r),e.setRequestManager(t._requestManager)})};return e.formatters=n,e.utils=i,e.Method=o,e.Property=s,e}},function(t){t.exports={version:"0.18.4"}},function(t,e){t.exports=function(){this.defaultBlock="latest",this.defaultAccount=void 0}},function(t,e,r){"use strict";var n=r(103),i=r(129);var o=function(){return[new n({name:"blockNetworkRead",call:"bzz_blockNetworkRead",params:1,inputFormatter:[null]}),new n({name:"syncEnabled",call:"bzz_syncEnabled",params:1,inputFormatter:[null]}),new n({name:"swapEnabled",call:"bzz_swapEnabled",params:1,inputFormatter:[null]}),new n({name:"download",call:"bzz_download",params:2,inputFormatter:[null,null]}),new n({name:"upload",call:"bzz_upload",params:2,inputFormatter:[null,null]}),new n({name:"retrieve",call:"bzz_retrieve",params:1,inputFormatter:[null]}),new n({name:"store",call:"bzz_store",params:2,inputFormatter:[null,null]}),new n({name:"get",call:"bzz_get",params:1,inputFormatter:[null]}),new n({name:"put",call:"bzz_put",params:2,inputFormatter:[null,null]}),new n({name:"modify",call:"bzz_modify",params:4,inputFormatter:[null,null,null,null]})]},s=function(){return[new i({name:"hive",getter:"bzz_hive"}),new i({name:"info",getter:"bzz_info"})]};t.exports=function(t){this._requestManager=t._requestManager;var e=this;o().forEach(function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)}),s().forEach(function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)})}},function(t,e,r){"use strict";var n=r(103),i=r(129),o=r(77);var s=function(){return[new n({name:"newAccount",call:"personal_newAccount",params:1,inputFormatter:[null]}),new n({name:"unlockAccount",call:"personal_unlockAccount",params:3,inputFormatter:[o.inputAddressFormatter,null,null]}),new n({name:"sendTransaction",call:"personal_sendTransaction",params:2,inputFormatter:[o.inputTransactionFormatter,null]}),new n({name:"lockAccount",call:"personal_lockAccount",params:1,inputFormatter:[o.inputAddressFormatter]})]},a=function(){return[new i({name:"listAccounts",getter:"personal_listAccounts"})]};t.exports=function(t){this._requestManager=t._requestManager;var e=this;s().forEach(function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)}),a().forEach(function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)})}},function(t,e,r){var n=r(37),i=r(129),o=function(){return[new i({name:"listening",getter:"net_listening"}),new i({name:"peerCount",getter:"net_peerCount",outputFormatter:n.toDecimal})]};t.exports=function(t){this._requestManager=t._requestManager;var e=this;o().forEach(function(r){r.attachToObject(e),r.setRequestManager(t._requestManager)})}},function(t,e,r){var n=r(103),i=r(77),o=r(222),s=r(221),a=function(t){this._requestManager=t._requestManager;var e=this;u().forEach(function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)})};a.prototype.filter=function(t,e){return new o(this._requestManager,t,s.shh(),i.outputPostFormatter,e)};var u=function(){return[new n({name:"post",call:"shh_post",params:1,inputFormatter:[i.inputPostFormatter]}),new n({name:"newIdentity",call:"shh_newIdentity",params:0}),new n({name:"hasIdentity",call:"shh_hasIdentity",params:1}),new n({name:"newGroup",call:"shh_newGroup",params:0}),new n({name:"addToGroup",call:"shh_addToGroup",params:0})]};t.exports=a},function(t,e,r){var n=r(103),i=function(){return[new n({name:"putString",call:"db_putString",params:3}),new n({name:"getString",call:"db_getString",params:2}),new n({name:"putHex",call:"db_putHex",params:3}),new n({name:"getHex",call:"db_getHex",params:2})]};t.exports=function(t){this._requestManager=t._requestManager;var e=this;i().forEach(function(r){r.attachToObject(e),r.setRequestManager(t._requestManager)})}},function(t){t.exports=[{constant:!1,inputs:[{name:"from",type:"bytes32"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"from",type:"bytes32"},{name:"to",type:"address"},{name:"indirectId",type:"bytes32"},{name:"value",type:"uint256"}],name:"icapTransfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"to",type:"bytes32"}],name:"deposit",outputs:[],payable:!0,type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"AnonymousDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"bytes32"},{indexed:!1,name:"value",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"bytes32"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"bytes32"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"indirectId",type:"bytes32"},{indexed:!1,name:"value",type:"uint256"}],name:"IcapTransfer",type:"event"}]},function(t,e,r){var n=r(223),i=r(1478),o=function(t,e,r,n,i){return t.sendTransaction({address:r,from:e,value:n},i)},s=function(t,e,r,n,o,s){var a=i;return t.contract(a).at(r).deposit(o,{from:e,value:n},s)};t.exports=function(t,e,r,i,a){var u=new n(r);if(!u.isValid())throw new Error("invalid iban address");if(u.isDirect())return o(t,e,u.address(),i,a);if(!a){var c=t.icapNamereg().addr(u.institution());return s(t,e,c,i,u.client())}t.icapNamereg().addr(u.institution(),function(r,n){return s(t,e,n,i,u.client(),a)})}},function(t){t.exports=[{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_refund",type:"address"}],name:"disown",outputs:[],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"addr",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"reserve",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_newOwner",type:"address"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_a",type:"address"}],name:"setAddr",outputs:[],type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"}],name:"Changed",type:"event"}]},function(t){t.exports=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"name",outputs:[{name:"o_name",type:"bytes32"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"content",outputs:[{name:"",type:"bytes32"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"addr",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"reserve",outputs:[],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"subRegistrar",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_newOwner",type:"address"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_registrar",type:"address"}],name:"setSubRegistrar",outputs:[],type:"function"},{constant:!1,inputs:[],name:"Registrar",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_a",type:"address"},{name:"_primary",type:"bool"}],name:"setAddress",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_content",type:"bytes32"}],name:"setContent",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"disown",outputs:[],type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_name",type:"bytes32"},{indexed:!1,name:"_winner",type:"address"}],name:"AuctionEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_name",type:"bytes32"},{indexed:!1,name:"_bidder",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"NewBid",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"}],name:"Changed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"},{indexed:!0,name:"addr",type:"address"}],name:"PrimaryChanged",type:"event"}]},function(t,e,r){var n=r(1481),i=r(1480);t.exports={global:{abi:n,address:"0xc6d9d2cd449a754c494264e1809c50e34d64562b"},icap:{abi:i,address:"0xa1a111bc074c9cfa781f0c38e63bd51c91b8af00"}}},function(t,e,r){var n=r(77),i=r(37),o=1,s=function(t,e){var r;return this.requestManager=t,this.pollId="syncPoll_"+o++,this.callbacks=[],this.addCallback(e),this.lastSyncState=!1,(r=this).requestManager.startPolling({method:"eth_syncing",params:[]},r.pollId,function(t,e){if(t)return r.callbacks.forEach(function(e){e(t)});i.isObject(e)&&e.startingBlock&&(e=n.outputSyncingFormatter(e)),r.callbacks.forEach(function(t){r.lastSyncState!==e&&(!r.lastSyncState&&i.isObject(e)&&t(null,!0),setTimeout(function(){t(null,e)},0),r.lastSyncState=e)})},r.stopWatching.bind(r)),this};s.prototype.addCallback=function(t){return t&&this.callbacks.push(t),this},s.prototype.stopWatching=function(){this.requestManager.stopPolling(this.pollId),this.callbacks=[]},t.exports=s},function(t,e,r){var n=r(157),i=r(610),o=r(77),s=r(37),a=r(222),u=r(221),c=function(t,e,r){this._requestManager=t,this._json=e,this._address=r};c.prototype.encode=function(t){t=t||{};var e={};return["fromBlock","toBlock"].filter(function(e){return void 0!==t[e]}).forEach(function(r){e[r]=o.inputBlockNumberFormatter(t[r])}),e.address=this._address,e},c.prototype.decode=function(t){t.data=t.data||"",t.topics=t.topics||[];var e=t.topics[0].slice(2),r=this._json.filter(function(t){return e===n(s.transformToFullName(t))})[0];return r?new i(this._requestManager,r,this._address).decode(t):(console.warn("cannot find event for log"),t)},c.prototype.execute=function(t,e){s.isFunction(arguments[arguments.length-1])&&(e=arguments[arguments.length-1],1===arguments.length&&(t=null));var r=this.encode(t),n=this.decode.bind(this);return new a(this._requestManager,r,u.eth(),n,e)},c.prototype.attachToContract=function(t){var e=this.execute.bind(this);t.allEvents=e},t.exports=c},function(t,e,r){var n=r(226),i=r(37),o=r(77),s=r(157),a=function(t,e,r){this._eth=t,this._inputTypes=e.inputs.map(function(t){return t.type}),this._outputTypes=e.outputs.map(function(t){return t.type}),this._constant=e.constant,this._payable=e.payable,this._name=i.transformToFullName(e),this._address=r};a.prototype.extractCallback=function(t){if(i.isFunction(t[t.length-1]))return t.pop()},a.prototype.extractDefaultBlock=function(t){if(t.length>this._inputTypes.length&&!i.isObject(t[t.length-1]))return o.inputDefaultBlockNumberFormatter(t.pop())},a.prototype.toPayload=function(t){var e={};return t.length>this._inputTypes.length&&i.isObject(t[t.length-1])&&(e=t[t.length-1]),e.to=this._address,e.data="0x"+this.signature()+n.encodeParams(this._inputTypes,t),e},a.prototype.signature=function(){return s(this._name).slice(0,8)},a.prototype.unpackOutput=function(t){if(t){t=t.length>=2?t.slice(2):t;var e=n.decodeParams(this._outputTypes,t);return 1===e.length?e[0]:e}},a.prototype.call=function(){var t=Array.prototype.slice.call(arguments).filter(function(t){return void 0!==t}),e=this.extractCallback(t),r=this.extractDefaultBlock(t),n=this.toPayload(t);if(!e){var i=this._eth.call(n,r);return this.unpackOutput(i)}var o=this;this._eth.call(n,r,function(t,r){if(t)return e(t,null);var n=null;try{n=o.unpackOutput(r)}catch(e){t=e}e(t,n)})},a.prototype.sendTransaction=function(){var t=Array.prototype.slice.call(arguments).filter(function(t){return void 0!==t}),e=this.extractCallback(t),r=this.toPayload(t);if(r.value>0&&!this._payable)throw new Error("Cannot send value to non-payable function");if(!e)return this._eth.sendTransaction(r);this._eth.sendTransaction(r,e)},a.prototype.estimateGas=function(){var t=Array.prototype.slice.call(arguments),e=this.extractCallback(t),r=this.toPayload(t);if(!e)return this._eth.estimateGas(r);this._eth.estimateGas(r,e)},a.prototype.getData=function(){var t=Array.prototype.slice.call(arguments);return this.toPayload(t).data},a.prototype.displayName=function(){return i.extractDisplayName(this._name)},a.prototype.typeName=function(){return i.extractTypeName(this._name)},a.prototype.request=function(){var t=Array.prototype.slice.call(arguments),e=this.extractCallback(t),r=this.toPayload(t),n=this.unpackOutput.bind(this);return{method:this._constant?"eth_call":"eth_sendTransaction",callback:e,params:[r],format:n}},a.prototype.execute=function(){return!this._constant?this.sendTransaction.apply(this,Array.prototype.slice.call(arguments)):this.call.apply(this,Array.prototype.slice.call(arguments))},a.prototype.attachToContract=function(t){var e=this.execute.bind(this);e.request=this.request.bind(this),e.call=this.call.bind(this),e.sendTransaction=this.sendTransaction.bind(this),e.estimateGas=this.estimateGas.bind(this),e.getData=this.getData.bind(this);var r=this.displayName();t[r]||(t[r]=e),t[r][this.typeName()]=e},t.exports=a},function(t,e,r){var n=r(37),i=r(226),o=r(610),s=r(1485),a=r(1484),u=function(t,e){return t.filter(function(t){return"constructor"===t.type&&t.inputs.length===e.length}).map(function(t){return t.inputs.map(function(t){return t.type})}).map(function(t){return i.encodeParams(t,e)})[0]||""},c=function(t){t.abi.filter(function(t){return"function"===t.type}).map(function(e){return new s(t._eth,e,t.address)}).forEach(function(e){e.attachToContract(t)})},f=function(t){var e=t.abi.filter(function(t){return"event"===t.type});new a(t._eth._requestManager,e,t.address).attachToContract(t),e.map(function(e){return new o(t._eth._requestManager,e,t.address)}).forEach(function(e){e.attachToContract(t)})},l=function(t,e){var r=0,n=!1,i=t._eth.filter("latest",function(o){if(!o&&!n)if(++r>50){if(i.stopWatching(function(){}),n=!0,!e)throw new Error("Contract transaction couldn't be found after 50 blocks");e(new Error("Contract transaction couldn't be found after 50 blocks"))}else t._eth.getTransactionReceipt(t.transactionHash,function(r,o){o&&!n&&t._eth.getCode(o.contractAddress,function(r,s){if(!n&&s)if(i.stopWatching(function(){}),n=!0,s.length>3)t.address=o.contractAddress,c(t),f(t),e&&e(null,t);else{if(!e)throw new Error("The contract code couldn't be stored, please check your gas amount.");e(new Error("The contract code couldn't be stored, please check your gas amount."))}})})})},h=function(t,e){this.eth=t,this.abi=e,this.new=function(){var t,r=new p(this.eth,this.abi),i={},o=Array.prototype.slice.call(arguments);n.isFunction(o[o.length-1])&&(t=o.pop());var s=o[o.length-1];if((n.isObject(s)&&!n.isArray(s)&&(i=o.pop()),i.value>0)&&!(e.filter(function(t){return"constructor"===t.type&&t.inputs.length===o.length})[0]||{}).payable)throw new Error("Cannot send value to non-payable constructor");var a=u(this.abi,o);if(i.data+=a,t)this.eth.sendTransaction(i,function(e,n){e?t(e):(r.transactionHash=n,t(null,r),l(r,t))});else{var c=this.eth.sendTransaction(i);r.transactionHash=c,l(r)}return r},this.new.getData=this.getData.bind(this)};h.prototype.at=function(t,e){var r=new p(this.eth,this.abi,t);return c(r),f(r),e&&e(null,r),r},h.prototype.getData=function(){var t={},e=Array.prototype.slice.call(arguments),r=e[e.length-1];n.isObject(r)&&!n.isArray(r)&&(t=e.pop());var i=u(this.abi,e);return t.data+=i,t.data};var p=function(t,e,r){this._eth=t,this.transactionHash=null,this.address=r,this.abi=e};t.exports=h},function(t,e,r){"use strict";var n=r(77),i=r(37),o=r(103),s=r(129),a=r(224),u=r(1486),c=r(221),f=r(222),l=r(1483),h=r(1482),p=r(223),d=r(1479),m=function(t){return i.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getBlockByHash":"eth_getBlockByNumber"},g=function(t){return i.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getTransactionByBlockHashAndIndex":"eth_getTransactionByBlockNumberAndIndex"},v=function(t){return i.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getUncleByBlockHashAndIndex":"eth_getUncleByBlockNumberAndIndex"},y=function(t){return i.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getBlockTransactionCountByHash":"eth_getBlockTransactionCountByNumber"},b=function(t){return i.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getUncleCountByBlockHash":"eth_getUncleCountByBlockNumber"};function w(t){this._requestManager=t._requestManager;var e=this;_().forEach(function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)}),k().forEach(function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)}),this.iban=p,this.sendIBANTransaction=d.bind(null,this)}Object.defineProperty(w.prototype,"defaultBlock",{get:function(){return a.defaultBlock},set:function(t){return a.defaultBlock=t,t}}),Object.defineProperty(w.prototype,"defaultAccount",{get:function(){return a.defaultAccount},set:function(t){return a.defaultAccount=t,t}});var _=function(){var t=new o({name:"getBalance",call:"eth_getBalance",params:2,inputFormatter:[n.inputAddressFormatter,n.inputDefaultBlockNumberFormatter],outputFormatter:n.outputBigNumberFormatter}),e=new o({name:"getStorageAt",call:"eth_getStorageAt",params:3,inputFormatter:[null,i.toHex,n.inputDefaultBlockNumberFormatter]}),r=new o({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[n.inputAddressFormatter,n.inputDefaultBlockNumberFormatter]}),s=new o({name:"getBlock",call:m,params:2,inputFormatter:[n.inputBlockNumberFormatter,function(t){return!!t}],outputFormatter:n.outputBlockFormatter}),a=new o({name:"getUncle",call:v,params:2,inputFormatter:[n.inputBlockNumberFormatter,i.toHex],outputFormatter:n.outputBlockFormatter}),u=new o({name:"getCompilers",call:"eth_getCompilers",params:0}),c=new o({name:"getBlockTransactionCount",call:y,params:1,inputFormatter:[n.inputBlockNumberFormatter],outputFormatter:i.toDecimal}),f=new o({name:"getBlockUncleCount",call:b,params:1,inputFormatter:[n.inputBlockNumberFormatter],outputFormatter:i.toDecimal}),l=new o({name:"getTransaction",call:"eth_getTransactionByHash",params:1,outputFormatter:n.outputTransactionFormatter}),h=new o({name:"getTransactionFromBlock",call:g,params:2,inputFormatter:[n.inputBlockNumberFormatter,i.toHex],outputFormatter:n.outputTransactionFormatter}),p=new o({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,outputFormatter:n.outputTransactionReceiptFormatter}),d=new o({name:"getTransactionCount",call:"eth_getTransactionCount",params:2,inputFormatter:[null,n.inputDefaultBlockNumberFormatter],outputFormatter:i.toDecimal}),w=new o({name:"sendRawTransaction",call:"eth_sendRawTransaction",params:1,inputFormatter:[null]}),_=new o({name:"sendTransaction",call:"eth_sendTransaction",params:1,inputFormatter:[n.inputTransactionFormatter]}),k=new o({name:"signTransaction",call:"eth_signTransaction",params:1,inputFormatter:[n.inputTransactionFormatter]}),S=new o({name:"sign",call:"eth_sign",params:2,inputFormatter:[n.inputAddressFormatter,null]});return[t,e,r,s,a,u,c,f,l,h,p,d,new o({name:"call",call:"eth_call",params:2,inputFormatter:[n.inputCallFormatter,n.inputDefaultBlockNumberFormatter]}),new o({name:"estimateGas",call:"eth_estimateGas",params:1,inputFormatter:[n.inputCallFormatter],outputFormatter:i.toDecimal}),w,k,_,S,new o({name:"compile.solidity",call:"eth_compileSolidity",params:1}),new o({name:"compile.lll",call:"eth_compileLLL",params:1}),new o({name:"compile.serpent",call:"eth_compileSerpent",params:1}),new o({name:"submitWork",call:"eth_submitWork",params:3}),new o({name:"getWork",call:"eth_getWork",params:0})]},k=function(){return[new s({name:"coinbase",getter:"eth_coinbase"}),new s({name:"mining",getter:"eth_mining"}),new s({name:"hashrate",getter:"eth_hashrate",outputFormatter:i.toDecimal}),new s({name:"syncing",getter:"eth_syncing",outputFormatter:n.outputSyncingFormatter}),new s({name:"gasPrice",getter:"eth_gasPrice",outputFormatter:n.outputBigNumberFormatter}),new s({name:"accounts",getter:"eth_accounts"}),new s({name:"blockNumber",getter:"eth_blockNumber",outputFormatter:i.toDecimal}),new s({name:"protocolVersion",getter:"eth_protocolVersion"})]};w.prototype.contract=function(t){return new u(this,t)},w.prototype.filter=function(t,e){return new f(this._requestManager,t,c.eth(),n.outputLogFormatter,e)},w.prototype.namereg=function(){return this.contract(h.global.abi).at(h.global.address)},w.prototype.icapNamereg=function(){return this.contract(h.icap.abi).at(h.icap.address)},w.prototype.isSyncing=function(t){return new l(this._requestManager,t)},t.exports=w},function(t,e,r){var n=r(611),i=r(37),o=r(224),s=r(156),a=function(t){this.provider=t,this.polls={},this.timeout=null};a.prototype.send=function(t){if(!this.provider)return console.error(s.InvalidProvider()),null;var e=n.toPayload(t.method,t.params),r=this.provider.send(e);if(!n.isValidResponse(r))throw s.InvalidResponse(r);return r.result},a.prototype.sendAsync=function(t,e){if(!this.provider)return e(s.InvalidProvider());var r=n.toPayload(t.method,t.params);this.provider.sendAsync(r,function(t,r){return t?e(t):n.isValidResponse(r)?void e(null,r.result):e(s.InvalidResponse(r))})},a.prototype.sendBatch=function(t,e){if(!this.provider)return e(s.InvalidProvider());var r=n.toBatchPayload(t);this.provider.sendAsync(r,function(t,r){return t?e(t):i.isArray(r)?void e(t,r):e(s.InvalidResponse(r))})},a.prototype.setProvider=function(t){this.provider=t},a.prototype.startPolling=function(t,e,r,n){this.polls[e]={data:t,id:e,callback:r,uninstall:n},this.timeout||this.poll()},a.prototype.stopPolling=function(t){delete this.polls[t],0===Object.keys(this.polls).length&&this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},a.prototype.reset=function(t){for(var e in this.polls)t&&-1!==e.indexOf("syncPoll_")||(this.polls[e].uninstall(),delete this.polls[e]);0===Object.keys(this.polls).length&&this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},a.prototype.poll=function(){if(this.timeout=setTimeout(this.poll.bind(this),o.ETH_POLLING_TIMEOUT),0!==Object.keys(this.polls).length)if(this.provider){var t=[],e=[];for(var r in this.polls)t.push(this.polls[r].data),e.push(r);if(0!==t.length){var a=n.toBatchPayload(t),u={};a.forEach(function(t,r){u[t.id]=e[r]});var c=this;this.provider.sendAsync(a,function(t,e){if(!t){if(!i.isArray(e))throw s.InvalidResponse(e);e.map(function(t){var e=u[t.id];return!!c.polls[e]&&(t.callback=c.polls[e].callback,t)}).filter(function(t){return!!t}).filter(function(t){var e=n.isValidResponse(t);return e||t.callback(s.InvalidResponse(t)),e}).forEach(function(t){t.callback(null,t.result)})}})}}else console.error(s.InvalidProvider())},t.exports=a},function(t,e,r){var n=r(1488),i=r(223),o=r(1487),s=r(1477),a=r(1476),u=r(1475),c=r(1474),f=r(1473),l=r(1472),h=r(1471),p=r(37),d=r(157),m=r(1470),g=r(1469),v=r(129),y=r(1468),b=r(1466),w=r(158);function _(t){this._requestManager=new n(t),this.currentProvider=t,this.eth=new o(this),this.db=new s(this),this.shh=new a(this),this.net=new u(this),this.personal=new c(this),this.bzz=new f(this),this.settings=new l,this.version={api:h.version},this.providers={HttpProvider:y,IpcProvider:b},this._extend=m(this),this._extend({properties:k()})}_.providers={HttpProvider:y,IpcProvider:b},_.prototype.setProvider=function(t){this._requestManager.setProvider(t),this.currentProvider=t},_.prototype.reset=function(t){this._requestManager.reset(t),this.settings=new l},_.prototype.BigNumber=w,_.prototype.toHex=p.toHex,_.prototype.toAscii=p.toAscii,_.prototype.toUtf8=p.toUtf8,_.prototype.fromAscii=p.fromAscii,_.prototype.fromUtf8=p.fromUtf8,_.prototype.toDecimal=p.toDecimal,_.prototype.fromDecimal=p.fromDecimal,_.prototype.toBigNumber=p.toBigNumber,_.prototype.toWei=p.toWei,_.prototype.fromWei=p.fromWei,_.prototype.isAddress=p.isAddress,_.prototype.isChecksumAddress=p.isChecksumAddress,_.prototype.toChecksumAddress=p.toChecksumAddress,_.prototype.isIBAN=p.isIBAN,_.prototype.sha3=function(t,e){return"0x"+d(t,e)},_.prototype.fromICAP=function(t){return new i(t).address()};var k=function(){return[new v({name:"version.node",getter:"web3_clientVersion"}),new v({name:"version.network",getter:"net_version",inputFormatter:p.toDecimal}),new v({name:"version.ethereum",getter:"eth_protocolVersion",inputFormatter:p.toDecimal}),new v({name:"version.whisper",getter:"shh_version",inputFormatter:p.toDecimal})]};_.prototype.isConnected=function(){return this.currentProvider&&this.currentProvider.isConnected()},_.prototype.createBatch=function(){return new g(this)},t.exports=_},function(t,e,r){var n=r(1489);"undefined"!=typeof window&&void 0===window.Web3&&(window.Web3=n),t.exports=n},function(t,e,r){var n=r(60),i=r(78),o=function(){this._inputFormatter=n.formatInputBytes,this._outputFormatter=n.formatOutputBytes};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(t){return!!t.match(/^bytes([0-9]{1,})(\[([0-9]*)\])*$/)},t.exports=o},function(t,e,r){var n=r(60),i=r(78),o=function(){this._inputFormatter=n.formatInputReal,this._outputFormatter=n.formatOutputUReal};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(t){return!!t.match(/^ureal([0-9]*)?(\[([0-9]*)\])*$/)},t.exports=o},function(t,e,r){var n=r(60),i=r(78),o=function(){this._inputFormatter=n.formatInputReal,this._outputFormatter=n.formatOutputReal};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(t){return!!t.match(/real([0-9]*)?(\[([0-9]*)\])?/)},t.exports=o},function(t,e,r){var n=r(60),i=r(78),o=function(){this._inputFormatter=n.formatInputString,this._outputFormatter=n.formatOutputString};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(t){return!!t.match(/^string(\[([0-9]*)\])*$/)},o.prototype.isDynamicType=function(){return!0},t.exports=o},function(t,e,r){var n=r(60),i=r(78),o=function(){this._inputFormatter=n.formatInputDynamicBytes,this._outputFormatter=n.formatOutputDynamicBytes};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(t){return!!t.match(/^bytes(\[([0-9]*)\])*$/)},o.prototype.isDynamicType=function(){return!0},t.exports=o},function(t,e,r){var n=r(60),i=r(78),o=function(){this._inputFormatter=n.formatInputInt,this._outputFormatter=n.formatOutputUInt};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(t){return!!t.match(/^uint([0-9]*)?(\[([0-9]*)\])*$/)},t.exports=o},function(t,e,r){var n=r(60),i=r(78),o=function(){this._inputFormatter=n.formatInputInt,this._outputFormatter=n.formatOutputInt};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(t){return!!t.match(/^int([0-9]*)?(\[([0-9]*)\])*$/)},t.exports=o},function(t,e,r){var n=r(60),i=r(78),o=function(){this._inputFormatter=n.formatInputBool,this._outputFormatter=n.formatOutputBool};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(t){return!!t.match(/^bool(\[([0-9]*)\])*$/)},t.exports=o},function(t,e,r){var n=r(60),i=r(78),o=function(){this._inputFormatter=n.formatInputInt,this._outputFormatter=n.formatOutputAddress};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(t){return!!t.match(/address(\[([0-9]*)\])?/)},t.exports=o},function(t,e,r){(function(t,n){var i;/*! https://mths.be/utf8js v2.1.2 by @mathias */!function(o){var s="object"==typeof e&&e,a=("object"==typeof t&&t&&t.exports,"object"==typeof n&&n);a.global!==a&&a.window;var u,c,f,l=String.fromCharCode;function h(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function p(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function d(t,e){return l(t>>e&63|128)}function m(t){if(0==(4294967168&t))return l(t);var e="";return 0==(4294965248&t)?e=l(t>>6&31|192):0==(4294901760&t)?(p(t),e=l(t>>12&15|224),e+=d(t,6)):0==(4292870144&t)&&(e=l(t>>18&7|240),e+=d(t,12),e+=d(t,6)),e+=l(63&t|128)}function g(){if(f>=c)throw Error("Invalid byte index");var t=255&u[f];if(f++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function v(){var t,e;if(f>c)throw Error("Invalid byte index");if(f==c)return!1;if(t=255&u[f],f++,0==(128&t))return t;if(192==(224&t)){if((e=(31&t)<<6|g())>=128)return e;throw Error("Invalid continuation byte")}if(224==(240&t)){if((e=(15&t)<<12|g()<<6|g())>=2048)return p(e),e;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=(7&t)<<18|g()<<12|g()<<6|g())>=65536&&e<=1114111)return e;throw Error("Invalid UTF-8 detected")}var y={version:"2.1.2",encode:function(t){for(var e=h(t),r=e.length,n=-1,i="";++n<r;)i+=m(e[n]);return i},decode:function(t){u=h(t),c=u.length,f=0;for(var e,r=[];!1!==(e=v());)r.push(e);return function(t){for(var e,r=t.length,n=-1,i="";++n<r;)(e=t[n])>65535&&(i+=l((e-=65536)>>>10&1023|55296),e=56320|1023&e),i+=l(e);return i}(r)}};void 0===(i=function(){return y}.call(e,r,e,t))||(t.exports=i)}()}).call(this,r(24)(t),r(7))},function(t,e,r){var n;t.exports=(n=r(15),r(132),r(131),r(130),r(36),function(){var t=n,e=t.lib.StreamCipher,r=[],i=[],o=[],s=t.algo.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],n=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var i=0;i<4;i++)a.call(this);for(i=0;i<8;i++)n[i]^=r[i+4&7];if(e){var o=e.words,s=o[0],u=o[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),l=c>>>16|4294901760&f,h=f<<16|65535&c;for(n[0]^=c,n[1]^=l,n[2]^=f,n[3]^=h,n[4]^=c,n[5]^=l,n[6]^=f,n[7]^=h,i=0;i<4;i++)a.call(this)}},_doProcessBlock:function(t,e){var n=this._X;a.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),t[e+i]^=r[i]},blockSize:4,ivSize:2});function a(){for(var t=this._X,e=this._C,r=0;r<8;r++)i[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var n=t[r]+e[r],s=65535&n,a=n>>>16,u=((s*s>>>17)+s*a>>>15)+a*a,c=((4294901760&n)*n|0)+((65535&n)*n|0);o[r]=u^c}t[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,t[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,t[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,t[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,t[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,t[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,t[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,t[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.RabbitLegacy=e._createHelper(s)}(),n.RabbitLegacy)},function(t,e,r){var n;t.exports=(n=r(15),r(132),r(131),r(130),r(36),function(){var t=n,e=t.lib.StreamCipher,r=[],i=[],o=[],s=t.algo.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,r=0;r<4;r++)t[r]=16711935&(t[r]<<8|t[r]>>>24)|4278255360&(t[r]<<24|t[r]>>>8);var n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,r=0;r<4;r++)a.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(e){var o=e.words,s=o[0],u=o[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),l=c>>>16|4294901760&f,h=f<<16|65535&c;for(i[0]^=c,i[1]^=l,i[2]^=f,i[3]^=h,i[4]^=c,i[5]^=l,i[6]^=f,i[7]^=h,r=0;r<4;r++)a.call(this)}},_doProcessBlock:function(t,e){var n=this._X;a.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),t[e+i]^=r[i]},blockSize:4,ivSize:2});function a(){for(var t=this._X,e=this._C,r=0;r<8;r++)i[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var n=t[r]+e[r],s=65535&n,a=n>>>16,u=((s*s>>>17)+s*a>>>15)+a*a,c=((4294901760&n)*n|0)+((65535&n)*n|0);o[r]=u^c}t[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,t[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,t[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,t[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,t[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,t[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,t[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,t[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.Rabbit=e._createHelper(s)}(),n.Rabbit)},function(t,e,r){var n;t.exports=(n=r(15),r(132),r(131),r(130),r(36),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,i=r.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,r=t.sigBytes,n=this._S=[],i=0;i<256;i++)n[i]=i;i=0;for(var o=0;i<256;i++){var s=i%r,a=e[s>>>2]>>>24-s%4*8&255;o=(o+n[i]+a)%256;var u=n[i];n[i]=n[o],n[o]=u}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var t=this._S,e=this._i,r=this._j,n=0,i=0;i<4;i++){r=(r+t[e=(e+1)%256])%256;var o=t[e];t[e]=t[r],t[r]=o,n|=t[(t[e]+t[r])%256]<<24-8*i}return this._i=e,this._j=r,n}t.RC4=e._createHelper(i);var s=r.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)o.call(this)}});t.RC4Drop=e._createHelper(s)}(),n.RC4)},function(t,e,r){var n;t.exports=(n=r(15),r(132),r(131),r(130),r(36),function(){var t=n,e=t.lib,r=e.WordArray,i=e.BlockCipher,o=t.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],l=o.DES=i.extend({_doReset:function(){for(var t=this._key.words,e=[],r=0;r<56;r++){var n=s[r]-1;e[r]=t[n>>>5]>>>31-n%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var c=i[o]=[],f=u[o];for(r=0;r<24;r++)c[r/6|0]|=e[(a[r]-1+f)%28]<<31-r%6,c[4+(r/6|0)]|=e[28+(a[r+24]-1+f)%28]<<31-r%6;for(c[0]=c[0]<<1|c[0]>>>31,r=1;r<7;r++)c[r]=c[r]>>>4*(r-1)+3;c[7]=c[7]<<5|c[7]>>>27}var l=this._invSubKeys=[];for(r=0;r<16;r++)l[r]=i[15-r]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,r){this._lBlock=t[e],this._rBlock=t[e+1],h.call(this,4,252645135),h.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),h.call(this,1,1431655765);for(var n=0;n<16;n++){for(var i=r[n],o=this._lBlock,s=this._rBlock,a=0,u=0;u<8;u++)a|=c[u][((s^i[u])&f[u])>>>0];this._lBlock=s,this._rBlock=o^a}var l=this._lBlock;this._lBlock=this._rBlock,this._rBlock=l,h.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function h(t,e){var r=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=r,this._lBlock^=r<<t}function p(t,e){var r=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=r,this._rBlock^=r<<t}t.DES=i._createHelper(l);var d=o.TripleDES=i.extend({_doReset:function(){var t=this._key.words;this._des1=l.createEncryptor(r.create(t.slice(0,2))),this._des2=l.createEncryptor(r.create(t.slice(2,4))),this._des3=l.createEncryptor(r.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(d)}(),n.TripleDES)},function(t,e,r){var n;t.exports=(n=r(15),r(132),r(131),r(130),r(36),function(){var t=n,e=t.lib.BlockCipher,r=t.algo,i=[],o=[],s=[],a=[],u=[],c=[],f=[],l=[],h=[],p=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var r=0,n=0;for(e=0;e<256;e++){var d=n^n<<1^n<<2^n<<3^n<<4;d=d>>>8^255&d^99,i[r]=d,o[d]=r;var m=t[r],g=t[m],v=t[g],y=257*t[d]^16843008*d;s[r]=y<<24|y>>>8,a[r]=y<<16|y>>>16,u[r]=y<<8|y>>>24,c[r]=y,y=16843009*v^65537*g^257*m^16843008*r,f[d]=y<<24|y>>>8,l[d]=y<<16|y>>>16,h[d]=y<<8|y>>>24,p[d]=y,r?(r=m^t[t[t[v^m]]],n^=t[t[n]]):r=n=1}}();var d=[0,1,2,4,8,16,32,64,128,27,54],m=r.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,r=t.sigBytes/4,n=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],s=0;s<n;s++)if(s<r)o[s]=e[s];else{var a=o[s-1];s%r?r>6&&s%r==4&&(a=i[a>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a]):(a=i[(a=a<<8|a>>>24)>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a],a^=d[s/r|0]<<24),o[s]=o[s-r]^a}for(var u=this._invKeySchedule=[],c=0;c<n;c++)s=n-c,a=c%4?o[s]:o[s-4],u[c]=c<4||s<=4?a:f[i[a>>>24]]^l[i[a>>>16&255]]^h[i[a>>>8&255]]^p[i[255&a]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,a,u,c,i)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,f,l,h,p,o),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,n,i,o,s,a){for(var u=this._nRounds,c=t[e]^r[0],f=t[e+1]^r[1],l=t[e+2]^r[2],h=t[e+3]^r[3],p=4,d=1;d<u;d++){var m=n[c>>>24]^i[f>>>16&255]^o[l>>>8&255]^s[255&h]^r[p++],g=n[f>>>24]^i[l>>>16&255]^o[h>>>8&255]^s[255&c]^r[p++],v=n[l>>>24]^i[h>>>16&255]^o[c>>>8&255]^s[255&f]^r[p++],y=n[h>>>24]^i[c>>>16&255]^o[f>>>8&255]^s[255&l]^r[p++];c=m,f=g,l=v,h=y}m=(a[c>>>24]<<24|a[f>>>16&255]<<16|a[l>>>8&255]<<8|a[255&h])^r[p++],g=(a[f>>>24]<<24|a[l>>>16&255]<<16|a[h>>>8&255]<<8|a[255&c])^r[p++],v=(a[l>>>24]<<24|a[h>>>16&255]<<16|a[c>>>8&255]<<8|a[255&f])^r[p++],y=(a[h>>>24]<<24|a[c>>>16&255]<<16|a[f>>>8&255]<<8|a[255&l])^r[p++],t[e]=m,t[e+1]=g,t[e+2]=v,t[e+3]=y},keySize:8});t.AES=e._createHelper(m)}(),n.AES)},function(t,e,r){var n,i,o,s;t.exports=(n=r(15),r(36),o=(i=n).lib.CipherParams,s=i.enc.Hex,i.format.Hex={stringify:function(t){return t.ciphertext.toString(s)},parse:function(t){var e=s.parse(t);return o.create({ciphertext:e})}},n.format.Hex)},function(t,e,r){var n;t.exports=(n=r(15),r(36),n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding)},function(t,e,r){var n;t.exports=(n=r(15),r(36),n.pad.ZeroPadding={pad:function(t,e){var r=4*e;t.clamp(),t.sigBytes+=r-(t.sigBytes%r||r)},unpad:function(t){for(var e=t.words,r=t.sigBytes-1;!(e[r>>>2]>>>24-r%4*8&255);)r--;t.sigBytes=r+1}},n.pad.ZeroPadding)},function(t,e,r){var n;t.exports=(n=r(15),r(36),n.pad.Iso97971={pad:function(t,e){t.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(t,e)},unpad:function(t){n.pad.ZeroPadding.unpad(t),t.sigBytes--}},n.pad.Iso97971)},function(t,e,r){var n;t.exports=(n=r(15),r(36),n.pad.Iso10126={pad:function(t,e){var r=4*e,i=r-t.sigBytes%r;t.concat(n.lib.WordArray.random(i-1)).concat(n.lib.WordArray.create([i<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},n.pad.Iso10126)},function(t,e,r){var n;t.exports=(n=r(15),r(36),n.pad.AnsiX923={pad:function(t,e){var r=t.sigBytes,n=4*e,i=n-r%n,o=r+i-1;t.clamp(),t.words[o>>>2]|=i<<24-o%4*8,t.sigBytes+=i},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},n.pad.Ansix923)},function(t,e,r){var n,i;t.exports=(n=r(15),r(36),n.mode.ECB=((i=n.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),i.Decryptor=i.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),i),n.mode.ECB)},function(t,e,r){var n,i,o;t.exports=(n=r(15),r(36),n.mode.OFB=(i=n.lib.BlockCipherMode.extend(),o=i.Encryptor=i.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),r.encryptBlock(o,0);for(var s=0;s<n;s++)t[e+s]^=o[s]}}),i.Decryptor=o,i),n.mode.OFB)},function(t,e,r){var n;t.exports=(n=r(15),r(36),
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
n.mode.CTRGladman=function(){var t=n.lib.BlockCipherMode.extend();function e(t){if(255==(t>>24&255)){var e=t>>16&255,r=t>>8&255,n=255&t;255===e?(e=0,255===r?(r=0,255===n?n=0:++n):++r):++e,t=0,t+=e<<16,t+=r<<8,t+=n}else t+=1<<24;return t}var r=t.Encryptor=t.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),function(t){0===(t[0]=e(t[0]))&&(t[1]=e(t[1]))}(s);var a=s.slice(0);n.encryptBlock(a,0);for(var u=0;u<i;u++)t[r+u]^=a[u]}});return t.Decryptor=r,t}(),n.mode.CTRGladman)},function(t,e,r){var n,i,o;t.exports=(n=r(15),r(36),n.mode.CTR=(i=n.lib.BlockCipherMode.extend(),o=i.Encryptor=i.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var s=o.slice(0);r.encryptBlock(s,0),o[n-1]=o[n-1]+1|0;for(var a=0;a<n;a++)t[e+a]^=s[a]}}),i.Decryptor=o,i),n.mode.CTR)},function(t,e,r){var n;t.exports=(n=r(15),r(36),n.mode.CFB=function(){var t=n.lib.BlockCipherMode.extend();function e(t,e,r,n){var i=this._iv;if(i){var o=i.slice(0);this._iv=void 0}else o=this._prevBlock;n.encryptBlock(o,0);for(var s=0;s<r;s++)t[e+s]^=o[s]}return t.Encryptor=t.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize;e.call(this,t,r,i,n),this._prevBlock=t.slice(r,r+i)}}),t.Decryptor=t.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize,o=t.slice(r,r+i);e.call(this,t,r,i,n),this._prevBlock=o}}),t}(),n.mode.CFB)},function(t,e,r){var n,i,o,s,a,u,c,f,l;t.exports=(n=r(15),r(355),r(354),o=(i=n).lib,s=o.Base,a=o.WordArray,u=i.algo,c=u.SHA1,f=u.HMAC,l=u.PBKDF2=s.extend({cfg:s.extend({keySize:4,hasher:c,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,n=f.create(r.hasher,t),i=a.create(),o=a.create([1]),s=i.words,u=o.words,c=r.keySize,l=r.iterations;s.length<c;){var h=n.update(e).finalize(o);n.reset();for(var p=h.words,d=p.length,m=h,g=1;g<l;g++){m=n.finalize(m),n.reset();for(var v=m.words,y=0;y<d;y++)p[y]^=v[y]}i.concat(h),u[0]++}return i.sigBytes=4*c,i}}),i.PBKDF2=function(t,e,r){return l.create(r).compute(t,e)},n.PBKDF2)},function(t,e,r){var n;t.exports=(n=r(15),
/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
function(t){var e=n,r=e.lib,i=r.WordArray,o=r.Hasher,s=e.algo,a=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=i.create([0,1518500249,1859775393,2400959708,2840853838]),h=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=s.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,i=t[n];t[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,s,p,w,_,k,S,x,E,C,A,M=this._hash.words,I=l.words,T=h.words,O=a.words,B=u.words,P=c.words,N=f.words;for(k=o=M[0],S=s=M[1],x=p=M[2],E=w=M[3],C=_=M[4],r=0;r<80;r+=1)A=o+t[e+O[r]]|0,A+=r<16?d(s,p,w)+I[0]:r<32?m(s,p,w)+I[1]:r<48?g(s,p,w)+I[2]:r<64?v(s,p,w)+I[3]:y(s,p,w)+I[4],A=(A=b(A|=0,P[r]))+_|0,o=_,_=w,w=b(p,10),p=s,s=A,A=k+t[e+B[r]]|0,A+=r<16?y(S,x,E)+T[0]:r<32?v(S,x,E)+T[1]:r<48?g(S,x,E)+T[2]:r<64?m(S,x,E)+T[3]:d(S,x,E)+T[4],A=(A=b(A|=0,N[r]))+C|0,k=C,C=E,E=b(x,10),x=S,S=A;A=M[1]+p+E|0,M[1]=M[2]+w+C|0,M[2]=M[3]+_+k|0,M[3]=M[4]+o+S|0,M[4]=M[0]+s+x|0,M[0]=A},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process();for(var i=this._hash,o=i.words,s=0;s<5;s++){var a=o[s];o[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return i},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function d(t,e,r){return t^e^r}function m(t,e,r){return t&e|~t&r}function g(t,e,r){return(t|~e)^r}function v(t,e,r){return t&r|e&~r}function y(t,e,r){return t^(e|~r)}function b(t,e){return t<<e|t>>>32-e}e.RIPEMD160=o._createHelper(p),e.HmacRIPEMD160=o._createHmacHelper(p)}(Math),n.RIPEMD160)},function(t,e,r){var n,i,o,s,a,u,c,f;t.exports=(n=r(15),r(225),r(614),o=(i=n).x64,s=o.Word,a=o.WordArray,u=i.algo,c=u.SHA512,f=u.SHA384=c.extend({_doReset:function(){this._hash=new a.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var t=c._doFinalize.call(this);return t.sigBytes-=16,t}}),i.SHA384=c._createHelper(f),i.HmacSHA384=c._createHmacHelper(f),n.SHA384)},function(t,e,r){var n,i,o,s,a,u;t.exports=(n=r(15),r(615),o=(i=n).lib.WordArray,s=i.algo,a=s.SHA256,u=s.SHA224=a.extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=a._doFinalize.call(this);return t.sigBytes-=4,t}}),i.SHA224=a._createHelper(u),i.HmacSHA224=a._createHmacHelper(u),n.SHA224)},function(t,e,r){var n;t.exports=(n=r(15),function(){var t=n,e=t.lib.WordArray,r=t.enc;function i(t){return t<<8&4278255360|t>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i+=2){var o=e[i>>>2]>>>16-i%4*8&65535;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var r=t.length,n=[],i=0;i<r;i++)n[i>>>1]|=t.charCodeAt(i)<<16-i%2*16;return e.create(n,2*r)}},r.Utf16LE={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o+=2){var s=i(e[o>>>2]>>>16-o%4*8&65535);n.push(String.fromCharCode(s))}return n.join("")},parse:function(t){for(var r=t.length,n=[],o=0;o<r;o++)n[o>>>1]|=i(t.charCodeAt(o)<<16-o%2*16);return e.create(n,2*r)}}}(),n.enc.Utf16)},function(t,e,r){var n;t.exports=(n=r(15),function(){if("function"==typeof ArrayBuffer){var t=n.lib.WordArray,e=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var r=t.byteLength,n=[],i=0;i<r;i++)n[i>>>2]|=t[i]<<24-i%4*8;e.call(this,n,r)}else e.apply(this,arguments)}).prototype=t}}(),n.lib.WordArray)},function(t,e,r){var n;t.exports=(n=r(15),r(225),r(1522),r(1521),r(132),r(131),r(355),r(615),r(1520),r(614),r(1519),r(613),r(1518),r(354),r(1517),r(130),r(36),r(1516),r(1515),r(1514),r(1513),r(1512),r(1511),r(1510),r(1509),r(1508),r(1507),r(1506),r(1505),r(1504),r(1503),r(1502),r(1501),n)},function(t,e,r){const n=r(226),i=r(1490),o={savedABIs:[],methodIDs:{}};t.exports={getABIs:function(){return o.savedABIs},addABI:function(t){if(!Array.isArray(t))throw new Error("Expected ABI array, got "+typeof t);t.map(function(t){if(t.name){const e=(new i).sha3(t.name+"("+t.inputs.map(function(t){return t.type}).join(",")+")");"event"==t.type?o.methodIDs[e.slice(2)]=t:o.methodIDs[e.slice(2,10)]=t}}),o.savedABIs=o.savedABIs.concat(t)},getMethodIDs:function(){return o.methodIDs},decodeMethod:function(t){const e=t.slice(2,10),r=o.methodIDs[e];if(r){const e=r.inputs.map(function(t){return t.type});let o=n.decodeParams(e,t.slice(10));return{name:r.name,params:o.map(function(t,e){let n=t;const o=0==r.inputs[e].type.indexOf("uint"),s=0==r.inputs[e].type.indexOf("int");return(o||s)&&(n=Array.isArray(t)?t.map(t=>(new i).toBigNumber(t).toString()):(new i).toBigNumber(t).toString()),{name:r.inputs[e].name,value:n,type:r.inputs[e].type}})}}},decodeLogs:function(t){return t.map(function(t){const e=t.topics[0].slice(2),r=o.methodIDs[e];if(r){const e=t.data;let o=[],s=0,a=1,u=[];r.inputs.map(function(t){t.indexed||u.push(t.type)});const c=n.decodeParams(u,e.slice(2));return r.inputs.map(function(e){var r={name:e.name,type:e.type};e.indexed?(r.value=t.topics[a],a++):(r.value=c[s],s++),"address"==e.type?r.value=function(t){var e=t;if(-1!=t.indexOf("0x")&&(e=t.slice(2)),e.length<40)for(;e.length<40;)e="0"+e;return"0x"+e}((new i).toBigNumber(r.value).toString(16)):"uint256"!=e.type&&"uint8"!=e.type&&"int"!=e.type||(r.value=(new i).toBigNumber(r.value).toString(10)),o.push(r)}),{name:r.name,events:o,address:t.address}}})},removeABI:function(t){if(!Array.isArray(t))throw new Error("Expected ABI array, got "+typeof t);t.map(function(t){if(t.name){const e=(new i).sha3(t.name+"("+t.inputs.map(function(t){return t.type}).join(",")+")");"event"==t.type?o.methodIDs[e.slice(2)]&&delete o.methodIDs[e.slice(2)]:o.methodIDs[e.slice(2,10)]&&delete o.methodIDs[e.slice(2,10)]}})}}},function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;
/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__(616),ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(r){return new Sha256(e,!0).update(r)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(t){return e.create().update(t)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createOutputMethod(n,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if("string"==typeof t)return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(null===t||void 0===t)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(r,n){return new HmacSha256(r,e,!0).update(n)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(e){return new HmacSha256(e,t)},e.update=function(t,r){return e.create(t).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createHmacOutputMethod(n,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function HmacSha256(t,e,r){var n,i=typeof t;if("string"===i){var o,s=[],a=t.length,u=0;for(n=0;n<a;++n)(o=t.charCodeAt(n))<128?s[u++]=o:o<2048?(s[u++]=192|o>>6,s[u++]=128|63&o):o<55296||o>=57344?(s[u++]=224|o>>12,s[u++]=128|o>>6&63,s[u++]=128|63&o):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++n)),s[u++]=240|o>>18,s[u++]=128|o>>12&63,s[u++]=128|o>>6&63,s[u++]=128|63&o);t=s}else{if("object"!==i)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR)}t.length>64&&(t=new Sha256(e,!0).update(t).array());var c=[],f=[];for(n=0;n<64;++n){var l=t[n]||0;c[n]=92^l,f[n]=54^l}Sha256.call(this,e,r),this.update(f),this.oKeyPad=c,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(t){if(!this.finalized){var e,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR);e=!0}for(var n,i,o=0,s=t.length,a=this.blocks;o<s;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),e)for(i=this.start;o<s&&i<64;++o)a[i>>2]|=t[o]<<SHIFT[3&i++];else for(i=this.start;o<s&&i<64;++o)(n=t.charCodeAt(o))<128?a[i>>2]|=n<<SHIFT[3&i++]:n<2048?(a[i>>2]|=(192|n>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):n<55296||n>=57344?(a[i>>2]|=(224|n>>12)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++o)),a[i>>2]|=(240|n>>18)<<SHIFT[3&i++],a[i>>2]|=(128|n>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t,e,r,n,i,o,s,a,u,c=this.h0,f=this.h1,l=this.h2,h=this.h3,p=this.h4,d=this.h5,m=this.h6,g=this.h7,v=this.blocks;for(t=16;t<64;++t)e=((i=v[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,r=((i=v[t-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,v[t]=v[t-16]+e+v[t-7]+r<<0;for(u=f&l,t=0;t<64;t+=4)this.first?(this.is224?(o=300032,g=(i=v[0]-1413257819)-150054599<<0,h=i+24177077<<0):(o=704751109,g=(i=v[0]-210244248)-1521486534<<0,h=i+143694565<<0),this.first=!1):(e=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),n=(o=c&f)^c&l^u,g=h+(i=g+(r=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&d^~p&m)+K[t]+v[t])<<0,h=i+(e+n)<<0),e=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),n=(s=h&c)^h&f^o,m=l+(i=m+(r=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&p^~g&d)+K[t+1]+v[t+1])<<0,e=((l=i+(e+n)<<0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),n=(a=l&h)^l&c^s,d=f+(i=d+(r=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&g^~m&p)+K[t+2]+v[t+2])<<0,e=((f=i+(e+n)<<0)>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),n=(u=f&l)^f&h^a,p=c+(i=p+(r=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&m^~d&g)+K[t+3]+v[t+3])<<0,c=i+(e+n)<<0;this.h0=this.h0+c<<0,this.h1=this.h1+f<<0,this.h2=this.h2+l<<0,this.h3=this.h3+h<<0,this.h4=this.h4+p<<0,this.h5=this.h5+d<<0,this.h6=this.h6+m<<0,this.h7=this.h7+g<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,u=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s];return this.is224||(u+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),u},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,u=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s];return this.is224||u.push(a>>24&255,a>>16&255,a>>8&255,255&a),u},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(this,__webpack_require__(2),__webpack_require__(7))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.abiArray=[{constant:!1,inputs:[{name:"username",type:"bytes32"},{name:"value",type:"string"}],name:"setUsernameAndMetaDataJSONString",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"addr",type:"address"}],name:"getMetaDataJSONStringValue",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"authorAddress",type:"address"}],name:"getCurrentFeedInfo",outputs:[{name:"",type:"uint256[2]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"userAddress",type:"address"}],name:"downvoteUser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"transactionHash",type:"bytes32"}],name:"report",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"addressToUsernameMap",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"transactionHash",type:"bytes32"},{name:"field",type:"uint256"}],name:"getState",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"},{name:"",type:"uint256"}],name:"state",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"tag",type:"bytes32"},{name:"field",type:"uint256"}],name:"getTagState",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"userAddress",type:"address"}],name:"reportUser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"metaDataJSONStringMap",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"version",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"},{name:"",type:"uint256"}],name:"currentTagInfoByTrendMap",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"uint256"}],name:"currentFeedInfoMap",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"timestamp",type:"uint256"},{name:"message",type:"string"},{name:"messageHash",type:"uint256"},{name:"previousFeedTransactionHash",type:"bytes32"},{name:"tags",type:"bytes32[]"}],name:"post",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"previousContract",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"timestamp",type:"uint256"},{name:"parentTransactionHash",type:"bytes32"},{name:"previousFeedTransactionHash",type:"bytes32"},{name:"tags",type:"bytes32[]"},{name:"authorAddress",type:"address"}],name:"upvote",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"usernameToAddressMap",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"},{name:"",type:"uint256"}],name:"currentTagInfoByTimeMap",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"tag",type:"bytes32"}],name:"upvoteTag",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"previousContractAddress",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"tag",type:"bytes32"}],name:"downvoteTag",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"userAddress",type:"address"},{name:"field",type:"uint256"}],name:"getUserState",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"uint256"}],name:"userState",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"tag",type:"bytes32"}],name:"reportTag",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"timestamp",type:"uint256"},{name:"parentTransactionHash",type:"bytes32"},{name:"previousReplyTransactionHash",type:"bytes32"},{name:"message",type:"string"},{name:"messageHash",type:"uint256"},{name:"tags",type:"bytes32[]"},{name:"mode",type:"uint8"},{name:"authorAddress",type:"address"}],name:"reply",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"},{name:"",type:"uint256"}],name:"tagState",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"userAddress",type:"address"}],name:"upvoteUser",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"addr",type:"address"}],name:"getUsernameFromAddress",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"tag",type:"bytes32"}],name:"getCurrentTagInfoByTime",outputs:[{name:"",type:"uint256[2]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"value",type:"string"}],name:"setMetaDataJSONStringValue",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"tag",type:"bytes32"}],name:"getCurrentTagInfoByTrend",outputs:[{name:"",type:"uint256[2]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"transactionHash",type:"bytes32"}],name:"downvote",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"username",type:"bytes32"}],name:"getAddressFromUsername",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_previousContractAddress",type:"address"},{name:"_version",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"previousFeedInfo",type:"uint256[2]"}],name:"SavePreviousFeedInfoEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"previousTagInfo",type:"uint256[2]"},{indexed:!1,name:"tag",type:"bytes32"}],name:"SavePreviousTagInfoByTimeEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"previousTagInfo",type:"uint256[2]"},{indexed:!1,name:"tag",type:"bytes32"}],name:"SavePreviousTagInfoByTrendEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"value",type:"uint256"}],name:"DonateEvent",type:"event"}],e.getContractAddress=function(t){return 3===t?"0xf800d9d9d2514c119ff663bdb33d7d2bad3cbbdd":null},e.abiArrayJSONString=JSON.stringify(e.abiArray)},function(t,e){t.exports=function(t){var e=t.fsp,r=t.files,n=t.os,i=t.path,o=t.child_process,s=t.mimetype,a=t.defaultArchives,u=t.request,c=t.downloadUrl,f=t.bytes,l=t.hash,h=t.pick,p=function(t){return function(e){for(var r={},n=0,i=t.length;n<i;++n)r[t[n]]=e[n];return r}},d=function(t){return function(e){return t+"/bzzr:/"+e}},m=function(t){return function(e){return u(d(t)(e),{responseType:"arraybuffer"}).then(function(t){var e,r=new Uint8Array(t);if((e=r,function(t){if(e.length!==t.length)return!1;var r=0;for(e.length;r<e;++r)if(e[r]!==t[r])return!1;return!0})([52,48,52,32,112,97,103,101,32,110,111,116,32,102,111,117,110,100,10]))throw"Error 404.";return r})}},g=function(t){return function(e){return function e(r){return function(n){return function(i){var o=function(t){return void 0===t.path?Promise.resolve():"application/bzz-manifest+json"===t.contentType?e(t.hash)(n+t.path)(i):Promise.resolve((r=n+t.path,function(t){return function(e){return e[r]=t,e}})(function(t){return{type:t.contentType,hash:t.hash}}(t))(i));var r};return m(t)(r).then(function(t){return JSON.parse(F(t)).entries}).then(function(t){return Promise.all(t.map(o))}).then(function(){return i})}}}(e)("")({})}},v=function(t){return function(e){return g(t)(e).then(function(t){return p(Object.keys(t))(Object.keys(t).map(function(e){return t[e].hash}))})}},y=function(t){return function(e){return g(t)(e).then(function(e){var r=Object.keys(e),n=r.map(function(t){return e[t].hash}),i=r.map(function(t){return e[t].type}),o=n.map(m(t));return Promise.all(o).then(function(t){return p(r)(function(t){return t.map(function(t,e){return{type:i[e],data:t}})}(t))})})}},b=function(t){return function(e){return function(n){return r.download(d(t)(e))(n)}}},w=function(t){return function(e){return function(r){return v(t)(e).then(function(e){var n=[];for(var o in e)if(o.length>0){var s=i.join(r,o);n.push(b(t)(e[o])(s))}return Promise.all(n).then(function(){return r})})}}},_=function(t){return function(e){return u(t+"/bzzr:/",{body:"string"==typeof e?j(e):e,method:"POST"})}},k=function(t){return function(e){return function(r){return function(n){return function i(o){var s="/"===r[0]?r:"/"+r,a=t+"/bzz:/"+e+s,c={method:"PUT",headers:{"Content-Type":n.type},body:n.data};return u(a,c).then(function(t){if(-1!==t.indexOf("error"))throw t;return t}).catch(function(t){return o>0&&i(o-1)})}(3)}}}},S=function(t){return function(e){return E(t)({"":e})}},x=function(t){return function(r){return e.readFile(r).then(function(e){return S(t)({type:s.lookup(r),data:e})})}},E=function(t){return function(e){return _(t)("{}").then(function(r){return Object.keys(e).reduce(function(r,n){return r.then(function(r){return function(n){return k(t)(n)(r)(e[r])}}(n))},Promise.resolve(r))})}},C=function(t){return function(r){return e.readFile(r).then(_(t))}},A=function(t){return function(n){return function(i){return r.directoryTree(i).then(function(t){return Promise.all(t.map(function(t){return e.readFile(t)})).then(function(e){var r=t.map(function(t){return t.slice(i.length)}),n=t.map(function(t){return s.lookup(t)||"text/plain"});return p(r)(e.map(function(t,e){return{type:n[e],data:t}}))})}).then(function(t){return(e=n?{"":t[n]}:{},function(t){var r={};for(var n in e)r[n]=e[n];for(var i in t)r[i]=t[i];return r})(t);var e}).then(E(t))}}},M=function(t){return function(e){if("data"===e.pick)return h.data().then(_(t));if("file"===e.pick)return h.file().then(S(t));if("directory"===e.pick)return h.directory().then(E(t));if(e.path)switch(e.kind){case"data":return C(t)(e.path);case"file":return x(t)(e.path);case"directory":return A(t)(e.defaultFile)(e.path)}else{if(e.length||"string"==typeof e)return _(t)(e);if(e instanceof Object)return E(t)(e)}return Promise.reject(new Error("Bad arguments"))}},I=function(t){return function(e){return function(r){return N(t)(e).then(function(n){return n?r?w(t)(e)(r):y(t)(e):r?b(t)(e)(r):m(t)(e)})}}},T=function(t,e){var i=n.platform().replace("win32","windows")+"-"+("x64"===n.arch()?"amd64":"386"),o=(e||a)[i],s=c+o.archive+".tar.gz",u=o.archiveMD5,f=o.binaryMD5;return r.safeDownloadArchived(s)(u)(f)(t)},O=function(t){return new Promise(function(e,r){var n=o.spawn,i=function(t){return function(e){return-1!==(""+e).indexOf(t)}},s=t.account,a=t.password,u=t.dataDir,c=t.ensApi,f=t.privateKey,l=0,h=n(t.binPath,["--bzzaccount",s||f,"--datadir",u,"--ens-api",c]),p=function(t){0===l&&i("Passphrase")(t)?setTimeout(function(){l=1,h.stdin.write(a+"\n")},500):i("Swarm http proxy started")(t)&&(l=2,clearTimeout(d),e(h))};h.stdout.on("data",p),h.stderr.on("data",p);var d=setTimeout(function(){return r(new Error("Couldn't start swarm process."))},2e4)})},B=function(t){return new Promise(function(e,r){t.stderr.removeAllListeners("data"),t.stdout.removeAllListeners("data"),t.stdin.removeAllListeners("error"),t.removeAllListeners("error"),t.removeAllListeners("exit"),t.kill("SIGINT");var n=setTimeout(function(){return t.kill("SIGKILL")},8e3);t.once("close",function(){clearTimeout(n),e()})})},P=function(t){return _(t)("test").then(function(t){return"c9a99c7d326dcc6316f32fe2625b311f6dc49a175e6877681ded93137d3569e7"===t}).catch(function(){return!1})},N=function(t){return function(e){return m(t)(e).then(function(t){try{return!!JSON.parse(F(t)).entries}catch(t){return!1}})}},R=function(t){return function(e,r,n,i,o){var s;return void 0!==e&&(s=t(e)),void 0!==r&&(s=t(r)),void 0!==n&&(s=t(n)),void 0!==i&&(s=t(i)),void 0!==o&&(s=t(o)),s}},F=function(t){return f.toString(f.fromUint8Array(t))},j=function(t){return f.toUint8Array(f.fromString(t))},L=function(t){return{download:function(e,r){return I(t)(e)(r)},downloadData:R(m(t)),downloadDataToDisk:R(b(t)),downloadDirectory:R(y(t)),downloadDirectoryToDisk:R(w(t)),downloadEntries:R(g(t)),downloadRoutes:R(v(t)),isAvailable:function(){return P(t)},upload:function(e){return M(t)(e)},uploadData:R(_(t)),uploadFile:R(S(t)),uploadFileFromDisk:R(S(t)),uploadDataFromDisk:R(C(t)),uploadDirectory:R(E(t)),uploadDirectoryFromDisk:R(A(t)),uploadToManifest:R(k(t)),pick:h,hash:l,fromString:j,toString:F}};return{at:L,local:function(t){return function(e){return P("http://localhost:8500").then(function(r){return r?e(L("http://localhost:8500")).then(function(){}):T(t.binPath,t.archives).onData(function(e){return(t.onProgress||function(){})(e.length)}).then(function(){return O(t)}).then(function(t){return e(L("http://localhost:8500")).then(function(){return t})}).then(B)})}},download:I,downloadBinary:T,downloadData:m,downloadDataToDisk:b,downloadDirectory:y,downloadDirectoryToDisk:w,downloadEntries:g,downloadRoutes:v,isAvailable:P,startProcess:O,stopProcess:B,upload:M,uploadData:_,uploadDataFromDisk:C,uploadFile:S,uploadFileFromDisk:x,uploadDirectory:E,uploadDirectoryFromDisk:A,uploadToManifest:k,pick:h,hash:l,fromString:j,toString:F}}},function(t,e){var r=function(t){return function(){return new Promise(function(e,r){var n=function(r){var n={},i=r.target.files.length,o=0;[].map.call(r.target.files,function(r){var s=new FileReader;s.onload=function(s){var a=new Uint8Array(s.target.result);if("directory"===t){var u=r.webkitRelativePath;n[u.slice(u.indexOf("/")+1)]={type:"text/plain",data:a},++o===i&&e(n)}else if("file"===t){var c=r.webkitRelativePath;e({type:mimetype.lookup(c),data:a})}else e(a)},s.readAsArrayBuffer(r)})},i=void 0;"directory"===t?((i=document.createElement("input")).addEventListener("change",n),i.type="file",i.webkitdirectory=!0,i.mozdirectory=!0,i.msdirectory=!0,i.odirectory=!0,i.directory=!0):((i=document.createElement("input")).addEventListener("change",n),i.type="file");var o=document.createEvent("MouseEvents");o.initEvent("click",!0,!1),i.dispatchEvent(o)})}};t.exports={data:r("data"),file:r("file"),directory:r("directory")}},function(t,e,r){var n=r(666).keccak256,i=r(618),o=function(t,e){var r=i.reverse(i.pad(6,i.fromNumber(t))),o=i.flatten([r,"0x0000",e]);return n(o).slice(2)};t.exports=function t(e){"string"==typeof e&&"0x"!==e.slice(0,2)?e=i.fromString(e):"string"!=typeof e&&void 0!==e.length&&(e=i.fromUint8Array(e));var r=i.length(e);if(r<=4096)return o(r,e);for(var n=4096;128*n<r;)n*=128;for(var s=[],a=0;a<r;a+=n){var u=n<r-a?n:r-a;s.push(t(i.slice(e,a,a+u)))}return o(r,i.flatten(s))}},function(t,e){var r=function(t,e){for(var r=[],n=0;n<t;++n)r.push(e(n));return r};t.exports={generate:r,replicate:function(t,e){return r(t,function(){return e})},concat:function(t,e){return t.concat(e)},flatten:function(t){for(var e=[],r=0,n=t.length;r<n;++r)for(var i=0,o=t[r].length;i<o;++i)e.push(t[r][i]);return e},chunksOf:function(t,e){for(var r=[],n=0,i=e.length;n<i;n+=t)r.push(e.slice(n,n+t));return r}}},function(t,e){t.exports=function(t,e){return e?{statusCode:e.statusCode,headers:e.headers,method:t.method,url:t.url,rawRequest:e.rawRequest?e.rawRequest:e}:null}},function(t,e,r){var n=r(619);t.exports=function(t,e,r){if(!n(e))throw new TypeError("iterator must be a function");arguments.length<3&&(r=this);"[object Array]"===i.call(t)?function(t,e,r){for(var n=0,i=t.length;n<i;n++)o.call(t,n)&&e.call(r,t[n],n,t)}(t,e,r):"string"==typeof t?function(t,e,r){for(var n=0,i=t.length;n<i;n++)e.call(r,t.charAt(n),n,t)}(t,e,r):function(t,e,r){for(var n in t)o.call(t,n)&&e.call(r,t[n],n,t)}(t,e,r)};var i=Object.prototype.toString,o=Object.prototype.hasOwnProperty},function(t,e){(e=t.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}},function(t,e,r){var n=r(1533),i=r(1532);t.exports=function(t){if(!t)return{};var e={};return i(n(t).split("\n"),function(t){var r,i=t.indexOf(":"),o=n(t.slice(0,i)).toLowerCase(),s=n(t.slice(i+1));void 0===e[o]?e[o]=s:(r=e[o],"[object Array]"===Object.prototype.toString.call(r)?e[o].push(s):e[o]=[e[o],s])}),e}},function(t,e,r){(function(e){var r;r="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=r}).call(this,r(7))},function(t,e,r){"use strict";var n=r(1535),i=r(619),o=r(1534),s=r(79);function a(t,e,r){var n=t;return i(e)?(r=e,"string"==typeof t&&(n={uri:t})):n=s(e,{uri:t}),n.callback=r,n}function u(t,e,r){return c(e=a(t,e,r))}function c(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,r=function(r,n,i){e||(e=!0,t.callback(r,n,i))};function n(t){return clearTimeout(f),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,r(t,v)}function i(){if(!a){var e;clearTimeout(f),e=t.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var n=v,i=null;return 0!==e?(n={body:function(){var t=void 0;if(t=c.response?c.response:c.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(t){}return null}(c),g)try{t=JSON.parse(t)}catch(t){}return t}(),statusCode:e,method:h,headers:{},url:l,rawRequest:c},c.getAllResponseHeaders&&(n.headers=o(c.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),r(i,n,n.body)}}var s,a,c=t.xhr||null;c||(c=t.cors||t.useXDR?new u.XDomainRequest:new u.XMLHttpRequest);var f,l=c.url=t.uri||t.url,h=c.method=t.method||"GET",p=t.body||t.data,d=c.headers=t.headers||{},m=!!t.sync,g=!1,v={body:void 0,headers:{},statusCode:0,method:h,url:l,rawRequest:c};if("json"in t&&!1!==t.json&&(g=!0,d.accept||d.Accept||(d.Accept="application/json"),"GET"!==h&&"HEAD"!==h&&(d["content-type"]||d["Content-Type"]||(d["Content-Type"]="application/json"),p=JSON.stringify(!0===t.json?p:t.json))),c.onreadystatechange=function(){4===c.readyState&&setTimeout(i,0)},c.onload=i,c.onerror=n,c.onprogress=function(){},c.onabort=function(){a=!0},c.ontimeout=n,c.open(h,l,!m,t.username,t.password),m||(c.withCredentials=!!t.withCredentials),!m&&t.timeout>0&&(f=setTimeout(function(){if(!a){a=!0,c.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",n(t)}},t.timeout)),c.setRequestHeader)for(s in d)d.hasOwnProperty(s)&&c.setRequestHeader(s,d[s]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(c.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(c),c.send(p||null),c}t.exports=u,u.XMLHttpRequest=n.XMLHttpRequest||function(){},u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:n.XDomainRequest,function(t,e){for(var r=0;r<t.length;r++)e(t[r])}(["get","put","post","patch","head","delete"],function(t){u["delete"===t?"del":t]=function(e,r,n){return(r=a(e,r,n)).method=t.toUpperCase(),c(r)}})},function(t,e,r){var n=r(1536),i=r(1531),o=function(){};t.exports=function(t,e){delete t.uri;var r=!1;"json"===t.responseType&&(t.responseType="text",r=!0);var s=n(t,function(n,s,a){if(r&&!n)try{var u=s.rawRequest.responseText;a=JSON.parse(u)}catch(t){n=t}s=i(t,s),e(n,n?null:a,s),e=o}),a=s.onabort;return s.onabort=function(){var t=a.apply(s,Array.prototype.slice.call(arguments));return e(new Error("XHR Aborted")),e=o,t},s}},function(t,e){t.exports=function(t,e,r){var n=e.toLowerCase();t[e]||t[n]||(t[e]=r)}},function(t,e){t.exports=function(t,e){if(e){e=(e=e.trim().replace(/^(\?|#|&)/,""))?"?"+e:e;var r=t.split(/[\?\#]/),n=r[0];e&&/\:\/\/[^\/]*$/.test(n)&&(n+="/");var i=t.match(/(\#.*)$/);t=n+e,i&&(t+=i[0])}return t}},function(t,e,r){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function o(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],o(r),o(n))}function s(t){try{return decodeURIComponent(t)}catch(i){for(var e=t.match(n),r=1;r<e.length;r++)e=(t=o(e,r).join("")).match(n);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},r=i.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch(t){var n=s(r[0]);n!==r[0]&&(e[r[0]]=n)}r=i.exec(t)}e["%C2"]="�";for(var o=Object.keys(e),a=0;a<o.length;a++){var u=o[a];t=t.replace(new RegExp(u,"g"),e[u])}return t}(t)}}},function(t,e,r){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},function(t,e,r){"use strict";var n=r(1541),i=r(165),o=r(1540);function s(t,e){return e.encode?e.strict?n(t):encodeURIComponent(t):t}function a(t){var e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function u(t,e){var r=function(t){var e;switch(t.arrayFormat){case"index":return function(t,r,n){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=r):n[t]=r};case"bracket":return function(t,r,n){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};default:return function(t,e,r){void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e=i({arrayFormat:"none"},e)),n=Object.create(null);return"string"!=typeof t?n:(t=t.trim().replace(/^[?#&]/,""))?(t.split("&").forEach(function(t){var e=t.replace(/\+/g," ").split("="),i=e.shift(),s=e.length>0?e.join("="):void 0;s=void 0===s?null:o(s),r(o(i),s,n)}),Object.keys(n).sort().reduce(function(t,e){var r=n[e];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort(function(t,e){return Number(t)-Number(e)}).map(function(t){return e[t]}):e}(r):t[e]=r,t},Object.create(null))):n}e.extract=a,e.parse=u,e.stringify=function(t,e){!1===(e=i({encode:!0,strict:!0,arrayFormat:"none"},e)).sort&&(e.sort=function(){});var r=function(t){switch(t.arrayFormat){case"index":return function(e,r,n){return null===r?[s(e,t),"[",n,"]"].join(""):[s(e,t),"[",s(n,t),"]=",s(r,t)].join("")};case"bracket":return function(e,r){return null===r?s(e,t):[s(e,t),"[]=",s(r,t)].join("")};default:return function(e,r){return null===r?s(e,t):[s(e,t),"=",s(r,t)].join("")}}}(e);return t?Object.keys(t).sort(e.sort).map(function(n){var i=t[n];if(void 0===i)return"";if(null===i)return s(n,e);if(Array.isArray(i)){var o=[];return i.slice().forEach(function(t){void 0!==t&&o.push(r(n,t,o.length))}),o.join("&")}return s(n,e)+"="+s(i,e)}).filter(function(t){return t.length>0}).join("&"):""},e.parseUrl=function(t,e){return{url:t.split("?")[0]||"",query:u(a(t),e)}}},function(t,e,r){var n=r(1542),i=r(1539),o=r(165),s=r(1538),a=r(1537),u="application/json",c=function(){};t.exports=function(t,e,r){if(!t||"string"!=typeof t)throw new TypeError("must specify a URL");"function"==typeof e&&(r=e,e={});if(r&&"function"!=typeof r)throw new TypeError("expected cb to be undefined or a function");r=r||c;var f=(e=e||{}).json?"json":"text",l=(e=o({responseType:f},e)).headers||{},h=(e.method||"GET").toUpperCase(),p=e.query;p&&("string"!=typeof p&&(p=n.stringify(p)),t=i(t,p));"json"===e.responseType&&s(l,"Accept",u);e.json&&"GET"!==h&&"HEAD"!==h&&(s(l,"Content-Type",u),e.body=JSON.stringify(e.body));return e.method=h,e.url=t,e.headers=l,delete e.query,delete e.json,a(e,r)}},function(t,e,r){var n=r(1543);t.exports=function(t,e){return new Promise(function(r,i){n(t,e,function(t,e){t?i(t):r(e)})})}},function(t,e,r){var n=function(){throw"This swarm.js function isn't available on the browser."},i={readFile:n},o={download:n,safeDownloadArchived:n,directoryTree:n},s={platform:n,arch:n},a={join:n,slice:n},u={spawn:n},c={lookup:n},f=r(1544),l=r(618),h=r(1529),p=r(1528),d=r(1527);t.exports=d({fsp:i,files:o,os:s,path:a,child_process:u,defaultArchives:{},mimetype:c,request:f,downloadUrl:null,bytes:l,hash:h,pick:p})},function(t,e,r){var n;(function(){var r=this,i=r._,o=Array.prototype,s=Object.prototype,a=Function.prototype,u=o.push,c=o.slice,f=s.toString,l=s.hasOwnProperty,h=Array.isArray,p=Object.keys,d=a.bind,m=Object.create,g=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};void 0!==t&&t.exports&&(e=t.exports=v),e._=v,v.VERSION="1.8.3";var y=function(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)}}return function(){return t.apply(e,arguments)}},b=function(t,e,r){return null==t?v.identity:v.isFunction(t)?y(t,e,r):v.isObject(t)?v.matcher(t):v.property(t)};v.iteratee=function(t,e){return b(t,e,1/0)};var w=function(t,e){return function(r){var n=arguments.length;if(n<2||null==r)return r;for(var i=1;i<n;i++)for(var o=arguments[i],s=t(o),a=s.length,u=0;u<a;u++){var c=s[u];e&&void 0!==r[c]||(r[c]=o[c])}return r}},_=function(t){if(!v.isObject(t))return{};if(m)return m(t);g.prototype=t;var e=new g;return g.prototype=null,e},k=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,x=k("length"),E=function(t){var e=x(t);return"number"==typeof e&&e>=0&&e<=S};function C(t){return function(e,r,n,i){r=y(r,i,4);var o=!E(e)&&v.keys(e),s=(o||e).length,a=t>0?0:s-1;return arguments.length<3&&(n=e[o?o[a]:a],a+=t),function(e,r,n,i,o,s){for(;o>=0&&o<s;o+=t){var a=i?i[o]:o;n=r(n,e[a],a,e)}return n}(e,r,n,o,a,s)}}v.each=v.forEach=function(t,e,r){var n,i;if(e=y(e,r),E(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else{var o=v.keys(t);for(n=0,i=o.length;n<i;n++)e(t[o[n]],o[n],t)}return t},v.map=v.collect=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=Array(i),s=0;s<i;s++){var a=n?n[s]:s;o[s]=e(t[a],a,t)}return o},v.reduce=v.foldl=v.inject=C(1),v.reduceRight=v.foldr=C(-1),v.find=v.detect=function(t,e,r){var n;if(void 0!==(n=E(t)?v.findIndex(t,e,r):v.findKey(t,e,r))&&-1!==n)return t[n]},v.filter=v.select=function(t,e,r){var n=[];return e=b(e,r),v.each(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n},v.reject=function(t,e,r){return v.filter(t,v.negate(b(e)),r)},v.every=v.all=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(!e(t[s],s,t))return!1}return!0},v.some=v.any=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(e(t[s],s,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,r,n){return E(t)||(t=v.values(t)),("number"!=typeof r||n)&&(r=0),v.indexOf(t,e,r)>=0},v.invoke=function(t,e){var r=c.call(arguments,2),n=v.isFunction(e);return v.map(t,function(t){var i=n?e:t[e];return null==i?i:i.apply(t,r)})},v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,r){var n,i,o=-1/0,s=-1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])>o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)});return o},v.min=function(t,e,r){var n,i,o=1/0,s=1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])<o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))<s||i===1/0&&o===1/0)&&(o=t,s=i)});return o},v.shuffle=function(t){for(var e,r=E(t)?t:v.values(t),n=r.length,i=Array(n),o=0;o<n;o++)(e=v.random(0,o))!==o&&(i[o]=i[e]),i[e]=r[o];return i},v.sample=function(t,e,r){return null==e||r?(E(t)||(t=v.values(t)),t[v.random(t.length-1)]):v.shuffle(t).slice(0,Math.max(0,e))},v.sortBy=function(t,e,r){return e=b(e,r),v.pluck(v.map(t,function(t,r,n){return{value:t,index:r,criteria:e(t,r,n)}}).sort(function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index}),"value")};var A=function(t){return function(e,r,n){var i={};return r=b(r,n),v.each(e,function(n,o){var s=r(n,o,e);t(i,n,s)}),i}};v.groupBy=A(function(t,e,r){v.has(t,r)?t[r].push(e):t[r]=[e]}),v.indexBy=A(function(t,e,r){t[r]=e}),v.countBy=A(function(t,e,r){v.has(t,r)?t[r]++:t[r]=1}),v.toArray=function(t){return t?v.isArray(t)?c.call(t):E(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:E(t)?t.length:v.keys(t).length},v.partition=function(t,e,r){e=b(e,r);var n=[],i=[];return v.each(t,function(t,r,o){(e(t,r,o)?n:i).push(t)}),[n,i]},v.first=v.head=v.take=function(t,e,r){if(null!=t)return null==e||r?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,r){return c.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))},v.last=function(t,e,r){if(null!=t)return null==e||r?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,r){return c.call(t,null==e||r?1:e)},v.compact=function(t){return v.filter(t,v.identity)};var M=function(t,e,r,n){for(var i=[],o=0,s=n||0,a=x(t);s<a;s++){var u=t[s];if(E(u)&&(v.isArray(u)||v.isArguments(u))){e||(u=M(u,e,r));var c=0,f=u.length;for(i.length+=f;c<f;)i[o++]=u[c++]}else r||(i[o++]=u)}return i};function I(t){return function(e,r,n){r=b(r,n);for(var i=x(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(r(e[o],o,e))return o;return-1}}function T(t,e,r){return function(n,i,o){var s=0,a=x(n);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(r&&o&&a)return n[o=r(n,i)]===i?o:-1;if(i!=i)return(o=e(c.call(n,s,a),v.isNaN))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(n[o]===i)return o;return-1}}v.flatten=function(t,e){return M(t,e,!1)},v.without=function(t){return v.difference(t,c.call(arguments,1))},v.uniq=v.unique=function(t,e,r,n){v.isBoolean(e)||(n=r,r=e,e=!1),null!=r&&(r=b(r,n));for(var i=[],o=[],s=0,a=x(t);s<a;s++){var u=t[s],c=r?r(u,s,t):u;e?(s&&o===c||i.push(u),o=c):r?v.contains(o,c)||(o.push(c),i.push(u)):v.contains(i,u)||i.push(u)}return i},v.union=function(){return v.uniq(M(arguments,!0,!0))},v.intersection=function(t){for(var e=[],r=arguments.length,n=0,i=x(t);n<i;n++){var o=t[n];if(!v.contains(e,o)){for(var s=1;s<r&&v.contains(arguments[s],o);s++);s===r&&e.push(o)}}return e},v.difference=function(t){var e=M(arguments,!0,!0,1);return v.filter(t,function(t){return!v.contains(e,t)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(t){for(var e=t&&v.max(t,x).length||0,r=Array(e),n=0;n<e;n++)r[n]=v.pluck(t,n);return r},v.object=function(t,e){for(var r={},n=0,i=x(t);n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r},v.findIndex=I(1),v.findLastIndex=I(-1),v.sortedIndex=function(t,e,r,n){for(var i=(r=b(r,n,1))(e),o=0,s=x(t);o<s;){var a=Math.floor((o+s)/2);r(t[a])<i?o=a+1:s=a}return o},v.indexOf=T(1,v.findIndex,v.sortedIndex),v.lastIndexOf=T(-1,v.findLastIndex),v.range=function(t,e,r){null==e&&(e=t||0,t=0),r=r||1;for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),o=0;o<n;o++,t+=r)i[o]=t;return i};var O=function(t,e,r,n,i){if(!(n instanceof e))return t.apply(r,i);var o=_(t.prototype),s=t.apply(o,i);return v.isObject(s)?s:o};v.bind=function(t,e){if(d&&t.bind===d)return d.apply(t,c.call(arguments,1));if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var r=c.call(arguments,2),n=function(){return O(t,n,e,this,r.concat(c.call(arguments)))};return n},v.partial=function(t){var e=c.call(arguments,1),r=function(){for(var n=0,i=e.length,o=Array(i),s=0;s<i;s++)o[s]=e[s]===v?arguments[n++]:e[s];for(;n<arguments.length;)o.push(arguments[n++]);return O(t,r,this,this,o)};return r},v.bindAll=function(t){var e,r,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)t[r=arguments[e]]=v.bind(t[r],t);return t},v.memoize=function(t,e){var r=function(n){var i=r.cache,o=""+(e?e.apply(this,arguments):n);return v.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return r.cache={},r},v.delay=function(t,e){var r=c.call(arguments,2);return setTimeout(function(){return t.apply(null,r)},e)},v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,r){var n,i,o,s=null,a=0;r||(r={});var u=function(){a=!1===r.leading?0:v.now(),s=null,o=t.apply(n,i),s||(n=i=null)};return function(){var c=v.now();a||!1!==r.leading||(a=c);var f=e-(c-a);return n=this,i=arguments,f<=0||f>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(n,i),s||(n=i=null)):s||!1===r.trailing||(s=setTimeout(u,f)),o}},v.debounce=function(t,e,r){var n,i,o,s,a,u=function(){var c=v.now()-s;c<e&&c>=0?n=setTimeout(u,e-c):(n=null,r||(a=t.apply(o,i),n||(o=i=null)))};return function(){o=this,i=arguments,s=v.now();var c=r&&!n;return n||(n=setTimeout(u,e)),c&&(a=t.apply(o,i),o=i=null),a}},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.before=function(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}},v.once=v.partial(v.before,2);var B=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function N(t,e){var r=P.length,n=t.constructor,i=v.isFunction(n)&&n.prototype||s,o="constructor";for(v.has(t,o)&&!v.contains(e,o)&&e.push(o);r--;)(o=P[r])in t&&t[o]!==i[o]&&!v.contains(e,o)&&e.push(o)}v.keys=function(t){if(!v.isObject(t))return[];if(p)return p(t);var e=[];for(var r in t)v.has(t,r)&&e.push(r);return B&&N(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var r in t)e.push(r);return B&&N(t,e),e},v.values=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n},v.mapObject=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=i.length,s={},a=0;a<o;a++)s[n=i[a]]=e(t[n],n,t);return s},v.pairs=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=[e[i],t[e[i]]];return n},v.invert=function(t){for(var e={},r=v.keys(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e},v.functions=v.methods=function(t){var e=[];for(var r in t)v.isFunction(t[r])&&e.push(r);return e.sort()},v.extend=w(v.allKeys),v.extendOwn=v.assign=w(v.keys),v.findKey=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=0,s=i.length;o<s;o++)if(e(t[n=i[o]],n,t))return n},v.pick=function(t,e,r){var n,i,o={},s=t;if(null==s)return o;v.isFunction(e)?(i=v.allKeys(s),n=y(e,r)):(i=M(arguments,!1,!1,1),n=function(t,e,r){return e in r},s=Object(s));for(var a=0,u=i.length;a<u;a++){var c=i[a],f=s[c];n(f,c,s)&&(o[c]=f)}return o},v.omit=function(t,e,r){if(v.isFunction(e))e=v.negate(e);else{var n=v.map(M(arguments,!1,!1,1),String);e=function(t,e){return!v.contains(n,e)}}return v.pick(t,e,r)},v.defaults=w(v.allKeys,!0),v.create=function(t,e){var r=_(t);return e&&v.extendOwn(r,e),r},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var r=v.keys(e),n=r.length;if(null==t)return!n;for(var i=Object(t),o=0;o<n;o++){var s=r[o];if(e[s]!==i[s]||!(s in i))return!1}return!0};var R=function(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var i=f.call(t);if(i!==f.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===t)return n[u]===e;if(r.push(t),n.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!R(t[u],e[u],r,n))return!1}else{var c,l=v.keys(t);if(u=l.length,v.keys(e).length!==u)return!1;for(;u--;)if(c=l[u],!v.has(e,c)||!R(t[c],e[c],r,n))return!1}return r.pop(),n.pop(),!0};v.isEqual=function(t,e){return R(t,e)},v.isEmpty=function(t){return null==t||(E(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=h||function(t){return"[object Array]"===f.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){v["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return v.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&t!==+t},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){return null!=t&&l.call(t,e)},v.noConflict=function(){return r._=i,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=k,v.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,r){var n=Array(Math.max(0,t));e=y(e,r,1);for(var i=0;i<t;i++)n[i]=e(i);return n},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=v.invert(F),L=function(t){var e=function(e){return t[e]},r="(?:"+v.keys(t).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(i,e):t}};v.escape=L(F),v.unescape=L(j),v.result=function(t,e,r){var n=null==t?void 0:t[e];return void 0===n&&(n=r),v.isFunction(n)?n.call(t):n};var D=0;v.uniqueId=function(t){var e=++D+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,K=function(t){return"\\"+z[t]};v.template=function(t,e,r){!e&&r&&(e=r),e=v.defaults({},e,v.templateSettings);var n=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(n,function(e,r,n,s,a){return o+=t.slice(i,a).replace(H,K),i=a+e.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,v)},u=e.variable||"obj";return a.source="function("+u+"){\n"+o+"}",a},v.chain=function(t){var e=v(t);return e._chain=!0,e};var q=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){v.each(v.functions(t),function(e){var r=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),q(this,r.apply(v,t))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];v.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0],q(this,r)}}),v.each(["concat","join","slice"],function(t){var e=o[t];v.prototype[t]=function(){return q(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},void 0===(n=function(){return v}.apply(e,[]))||(t.exports=n)}).call(this)},function(t,e,r){"use strict";var n=r(1546),i=r(1545),o=function t(e){this.givenProvider=t.givenProvider,e&&e._requestManager&&(e=e.currentProvider),"undefined"!=typeof document&&(this.pick=i.pick),this.setProvider(e)};o.givenProvider=null,"undefined"!=typeof ethereumProvider&&ethereumProvider.bzz&&(o.givenProvider=ethereumProvider.bzz),o.prototype.setProvider=function(t){if(n.isObject(t)&&n.isString(t.bzz)&&(t=t.bzz),!n.isString(t)){this.currentProvider=null;var e=new Error("No provider set, please set one using bzz.setProvider().");return this.download=this.upload=this.isAvailable=function(){throw e},!1}return this.currentProvider=t,this.download=i.at(t).download,this.upload=i.at(t).upload,this.isAvailable=i.at(t).isAvailable,!0},t.exports=o},function(t,e,r){"use strict";var n=r(110),i=r(235).subscriptions,o=r(109),s=r(234),a=function(){var t=this;n.packageInit(this,arguments);var e=this.setProvider;this.setProvider=function(){e.apply(t,arguments),t.net.setProvider.apply(t,arguments)},this.clearSubscriptions=t._requestManager.clearSubscriptions,this.net=new s(this.currentProvider),[new i({name:"subscribe",type:"shh",subscriptions:{messages:{params:1}}}),new o({name:"getVersion",call:"shh_version",params:0}),new o({name:"getInfo",call:"shh_info",params:0}),new o({name:"setMaxMessageSize",call:"shh_setMaxMessageSize",params:1}),new o({name:"setMinPoW",call:"shh_setMinPoW",params:1}),new o({name:"markTrustedPeer",call:"shh_markTrustedPeer",params:1}),new o({name:"newKeyPair",call:"shh_newKeyPair",params:0}),new o({name:"addPrivateKey",call:"shh_addPrivateKey",params:1}),new o({name:"deleteKeyPair",call:"shh_deleteKeyPair",params:1}),new o({name:"hasKeyPair",call:"shh_hasKeyPair",params:1}),new o({name:"getPublicKey",call:"shh_getPublicKey",params:1}),new o({name:"getPrivateKey",call:"shh_getPrivateKey",params:1}),new o({name:"newSymKey",call:"shh_newSymKey",params:0}),new o({name:"addSymKey",call:"shh_addSymKey",params:1}),new o({name:"generateSymKeyFromPassword",call:"shh_generateSymKeyFromPassword",params:1}),new o({name:"hasSymKey",call:"shh_hasSymKey",params:1}),new o({name:"getSymKey",call:"shh_getSymKey",params:1}),new o({name:"deleteSymKey",call:"shh_deleteSymKey",params:1}),new o({name:"newMessageFilter",call:"shh_newMessageFilter",params:1}),new o({name:"getFilterMessages",call:"shh_getFilterMessages",params:1}),new o({name:"deleteMessageFilter",call:"shh_deleteMessageFilter",params:1}),new o({name:"post",call:"shh_post",params:1,inputFormatter:[null]})].forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager)})};n.addProviders(a),t.exports=a},function(t,e,r){"use strict";var n=r(660);t.exports=function(t){var e,r=this;return this.net.getId().then(function(t){return e=t,r.getBlock(0)}).then(function(r){var i="private";return"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3"===r.hash&&1===e&&(i="main"),"0cd786a2425d16f152c658316c423e6ce1181e15c3295826d7c9904cba9ce303"===r.hash&&2===e&&(i="morden"),"0x41941023680923e0fe4d74a34bdac8141f2540e3ae90623718e47d66d1ca4a2d"===r.hash&&3===e&&(i="ropsten"),"0x6341fd3daf94b748c72ced5a5b26028f2474f5f00d824504e4fa37a75767e177"===r.hash&&4===e&&(i="rinkeby"),"0xa3c565fc15c7478862d50ccd6561e3c06b24cc509bf388941c25ea985ce32cb9"===r.hash&&42===e&&(i="kovan"),n.isFunction(t)&&t(null,i),i}).catch(function(e){if(!n.isFunction(t))throw e;t(e)})}},function(t,e,r){(function(e){var r;if(e.crypto&&crypto.getRandomValues){var n=new Uint8Array(16);r=function(){return crypto.getRandomValues(n),n}}if(!r){var i=new Array(16);r=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}t.exports=r}).call(this,r(7))},function(t,e,r){for(var n=r(1550),i=[],o={},s=0;s<256;s++)i[s]=(s+256).toString(16).substr(1),o[i[s]]=s;function a(t,e){var r=e||0,n=i;return n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]}var u=n(),c=[1|u[0],u[1],u[2],u[3],u[4],u[5]],f=16383&(u[6]<<8|u[7]),l=0,h=0;function p(t,e,r){var i=e&&r||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var s=0;s<16;s++)e[i+s]=o[s];return e||a(o)}var d=p;d.v1=function(t,e,r){var n=e&&r||0,i=e||[],o=void 0!==(t=t||{}).clockseq?t.clockseq:f,s=void 0!==t.msecs?t.msecs:(new Date).getTime(),u=void 0!==t.nsecs?t.nsecs:h+1,p=s-l+(u-h)/1e4;if(p<0&&void 0===t.clockseq&&(o=o+1&16383),(p<0||s>l)&&void 0===t.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=s,h=u,f=o;var d=(1e4*(268435455&(s+=122192928e5))+u)%4294967296;i[n++]=d>>>24&255,i[n++]=d>>>16&255,i[n++]=d>>>8&255,i[n++]=255&d;var m=s/4294967296*1e4&268435455;i[n++]=m>>>8&255,i[n++]=255&m,i[n++]=m>>>24&15|16,i[n++]=m>>>16&255,i[n++]=o>>>8|128,i[n++]=255&o;for(var g=t.node||c,v=0;v<6;v++)i[n+v]=g[v];return e||a(i)},d.v4=p,d.parse=function(t,e,r){var n=e&&r||0,i=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){i<16&&(e[n+i++]=o[t])});i<16;)e[n+i++]=0;return e},d.unparse=a,t.exports=d},function(t,e,r){(function(e){var n=r(361).pbkdf2Sync,i=2147483647;function o(t,r,n,i,o){if(e.isBuffer(t)&&e.isBuffer(n))t.copy(n,i,r,r+o);else for(;o--;)n[i++]=t[r++]}t.exports=function(t,r,s,a,u,c,f){if(0===s||0!=(s&s-1))throw Error("N must be > 0 and a power of 2");if(s>i/128/a)throw Error("Parameter N is too large");if(a>i/128/u)throw Error("Parameter r is too large");var l,h=new e(256*a),p=new e(128*a*s),d=new Int32Array(16),m=new Int32Array(16),g=new e(64),v=n(t,r,1,128*u*a,"sha256");if(f){var y=u*s*2,b=0;l=function(){++b%1e3==0&&f({current:b,total:y,percent:b/y*100})}}for(var w=0;w<u;w++)_(v,128*w*a,a,s,p,h);return n(t,v,1,c,"sha256");function _(t,e,r,n,i,o){var s,a=128*r;for(t.copy(o,0,e,e+a),s=0;s<n;s++)o.copy(i,s*a,0,0+a),k(o,0,a,r),l&&l();for(s=0;s<n;s++){var u=0+64*(2*r-1);E(i,(o.readUInt32LE(u)&n-1)*a,o,0,a),k(o,0,a,r),l&&l()}o.copy(t,e,0,0+a)}function k(t,e,r,n){var i;for(o(t,e+64*(2*n-1),g,0,64),i=0;i<2*n;i++)E(t,64*i,g,0,64),x(g),o(g,0,t,r+64*i,64);for(i=0;i<n;i++)o(t,r+2*i*64,t,e+64*i,64);for(i=0;i<n;i++)o(t,r+64*(2*i+1),t,e+64*(i+n),64)}function S(t,e){return t<<e|t>>>32-e}function x(t){var e;for(e=0;e<16;e++)d[e]=(255&t[4*e+0])<<0,d[e]|=(255&t[4*e+1])<<8,d[e]|=(255&t[4*e+2])<<16,d[e]|=(255&t[4*e+3])<<24;for(o(d,0,m,0,16),e=8;e>0;e-=2)m[4]^=S(m[0]+m[12],7),m[8]^=S(m[4]+m[0],9),m[12]^=S(m[8]+m[4],13),m[0]^=S(m[12]+m[8],18),m[9]^=S(m[5]+m[1],7),m[13]^=S(m[9]+m[5],9),m[1]^=S(m[13]+m[9],13),m[5]^=S(m[1]+m[13],18),m[14]^=S(m[10]+m[6],7),m[2]^=S(m[14]+m[10],9),m[6]^=S(m[2]+m[14],13),m[10]^=S(m[6]+m[2],18),m[3]^=S(m[15]+m[11],7),m[7]^=S(m[3]+m[15],9),m[11]^=S(m[7]+m[3],13),m[15]^=S(m[11]+m[7],18),m[1]^=S(m[0]+m[3],7),m[2]^=S(m[1]+m[0],9),m[3]^=S(m[2]+m[1],13),m[0]^=S(m[3]+m[2],18),m[6]^=S(m[5]+m[4],7),m[7]^=S(m[6]+m[5],9),m[4]^=S(m[7]+m[6],13),m[5]^=S(m[4]+m[7],18),m[11]^=S(m[10]+m[9],7),m[8]^=S(m[11]+m[10],9),m[9]^=S(m[8]+m[11],13),m[10]^=S(m[9]+m[8],18),m[12]^=S(m[15]+m[14],7),m[13]^=S(m[12]+m[15],9),m[14]^=S(m[13]+m[12],13),m[15]^=S(m[14]+m[13],18);for(e=0;e<16;++e)d[e]=m[e]+d[e];for(e=0;e<16;e++){var r=4*e;t[r+0]=d[e]>>0&255,t[r+1]=d[e]>>8&255,t[r+2]=d[e]>>16&255,t[r+3]=d[e]>>24&255}}function E(t,e,r,n,i){for(var o=0;o<i;o++)r[n+o]^=t[e+o]}}}).call(this,r(0).Buffer)},function(t,e,r){t.exports=r(1552)},function(t,e,r){"use strict";(function(t,n){function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=r(3),s=r(89),a=o.Buffer,u=o.kMaxLength,c=t.crypto||t.msCrypto,f=Math.pow(2,32)-1;function l(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>f||t<0)throw new TypeError("offset must be a uint32");if(t>u||t>e)throw new RangeError("offset out of range")}function h(t,e,r){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>f||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>u)throw new RangeError("buffer too small")}function p(t,e,r,i){if(n.browser){var o=t.buffer,a=new Uint8Array(o,e,r);return c.getRandomValues(a),i?void n.nextTick(function(){i(null,t)}):t}if(!i)return s(r).copy(t,e),t;s(r,function(r,n){if(r)return i(r);n.copy(t,e),i(null,t)})}c&&c.getRandomValues||!n.browser?(e.randomFill=function(e,r,n,i){if(!(a.isBuffer(e)||e instanceof t.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof r)i=r,r=0,n=e.length;else if("function"==typeof n)i=n,n=e.length-r;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return l(r,e.length),h(n,r,e.length),p(e,r,n,i)},e.randomFillSync=function(e,r,n){void 0===r&&(r=0);if(!(a.isBuffer(e)||e instanceof t.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');l(r,e.length),void 0===n&&(n=e.length-r);return h(n,r,e.length),p(e,r,n)}):(e.randomFill=i,e.randomFillSync=i)}).call(this,r(7),r(2))},function(t,e,r){(function(e){var n=r(228),i=r(625),o=r(624),s=r(19),a=r(358),u=r(51),c=r(623);t.exports=function(t,r,f){var l;l=t.padding?t.padding:f?1:4;var h,p=n(t),d=p.modulus.byteLength();if(r.length>d||new s(r).cmp(p.modulus)>=0)throw new Error("decryption error");h=f?c(new s(r),p):a(r,p);var m=new e(d-h.length);if(m.fill(0),h=e.concat([m,h],d),4===l)return function(t,r){t.modulus;var n=t.modulus.byteLength(),s=(r.length,u("sha1").update(new e("")).digest()),a=s.length;if(0!==r[0])throw new Error("decryption error");var c=r.slice(1,a+1),f=r.slice(a+1),l=o(c,i(f,a)),h=o(f,i(l,n-a-1));if(function(t,r){t=new e(t),r=new e(r);var n=0,i=t.length;t.length!==r.length&&(n++,i=Math.min(t.length,r.length));var o=-1;for(;++o<i;)n+=t[o]^r[o];return n}(s,h.slice(0,a)))throw new Error("decryption error");var p=a;for(;0===h[p];)p++;if(1!==h[p++])throw new Error("decryption error");return h.slice(p)}(p,h);if(1===l)return function(t,e,r){var n=e.slice(0,2),i=2,o=0;for(;0!==e[i++];)if(i>=e.length){o++;break}var s=e.slice(2,i-1);e.slice(i-1,i);("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&o++;s.length<8&&o++;if(o)throw new Error("decryption error");return e.slice(i)}(0,h,f);if(3===l)return h;throw new Error("unknown padding")}}).call(this,r(0).Buffer)},function(t,e,r){(function(e){var n=r(228),i=r(89),o=r(51),s=r(625),a=r(624),u=r(19),c=r(623),f=r(358);t.exports=function(t,r,l){var h;h=t.padding?t.padding:l?1:4;var p,d=n(t);if(4===h)p=function(t,r){var n=t.modulus.byteLength(),c=r.length,f=o("sha1").update(new e("")).digest(),l=f.length,h=2*l;if(c>n-h-2)throw new Error("message too long");var p=new e(n-c-h-2);p.fill(0);var d=n-l-1,m=i(l),g=a(e.concat([f,p,new e([1]),r],d),s(m,d)),v=a(m,s(g,l));return new u(e.concat([new e([0]),v,g],n))}(d,r);else if(1===h)p=function(t,r,n){var o,s=r.length,a=t.modulus.byteLength();if(s>a-11)throw new Error("message too long");n?(o=new e(a-s-3)).fill(255):o=function(t,r){var n,o=new e(t),s=0,a=i(2*t),u=0;for(;s<t;)u===a.length&&(a=i(2*t),u=0),(n=a[u++])&&(o[s++]=n);return o}(a-s-3);return new u(e.concat([new e([0,n?1:2]),o,new e([0]),r],a))}(d,r,l);else{if(3!==h)throw new Error("unknown padding");if((p=new u(r)).cmp(d.modulus)>=0)throw new Error("data too long for modulus")}return l?f(p,d):c(p,d)}}).call(this,r(0).Buffer)},function(t,e,r){e.publicEncrypt=r(1556),e.privateDecrypt=r(1555),e.privateEncrypt=function(t,r){return e.publicEncrypt(t,r,!0)},e.publicDecrypt=function(t,r){return e.privateDecrypt(t,r,!0)}},function(t,e,r){(function(e){var n=r(39),i=r(19);t.exports=function(t){return new s(t)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function s(t){this.curveType=o[t],this.curveType||(this.curveType={name:t}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function a(t,r,n){Array.isArray(t)||(t=t.toArray());var i=new e(t);if(n&&i.length<n){var o=new e(n-i.length);o.fill(0),i=e.concat([o,i])}return r?i.toString(r):i}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,s.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},s.prototype.computeSecret=function(t,r,n){return r=r||"utf8",e.isBuffer(t)||(t=new e(t,r)),a(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),n,this.curveType.byteLength)},s.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(r[r.length-1]%2?r[0]=7:r[0]=6),a(r,t)},s.prototype.getPrivateKey=function(t){return a(this.keys.getPrivate(),t)},s.prototype.setPublicKey=function(t,r){return r=r||"utf8",e.isBuffer(t)||(t=new e(t,r)),this.keys._importPublic(t),this},s.prototype.setPrivateKey=function(t,r){r=r||"utf8",e.isBuffer(t)||(t=new e(t,r));var n=new i(t);return n=n.toString(16),this.keys._importPrivate(n),this}}).call(this,r(0).Buffer)},function(t,e,r){(function(e){var n=r(19),i=r(39).ec,o=r(228),s=r(626);function a(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}t.exports=function(t,r,u,c,f){var l=o(u);if("ec"===l.type){if("ecdsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");return function(t,e,r){var n=s[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var o=new i(n),a=r.data.subjectPrivateKey.data;return o.verify(e,t,a)}(t,r,l)}if("dsa"===l.type){if("dsa"!==c)throw new Error("wrong public key type");return function(t,e,r){var i=r.data.p,s=r.data.q,u=r.data.g,c=r.data.pub_key,f=o.signature.decode(t,"der"),l=f.s,h=f.r;a(l,s),a(h,s);var p=n.mont(i),d=l.invm(s);return 0===u.toRed(p).redPow(new n(e).mul(d).mod(s)).fromRed().mul(c.toRed(p).redPow(h.mul(d).mod(s)).fromRed()).mod(i).mod(s).cmp(h)}(t,r,l)}if("rsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");r=e.concat([f,r]);for(var h=l.modulus.byteLength(),p=[1],d=0;r.length+p.length+2<h;)p.push(255),d++;p.push(0);for(var m=-1;++m<r.length;)p.push(r[m]);p=new e(p);var g=n.mont(l.modulus);t=(t=new n(t).toRed(g)).redPow(new n(l.publicExponent)),t=new e(t.fromRed().toArray());var v=d<8?1:0;for(h=Math.min(t.length,p.length),t.length!==p.length&&(v=1),m=-1;++m<h;)v|=t[m]^p[m];return 0===v}}).call(this,r(0).Buffer)},function(t,e,r){(function(e){var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,s=r(231),a=r(233);t.exports=function(t,r){var u,c=t.toString(),f=c.match(n);if(f){var l="aes"+f[1],h=new e(f[2],"hex"),p=new e(f[3].replace(/[\r\n]/g,""),"base64"),d=s(r,h.slice(0,8),parseInt(f[1],10)).key,m=[],g=a.createDecipheriv(l,d,h);m.push(g.update(p)),m.push(g.final()),u=e.concat(m)}else{var v=c.match(o);u=new e(v[2].replace(/[\r\n]/g,""),"base64")}return{tag:c.match(i)[1],data:u}}}).call(this,r(0).Buffer)},function(t){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},function(t,e,r){"use strict";var n=r(160),i=n.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=n.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),a=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),u=n.define("RelativeDistinguishedName",function(){this.setof(o)}),c=n.define("RDNSequence",function(){this.seqof(u)}),f=n.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),l=n.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),h=n.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),p=n.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(f),this.key("validity").use(l),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(h).optional())}),d=n.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(p),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});t.exports=d},function(t,e,r){var n=r(6),i=r(627);function o(t){i.call(this,t),this.enc="pem"}n(o,i),t.exports=o,o.prototype.encode=function(t,e){for(var r=i.prototype.encode.call(this,t).toString("base64"),n=["-----BEGIN "+e.label+"-----"],o=0;o<r.length;o+=64)n.push(r.slice(o,o+64));return n.push("-----END "+e.label+"-----"),n.join("\n")}},function(t,e,r){var n=e;n.der=r(627),n.pem=r(1563)},function(t,e,r){var n=r(6),i=r(0).Buffer,o=r(628);function s(t){o.call(this,t),this.enc="pem"}n(s,o),t.exports=s,s.prototype.decode=function(t,e){for(var r=t.toString().split(/[\r\n]+/g),n=e.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,u=-1,c=0;c<r.length;c++){var f=r[c].match(s);if(null!==f&&f[2]===n){if(-1!==a){if("END"!==f[1])break;u=c;break}if("BEGIN"!==f[1])break;a=c}}if(-1===a||-1===u)throw new Error("PEM section not found for: "+n);var l=r.slice(a+1,u).join("");l.replace(/[^a-z0-9\+\/=]+/gi,"");var h=new i(l,"base64");return o.prototype.decode.call(this,h,e)}},function(t,e,r){var n=e;n.der=r(628),n.pem=r(1565)},function(t,e,r){var n=r(629);e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=n._reverse(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=n._reverse(e.tag)},function(t,e,r){var n=r(159).Reporter,i=r(159).EncoderBuffer,o=r(159).DecoderBuffer,s=r(49),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function c(t,e){var r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}t.exports=c;var f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){var t=this._baseState,e={};f.forEach(function(r){e[r]=t[r]});var r=new this.constructor(e.parent);return r._baseState=e,r},c.prototype._wrap=function(){var t=this._baseState;u.forEach(function(e){this[e]=function(){var r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}},this)},c.prototype._init=function(t){var e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),s.equal(e.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(t){var e=this._baseState,r=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==r.length&&(s(null===e.children),e.children=r,r.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if("object"!=typeof t||t.constructor!==Object)return t;var e={};return Object.keys(t).forEach(function(r){r==(0|r)&&(r|=0);var n=t[r];e[n]=r}),e}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(t){c.prototype[t]=function(){var e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}}),a.forEach(function(t){c.prototype[t]=function(){var e=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(r),this}}),c.prototype.use=function(t){s(t);var e=this._baseState;return s(null===e.use),e.use=t,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(t){var e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},c.prototype.explicit=function(t){var e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},c.prototype.implicit=function(t){var e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},c.prototype.obj=function(){var t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},c.prototype.key=function(t){var e=this._baseState;return s(null===e.key),e.key=t,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(t){var e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},c.prototype.contains=function(t){var e=this._baseState;return s(null===e.use),e.contains=t,this},c.prototype._decode=function(t,e){var r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));var n,i=r.default,s=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){var u=null;if(null!==r.explicit?u=r.explicit:null!==r.implicit?u=r.implicit:null!==r.tag&&(u=r.tag),null!==u||r.any){if(s=this._peekTag(t,u,r.any),t.isError(s))return s}else{var c=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),s=!0}catch(t){s=!1}t.restore(c)}}if(r.obj&&s&&(n=t.enterObject()),s){if(null!==r.explicit){var f=this._decodeTag(t,r.explicit);if(t.isError(f))return f;t=f}var l=t.offset;if(null===r.use&&null===r.choice){if(r.any)c=t.save();var h=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(h))return h;r.any?i=t.raw(c):t=h}if(e&&e.track&&null!==r.tag&&e.track(t.path(),l,t.length,"tagged"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,"content"),i=r.any?i:null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(t,e)}),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){var p=new o(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(p,e)}}return r.obj&&s&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==s?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,i),i},c.prototype._decodeGeneric=function(t,e,r){var n=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):"objid"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):"objid"===t?this._decodeObjid(e,null,null,r):"gentime"===t||"utctime"===t?this._decodeTime(e,t,r):"null_"===t?this._decodeNull(e,r):"bool"===t?this._decodeBool(e,r):"objDesc"===t?this._decodeStr(e,t,r):"int"===t||"enum"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error("unknown tag: "+t)},c.prototype._getUse=function(t,e){var r=this._baseState;return r.useDecoder=this._use(t,e),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},c.prototype._decodeChoice=function(t,e){var r=this._baseState,n=null,i=!1;return Object.keys(r.choice).some(function(o){var s=t.save(),a=r.choice[o];try{var u=a._decode(t,e);if(t.isError(u))return!1;n={type:o,value:u},i=!0}catch(e){return t.restore(s),!1}return!0},this),i?n:t.error("Choice not matched")},c.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},c.prototype._encode=function(t,e,r){var n=this._baseState;if(null===n.default||n.default!==t){var i=this._encodeValue(t,e,r);if(void 0!==i&&!this._skipDefault(i,e,r))return i}},c.prototype._encodeValue=function(t,e,r){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new n);var o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}var s=null,a=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)s=this._getUse(i.contains,r)._encode(t,e),a=!0;else if(i.children)s=i.children.map(function(r){if("null_"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error("Child should have a key");var n=e.enterKey(r._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");var i=r._encode(t[r._baseState.key],e,t);return e.leaveKey(n),i},this).filter(function(t){return t}),s=this._createEncoderBuffer(s);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return e.error("Too many args for : "+i.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(r){var n=this._baseState;return this._getUse(n.args[0],t)._encode(r,e)},u))}else null!==i.use?o=this._getUse(i.use,r)._encode(t,e):(s=this._encodePrimitive(i.tag,t),a=!0);if(!i.any&&null===i.choice){var c=null!==i.implicit?i.implicit:i.tag,f=null===i.implicit?"universal":"context";null===c?null===i.use&&e.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(c,a,f,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},c.prototype._encodeChoice=function(t,e){var r=this._baseState,n=r.choice[t.type];return n||s(!1,t.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},c.prototype._encodePrimitive=function(t,e){var r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},c.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},c.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(t)}},function(t,e,r){var n=r(6);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){var t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){var e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){var e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,r){var n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){var e=this._reporterState,r=e.obj;return e.obj=t,r},i.prototype.error=function(t){var e,r=this._reporterState,n=t instanceof o;if(e=n?t:new o(r.path.map(function(t){return"["+JSON.stringify(t)+"]"}).join(""),t.message||t,t.stack),!r.options.partial)throw e;return n||r.errors.push(e),e},i.prototype.wrapResult=function(t){var e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},n(o,Error),o.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,r){var n=r(160),i=r(6);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){var e;try{e=r(631).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(t){e=function(t){this._initNamed(t)}}return i(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},o.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(n.decoders[t])),this.decoders[t]},o.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},o.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(n.encoders[t])),this.encoders[t]},o.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}},function(t,e,r){"use strict";var n=r(160);e.certificate=r(1562);var i=n.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});e.RSAPrivateKey=i;var o=n.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});e.RSAPublicKey=o;var s=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});e.PublicKey=s;var a=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=n.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});e.PrivateKey=u;var c=n.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});e.EncryptedPrivateKey=c;var f=n.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});e.DSAPrivateKey=f,e.DSAparam=n.define("DSAparam",function(){this.int()});var l=n.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(h),this.key("publicKey").optional().explicit(1).bitstr())});e.ECPrivateKey=l;var h=n.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});e.signature=n.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},function(t,e,r){"use strict";var n=r(19),i=r(39).utils,o=i.assert,s=i.cachedProperty,a=i.parseBytes;function u(t,e){this.eddsa=t,"object"!=typeof e&&(e=a(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),o(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof n&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}s(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=u},function(t,e,r){"use strict";var n=r(39).utils,i=n.assert,o=n.parseBytes,s=n.cachedProperty;function a(t,e){this.eddsa=t,this._secret=o(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=o(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(a,"privBytes",function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,n=e.slice(0,t.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n}),s(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(t){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),t)},a.prototype.getPublic=function(t){return n.encode(this.pubBytes(),t)},t.exports=a},function(t,e,r){"use strict";var n=r(357),i=r(39),o=i.utils,s=o.assert,a=o.parseBytes,u=r(1573),c=r(1572);function f(t){if(s("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof f))return new f(t);t=i.curves[t].curve;this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=n.sha512}t.exports=f,f.prototype.sign=function(t,e){t=a(t);var r=this.keyFromSecret(e),n=this.hashInt(r.messagePrefix(),t),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),t).mul(r.priv()),u=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:o})},f.prototype.verify=function(t,e,r){t=a(t),e=this.makeSignature(e);var n=this.keyFromPublic(r),i=this.hashInt(e.Rencoded(),n.pubBytes(),t),o=this.g.mul(e.S());return e.R().add(n.pub().mul(i)).eq(o)},f.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return o.intFromLE(t.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(t){return u.fromPublic(this,t)},f.prototype.keyFromSecret=function(t){return u.fromSecret(this,t)},f.prototype.makeSignature=function(t){return t instanceof c?t:new c(this,t)},f.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},f.prototype.decodePoint=function(t){var e=(t=o.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),n=0!=(128&t[e]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},f.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(t){return o.intFromLE(t)},f.prototype.isPoint=function(t){return t instanceof this.pointClass}},function(t,e,r){"use strict";var n=r(19),i=r(39).utils,o=i.assert;function s(t,e){if(t instanceof s)return t;this._importDER(t,e)||(o(t.r&&t.s,"Signature without r or s"),this.r=new n(t.r,16),this.s=new n(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function a(t,e){var r=t[e.place++];if(!(128&r))return r;for(var n=15&r,i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s];return e.place=s,i}function u(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function c(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}t.exports=s,s.prototype._importDER=function(t,e){t=i.toArray(t,e);var r=new function(){this.place=0};if(48!==t[r.place++])return!1;if(a(t,r)+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var o=a(t,r),s=t.slice(r.place,o+r.place);if(r.place+=o,2!==t[r.place++])return!1;var u=a(t,r);if(t.length!==u+r.place)return!1;var c=t.slice(r.place,u+r.place);return 0===s[0]&&128&s[1]&&(s=s.slice(1)),0===c[0]&&128&c[1]&&(c=c.slice(1)),this.r=new n(s),this.s=new n(c),this.recoveryParam=null,!0},s.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=u(e),r=u(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];c(n,e.length),(n=n.concat(e)).push(2),c(n,r.length);var o=n.concat(r),s=[48];return c(s,o.length),s=s.concat(o),i.encode(s,t)}},function(t,e,r){"use strict";var n=r(19),i=r(39).utils.assert;function o(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=o,o.fromPublic=function(t,e,r){return e instanceof o?e:new o(t,{pub:e,pubEnc:r})},o.fromPrivate=function(t,e,r){return e instanceof o?e:new o(t,{priv:e,privEnc:r})},o.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},o.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(t,e){this.priv=new n(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?i(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},o.prototype.derive=function(t){return t.mul(this.priv).getX()},o.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},o.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(t,e,r){"use strict";var n=r(357),i=r(634),o=r(49);function s(t){if(!(this instanceof s))return new s(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc||"hex"),r=i.toArray(t.nonce,t.nonceEnc||"hex"),n=i.toArray(t.pers,t.persEnc||"hex");o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}t.exports=s,s.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=i.toArray(t,e),r=i.toArray(r,n),o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},s.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,t);return this._update(r),this._reseed++,i.encode(s,e)}},function(t,e,r){"use strict";var n=r(19),i=r(1577),o=r(39),s=o.utils.assert,a=r(1576),u=r(1575);function c(t){if(!(this instanceof c))return new c(t);"string"==typeof t&&(s(o.curves.hasOwnProperty(t),"Unknown curve "+t),t=o.curves[t]),t instanceof o.curves.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=c,c.prototype.keyPair=function(t){return new a(this,t)},c.prototype.keyFromPrivate=function(t,e){return a.fromPrivate(this,t,e)},c.prototype.keyFromPublic=function(t,e){return a.fromPublic(this,t,e)},c.prototype.genKeyPair=function(t){t||(t={});for(var e=new i({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||o.rand(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new n(2));;){var a=new n(e.generate(r));if(!(a.cmp(s)>0))return a.iaddn(1),this.keyFromPrivate(a)}},c.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},c.prototype.sign=function(t,e,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new n(t,16));for(var s=this.n.byteLength(),a=e.getPrivate().toArray("be",s),c=t.toArray("be",s),f=new i({hash:this.hash,entropy:a,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),l=this.n.sub(new n(1)),h=0;;h++){var p=o.k?o.k(h):new n(f.generate(this.n.byteLength()));if(!((p=this._truncateToN(p,!0)).cmpn(1)<=0||p.cmp(l)>=0)){var d=this.g.mul(p);if(!d.isInfinity()){var m=d.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var v=p.invm(this.n).mul(g.mul(e.getPrivate()).iadd(t));if(0!==(v=v.umod(this.n)).cmpn(0)){var y=(d.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return o.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),y^=1),new u({r:g,s:v,recoveryParam:y})}}}}}},c.prototype.verify=function(t,e,r,i){t=this._truncateToN(new n(t,16)),r=this.keyFromPublic(r,i);var o=(e=new u(e,"hex")).r,s=e.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,c=s.invm(this.n),f=c.mul(t).umod(this.n),l=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(f,r.getPublic(),l)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(f,r.getPublic(),l)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},c.prototype.recoverPubKey=function(t,e,r,i){s((3&r)===r,"The recovery param is more than two bits"),e=new u(e,i);var o=this.n,a=new n(t),c=e.r,f=e.s,l=1&r,h=r>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");c=h?this.curve.pointFromX(c.add(this.curve.n),l):this.curve.pointFromX(c,l);var p=e.r.invm(o),d=o.sub(a).mul(p).umod(o),m=f.mul(p).umod(o);return this.g.mulAdd(d,c,m)},c.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new u(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},function(t,e){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(t,e,r){"use strict";var n=r(67),i=r(49);function o(t,e,r){if(!(this instanceof o))return new o(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(e,r))}t.exports=o,o.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},o.prototype.update=function(t,e){return this.inner.update(t,e),this},o.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},function(t,e,r){"use strict";var n=r(67),i=r(161),o=n.rotl32,s=n.sum32,a=n.sum32_3,u=n.sum32_4,c=i.BlockHash;function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function l(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function h(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function p(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}n.inherits(f,c),e.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],c=this.h[3],f=this.h[4],y=r,b=n,w=i,_=c,k=f,S=0;S<80;S++){var x=s(o(u(r,l(S,n,i,c),t[d[S]+e],h(S)),g[S]),f);r=f,f=c,c=o(i,10),i=n,n=x,x=s(o(u(y,l(79-S,b,w,_),t[m[S]+e],p(S)),v[S]),k),y=k,k=_,_=o(w,10),w=b,b=x}x=a(this.h[1],i,_),this.h[1]=a(this.h[2],c,k),this.h[2]=a(this.h[3],f,y),this.h[3]=a(this.h[4],r,b),this.h[4]=a(this.h[0],n,w),this.h[0]=x},f.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(t,e,r){"use strict";var n=r(67),i=r(632);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},function(t,e,r){"use strict";var n=r(67),i=r(229);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},function(t,e,r){"use strict";var n=r(67),i=r(161),o=r(633),s=n.rotl32,a=n.sum32,u=n.sum32_5,c=o.ft_1,f=i.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(h,f),t.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],f=this.h[2],h=this.h[3],p=this.h[4];for(n=0;n<r.length;n++){var d=~~(n/20),m=u(s(i,5),c(d,o,f,h),p,r[n],l[d]);p=h,h=f,f=s(o,30),o=i,i=m}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],f),this.h[3]=a(this.h[3],h),this.h[4]=a(this.h[4],p)},h.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(t,e,r){"use strict";e.sha1=r(1584),e.sha224=r(1583),e.sha256=r(229),e.sha384=r(1582),e.sha512=r(632)},function(t,e,r){"use strict";var n,i=e,o=r(357),s=r(39),a=s.utils.assert;function u(t){"short"===t.type?this.curve=new s.curve.short(t):"edwards"===t.type?this.curve=new s.curve.edwards(t):this.curve=new s.curve.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var r=new u(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=u,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(1579)}catch(t){n=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},function(t,e,r){"use strict";var n=r(230),i=r(39),o=r(19),s=r(6),a=n.base,u=i.utils.assert;function c(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,a.call(this,"edwards",t),this.a=new o(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function f(t,e,r,n,i){a.BasePoint.call(this,t,"projective"),null===e&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(e,16),this.y=new o(r,16),this.z=n?new o(n,16):this.curve.one,this.t=i&&new o(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(c,a),t.exports=c,c.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},c.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},c.prototype.jpoint=function(t,e,r,n){return this.point(t,e,r,n)},c.prototype.pointFromX=function(t,e){(t=new o(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(i.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var u=a.fromRed().isOdd();return(e&&!u||!e&&u)&&(a=a.redNeg()),this.point(t,a)},c.prototype.pointFromY=function(t,e){(t=new o(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=r.redSub(this.one),i=r.redMul(this.d).redAdd(this.one),s=n.redMul(i.redInvm());if(0===s.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},c.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),n=e.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===n.cmp(i)},s(f,a.BasePoint),c.prototype.pointFromJSON=function(t){return f.fromJSON(this,t)},c.prototype.point=function(t,e,r,n){return new f(this,t,e,r,n)},f.fromJSON=function(t,e){return new f(t,e[0],e[1],e[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},f.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=n.redAdd(e),s=o.redSub(r),a=n.redSub(e),u=i.redMul(s),c=o.redMul(a),f=i.redMul(a),l=s.redMul(o);return this.curve.point(u,c,l,f)},f.prototype._projDbl=function(){var t,e,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var s=(c=this.curve._mulA(i)).redAdd(o);if(this.zOne)t=n.redSub(i).redSub(o).redMul(s.redSub(this.curve.two)),e=s.redMul(c.redSub(o)),r=s.redSqr().redSub(s).redSub(s);else{var a=this.z.redSqr(),u=s.redSub(a).redISub(a);t=n.redSub(i).redISub(o).redMul(u),e=s.redMul(c.redSub(o)),r=s.redMul(u)}}else{var c=i.redAdd(o);a=this.curve._mulC(this.c.redMul(this.z)).redSqr(),u=c.redSub(a).redSub(a);t=this.curve._mulC(n.redISub(c)).redMul(u),e=this.curve._mulC(c).redMul(i.redISub(o)),r=c.redMul(u)}return this.curve.point(t,e,r)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=r.redSub(e),s=i.redSub(n),a=i.redAdd(n),u=r.redAdd(e),c=o.redMul(s),f=a.redMul(u),l=o.redMul(u),h=s.redMul(a);return this.curve.point(c,f,h,l)},f.prototype._projAdd=function(t){var e,r,n=this.z.redMul(t.z),i=n.redSqr(),o=this.x.redMul(t.x),s=this.y.redMul(t.y),a=this.curve.d.redMul(o).redMul(s),u=i.redSub(a),c=i.redAdd(a),f=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(s),l=n.redMul(u).redMul(f);return this.curve.twisted?(e=n.redMul(c).redMul(s.redSub(this.curve._mulA(o))),r=u.redMul(c)):(e=n.redMul(c).redMul(s.redSub(o)),r=this.curve._mulC(u).redMul(c)),this.curve.point(l,e,r)},f.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},f.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},f.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},f.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},f.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(n),0===this.x.cmp(e))return!0}return!1},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},function(t,e,r){"use strict";var n=r(230),i=r(19),o=r(6),s=n.base,a=r(39).utils;function u(t){s.call(this,"mont",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(t,e,r){s.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(e,16),this.z=new i(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(u,s),t.exports=u,u.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),n=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===n.redSqrt().redSqr().cmp(n)},o(c,s.BasePoint),u.prototype.decodePoint=function(t,e){return this.point(a.toArray(t,e),1)},u.prototype.point=function(t,e){return new c(this,t,e)},u.prototype.pointFromJSON=function(t){return c.fromJSON(this,t)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(t,e){return new c(t,e[0],e[1]||t.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),n=t.redMul(e),i=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z).redMul(r),s=i.redMul(n),a=e.z.redMul(o.redAdd(s).redSqr()),u=e.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,u)},c.prototype.mul=function(t){for(var e=t.clone(),r=this,n=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(t,e,r){"use strict";var n=r(230),i=r(39),o=r(19),s=r(6),a=n.base,u=i.utils.assert;function c(t){a.call(this,"short",t),this.a=new o(t.a,16).toRed(this.red),this.b=new o(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function f(t,e,r,n){a.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(e,16),this.y=new o(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(t,e,r,n){a.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(e,16),this.y=new o(r,16),this.z=new o(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(c,a),t.exports=c,c.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new o(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new o(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],u(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map(function(t){return{a:new o(t.a,16),b:new o(t.b,16)}}):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:o.mont(t),r=new o(2).toRed(e).redInvm(),n=r.redNeg(),i=new o(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},c.prototype._getEndoBasis=function(t){for(var e,r,n,i,s,a,u,c,f,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=t,p=this.n.clone(),d=new o(1),m=new o(0),g=new o(0),v=new o(1),y=0;0!==h.cmpn(0);){var b=p.div(h);c=p.sub(b.mul(h)),f=g.sub(b.mul(d));var w=v.sub(b.mul(m));if(!n&&c.cmp(l)<0)e=u.neg(),r=d,n=c.neg(),i=f;else if(n&&2==++y)break;u=c,p=h,h=c,g=d,d=f,v=m,m=w}s=c.neg(),a=f;var _=n.sqr().add(i.sqr());return s.sqr().add(a.sqr()).cmp(_)>=0&&(s=e,a=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:i},{a:s,b:a}]},c.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),c=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:u.add(c).neg()}},c.prototype.pointFromX=function(t,e){(t=new o(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},c.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var c=this._wnafMulAdd(1,n,i,2*o,r),f=0;f<2*o;f++)n[f]=null,i[f]=null;return c},s(f,a.BasePoint),c.prototype.point=function(t,e,r){return new f(this,t,e,r)},c.prototype.pointFromJSON=function(t,e){return f.fromJSON(this,t,e)},f.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},f.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(t){return t=new o(t,16),this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},f.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},f.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},f.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},f.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},f.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(l,a.BasePoint),c.prototype.jpoint=function(t,e,r){return new l(this,t,e,r)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),f=c.redMul(a),l=n.redMul(c),h=u.redSqr().redIAdd(f).redISub(l).redISub(l),p=u.redMul(l.redISub(h)).redISub(o.redMul(f)),d=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(h,p,d)},l.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),c=u.redMul(s),f=r.redMul(u),l=a.redSqr().redIAdd(c).redISub(f).redISub(f),h=a.redMul(f.redISub(l)).redISub(i.redMul(c)),p=this.z.redMul(s);return this.curve.jpoint(l,h,p)},l.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),c=s.redAdd(s);for(r=0;r<t;r++){var f=o.redSqr(),l=c.redSqr(),h=l.redSqr(),p=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(u)),d=o.redMul(l),m=p.redSqr().redISub(d.redAdd(d)),g=d.redISub(m),v=p.redMul(g);v=v.redIAdd(v).redISub(h);var y=c.redMul(a);r+1<t&&(u=u.redMul(h)),o=m,a=y,c=v}return this.curve.jpoint(o,c.redMul(i),a)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=u,e=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),l=this.y.redSqr(),h=l.redSqr(),p=this.x.redAdd(l).redSqr().redISub(f).redISub(h);p=p.redIAdd(p);var d=f.redAdd(f).redIAdd(f),m=d.redSqr(),g=h.redIAdd(h);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(p).redISub(p),e=d.redMul(p.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},l.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);t=u;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),l=this.y.redSqr(),h=this.x.redMul(l),p=this.x.redSub(f).redMul(this.x.redAdd(f));p=p.redAdd(p).redIAdd(p);var d=h.redIAdd(h),m=(d=d.redIAdd(d)).redAdd(d);t=p.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(l).redISub(f);var g=l.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=p.redMul(d.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},l.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),c=(u=u.redIAdd(u)).redMul(s),f=a.redSqr().redISub(c.redAdd(c)),l=c.redISub(f),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var p=a.redMul(l).redISub(h),d=r.redAdd(r).redMul(n);return this.curve.jpoint(f,p,d)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),f=e.redMul(c);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.x.redMul(a).redISub(f);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.y.redMul(c.redMul(u.redISub(c)).redISub(s.redMul(a)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var p=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(l,h,p)},l.prototype.mul=function(t,e){return t=new o(t,e),this.curve._wnafMul(this,t)},l.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},l.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}return!1},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(t,e,r){"use strict";var n=r(19),i=r(39).utils,o=i.getNAF,s=i.getJSF,a=i.assert;function u(t,e){this.type=t,this.p=new n(e.p,16),this.red=e.prime?n.red(e.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=e.n&&new n(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(t,e){a(t.precomputed);var r=t._getDoubles(),n=o(e,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var s=[],u=0;u<n.length;u+=r.step){var c=0;for(e=u+r.step-1;e>=u;e--)c=(c<<1)+n[e];s.push(c)}for(var f=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=i;h>0;h--){for(u=0;u<s.length;u++){(c=s[u])===h?l=l.mixedAdd(r.points[u]):c===-h&&(l=l.mixedAdd(r.points[u].neg()))}f=f.add(l)}return f.toP()},u.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=o(e,r),u=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(e=0;c>=0&&0===s[c];c--)e++;if(c>=0&&e++,u=u.dblp(e),c<0)break;var f=s[c];a(0!==f),u="affine"===t.type?f>0?u.mixedAdd(i[f-1>>1]):u.mixedAdd(i[-f-1>>1].neg()):f>0?u.add(i[f-1>>1]):u.add(i[-f-1>>1].neg())}return"affine"===t.type?u.toP():u},u.prototype._wnafMulAdd=function(t,e,r,n,i){for(var a=this._wnafT1,u=this._wnafT2,c=this._wnafT3,f=0,l=0;l<n;l++){var h=(E=e[l])._getNAFPoints(t);a[l]=h.wnd,u[l]=h.points}for(l=n-1;l>=1;l-=2){var p=l-1,d=l;if(1===a[p]&&1===a[d]){var m=[e[p],null,null,e[d]];0===e[p].y.cmp(e[d].y)?(m[1]=e[p].add(e[d]),m[2]=e[p].toJ().mixedAdd(e[d].neg())):0===e[p].y.cmp(e[d].y.redNeg())?(m[1]=e[p].toJ().mixedAdd(e[d]),m[2]=e[p].add(e[d].neg())):(m[1]=e[p].toJ().mixedAdd(e[d]),m[2]=e[p].toJ().mixedAdd(e[d].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=s(r[p],r[d]);f=Math.max(v[0].length,f),c[p]=new Array(f),c[d]=new Array(f);for(var y=0;y<f;y++){var b=0|v[0][y],w=0|v[1][y];c[p][y]=g[3*(b+1)+(w+1)],c[d][y]=0,u[p]=m}}else c[p]=o(r[p],a[p]),c[d]=o(r[d],a[d]),f=Math.max(c[p].length,f),f=Math.max(c[d].length,f)}var _=this.jpoint(null,null,null),k=this._wnafT4;for(l=f;l>=0;l--){for(var S=0;l>=0;){var x=!0;for(y=0;y<n;y++)k[y]=0|c[y][l],0!==k[y]&&(x=!1);if(!x)break;S++,l--}if(l>=0&&S++,_=_.dblp(S),l<0)break;for(y=0;y<n;y++){var E,C=k[y];0!==C&&(C>0?E=u[y][C-1>>1]:C<0&&(E=u[y][-C-1>>1].neg()),_="affine"===E.type?_.mixedAdd(E):_.add(E))}}for(l=0;l<n;l++)u[l]=null;return i?_:_.toP()},u.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(t,e){t=i.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?a(t[t.length-1]%2==0):7===t[0]&&a(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(t){return this.encode(t,!0)},c.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},c.prototype.encode=function(t,e){return i.encode(this._encode(e),t)},c.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},c.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},c.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},c.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}},function(t,e,r){"use strict";var n=e,i=r(19),o=r(49),s=r(634);n.assert=o,n.toArray=s.toArray,n.zero2=s.zero2,n.toHex=s.toHex,n.encode=s.encode,n.getNAF=function(t,e){for(var r=[],n=1<<e+1,i=t.clone();i.cmpn(1)>=0;){var o;if(i.isOdd()){var s=i.andln(n-1);o=s>(n>>1)-1?(n>>1)-s:s,i.isubn(o)}else o=0;r.push(o);for(var a=0!==i.cmpn(0)&&0===i.andln(n-1)?e+1:1,u=1;u<a;u++)r.push(0);i.iushrn(a)}return r},n.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0;t.cmpn(-n)>0||e.cmpn(-i)>0;){var o,s,a,u=t.andln(3)+n&3,c=e.andln(3)+i&3;3===u&&(u=-1),3===c&&(c=-1),o=0==(1&u)?0:3!=(a=t.andln(7)+n&7)&&5!==a||2!==c?u:-u,r[0].push(o),s=0==(1&c)?0:3!=(a=e.andln(7)+i&7)&&5!==a||2!==u?c:-c,r[1].push(s),2*n===o+1&&(n=1-n),2*i===s+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r},n.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(t){return"string"==typeof t?n.toArray(t,"hex"):t},n.intFromLE=function(t){return new i(t,"hex","le")}},function(t){t.exports={_args:[["elliptic@6.4.0","/Users/wangyiyi/github/ribbit"]],_from:"elliptic@6.4.0",_id:"elliptic@6.4.0",_inBundle:!1,_integrity:"sha1-ysmvh2LIWDYYcAPI3+GT5eLq5d8=",_location:"/elliptic",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"elliptic@6.4.0",name:"elliptic",escapedName:"elliptic",rawSpec:"6.4.0",saveSpec:null,fetchSpec:"6.4.0"},_requiredBy:["/browserify-sign","/create-ecdh","/eth-lib","/web3-eth-accounts/eth-lib"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz",_spec:"6.4.0",_where:"/Users/wangyiyi/github/ribbit",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.0"}},function(t,e,r){(function(e){var n=r(163),i=r(358),o=r(39).ec,s=r(19),a=r(228),u=r(626);function c(t,r,i,o){if((t=new e(t.toArray())).length<r.byteLength()){var s=new e(r.byteLength()-t.length);s.fill(0),t=e.concat([s,t])}var a=i.length,u=function(t,r){t=(t=f(t,r)).mod(r);var n=new e(t.toArray());if(n.length<r.byteLength()){var i=new e(r.byteLength()-n.length);i.fill(0),n=e.concat([i,n])}return n}(i,r),c=new e(a);c.fill(1);var l=new e(a);return l.fill(0),l=n(o,l).update(c).update(new e([0])).update(t).update(u).digest(),c=n(o,l).update(c).digest(),{k:l=n(o,l).update(c).update(new e([1])).update(t).update(u).digest(),v:c=n(o,l).update(c).digest()}}function f(t,e){var r=new s(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}function l(t,r,i){var o,s;do{for(o=new e(0);8*o.length<t.bitLength();)r.v=n(i,r.k).update(r.v).digest(),o=e.concat([o,r.v]);s=f(o,t),r.k=n(i,r.k).update(r.v).update(new e([0])).digest(),r.v=n(i,r.k).update(r.v).digest()}while(-1!==s.cmp(t));return s}function h(t,e,r,n){return t.toRed(s.mont(r)).redPow(e).fromRed().mod(n)}t.exports=function(t,r,n,p,d){var m=a(r);if(m.curve){if("ecdsa"!==p&&"ecdsa/rsa"!==p)throw new Error("wrong private key type");return function(t,r){var n=u[r.curve.join(".")];if(!n)throw new Error("unknown curve "+r.curve.join("."));var i=new o(n).keyFromPrivate(r.privateKey).sign(t);return new e(i.toDER())}(t,m)}if("dsa"===m.type){if("dsa"!==p)throw new Error("wrong private key type");return function(t,r,n){for(var i,o=r.params.priv_key,a=r.params.p,u=r.params.q,p=r.params.g,d=new s(0),m=f(t,u).mod(u),g=!1,v=c(o,u,t,n);!1===g;)i=l(u,v,n),d=h(p,i,a,u),0===(g=i.invm(u).imul(m.add(o.mul(d))).mod(u)).cmpn(0)&&(g=!1,d=new s(0));return function(t,r){t=t.toArray(),r=r.toArray(),128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r));var n=[48,t.length+r.length+4,2,t.length];return n=n.concat(t,[2,r.length],r),new e(n)}(d,g)}(t,m,n)}if("rsa"!==p&&"ecdsa/rsa"!==p)throw new Error("wrong private key type");t=e.concat([d,t]);for(var g=m.modulus.byteLength(),v=[0,1];t.length+v.length+1<g;)v.push(255);v.push(0);for(var y=-1;++y<t.length;)v.push(t[y]);return i(v,m)},t.exports.getKey=c,t.exports.makeKey=l}).call(this,r(0).Buffer)},function(t,e,r){(function(e){var n=r(51),i=r(50),o=r(6),s=r(1593),a=r(1559),u=r(646);function c(t){i.Writable.call(this);var e=u[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=n(e.hash),this._tag=e.id,this._signType=e.sign}function f(t){i.Writable.call(this);var e=u[t];if(!e)throw new Error("Unknown message digest");this._hash=n(e.hash),this._tag=e.id,this._signType=e.sign}function l(t){return new c(t)}function h(t){return new f(t)}Object.keys(u).forEach(function(t){u[t].id=new e(u[t].id,"hex"),u[t.toLowerCase()]=u[t]}),o(c,i.Writable),c.prototype._write=function(t,e,r){this._hash.update(t),r()},c.prototype.update=function(t,r){return"string"==typeof t&&(t=new e(t,r)),this._hash.update(t),this},c.prototype.sign=function(t,e){this.end();var r=this._hash.digest(),n=s(r,t,this._hashType,this._signType,this._tag);return e?n.toString(e):n},o(f,i.Writable),f.prototype._write=function(t,e,r){this._hash.update(t),r()},f.prototype.update=function(t,r){return"string"==typeof t&&(t=new e(t,r)),this._hash.update(t),this},f.prototype.verify=function(t,r,n){"string"==typeof r&&(r=new e(r,n)),this.end();var i=this._hash.digest();return a(r,i,t,this._signType,this._tag)},t.exports={Sign:l,Verify:h,createSign:l,createVerify:h}}).call(this,r(0).Buffer)},function(t,e,r){(function(e){var n=r(19),i=new(r(636)),o=new n(24),s=new n(11),a=new n(10),u=new n(3),c=new n(7),f=r(637),l=r(89);function h(t,r){return r=r||"utf8",e.isBuffer(t)||(t=new e(t,r)),this._pub=new n(t),this}function p(t,r){return r=r||"utf8",e.isBuffer(t)||(t=new e(t,r)),this._priv=new n(t),this}t.exports=m;var d={};function m(t,e,r){this.setGenerator(e),this.__prime=new n(t),this._prime=n.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=h,this.setPrivateKey=p):this._primeCode=8}function g(t,r){var n=new e(t.toArray());return r?n.toString(r):n}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(t,e){var r=e.toString("hex"),n=[r,t.toString(16)].join("_");if(n in d)return d[n];var l,h=0;if(t.isEven()||!f.simpleSieve||!f.fermatTest(t)||!i.test(t))return h+=1,h+="02"===r||"05"===r?8:4,d[n]=h,h;switch(i.test(t.shrn(1))||(h+=2),r){case"02":t.mod(o).cmp(s)&&(h+=8);break;case"05":(l=t.mod(a)).cmp(u)&&l.cmp(c)&&(h+=8);break;default:h+=4}return d[n]=h,h}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new n(l(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(t){var r=(t=(t=new n(t)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new e(r.toArray()),o=this.getPrime();if(i.length<o.length){var s=new e(o.length-i.length);s.fill(0),i=e.concat([s,i])}return i},m.prototype.getPublicKey=function(t){return g(this._pub,t)},m.prototype.getPrivateKey=function(t){return g(this._priv,t)},m.prototype.getPrime=function(t){return g(this.__prime,t)},m.prototype.getGenerator=function(t){return g(this._gen,t)},m.prototype.setGenerator=function(t,r){return r=r||"utf8",e.isBuffer(t)||(t=new e(t,r)),this.__gen=t,this._gen=new n(t),this}}).call(this,r(0).Buffer)},function(t){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},function(t,e){},function(t,e){},function(t,e,r){(function(t){var n=r(637),i=r(1596),o=r(1595);var s={binary:!0,hex:!0,base64:!0};e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=function(e){var r=new t(i[e].prime,"hex"),n=new t(i[e].gen,"hex");return new o(r,n)},e.createDiffieHellman=e.DiffieHellman=function e(r,i,a,u){return t.isBuffer(i)||void 0===s[i]?e(r,"binary",i,a):(i=i||"binary",u=u||"binary",a=a||new t([2]),t.isBuffer(a)||(a=new t(a,u)),"number"==typeof r?new o(n(r,a),a,!0):(t.isBuffer(r)||(r=new t(r,i)),new o(r,a,!0)))}}).call(this,r(0).Buffer)},function(t,e){e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}},function(t,e,r){var n=r(639),i=r(3).Buffer,o=r(359),s=r(638),a=r(87),u=r(232),c=r(231);function f(t,e,r){a.call(this),this._cache=new l,this._last=void 0,this._cipher=new u.AES(e),this._prev=i.from(r),this._mode=t,this._autopadding=!0}function l(){this.cache=i.allocUnsafe(0)}function h(t,e,r){var a=o[t.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=i.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof e&&(e=i.from(e)),e.length!==a.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===a.type?new s(a.module,e,r,!0):"auth"===a.type?new n(a.module,e,r,!0):new f(a.module,e,r)}r(6)(f,a),f.prototype._update=function(t){var e,r;this._cache.add(t);for(var n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return i.concat(n)},f.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");var r=-1;for(;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(16===e)return;return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},l.prototype.add=function(t){this.cache=i.concat([this.cache,t])},l.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},l.prototype.flush=function(){if(this.cache.length)return this.cache},e.createDecipher=function(t,e){var r=o[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=c(e,!1,r.key,r.iv);return h(t,n.key,n.iv)},e.createDecipheriv=h},function(t,e,r){var n=r(3).Buffer,i=n.alloc(16,0);function o(t){var e=n.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function s(t){this.h=t,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}s.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},s.prototype._multiply=function(){for(var t,e,r,n=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],i=[0,0,0,0],s=-1;++s<128;){for(0!=(this.state[~~(s/8)]&1<<7-s%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),r=0!=(1&n[3]),e=3;e>0;e--)n[e]=n[e]>>>1|(1&n[e-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=o(i)},s.prototype.update=function(t){var e;for(this.cache=n.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},s.prototype.final=function(t,e){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(o([0,t,0,e])),this.state},t.exports=s},function(t,e,r){(function(t){var n=r(162);function i(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}e.encrypt=function(e,r){for(;e._cache.length<r.length;)e._cache=t.concat([e._cache,i(e)]);var o=e._cache.slice(0,r.length);return e._cache=e._cache.slice(r.length),n(r,o)}}).call(this,r(0).Buffer)},function(t,e,r){var n=r(3).Buffer;function i(t,e,r){for(var n,i,s,a=-1,u=0;++a<8;)n=t._cipher.encryptBlock(t._prev),i=e&1<<7-a?128:0,u+=(128&(s=n[0]^i))>>a%8,t._prev=o(t._prev,r?i:s);return u}function o(t,e){var r=t.length,i=-1,o=n.allocUnsafe(t.length);for(t=n.concat([t,n.from([e])]);++i<r;)o[i]=t[i]<<1|t[i+1]>>7;return o}e.encrypt=function(t,e,r){for(var o=e.length,s=n.allocUnsafe(o),a=-1;++a<o;)s[a]=i(t,e[a],r);return s}},function(t,e,r){var n=r(3).Buffer;function i(t,e,r){var i=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=n.concat([t._prev.slice(1),n.from([r?e:i])]),i}e.encrypt=function(t,e,r){for(var o=e.length,s=n.allocUnsafe(o),a=-1;++a<o;)s[a]=i(t,e[a],r);return s}},function(t,e,r){var n=r(3).Buffer,i=r(162);function o(t,e,r){var o=e.length,s=i(e,t._cache);return t._cache=t._cache.slice(o),t._prev=n.concat([t._prev,r?e:s]),s}e.encrypt=function(t,e,r){for(var i,s=n.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=n.allocUnsafe(0)),!(t._cache.length<=e.length)){s=n.concat([s,o(t,e,r)]);break}i=t._cache.length,s=n.concat([s,o(t,e.slice(0,i),r)]),e=e.slice(i)}return s}},function(t,e,r){var n=r(162);e.encrypt=function(t,e){var r=n(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev},e.decrypt=function(t,e){var r=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return n(i,r)}},function(t,e){e.encrypt=function(t,e){return t._cipher.encryptBlock(e)},e.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},function(t,e,r){var n=r(359),i=r(639),o=r(3).Buffer,s=r(638),a=r(87),u=r(232),c=r(231);function f(t,e,r){a.call(this),this._cache=new h,this._cipher=new u.AES(e),this._prev=o.from(r),this._mode=t,this._autopadding=!0}r(6)(f,a),f.prototype._update=function(t){var e,r;this._cache.add(t);for(var n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return o.concat(n)};var l=o.alloc(16,16);function h(){this.cache=o.allocUnsafe(0)}function p(t,e,r){var a=n[t.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=o.from(e)),e.length!==a.key/8)throw new TypeError("invalid key length "+e.length);if("string"==typeof r&&(r=o.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===a.type?new s(a.module,e,r):"auth"===a.type?new i(a.module,e,r):new f(a.module,e,r)}f.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(l))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},h.prototype.add=function(t){this.cache=o.concat([this.cache,t])},h.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},h.prototype.flush=function(){for(var t=16-this.cache.length,e=o.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return o.concat([this.cache,e])},e.createCipheriv=p,e.createCipher=function(t,e){var r=n[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=c(e,!1,r.key,r.iv);return p(t,i.key,i.iv)}},function(t,e,r){"use strict";var n=r(49),i=r(6),o=r(360),s=o.Cipher,a=o.DES;function u(t){s.call(this,t);var e=new function(t,e){n.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),i=e.slice(8,16),o=e.slice(16,24);this.ciphers="encrypt"===t?[a.create({type:"encrypt",key:r}),a.create({type:"decrypt",key:i}),a.create({type:"encrypt",key:o})]:[a.create({type:"decrypt",key:o}),a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:r})]}(this.type,this.options.key);this._edeState=e}i(u,s),t.exports=u,u.create=function(t){return new u(t)},u.prototype._update=function(t,e,r,n){var i=this._edeState;i.ciphers[0]._update(t,e,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},u.prototype._pad=a.prototype._pad,u.prototype._unpad=a.prototype._unpad},function(t,e,r){"use strict";var n=r(49),i=r(6),o={};e.instantiate=function(t){function e(e){t.call(this,e),this._cbcInit()}i(e,t);for(var r=Object.keys(o),n=0;n<r.length;n++){var s=r[n];e.prototype[s]=o[s]}return e.create=function(t){return new e(t)},e},o._cbcInit=function(){var t=new function(t){n.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}(this.options.iv);this._cbcState=t},o._update=function(t,e,r,n){var i=this._cbcState,o=this.constructor.super_.prototype,s=i.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)s[a]^=t[e+a];o._update.call(this,s,0,r,n);for(a=0;a<this.blockSize;a++)s[a]=r[n+a]}else{o._update.call(this,t,e,r,n);for(a=0;a<this.blockSize;a++)r[n+a]^=s[a];for(a=0;a<this.blockSize;a++)s[a]=t[e+a]}}},function(t,e,r){"use strict";var n=r(49),i=r(6),o=r(360),s=o.utils,a=o.Cipher;function u(t){a.call(this,t);var e=new function(){this.tmp=new Array(2),this.keys=null};this._desState=e,this.deriveKeys(e,t.key)}i(u,a),t.exports=u,u.create=function(t){return new u(t)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(t,e){t.keys=new Array(32),n.equal(e.length,this.blockSize,"Invalid key length");var r=s.readUInt32BE(e,0),i=s.readUInt32BE(e,4);s.pc1(r,i,t.tmp,0),r=t.tmp[0],i=t.tmp[1];for(var o=0;o<t.keys.length;o+=2){var a=c[o>>>1];r=s.r28shl(r,a),i=s.r28shl(i,a),s.pc2(r,i,t.keys,o)}},u.prototype._update=function(t,e,r,n){var i=this._desState,o=s.readUInt32BE(t,e),a=s.readUInt32BE(t,e+4);s.ip(o,a,i.tmp,0),o=i.tmp[0],a=i.tmp[1],"encrypt"===this.type?this._encrypt(i,o,a,i.tmp,0):this._decrypt(i,o,a,i.tmp,0),o=i.tmp[0],a=i.tmp[1],s.writeUInt32BE(r,o,n),s.writeUInt32BE(r,a,n+4)},u.prototype._pad=function(t,e){for(var r=t.length-e,n=e;n<t.length;n++)t[n]=r;return!0},u.prototype._unpad=function(t){for(var e=t[t.length-1],r=t.length-e;r<t.length;r++)n.equal(t[r],e);return t.slice(0,t.length-e)},u.prototype._encrypt=function(t,e,r,n,i){for(var o=e,a=r,u=0;u<t.keys.length;u+=2){var c=t.keys[u],f=t.keys[u+1];s.expand(a,t.tmp,0),c^=t.tmp[0],f^=t.tmp[1];var l=s.substitute(c,f),h=a;a=(o^s.permute(l))>>>0,o=h}s.rip(a,o,n,i)},u.prototype._decrypt=function(t,e,r,n,i){for(var o=r,a=e,u=t.keys.length-2;u>=0;u-=2){var c=t.keys[u],f=t.keys[u+1];s.expand(o,t.tmp,0),c^=t.tmp[0],f^=t.tmp[1];var l=s.substitute(c,f),h=o;o=(a^s.permute(l))>>>0,a=h}s.rip(o,a,n,i)}},function(t,e,r){"use strict";var n=r(49);function i(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}t.exports=i,i.prototype._init=function(){},i.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},i.prototype._buffer=function(t,e){for(var r=Math.min(this.buffer.length-this.bufferOff,t.length-e),n=0;n<r;n++)this.buffer[this.bufferOff+n]=t[e+n];return this.bufferOff+=r,r},i.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(t){var e=0,r=0,n=(this.bufferOff+t.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var o=t.length-(t.length-e)%this.blockSize;e<o;e+=this.blockSize)this._update(t,e,i,r),r+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return i},i.prototype._updateDecrypt=function(t){for(var e=0,r=0,n=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)e+=this._buffer(t,e),r+=this._flushBuffer(i,r);return e+=this._buffer(t,e),i},i.prototype.final=function(t){var e,r;return t&&(e=this.update(t)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(r):r},i.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},i.prototype._unpad=function(t){return t},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}},function(t,e,r){"use strict";e.readUInt32BE=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},e.writeUInt32BE=function(t,e,r){t[0+r]=e>>>24,t[1+r]=e>>>16&255,t[2+r]=e>>>8&255,t[3+r]=255&e},e.ip=function(t,e,r,n){for(var i=0,o=0,s=6;s>=0;s-=2){for(var a=0;a<=24;a+=8)i<<=1,i|=e>>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=t>>>a+s&1}for(s=6;s>=0;s-=2){for(a=1;a<=25;a+=8)o<<=1,o|=e>>>a+s&1;for(a=1;a<=25;a+=8)o<<=1,o|=t>>>a+s&1}r[n+0]=i>>>0,r[n+1]=o>>>0},e.rip=function(t,e,r,n){for(var i=0,o=0,s=0;s<4;s++)for(var a=24;a>=0;a-=8)i<<=1,i|=e>>>a+s&1,i<<=1,i|=t>>>a+s&1;for(s=4;s<8;s++)for(a=24;a>=0;a-=8)o<<=1,o|=e>>>a+s&1,o<<=1,o|=t>>>a+s&1;r[n+0]=i>>>0,r[n+1]=o>>>0},e.pc1=function(t,e,r,n){for(var i=0,o=0,s=7;s>=5;s--){for(var a=0;a<=24;a+=8)i<<=1,i|=e>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1}for(a=0;a<=24;a+=8)i<<=1,i|=e>>a+s&1;for(s=1;s<=3;s++){for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1;for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1}for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1;r[n+0]=i>>>0,r[n+1]=o>>>0},e.r28shl=function(t,e){return t<<e&268435455|t>>>28-e};var n=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];e.pc2=function(t,e,r,i){for(var o=0,s=0,a=n.length>>>1,u=0;u<a;u++)o<<=1,o|=t>>>n[u]&1;for(u=a;u<n.length;u++)s<<=1,s|=e>>>n[u]&1;r[i+0]=o>>>0,r[i+1]=s>>>0},e.expand=function(t,e,r){var n=0,i=0;n=(1&t)<<5|t>>>27;for(var o=23;o>=15;o-=4)n<<=6,n|=t>>>o&63;for(o=11;o>=3;o-=4)i|=t>>>o&63,i<<=6;i|=(31&t)<<1|t>>>31,e[r+0]=n>>>0,e[r+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];e.substitute=function(t,e){for(var r=0,n=0;n<4;n++){r<<=4,r|=i[64*n+(t>>>18-6*n&63)]}for(n=0;n<4;n++){r<<=4,r|=i[256+64*n+(e>>>18-6*n&63)]}return r>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];e.permute=function(t){for(var e=0,r=0;r<o.length;r++)e<<=1,e|=t>>>o[r]&1;return e>>>0},e.padSplit=function(t,e,r){for(var n=t.toString(2);n.length<e;)n="0"+n;for(var i=[],o=0;o<e;o+=r)i.push(n.slice(o,o+r));return i.join(" ")}},function(t,e,r){(function(e){var n=r(87),i=r(360),o=r(6),s={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function a(t){n.call(this);var r,i=t.mode.toLowerCase(),o=s[i];r=t.decrypt?"decrypt":"encrypt";var a=t.key;"des-ede"!==i&&"des-ede-cbc"!==i||(a=e.concat([a,a.slice(0,8)]));var u=t.iv;this._des=o.create({key:a,iv:u,type:r})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],t.exports=a,o(a,n),a.prototype._update=function(t){return new e(this._des.update(t))},a.prototype._final=function(){return new e(this._des.final())}}).call(this,r(0).Buffer)},function(t,e,r){var n=r(1615),i=r(233),o=r(359),s=r(1600),a=r(231);function u(t,e,r){if(t=t.toLowerCase(),o[t])return i.createCipheriv(t,e,r);if(s[t])return new n({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function c(t,e,r){if(t=t.toLowerCase(),o[t])return i.createDecipheriv(t,e,r);if(s[t])return new n({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}e.createCipher=e.Cipher=function(t,e){var r,n;if(t=t.toLowerCase(),o[t])r=o[t].key,n=o[t].iv;else{if(!s[t])throw new TypeError("invalid suite type");r=8*s[t].key,n=s[t].iv}var i=a(e,!1,r,n);return u(t,i.key,i.iv)},e.createCipheriv=e.Cipheriv=u,e.createDecipher=e.Decipher=function(t,e){var r,n;if(t=t.toLowerCase(),o[t])r=o[t].key,n=o[t].iv;else{if(!s[t])throw new TypeError("invalid suite type");r=8*s[t].key,n=s[t].iv}var i=a(e,!1,r,n);return c(t,i.key,i.iv)},e.createDecipheriv=e.Decipheriv=c,e.listCiphers=e.getCiphers=function(){return Object.keys(s).concat(i.getCiphers())}},function(t,e,r){(function(e,n){var i,o=r(645),s=r(644),a=r(643),u=r(3).Buffer,c=e.crypto&&e.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},l=[];function h(t,e,r,n,i){return c.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(t){return c.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:i}},t,n<<3)}).then(function(t){return u.from(t)})}t.exports=function(t,r,p,d,m,g){if(u.isBuffer(t)||(t=u.from(t,s)),u.isBuffer(r)||(r=u.from(r,s)),o(p,d),"function"==typeof m&&(g=m,m=void 0),"function"!=typeof g)throw new Error("No callback provided to pbkdf2");var v=f[(m=m||"sha1").toLowerCase()];if(!v||"function"!=typeof e.Promise)return n.nextTick(function(){var e;try{e=a(t,r,p,d,m)}catch(t){return g(t)}g(null,e)});!function(t,e){t.then(function(t){n.nextTick(function(){e(null,t)})},function(t){n.nextTick(function(){e(t)})})}(function(t){if(e.process&&!e.process.browser)return Promise.resolve(!1);if(!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(void 0!==l[t])return l[t];var r=h(i=i||u.alloc(8),i,10,128,t).then(function(){return!0}).catch(function(){return!1});return l[t]=r,r}(v).then(function(e){return e?h(t,r,p,d,v):a(t,r,p,d,m)}),g)}}).call(this,r(7),r(2))},function(t,e,r){t.exports=r(646)},function(t,e,r){"use strict";var n=r(6),i=r(3).Buffer,o=r(87),s=i.alloc(128),a=64;function u(t,e){o.call(this,"digest"),"string"==typeof e&&(e=i.from(e)),this._alg=t,this._key=e,e.length>a?e=t(e):e.length<a&&(e=i.concat([e,s],a));for(var r=this._ipad=i.allocUnsafe(a),n=this._opad=i.allocUnsafe(a),u=0;u<a;u++)r[u]=54^e[u],n[u]=92^e[u];this._hash=[r]}n(u,o),u.prototype._update=function(t){this._hash.push(t)},u.prototype._final=function(){var t=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,t]))},t.exports=u},function(t,e,r){var n=r(6),i=r(648),o=r(133),s=r(3).Buffer,a=new Array(160);function u(){this.init(),this._w=a,o.call(this,128,112)}n(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var t=s.allocUnsafe(48);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=u},function(t,e,r){var n=r(6),i=r(649),o=r(133),s=r(3).Buffer,a=new Array(64);function u(){this.init(),this._w=a,o.call(this,64,56)}n(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var t=s.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=u},function(t,e,r){var n=r(6),i=r(133),o=r(3).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(t){return t<<5|t>>>27}function f(t){return t<<30|t>>>2}function l(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,h=0;h<16;++h)r[h]=t.readInt32BE(4*h);for(;h<80;++h)r[h]=(e=r[h-3]^r[h-8]^r[h-14]^r[h-16])<<1|e>>>31;for(var p=0;p<80;++p){var d=~~(p/20),m=c(n)+l(d,i,o,a)+u+r[p]+s[d]|0;u=a,a=o,o=f(i),i=n,n=m}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=u},function(t,e,r){var n=r(6),i=r(133),o=r(3).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(t){return t<<30|t>>>2}function f(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,l=0;l<16;++l)r[l]=t.readInt32BE(4*l);for(;l<80;++l)r[l]=r[l-3]^r[l-8]^r[l-14]^r[l-16];for(var h=0;h<80;++h){var p=~~(h/20),d=0|((e=n)<<5|e>>>27)+f(p,i,o,a)+u+r[h]+s[p];u=a,a=o,o=c(i),i=n,n=d}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=u},function(t,e,r){"use strict";(function(e){var n=r(50).Transform;function i(t){n.call(this),this._block=new e(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(6)(i,n),i.prototype._transform=function(t,r,n){var i=null;try{"buffer"!==r&&(t=new e(t,r)),this.update(t)}catch(t){i=t}n(i)},i.prototype._flush=function(t){var e=null;try{this.push(this._digest())}catch(t){e=t}t(e)},i.prototype.update=function(t,r){if(!e.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");e.isBuffer(t)||(t=new e(t,r||"binary"));for(var n=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)n[this._blockOffset++]=t[i++];for(var s=0,a=8*t.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},i.prototype._update=function(t){throw new Error("_update is not implemented")},i.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();return void 0!==t&&(e=e.toString(t)),e},i.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=i}).call(this,r(0).Buffer)},function(t,e,r){t.exports=r(106).PassThrough},function(t,e,r){t.exports=r(106).Transform},function(t,e,r){t.exports=r(105)},function(t,e,r){t.exports=r(364)},function(t,e,r){"use strict";t.exports=o;var n=r(650),i=r(42);function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}i.inherits=r(6),i.inherits(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},function(t,e){},function(t,e,r){"use strict";var n=r(3).Buffer,i=r(1630);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e,r,i,o=n.allocUnsafe(t>>>0),s=this.head,a=0;s;)e=s.data,r=o,i=a,e.copy(r,i),a+=s.data.length,s=s.next;return o},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";var n=r(3).Buffer,i=r(50).Transform;function o(t){i.call(this),this._block=n.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(6)(o,i),o.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(t){n=t}r(n)},o.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},o.prototype.update=function(t,e){if(function(t,e){if(!n.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(t)||(t=n.from(t,e));for(var r=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)r[this._blockOffset++]=t[i++];for(var s=0,a=8*t.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e},o.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=o},function(t,e){var r=function(t,e){for(var r=[],n=0;n<t;++n)r.push(e(n));return r};t.exports={generate:r,replicate:function(t,e){return r(t,function(){return e})},concat:function(t,e){return t.concat(e)},flatten:function(t){for(var e=[],r=0,n=t.length;r<n;++r)for(var i=0,o=t[r].length;i<o;++i)e.push(t[r][i]);return e},chunksOf:function(t,e){for(var r=[],n=0,i=e.length;n<i;n+=t)r.push(e.slice(n,n+t));return r}}},function(t,e,r){(function(e){var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=r(366),o=r(622),s=r(39),a=(r(621),new s.ec("secp256k1")),u=r(620),c=u.keccak256,f=u.keccak256s,l=function(t){for(var e=f(t.slice(2)),r="0x",n=0;n<40;n++)r+=parseInt(e[n+2],16)>7?t[n+2].toUpperCase():t[n+2];return r},h=function(t){var r=new e(t.slice(2),"hex"),n="0x"+a.keyFromPrivate(r).getPublic(!1,"hex").slice(2),i=c(n);return{address:l("0x"+i.slice(-40)),privateKey:t}},p=function(t){var e=n(t,3),r=e[0],o=i.pad(32,e[1]),s=i.pad(32,e[2]);return i.flatten([o,s,r])},d=function(t){return[i.slice(64,i.length(t),t),i.slice(0,32,t),i.slice(32,64,t)]},m=function(t){return function(r,n){var s=a.keyFromPrivate(new e(n.slice(2),"hex")).sign(new e(r.slice(2),"hex"),{canonical:!0});return p([o.fromString(i.fromNumber(t+s.recoveryParam)),i.pad(32,i.fromNat("0x"+s.r.toString(16))),i.pad(32,i.fromNat("0x"+s.s.toString(16)))])}},g=m(27);t.exports={create:function(t){var e=c(i.concat(i.random(32),t||i.random(32))),r=i.concat(i.concat(i.random(32),e),i.random(32)),n=c(r);return h(n)},toChecksum:l,fromPrivate:h,sign:g,makeSigner:m,recover:function(t,r){var n=d(r),o={v:i.toNumber(n[0]),r:n[1].slice(2),s:n[2].slice(2)},s="0x"+a.recoverPubKey(new e(t.slice(2),"hex"),o,o.v<2?o.v:1-o.v%2).encode("hex",!1).slice(2),u=c(s);return l("0x"+u.slice(-40))},encodeSignature:p,decodeSignature:d}}).call(this,r(0).Buffer)},function(t,e,r){var n;(function(){var r=this,i=r._,o=Array.prototype,s=Object.prototype,a=Function.prototype,u=o.push,c=o.slice,f=s.toString,l=s.hasOwnProperty,h=Array.isArray,p=Object.keys,d=a.bind,m=Object.create,g=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};void 0!==t&&t.exports&&(e=t.exports=v),e._=v,v.VERSION="1.8.3";var y=function(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)}}return function(){return t.apply(e,arguments)}},b=function(t,e,r){return null==t?v.identity:v.isFunction(t)?y(t,e,r):v.isObject(t)?v.matcher(t):v.property(t)};v.iteratee=function(t,e){return b(t,e,1/0)};var w=function(t,e){return function(r){var n=arguments.length;if(n<2||null==r)return r;for(var i=1;i<n;i++)for(var o=arguments[i],s=t(o),a=s.length,u=0;u<a;u++){var c=s[u];e&&void 0!==r[c]||(r[c]=o[c])}return r}},_=function(t){if(!v.isObject(t))return{};if(m)return m(t);g.prototype=t;var e=new g;return g.prototype=null,e},k=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,x=k("length"),E=function(t){var e=x(t);return"number"==typeof e&&e>=0&&e<=S};function C(t){return function(e,r,n,i){r=y(r,i,4);var o=!E(e)&&v.keys(e),s=(o||e).length,a=t>0?0:s-1;return arguments.length<3&&(n=e[o?o[a]:a],a+=t),function(e,r,n,i,o,s){for(;o>=0&&o<s;o+=t){var a=i?i[o]:o;n=r(n,e[a],a,e)}return n}(e,r,n,o,a,s)}}v.each=v.forEach=function(t,e,r){var n,i;if(e=y(e,r),E(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else{var o=v.keys(t);for(n=0,i=o.length;n<i;n++)e(t[o[n]],o[n],t)}return t},v.map=v.collect=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=Array(i),s=0;s<i;s++){var a=n?n[s]:s;o[s]=e(t[a],a,t)}return o},v.reduce=v.foldl=v.inject=C(1),v.reduceRight=v.foldr=C(-1),v.find=v.detect=function(t,e,r){var n;if(void 0!==(n=E(t)?v.findIndex(t,e,r):v.findKey(t,e,r))&&-1!==n)return t[n]},v.filter=v.select=function(t,e,r){var n=[];return e=b(e,r),v.each(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n},v.reject=function(t,e,r){return v.filter(t,v.negate(b(e)),r)},v.every=v.all=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(!e(t[s],s,t))return!1}return!0},v.some=v.any=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(e(t[s],s,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,r,n){return E(t)||(t=v.values(t)),("number"!=typeof r||n)&&(r=0),v.indexOf(t,e,r)>=0},v.invoke=function(t,e){var r=c.call(arguments,2),n=v.isFunction(e);return v.map(t,function(t){var i=n?e:t[e];return null==i?i:i.apply(t,r)})},v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,r){var n,i,o=-1/0,s=-1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])>o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)});return o},v.min=function(t,e,r){var n,i,o=1/0,s=1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])<o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))<s||i===1/0&&o===1/0)&&(o=t,s=i)});return o},v.shuffle=function(t){for(var e,r=E(t)?t:v.values(t),n=r.length,i=Array(n),o=0;o<n;o++)(e=v.random(0,o))!==o&&(i[o]=i[e]),i[e]=r[o];return i},v.sample=function(t,e,r){return null==e||r?(E(t)||(t=v.values(t)),t[v.random(t.length-1)]):v.shuffle(t).slice(0,Math.max(0,e))},v.sortBy=function(t,e,r){return e=b(e,r),v.pluck(v.map(t,function(t,r,n){return{value:t,index:r,criteria:e(t,r,n)}}).sort(function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index}),"value")};var A=function(t){return function(e,r,n){var i={};return r=b(r,n),v.each(e,function(n,o){var s=r(n,o,e);t(i,n,s)}),i}};v.groupBy=A(function(t,e,r){v.has(t,r)?t[r].push(e):t[r]=[e]}),v.indexBy=A(function(t,e,r){t[r]=e}),v.countBy=A(function(t,e,r){v.has(t,r)?t[r]++:t[r]=1}),v.toArray=function(t){return t?v.isArray(t)?c.call(t):E(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:E(t)?t.length:v.keys(t).length},v.partition=function(t,e,r){e=b(e,r);var n=[],i=[];return v.each(t,function(t,r,o){(e(t,r,o)?n:i).push(t)}),[n,i]},v.first=v.head=v.take=function(t,e,r){if(null!=t)return null==e||r?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,r){return c.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))},v.last=function(t,e,r){if(null!=t)return null==e||r?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,r){return c.call(t,null==e||r?1:e)},v.compact=function(t){return v.filter(t,v.identity)};var M=function(t,e,r,n){for(var i=[],o=0,s=n||0,a=x(t);s<a;s++){var u=t[s];if(E(u)&&(v.isArray(u)||v.isArguments(u))){e||(u=M(u,e,r));var c=0,f=u.length;for(i.length+=f;c<f;)i[o++]=u[c++]}else r||(i[o++]=u)}return i};function I(t){return function(e,r,n){r=b(r,n);for(var i=x(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(r(e[o],o,e))return o;return-1}}function T(t,e,r){return function(n,i,o){var s=0,a=x(n);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(r&&o&&a)return n[o=r(n,i)]===i?o:-1;if(i!=i)return(o=e(c.call(n,s,a),v.isNaN))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(n[o]===i)return o;return-1}}v.flatten=function(t,e){return M(t,e,!1)},v.without=function(t){return v.difference(t,c.call(arguments,1))},v.uniq=v.unique=function(t,e,r,n){v.isBoolean(e)||(n=r,r=e,e=!1),null!=r&&(r=b(r,n));for(var i=[],o=[],s=0,a=x(t);s<a;s++){var u=t[s],c=r?r(u,s,t):u;e?(s&&o===c||i.push(u),o=c):r?v.contains(o,c)||(o.push(c),i.push(u)):v.contains(i,u)||i.push(u)}return i},v.union=function(){return v.uniq(M(arguments,!0,!0))},v.intersection=function(t){for(var e=[],r=arguments.length,n=0,i=x(t);n<i;n++){var o=t[n];if(!v.contains(e,o)){for(var s=1;s<r&&v.contains(arguments[s],o);s++);s===r&&e.push(o)}}return e},v.difference=function(t){var e=M(arguments,!0,!0,1);return v.filter(t,function(t){return!v.contains(e,t)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(t){for(var e=t&&v.max(t,x).length||0,r=Array(e),n=0;n<e;n++)r[n]=v.pluck(t,n);return r},v.object=function(t,e){for(var r={},n=0,i=x(t);n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r},v.findIndex=I(1),v.findLastIndex=I(-1),v.sortedIndex=function(t,e,r,n){for(var i=(r=b(r,n,1))(e),o=0,s=x(t);o<s;){var a=Math.floor((o+s)/2);r(t[a])<i?o=a+1:s=a}return o},v.indexOf=T(1,v.findIndex,v.sortedIndex),v.lastIndexOf=T(-1,v.findLastIndex),v.range=function(t,e,r){null==e&&(e=t||0,t=0),r=r||1;for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),o=0;o<n;o++,t+=r)i[o]=t;return i};var O=function(t,e,r,n,i){if(!(n instanceof e))return t.apply(r,i);var o=_(t.prototype),s=t.apply(o,i);return v.isObject(s)?s:o};v.bind=function(t,e){if(d&&t.bind===d)return d.apply(t,c.call(arguments,1));if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var r=c.call(arguments,2),n=function(){return O(t,n,e,this,r.concat(c.call(arguments)))};return n},v.partial=function(t){var e=c.call(arguments,1),r=function(){for(var n=0,i=e.length,o=Array(i),s=0;s<i;s++)o[s]=e[s]===v?arguments[n++]:e[s];for(;n<arguments.length;)o.push(arguments[n++]);return O(t,r,this,this,o)};return r},v.bindAll=function(t){var e,r,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)t[r=arguments[e]]=v.bind(t[r],t);return t},v.memoize=function(t,e){var r=function(n){var i=r.cache,o=""+(e?e.apply(this,arguments):n);return v.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return r.cache={},r},v.delay=function(t,e){var r=c.call(arguments,2);return setTimeout(function(){return t.apply(null,r)},e)},v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,r){var n,i,o,s=null,a=0;r||(r={});var u=function(){a=!1===r.leading?0:v.now(),s=null,o=t.apply(n,i),s||(n=i=null)};return function(){var c=v.now();a||!1!==r.leading||(a=c);var f=e-(c-a);return n=this,i=arguments,f<=0||f>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(n,i),s||(n=i=null)):s||!1===r.trailing||(s=setTimeout(u,f)),o}},v.debounce=function(t,e,r){var n,i,o,s,a,u=function(){var c=v.now()-s;c<e&&c>=0?n=setTimeout(u,e-c):(n=null,r||(a=t.apply(o,i),n||(o=i=null)))};return function(){o=this,i=arguments,s=v.now();var c=r&&!n;return n||(n=setTimeout(u,e)),c&&(a=t.apply(o,i),o=i=null),a}},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.before=function(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}},v.once=v.partial(v.before,2);var B=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function N(t,e){var r=P.length,n=t.constructor,i=v.isFunction(n)&&n.prototype||s,o="constructor";for(v.has(t,o)&&!v.contains(e,o)&&e.push(o);r--;)(o=P[r])in t&&t[o]!==i[o]&&!v.contains(e,o)&&e.push(o)}v.keys=function(t){if(!v.isObject(t))return[];if(p)return p(t);var e=[];for(var r in t)v.has(t,r)&&e.push(r);return B&&N(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var r in t)e.push(r);return B&&N(t,e),e},v.values=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n},v.mapObject=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=i.length,s={},a=0;a<o;a++)s[n=i[a]]=e(t[n],n,t);return s},v.pairs=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=[e[i],t[e[i]]];return n},v.invert=function(t){for(var e={},r=v.keys(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e},v.functions=v.methods=function(t){var e=[];for(var r in t)v.isFunction(t[r])&&e.push(r);return e.sort()},v.extend=w(v.allKeys),v.extendOwn=v.assign=w(v.keys),v.findKey=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=0,s=i.length;o<s;o++)if(e(t[n=i[o]],n,t))return n},v.pick=function(t,e,r){var n,i,o={},s=t;if(null==s)return o;v.isFunction(e)?(i=v.allKeys(s),n=y(e,r)):(i=M(arguments,!1,!1,1),n=function(t,e,r){return e in r},s=Object(s));for(var a=0,u=i.length;a<u;a++){var c=i[a],f=s[c];n(f,c,s)&&(o[c]=f)}return o},v.omit=function(t,e,r){if(v.isFunction(e))e=v.negate(e);else{var n=v.map(M(arguments,!1,!1,1),String);e=function(t,e){return!v.contains(n,e)}}return v.pick(t,e,r)},v.defaults=w(v.allKeys,!0),v.create=function(t,e){var r=_(t);return e&&v.extendOwn(r,e),r},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var r=v.keys(e),n=r.length;if(null==t)return!n;for(var i=Object(t),o=0;o<n;o++){var s=r[o];if(e[s]!==i[s]||!(s in i))return!1}return!0};var R=function(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var i=f.call(t);if(i!==f.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===t)return n[u]===e;if(r.push(t),n.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!R(t[u],e[u],r,n))return!1}else{var c,l=v.keys(t);if(u=l.length,v.keys(e).length!==u)return!1;for(;u--;)if(c=l[u],!v.has(e,c)||!R(t[c],e[c],r,n))return!1}return r.pop(),n.pop(),!0};v.isEqual=function(t,e){return R(t,e)},v.isEmpty=function(t){return null==t||(E(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=h||function(t){return"[object Array]"===f.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){v["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return v.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&t!==+t},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){return null!=t&&l.call(t,e)},v.noConflict=function(){return r._=i,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=k,v.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,r){var n=Array(Math.max(0,t));e=y(e,r,1);for(var i=0;i<t;i++)n[i]=e(i);return n},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=v.invert(F),L=function(t){var e=function(e){return t[e]},r="(?:"+v.keys(t).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(i,e):t}};v.escape=L(F),v.unescape=L(j),v.result=function(t,e,r){var n=null==t?void 0:t[e];return void 0===n&&(n=r),v.isFunction(n)?n.call(t):n};var D=0;v.uniqueId=function(t){var e=++D+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,K=function(t){return"\\"+z[t]};v.template=function(t,e,r){!e&&r&&(e=r),e=v.defaults({},e,v.templateSettings);var n=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(n,function(e,r,n,s,a){return o+=t.slice(i,a).replace(H,K),i=a+e.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,v)},u=e.variable||"obj";return a.source="function("+u+"){\n"+o+"}",a},v.chain=function(t){var e=v(t);return e._chain=!0,e};var q=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){v.each(v.functions(t),function(e){var r=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),q(this,r.apply(v,t))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];v.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0],q(this,r)}}),v.each(["concat","join","slice"],function(t){var e=o[t];v.prototype[t]=function(){return q(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},void 0===(n=function(){return v}.apply(e,[]))||(t.exports=n)}).call(this)},function(t,e,r){"use strict";(function(e,n){var i=r(1637),o=r(110),s=r(109),a=r(661),u=r(1636),c=r(620),f=r(621),l=r(622),h=r(366),p=r(107),d=r(1553),m=r(1551),g=r(54),v=r(43),y=function(t){return i.isUndefined(t)||i.isNull(t)},b=function(t){for(;t&&t.startsWith("0x0");)t="0x"+t.slice(3);return t},w=function(t){return t.length%2==1&&(t=t.replace("0x","0x0")),t},_=function(){var t=this;o.packageInit(this,arguments),delete this.BatchRequest,delete this.extend;var e=[new s({name:"getId",call:"net_version",params:0,outputFormatter:g.hexToNumber}),new s({name:"getGasPrice",call:"eth_gasPrice",params:0}),new s({name:"getTransactionCount",call:"eth_getTransactionCount",params:2,inputFormatter:[function(t){if(g.isAddress(t))return t;throw new Error("Address "+t+' is not a valid address to get the "transactionCount".')},function(){return"latest"}]})];this._ethereumCall={},i.each(e,function(e){e.attachToObject(t._ethereumCall),e.setRequestManager(t._requestManager)}),this.wallet=new k(this)};function k(t){this._accounts=t,this.length=0,this.defaultKeyName="web3js_wallet"}_.prototype._addAccountFunctions=function(t){var e=this;return t.signTransaction=function(r,n){return e.signTransaction(r,t.privateKey,n)},t.sign=function(r){return e.sign(r,t.privateKey)},t.encrypt=function(r,n){return e.encrypt(t.privateKey,r,n)},t},_.prototype.create=function(t){return this._addAccountFunctions(u.create(t||g.randomHex(32)))},_.prototype.privateKeyToAccount=function(t){return this._addAccountFunctions(u.fromPrivate(t))},_.prototype.signTransaction=function(t,e,r){var n,o=!1;if(r=r||function(){},!t)return o=new Error("No transaction object given!"),r(o),a.reject(o);function s(t){if(t.gas||t.gasLimit||(o=new Error('"gas" is missing')),(t.nonce<0||t.gas<0||t.gasPrice<0||t.chainId<0)&&(o=new Error("Gas, gasPrice, nonce or chainId is lower than 0")),o)return r(o),a.reject(new Error('"gas" is missing'));try{var i=t=v.formatters.inputCallFormatter(t);i.to=t.to||"0x",i.data=t.data||"0x",i.value=t.value||"0x",i.chainId=g.numberToHex(t.chainId);var s=f.encode([h.fromNat(i.nonce),h.fromNat(i.gasPrice),h.fromNat(i.gas),i.to.toLowerCase(),h.fromNat(i.value),i.data,h.fromNat(i.chainId||"0x1"),"0x","0x"]),p=c.keccak256(s),d=u.makeSigner(2*l.toNumber(i.chainId||"0x1")+35)(c.keccak256(s),e),m=f.decode(s).slice(0,6).concat(u.decodeSignature(d));m[6]=w(b(m[6])),m[7]=w(b(m[7])),m[8]=w(b(m[8]));var y=f.encode(m),_=f.decode(y);n={messageHash:p,v:b(_[6]),r:b(_[7]),s:b(_[8]),rawTransaction:y}}catch(t){return r(t),a.reject(t)}return r(null,n),n}return void 0!==t.nonce&&void 0!==t.chainId&&void 0!==t.gasPrice?a.resolve(s(t)):a.all([y(t.chainId)?this._ethereumCall.getId():t.chainId,y(t.gasPrice)?this._ethereumCall.getGasPrice():t.gasPrice,y(t.nonce)?this._ethereumCall.getTransactionCount(this.privateKeyToAccount(e).address):t.nonce]).then(function(e){if(y(e[0])||y(e[1])||y(e[2]))throw new Error('One of the values "chainId", "gasPrice", or "nonce" couldn\'t be fetched: '+JSON.stringify(e));return s(i.extend(t,{chainId:e[0],gasPrice:e[1],nonce:e[2]}))})},_.prototype.recoverTransaction=function(t){var e=f.decode(t),r=u.encodeSignature(e.slice(6,9)),n=h.toNumber(e[6]),i=n<35?[]:[h.fromNumber(n-35>>1),"0x","0x"],o=e.slice(0,6).concat(i),s=f.encode(o);return u.recover(c.keccak256(s),r)},_.prototype.hashMessage=function(t){var e=g.isHexStrict(t)?g.hexToBytes(t):t,r=n.from(e),i="Ethereum Signed Message:\n"+e.length,o=n.from(i),s=n.concat([o,r]);return c.keccak256s(s)},_.prototype.sign=function(t,e){var r=this.hashMessage(t),n=u.sign(r,e),i=u.decodeSignature(n);return{message:t,messageHash:r,v:i[0],r:i[1],s:i[2],signature:n}},_.prototype.recover=function(t,e,r){var n=[].slice.apply(arguments);return i.isObject(t)?this.recover(t.messageHash,u.encodeSignature([t.v,t.r,t.s]),!0):(r||(t=this.hashMessage(t)),n.length>=4?(r=n.slice(-1)[0],r=!!i.isBoolean(r)&&!!r,this.recover(t,u.encodeSignature(n.slice(1,4)),r)):u.recover(t,e))},_.prototype.decrypt=function(t,e,r){if(!i.isString(e))throw new Error("No password given.");var o,s,a=i.isObject(t)?t:JSON.parse(r?t.toLowerCase():t);if(3!==a.version)throw new Error("Not a valid V3 wallet");if("scrypt"===a.crypto.kdf)s=a.crypto.kdfparams,o=d(new n(e),new n(s.salt,"hex"),s.n,s.r,s.p,s.dklen);else{if("pbkdf2"!==a.crypto.kdf)throw new Error("Unsupported key derivation scheme");if("hmac-sha256"!==(s=a.crypto.kdfparams).prf)throw new Error("Unsupported parameters to PBKDF2");o=p.pbkdf2Sync(new n(e),new n(s.salt,"hex"),s.c,s.dklen,"sha256")}var u=new n(a.crypto.ciphertext,"hex");if(g.sha3(n.concat([o.slice(16,32),u])).replace("0x","")!==a.crypto.mac)throw new Error("Key derivation failed - possibly wrong password");var c=p.createDecipheriv(a.crypto.cipher,o.slice(0,16),new n(a.crypto.cipherparams.iv,"hex")),f="0x"+n.concat([c.update(u),c.final()]).toString("hex");return this.privateKeyToAccount(f)},_.prototype.encrypt=function(t,e,r){var i,o=this.privateKeyToAccount(t),s=(r=r||{}).salt||p.randomBytes(32),a=r.iv||p.randomBytes(16),u=r.kdf||"scrypt",c={dklen:r.dklen||32,salt:s.toString("hex")};if("pbkdf2"===u)c.c=r.c||262144,c.prf="hmac-sha256",i=p.pbkdf2Sync(new n(e),s,c.c,c.dklen,"sha256");else{if("scrypt"!==u)throw new Error("Unsupported kdf");c.n=r.n||8192,c.r=r.r||8,c.p=r.p||1,i=d(new n(e),s,c.n,c.r,c.p,c.dklen)}var f=p.createCipheriv(r.cipher||"aes-128-ctr",i.slice(0,16),a);if(!f)throw new Error("Unsupported cipher");var l=n.concat([f.update(new n(o.privateKey.replace("0x",""),"hex")),f.final()]),h=g.sha3(n.concat([i.slice(16,32),new n(l,"hex")])).replace("0x","");return{version:3,id:m.v4({random:r.uuid||p.randomBytes(16)}),address:o.address.toLowerCase().replace("0x",""),crypto:{ciphertext:l.toString("hex"),cipherparams:{iv:a.toString("hex")},cipher:r.cipher||"aes-128-ctr",kdf:u,kdfparams:c,mac:h.toString("hex")}}},k.prototype._findSafeIndex=function(t){return t=t||0,i.has(this,t)?this._findSafeIndex(t+1):t},k.prototype._currentIndexes=function(){return Object.keys(this).map(function(t){return parseInt(t)}).filter(function(t){return t<9e20})},k.prototype.create=function(t,e){for(var r=0;r<t;++r)this.add(this._accounts.create(e).privateKey);return this},k.prototype.add=function(t){return i.isString(t)&&(t=this._accounts.privateKeyToAccount(t)),this[t.address]?this[t.address]:((t=this._accounts.privateKeyToAccount(t.privateKey)).index=this._findSafeIndex(),this[t.index]=t,this[t.address]=t,this[t.address.toLowerCase()]=t,this.length++,t)},k.prototype.remove=function(t){var e=this[t];return!(!e||!e.address)&&(this[e.address].privateKey=null,delete this[e.address],this[e.address.toLowerCase()].privateKey=null,delete this[e.address.toLowerCase()],this[e.index].privateKey=null,delete this[e.index],this.length--,!0)},k.prototype.clear=function(){var t=this;return this._currentIndexes().forEach(function(e){t.remove(e)}),this},k.prototype.encrypt=function(t,e){var r=this;return this._currentIndexes().map(function(n){return r[n].encrypt(t,e)})},k.prototype.decrypt=function(t,e){var r=this;return t.forEach(function(t){var n=r._accounts.decrypt(t,e);if(!n)throw new Error("Couldn't decrypt accounts. Password wrong?");r.add(n)}),this},k.prototype.save=function(t,e){return localStorage.setItem(e||this.defaultKeyName,JSON.stringify(this.encrypt(t))),!0},k.prototype.load=function(t,e){var r=localStorage.getItem(e||this.defaultKeyName);if(r)try{r=JSON.parse(r)}catch(t){}return this.decrypt(r||[],t)},"undefined"==typeof localStorage&&(delete k.prototype.save,delete k.prototype.load),t.exports=_}).call(this,r(7),r(0).Buffer)},function(t,e,r){var n=r(68),i=r(108),o=function(){this._inputFormatter=n.formatInputBytes,this._outputFormatter=n.formatOutputBytes};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(t){return!!t.match(/^bytes([0-9]{1,})(\[([0-9]*)\])*$/)},t.exports=o},function(t,e,r){var n=r(68),i=r(108),o=function(){this._inputFormatter=n.formatInputString,this._outputFormatter=n.formatOutputString};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(t){return!!t.match(/^string(\[([0-9]*)\])*$/)},o.prototype.isDynamicType=function(){return!0},t.exports=o},function(t,e,r){var n=r(68),i=r(108),o=function(){this._inputFormatter=n.formatInputDynamicBytes,this._outputFormatter=n.formatOutputDynamicBytes};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(t){return!!t.match(/^bytes(\[([0-9]*)\])*$/)},o.prototype.isDynamicType=function(){return!0},t.exports=o},function(t,e,r){var n=r(68),i=r(108),o=function(){this._inputFormatter=n.formatInputInt,this._outputFormatter=n.formatOutputUInt};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(t){return!!t.match(/^uint([0-9]*)?(\[([0-9]*)\])*$/)},t.exports=o},function(t,e,r){var n=r(68),i=r(108),o=function(){this._inputFormatter=n.formatInputInt,this._outputFormatter=n.formatOutputInt};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(t){return!!t.match(/^int([0-9]*)?(\[([0-9]*)\])*$/)},t.exports=o},function(t,e,r){var n=r(68),i=r(108),o=function(){this._inputFormatter=n.formatInputBool,this._outputFormatter=n.formatOutputBool};(o.prototype=new i({})).constructor=o,o.prototype.isType=function(t){return!!t.match(/^bool(\[([0-9]*)\])*$/)},t.exports=o},function(t,e,r){var n=r(68),i=r(43).formatters,o=r(108),s=function(){this._inputFormatter=function(){var t=Array.prototype.slice.call(arguments);return t[0]=t[0]&&"0x0"!==t[0]?i.inputAddressFormatter(t[0]):"",n.formatInputInt.apply(this,t)},this._outputFormatter=n.formatOutputAddress};(s.prototype=new o({})).constructor=s,s.prototype.isType=function(t){return!!t.match(/address(\[([0-9]*)\])?/)},t.exports=s},function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s=r(0).Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var s=t.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function u(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,f=r;f<a;f+=n)c=u(t,f,f+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var l=1;for(c=u(t,f,t.length,e),f=0;f<s;f++)l*=e;this.imuln(l),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,l=67108863&u,h=Math.min(c,e.length-1),p=Math.max(0,c-t.length+1);p<=h;p++){var d=c-p|0;f+=(s=(i=0|t.words[d])*(o=0|e.words[p])+l)/67108864|0,l=67108863&s}r.words[c]=0|l,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(t=t||10,e=0|e||1,16===t||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=f[t],p=l[t];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modn(p).toString(t);r=(d=d.idivn(p)).isZero()?m+r:c[h-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===e,c=new t(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[a]=s;for(;a<o;a++)c[a]=0}else{for(a=0;a<o-i;a++)c[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[o-a-1]=s}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,f=0|s[0],l=8191&f,h=f>>>13,p=0|s[1],d=8191&p,m=p>>>13,g=0|s[2],v=8191&g,y=g>>>13,b=0|s[3],w=8191&b,_=b>>>13,k=0|s[4],S=8191&k,x=k>>>13,E=0|s[5],C=8191&E,A=E>>>13,M=0|s[6],I=8191&M,T=M>>>13,O=0|s[7],B=8191&O,P=O>>>13,N=0|s[8],R=8191&N,F=N>>>13,j=0|s[9],L=8191&j,D=j>>>13,U=0|a[0],z=8191&U,H=U>>>13,K=0|a[1],q=8191&K,V=K>>>13,W=0|a[2],G=8191&W,Y=W>>>13,$=0|a[3],Z=8191&$,X=$>>>13,J=0|a[4],Q=8191&J,tt=J>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ft=0|a[8],lt=8191&ft,ht=ft>>>13,pt=0|a[9],dt=8191&pt,mt=pt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(l,z))|0)+((8191&(i=(i=Math.imul(l,H))+Math.imul(h,z)|0))<<13)|0;c=((o=Math.imul(h,H))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(d,z),i=(i=Math.imul(d,H))+Math.imul(m,z)|0,o=Math.imul(m,H);var vt=(c+(n=n+Math.imul(l,q)|0)|0)+((8191&(i=(i=i+Math.imul(l,V)|0)+Math.imul(h,q)|0))<<13)|0;c=((o=o+Math.imul(h,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,H))+Math.imul(y,z)|0,o=Math.imul(y,H),n=n+Math.imul(d,q)|0,i=(i=i+Math.imul(d,V)|0)+Math.imul(m,q)|0,o=o+Math.imul(m,V)|0;var yt=(c+(n=n+Math.imul(l,G)|0)|0)+((8191&(i=(i=i+Math.imul(l,Y)|0)+Math.imul(h,G)|0))<<13)|0;c=((o=o+Math.imul(h,Y)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,z),i=(i=Math.imul(w,H))+Math.imul(_,z)|0,o=Math.imul(_,H),n=n+Math.imul(v,q)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(d,G)|0,i=(i=i+Math.imul(d,Y)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Y)|0;var bt=(c+(n=n+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,X)|0)+Math.imul(h,Z)|0))<<13)|0;c=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,H))+Math.imul(x,z)|0,o=Math.imul(x,H),n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,V)|0,n=n+Math.imul(v,G)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,Y)|0,n=n+Math.imul(d,Z)|0,i=(i=i+Math.imul(d,X)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,X)|0;var wt=(c+(n=n+Math.imul(l,Q)|0)|0)+((8191&(i=(i=i+Math.imul(l,tt)|0)+Math.imul(h,Q)|0))<<13)|0;c=((o=o+Math.imul(h,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(C,z),i=(i=Math.imul(C,H))+Math.imul(A,z)|0,o=Math.imul(A,H),n=n+Math.imul(S,q)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(x,q)|0,o=o+Math.imul(x,V)|0,n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,X)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,X)|0,n=n+Math.imul(d,Q)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(l,rt)|0)|0)+((8191&(i=(i=i+Math.imul(l,nt)|0)+Math.imul(h,rt)|0))<<13)|0;c=((o=o+Math.imul(h,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,z),i=(i=Math.imul(I,H))+Math.imul(T,z)|0,o=Math.imul(T,H),n=n+Math.imul(C,q)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(A,q)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(S,G)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Y)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(d,rt)|0,i=(i=i+Math.imul(d,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var kt=(c+(n=n+Math.imul(l,ot)|0)|0)+((8191&(i=(i=i+Math.imul(l,st)|0)+Math.imul(h,ot)|0))<<13)|0;c=((o=o+Math.imul(h,st)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,z),i=(i=Math.imul(B,H))+Math.imul(P,z)|0,o=Math.imul(P,H),n=n+Math.imul(I,q)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(T,q)|0,o=o+Math.imul(T,V)|0,n=n+Math.imul(C,G)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,Y)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var St=(c+(n=n+Math.imul(l,ut)|0)|0)+((8191&(i=(i=i+Math.imul(l,ct)|0)+Math.imul(h,ut)|0))<<13)|0;c=((o=o+Math.imul(h,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,H))+Math.imul(F,z)|0,o=Math.imul(F,H),n=n+Math.imul(B,q)|0,i=(i=i+Math.imul(B,V)|0)+Math.imul(P,q)|0,o=o+Math.imul(P,V)|0,n=n+Math.imul(I,G)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,Y)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(d,ut)|0,i=(i=i+Math.imul(d,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var xt=(c+(n=n+Math.imul(l,lt)|0)|0)+((8191&(i=(i=i+Math.imul(l,ht)|0)+Math.imul(h,lt)|0))<<13)|0;c=((o=o+Math.imul(h,ht)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,H))+Math.imul(D,z)|0,o=Math.imul(D,H),n=n+Math.imul(R,q)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(F,q)|0,o=o+Math.imul(F,V)|0,n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,X)|0,n=n+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0,n=n+Math.imul(d,lt)|0,i=(i=i+Math.imul(d,ht)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,ht)|0;var Et=(c+(n=n+Math.imul(l,dt)|0)|0)+((8191&(i=(i=i+Math.imul(l,mt)|0)+Math.imul(h,dt)|0))<<13)|0;c=((o=o+Math.imul(h,mt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,V))+Math.imul(D,q)|0,o=Math.imul(D,V),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,Y)|0,n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ct)|0,n=n+Math.imul(v,lt)|0,i=(i=i+Math.imul(v,ht)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,ht)|0;var Ct=(c+(n=n+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,mt)|0)+Math.imul(m,dt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(L,G),i=(i=Math.imul(L,Y))+Math.imul(D,G)|0,o=Math.imul(D,Y),n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(F,Z)|0,o=o+Math.imul(F,X)|0,n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(T,rt)|0,o=o+Math.imul(T,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,n=n+Math.imul(w,lt)|0,i=(i=i+Math.imul(w,ht)|0)+Math.imul(_,lt)|0,o=o+Math.imul(_,ht)|0;var At=(c+(n=n+Math.imul(v,dt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,dt)|0))<<13)|0;c=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(L,Z),i=(i=Math.imul(L,X))+Math.imul(D,Z)|0,o=Math.imul(D,X),n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(F,Q)|0,o=o+Math.imul(F,tt)|0,n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,ct)|0,n=n+Math.imul(S,lt)|0,i=(i=i+Math.imul(S,ht)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,ht)|0;var Mt=(c+(n=n+Math.imul(w,dt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,dt)|0))<<13)|0;c=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(L,Q),i=(i=Math.imul(L,tt))+Math.imul(D,Q)|0,o=Math.imul(D,tt),n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(F,rt)|0,o=o+Math.imul(F,nt)|0,n=n+Math.imul(B,ot)|0,i=(i=i+Math.imul(B,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,n=n+Math.imul(C,lt)|0,i=(i=i+Math.imul(C,ht)|0)+Math.imul(A,lt)|0,o=o+Math.imul(A,ht)|0;var It=(c+(n=n+Math.imul(S,dt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(x,dt)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(L,rt),i=(i=Math.imul(L,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,n=n+Math.imul(B,ut)|0,i=(i=i+Math.imul(B,ct)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,ct)|0,n=n+Math.imul(I,lt)|0,i=(i=i+Math.imul(I,ht)|0)+Math.imul(T,lt)|0,o=o+Math.imul(T,ht)|0;var Tt=(c+(n=n+Math.imul(C,dt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(A,dt)|0))<<13)|0;c=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(L,ot),i=(i=Math.imul(L,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,ct)|0)+Math.imul(F,ut)|0,o=o+Math.imul(F,ct)|0,n=n+Math.imul(B,lt)|0,i=(i=i+Math.imul(B,ht)|0)+Math.imul(P,lt)|0,o=o+Math.imul(P,ht)|0;var Ot=(c+(n=n+Math.imul(I,dt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(T,dt)|0))<<13)|0;c=((o=o+Math.imul(T,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(L,ut),i=(i=Math.imul(L,ct))+Math.imul(D,ut)|0,o=Math.imul(D,ct),n=n+Math.imul(R,lt)|0,i=(i=i+Math.imul(R,ht)|0)+Math.imul(F,lt)|0,o=o+Math.imul(F,ht)|0;var Bt=(c+(n=n+Math.imul(B,dt)|0)|0)+((8191&(i=(i=i+Math.imul(B,mt)|0)+Math.imul(P,dt)|0))<<13)|0;c=((o=o+Math.imul(P,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(L,lt),i=(i=Math.imul(L,ht))+Math.imul(D,lt)|0,o=Math.imul(D,ht);var Pt=(c+(n=n+Math.imul(R,dt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(F,dt)|0))<<13)|0;c=((o=o+Math.imul(F,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Nt=(c+(n=Math.imul(L,dt))|0)+((8191&(i=(i=Math.imul(L,mt))+Math.imul(D,dt)|0))<<13)|0;return c=((o=Math.imul(D,mt))+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=kt,u[7]=St,u[8]=xt,u[9]=Et,u[10]=Ct,u[11]=At,u[12]=Mt,u[13]=It,u[14]=Tt,u[15]=Ot,u[16]=Bt,u[17]=Pt,u[18]=Nt,0!==c&&(u[19]=c,r.length++),r};function d(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(p=h),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):r<63?h(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,l=(0|t.words[f])*(0|e.words[c]),h=67108863&l;a=67108863&(h=h+a|0),i+=(s=(s=s+(l/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):d(this,t,e)},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},m.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var l=u,h=c,p=0;p<s;p++){var d=r[f+p],m=n[f+p],g=r[f+p+s],v=n[f+p+s],y=l*g-h*v;v=l*v+h*g,g=y,r[f+p]=d+g,n[f+p]=m+v,r[f+p+s]=d-g,n[f+p+s]=m-v,p!==a&&(y=u*l-c*h,h=u*h+c*l,l=y)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),l=new Array(n),h=r.words;h.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,l,n,i);for(var p=0;p<n;p++){var d=a[p]*f[p]-u[p]*l[p];u[p]=a[p]*l[p]+u[p]*f[p],a[p]=d}return this.conjugate(a,u,n),this.transform(a,u,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),d(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-o|l>>>o,f=l&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var h=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,l);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=h)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),l=e.clone();!e.isZero();){for(var h=0,p=1;0==(e.words[0]&p)&&h<26;++h,p<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(l)),i.iushrn(1),s.iushrn(1);for(var d=0,m=1;0==(r.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(l)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;0==(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var l=0,h=1;0==(r.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new k(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(y,v),y.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,v),i(w,v),i(_,v),_.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new _}return g[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,i),h=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),d=s;0!==p.cmp(a);){for(var m=p,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<d);var v=this.pow(l,new o(1).iushln(d-g-1));h=h.redMul(v),l=v.redSqr(),p=p.redMul(l),d=g}return h},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new o(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var l=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new S(t)},i(S,k),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)}).call(this,r(24)(t))},function(t,e,r){var n;(function(){var r=this,i=r._,o=Array.prototype,s=Object.prototype,a=Function.prototype,u=o.push,c=o.slice,f=s.toString,l=s.hasOwnProperty,h=Array.isArray,p=Object.keys,d=a.bind,m=Object.create,g=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};void 0!==t&&t.exports&&(e=t.exports=v),e._=v,v.VERSION="1.8.3";var y=function(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)}}return function(){return t.apply(e,arguments)}},b=function(t,e,r){return null==t?v.identity:v.isFunction(t)?y(t,e,r):v.isObject(t)?v.matcher(t):v.property(t)};v.iteratee=function(t,e){return b(t,e,1/0)};var w=function(t,e){return function(r){var n=arguments.length;if(n<2||null==r)return r;for(var i=1;i<n;i++)for(var o=arguments[i],s=t(o),a=s.length,u=0;u<a;u++){var c=s[u];e&&void 0!==r[c]||(r[c]=o[c])}return r}},_=function(t){if(!v.isObject(t))return{};if(m)return m(t);g.prototype=t;var e=new g;return g.prototype=null,e},k=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,x=k("length"),E=function(t){var e=x(t);return"number"==typeof e&&e>=0&&e<=S};function C(t){return function(e,r,n,i){r=y(r,i,4);var o=!E(e)&&v.keys(e),s=(o||e).length,a=t>0?0:s-1;return arguments.length<3&&(n=e[o?o[a]:a],a+=t),function(e,r,n,i,o,s){for(;o>=0&&o<s;o+=t){var a=i?i[o]:o;n=r(n,e[a],a,e)}return n}(e,r,n,o,a,s)}}v.each=v.forEach=function(t,e,r){var n,i;if(e=y(e,r),E(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else{var o=v.keys(t);for(n=0,i=o.length;n<i;n++)e(t[o[n]],o[n],t)}return t},v.map=v.collect=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=Array(i),s=0;s<i;s++){var a=n?n[s]:s;o[s]=e(t[a],a,t)}return o},v.reduce=v.foldl=v.inject=C(1),v.reduceRight=v.foldr=C(-1),v.find=v.detect=function(t,e,r){var n;if(void 0!==(n=E(t)?v.findIndex(t,e,r):v.findKey(t,e,r))&&-1!==n)return t[n]},v.filter=v.select=function(t,e,r){var n=[];return e=b(e,r),v.each(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n},v.reject=function(t,e,r){return v.filter(t,v.negate(b(e)),r)},v.every=v.all=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(!e(t[s],s,t))return!1}return!0},v.some=v.any=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(e(t[s],s,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,r,n){return E(t)||(t=v.values(t)),("number"!=typeof r||n)&&(r=0),v.indexOf(t,e,r)>=0},v.invoke=function(t,e){var r=c.call(arguments,2),n=v.isFunction(e);return v.map(t,function(t){var i=n?e:t[e];return null==i?i:i.apply(t,r)})},v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,r){var n,i,o=-1/0,s=-1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])>o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)});return o},v.min=function(t,e,r){var n,i,o=1/0,s=1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])<o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))<s||i===1/0&&o===1/0)&&(o=t,s=i)});return o},v.shuffle=function(t){for(var e,r=E(t)?t:v.values(t),n=r.length,i=Array(n),o=0;o<n;o++)(e=v.random(0,o))!==o&&(i[o]=i[e]),i[e]=r[o];return i},v.sample=function(t,e,r){return null==e||r?(E(t)||(t=v.values(t)),t[v.random(t.length-1)]):v.shuffle(t).slice(0,Math.max(0,e))},v.sortBy=function(t,e,r){return e=b(e,r),v.pluck(v.map(t,function(t,r,n){return{value:t,index:r,criteria:e(t,r,n)}}).sort(function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index}),"value")};var A=function(t){return function(e,r,n){var i={};return r=b(r,n),v.each(e,function(n,o){var s=r(n,o,e);t(i,n,s)}),i}};v.groupBy=A(function(t,e,r){v.has(t,r)?t[r].push(e):t[r]=[e]}),v.indexBy=A(function(t,e,r){t[r]=e}),v.countBy=A(function(t,e,r){v.has(t,r)?t[r]++:t[r]=1}),v.toArray=function(t){return t?v.isArray(t)?c.call(t):E(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:E(t)?t.length:v.keys(t).length},v.partition=function(t,e,r){e=b(e,r);var n=[],i=[];return v.each(t,function(t,r,o){(e(t,r,o)?n:i).push(t)}),[n,i]},v.first=v.head=v.take=function(t,e,r){if(null!=t)return null==e||r?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,r){return c.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))},v.last=function(t,e,r){if(null!=t)return null==e||r?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,r){return c.call(t,null==e||r?1:e)},v.compact=function(t){return v.filter(t,v.identity)};var M=function(t,e,r,n){for(var i=[],o=0,s=n||0,a=x(t);s<a;s++){var u=t[s];if(E(u)&&(v.isArray(u)||v.isArguments(u))){e||(u=M(u,e,r));var c=0,f=u.length;for(i.length+=f;c<f;)i[o++]=u[c++]}else r||(i[o++]=u)}return i};function I(t){return function(e,r,n){r=b(r,n);for(var i=x(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(r(e[o],o,e))return o;return-1}}function T(t,e,r){return function(n,i,o){var s=0,a=x(n);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(r&&o&&a)return n[o=r(n,i)]===i?o:-1;if(i!=i)return(o=e(c.call(n,s,a),v.isNaN))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(n[o]===i)return o;return-1}}v.flatten=function(t,e){return M(t,e,!1)},v.without=function(t){return v.difference(t,c.call(arguments,1))},v.uniq=v.unique=function(t,e,r,n){v.isBoolean(e)||(n=r,r=e,e=!1),null!=r&&(r=b(r,n));for(var i=[],o=[],s=0,a=x(t);s<a;s++){var u=t[s],c=r?r(u,s,t):u;e?(s&&o===c||i.push(u),o=c):r?v.contains(o,c)||(o.push(c),i.push(u)):v.contains(i,u)||i.push(u)}return i},v.union=function(){return v.uniq(M(arguments,!0,!0))},v.intersection=function(t){for(var e=[],r=arguments.length,n=0,i=x(t);n<i;n++){var o=t[n];if(!v.contains(e,o)){for(var s=1;s<r&&v.contains(arguments[s],o);s++);s===r&&e.push(o)}}return e},v.difference=function(t){var e=M(arguments,!0,!0,1);return v.filter(t,function(t){return!v.contains(e,t)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(t){for(var e=t&&v.max(t,x).length||0,r=Array(e),n=0;n<e;n++)r[n]=v.pluck(t,n);return r},v.object=function(t,e){for(var r={},n=0,i=x(t);n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r},v.findIndex=I(1),v.findLastIndex=I(-1),v.sortedIndex=function(t,e,r,n){for(var i=(r=b(r,n,1))(e),o=0,s=x(t);o<s;){var a=Math.floor((o+s)/2);r(t[a])<i?o=a+1:s=a}return o},v.indexOf=T(1,v.findIndex,v.sortedIndex),v.lastIndexOf=T(-1,v.findLastIndex),v.range=function(t,e,r){null==e&&(e=t||0,t=0),r=r||1;for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),o=0;o<n;o++,t+=r)i[o]=t;return i};var O=function(t,e,r,n,i){if(!(n instanceof e))return t.apply(r,i);var o=_(t.prototype),s=t.apply(o,i);return v.isObject(s)?s:o};v.bind=function(t,e){if(d&&t.bind===d)return d.apply(t,c.call(arguments,1));if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var r=c.call(arguments,2),n=function(){return O(t,n,e,this,r.concat(c.call(arguments)))};return n},v.partial=function(t){var e=c.call(arguments,1),r=function(){for(var n=0,i=e.length,o=Array(i),s=0;s<i;s++)o[s]=e[s]===v?arguments[n++]:e[s];for(;n<arguments.length;)o.push(arguments[n++]);return O(t,r,this,this,o)};return r},v.bindAll=function(t){var e,r,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)t[r=arguments[e]]=v.bind(t[r],t);return t},v.memoize=function(t,e){var r=function(n){var i=r.cache,o=""+(e?e.apply(this,arguments):n);return v.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return r.cache={},r},v.delay=function(t,e){var r=c.call(arguments,2);return setTimeout(function(){return t.apply(null,r)},e)},v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,r){var n,i,o,s=null,a=0;r||(r={});var u=function(){a=!1===r.leading?0:v.now(),s=null,o=t.apply(n,i),s||(n=i=null)};return function(){var c=v.now();a||!1!==r.leading||(a=c);var f=e-(c-a);return n=this,i=arguments,f<=0||f>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(n,i),s||(n=i=null)):s||!1===r.trailing||(s=setTimeout(u,f)),o}},v.debounce=function(t,e,r){var n,i,o,s,a,u=function(){var c=v.now()-s;c<e&&c>=0?n=setTimeout(u,e-c):(n=null,r||(a=t.apply(o,i),n||(o=i=null)))};return function(){o=this,i=arguments,s=v.now();var c=r&&!n;return n||(n=setTimeout(u,e)),c&&(a=t.apply(o,i),o=i=null),a}},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.before=function(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}},v.once=v.partial(v.before,2);var B=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function N(t,e){var r=P.length,n=t.constructor,i=v.isFunction(n)&&n.prototype||s,o="constructor";for(v.has(t,o)&&!v.contains(e,o)&&e.push(o);r--;)(o=P[r])in t&&t[o]!==i[o]&&!v.contains(e,o)&&e.push(o)}v.keys=function(t){if(!v.isObject(t))return[];if(p)return p(t);var e=[];for(var r in t)v.has(t,r)&&e.push(r);return B&&N(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var r in t)e.push(r);return B&&N(t,e),e},v.values=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n},v.mapObject=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=i.length,s={},a=0;a<o;a++)s[n=i[a]]=e(t[n],n,t);return s},v.pairs=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=[e[i],t[e[i]]];return n},v.invert=function(t){for(var e={},r=v.keys(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e},v.functions=v.methods=function(t){var e=[];for(var r in t)v.isFunction(t[r])&&e.push(r);return e.sort()},v.extend=w(v.allKeys),v.extendOwn=v.assign=w(v.keys),v.findKey=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=0,s=i.length;o<s;o++)if(e(t[n=i[o]],n,t))return n},v.pick=function(t,e,r){var n,i,o={},s=t;if(null==s)return o;v.isFunction(e)?(i=v.allKeys(s),n=y(e,r)):(i=M(arguments,!1,!1,1),n=function(t,e,r){return e in r},s=Object(s));for(var a=0,u=i.length;a<u;a++){var c=i[a],f=s[c];n(f,c,s)&&(o[c]=f)}return o},v.omit=function(t,e,r){if(v.isFunction(e))e=v.negate(e);else{var n=v.map(M(arguments,!1,!1,1),String);e=function(t,e){return!v.contains(n,e)}}return v.pick(t,e,r)},v.defaults=w(v.allKeys,!0),v.create=function(t,e){var r=_(t);return e&&v.extendOwn(r,e),r},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var r=v.keys(e),n=r.length;if(null==t)return!n;for(var i=Object(t),o=0;o<n;o++){var s=r[o];if(e[s]!==i[s]||!(s in i))return!1}return!0};var R=function(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var i=f.call(t);if(i!==f.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===t)return n[u]===e;if(r.push(t),n.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!R(t[u],e[u],r,n))return!1}else{var c,l=v.keys(t);if(u=l.length,v.keys(e).length!==u)return!1;for(;u--;)if(c=l[u],!v.has(e,c)||!R(t[c],e[c],r,n))return!1}return r.pop(),n.pop(),!0};v.isEqual=function(t,e){return R(t,e)},v.isEmpty=function(t){return null==t||(E(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=h||function(t){return"[object Array]"===f.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){v["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return v.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&t!==+t},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){return null!=t&&l.call(t,e)},v.noConflict=function(){return r._=i,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=k,v.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,r){var n=Array(Math.max(0,t));e=y(e,r,1);for(var i=0;i<t;i++)n[i]=e(i);return n},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=v.invert(F),L=function(t){var e=function(e){return t[e]},r="(?:"+v.keys(t).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(i,e):t}};v.escape=L(F),v.unescape=L(j),v.result=function(t,e,r){var n=null==t?void 0:t[e];return void 0===n&&(n=r),v.isFunction(n)?n.call(t):n};var D=0;v.uniqueId=function(t){var e=++D+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,K=function(t){return"\\"+z[t]};v.template=function(t,e,r){!e&&r&&(e=r),e=v.defaults({},e,v.templateSettings);var n=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(n,function(e,r,n,s,a){return o+=t.slice(i,a).replace(H,K),i=a+e.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,v)},u=e.variable||"obj";return a.source="function("+u+"){\n"+o+"}",a},v.chain=function(t){var e=v(t);return e._chain=!0,e};var q=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){v.each(v.functions(t),function(e){var r=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),q(this,r.apply(v,t))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];v.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0],q(this,r)}}),v.each(["concat","join","slice"],function(t){var e=o[t];v.prototype[t]=function(){return q(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},void 0===(n=function(){return v}.apply(e,[]))||(t.exports=n)}).call(this)},function(t,e,r){"use strict";var n=r(1647),i=r(110),o=r(109),s=r(54),a=r(235).subscription,u=r(43).formatters,c=r(43).errors,f=r(662),l=r(658),h=function t(e,r,o){var a=this,c=Array.prototype.slice.call(arguments);if(!(this instanceof t))throw new Error('Please use the "new" keyword to instantiate a web3.eth.contract() object!');if(i.packageInit(this,[this.constructor.currentProvider]),this.clearSubscriptions=this._requestManager.clearSubscriptions,!e||!Array.isArray(e))throw new Error("You must provide the json interface of the contract when instantiating a contract object.");this.options={};var f=c[c.length-1];n.isObject(f)&&!n.isArray(f)&&(o=f,this.options=n.extend(this.options,this._getOrSetDefaultOptions(o)),n.isObject(r)&&(r=null)),Object.defineProperty(this.options,"address",{set:function(t){t&&(a._address=s.toChecksumAddress(u.inputAddressFormatter(t)))},get:function(){return a._address},enumerable:!0}),Object.defineProperty(this.options,"jsonInterface",{set:function(t){return a.methods={},a.events={},a._jsonInterface=t.map(function(t){var e,r;if(t.name&&(r=s._jsonInterfaceMethodToString(t)),"function"===t.type){if(t.signature=l.encodeFunctionSignature(r),e=a._createTxObject.bind({method:t,parent:a}),a.methods[t.name]){var n=a._createTxObject.bind({method:t,parent:a,nextMethod:a.methods[t.name]});a.methods[t.name]=n}else a.methods[t.name]=e;a.methods[t.signature]=e,a.methods[r]=e}else if("event"===t.type){t.signature=l.encodeEventSignature(r);var i=a._on.bind(a,t.signature);a.events[t.name]&&"bound "!==a.events[t.name].name||(a.events[t.name]=i),a.events[t.signature]=i,a.events[r]=i}return t}),a.events.allEvents=a._on.bind(a,"allevents"),a._jsonInterface},get:function(){return a._jsonInterface},enumerable:!0});var h=this.constructor.defaultAccount,p=this.constructor.defaultBlock||"latest";Object.defineProperty(this,"defaultAccount",{get:function(){return h},set:function(t){return t&&(h=s.toChecksumAddress(u.inputAddressFormatter(t))),t},enumerable:!0}),Object.defineProperty(this,"defaultBlock",{get:function(){return p},set:function(t){return p=t,t},enumerable:!0}),this.methods={},this.events={},this._address=null,this._jsonInterface=[],this.options.address=r,this.options.jsonInterface=e};h.setProvider=function(t,e){i.packageInit(this,[t]),this._ethAccounts=e},h.prototype._getCallback=function(t){if(t&&n.isFunction(t[t.length-1]))return t.pop()},h.prototype._checkListener=function(t,e){if(e===t)throw new Error('The event "'+t+"\" is a reserved event name, you can't use it.")},h.prototype._getOrSetDefaultOptions=function(t){var e=t.gasPrice?String(t.gasPrice):null,r=t.from?s.toChecksumAddress(u.inputAddressFormatter(t.from)):null;return t.data=t.data||this.options.data,t.from=r||this.options.from,t.gasPrice=e||this.options.gasPrice,t.gas=t.gas||t.gasLimit||this.options.gas,delete t.gasLimit,t},h.prototype._encodeEventABI=function(t,e){var r=(e=e||{}).filter||{},i={};if(["fromBlock","toBlock"].filter(function(t){return void 0!==e[t]}).forEach(function(t){i[t]=u.inputBlockNumberFormatter(e[t])}),n.isArray(e.topics))i.topics=e.topics;else{if(i.topics=[],t&&!t.anonymous&&"ALLEVENTS"!==t.name&&i.topics.push(t.signature),"ALLEVENTS"!==t.name){var o=t.inputs.filter(function(t){return!0===t.indexed}).map(function(t){var e=r[t.name];return e?n.isArray(e)?e.map(function(e){return l.encodeParameter(t.type,e)}):l.encodeParameter(t.type,e):null});i.topics=i.topics.concat(o)}i.topics.length||delete i.topics}return this.options.address&&(i.address=this.options.address.toLowerCase()),i},h.prototype._decodeEventABI=function(t){var e=this;t.data=t.data||"",t.topics=t.topics||[];var r=u.outputLogFormatter(t);"ALLEVENTS"===e.name&&(e=e.jsonInterface.find(function(e){return e.signature===t.topics[0]})||{anonymous:!0}),e.inputs=e.inputs||[];var n=e.anonymous?t.topics:t.topics.slice(1);return r.returnValues=l.decodeLog(e.inputs,t.data,n),delete r.returnValues.__length__,r.event=e.name,r.signature=e.anonymous||!t.topics[0]?null:t.topics[0],r.raw={data:r.data,topics:r.topics},delete r.data,delete r.topics,r},h.prototype._encodeMethodABI=function(){var t=this._method.signature,e=this.arguments||[],r=!1,i=this._parent.options.jsonInterface.filter(function(e){return"constructor"===t&&e.type===t||(e.signature===t||e.signature===t.replace("0x","")||e.name===t)&&"function"===e.type}).map(function(t){var i=n.isArray(t.inputs)?t.inputs.length:0;if(i!==e.length)throw new Error("The number of arguments is not matching the methods required number. You need to pass "+i+" arguments.");return"function"===t.type&&(r=t.signature),n.isArray(t.inputs)?t.inputs.map(function(t){return t.type}):[]}).map(function(t){return l.encodeParameters(t,e).replace("0x","")})[0]||"";if("constructor"===t){if(!this._deployData)throw new Error("The contract has no contract data option set. This is necessary to append the constructor parameters.");return this._deployData+i}var o=r?r+i:i;if(o)return o;throw new Error("Couldn't find a matching contract method named \""+this._method.name+'".')},h.prototype._decodeMethodReturn=function(t,e){if(!e)return null;e=e.length>=2?e.slice(2):e;var r=l.decodeParameters(t,e);return 1===r.__length__?r[0]:(delete r.__length__,r)},h.prototype.deploy=function(t,e){if((t=t||{}).arguments=t.arguments||[],!(t=this._getOrSetDefaultOptions(t)).data)return s._fireError(new Error('No "data" specified in neither the given options, nor the default options.'),null,null,e);var r=n.find(this.options.jsonInterface,function(t){return"constructor"===t.type})||{};return r.signature="constructor",this._createTxObject.apply({method:r,parent:this,deployData:t.data,_ethAccounts:this.constructor._ethAccounts},t.arguments)},h.prototype._generateEventOptions=function(){var t=Array.prototype.slice.call(arguments),e=this._getCallback(t),r=n.isObject(t[t.length-1])?t.pop():{},i=n.isString(t[0])?t[0]:"allevents";if(!(i="allevents"===i.toLowerCase()?{name:"ALLEVENTS",jsonInterface:this.options.jsonInterface}:this.options.jsonInterface.find(function(t){return"event"===t.type&&(t.name===i||t.signature==="0x"+i.replace("0x",""))})))throw new Error('Event "'+i.name+"\" doesn't exist in this contract.");if(!s.isAddress(this.options.address))throw new Error("This contract object doesn't have address set yet, please set an address first.");return{params:this._encodeEventABI(i,r),event:i,callback:e}},h.prototype.clone=function(){return new this.constructor(this.options.jsonInterface,this.options.address,this.options)},h.prototype.once=function(t,e,r){var i=Array.prototype.slice.call(arguments);if(!(r=this._getCallback(i)))throw new Error("Once requires a callback as the second parameter.");e&&delete e.fromBlock,this._on(t,e,function(t,e,i){i.unsubscribe(),n.isFunction(r)&&r(t,e,i)})},h.prototype._on=function(){var t=this._generateEventOptions.apply(this,arguments);this._checkListener("newListener",t.event.name,t.callback),this._checkListener("removeListener",t.event.name,t.callback);var e=new a({subscription:{params:1,inputFormatter:[u.inputLogFormatter],outputFormatter:this._decodeEventABI.bind(t.event),subscriptionHandler:function(t){t.removed?this.emit("changed",t):this.emit("data",t),n.isFunction(this.callback)&&this.callback(null,t,this)}},type:"eth",requestManager:this._requestManager});return e.subscribe("logs",t.params,t.callback||function(){}),e},h.prototype.getPastEvents=function(){var t=this._generateEventOptions.apply(this,arguments),e=new o({name:"getPastLogs",call:"eth_getLogs",params:1,inputFormatter:[u.inputLogFormatter],outputFormatter:this._decodeEventABI.bind(t.event)});e.setRequestManager(this._requestManager);var r=e.buildCall();return e=null,r(t.params,t.callback)},h.prototype._createTxObject=function(){var t=Array.prototype.slice.call(arguments),e={};if("function"===this.method.type&&(e.call=this.parent._executeMethod.bind(e,"call"),e.call.request=this.parent._executeMethod.bind(e,"call",!0)),e.send=this.parent._executeMethod.bind(e,"send"),e.send.request=this.parent._executeMethod.bind(e,"send",!0),e.encodeABI=this.parent._encodeMethodABI.bind(e),e.estimateGas=this.parent._executeMethod.bind(e,"estimate"),t&&this.method.inputs&&t.length!==this.method.inputs.length){if(this.nextMethod)return this.nextMethod.apply(null,t);throw c.InvalidNumberOfParams(t.length,this.method.inputs.length,this.method.name)}return e.arguments=t||[],e._method=this.method,e._parent=this.parent,e._ethAccounts=this.parent.constructor._ethAccounts||this._ethAccounts,this.deployData&&(e._deployData=this.deployData),e},h.prototype._processExecuteArguments=function(t,e){var r={};if(r.type=t.shift(),r.callback=this._parent._getCallback(t),"call"===r.type&&!0!==t[t.length-1]&&(n.isString(t[t.length-1])||isFinite(t[t.length-1]))&&(r.defaultBlock=t.pop()),r.options=n.isObject(t[t.length-1])?t.pop():{},r.generateRequest=!0===t[t.length-1]&&t.pop(),r.options=this._parent._getOrSetDefaultOptions(r.options),r.options.data=this.encodeABI(),!this._deployData&&!s.isAddress(this._parent.options.address))throw new Error("This contract object doesn't have address set yet, please set an address first.");return this._deployData||(r.options.to=this._parent.options.address),r.options.data?r:s._fireError(new Error("Couldn't find a matching contract method, or the number of parameters is wrong."),e.eventEmitter,e.reject,r.callback)},h.prototype._executeMethod=function(){var t=this,e=this._parent._processExecuteArguments.call(this,Array.prototype.slice.call(arguments),r),r=f("send"!==e.type),i=t.constructor._ethAccounts||t._ethAccounts;if(e.generateRequest){var a={params:[u.inputCallFormatter.call(this._parent,e.options)],callback:e.callback};return"call"===e.type?(a.params.push(u.inputDefaultBlockNumberFormatter.call(this._parent,e.defaultBlock)),a.method="eth_call",a.format=this._parent._decodeMethodReturn.bind(null,this._method.outputs)):a.method="eth_sendTransaction",a}switch(e.type){case"estimate":return new o({name:"estimateGas",call:"eth_estimateGas",params:1,inputFormatter:[u.inputCallFormatter],outputFormatter:s.hexToNumber,requestManager:t._parent._requestManager,accounts:i,defaultAccount:t._parent.defaultAccount,defaultBlock:t._parent.defaultBlock}).createFunction()(e.options,e.callback);case"call":return new o({name:"call",call:"eth_call",params:2,inputFormatter:[u.inputCallFormatter,u.inputDefaultBlockNumberFormatter],outputFormatter:function(e){return t._parent._decodeMethodReturn(t._method.outputs,e)},requestManager:t._parent._requestManager,accounts:i,defaultAccount:t._parent.defaultAccount,defaultBlock:t._parent.defaultBlock}).createFunction()(e.options,e.defaultBlock,e.callback);case"send":if(!s.isAddress(e.options.from))return s._fireError(new Error('No "from" address specified in neither the given options, nor the default options.'),r.eventEmitter,r.reject,e.callback);if(n.isBoolean(this._method.payable)&&!this._method.payable&&e.options.value&&e.options.value>0)return s._fireError(new Error("Can not send value to non-payable contract method or constructor"),r.eventEmitter,r.reject,e.callback);var c={receiptFormatter:function(e){if(n.isArray(e.logs)){var r=n.map(e.logs,function(e){return t._parent._decodeEventABI.call({name:"ALLEVENTS",jsonInterface:t._parent.options.jsonInterface},e)});e.events={};var i=0;r.forEach(function(t){t.event?e.events[t.event]?Array.isArray(e.events[t.event])?e.events[t.event].push(t):e.events[t.event]=[e.events[t.event],t]:e.events[t.event]=t:(e.events[i]=t,i++)}),delete e.logs}return e},contractDeployFormatter:function(e){var r=t._parent.clone();return r.options.address=e.contractAddress,r}};return new o({name:"sendTransaction",call:"eth_sendTransaction",params:1,inputFormatter:[u.inputTransactionFormatter],requestManager:t._parent._requestManager,accounts:t.constructor._ethAccounts||t._ethAccounts,defaultAccount:t._parent.defaultAccount,defaultBlock:t._parent.defaultBlock,extraFormatters:c}).createFunction()(e.options,e.callback)}},t.exports=h},function(t,e,r){"use strict";var n=r(660),i=r(110),o=r(43),s=r(235).subscriptions,a=r(109),u=r(54),c=r(234),f=r(659),l=r(1648),h=r(665),p=r(1638),d=r(658),m=r(1549),g=o.formatters,v=function(t){return n.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getBlockByHash":"eth_getBlockByNumber"},y=function(t){return n.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getTransactionByBlockHashAndIndex":"eth_getTransactionByBlockNumberAndIndex"},b=function(t){return n.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getUncleByBlockHashAndIndex":"eth_getUncleByBlockNumberAndIndex"},w=function(t){return n.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getBlockTransactionCountByHash":"eth_getBlockTransactionCountByNumber"},_=function(t){return n.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getUncleCountByBlockHash":"eth_getUncleCountByBlockNumber"},k=function(){var t=this;i.packageInit(this,arguments);var e=this.setProvider;this.setProvider=function(){e.apply(t,arguments),t.net.setProvider.apply(t,arguments),t.personal.setProvider.apply(t,arguments),t.accounts.setProvider.apply(t,arguments),t.Contract.setProvider(t.currentProvider,t.accounts)};var r=null,o="latest";Object.defineProperty(this,"defaultAccount",{get:function(){return r},set:function(e){return e&&(r=u.toChecksumAddress(g.inputAddressFormatter(e))),t.Contract.defaultAccount=r,t.personal.defaultAccount=r,S.forEach(function(t){t.defaultAccount=r}),e},enumerable:!0}),Object.defineProperty(this,"defaultBlock",{get:function(){return o},set:function(e){return o=e,t.Contract.defaultBlock=o,t.personal.defaultBlock=o,S.forEach(function(t){t.defaultBlock=o}),e},enumerable:!0}),this.clearSubscriptions=t._requestManager.clearSubscriptions,this.net=new c(this.currentProvider),this.net.getNetworkType=m.bind(this),this.accounts=new p(this.currentProvider),this.personal=new f(this.currentProvider),this.personal.defaultAccount=this.defaultAccount;var k=function(){l.apply(this,arguments)};k.setProvider=function(){l.setProvider.apply(this,arguments)},(k.prototype=Object.create(l.prototype)).constructor=k,this.Contract=k,this.Contract.defaultAccount=this.defaultAccount,this.Contract.defaultBlock=this.defaultBlock,this.Contract.setProvider(this.currentProvider,this.accounts),this.Iban=h,this.abi=d;var S=[new a({name:"getNodeInfo",call:"web3_clientVersion"}),new a({name:"getProtocolVersion",call:"eth_protocolVersion",params:0}),new a({name:"getCoinbase",call:"eth_coinbase",params:0}),new a({name:"isMining",call:"eth_mining",params:0}),new a({name:"getHashrate",call:"eth_hashrate",params:0,outputFormatter:u.hexToNumber}),new a({name:"isSyncing",call:"eth_syncing",params:0,outputFormatter:g.outputSyncingFormatter}),new a({name:"getGasPrice",call:"eth_gasPrice",params:0,outputFormatter:g.outputBigNumberFormatter}),new a({name:"getAccounts",call:"eth_accounts",params:0,outputFormatter:u.toChecksumAddress}),new a({name:"getBlockNumber",call:"eth_blockNumber",params:0,outputFormatter:u.hexToNumber}),new a({name:"getBalance",call:"eth_getBalance",params:2,inputFormatter:[g.inputAddressFormatter,g.inputDefaultBlockNumberFormatter],outputFormatter:g.outputBigNumberFormatter}),new a({name:"getStorageAt",call:"eth_getStorageAt",params:3,inputFormatter:[g.inputAddressFormatter,u.numberToHex,g.inputDefaultBlockNumberFormatter]}),new a({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[g.inputAddressFormatter,g.inputDefaultBlockNumberFormatter]}),new a({name:"getBlock",call:v,params:2,inputFormatter:[g.inputBlockNumberFormatter,function(t){return!!t}],outputFormatter:g.outputBlockFormatter}),new a({name:"getUncle",call:b,params:2,inputFormatter:[g.inputBlockNumberFormatter,u.numberToHex],outputFormatter:g.outputBlockFormatter}),new a({name:"getBlockTransactionCount",call:w,params:1,inputFormatter:[g.inputBlockNumberFormatter],outputFormatter:u.hexToNumber}),new a({name:"getBlockUncleCount",call:_,params:1,inputFormatter:[g.inputBlockNumberFormatter],outputFormatter:u.hexToNumber}),new a({name:"getTransaction",call:"eth_getTransactionByHash",params:1,inputFormatter:[null],outputFormatter:g.outputTransactionFormatter}),new a({name:"getTransactionFromBlock",call:y,params:2,inputFormatter:[g.inputBlockNumberFormatter,u.numberToHex],outputFormatter:g.outputTransactionFormatter}),new a({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,inputFormatter:[null],outputFormatter:g.outputTransactionReceiptFormatter}),new a({name:"getTransactionCount",call:"eth_getTransactionCount",params:2,inputFormatter:[g.inputAddressFormatter,g.inputDefaultBlockNumberFormatter],outputFormatter:u.hexToNumber}),new a({name:"sendSignedTransaction",call:"eth_sendRawTransaction",params:1,inputFormatter:[null]}),new a({name:"signTransaction",call:"eth_signTransaction",params:1,inputFormatter:[g.inputTransactionFormatter]}),new a({name:"sendTransaction",call:"eth_sendTransaction",params:1,inputFormatter:[g.inputTransactionFormatter]}),new a({name:"sign",call:"eth_sign",params:2,inputFormatter:[g.inputSignFormatter,g.inputAddressFormatter],transformPayload:function(t){return t.params.reverse(),t}}),new a({name:"call",call:"eth_call",params:2,inputFormatter:[g.inputCallFormatter,g.inputDefaultBlockNumberFormatter]}),new a({name:"estimateGas",call:"eth_estimateGas",params:1,inputFormatter:[g.inputCallFormatter],outputFormatter:u.hexToNumber}),new a({name:"getCompilers",call:"eth_getCompilers",params:0}),new a({name:"compile.solidity",call:"eth_compileSolidity",params:1}),new a({name:"compile.lll",call:"eth_compileLLL",params:1}),new a({name:"compile.serpent",call:"eth_compileSerpent",params:1}),new a({name:"submitWork",call:"eth_submitWork",params:3}),new a({name:"getWork",call:"eth_getWork",params:0}),new a({name:"getPastLogs",call:"eth_getLogs",params:1,inputFormatter:[g.inputLogFormatter],outputFormatter:g.outputLogFormatter}),new s({name:"subscribe",type:"eth",subscriptions:{newBlockHeaders:{subscriptionName:"newHeads",params:0,outputFormatter:g.outputBlockFormatter},pendingTransactions:{subscriptionName:"newPendingTransactions",params:0},logs:{params:1,inputFormatter:[g.inputLogFormatter],outputFormatter:g.outputLogFormatter,subscriptionHandler:function(t){t.removed?this.emit("changed",t):this.emit("data",t),n.isFunction(this.callback)&&this.callback(null,t,this)}},syncing:{params:0,outputFormatter:g.outputSyncingFormatter,subscriptionHandler:function(t){var e=this;!0!==this._isSyncing?(this._isSyncing=!0,this.emit("changed",e._isSyncing),n.isFunction(this.callback)&&this.callback(null,e._isSyncing,this),setTimeout(function(){e.emit("data",t),n.isFunction(e.callback)&&e.callback(null,t,e)},0)):(this.emit("data",t),n.isFunction(e.callback)&&this.callback(null,t,this),clearTimeout(this._isSyncingTimeout),this._isSyncingTimeout=setTimeout(function(){t.currentBlock>t.highestBlock-200&&(e._isSyncing=!1,e.emit("changed",e._isSyncing),n.isFunction(e.callback)&&e.callback(null,e._isSyncing,e))},500))}}}})];S.forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager,t.accounts),e.defaultBlock=t.defaultBlock,e.defaultAccount=t.defaultAccount})};i.addProviders(k),t.exports=k},function(t,e,r){"use strict";var n="function"!=typeof Object.create&&"~";function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(){}o.prototype._events=void 0,o.prototype.listeners=function(t,e){var r=n?n+t:t,i=this._events&&this._events[r];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var o=0,s=i.length,a=new Array(s);o<s;o++)a[o]=i[o].fn;return a},o.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events||!this._events[a])return!1;var u,c,f=this._events[a],l=arguments.length;if("function"==typeof f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,r),!0;case 4:return f.fn.call(f.context,e,r,i),!0;case 5:return f.fn.call(f.context,e,r,i,o),!0;case 6:return f.fn.call(f.context,e,r,i,o,s),!0}for(c=1,u=new Array(l-1);c<l;c++)u[c-1]=arguments[c];f.fn.apply(f.context,u)}else{var h,p=f.length;for(c=0;c<p;c++)switch(f[c].once&&this.removeListener(t,f[c].fn,void 0,!0),l){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,e);break;case 3:f[c].fn.call(f[c].context,e,r);break;default:if(!u)for(h=1,u=new Array(l-1);h<l;h++)u[h-1]=arguments[h];f[c].fn.apply(f[c].context,u)}}return!0},o.prototype.on=function(t,e,r){var o=new i(e,r||this),s=n?n+t:t;return this._events||(this._events=n?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],o]:this._events[s].push(o):this._events[s]=o,this},o.prototype.once=function(t,e,r){var o=new i(e,r||this,!0),s=n?n+t:t;return this._events||(this._events=n?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],o]:this._events[s].push(o):this._events[s]=o,this},o.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events||!this._events[o])return this;var s=this._events[o],a=[];if(e)if(s.fn)(s.fn!==e||i&&!s.once||r&&s.context!==r)&&a.push(s);else for(var u=0,c=s.length;u<c;u++)(s[u].fn!==e||i&&!s[u].once||r&&s[u].context!==r)&&a.push(s[u]);return a.length?this._events[o]=1===a.length?a[0]:a:delete this._events[o],this},o.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[n?n+t:t]:this._events=n?{}:Object.create(null),this):this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=n,t.exports=o},function(t,e,r){var n;(function(){var r=this,i=r._,o=Array.prototype,s=Object.prototype,a=Function.prototype,u=o.push,c=o.slice,f=s.toString,l=s.hasOwnProperty,h=Array.isArray,p=Object.keys,d=a.bind,m=Object.create,g=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};void 0!==t&&t.exports&&(e=t.exports=v),e._=v,v.VERSION="1.8.3";var y=function(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)}}return function(){return t.apply(e,arguments)}},b=function(t,e,r){return null==t?v.identity:v.isFunction(t)?y(t,e,r):v.isObject(t)?v.matcher(t):v.property(t)};v.iteratee=function(t,e){return b(t,e,1/0)};var w=function(t,e){return function(r){var n=arguments.length;if(n<2||null==r)return r;for(var i=1;i<n;i++)for(var o=arguments[i],s=t(o),a=s.length,u=0;u<a;u++){var c=s[u];e&&void 0!==r[c]||(r[c]=o[c])}return r}},_=function(t){if(!v.isObject(t))return{};if(m)return m(t);g.prototype=t;var e=new g;return g.prototype=null,e},k=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,x=k("length"),E=function(t){var e=x(t);return"number"==typeof e&&e>=0&&e<=S};function C(t){return function(e,r,n,i){r=y(r,i,4);var o=!E(e)&&v.keys(e),s=(o||e).length,a=t>0?0:s-1;return arguments.length<3&&(n=e[o?o[a]:a],a+=t),function(e,r,n,i,o,s){for(;o>=0&&o<s;o+=t){var a=i?i[o]:o;n=r(n,e[a],a,e)}return n}(e,r,n,o,a,s)}}v.each=v.forEach=function(t,e,r){var n,i;if(e=y(e,r),E(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else{var o=v.keys(t);for(n=0,i=o.length;n<i;n++)e(t[o[n]],o[n],t)}return t},v.map=v.collect=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=Array(i),s=0;s<i;s++){var a=n?n[s]:s;o[s]=e(t[a],a,t)}return o},v.reduce=v.foldl=v.inject=C(1),v.reduceRight=v.foldr=C(-1),v.find=v.detect=function(t,e,r){var n;if(void 0!==(n=E(t)?v.findIndex(t,e,r):v.findKey(t,e,r))&&-1!==n)return t[n]},v.filter=v.select=function(t,e,r){var n=[];return e=b(e,r),v.each(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n},v.reject=function(t,e,r){return v.filter(t,v.negate(b(e)),r)},v.every=v.all=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(!e(t[s],s,t))return!1}return!0},v.some=v.any=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(e(t[s],s,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,r,n){return E(t)||(t=v.values(t)),("number"!=typeof r||n)&&(r=0),v.indexOf(t,e,r)>=0},v.invoke=function(t,e){var r=c.call(arguments,2),n=v.isFunction(e);return v.map(t,function(t){var i=n?e:t[e];return null==i?i:i.apply(t,r)})},v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,r){var n,i,o=-1/0,s=-1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])>o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)});return o},v.min=function(t,e,r){var n,i,o=1/0,s=1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])<o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))<s||i===1/0&&o===1/0)&&(o=t,s=i)});return o},v.shuffle=function(t){for(var e,r=E(t)?t:v.values(t),n=r.length,i=Array(n),o=0;o<n;o++)(e=v.random(0,o))!==o&&(i[o]=i[e]),i[e]=r[o];return i},v.sample=function(t,e,r){return null==e||r?(E(t)||(t=v.values(t)),t[v.random(t.length-1)]):v.shuffle(t).slice(0,Math.max(0,e))},v.sortBy=function(t,e,r){return e=b(e,r),v.pluck(v.map(t,function(t,r,n){return{value:t,index:r,criteria:e(t,r,n)}}).sort(function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index}),"value")};var A=function(t){return function(e,r,n){var i={};return r=b(r,n),v.each(e,function(n,o){var s=r(n,o,e);t(i,n,s)}),i}};v.groupBy=A(function(t,e,r){v.has(t,r)?t[r].push(e):t[r]=[e]}),v.indexBy=A(function(t,e,r){t[r]=e}),v.countBy=A(function(t,e,r){v.has(t,r)?t[r]++:t[r]=1}),v.toArray=function(t){return t?v.isArray(t)?c.call(t):E(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:E(t)?t.length:v.keys(t).length},v.partition=function(t,e,r){e=b(e,r);var n=[],i=[];return v.each(t,function(t,r,o){(e(t,r,o)?n:i).push(t)}),[n,i]},v.first=v.head=v.take=function(t,e,r){if(null!=t)return null==e||r?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,r){return c.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))},v.last=function(t,e,r){if(null!=t)return null==e||r?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,r){return c.call(t,null==e||r?1:e)},v.compact=function(t){return v.filter(t,v.identity)};var M=function(t,e,r,n){for(var i=[],o=0,s=n||0,a=x(t);s<a;s++){var u=t[s];if(E(u)&&(v.isArray(u)||v.isArguments(u))){e||(u=M(u,e,r));var c=0,f=u.length;for(i.length+=f;c<f;)i[o++]=u[c++]}else r||(i[o++]=u)}return i};function I(t){return function(e,r,n){r=b(r,n);for(var i=x(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(r(e[o],o,e))return o;return-1}}function T(t,e,r){return function(n,i,o){var s=0,a=x(n);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(r&&o&&a)return n[o=r(n,i)]===i?o:-1;if(i!=i)return(o=e(c.call(n,s,a),v.isNaN))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(n[o]===i)return o;return-1}}v.flatten=function(t,e){return M(t,e,!1)},v.without=function(t){return v.difference(t,c.call(arguments,1))},v.uniq=v.unique=function(t,e,r,n){v.isBoolean(e)||(n=r,r=e,e=!1),null!=r&&(r=b(r,n));for(var i=[],o=[],s=0,a=x(t);s<a;s++){var u=t[s],c=r?r(u,s,t):u;e?(s&&o===c||i.push(u),o=c):r?v.contains(o,c)||(o.push(c),i.push(u)):v.contains(i,u)||i.push(u)}return i},v.union=function(){return v.uniq(M(arguments,!0,!0))},v.intersection=function(t){for(var e=[],r=arguments.length,n=0,i=x(t);n<i;n++){var o=t[n];if(!v.contains(e,o)){for(var s=1;s<r&&v.contains(arguments[s],o);s++);s===r&&e.push(o)}}return e},v.difference=function(t){var e=M(arguments,!0,!0,1);return v.filter(t,function(t){return!v.contains(e,t)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(t){for(var e=t&&v.max(t,x).length||0,r=Array(e),n=0;n<e;n++)r[n]=v.pluck(t,n);return r},v.object=function(t,e){for(var r={},n=0,i=x(t);n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r},v.findIndex=I(1),v.findLastIndex=I(-1),v.sortedIndex=function(t,e,r,n){for(var i=(r=b(r,n,1))(e),o=0,s=x(t);o<s;){var a=Math.floor((o+s)/2);r(t[a])<i?o=a+1:s=a}return o},v.indexOf=T(1,v.findIndex,v.sortedIndex),v.lastIndexOf=T(-1,v.findLastIndex),v.range=function(t,e,r){null==e&&(e=t||0,t=0),r=r||1;for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),o=0;o<n;o++,t+=r)i[o]=t;return i};var O=function(t,e,r,n,i){if(!(n instanceof e))return t.apply(r,i);var o=_(t.prototype),s=t.apply(o,i);return v.isObject(s)?s:o};v.bind=function(t,e){if(d&&t.bind===d)return d.apply(t,c.call(arguments,1));if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var r=c.call(arguments,2),n=function(){return O(t,n,e,this,r.concat(c.call(arguments)))};return n},v.partial=function(t){var e=c.call(arguments,1),r=function(){for(var n=0,i=e.length,o=Array(i),s=0;s<i;s++)o[s]=e[s]===v?arguments[n++]:e[s];for(;n<arguments.length;)o.push(arguments[n++]);return O(t,r,this,this,o)};return r},v.bindAll=function(t){var e,r,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)t[r=arguments[e]]=v.bind(t[r],t);return t},v.memoize=function(t,e){var r=function(n){var i=r.cache,o=""+(e?e.apply(this,arguments):n);return v.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return r.cache={},r},v.delay=function(t,e){var r=c.call(arguments,2);return setTimeout(function(){return t.apply(null,r)},e)},v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,r){var n,i,o,s=null,a=0;r||(r={});var u=function(){a=!1===r.leading?0:v.now(),s=null,o=t.apply(n,i),s||(n=i=null)};return function(){var c=v.now();a||!1!==r.leading||(a=c);var f=e-(c-a);return n=this,i=arguments,f<=0||f>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(n,i),s||(n=i=null)):s||!1===r.trailing||(s=setTimeout(u,f)),o}},v.debounce=function(t,e,r){var n,i,o,s,a,u=function(){var c=v.now()-s;c<e&&c>=0?n=setTimeout(u,e-c):(n=null,r||(a=t.apply(o,i),n||(o=i=null)))};return function(){o=this,i=arguments,s=v.now();var c=r&&!n;return n||(n=setTimeout(u,e)),c&&(a=t.apply(o,i),o=i=null),a}},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.before=function(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}},v.once=v.partial(v.before,2);var B=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function N(t,e){var r=P.length,n=t.constructor,i=v.isFunction(n)&&n.prototype||s,o="constructor";for(v.has(t,o)&&!v.contains(e,o)&&e.push(o);r--;)(o=P[r])in t&&t[o]!==i[o]&&!v.contains(e,o)&&e.push(o)}v.keys=function(t){if(!v.isObject(t))return[];if(p)return p(t);var e=[];for(var r in t)v.has(t,r)&&e.push(r);return B&&N(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var r in t)e.push(r);return B&&N(t,e),e},v.values=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n},v.mapObject=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=i.length,s={},a=0;a<o;a++)s[n=i[a]]=e(t[n],n,t);return s},v.pairs=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=[e[i],t[e[i]]];return n},v.invert=function(t){for(var e={},r=v.keys(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e},v.functions=v.methods=function(t){var e=[];for(var r in t)v.isFunction(t[r])&&e.push(r);return e.sort()},v.extend=w(v.allKeys),v.extendOwn=v.assign=w(v.keys),v.findKey=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=0,s=i.length;o<s;o++)if(e(t[n=i[o]],n,t))return n},v.pick=function(t,e,r){var n,i,o={},s=t;if(null==s)return o;v.isFunction(e)?(i=v.allKeys(s),n=y(e,r)):(i=M(arguments,!1,!1,1),n=function(t,e,r){return e in r},s=Object(s));for(var a=0,u=i.length;a<u;a++){var c=i[a],f=s[c];n(f,c,s)&&(o[c]=f)}return o},v.omit=function(t,e,r){if(v.isFunction(e))e=v.negate(e);else{var n=v.map(M(arguments,!1,!1,1),String);e=function(t,e){return!v.contains(n,e)}}return v.pick(t,e,r)},v.defaults=w(v.allKeys,!0),v.create=function(t,e){var r=_(t);return e&&v.extendOwn(r,e),r},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var r=v.keys(e),n=r.length;if(null==t)return!n;for(var i=Object(t),o=0;o<n;o++){var s=r[o];if(e[s]!==i[s]||!(s in i))return!1}return!0};var R=function(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var i=f.call(t);if(i!==f.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===t)return n[u]===e;if(r.push(t),n.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!R(t[u],e[u],r,n))return!1}else{var c,l=v.keys(t);if(u=l.length,v.keys(e).length!==u)return!1;for(;u--;)if(c=l[u],!v.has(e,c)||!R(t[c],e[c],r,n))return!1}return r.pop(),n.pop(),!0};v.isEqual=function(t,e){return R(t,e)},v.isEmpty=function(t){return null==t||(E(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=h||function(t){return"[object Array]"===f.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){v["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return v.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&t!==+t},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){return null!=t&&l.call(t,e)},v.noConflict=function(){return r._=i,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=k,v.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,r){var n=Array(Math.max(0,t));e=y(e,r,1);for(var i=0;i<t;i++)n[i]=e(i);return n},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=v.invert(F),L=function(t){var e=function(e){return t[e]},r="(?:"+v.keys(t).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(i,e):t}};v.escape=L(F),v.unescape=L(j),v.result=function(t,e,r){var n=null==t?void 0:t[e];return void 0===n&&(n=r),v.isFunction(n)?n.call(t):n};var D=0;v.uniqueId=function(t){var e=++D+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,K=function(t){return"\\"+z[t]};v.template=function(t,e,r){!e&&r&&(e=r),e=v.defaults({},e,v.templateSettings);var n=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(n,function(e,r,n,s,a){return o+=t.slice(i,a).replace(H,K),i=a+e.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,v)},u=e.variable||"obj";return a.source="function("+u+"){\n"+o+"}",a},v.chain=function(t){var e=v(t);return e._chain=!0,e};var q=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){v.each(v.functions(t),function(e){var r=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),q(this,r.apply(v,t))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];v.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0],q(this,r)}}),v.each(["concat","join","slice"],function(t){var e=o[t];v.prototype[t]=function(){return q(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},void 0===(n=function(){return v}.apply(e,[]))||(t.exports=n)}).call(this)},function(t,e,r){"use strict";var n=r(1651),i=r(43).errors,o=r(1650);function s(t){o.call(this),this.id=null,this.callback=null,this.arguments=null,this._reconnectIntervalId=null,this.options={subscription:t.subscription,type:t.type,requestManager:t.requestManager}}s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.prototype._extractCallback=function(t){if(n.isFunction(t[t.length-1]))return t.pop()},s.prototype._validateArgs=function(t){var e=this.options.subscription;if(e||(e={}),e.params||(e.params=0),t.length!==e.params)throw i.InvalidNumberOfParams(t.length,e.params+1,t[0])},s.prototype._formatInput=function(t){var e=this.options.subscription;return e&&e.inputFormatter?e.inputFormatter.map(function(e,r){return e?e(t[r]):t[r]}):t},s.prototype._formatOutput=function(t){var e=this.options.subscription;return e&&e.outputFormatter&&t?e.outputFormatter(t):t},s.prototype._toPayload=function(t){var e=[];if(this.callback=this._extractCallback(t),this.subscriptionMethod||(this.subscriptionMethod=t.shift(),this.options.subscription.subscriptionName&&(this.subscriptionMethod=this.options.subscription.subscriptionName)),this.arguments||(this.arguments=this._formatInput(t),this._validateArgs(this.arguments),t=[]),e.push(this.subscriptionMethod),e=e.concat(this.arguments),t.length)throw new Error("Only a callback is allowed as parameter on an already instantiated subscription.");return{method:this.options.type+"_subscribe",params:e}},s.prototype.unsubscribe=function(t){this.options.requestManager.removeSubscription(this.id,t),this.id=null,this.removeAllListeners(),clearInterval(this._reconnectIntervalId)},s.prototype.subscribe=function(){var t=this,e=Array.prototype.slice.call(arguments),r=this._toPayload(e);if(!r)return this;if(!this.options.requestManager.provider){var i=new Error("No provider set.");return this.callback(i,null,this),this.emit("error",i),this}if(!this.options.requestManager.provider.on){var o=new Error("The current provider doesn't support subscriptions: "+this.options.requestManager.provider.constructor.name);return this.callback(o,null,this),this.emit("error",o),this}return this.id&&this.unsubscribe(),this.options.params=r.params[1],"logs"===r.params[0]&&n.isObject(r.params[1])&&r.params[1].hasOwnProperty("fromBlock")&&isFinite(r.params[1].fromBlock)&&this.options.requestManager.send({method:"eth_getLogs",params:[r.params[1]]},function(e,r){e?(t.callback(e,null,t),t.emit("error",e)):r.forEach(function(e){var r=t._formatOutput(e);t.callback(null,r,t),t.emit("data",r)})}),"object"==typeof r.params[1]&&delete r.params[1].fromBlock,this.options.requestManager.send(r,function(e,i){!e&&i?(t.id=i,t.options.requestManager.addSubscription(t.id,r.params[0],t.options.type,function(e,r){e?(t.options.requestManager.removeSubscription(t.id),t.options.requestManager.provider.once&&(t._reconnectIntervalId=setInterval(function(){t.options.requestManager.provider.reconnect&&t.options.requestManager.provider.reconnect()},500),t.options.requestManager.provider.once("connect",function(){clearInterval(t._reconnectIntervalId),t.subscribe(t.callback)})),t.emit("error",e),n.isFunction(t.callback)&&t.callback(e,null,t)):(n.isArray(r)||(r=[r]),r.forEach(function(e){var r=t._formatOutput(e);if(n.isFunction(t.options.subscription.subscriptionHandler))return t.options.subscription.subscriptionHandler.call(t,r);t.emit("data",r),n.isFunction(t.callback)&&t.callback(null,r,t)}))})):n.isFunction(t.callback)?(t.callback(e,null,t),t.emit("error",e)):t.emit("error",e)}),this},t.exports=s},function(t,e,r){"use strict";var n=null;t.exports=function(t,e){return function(r,i){r=r||null;var o=!1!==(i=i||{}).global;if(null===n&&o&&(n=t["@@any-promise/REGISTRATION"]||null),null!==n&&null!==r&&n.implementation!==r)throw new Error('any-promise already defined as "'+n.implementation+'".  You can only register an implementation before the first  call to require("any-promise") and an implementation cannot be changed');return null===n&&(n=null!==r&&void 0!==i.Promise?{Promise:i.Promise,implementation:r}:e(r),o&&(t["@@any-promise/REGISTRATION"]=n)),n}}},function(t,e,r){"use strict";t.exports=r(1653)(window,function(){if(void 0===window.Promise)throw new Error("any-promise browser requires a polyfill or explicit registration e.g: require('any-promise/register/bluebird')");return{Promise:window.Promise,implementation:"window.Promise"}})},function(t,e,r){"use strict";var n="function"!=typeof Object.create&&"~";function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(){}o.prototype._events=void 0,o.prototype.listeners=function(t,e){var r=n?n+t:t,i=this._events&&this._events[r];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var o=0,s=i.length,a=new Array(s);o<s;o++)a[o]=i[o].fn;return a},o.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events||!this._events[a])return!1;var u,c,f=this._events[a],l=arguments.length;if("function"==typeof f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,r),!0;case 4:return f.fn.call(f.context,e,r,i),!0;case 5:return f.fn.call(f.context,e,r,i,o),!0;case 6:return f.fn.call(f.context,e,r,i,o,s),!0}for(c=1,u=new Array(l-1);c<l;c++)u[c-1]=arguments[c];f.fn.apply(f.context,u)}else{var h,p=f.length;for(c=0;c<p;c++)switch(f[c].once&&this.removeListener(t,f[c].fn,void 0,!0),l){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,e);break;case 3:f[c].fn.call(f[c].context,e,r);break;default:if(!u)for(h=1,u=new Array(l-1);h<l;h++)u[h-1]=arguments[h];f[c].fn.apply(f[c].context,u)}}return!0},o.prototype.on=function(t,e,r){var o=new i(e,r||this),s=n?n+t:t;return this._events||(this._events=n?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],o]:this._events[s].push(o):this._events[s]=o,this},o.prototype.once=function(t,e,r){var o=new i(e,r||this,!0),s=n?n+t:t;return this._events||(this._events=n?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],o]:this._events[s].push(o):this._events[s]=o,this},o.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events||!this._events[o])return this;var s=this._events[o],a=[];if(e)if(s.fn)(s.fn!==e||i&&!s.once||r&&s.context!==r)&&a.push(s);else for(var u=0,c=s.length;u<c;u++)(s[u].fn!==e||i&&!s[u].once||r&&s[u].context!==r)&&a.push(s[u]);return a.length?this._events[o]=1===a.length?a[0]:a:delete this._events[o],this},o.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[n?n+t:t]:this._events=n?{}:Object.create(null),this):this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=n,t.exports=o},function(t,e,r){var n;(function(){var r=this,i=r._,o=Array.prototype,s=Object.prototype,a=Function.prototype,u=o.push,c=o.slice,f=s.toString,l=s.hasOwnProperty,h=Array.isArray,p=Object.keys,d=a.bind,m=Object.create,g=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};void 0!==t&&t.exports&&(e=t.exports=v),e._=v,v.VERSION="1.8.3";var y=function(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)}}return function(){return t.apply(e,arguments)}},b=function(t,e,r){return null==t?v.identity:v.isFunction(t)?y(t,e,r):v.isObject(t)?v.matcher(t):v.property(t)};v.iteratee=function(t,e){return b(t,e,1/0)};var w=function(t,e){return function(r){var n=arguments.length;if(n<2||null==r)return r;for(var i=1;i<n;i++)for(var o=arguments[i],s=t(o),a=s.length,u=0;u<a;u++){var c=s[u];e&&void 0!==r[c]||(r[c]=o[c])}return r}},_=function(t){if(!v.isObject(t))return{};if(m)return m(t);g.prototype=t;var e=new g;return g.prototype=null,e},k=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,x=k("length"),E=function(t){var e=x(t);return"number"==typeof e&&e>=0&&e<=S};function C(t){return function(e,r,n,i){r=y(r,i,4);var o=!E(e)&&v.keys(e),s=(o||e).length,a=t>0?0:s-1;return arguments.length<3&&(n=e[o?o[a]:a],a+=t),function(e,r,n,i,o,s){for(;o>=0&&o<s;o+=t){var a=i?i[o]:o;n=r(n,e[a],a,e)}return n}(e,r,n,o,a,s)}}v.each=v.forEach=function(t,e,r){var n,i;if(e=y(e,r),E(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else{var o=v.keys(t);for(n=0,i=o.length;n<i;n++)e(t[o[n]],o[n],t)}return t},v.map=v.collect=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=Array(i),s=0;s<i;s++){var a=n?n[s]:s;o[s]=e(t[a],a,t)}return o},v.reduce=v.foldl=v.inject=C(1),v.reduceRight=v.foldr=C(-1),v.find=v.detect=function(t,e,r){var n;if(void 0!==(n=E(t)?v.findIndex(t,e,r):v.findKey(t,e,r))&&-1!==n)return t[n]},v.filter=v.select=function(t,e,r){var n=[];return e=b(e,r),v.each(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n},v.reject=function(t,e,r){return v.filter(t,v.negate(b(e)),r)},v.every=v.all=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(!e(t[s],s,t))return!1}return!0},v.some=v.any=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(e(t[s],s,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,r,n){return E(t)||(t=v.values(t)),("number"!=typeof r||n)&&(r=0),v.indexOf(t,e,r)>=0},v.invoke=function(t,e){var r=c.call(arguments,2),n=v.isFunction(e);return v.map(t,function(t){var i=n?e:t[e];return null==i?i:i.apply(t,r)})},v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,r){var n,i,o=-1/0,s=-1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])>o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)});return o},v.min=function(t,e,r){var n,i,o=1/0,s=1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])<o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))<s||i===1/0&&o===1/0)&&(o=t,s=i)});return o},v.shuffle=function(t){for(var e,r=E(t)?t:v.values(t),n=r.length,i=Array(n),o=0;o<n;o++)(e=v.random(0,o))!==o&&(i[o]=i[e]),i[e]=r[o];return i},v.sample=function(t,e,r){return null==e||r?(E(t)||(t=v.values(t)),t[v.random(t.length-1)]):v.shuffle(t).slice(0,Math.max(0,e))},v.sortBy=function(t,e,r){return e=b(e,r),v.pluck(v.map(t,function(t,r,n){return{value:t,index:r,criteria:e(t,r,n)}}).sort(function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index}),"value")};var A=function(t){return function(e,r,n){var i={};return r=b(r,n),v.each(e,function(n,o){var s=r(n,o,e);t(i,n,s)}),i}};v.groupBy=A(function(t,e,r){v.has(t,r)?t[r].push(e):t[r]=[e]}),v.indexBy=A(function(t,e,r){t[r]=e}),v.countBy=A(function(t,e,r){v.has(t,r)?t[r]++:t[r]=1}),v.toArray=function(t){return t?v.isArray(t)?c.call(t):E(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:E(t)?t.length:v.keys(t).length},v.partition=function(t,e,r){e=b(e,r);var n=[],i=[];return v.each(t,function(t,r,o){(e(t,r,o)?n:i).push(t)}),[n,i]},v.first=v.head=v.take=function(t,e,r){if(null!=t)return null==e||r?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,r){return c.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))},v.last=function(t,e,r){if(null!=t)return null==e||r?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,r){return c.call(t,null==e||r?1:e)},v.compact=function(t){return v.filter(t,v.identity)};var M=function(t,e,r,n){for(var i=[],o=0,s=n||0,a=x(t);s<a;s++){var u=t[s];if(E(u)&&(v.isArray(u)||v.isArguments(u))){e||(u=M(u,e,r));var c=0,f=u.length;for(i.length+=f;c<f;)i[o++]=u[c++]}else r||(i[o++]=u)}return i};function I(t){return function(e,r,n){r=b(r,n);for(var i=x(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(r(e[o],o,e))return o;return-1}}function T(t,e,r){return function(n,i,o){var s=0,a=x(n);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(r&&o&&a)return n[o=r(n,i)]===i?o:-1;if(i!=i)return(o=e(c.call(n,s,a),v.isNaN))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(n[o]===i)return o;return-1}}v.flatten=function(t,e){return M(t,e,!1)},v.without=function(t){return v.difference(t,c.call(arguments,1))},v.uniq=v.unique=function(t,e,r,n){v.isBoolean(e)||(n=r,r=e,e=!1),null!=r&&(r=b(r,n));for(var i=[],o=[],s=0,a=x(t);s<a;s++){var u=t[s],c=r?r(u,s,t):u;e?(s&&o===c||i.push(u),o=c):r?v.contains(o,c)||(o.push(c),i.push(u)):v.contains(i,u)||i.push(u)}return i},v.union=function(){return v.uniq(M(arguments,!0,!0))},v.intersection=function(t){for(var e=[],r=arguments.length,n=0,i=x(t);n<i;n++){var o=t[n];if(!v.contains(e,o)){for(var s=1;s<r&&v.contains(arguments[s],o);s++);s===r&&e.push(o)}}return e},v.difference=function(t){var e=M(arguments,!0,!0,1);return v.filter(t,function(t){return!v.contains(e,t)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(t){for(var e=t&&v.max(t,x).length||0,r=Array(e),n=0;n<e;n++)r[n]=v.pluck(t,n);return r},v.object=function(t,e){for(var r={},n=0,i=x(t);n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r},v.findIndex=I(1),v.findLastIndex=I(-1),v.sortedIndex=function(t,e,r,n){for(var i=(r=b(r,n,1))(e),o=0,s=x(t);o<s;){var a=Math.floor((o+s)/2);r(t[a])<i?o=a+1:s=a}return o},v.indexOf=T(1,v.findIndex,v.sortedIndex),v.lastIndexOf=T(-1,v.findLastIndex),v.range=function(t,e,r){null==e&&(e=t||0,t=0),r=r||1;for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),o=0;o<n;o++,t+=r)i[o]=t;return i};var O=function(t,e,r,n,i){if(!(n instanceof e))return t.apply(r,i);var o=_(t.prototype),s=t.apply(o,i);return v.isObject(s)?s:o};v.bind=function(t,e){if(d&&t.bind===d)return d.apply(t,c.call(arguments,1));if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var r=c.call(arguments,2),n=function(){return O(t,n,e,this,r.concat(c.call(arguments)))};return n},v.partial=function(t){var e=c.call(arguments,1),r=function(){for(var n=0,i=e.length,o=Array(i),s=0;s<i;s++)o[s]=e[s]===v?arguments[n++]:e[s];for(;n<arguments.length;)o.push(arguments[n++]);return O(t,r,this,this,o)};return r},v.bindAll=function(t){var e,r,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)t[r=arguments[e]]=v.bind(t[r],t);return t},v.memoize=function(t,e){var r=function(n){var i=r.cache,o=""+(e?e.apply(this,arguments):n);return v.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return r.cache={},r},v.delay=function(t,e){var r=c.call(arguments,2);return setTimeout(function(){return t.apply(null,r)},e)},v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,r){var n,i,o,s=null,a=0;r||(r={});var u=function(){a=!1===r.leading?0:v.now(),s=null,o=t.apply(n,i),s||(n=i=null)};return function(){var c=v.now();a||!1!==r.leading||(a=c);var f=e-(c-a);return n=this,i=arguments,f<=0||f>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(n,i),s||(n=i=null)):s||!1===r.trailing||(s=setTimeout(u,f)),o}},v.debounce=function(t,e,r){var n,i,o,s,a,u=function(){var c=v.now()-s;c<e&&c>=0?n=setTimeout(u,e-c):(n=null,r||(a=t.apply(o,i),n||(o=i=null)))};return function(){o=this,i=arguments,s=v.now();var c=r&&!n;return n||(n=setTimeout(u,e)),c&&(a=t.apply(o,i),o=i=null),a}},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.before=function(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}},v.once=v.partial(v.before,2);var B=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function N(t,e){var r=P.length,n=t.constructor,i=v.isFunction(n)&&n.prototype||s,o="constructor";for(v.has(t,o)&&!v.contains(e,o)&&e.push(o);r--;)(o=P[r])in t&&t[o]!==i[o]&&!v.contains(e,o)&&e.push(o)}v.keys=function(t){if(!v.isObject(t))return[];if(p)return p(t);var e=[];for(var r in t)v.has(t,r)&&e.push(r);return B&&N(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var r in t)e.push(r);return B&&N(t,e),e},v.values=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n},v.mapObject=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=i.length,s={},a=0;a<o;a++)s[n=i[a]]=e(t[n],n,t);return s},v.pairs=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=[e[i],t[e[i]]];return n},v.invert=function(t){for(var e={},r=v.keys(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e},v.functions=v.methods=function(t){var e=[];for(var r in t)v.isFunction(t[r])&&e.push(r);return e.sort()},v.extend=w(v.allKeys),v.extendOwn=v.assign=w(v.keys),v.findKey=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=0,s=i.length;o<s;o++)if(e(t[n=i[o]],n,t))return n},v.pick=function(t,e,r){var n,i,o={},s=t;if(null==s)return o;v.isFunction(e)?(i=v.allKeys(s),n=y(e,r)):(i=M(arguments,!1,!1,1),n=function(t,e,r){return e in r},s=Object(s));for(var a=0,u=i.length;a<u;a++){var c=i[a],f=s[c];n(f,c,s)&&(o[c]=f)}return o},v.omit=function(t,e,r){if(v.isFunction(e))e=v.negate(e);else{var n=v.map(M(arguments,!1,!1,1),String);e=function(t,e){return!v.contains(n,e)}}return v.pick(t,e,r)},v.defaults=w(v.allKeys,!0),v.create=function(t,e){var r=_(t);return e&&v.extendOwn(r,e),r},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var r=v.keys(e),n=r.length;if(null==t)return!n;for(var i=Object(t),o=0;o<n;o++){var s=r[o];if(e[s]!==i[s]||!(s in i))return!1}return!0};var R=function(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var i=f.call(t);if(i!==f.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===t)return n[u]===e;if(r.push(t),n.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!R(t[u],e[u],r,n))return!1}else{var c,l=v.keys(t);if(u=l.length,v.keys(e).length!==u)return!1;for(;u--;)if(c=l[u],!v.has(e,c)||!R(t[c],e[c],r,n))return!1}return r.pop(),n.pop(),!0};v.isEqual=function(t,e){return R(t,e)},v.isEmpty=function(t){return null==t||(E(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=h||function(t){return"[object Array]"===f.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){v["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return v.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&t!==+t},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){return null!=t&&l.call(t,e)},v.noConflict=function(){return r._=i,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=k,v.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,r){var n=Array(Math.max(0,t));e=y(e,r,1);for(var i=0;i<t;i++)n[i]=e(i);return n},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=v.invert(F),L=function(t){var e=function(e){return t[e]},r="(?:"+v.keys(t).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(i,e):t}};v.escape=L(F),v.unescape=L(j),v.result=function(t,e,r){var n=null==t?void 0:t[e];return void 0===n&&(n=r),v.isFunction(n)?n.call(t):n};var D=0;v.uniqueId=function(t){var e=++D+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,K=function(t){return"\\"+z[t]};v.template=function(t,e,r){!e&&r&&(e=r),e=v.defaults({},e,v.templateSettings);var n=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(n,function(e,r,n,s,a){return o+=t.slice(i,a).replace(H,K),i=a+e.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,v)},u=e.variable||"obj";return a.source="function("+u+"){\n"+o+"}",a},v.chain=function(t){var e=v(t);return e._chain=!0,e};var q=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){v.each(v.functions(t),function(e){var r=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),q(this,r.apply(v,t))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];v.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0],q(this,r)}}),v.each(["concat","join","slice"],function(t){var e=o[t];v.prototype[t]=function(){return q(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},void 0===(n=function(){return v}.apply(e,[]))||(t.exports=n)}).call(this)},function(t,e,r){"use strict";var n=r(43).formatters,i=r(109),o=r(54);t.exports=function(t){var e=function(e){var r;return e.property?(t[e.property]||(t[e.property]={}),r=t[e.property]):r=t,e.methods&&e.methods.forEach(function(e){e instanceof i||(e=new i(e)),e.attachToObject(r),e.setRequestManager(t._requestManager)}),t};return e.formatters=n,e.utils=o,e.Method=i,e}},function(t,e,r){var n;!function(r,i,o,s,a,u){var c=d(function(t,e){var r=e.length;return d(function(n){for(var i=0;i<n.length;i++)e[r+i]=n[i];return e.length=r+n.length,t.apply(this,e)})});d(function(t){var e=A(t);function r(t,e){return[p(t,e)]}return d(function(t){return O(r,t,e)[0]})});function f(t,e){return function(){return t.call(this,e.apply(this,arguments))}}function l(t){return function(e){return e[t]}}var h=d(function(t){return d(function(e){for(var r,n=0;n<b(t);n++)if(r=p(e,t[n]))return r})});function p(t,e){return e.apply(u,t)}function d(t){var e=t.length-1,r=o.prototype.slice;if(0==e)return function(){return t.call(this,r.call(arguments))};if(1==e)return function(){return t.call(this,arguments[0],r.call(arguments,1))};var n=o(t.length);return function(){for(var i=0;i<e;i++)n[i]=arguments[i];return n[e]=r.call(arguments,e),t.apply(this,n)}}function m(t,e){return function(r){return t(r)&&e(r)}}function g(){}function v(){return!0}function y(t,e){return e&&e.constructor===t}var b=l("length"),w=c(y,String);function _(t){return t!==u}function k(t,e){return e instanceof i&&function t(e,r){return!r||e(E(r))&&t(e,C(r))}(function(t){return t in e},t)}function S(t,e){return[t,e]}var x=null,E=l(0),C=l(1);function A(t){return P(t.reduce((e=S,function(t,r){return e(r,t)}),x));var e}var M=d(A);function I(t){return O(function(t,e){return t.unshift(e),t},[],t)}function T(t,e){return e?S(t(E(e)),T(t,C(e))):x}function O(t,e,r){return r?t(O(t,e,C(r)),E(r)):e}function B(t,e,r){return function t(r,n){return r?e(E(r))?(n(E(r)),C(r)):S(E(r),t(C(r),n)):x}(t,r||g)}function P(t){return function t(e,r){return e?t(C(e),S(E(e),r)):r}(t,x)}function N(t){"use strict";var e,r,n,i=t(ht).emit,o=t(pt).emit,a=t(dt).emit,c=t(ot).emit,f=65536,l=/[\\"\n]/g,h=0,p=h++,d=h++,m=h++,g=h++,v=h++,y=h++,b=h++,w=h++,_=h++,k=h++,S=h++,x=h++,E=h++,C=h++,A=h++,M=h++,I=h++,T=h++,O=h++,B=h++,P=h,N=f,R=u,F="",j=!1,L=!1,D=p,U=[],z=null,H=0,K=0,q=0,V=0,W=1;function G(t){R!==u&&(o(R),a(),R=u),e=s(t+"\nLn: "+W+"\nCol: "+V+"\nChr: "+r),c(mt(u,u,e))}function Y(t){return"\r"==t||"\n"==t||" "==t||"\t"==t}t(ct).on(function(t){if(e)return;if(L)return G("Cannot write after close");var s=0;r=t[0];for(;r&&(n=r,r=t[s++]);)switch(q++,"\n"==r?(W++,V=0):V++,D){case p:if("{"===r)D=m;else if("["===r)D=v;else if(!Y(r))return G("Non-whitespace before {[.");continue;case w:case m:if(Y(r))continue;if(D===w)U.push(_);else{if("}"===r){o({}),a(),D=U.pop()||d;continue}U.push(g)}if('"'!==r)return G('Malformed object key should start with " ');D=b;continue;case _:case g:if(Y(r))continue;if(":"===r)D===g?(U.push(g),R!==u&&(o({}),i(R),R=u),K++):R!==u&&(i(R),R=u),D=d;else if("}"===r)R!==u&&(o(R),a(),R=u),a(),K--,D=U.pop()||d;else{if(","!==r)return G("Bad object");D===g&&U.push(g),R!==u&&(o(R),a(),R=u),D=w}continue;case v:case d:if(Y(r))continue;if(D===v){if(o([]),K++,D=d,"]"===r){a(),K--,D=U.pop()||d;continue}U.push(y)}if('"'===r)D=b;else if("{"===r)D=m;else if("["===r)D=v;else if("t"===r)D=k;else if("f"===r)D=E;else if("n"===r)D=I;else if("-"===r)F+=r;else if("0"===r)F+=r,D=P;else{if(-1==="123456789".indexOf(r))return G("Bad value");F+=r,D=P}continue;case y:if(","===r)U.push(y),R!==u&&(o(R),a(),R=u),D=d;else{if("]"!==r){if(Y(r))continue;return G("Bad array")}R!==u&&(o(R),a(),R=u),a(),K--,D=U.pop()||d}continue;case b:R===u&&(R="");var c=s-1;t:for(;;){for(;H>0;)if(z+=r,r=t.charAt(s++),4===H?(R+=String.fromCharCode(parseInt(z,16)),H=0,c=s-1):H++,!r)break t;if('"'===r&&!j){D=U.pop()||d,R+=t.substring(c,s-1);break}if(!("\\"!==r||j||(j=!0,R+=t.substring(c,s-1),r=t.charAt(s++))))break;if(j){if(j=!1,"n"===r?R+="\n":"r"===r?R+="\r":"t"===r?R+="\t":"f"===r?R+="\f":"b"===r?R+="\b":"u"===r?(H=1,z=""):R+=r,r=t.charAt(s++),c=s-1,r)continue;break}l.lastIndex=s;var h=l.exec(t);if(!h){s=t.length+1,R+=t.substring(c,s-1);break}if(s=h.index+1,!(r=t.charAt(h.index))){R+=t.substring(c,s-1);break}}continue;case k:if(!r)continue;if("r"!==r)return G("Invalid true started with t"+r);D=S;continue;case S:if(!r)continue;if("u"!==r)return G("Invalid true started with tr"+r);D=x;continue;case x:if(!r)continue;if("e"!==r)return G("Invalid true started with tru"+r);o(!0),a(),D=U.pop()||d;continue;case E:if(!r)continue;if("a"!==r)return G("Invalid false started with f"+r);D=C;continue;case C:if(!r)continue;if("l"!==r)return G("Invalid false started with fa"+r);D=A;continue;case A:if(!r)continue;if("s"!==r)return G("Invalid false started with fal"+r);D=M;continue;case M:if(!r)continue;if("e"!==r)return G("Invalid false started with fals"+r);o(!1),a(),D=U.pop()||d;continue;case I:if(!r)continue;if("u"!==r)return G("Invalid null started with n"+r);D=T;continue;case T:if(!r)continue;if("l"!==r)return G("Invalid null started with nu"+r);D=O;continue;case O:if(!r)continue;if("l"!==r)return G("Invalid null started with nul"+r);o(null),a(),D=U.pop()||d;continue;case B:if("."!==r)return G("Leading zero not followed by .");F+=r,D=P;continue;case P:if(-1!=="0123456789".indexOf(r))F+=r;else if("."===r){if(-1!==F.indexOf("."))return G("Invalid number has two dots");F+=r}else if("e"===r||"E"===r){if(-1!==F.indexOf("e")||-1!==F.indexOf("E"))return G("Invalid number has two exponential");F+=r}else if("+"===r||"-"===r){if("e"!==n&&"E"!==n)return G("Invalid symbol in number");F+=r}else F&&(o(parseFloat(F)),a(),F=""),s--,D=U.pop()||d;continue;default:return G("Unknown state: "+D)}q>=N&&($=0,R!==u&&R.length>f&&(G("Max buffer length exceeded: textNode"),$=Math.max($,R.length)),F.length>f&&(G("Max buffer length exceeded: numberNode"),$=Math.max($,F.length)),N=f-$+q);var $}),t(ft).on(function(){if(D==p)return o({}),a(),void(L=!0);D===d&&0===K||G("Unexpected end");R!==u&&(o(R),a(),R=u);L=!0})}var R,F,j,L,D,U,z,H,K,q,V,W=(R=d(function(t){return t.unshift(/^/),(e=RegExp(t.map(l("source")).join(""))).exec.bind(e);var e}),L=R(F=/(\$?)/,/([\w-_]+|\*)/,j=/(?:{([\w ]*?)})?/),D=R(F,/\["([^"]+)"\]/,j),U=R(F,/\[(\d+|\*)\]/,j),z=R(F,/()/,/{([\w ]*?)}/),H=R(/\.\./),K=R(/\./),q=R(F,/!/),V=R(/$/),function(t){return t(h(L,D,U,z),H,K,q,V)});function G(t,e){return{key:t,node:e}}var Y=l("key"),$=l("node"),Z={};function X(t){var e=t(et).emit,r=t(rt).emit,n=t(at).emit,i=t(st).emit;function s(t,e,r){$(E(t))[e]=r}function a(t,r,n){t&&s(t,r,n);var i=S(G(r,n),t);return e(i),i}var u={};return u[pt]=function(t,e){if(!t)return n(e),a(t,Z,e);var r=function(t,e){var r=$(E(t));return y(o,r)?a(t,b(r),e):t}(t,e),i=C(r),u=Y(E(r));return s(i,u,e),S(G(u,e),i)},u[dt]=function(t){return r(t),C(t)||i($(E(t)))},u[ht]=a,u}var J=W(function(t,e,r,n,i){var o=1,a=2,u=3,l=f(Y,E),p=f($,E);function d(t,e){return!!e[o]?m(t,E):t}function g(t){if(t==v)return v;return m(function(t){return l(t)!=Z},f(t,C))}function y(){return function(t){return l(t)==Z}}function w(t,e,r,n,i){var o=t(r);if(o){var s=function(t,e,r){return O(function(t,e){return e(t,r)},e,t)}(e,n,o);return i(r.substr(b(o[0])),s)}}function _(t,e){return c(w,t,e)}var S=h(_(t,M(d,function(t,e){var r=e[u];return r?m(f(c(k,A(r.split(/\W+/))),p),t):t},function(t,e){var r=e[a];return m(r&&"*"!=r?function(t){return l(t)==r}:v,t)},g)),_(e,M(function(t){if(t==v)return v;var e=y(),r=t,n=g(function(t){return i(t)}),i=h(e,r,n);return i})),_(r,M()),_(n,M(d,y)),_(i,M(function(t){return function(e){var r=t(e);return!0===r?E(e):r}})),function(t){throw s('"'+t+'" could not be tokenised')});function x(t,e){return e}function I(t,e){return S(t,e,t?I:x)}return function(t){try{return I(t,v)}catch(e){throw s('Could not compile "'+t+'" because '+e.message)}}});function Q(t,e,r){var n,i;function o(t){return function(e){return e.id==t}}return{on:function(r,o){var s={listener:r,id:o||r};return e&&e.emit(t,r,s.id),n=S(s,n),i=S(r,i),this},emit:function(){!function t(e,r){e&&(E(e).apply(null,r),t(C(e),r))}(i,arguments)},un:function(e){var s;n=B(n,o(e),function(t){s=t}),s&&(i=B(i,function(t){return t==s.listener}),r&&r.emit(t,s.listener,s.id))},listeners:function(){return i},hasListener:function(t){return _(function t(e,r){return r&&(e(E(r))?E(r):t(e,C(r)))}(t?o(t):v,n))}}}var tt=1,et=tt++,rt=tt++,nt=tt++,it=tt++,ot="fail",st=tt++,at=tt++,ut="start",ct="data",ft="end",lt=tt++,ht=tt++,pt=tt++,dt=tt++;function mt(t,e,r){try{var n=a.parse(e)}catch(t){}return{statusCode:t,body:e,jsonBody:n,thrown:r}}function gt(t,e){var r={node:t(rt),path:t(et)};function n(e,r,n){var i=t(e).emit;r.on(function(t){var e=n(t);!1!==e&&function(t,e,r){var n=P(r);t(e,I(C(T(Y,n))),I(T($,n)))}(i,$(e),t)},e),t("removeListener").on(function(n){n==e&&(t(n).listeners()||r.un(e))})}t("newListener").on(function(t){var i=/(node|path):(.*)/.exec(t);if(i){var o=r[i[1]];o.hasListener(t)||n(t,o,e(i[2]))}})}function vt(t,e){var r,n=/^(node|path):./,i=t(st),o=t(it).emit,s=t(nt).emit,a=d(function(e,i){if(r[e])p(i,r[e]);else{var o=t(e),s=i[0];n.test(e)?u(o,s):o.on(s)}return r});function u(t,e,n){n=n||e;var i=f(e);return t.on(function(){var e=!1;r.forget=function(){e=!0},p(arguments,i),delete r.forget,e&&t.un(n)},n),r}function f(t){return function(){try{return t.apply(r,arguments)}catch(t){setTimeout(function(){throw t})}}}function l(e,r,n){var i;i="node"==e?function(t){return function(){var e=t.apply(this,arguments);_(e)&&(e==wt.drop?o():s(e))}}(n):n,u(function(e,r){return t(e+":"+r)}(e,r),i,n)}function h(t,e,n){return w(e)?l(t,e,n):function(t,e){for(var r in e)l(t,r,e[r])}(t,e),r}return t(at).on(function(t){var e;r.root=(e=t,function(){return e})}),t(ut).on(function(t,e){r.header=function(t){return t?e[t]:e}}),r={on:a,addListener:a,removeListener:function(e,n,o){if("done"==e)i.un(n);else if("node"==e||"path"==e)t.un(e+":"+n,o);else{var s=n;t(e).un(s)}return r},emit:t.emit,node:c(h,"node"),path:c(h,"path"),done:c(u,i),start:c(function(e,n){return t(e).on(f(n),n),r},ut),fail:t(ot).on,abort:t(lt).emit,header:g,root:g,source:e}}function yt(t,e,n,i,o){var s=function(){var t={},e=n("newListener"),r=n("removeListener");function n(n){return t[n]=Q(n,e,r)}function i(e){return t[e]||n(e)}return["emit","on","un"].forEach(function(t){i[t]=d(function(e,r){p(r,i(e)[t])})}),i}();return e&&function(t,e,n,i,o,s,a){"use strict";var f=t(ct).emit,l=t(ot).emit,h=0,p=!0;function d(){var t=e.responseText,r=t.substr(h);r&&f(r),h=b(t)}t(lt).on(function(){e.onreadystatechange=null,e.abort()}),"onprogress"in e&&(e.onprogress=d),e.onreadystatechange=function(){function r(){try{p&&t(ut).emit(e.status,(r=e.getAllResponseHeaders(),n={},r&&r.split("\r\n").forEach(function(t){var e=t.indexOf(": ");n[t.substring(0,e)]=t.substring(e+2)}),n)),p=!1}catch(t){}var r,n}switch(e.readyState){case 2:case 3:return r();case 4:r(),2==String(e.status)[0]?(d(),t(ft).emit()):l(mt(e.status,e.responseText))}};try{for(var m in e.open(n,i,!0),s)e.setRequestHeader(m,s[m]);(function(t,e){function r(e){return e.port||{"http:":80,"https:":443}[e.protocol||t.protocol]}return!!(e.protocol&&e.protocol!=t.protocol||e.host&&e.host!=t.host||e.host&&r(e)!=r(t))})(r.location,function(t){var e=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(t)||[];return{protocol:e[1]||"",host:e[2]||"",port:e[3]||""}}(i))||e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.withCredentials=a,e.send(o)}catch(t){r.setTimeout(c(l,mt(u,u,t)),0)}}(s,new XMLHttpRequest,t,e,n,i,o),N(s),function(t,e){"use strict";var r,n={};function i(t){return function(e){r=t(r,e)}}for(var o in e)t(o).on(i(e[o]),n);t(nt).on(function(t){var e=E(r),n=Y(e),i=C(r);i&&($(E(i))[n]=t)}),t(it).on(function(){var t=E(r),e=Y(t),n=C(r);n&&delete $(E(n))[e]}),t(lt).on(function(){for(var r in e)t(r).un(n)})}(s,X(s)),gt(s,J),vt(s,e)}function bt(t,e,r,n,i,o,s){return i=i?a.parse(a.stringify(i)):{},n?w(n)||(n=a.stringify(n),i["Content-Type"]=i["Content-Type"]||"application/json"):n=null,t(r||"GET",function(t,e){return!1===e&&(-1==t.indexOf("?")?t+="?":t+="&",t+="_="+(new Date).getTime()),t}(e,s),n,i,o||!1)}function wt(t){var e=M("resume","pause","pipe"),r=c(k,e);return t?r(t)||w(t)?bt(yt,t):bt(yt,t.url,t.method,t.body,t.headers,t.withCredentials,t.cached):yt()}wt.drop=function(){return wt.drop},(n=function(){return wt}.apply(e,[]))===u||(t.exports=n)}(function(){try{return window}catch(t){return self}}(),Object,Array,Error,JSON)},function(t,e,r){var n;(function(){var r=this,i=r._,o=Array.prototype,s=Object.prototype,a=Function.prototype,u=o.push,c=o.slice,f=s.toString,l=s.hasOwnProperty,h=Array.isArray,p=Object.keys,d=a.bind,m=Object.create,g=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};void 0!==t&&t.exports&&(e=t.exports=v),e._=v,v.VERSION="1.8.3";var y=function(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)}}return function(){return t.apply(e,arguments)}},b=function(t,e,r){return null==t?v.identity:v.isFunction(t)?y(t,e,r):v.isObject(t)?v.matcher(t):v.property(t)};v.iteratee=function(t,e){return b(t,e,1/0)};var w=function(t,e){return function(r){var n=arguments.length;if(n<2||null==r)return r;for(var i=1;i<n;i++)for(var o=arguments[i],s=t(o),a=s.length,u=0;u<a;u++){var c=s[u];e&&void 0!==r[c]||(r[c]=o[c])}return r}},_=function(t){if(!v.isObject(t))return{};if(m)return m(t);g.prototype=t;var e=new g;return g.prototype=null,e},k=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,x=k("length"),E=function(t){var e=x(t);return"number"==typeof e&&e>=0&&e<=S};function C(t){return function(e,r,n,i){r=y(r,i,4);var o=!E(e)&&v.keys(e),s=(o||e).length,a=t>0?0:s-1;return arguments.length<3&&(n=e[o?o[a]:a],a+=t),function(e,r,n,i,o,s){for(;o>=0&&o<s;o+=t){var a=i?i[o]:o;n=r(n,e[a],a,e)}return n}(e,r,n,o,a,s)}}v.each=v.forEach=function(t,e,r){var n,i;if(e=y(e,r),E(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else{var o=v.keys(t);for(n=0,i=o.length;n<i;n++)e(t[o[n]],o[n],t)}return t},v.map=v.collect=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=Array(i),s=0;s<i;s++){var a=n?n[s]:s;o[s]=e(t[a],a,t)}return o},v.reduce=v.foldl=v.inject=C(1),v.reduceRight=v.foldr=C(-1),v.find=v.detect=function(t,e,r){var n;if(void 0!==(n=E(t)?v.findIndex(t,e,r):v.findKey(t,e,r))&&-1!==n)return t[n]},v.filter=v.select=function(t,e,r){var n=[];return e=b(e,r),v.each(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n},v.reject=function(t,e,r){return v.filter(t,v.negate(b(e)),r)},v.every=v.all=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(!e(t[s],s,t))return!1}return!0},v.some=v.any=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(e(t[s],s,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,r,n){return E(t)||(t=v.values(t)),("number"!=typeof r||n)&&(r=0),v.indexOf(t,e,r)>=0},v.invoke=function(t,e){var r=c.call(arguments,2),n=v.isFunction(e);return v.map(t,function(t){var i=n?e:t[e];return null==i?i:i.apply(t,r)})},v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,r){var n,i,o=-1/0,s=-1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])>o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)});return o},v.min=function(t,e,r){var n,i,o=1/0,s=1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])<o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))<s||i===1/0&&o===1/0)&&(o=t,s=i)});return o},v.shuffle=function(t){for(var e,r=E(t)?t:v.values(t),n=r.length,i=Array(n),o=0;o<n;o++)(e=v.random(0,o))!==o&&(i[o]=i[e]),i[e]=r[o];return i},v.sample=function(t,e,r){return null==e||r?(E(t)||(t=v.values(t)),t[v.random(t.length-1)]):v.shuffle(t).slice(0,Math.max(0,e))},v.sortBy=function(t,e,r){return e=b(e,r),v.pluck(v.map(t,function(t,r,n){return{value:t,index:r,criteria:e(t,r,n)}}).sort(function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index}),"value")};var A=function(t){return function(e,r,n){var i={};return r=b(r,n),v.each(e,function(n,o){var s=r(n,o,e);t(i,n,s)}),i}};v.groupBy=A(function(t,e,r){v.has(t,r)?t[r].push(e):t[r]=[e]}),v.indexBy=A(function(t,e,r){t[r]=e}),v.countBy=A(function(t,e,r){v.has(t,r)?t[r]++:t[r]=1}),v.toArray=function(t){return t?v.isArray(t)?c.call(t):E(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:E(t)?t.length:v.keys(t).length},v.partition=function(t,e,r){e=b(e,r);var n=[],i=[];return v.each(t,function(t,r,o){(e(t,r,o)?n:i).push(t)}),[n,i]},v.first=v.head=v.take=function(t,e,r){if(null!=t)return null==e||r?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,r){return c.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))},v.last=function(t,e,r){if(null!=t)return null==e||r?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,r){return c.call(t,null==e||r?1:e)},v.compact=function(t){return v.filter(t,v.identity)};var M=function(t,e,r,n){for(var i=[],o=0,s=n||0,a=x(t);s<a;s++){var u=t[s];if(E(u)&&(v.isArray(u)||v.isArguments(u))){e||(u=M(u,e,r));var c=0,f=u.length;for(i.length+=f;c<f;)i[o++]=u[c++]}else r||(i[o++]=u)}return i};function I(t){return function(e,r,n){r=b(r,n);for(var i=x(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(r(e[o],o,e))return o;return-1}}function T(t,e,r){return function(n,i,o){var s=0,a=x(n);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(r&&o&&a)return n[o=r(n,i)]===i?o:-1;if(i!=i)return(o=e(c.call(n,s,a),v.isNaN))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(n[o]===i)return o;return-1}}v.flatten=function(t,e){return M(t,e,!1)},v.without=function(t){return v.difference(t,c.call(arguments,1))},v.uniq=v.unique=function(t,e,r,n){v.isBoolean(e)||(n=r,r=e,e=!1),null!=r&&(r=b(r,n));for(var i=[],o=[],s=0,a=x(t);s<a;s++){var u=t[s],c=r?r(u,s,t):u;e?(s&&o===c||i.push(u),o=c):r?v.contains(o,c)||(o.push(c),i.push(u)):v.contains(i,u)||i.push(u)}return i},v.union=function(){return v.uniq(M(arguments,!0,!0))},v.intersection=function(t){for(var e=[],r=arguments.length,n=0,i=x(t);n<i;n++){var o=t[n];if(!v.contains(e,o)){for(var s=1;s<r&&v.contains(arguments[s],o);s++);s===r&&e.push(o)}}return e},v.difference=function(t){var e=M(arguments,!0,!0,1);return v.filter(t,function(t){return!v.contains(e,t)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(t){for(var e=t&&v.max(t,x).length||0,r=Array(e),n=0;n<e;n++)r[n]=v.pluck(t,n);return r},v.object=function(t,e){for(var r={},n=0,i=x(t);n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r},v.findIndex=I(1),v.findLastIndex=I(-1),v.sortedIndex=function(t,e,r,n){for(var i=(r=b(r,n,1))(e),o=0,s=x(t);o<s;){var a=Math.floor((o+s)/2);r(t[a])<i?o=a+1:s=a}return o},v.indexOf=T(1,v.findIndex,v.sortedIndex),v.lastIndexOf=T(-1,v.findLastIndex),v.range=function(t,e,r){null==e&&(e=t||0,t=0),r=r||1;for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),o=0;o<n;o++,t+=r)i[o]=t;return i};var O=function(t,e,r,n,i){if(!(n instanceof e))return t.apply(r,i);var o=_(t.prototype),s=t.apply(o,i);return v.isObject(s)?s:o};v.bind=function(t,e){if(d&&t.bind===d)return d.apply(t,c.call(arguments,1));if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var r=c.call(arguments,2),n=function(){return O(t,n,e,this,r.concat(c.call(arguments)))};return n},v.partial=function(t){var e=c.call(arguments,1),r=function(){for(var n=0,i=e.length,o=Array(i),s=0;s<i;s++)o[s]=e[s]===v?arguments[n++]:e[s];for(;n<arguments.length;)o.push(arguments[n++]);return O(t,r,this,this,o)};return r},v.bindAll=function(t){var e,r,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)t[r=arguments[e]]=v.bind(t[r],t);return t},v.memoize=function(t,e){var r=function(n){var i=r.cache,o=""+(e?e.apply(this,arguments):n);return v.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return r.cache={},r},v.delay=function(t,e){var r=c.call(arguments,2);return setTimeout(function(){return t.apply(null,r)},e)},v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,r){var n,i,o,s=null,a=0;r||(r={});var u=function(){a=!1===r.leading?0:v.now(),s=null,o=t.apply(n,i),s||(n=i=null)};return function(){var c=v.now();a||!1!==r.leading||(a=c);var f=e-(c-a);return n=this,i=arguments,f<=0||f>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(n,i),s||(n=i=null)):s||!1===r.trailing||(s=setTimeout(u,f)),o}},v.debounce=function(t,e,r){var n,i,o,s,a,u=function(){var c=v.now()-s;c<e&&c>=0?n=setTimeout(u,e-c):(n=null,r||(a=t.apply(o,i),n||(o=i=null)))};return function(){o=this,i=arguments,s=v.now();var c=r&&!n;return n||(n=setTimeout(u,e)),c&&(a=t.apply(o,i),o=i=null),a}},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.before=function(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}},v.once=v.partial(v.before,2);var B=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function N(t,e){var r=P.length,n=t.constructor,i=v.isFunction(n)&&n.prototype||s,o="constructor";for(v.has(t,o)&&!v.contains(e,o)&&e.push(o);r--;)(o=P[r])in t&&t[o]!==i[o]&&!v.contains(e,o)&&e.push(o)}v.keys=function(t){if(!v.isObject(t))return[];if(p)return p(t);var e=[];for(var r in t)v.has(t,r)&&e.push(r);return B&&N(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var r in t)e.push(r);return B&&N(t,e),e},v.values=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n},v.mapObject=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=i.length,s={},a=0;a<o;a++)s[n=i[a]]=e(t[n],n,t);return s},v.pairs=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=[e[i],t[e[i]]];return n},v.invert=function(t){for(var e={},r=v.keys(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e},v.functions=v.methods=function(t){var e=[];for(var r in t)v.isFunction(t[r])&&e.push(r);return e.sort()},v.extend=w(v.allKeys),v.extendOwn=v.assign=w(v.keys),v.findKey=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=0,s=i.length;o<s;o++)if(e(t[n=i[o]],n,t))return n},v.pick=function(t,e,r){var n,i,o={},s=t;if(null==s)return o;v.isFunction(e)?(i=v.allKeys(s),n=y(e,r)):(i=M(arguments,!1,!1,1),n=function(t,e,r){return e in r},s=Object(s));for(var a=0,u=i.length;a<u;a++){var c=i[a],f=s[c];n(f,c,s)&&(o[c]=f)}return o},v.omit=function(t,e,r){if(v.isFunction(e))e=v.negate(e);else{var n=v.map(M(arguments,!1,!1,1),String);e=function(t,e){return!v.contains(n,e)}}return v.pick(t,e,r)},v.defaults=w(v.allKeys,!0),v.create=function(t,e){var r=_(t);return e&&v.extendOwn(r,e),r},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var r=v.keys(e),n=r.length;if(null==t)return!n;for(var i=Object(t),o=0;o<n;o++){var s=r[o];if(e[s]!==i[s]||!(s in i))return!1}return!0};var R=function(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var i=f.call(t);if(i!==f.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===t)return n[u]===e;if(r.push(t),n.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!R(t[u],e[u],r,n))return!1}else{var c,l=v.keys(t);if(u=l.length,v.keys(e).length!==u)return!1;for(;u--;)if(c=l[u],!v.has(e,c)||!R(t[c],e[c],r,n))return!1}return r.pop(),n.pop(),!0};v.isEqual=function(t,e){return R(t,e)},v.isEmpty=function(t){return null==t||(E(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=h||function(t){return"[object Array]"===f.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){v["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return v.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&t!==+t},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){return null!=t&&l.call(t,e)},v.noConflict=function(){return r._=i,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=k,v.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,r){var n=Array(Math.max(0,t));e=y(e,r,1);for(var i=0;i<t;i++)n[i]=e(i);return n},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=v.invert(F),L=function(t){var e=function(e){return t[e]},r="(?:"+v.keys(t).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(i,e):t}};v.escape=L(F),v.unescape=L(j),v.result=function(t,e,r){var n=null==t?void 0:t[e];return void 0===n&&(n=r),v.isFunction(n)?n.call(t):n};var D=0;v.uniqueId=function(t){var e=++D+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,K=function(t){return"\\"+z[t]};v.template=function(t,e,r){!e&&r&&(e=r),e=v.defaults({},e,v.templateSettings);var n=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(n,function(e,r,n,s,a){return o+=t.slice(i,a).replace(H,K),i=a+e.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,v)},u=e.variable||"obj";return a.source="function("+u+"){\n"+o+"}",a},v.chain=function(t){var e=v(t);return e._chain=!0,e};var q=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){v.each(v.functions(t),function(e){var r=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),q(this,r.apply(v,t))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];v.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0],q(this,r)}}),v.each(["concat","join","slice"],function(t){var e=o[t];v.prototype[t]=function(){return q(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},void 0===(n=function(){return v}.apply(e,[]))||(t.exports=n)}).call(this)},function(t,e,r){"use strict";var n=r(1659),i=r(43).errors,o=r(1658),s=function(t,e){var r=this;this.responseCallbacks={},this.notificationCallbacks=[],this.path=t,this.connection=e.connect({path:this.path}),this.addDefaultEvents();var i=function(t){var e=null;n.isArray(t)?t.forEach(function(t){r.responseCallbacks[t.id]&&(e=t.id)}):e=t.id,e||-1===t.method.indexOf("_subscription")?r.responseCallbacks[e]&&(r.responseCallbacks[e](null,t),delete r.responseCallbacks[e]):r.notificationCallbacks.forEach(function(e){n.isFunction(e)&&e(t)})};"Socket"===e.constructor.name?o(this.connection).done(i):this.connection.on("data",function(t){r._parseResponse(t.toString()).forEach(i)})};s.prototype.addDefaultEvents=function(){var t=this;this.connection.on("connect",function(){}),this.connection.on("error",function(){t._timeout()}),this.connection.on("end",function(){t._timeout()}),this.connection.on("timeout",function(){t._timeout()})},s.prototype._parseResponse=function(t){var e=this,r=[];return t.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(function(t){e.lastChunk&&(t=e.lastChunk+t);var n=null;try{n=JSON.parse(t)}catch(r){return e.lastChunk=t,clearTimeout(e.lastChunkTimeout),void(e.lastChunkTimeout=setTimeout(function(){throw e._timeout(),i.InvalidResponse(t)},15e3))}clearTimeout(e.lastChunkTimeout),e.lastChunk=null,n&&r.push(n)}),r},s.prototype._addResponseCallback=function(t,e){var r=t.id||t[0].id,n=t.method||t[0].method;this.responseCallbacks[r]=e,this.responseCallbacks[r].method=n},s.prototype._timeout=function(){for(var t in this.responseCallbacks)this.responseCallbacks.hasOwnProperty(t)&&(this.responseCallbacks[t](i.InvalidConnection("on IPC")),delete this.responseCallbacks[t])},s.prototype.reconnect=function(){this.connection.connect({path:this.path})},s.prototype.send=function(t,e){this.connection.writable||this.connection.connect({path:this.path}),this.connection.write(JSON.stringify(t)),this._addResponseCallback(t,e)},s.prototype.on=function(t,e){if("function"!=typeof e)throw new Error("The second parameter callback must be a function.");switch(t){case"data":this.notificationCallbacks.push(e);break;default:this.connection.on(t,e)}},s.prototype.once=function(t,e){if("function"!=typeof e)throw new Error("The second parameter callback must be a function.");this.connection.once(t,e)},s.prototype.removeListener=function(t,e){var r=this;switch(t){case"data":this.notificationCallbacks.forEach(function(t,n){t===e&&r.notificationCallbacks.splice(n,1)});break;default:this.connection.removeListener(t,e)}},s.prototype.removeAllListeners=function(t){switch(t){case"data":this.notificationCallbacks=[];break;default:this.connection.removeAllListeners(t)}},s.prototype.reset=function(){this._timeout(),this.notificationCallbacks=[],this.connection.removeAllListeners("error"),this.connection.removeAllListeners("end"),this.connection.removeAllListeners("timeout"),this.addDefaultEvents()},t.exports=s},function(t,e,r){var n=r(43).errors,i=r(663),o=function(t,e,r){this.host=t||"http://localhost:8545",this.timeout=e||0,this.connected=!1,this.headers=r};o.prototype._prepareRequest=function(){var t=new i;return t.open("POST",this.host,!0),t.setRequestHeader("Content-Type","application/json"),this.headers&&this.headers.forEach(function(e){t.setRequestHeader(e.name,e.value)}),t},o.prototype.send=function(t,e){var r=this,i=this._prepareRequest();i.onreadystatechange=function(){if(4===i.readyState&&1!==i.timeout){var t=i.responseText,o=null;try{t=JSON.parse(t)}catch(t){o=n.InvalidResponse(i.responseText)}r.connected=!0,e(o,t)}},i.ontimeout=function(){r.connected=!1,e(n.ConnectionTimeout(this.timeout))};try{i.send(JSON.stringify(t))}catch(t){this.connected=!1,e(n.InvalidConnection(this.host))}},t.exports=o},function(t,e,r){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),function(s){var a=encodeURIComponent(n(s))+r;return i(t[s])?o(t[s],function(t){return a+encodeURIComponent(n(t))}).join(e):a+encodeURIComponent(n(t[s]))}).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var f=0;f<c;++f){var l,h,p,d,m=t[f].replace(a,"%20"),g=m.indexOf(r);g>=0?(l=m.substr(0,g),h=m.substr(g+1)):(l=m,h=""),p=decodeURIComponent(l),d=decodeURIComponent(h),n(s,p)?i(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";e.decode=e.parse=r(1663),e.encode=e.stringify=r(1662)},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){(function(t,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){"object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType;var s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,c=36,f=1,l=26,h=38,p=700,d=72,m=128,g="-",v=/^xn--/,y=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=c-f,k=Math.floor,S=String.fromCharCode;function x(t){throw new RangeError(w[t])}function E(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function C(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+E((t=t.replace(b,".")).split("."),e).join(".")}function A(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function M(t){return E(t,function(t){var e="";return t>65535&&(e+=S((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=S(t)}).join("")}function I(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function T(t,e,r){var n=0;for(t=r?k(t/p):t>>1,t+=k(t/e);t>_*l>>1;n+=c)t=k(t/_);return k(n+(_+1)*t/(t+h))}function O(t){var e,r,n,i,o,s,a,h,p,v,y,b=[],w=t.length,_=0,S=m,E=d;for((r=t.lastIndexOf(g))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&x("not-basic"),b.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<w;){for(o=_,s=1,a=c;i>=w&&x("invalid-input"),((h=(y=t.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:c)>=c||h>k((u-_)/s))&&x("overflow"),_+=h*s,!(h<(p=a<=E?f:a>=E+l?l:a-E));a+=c)s>k(u/(v=c-p))&&x("overflow"),s*=v;E=T(_-o,e=b.length+1,0==o),k(_/e)>u-S&&x("overflow"),S+=k(_/e),_%=e,b.splice(_++,0,S)}return M(b)}function B(t){var e,r,n,i,o,s,a,h,p,v,y,b,w,_,E,C=[];for(b=(t=A(t)).length,e=m,r=0,o=d,s=0;s<b;++s)(y=t[s])<128&&C.push(S(y));for(n=i=C.length,i&&C.push(g);n<b;){for(a=u,s=0;s<b;++s)(y=t[s])>=e&&y<a&&(a=y);for(a-e>k((u-r)/(w=n+1))&&x("overflow"),r+=(a-e)*w,e=a,s=0;s<b;++s)if((y=t[s])<e&&++r>u&&x("overflow"),y==e){for(h=r,p=c;!(h<(v=p<=o?f:p>=o+l?l:p-o));p+=c)E=h-v,_=c-v,C.push(S(I(v+E%_,0))),h=k(E/_);C.push(S(I(h,0))),o=T(r,w,n==i),r=0,++n}++r,++e}return C.join("")}a={version:"1.4.1",ucs2:{decode:A,encode:M},decode:O,encode:B,toASCII:function(t){return C(t,function(t){return y.test(t)?"xn--"+B(t):t})},toUnicode:function(t){return C(t,function(t){return v.test(t)?O(t.slice(4).toLowerCase()):t})}},void 0===(i=function(){return a}.call(e,r,e,t))||(t.exports=i)}()}).call(this,r(24)(t),r(7))},function(t){t.exports={_from:"websocket@git://github.com/frozeman/WebSocket-Node.git#7004c39c42ac98875ab61126e5b4a925430f592c",_id:"websocket@1.0.24",_inBundle:!1,_integrity:"sha1-vmY7Qoywh6zYsWk1r4joR/gwRig=",_location:"/websocket",_phantomChildren:{},_requested:{type:"git",raw:"websocket@git://github.com/frozeman/WebSocket-Node.git#7004c39c42ac98875ab61126e5b4a925430f592c",name:"websocket",escapedName:"websocket",rawSpec:"git://github.com/frozeman/WebSocket-Node.git#7004c39c42ac98875ab61126e5b4a925430f592c",saveSpec:"git://github.com/frozeman/WebSocket-Node.git#7004c39c42ac98875ab61126e5b4a925430f592c",fetchSpec:"git://github.com/frozeman/WebSocket-Node.git",gitCommittish:"7004c39c42ac98875ab61126e5b4a925430f592c"},_requiredBy:["/web3-providers-ws"],_resolved:"git://github.com/frozeman/WebSocket-Node.git#7004c39c42ac98875ab61126e5b4a925430f592c",_spec:"websocket@git://github.com/frozeman/WebSocket-Node.git#7004c39c42ac98875ab61126e5b4a925430f592c",_where:"/Users/wangyiyi/github/ribbit",author:{name:"Brian McKelvey",email:"brian@worlize.com",url:"https://www.worlize.com/"},browser:"lib/browser.js",bugs:{url:"https://github.com/theturtle32/WebSocket-Node/issues"},bundleDependencies:!1,config:{verbose:!1},contributors:[{name:"Iñaki Baz Castillo",email:"ibc@aliax.net",url:"http://dev.sipdoc.net"}],dependencies:{debug:"^2.2.0",nan:"^2.3.3","typedarray-to-buffer":"^3.1.2",yaeti:"^0.0.6"},deprecated:!1,description:"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",devDependencies:{"buffer-equal":"^1.0.0",faucet:"^0.0.1",gulp:"git+https://github.com/gulpjs/gulp.git#4.0","gulp-jshint":"^2.0.4",jshint:"^2.0.0","jshint-stylish":"^2.2.1",tape:"^4.0.1"},directories:{lib:"./lib"},engines:{node:">=0.8.0"},homepage:"https://github.com/theturtle32/WebSocket-Node",keywords:["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],license:"Apache-2.0",main:"index",name:"websocket",repository:{type:"git",url:"git+https://github.com/theturtle32/WebSocket-Node.git"},scripts:{gulp:"gulp",install:"(node-gyp rebuild 2> builderror.log) || (exit 0)",test:"faucet test/unit"},version:"1.0.24"}},function(t,e,r){t.exports=r(1667).version},function(t,e,r){var n=function(){return this||{}}(),i=n.WebSocket||n.MozWebSocket,o=r(1668);t.exports={w3cwebsocket:i?function(t,e){return e?new i(t,e):new i(t)}:null,version:o}},function(t,e,r){var n;(function(){var r=this,i=r._,o=Array.prototype,s=Object.prototype,a=Function.prototype,u=o.push,c=o.slice,f=s.toString,l=s.hasOwnProperty,h=Array.isArray,p=Object.keys,d=a.bind,m=Object.create,g=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};void 0!==t&&t.exports&&(e=t.exports=v),e._=v,v.VERSION="1.8.3";var y=function(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)}}return function(){return t.apply(e,arguments)}},b=function(t,e,r){return null==t?v.identity:v.isFunction(t)?y(t,e,r):v.isObject(t)?v.matcher(t):v.property(t)};v.iteratee=function(t,e){return b(t,e,1/0)};var w=function(t,e){return function(r){var n=arguments.length;if(n<2||null==r)return r;for(var i=1;i<n;i++)for(var o=arguments[i],s=t(o),a=s.length,u=0;u<a;u++){var c=s[u];e&&void 0!==r[c]||(r[c]=o[c])}return r}},_=function(t){if(!v.isObject(t))return{};if(m)return m(t);g.prototype=t;var e=new g;return g.prototype=null,e},k=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,x=k("length"),E=function(t){var e=x(t);return"number"==typeof e&&e>=0&&e<=S};function C(t){return function(e,r,n,i){r=y(r,i,4);var o=!E(e)&&v.keys(e),s=(o||e).length,a=t>0?0:s-1;return arguments.length<3&&(n=e[o?o[a]:a],a+=t),function(e,r,n,i,o,s){for(;o>=0&&o<s;o+=t){var a=i?i[o]:o;n=r(n,e[a],a,e)}return n}(e,r,n,o,a,s)}}v.each=v.forEach=function(t,e,r){var n,i;if(e=y(e,r),E(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else{var o=v.keys(t);for(n=0,i=o.length;n<i;n++)e(t[o[n]],o[n],t)}return t},v.map=v.collect=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=Array(i),s=0;s<i;s++){var a=n?n[s]:s;o[s]=e(t[a],a,t)}return o},v.reduce=v.foldl=v.inject=C(1),v.reduceRight=v.foldr=C(-1),v.find=v.detect=function(t,e,r){var n;if(void 0!==(n=E(t)?v.findIndex(t,e,r):v.findKey(t,e,r))&&-1!==n)return t[n]},v.filter=v.select=function(t,e,r){var n=[];return e=b(e,r),v.each(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n},v.reject=function(t,e,r){return v.filter(t,v.negate(b(e)),r)},v.every=v.all=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(!e(t[s],s,t))return!1}return!0},v.some=v.any=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(e(t[s],s,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,r,n){return E(t)||(t=v.values(t)),("number"!=typeof r||n)&&(r=0),v.indexOf(t,e,r)>=0},v.invoke=function(t,e){var r=c.call(arguments,2),n=v.isFunction(e);return v.map(t,function(t){var i=n?e:t[e];return null==i?i:i.apply(t,r)})},v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,r){var n,i,o=-1/0,s=-1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])>o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)});return o},v.min=function(t,e,r){var n,i,o=1/0,s=1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])<o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))<s||i===1/0&&o===1/0)&&(o=t,s=i)});return o},v.shuffle=function(t){for(var e,r=E(t)?t:v.values(t),n=r.length,i=Array(n),o=0;o<n;o++)(e=v.random(0,o))!==o&&(i[o]=i[e]),i[e]=r[o];return i},v.sample=function(t,e,r){return null==e||r?(E(t)||(t=v.values(t)),t[v.random(t.length-1)]):v.shuffle(t).slice(0,Math.max(0,e))},v.sortBy=function(t,e,r){return e=b(e,r),v.pluck(v.map(t,function(t,r,n){return{value:t,index:r,criteria:e(t,r,n)}}).sort(function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index}),"value")};var A=function(t){return function(e,r,n){var i={};return r=b(r,n),v.each(e,function(n,o){var s=r(n,o,e);t(i,n,s)}),i}};v.groupBy=A(function(t,e,r){v.has(t,r)?t[r].push(e):t[r]=[e]}),v.indexBy=A(function(t,e,r){t[r]=e}),v.countBy=A(function(t,e,r){v.has(t,r)?t[r]++:t[r]=1}),v.toArray=function(t){return t?v.isArray(t)?c.call(t):E(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:E(t)?t.length:v.keys(t).length},v.partition=function(t,e,r){e=b(e,r);var n=[],i=[];return v.each(t,function(t,r,o){(e(t,r,o)?n:i).push(t)}),[n,i]},v.first=v.head=v.take=function(t,e,r){if(null!=t)return null==e||r?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,r){return c.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))},v.last=function(t,e,r){if(null!=t)return null==e||r?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,r){return c.call(t,null==e||r?1:e)},v.compact=function(t){return v.filter(t,v.identity)};var M=function(t,e,r,n){for(var i=[],o=0,s=n||0,a=x(t);s<a;s++){var u=t[s];if(E(u)&&(v.isArray(u)||v.isArguments(u))){e||(u=M(u,e,r));var c=0,f=u.length;for(i.length+=f;c<f;)i[o++]=u[c++]}else r||(i[o++]=u)}return i};function I(t){return function(e,r,n){r=b(r,n);for(var i=x(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(r(e[o],o,e))return o;return-1}}function T(t,e,r){return function(n,i,o){var s=0,a=x(n);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(r&&o&&a)return n[o=r(n,i)]===i?o:-1;if(i!=i)return(o=e(c.call(n,s,a),v.isNaN))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(n[o]===i)return o;return-1}}v.flatten=function(t,e){return M(t,e,!1)},v.without=function(t){return v.difference(t,c.call(arguments,1))},v.uniq=v.unique=function(t,e,r,n){v.isBoolean(e)||(n=r,r=e,e=!1),null!=r&&(r=b(r,n));for(var i=[],o=[],s=0,a=x(t);s<a;s++){var u=t[s],c=r?r(u,s,t):u;e?(s&&o===c||i.push(u),o=c):r?v.contains(o,c)||(o.push(c),i.push(u)):v.contains(i,u)||i.push(u)}return i},v.union=function(){return v.uniq(M(arguments,!0,!0))},v.intersection=function(t){for(var e=[],r=arguments.length,n=0,i=x(t);n<i;n++){var o=t[n];if(!v.contains(e,o)){for(var s=1;s<r&&v.contains(arguments[s],o);s++);s===r&&e.push(o)}}return e},v.difference=function(t){var e=M(arguments,!0,!0,1);return v.filter(t,function(t){return!v.contains(e,t)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(t){for(var e=t&&v.max(t,x).length||0,r=Array(e),n=0;n<e;n++)r[n]=v.pluck(t,n);return r},v.object=function(t,e){for(var r={},n=0,i=x(t);n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r},v.findIndex=I(1),v.findLastIndex=I(-1),v.sortedIndex=function(t,e,r,n){for(var i=(r=b(r,n,1))(e),o=0,s=x(t);o<s;){var a=Math.floor((o+s)/2);r(t[a])<i?o=a+1:s=a}return o},v.indexOf=T(1,v.findIndex,v.sortedIndex),v.lastIndexOf=T(-1,v.findLastIndex),v.range=function(t,e,r){null==e&&(e=t||0,t=0),r=r||1;for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),o=0;o<n;o++,t+=r)i[o]=t;return i};var O=function(t,e,r,n,i){if(!(n instanceof e))return t.apply(r,i);var o=_(t.prototype),s=t.apply(o,i);return v.isObject(s)?s:o};v.bind=function(t,e){if(d&&t.bind===d)return d.apply(t,c.call(arguments,1));if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var r=c.call(arguments,2),n=function(){return O(t,n,e,this,r.concat(c.call(arguments)))};return n},v.partial=function(t){var e=c.call(arguments,1),r=function(){for(var n=0,i=e.length,o=Array(i),s=0;s<i;s++)o[s]=e[s]===v?arguments[n++]:e[s];for(;n<arguments.length;)o.push(arguments[n++]);return O(t,r,this,this,o)};return r},v.bindAll=function(t){var e,r,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)t[r=arguments[e]]=v.bind(t[r],t);return t},v.memoize=function(t,e){var r=function(n){var i=r.cache,o=""+(e?e.apply(this,arguments):n);return v.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return r.cache={},r},v.delay=function(t,e){var r=c.call(arguments,2);return setTimeout(function(){return t.apply(null,r)},e)},v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,r){var n,i,o,s=null,a=0;r||(r={});var u=function(){a=!1===r.leading?0:v.now(),s=null,o=t.apply(n,i),s||(n=i=null)};return function(){var c=v.now();a||!1!==r.leading||(a=c);var f=e-(c-a);return n=this,i=arguments,f<=0||f>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(n,i),s||(n=i=null)):s||!1===r.trailing||(s=setTimeout(u,f)),o}},v.debounce=function(t,e,r){var n,i,o,s,a,u=function(){var c=v.now()-s;c<e&&c>=0?n=setTimeout(u,e-c):(n=null,r||(a=t.apply(o,i),n||(o=i=null)))};return function(){o=this,i=arguments,s=v.now();var c=r&&!n;return n||(n=setTimeout(u,e)),c&&(a=t.apply(o,i),o=i=null),a}},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.before=function(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}},v.once=v.partial(v.before,2);var B=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function N(t,e){var r=P.length,n=t.constructor,i=v.isFunction(n)&&n.prototype||s,o="constructor";for(v.has(t,o)&&!v.contains(e,o)&&e.push(o);r--;)(o=P[r])in t&&t[o]!==i[o]&&!v.contains(e,o)&&e.push(o)}v.keys=function(t){if(!v.isObject(t))return[];if(p)return p(t);var e=[];for(var r in t)v.has(t,r)&&e.push(r);return B&&N(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var r in t)e.push(r);return B&&N(t,e),e},v.values=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n},v.mapObject=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=i.length,s={},a=0;a<o;a++)s[n=i[a]]=e(t[n],n,t);return s},v.pairs=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=[e[i],t[e[i]]];return n},v.invert=function(t){for(var e={},r=v.keys(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e},v.functions=v.methods=function(t){var e=[];for(var r in t)v.isFunction(t[r])&&e.push(r);return e.sort()},v.extend=w(v.allKeys),v.extendOwn=v.assign=w(v.keys),v.findKey=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=0,s=i.length;o<s;o++)if(e(t[n=i[o]],n,t))return n},v.pick=function(t,e,r){var n,i,o={},s=t;if(null==s)return o;v.isFunction(e)?(i=v.allKeys(s),n=y(e,r)):(i=M(arguments,!1,!1,1),n=function(t,e,r){return e in r},s=Object(s));for(var a=0,u=i.length;a<u;a++){var c=i[a],f=s[c];n(f,c,s)&&(o[c]=f)}return o},v.omit=function(t,e,r){if(v.isFunction(e))e=v.negate(e);else{var n=v.map(M(arguments,!1,!1,1),String);e=function(t,e){return!v.contains(n,e)}}return v.pick(t,e,r)},v.defaults=w(v.allKeys,!0),v.create=function(t,e){var r=_(t);return e&&v.extendOwn(r,e),r},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var r=v.keys(e),n=r.length;if(null==t)return!n;for(var i=Object(t),o=0;o<n;o++){var s=r[o];if(e[s]!==i[s]||!(s in i))return!1}return!0};var R=function(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var i=f.call(t);if(i!==f.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===t)return n[u]===e;if(r.push(t),n.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!R(t[u],e[u],r,n))return!1}else{var c,l=v.keys(t);if(u=l.length,v.keys(e).length!==u)return!1;for(;u--;)if(c=l[u],!v.has(e,c)||!R(t[c],e[c],r,n))return!1}return r.pop(),n.pop(),!0};v.isEqual=function(t,e){return R(t,e)},v.isEmpty=function(t){return null==t||(E(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=h||function(t){return"[object Array]"===f.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){v["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return v.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&t!==+t},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){return null!=t&&l.call(t,e)},v.noConflict=function(){return r._=i,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=k,v.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,r){var n=Array(Math.max(0,t));e=y(e,r,1);for(var i=0;i<t;i++)n[i]=e(i);return n},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=v.invert(F),L=function(t){var e=function(e){return t[e]},r="(?:"+v.keys(t).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(i,e):t}};v.escape=L(F),v.unescape=L(j),v.result=function(t,e,r){var n=null==t?void 0:t[e];return void 0===n&&(n=r),v.isFunction(n)?n.call(t):n};var D=0;v.uniqueId=function(t){var e=++D+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,K=function(t){return"\\"+z[t]};v.template=function(t,e,r){!e&&r&&(e=r),e=v.defaults({},e,v.templateSettings);var n=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(n,function(e,r,n,s,a){return o+=t.slice(i,a).replace(H,K),i=a+e.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,v)},u=e.variable||"obj";return a.source="function("+u+"){\n"+o+"}",a},v.chain=function(t){var e=v(t);return e._chain=!0,e};var q=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){v.each(v.functions(t),function(e){var r=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),q(this,r.apply(v,t))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];v.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0],q(this,r)}}),v.each(["concat","join","slice"],function(t){var e=o[t];v.prototype[t]=function(){return q(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},void 0===(n=function(){return v}.apply(e,[]))||(t.exports=n)}).call(this)},function(t,e,r){"use strict";(function(e){var n=r(1670),i=r(43).errors,o=null,s=null,a=null;"undefined"!=typeof window?(o=window.WebSocket,s=btoa,a=function(t){return new URL(t)}):(o=r(1669).w3cwebsocket,s=function(t){return e(t).toString("base64")},a=r(164).parse);var u=function(t,e){var r=this;this.responseCallbacks={},this.notificationCallbacks=[],e=e||{},this._customTimeout=e.timeout;var i=a(t),u=e.headers||{};i.username&&i.password&&(u.authorization="Basic "+s(i.username+":"+i.password)),this.connection=new o(t,void 0,void 0,u),this.addDefaultEvents(),this.connection.onmessage=function(t){var e="string"==typeof t.data?t.data:"";r._parseResponse(e).forEach(function(t){var e=null;n.isArray(t)?t.forEach(function(t){r.responseCallbacks[t.id]&&(e=t.id)}):e=t.id,e||-1===t.method.indexOf("_subscription")?r.responseCallbacks[e]&&(r.responseCallbacks[e](null,t),delete r.responseCallbacks[e]):r.notificationCallbacks.forEach(function(e){n.isFunction(e)&&e(t)})})}};u.prototype.addDefaultEvents=function(){var t=this;this.connection.onerror=function(){t._timeout()},this.connection.onclose=function(){t._timeout(),t.reset()}},u.prototype._parseResponse=function(t){var e=this,r=[];return t.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(function(t){e.lastChunk&&(t=e.lastChunk+t);var n=null;try{n=JSON.parse(t)}catch(r){return e.lastChunk=t,clearTimeout(e.lastChunkTimeout),void(e.lastChunkTimeout=setTimeout(function(){throw e._timeout(),i.InvalidResponse(t)},15e3))}clearTimeout(e.lastChunkTimeout),e.lastChunk=null,n&&r.push(n)}),r},u.prototype._addResponseCallback=function(t,e){var r=t.id||t[0].id,n=t.method||t[0].method;this.responseCallbacks[r]=e,this.responseCallbacks[r].method=n;var o=this;this._customTimeout&&setTimeout(function(){o.responseCallbacks[r]&&(o.responseCallbacks[r](i.ConnectionTimeout(o._customTimeout)),delete o.responseCallbacks[r])},this._customTimeout)},u.prototype._timeout=function(){for(var t in this.responseCallbacks)this.responseCallbacks.hasOwnProperty(t)&&(this.responseCallbacks[t](i.InvalidConnection("on WS")),delete this.responseCallbacks[t])},u.prototype.send=function(t,e){var r=this;if(this.connection.readyState!==this.connection.CONNECTING){if(this.connection.readyState!==this.connection.OPEN)return console.error("connection not open on send()"),"function"==typeof this.connection.onerror?this.connection.onerror(new Error("connection not open")):console.error("no error callback"),void e(new Error("connection not open"));this.connection.send(JSON.stringify(t)),this._addResponseCallback(t,e)}else setTimeout(function(){r.send(t,e)},10)},u.prototype.on=function(t,e){if("function"!=typeof e)throw new Error("The second parameter callback must be a function.");switch(t){case"data":this.notificationCallbacks.push(e);break;case"connect":this.connection.onopen=e;break;case"end":this.connection.onclose=e;break;case"error":this.connection.onerror=e}},u.prototype.removeListener=function(t,e){var r=this;switch(t){case"data":this.notificationCallbacks.forEach(function(t,n){t===e&&r.notificationCallbacks.splice(n,1)})}},u.prototype.removeAllListeners=function(t){switch(t){case"data":this.notificationCallbacks=[];break;case"connect":this.connection.onopen=null;break;case"end":this.connection.onclose=null;break;case"error":this.connection.onerror=null}},u.prototype.reset=function(){this._timeout(),this.notificationCallbacks=[],this.addDefaultEvents()},t.exports=u}).call(this,r(0).Buffer)},function(t,e,r){"use strict";var n=null,i=Function("return this")();void 0!==i.ethereumProvider?n=i.ethereumProvider:void 0!==i.web3&&i.web3.currentProvider&&(i.web3.currentProvider.sendAsync&&(i.web3.currentProvider.send=i.web3.currentProvider.sendAsync,delete i.web3.currentProvider.sendAsync),!i.web3.currentProvider.on&&i.web3.currentProvider.connection&&"ipcProviderWrapper"===i.web3.currentProvider.connection.constructor.name&&(i.web3.currentProvider.on=function(t,e){if("function"!=typeof e)throw new Error("The second parameter callback must be a function.");switch(t){case"data":this.connection.on("data",function(t){var r="";t=t.toString();try{r=JSON.parse(t)}catch(r){return e(new Error("Couldn't parse response data"+t))}r.id||-1===r.method.indexOf("_subscription")||e(null,r)});break;default:this.connection.on(t,e)}}),n=i.web3.currentProvider),t.exports=n},function(t,e,r){"use strict";var n=r(664),i=r(43).errors,o=function(t){this.requestManager=t,this.requests=[]};o.prototype.add=function(t){this.requests.push(t)},o.prototype.execute=function(){var t=this.requests;this.requestManager.sendBatch(t,function(e,r){r=r||[],t.map(function(t,e){return r[e]||{}}).forEach(function(e,r){if(t[r].callback){if(e&&e.error)return t[r].callback(i.ErrorResponse(e));if(!n.isValidResponse(e))return t[r].callback(i.InvalidResponse(e));t[r].callback(null,t[r].format?t[r].format(e.result):e.result)}})})},t.exports=o},function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s=r(0).Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var s=t.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function u(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,f=r;f<a;f+=n)c=u(t,f,f+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var l=1;for(c=u(t,f,t.length,e),f=0;f<s;f++)l*=e;this.imuln(l),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,l=67108863&u,h=Math.min(c,e.length-1),p=Math.max(0,c-t.length+1);p<=h;p++){var d=c-p|0;f+=(s=(i=0|t.words[d])*(o=0|e.words[p])+l)/67108864|0,l=67108863&s}r.words[c]=0|l,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(t=t||10,e=0|e||1,16===t||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=f[t],p=l[t];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modn(p).toString(t);r=(d=d.idivn(p)).isZero()?m+r:c[h-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===e,c=new t(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[a]=s;for(;a<o;a++)c[a]=0}else{for(a=0;a<o-i;a++)c[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[o-a-1]=s}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,f=0|s[0],l=8191&f,h=f>>>13,p=0|s[1],d=8191&p,m=p>>>13,g=0|s[2],v=8191&g,y=g>>>13,b=0|s[3],w=8191&b,_=b>>>13,k=0|s[4],S=8191&k,x=k>>>13,E=0|s[5],C=8191&E,A=E>>>13,M=0|s[6],I=8191&M,T=M>>>13,O=0|s[7],B=8191&O,P=O>>>13,N=0|s[8],R=8191&N,F=N>>>13,j=0|s[9],L=8191&j,D=j>>>13,U=0|a[0],z=8191&U,H=U>>>13,K=0|a[1],q=8191&K,V=K>>>13,W=0|a[2],G=8191&W,Y=W>>>13,$=0|a[3],Z=8191&$,X=$>>>13,J=0|a[4],Q=8191&J,tt=J>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ft=0|a[8],lt=8191&ft,ht=ft>>>13,pt=0|a[9],dt=8191&pt,mt=pt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(l,z))|0)+((8191&(i=(i=Math.imul(l,H))+Math.imul(h,z)|0))<<13)|0;c=((o=Math.imul(h,H))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(d,z),i=(i=Math.imul(d,H))+Math.imul(m,z)|0,o=Math.imul(m,H);var vt=(c+(n=n+Math.imul(l,q)|0)|0)+((8191&(i=(i=i+Math.imul(l,V)|0)+Math.imul(h,q)|0))<<13)|0;c=((o=o+Math.imul(h,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,H))+Math.imul(y,z)|0,o=Math.imul(y,H),n=n+Math.imul(d,q)|0,i=(i=i+Math.imul(d,V)|0)+Math.imul(m,q)|0,o=o+Math.imul(m,V)|0;var yt=(c+(n=n+Math.imul(l,G)|0)|0)+((8191&(i=(i=i+Math.imul(l,Y)|0)+Math.imul(h,G)|0))<<13)|0;c=((o=o+Math.imul(h,Y)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,z),i=(i=Math.imul(w,H))+Math.imul(_,z)|0,o=Math.imul(_,H),n=n+Math.imul(v,q)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(d,G)|0,i=(i=i+Math.imul(d,Y)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Y)|0;var bt=(c+(n=n+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,X)|0)+Math.imul(h,Z)|0))<<13)|0;c=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,H))+Math.imul(x,z)|0,o=Math.imul(x,H),n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,V)|0,n=n+Math.imul(v,G)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,Y)|0,n=n+Math.imul(d,Z)|0,i=(i=i+Math.imul(d,X)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,X)|0;var wt=(c+(n=n+Math.imul(l,Q)|0)|0)+((8191&(i=(i=i+Math.imul(l,tt)|0)+Math.imul(h,Q)|0))<<13)|0;c=((o=o+Math.imul(h,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(C,z),i=(i=Math.imul(C,H))+Math.imul(A,z)|0,o=Math.imul(A,H),n=n+Math.imul(S,q)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(x,q)|0,o=o+Math.imul(x,V)|0,n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,X)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,X)|0,n=n+Math.imul(d,Q)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(l,rt)|0)|0)+((8191&(i=(i=i+Math.imul(l,nt)|0)+Math.imul(h,rt)|0))<<13)|0;c=((o=o+Math.imul(h,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,z),i=(i=Math.imul(I,H))+Math.imul(T,z)|0,o=Math.imul(T,H),n=n+Math.imul(C,q)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(A,q)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(S,G)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Y)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(d,rt)|0,i=(i=i+Math.imul(d,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var kt=(c+(n=n+Math.imul(l,ot)|0)|0)+((8191&(i=(i=i+Math.imul(l,st)|0)+Math.imul(h,ot)|0))<<13)|0;c=((o=o+Math.imul(h,st)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,z),i=(i=Math.imul(B,H))+Math.imul(P,z)|0,o=Math.imul(P,H),n=n+Math.imul(I,q)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(T,q)|0,o=o+Math.imul(T,V)|0,n=n+Math.imul(C,G)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,Y)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var St=(c+(n=n+Math.imul(l,ut)|0)|0)+((8191&(i=(i=i+Math.imul(l,ct)|0)+Math.imul(h,ut)|0))<<13)|0;c=((o=o+Math.imul(h,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,H))+Math.imul(F,z)|0,o=Math.imul(F,H),n=n+Math.imul(B,q)|0,i=(i=i+Math.imul(B,V)|0)+Math.imul(P,q)|0,o=o+Math.imul(P,V)|0,n=n+Math.imul(I,G)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,Y)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(d,ut)|0,i=(i=i+Math.imul(d,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var xt=(c+(n=n+Math.imul(l,lt)|0)|0)+((8191&(i=(i=i+Math.imul(l,ht)|0)+Math.imul(h,lt)|0))<<13)|0;c=((o=o+Math.imul(h,ht)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,H))+Math.imul(D,z)|0,o=Math.imul(D,H),n=n+Math.imul(R,q)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(F,q)|0,o=o+Math.imul(F,V)|0,n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,X)|0,n=n+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0,n=n+Math.imul(d,lt)|0,i=(i=i+Math.imul(d,ht)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,ht)|0;var Et=(c+(n=n+Math.imul(l,dt)|0)|0)+((8191&(i=(i=i+Math.imul(l,mt)|0)+Math.imul(h,dt)|0))<<13)|0;c=((o=o+Math.imul(h,mt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,V))+Math.imul(D,q)|0,o=Math.imul(D,V),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,Y)|0,n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ct)|0,n=n+Math.imul(v,lt)|0,i=(i=i+Math.imul(v,ht)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,ht)|0;var Ct=(c+(n=n+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,mt)|0)+Math.imul(m,dt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(L,G),i=(i=Math.imul(L,Y))+Math.imul(D,G)|0,o=Math.imul(D,Y),n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(F,Z)|0,o=o+Math.imul(F,X)|0,n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(T,rt)|0,o=o+Math.imul(T,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,n=n+Math.imul(w,lt)|0,i=(i=i+Math.imul(w,ht)|0)+Math.imul(_,lt)|0,o=o+Math.imul(_,ht)|0;var At=(c+(n=n+Math.imul(v,dt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,dt)|0))<<13)|0;c=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(L,Z),i=(i=Math.imul(L,X))+Math.imul(D,Z)|0,o=Math.imul(D,X),n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(F,Q)|0,o=o+Math.imul(F,tt)|0,n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,ct)|0,n=n+Math.imul(S,lt)|0,i=(i=i+Math.imul(S,ht)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,ht)|0;var Mt=(c+(n=n+Math.imul(w,dt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,dt)|0))<<13)|0;c=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(L,Q),i=(i=Math.imul(L,tt))+Math.imul(D,Q)|0,o=Math.imul(D,tt),n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(F,rt)|0,o=o+Math.imul(F,nt)|0,n=n+Math.imul(B,ot)|0,i=(i=i+Math.imul(B,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,n=n+Math.imul(C,lt)|0,i=(i=i+Math.imul(C,ht)|0)+Math.imul(A,lt)|0,o=o+Math.imul(A,ht)|0;var It=(c+(n=n+Math.imul(S,dt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(x,dt)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(L,rt),i=(i=Math.imul(L,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,n=n+Math.imul(B,ut)|0,i=(i=i+Math.imul(B,ct)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,ct)|0,n=n+Math.imul(I,lt)|0,i=(i=i+Math.imul(I,ht)|0)+Math.imul(T,lt)|0,o=o+Math.imul(T,ht)|0;var Tt=(c+(n=n+Math.imul(C,dt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(A,dt)|0))<<13)|0;c=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(L,ot),i=(i=Math.imul(L,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,ct)|0)+Math.imul(F,ut)|0,o=o+Math.imul(F,ct)|0,n=n+Math.imul(B,lt)|0,i=(i=i+Math.imul(B,ht)|0)+Math.imul(P,lt)|0,o=o+Math.imul(P,ht)|0;var Ot=(c+(n=n+Math.imul(I,dt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(T,dt)|0))<<13)|0;c=((o=o+Math.imul(T,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(L,ut),i=(i=Math.imul(L,ct))+Math.imul(D,ut)|0,o=Math.imul(D,ct),n=n+Math.imul(R,lt)|0,i=(i=i+Math.imul(R,ht)|0)+Math.imul(F,lt)|0,o=o+Math.imul(F,ht)|0;var Bt=(c+(n=n+Math.imul(B,dt)|0)|0)+((8191&(i=(i=i+Math.imul(B,mt)|0)+Math.imul(P,dt)|0))<<13)|0;c=((o=o+Math.imul(P,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(L,lt),i=(i=Math.imul(L,ht))+Math.imul(D,lt)|0,o=Math.imul(D,ht);var Pt=(c+(n=n+Math.imul(R,dt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(F,dt)|0))<<13)|0;c=((o=o+Math.imul(F,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Nt=(c+(n=Math.imul(L,dt))|0)+((8191&(i=(i=Math.imul(L,mt))+Math.imul(D,dt)|0))<<13)|0;return c=((o=Math.imul(D,mt))+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=kt,u[7]=St,u[8]=xt,u[9]=Et,u[10]=Ct,u[11]=At,u[12]=Mt,u[13]=It,u[14]=Tt,u[15]=Ot,u[16]=Bt,u[17]=Pt,u[18]=Nt,0!==c&&(u[19]=c,r.length++),r};function d(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(p=h),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):r<63?h(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,l=(0|t.words[f])*(0|e.words[c]),h=67108863&l;a=67108863&(h=h+a|0),i+=(s=(s=s+(l/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):d(this,t,e)},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},m.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var l=u,h=c,p=0;p<s;p++){var d=r[f+p],m=n[f+p],g=r[f+p+s],v=n[f+p+s],y=l*g-h*v;v=l*v+h*g,g=y,r[f+p]=d+g,n[f+p]=m+v,r[f+p+s]=d-g,n[f+p+s]=m-v,p!==a&&(y=u*l-c*h,h=u*h+c*l,l=y)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),l=new Array(n),h=r.words;h.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,l,n,i);for(var p=0;p<n;p++){var d=a[p]*f[p]-u[p]*l[p];u[p]=a[p]*l[p]+u[p]*f[p],a[p]=d}return this.conjugate(a,u,n),this.transform(a,u,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),d(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-o|l>>>o,f=l&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var h=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,l);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=h)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),l=e.clone();!e.isZero();){for(var h=0,p=1;0==(e.words[0]&p)&&h<26;++h,p<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(l)),i.iushrn(1),s.iushrn(1);for(var d=0,m=1;0==(r.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(l)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;0==(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var l=0,h=1;0==(r.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new k(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(y,v),y.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,v),i(w,v),i(_,v),_.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new _}return g[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,i),h=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),d=s;0!==p.cmp(a);){for(var m=p,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<d);var v=this.pow(l,new o(1).iushln(d-g-1));h=h.redMul(v),l=v.redSqr(),p=p.redMul(l),d=g}return h},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new o(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var l=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new S(t)},i(S,k),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)}).call(this,r(24)(t))},function(t,e){t.exports=window.crypto},function(t,e,r){t.exports=r(1675)},function(t,e,r){t.exports=function(t,e){var n=r(1676),i="function"==typeof e;if(t>65536){if(!i)throw new Error("Requested too many random bytes.");e(new Error("Requested too many random bytes."))}if(void 0!==n&&n.randomBytes){if(!i)return"0x"+n.randomBytes(t).toString("hex");n.randomBytes(t,function(t,r){t?e(u):e(null,"0x"+r.toString("hex"))})}else{var o;if(void 0!==n?o=n:"undefined"!=typeof msCrypto&&(o=msCrypto),o&&o.getRandomValues){var s=o.getRandomValues(new Uint8Array(t)),a="0x"+Array.from(s).map(function(t){return t.toString(16)}).join("");if(!i)return a;e(null,a)}else{var u=new Error('No "crypto" object available. This Browser doesn\'t support generating secure random bytes.');if(!i)throw u;e(u)}}}},function(t,e,r){var n=r(367),i=r(667),o=r(668),s=function(t){var e=typeof t;if("string"===e)return o.isHexStrict(t)?new i(t.replace(/0x/i,""),16):new i(t,10);if("number"===e)return new i(t);if(o.isBigNumber(t))return new i(t.toString(10));if(o.isBN(t))return t;throw new Error(t+" is not a number")},a=function(t,e,r){var n,a,u;if("bytes"===(t=(u=t).startsWith("int[")?"int256"+u.slice(3):"int"===u?"int256":u.startsWith("uint[")?"uint256"+u.slice(4):"uint"===u?"uint256":u.startsWith("fixed[")?"fixed128x128"+u.slice(5):"fixed"===u?"fixed128x128":u.startsWith("ufixed[")?"ufixed128x128"+u.slice(6):"ufixed"===u?"ufixed128x128":u)){if(e.replace(/^0x/i,"").length%2!=0)throw new Error("Invalid bytes characters "+e.length);return e}if("string"===t)return o.utf8ToHex(e);if("bool"===t)return e?"01":"00";if(t.startsWith("address")){if(n=r?64:40,!o.isAddress(e))throw new Error(e+" is not a valid address, or the checksum is invalid.");return o.leftPad(e.toLowerCase(),n)}if(n=function(t){var e=/^\D+(\d+).*$/.exec(t);return e?parseInt(e[1],10):null}(t),t.startsWith("bytes")){if(!n)throw new Error("bytes[] not yet supported in solidity");if(r&&(n=32),n<1||n>32||n<e.replace(/^0x/i,"").length/2)throw new Error("Invalid bytes"+n+" for "+e);return o.rightPad(e,2*n)}if(t.startsWith("uint")){if(n%8||n<8||n>256)throw new Error("Invalid uint"+n+" size");if((a=s(e)).bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+a.bitLength());if(a.lt(new i(0)))throw new Error("Supplied uint "+a.toString()+" is negative");return n?o.leftPad(a.toString("hex"),n/8*2):a}if(t.startsWith("int")){if(n%8||n<8||n>256)throw new Error("Invalid int"+n+" size");if((a=s(e)).bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+a.bitLength());return a.lt(new i(0))?a.toTwos(n).toString("hex"):n?o.leftPad(a.toString("hex"),n/8*2):a}throw new Error("Unsupported or invalid type: "+t)},u=function(t){if(n.isArray(t))throw new Error("Autodetection of array types is not supported.");var e,r,s="";if(n.isObject(t)&&(t.hasOwnProperty("v")||t.hasOwnProperty("t")||t.hasOwnProperty("value")||t.hasOwnProperty("type"))?(e=t.hasOwnProperty("t")?t.t:t.type,s=t.hasOwnProperty("v")?t.v:t.value):(e=o.toHex(t,!0),s=o.toHex(t),e.startsWith("int")||e.startsWith("uint")||(e="bytes")),!e.startsWith("int")&&!e.startsWith("uint")||"string"!=typeof s||/^(-)?0x/i.test(s)||(s=new i(s)),n.isArray(s)){if((r=function(t){var e=/^\D+\d*\[(\d+)\]$/.exec(t);return e?parseInt(e[1],10):null}(e))&&s.length!==r)throw new Error(e+" is not matching the given array "+JSON.stringify(s));r=s.length}return n.isArray(s)?s.map(function(t){return a(e,t,r).toString("hex").replace("0x","")}).join(""):a(e,s,r).toString("hex").replace("0x","")};t.exports=function(){var t=Array.prototype.slice.call(arguments),e=n.map(t,u);return o.sha3("0x"+e.join(""))}},function(t,e,r){(function(t,n){var i;/*! https://mths.be/utf8js v2.0.0 by @mathias */!function(o){var s="object"==typeof e&&e,a=("object"==typeof t&&t&&t.exports,"object"==typeof n&&n);a.global!==a&&a.window;var u,c,f,l=String.fromCharCode;function h(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function p(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function d(t,e){return l(t>>e&63|128)}function m(t){if(0==(4294967168&t))return l(t);var e="";return 0==(4294965248&t)?e=l(t>>6&31|192):0==(4294901760&t)?(p(t),e=l(t>>12&15|224),e+=d(t,6)):0==(4292870144&t)&&(e=l(t>>18&7|240),e+=d(t,12),e+=d(t,6)),e+=l(63&t|128)}function g(){if(f>=c)throw Error("Invalid byte index");var t=255&u[f];if(f++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function v(){var t,e;if(f>c)throw Error("Invalid byte index");if(f==c)return!1;if(t=255&u[f],f++,0==(128&t))return t;if(192==(224&t)){if((e=(31&t)<<6|g())>=128)return e;throw Error("Invalid continuation byte")}if(224==(240&t)){if((e=(15&t)<<12|g()<<6|g())>=2048)return p(e),e;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=(15&t)<<18|g()<<12|g()<<6|g())>=65536&&e<=1114111)return e;throw Error("Invalid UTF-8 detected")}var y={version:"2.0.0",encode:function(t){for(var e=h(t),r=e.length,n=-1,i="";++n<r;)i+=m(e[n]);return i},decode:function(t){u=h(t),c=u.length,f=0;for(var e,r=[];!1!==(e=v());)r.push(e);return function(t){for(var e,r=t.length,n=-1,i="";++n<r;)(e=t[n])>65535&&(i+=l((e-=65536)>>>10&1023|55296),e=56320|1023&e),i+=l(e);return i}(r)}};void 0===(i=function(){return y}.call(e,r,e,t))||(t.exports=i)}()}).call(this,r(24)(t),r(7))},function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s=r(0).Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var s=t.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function u(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,f=r;f<a;f+=n)c=u(t,f,f+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var l=1;for(c=u(t,f,t.length,e),f=0;f<s;f++)l*=e;this.imuln(l),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,l=67108863&u,h=Math.min(c,e.length-1),p=Math.max(0,c-t.length+1);p<=h;p++){var d=c-p|0;f+=(s=(i=0|t.words[d])*(o=0|e.words[p])+l)/67108864|0,l=67108863&s}r.words[c]=0|l,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(t=t||10,e=0|e||1,16===t||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=f[t],p=l[t];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modn(p).toString(t);r=(d=d.idivn(p)).isZero()?m+r:c[h-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===e,c=new t(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[a]=s;for(;a<o;a++)c[a]=0}else{for(a=0;a<o-i;a++)c[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[o-a-1]=s}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,f=0|s[0],l=8191&f,h=f>>>13,p=0|s[1],d=8191&p,m=p>>>13,g=0|s[2],v=8191&g,y=g>>>13,b=0|s[3],w=8191&b,_=b>>>13,k=0|s[4],S=8191&k,x=k>>>13,E=0|s[5],C=8191&E,A=E>>>13,M=0|s[6],I=8191&M,T=M>>>13,O=0|s[7],B=8191&O,P=O>>>13,N=0|s[8],R=8191&N,F=N>>>13,j=0|s[9],L=8191&j,D=j>>>13,U=0|a[0],z=8191&U,H=U>>>13,K=0|a[1],q=8191&K,V=K>>>13,W=0|a[2],G=8191&W,Y=W>>>13,$=0|a[3],Z=8191&$,X=$>>>13,J=0|a[4],Q=8191&J,tt=J>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ft=0|a[8],lt=8191&ft,ht=ft>>>13,pt=0|a[9],dt=8191&pt,mt=pt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(l,z))|0)+((8191&(i=(i=Math.imul(l,H))+Math.imul(h,z)|0))<<13)|0;c=((o=Math.imul(h,H))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(d,z),i=(i=Math.imul(d,H))+Math.imul(m,z)|0,o=Math.imul(m,H);var vt=(c+(n=n+Math.imul(l,q)|0)|0)+((8191&(i=(i=i+Math.imul(l,V)|0)+Math.imul(h,q)|0))<<13)|0;c=((o=o+Math.imul(h,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,H))+Math.imul(y,z)|0,o=Math.imul(y,H),n=n+Math.imul(d,q)|0,i=(i=i+Math.imul(d,V)|0)+Math.imul(m,q)|0,o=o+Math.imul(m,V)|0;var yt=(c+(n=n+Math.imul(l,G)|0)|0)+((8191&(i=(i=i+Math.imul(l,Y)|0)+Math.imul(h,G)|0))<<13)|0;c=((o=o+Math.imul(h,Y)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,z),i=(i=Math.imul(w,H))+Math.imul(_,z)|0,o=Math.imul(_,H),n=n+Math.imul(v,q)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(d,G)|0,i=(i=i+Math.imul(d,Y)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Y)|0;var bt=(c+(n=n+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,X)|0)+Math.imul(h,Z)|0))<<13)|0;c=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,H))+Math.imul(x,z)|0,o=Math.imul(x,H),n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,V)|0,n=n+Math.imul(v,G)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,Y)|0,n=n+Math.imul(d,Z)|0,i=(i=i+Math.imul(d,X)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,X)|0;var wt=(c+(n=n+Math.imul(l,Q)|0)|0)+((8191&(i=(i=i+Math.imul(l,tt)|0)+Math.imul(h,Q)|0))<<13)|0;c=((o=o+Math.imul(h,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(C,z),i=(i=Math.imul(C,H))+Math.imul(A,z)|0,o=Math.imul(A,H),n=n+Math.imul(S,q)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(x,q)|0,o=o+Math.imul(x,V)|0,n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,X)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,X)|0,n=n+Math.imul(d,Q)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(l,rt)|0)|0)+((8191&(i=(i=i+Math.imul(l,nt)|0)+Math.imul(h,rt)|0))<<13)|0;c=((o=o+Math.imul(h,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,z),i=(i=Math.imul(I,H))+Math.imul(T,z)|0,o=Math.imul(T,H),n=n+Math.imul(C,q)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(A,q)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(S,G)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Y)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(d,rt)|0,i=(i=i+Math.imul(d,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var kt=(c+(n=n+Math.imul(l,ot)|0)|0)+((8191&(i=(i=i+Math.imul(l,st)|0)+Math.imul(h,ot)|0))<<13)|0;c=((o=o+Math.imul(h,st)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,z),i=(i=Math.imul(B,H))+Math.imul(P,z)|0,o=Math.imul(P,H),n=n+Math.imul(I,q)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(T,q)|0,o=o+Math.imul(T,V)|0,n=n+Math.imul(C,G)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,Y)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var St=(c+(n=n+Math.imul(l,ut)|0)|0)+((8191&(i=(i=i+Math.imul(l,ct)|0)+Math.imul(h,ut)|0))<<13)|0;c=((o=o+Math.imul(h,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,H))+Math.imul(F,z)|0,o=Math.imul(F,H),n=n+Math.imul(B,q)|0,i=(i=i+Math.imul(B,V)|0)+Math.imul(P,q)|0,o=o+Math.imul(P,V)|0,n=n+Math.imul(I,G)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,Y)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(d,ut)|0,i=(i=i+Math.imul(d,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var xt=(c+(n=n+Math.imul(l,lt)|0)|0)+((8191&(i=(i=i+Math.imul(l,ht)|0)+Math.imul(h,lt)|0))<<13)|0;c=((o=o+Math.imul(h,ht)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,H))+Math.imul(D,z)|0,o=Math.imul(D,H),n=n+Math.imul(R,q)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(F,q)|0,o=o+Math.imul(F,V)|0,n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,X)|0,n=n+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0,n=n+Math.imul(d,lt)|0,i=(i=i+Math.imul(d,ht)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,ht)|0;var Et=(c+(n=n+Math.imul(l,dt)|0)|0)+((8191&(i=(i=i+Math.imul(l,mt)|0)+Math.imul(h,dt)|0))<<13)|0;c=((o=o+Math.imul(h,mt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,V))+Math.imul(D,q)|0,o=Math.imul(D,V),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,Y)|0,n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ct)|0,n=n+Math.imul(v,lt)|0,i=(i=i+Math.imul(v,ht)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,ht)|0;var Ct=(c+(n=n+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,mt)|0)+Math.imul(m,dt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(L,G),i=(i=Math.imul(L,Y))+Math.imul(D,G)|0,o=Math.imul(D,Y),n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(F,Z)|0,o=o+Math.imul(F,X)|0,n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(T,rt)|0,o=o+Math.imul(T,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,n=n+Math.imul(w,lt)|0,i=(i=i+Math.imul(w,ht)|0)+Math.imul(_,lt)|0,o=o+Math.imul(_,ht)|0;var At=(c+(n=n+Math.imul(v,dt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,dt)|0))<<13)|0;c=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(L,Z),i=(i=Math.imul(L,X))+Math.imul(D,Z)|0,o=Math.imul(D,X),n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(F,Q)|0,o=o+Math.imul(F,tt)|0,n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,ct)|0,n=n+Math.imul(S,lt)|0,i=(i=i+Math.imul(S,ht)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,ht)|0;var Mt=(c+(n=n+Math.imul(w,dt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,dt)|0))<<13)|0;c=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(L,Q),i=(i=Math.imul(L,tt))+Math.imul(D,Q)|0,o=Math.imul(D,tt),n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(F,rt)|0,o=o+Math.imul(F,nt)|0,n=n+Math.imul(B,ot)|0,i=(i=i+Math.imul(B,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,n=n+Math.imul(C,lt)|0,i=(i=i+Math.imul(C,ht)|0)+Math.imul(A,lt)|0,o=o+Math.imul(A,ht)|0;var It=(c+(n=n+Math.imul(S,dt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(x,dt)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(L,rt),i=(i=Math.imul(L,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,n=n+Math.imul(B,ut)|0,i=(i=i+Math.imul(B,ct)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,ct)|0,n=n+Math.imul(I,lt)|0,i=(i=i+Math.imul(I,ht)|0)+Math.imul(T,lt)|0,o=o+Math.imul(T,ht)|0;var Tt=(c+(n=n+Math.imul(C,dt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(A,dt)|0))<<13)|0;c=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(L,ot),i=(i=Math.imul(L,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,ct)|0)+Math.imul(F,ut)|0,o=o+Math.imul(F,ct)|0,n=n+Math.imul(B,lt)|0,i=(i=i+Math.imul(B,ht)|0)+Math.imul(P,lt)|0,o=o+Math.imul(P,ht)|0;var Ot=(c+(n=n+Math.imul(I,dt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(T,dt)|0))<<13)|0;c=((o=o+Math.imul(T,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(L,ut),i=(i=Math.imul(L,ct))+Math.imul(D,ut)|0,o=Math.imul(D,ct),n=n+Math.imul(R,lt)|0,i=(i=i+Math.imul(R,ht)|0)+Math.imul(F,lt)|0,o=o+Math.imul(F,ht)|0;var Bt=(c+(n=n+Math.imul(B,dt)|0)|0)+((8191&(i=(i=i+Math.imul(B,mt)|0)+Math.imul(P,dt)|0))<<13)|0;c=((o=o+Math.imul(P,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(L,lt),i=(i=Math.imul(L,ht))+Math.imul(D,lt)|0,o=Math.imul(D,ht);var Pt=(c+(n=n+Math.imul(R,dt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(F,dt)|0))<<13)|0;c=((o=o+Math.imul(F,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Nt=(c+(n=Math.imul(L,dt))|0)+((8191&(i=(i=Math.imul(L,mt))+Math.imul(D,dt)|0))<<13)|0;return c=((o=Math.imul(D,mt))+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=kt,u[7]=St,u[8]=xt,u[9]=Et,u[10]=Ct,u[11]=At,u[12]=Mt,u[13]=It,u[14]=Tt,u[15]=Ot,u[16]=Bt,u[17]=Pt,u[18]=Nt,0!==c&&(u[19]=c,r.length++),r};function d(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(p=h),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):r<63?h(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,l=(0|t.words[f])*(0|e.words[c]),h=67108863&l;a=67108863&(h=h+a|0),i+=(s=(s=s+(l/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):d(this,t,e)},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},m.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var l=u,h=c,p=0;p<s;p++){var d=r[f+p],m=n[f+p],g=r[f+p+s],v=n[f+p+s],y=l*g-h*v;v=l*v+h*g,g=y,r[f+p]=d+g,n[f+p]=m+v,r[f+p+s]=d-g,n[f+p+s]=m-v,p!==a&&(y=u*l-c*h,h=u*h+c*l,l=y)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),l=new Array(n),h=r.words;h.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,l,n,i);for(var p=0;p<n;p++){var d=a[p]*f[p]-u[p]*l[p];u[p]=a[p]*l[p]+u[p]*f[p],a[p]=d}return this.conjugate(a,u,n),this.transform(a,u,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),d(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-o|l>>>o,f=l&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var h=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,l);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=h)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),l=e.clone();!e.isZero();){for(var h=0,p=1;0==(e.words[0]&p)&&h<26;++h,p<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(l)),i.iushrn(1),s.iushrn(1);for(var d=0,m=1;0==(r.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(l)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;0==(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var l=0,h=1;0==(r.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new k(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(y,v),y.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,v),i(w,v),i(_,v),_.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new _}return g[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,i),h=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),d=s;0!==p.cmp(a);){for(var m=p,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<d);var v=this.pow(l,new o(1).iushln(d-g-1));h=h.redMul(v),l=v.redSqr(),p=p.redMul(l),d=g}return h},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new o(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var l=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new S(t)},i(S,k),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)}).call(this,r(24)(t))},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";e.byteLength=function(t){var e=c(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){for(var e,r=c(t),n=r[0],s=r[1],a=new o(function(t,e,r){return 3*(e+r)/4-r}(0,n,s)),u=0,f=s>0?n-4:n,l=0;l<f;l+=4)e=i[t.charCodeAt(l)]<<18|i[t.charCodeAt(l+1)]<<12|i[t.charCodeAt(l+2)]<<6|i[t.charCodeAt(l+3)],a[u++]=e>>16&255,a[u++]=e>>8&255,a[u++]=255&e;2===s&&(e=i[t.charCodeAt(l)]<<2|i[t.charCodeAt(l+1)]>>4,a[u++]=255&e);1===s&&(e=i[t.charCodeAt(l)]<<10|i[t.charCodeAt(l+1)]<<4|i[t.charCodeAt(l+2)]>>2,a[u++]=e>>8&255,a[u++]=255&e);return a},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(f(t,s,s+16383>a?a:s+16383));1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function f(t,e,r){for(var i,o,s=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s=r(0).Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var s=t.charCodeAt(o)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function u(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,f=r;f<a;f+=n)c=u(t,f,f+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var l=1;for(c=u(t,f,t.length,e),f=0;f<s;f++)l*=e;this.imuln(l),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,l=67108863&u,h=Math.min(c,e.length-1),p=Math.max(0,c-t.length+1);p<=h;p++){var d=c-p|0;f+=(s=(i=0|t.words[d])*(o=0|e.words[p])+l)/67108864|0,l=67108863&s}r.words[c]=0|l,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(t=t||10,e=0|e||1,16===t||"hex"===t){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var h=f[t],p=l[t];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modn(p).toString(t);r=(d=d.idivn(p)).isZero()?m+r:c[h-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==s),this.toArrayLike(s,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===e,c=new t(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[a]=s;for(;a<o;a++)c[a]=0}else{for(a=0;a<o-i;a++)c[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[o-a-1]=s}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,o,s=t.words,a=e.words,u=r.words,c=0,f=0|s[0],l=8191&f,h=f>>>13,p=0|s[1],d=8191&p,m=p>>>13,g=0|s[2],v=8191&g,y=g>>>13,b=0|s[3],w=8191&b,_=b>>>13,k=0|s[4],S=8191&k,x=k>>>13,E=0|s[5],C=8191&E,A=E>>>13,M=0|s[6],I=8191&M,T=M>>>13,O=0|s[7],B=8191&O,P=O>>>13,N=0|s[8],R=8191&N,F=N>>>13,j=0|s[9],L=8191&j,D=j>>>13,U=0|a[0],z=8191&U,H=U>>>13,K=0|a[1],q=8191&K,V=K>>>13,W=0|a[2],G=8191&W,Y=W>>>13,$=0|a[3],Z=8191&$,X=$>>>13,J=0|a[4],Q=8191&J,tt=J>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ft=0|a[8],lt=8191&ft,ht=ft>>>13,pt=0|a[9],dt=8191&pt,mt=pt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(l,z))|0)+((8191&(i=(i=Math.imul(l,H))+Math.imul(h,z)|0))<<13)|0;c=((o=Math.imul(h,H))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(d,z),i=(i=Math.imul(d,H))+Math.imul(m,z)|0,o=Math.imul(m,H);var vt=(c+(n=n+Math.imul(l,q)|0)|0)+((8191&(i=(i=i+Math.imul(l,V)|0)+Math.imul(h,q)|0))<<13)|0;c=((o=o+Math.imul(h,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,H))+Math.imul(y,z)|0,o=Math.imul(y,H),n=n+Math.imul(d,q)|0,i=(i=i+Math.imul(d,V)|0)+Math.imul(m,q)|0,o=o+Math.imul(m,V)|0;var yt=(c+(n=n+Math.imul(l,G)|0)|0)+((8191&(i=(i=i+Math.imul(l,Y)|0)+Math.imul(h,G)|0))<<13)|0;c=((o=o+Math.imul(h,Y)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,z),i=(i=Math.imul(w,H))+Math.imul(_,z)|0,o=Math.imul(_,H),n=n+Math.imul(v,q)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(d,G)|0,i=(i=i+Math.imul(d,Y)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Y)|0;var bt=(c+(n=n+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,X)|0)+Math.imul(h,Z)|0))<<13)|0;c=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,z),i=(i=Math.imul(S,H))+Math.imul(x,z)|0,o=Math.imul(x,H),n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,V)|0,n=n+Math.imul(v,G)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,Y)|0,n=n+Math.imul(d,Z)|0,i=(i=i+Math.imul(d,X)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,X)|0;var wt=(c+(n=n+Math.imul(l,Q)|0)|0)+((8191&(i=(i=i+Math.imul(l,tt)|0)+Math.imul(h,Q)|0))<<13)|0;c=((o=o+Math.imul(h,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(C,z),i=(i=Math.imul(C,H))+Math.imul(A,z)|0,o=Math.imul(A,H),n=n+Math.imul(S,q)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(x,q)|0,o=o+Math.imul(x,V)|0,n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,X)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,X)|0,n=n+Math.imul(d,Q)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(l,rt)|0)|0)+((8191&(i=(i=i+Math.imul(l,nt)|0)+Math.imul(h,rt)|0))<<13)|0;c=((o=o+Math.imul(h,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,z),i=(i=Math.imul(I,H))+Math.imul(T,z)|0,o=Math.imul(T,H),n=n+Math.imul(C,q)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(A,q)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(S,G)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,Y)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(d,rt)|0,i=(i=i+Math.imul(d,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var kt=(c+(n=n+Math.imul(l,ot)|0)|0)+((8191&(i=(i=i+Math.imul(l,st)|0)+Math.imul(h,ot)|0))<<13)|0;c=((o=o+Math.imul(h,st)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,z),i=(i=Math.imul(B,H))+Math.imul(P,z)|0,o=Math.imul(P,H),n=n+Math.imul(I,q)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(T,q)|0,o=o+Math.imul(T,V)|0,n=n+Math.imul(C,G)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,Y)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(d,ot)|0,i=(i=i+Math.imul(d,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var St=(c+(n=n+Math.imul(l,ut)|0)|0)+((8191&(i=(i=i+Math.imul(l,ct)|0)+Math.imul(h,ut)|0))<<13)|0;c=((o=o+Math.imul(h,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,H))+Math.imul(F,z)|0,o=Math.imul(F,H),n=n+Math.imul(B,q)|0,i=(i=i+Math.imul(B,V)|0)+Math.imul(P,q)|0,o=o+Math.imul(P,V)|0,n=n+Math.imul(I,G)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,Y)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(d,ut)|0,i=(i=i+Math.imul(d,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var xt=(c+(n=n+Math.imul(l,lt)|0)|0)+((8191&(i=(i=i+Math.imul(l,ht)|0)+Math.imul(h,lt)|0))<<13)|0;c=((o=o+Math.imul(h,ht)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,H))+Math.imul(D,z)|0,o=Math.imul(D,H),n=n+Math.imul(R,q)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(F,q)|0,o=o+Math.imul(F,V)|0,n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,X)|0,n=n+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,ct)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0,n=n+Math.imul(d,lt)|0,i=(i=i+Math.imul(d,ht)|0)+Math.imul(m,lt)|0,o=o+Math.imul(m,ht)|0;var Et=(c+(n=n+Math.imul(l,dt)|0)|0)+((8191&(i=(i=i+Math.imul(l,mt)|0)+Math.imul(h,dt)|0))<<13)|0;c=((o=o+Math.imul(h,mt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,V))+Math.imul(D,q)|0,o=Math.imul(D,V),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,Y)|0,n=n+Math.imul(B,Z)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ct)|0,n=n+Math.imul(v,lt)|0,i=(i=i+Math.imul(v,ht)|0)+Math.imul(y,lt)|0,o=o+Math.imul(y,ht)|0;var Ct=(c+(n=n+Math.imul(d,dt)|0)|0)+((8191&(i=(i=i+Math.imul(d,mt)|0)+Math.imul(m,dt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(L,G),i=(i=Math.imul(L,Y))+Math.imul(D,G)|0,o=Math.imul(D,Y),n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(F,Z)|0,o=o+Math.imul(F,X)|0,n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(T,rt)|0,o=o+Math.imul(T,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,n=n+Math.imul(w,lt)|0,i=(i=i+Math.imul(w,ht)|0)+Math.imul(_,lt)|0,o=o+Math.imul(_,ht)|0;var At=(c+(n=n+Math.imul(v,dt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,dt)|0))<<13)|0;c=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(L,Z),i=(i=Math.imul(L,X))+Math.imul(D,Z)|0,o=Math.imul(D,X),n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(F,Q)|0,o=o+Math.imul(F,tt)|0,n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,st)|0)+Math.imul(T,ot)|0,o=o+Math.imul(T,st)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,ct)|0,n=n+Math.imul(S,lt)|0,i=(i=i+Math.imul(S,ht)|0)+Math.imul(x,lt)|0,o=o+Math.imul(x,ht)|0;var Mt=(c+(n=n+Math.imul(w,dt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,dt)|0))<<13)|0;c=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(L,Q),i=(i=Math.imul(L,tt))+Math.imul(D,Q)|0,o=Math.imul(D,tt),n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(F,rt)|0,o=o+Math.imul(F,nt)|0,n=n+Math.imul(B,ot)|0,i=(i=i+Math.imul(B,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,n=n+Math.imul(C,lt)|0,i=(i=i+Math.imul(C,ht)|0)+Math.imul(A,lt)|0,o=o+Math.imul(A,ht)|0;var It=(c+(n=n+Math.imul(S,dt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(x,dt)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(L,rt),i=(i=Math.imul(L,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,n=n+Math.imul(B,ut)|0,i=(i=i+Math.imul(B,ct)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,ct)|0,n=n+Math.imul(I,lt)|0,i=(i=i+Math.imul(I,ht)|0)+Math.imul(T,lt)|0,o=o+Math.imul(T,ht)|0;var Tt=(c+(n=n+Math.imul(C,dt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(A,dt)|0))<<13)|0;c=((o=o+Math.imul(A,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(L,ot),i=(i=Math.imul(L,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,ct)|0)+Math.imul(F,ut)|0,o=o+Math.imul(F,ct)|0,n=n+Math.imul(B,lt)|0,i=(i=i+Math.imul(B,ht)|0)+Math.imul(P,lt)|0,o=o+Math.imul(P,ht)|0;var Ot=(c+(n=n+Math.imul(I,dt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(T,dt)|0))<<13)|0;c=((o=o+Math.imul(T,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(L,ut),i=(i=Math.imul(L,ct))+Math.imul(D,ut)|0,o=Math.imul(D,ct),n=n+Math.imul(R,lt)|0,i=(i=i+Math.imul(R,ht)|0)+Math.imul(F,lt)|0,o=o+Math.imul(F,ht)|0;var Bt=(c+(n=n+Math.imul(B,dt)|0)|0)+((8191&(i=(i=i+Math.imul(B,mt)|0)+Math.imul(P,dt)|0))<<13)|0;c=((o=o+Math.imul(P,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(L,lt),i=(i=Math.imul(L,ht))+Math.imul(D,lt)|0,o=Math.imul(D,ht);var Pt=(c+(n=n+Math.imul(R,dt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(F,dt)|0))<<13)|0;c=((o=o+Math.imul(F,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Nt=(c+(n=Math.imul(L,dt))|0)+((8191&(i=(i=Math.imul(L,mt))+Math.imul(D,dt)|0))<<13)|0;return c=((o=Math.imul(D,mt))+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,u[0]=gt,u[1]=vt,u[2]=yt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=kt,u[7]=St,u[8]=xt,u[9]=Et,u[10]=Ct,u[11]=At,u[12]=Mt,u[13]=It,u[14]=Tt,u[15]=Ot,u[16]=Bt,u[17]=Pt,u[18]=Nt,0!==c&&(u[19]=c,r.length++),r};function d(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(p=h),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):r<63?h(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,l=(0|t.words[f])*(0|e.words[c]),h=67108863&l;a=67108863&(h=h+a|0),i+=(s=(s=s+(l/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):d(this,t,e)},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]]},m.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var l=u,h=c,p=0;p<s;p++){var d=r[f+p],m=n[f+p],g=r[f+p+s],v=n[f+p+s],y=l*g-h*v;v=l*v+h*g,g=y,r[f+p]=d+g,n[f+p]=m+v,r[f+p+s]=d-g,n[f+p+s]=m-v,p!==a&&(y=u*l-c*h,h=u*h+c*l,l=y)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,r,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),l=new Array(n),h=r.words;h.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,l,n,i);for(var p=0;p<n;p++){var d=a[p]*f[p]-u[p]*l[p];u[p]=a[p]*l[p]+u[p]*f[p],a[p]=d}return this.conjugate(a,u,n),this.transform(a,u,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),d(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<r;this.words[e]=u|s,s=a>>>26-r}s&&(this.words[e]=s,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-o|l>>>o,f=l&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,s=t.length+r;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var h=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,l);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=h)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(t)),{div:i,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,s,a},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),l=e.clone();!e.isZero();){for(var h=0,p=1;0==(e.words[0]&p)&&h<26;++h,p<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(l)),i.iushrn(1),s.iushrn(1);for(var d=0,m=1;0==(r.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(r.iushrn(d);d-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(l)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),s.isub(u)):(r.isub(e),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;0==(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var l=0,h=1;0==(r.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),s.isub(a)):(r.isub(e),a.isub(s))}return(i=0===e.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new k(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(y,v),y.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,v),i(w,v),i(_,v),_.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new _}return g[t]=e,e},k.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,i),h=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),d=s;0!==p.cmp(a);){for(var m=p,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<d);var v=this.pow(l,new o(1).iushln(d-g-1));h=h.redMul(v),l=v.redSqr(),p=p.redMul(l),d=g}return h},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new o(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var l=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new S(t)},i(S,k),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)}).call(this,r(24)(t))},function(t,e,r){"use strict";var n=r(1683),i=r(671),o=new n(0),s=new n(-1),a={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function u(t){var e=t?t.toLowerCase():"ether",r=a[e];if("string"!=typeof r)throw new Error("[ethjs-unit] the unit provided "+t+" doesn't exists, please use the one of the following units "+JSON.stringify(a,null,2));return new n(r,10)}function c(t){if("string"==typeof t){if(!t.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+t+"', should be a number matching (^-?[0-9.]+).");return t}if("number"==typeof t)return String(t);if("object"==typeof t&&t.toString&&(t.toTwos||t.dividedToIntegerBy))return t.toPrecision?String(t.toPrecision()):t.toString(10);throw new Error("while converting number to string, invalid number value '"+t+"' type "+typeof t+".")}t.exports={unitMap:a,numberToString:c,getValueOfUnit:u,fromWei:function(t,e,r){var n=i(t),c=n.lt(o),f=u(e),l=a[e].length-1||1,h=r||{};c&&(n=n.mul(s));for(var p=n.mod(f).toString(10);p.length<l;)p="0"+p;h.pad||(p=p.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var d=n.div(f).toString(10);h.commify&&(d=d.replace(/\B(?=(\d{3})+(?!\d))/g,","));var m=d+("0"==p?"":"."+p);return c&&(m="-"+m),m},toWei:function(t,e){var r=c(t),i=u(e),o=a[e].length-1||1,f="-"===r.substring(0,1);if(f&&(r=r.substring(1)),"."===r)throw new Error("[ethjs-unit] while converting number "+t+" to wei, invalid value");var l=r.split(".");if(l.length>2)throw new Error("[ethjs-unit] while converting number "+t+" to wei,  too many decimal points");var h=l[0],p=l[1];if(h||(h="0"),p||(p="0"),p.length>o)throw new Error("[ethjs-unit] while converting number "+t+" to wei, too many decimal places");for(;p.length<o;)p+="0";h=new n(h),p=new n(p);var d=h.mul(i).add(p);return f&&(d=d.mul(s)),new n(d.toString(10),10)}}},function(t,e,r){var n;(function(){var r=this,i=r._,o=Array.prototype,s=Object.prototype,a=Function.prototype,u=o.push,c=o.slice,f=s.toString,l=s.hasOwnProperty,h=Array.isArray,p=Object.keys,d=a.bind,m=Object.create,g=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};void 0!==t&&t.exports&&(e=t.exports=v),e._=v,v.VERSION="1.8.3";var y=function(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)}}return function(){return t.apply(e,arguments)}},b=function(t,e,r){return null==t?v.identity:v.isFunction(t)?y(t,e,r):v.isObject(t)?v.matcher(t):v.property(t)};v.iteratee=function(t,e){return b(t,e,1/0)};var w=function(t,e){return function(r){var n=arguments.length;if(n<2||null==r)return r;for(var i=1;i<n;i++)for(var o=arguments[i],s=t(o),a=s.length,u=0;u<a;u++){var c=s[u];e&&void 0!==r[c]||(r[c]=o[c])}return r}},_=function(t){if(!v.isObject(t))return{};if(m)return m(t);g.prototype=t;var e=new g;return g.prototype=null,e},k=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,x=k("length"),E=function(t){var e=x(t);return"number"==typeof e&&e>=0&&e<=S};function C(t){return function(e,r,n,i){r=y(r,i,4);var o=!E(e)&&v.keys(e),s=(o||e).length,a=t>0?0:s-1;return arguments.length<3&&(n=e[o?o[a]:a],a+=t),function(e,r,n,i,o,s){for(;o>=0&&o<s;o+=t){var a=i?i[o]:o;n=r(n,e[a],a,e)}return n}(e,r,n,o,a,s)}}v.each=v.forEach=function(t,e,r){var n,i;if(e=y(e,r),E(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else{var o=v.keys(t);for(n=0,i=o.length;n<i;n++)e(t[o[n]],o[n],t)}return t},v.map=v.collect=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=Array(i),s=0;s<i;s++){var a=n?n[s]:s;o[s]=e(t[a],a,t)}return o},v.reduce=v.foldl=v.inject=C(1),v.reduceRight=v.foldr=C(-1),v.find=v.detect=function(t,e,r){var n;if(void 0!==(n=E(t)?v.findIndex(t,e,r):v.findKey(t,e,r))&&-1!==n)return t[n]},v.filter=v.select=function(t,e,r){var n=[];return e=b(e,r),v.each(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n},v.reject=function(t,e,r){return v.filter(t,v.negate(b(e)),r)},v.every=v.all=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(!e(t[s],s,t))return!1}return!0},v.some=v.any=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(e(t[s],s,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,r,n){return E(t)||(t=v.values(t)),("number"!=typeof r||n)&&(r=0),v.indexOf(t,e,r)>=0},v.invoke=function(t,e){var r=c.call(arguments,2),n=v.isFunction(e);return v.map(t,function(t){var i=n?e:t[e];return null==i?i:i.apply(t,r)})},v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,r){var n,i,o=-1/0,s=-1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])>o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)});return o},v.min=function(t,e,r){var n,i,o=1/0,s=1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])<o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))<s||i===1/0&&o===1/0)&&(o=t,s=i)});return o},v.shuffle=function(t){for(var e,r=E(t)?t:v.values(t),n=r.length,i=Array(n),o=0;o<n;o++)(e=v.random(0,o))!==o&&(i[o]=i[e]),i[e]=r[o];return i},v.sample=function(t,e,r){return null==e||r?(E(t)||(t=v.values(t)),t[v.random(t.length-1)]):v.shuffle(t).slice(0,Math.max(0,e))},v.sortBy=function(t,e,r){return e=b(e,r),v.pluck(v.map(t,function(t,r,n){return{value:t,index:r,criteria:e(t,r,n)}}).sort(function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index}),"value")};var A=function(t){return function(e,r,n){var i={};return r=b(r,n),v.each(e,function(n,o){var s=r(n,o,e);t(i,n,s)}),i}};v.groupBy=A(function(t,e,r){v.has(t,r)?t[r].push(e):t[r]=[e]}),v.indexBy=A(function(t,e,r){t[r]=e}),v.countBy=A(function(t,e,r){v.has(t,r)?t[r]++:t[r]=1}),v.toArray=function(t){return t?v.isArray(t)?c.call(t):E(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:E(t)?t.length:v.keys(t).length},v.partition=function(t,e,r){e=b(e,r);var n=[],i=[];return v.each(t,function(t,r,o){(e(t,r,o)?n:i).push(t)}),[n,i]},v.first=v.head=v.take=function(t,e,r){if(null!=t)return null==e||r?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,r){return c.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))},v.last=function(t,e,r){if(null!=t)return null==e||r?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,r){return c.call(t,null==e||r?1:e)},v.compact=function(t){return v.filter(t,v.identity)};var M=function(t,e,r,n){for(var i=[],o=0,s=n||0,a=x(t);s<a;s++){var u=t[s];if(E(u)&&(v.isArray(u)||v.isArguments(u))){e||(u=M(u,e,r));var c=0,f=u.length;for(i.length+=f;c<f;)i[o++]=u[c++]}else r||(i[o++]=u)}return i};function I(t){return function(e,r,n){r=b(r,n);for(var i=x(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(r(e[o],o,e))return o;return-1}}function T(t,e,r){return function(n,i,o){var s=0,a=x(n);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(r&&o&&a)return n[o=r(n,i)]===i?o:-1;if(i!=i)return(o=e(c.call(n,s,a),v.isNaN))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(n[o]===i)return o;return-1}}v.flatten=function(t,e){return M(t,e,!1)},v.without=function(t){return v.difference(t,c.call(arguments,1))},v.uniq=v.unique=function(t,e,r,n){v.isBoolean(e)||(n=r,r=e,e=!1),null!=r&&(r=b(r,n));for(var i=[],o=[],s=0,a=x(t);s<a;s++){var u=t[s],c=r?r(u,s,t):u;e?(s&&o===c||i.push(u),o=c):r?v.contains(o,c)||(o.push(c),i.push(u)):v.contains(i,u)||i.push(u)}return i},v.union=function(){return v.uniq(M(arguments,!0,!0))},v.intersection=function(t){for(var e=[],r=arguments.length,n=0,i=x(t);n<i;n++){var o=t[n];if(!v.contains(e,o)){for(var s=1;s<r&&v.contains(arguments[s],o);s++);s===r&&e.push(o)}}return e},v.difference=function(t){var e=M(arguments,!0,!0,1);return v.filter(t,function(t){return!v.contains(e,t)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(t){for(var e=t&&v.max(t,x).length||0,r=Array(e),n=0;n<e;n++)r[n]=v.pluck(t,n);return r},v.object=function(t,e){for(var r={},n=0,i=x(t);n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r},v.findIndex=I(1),v.findLastIndex=I(-1),v.sortedIndex=function(t,e,r,n){for(var i=(r=b(r,n,1))(e),o=0,s=x(t);o<s;){var a=Math.floor((o+s)/2);r(t[a])<i?o=a+1:s=a}return o},v.indexOf=T(1,v.findIndex,v.sortedIndex),v.lastIndexOf=T(-1,v.findLastIndex),v.range=function(t,e,r){null==e&&(e=t||0,t=0),r=r||1;for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),o=0;o<n;o++,t+=r)i[o]=t;return i};var O=function(t,e,r,n,i){if(!(n instanceof e))return t.apply(r,i);var o=_(t.prototype),s=t.apply(o,i);return v.isObject(s)?s:o};v.bind=function(t,e){if(d&&t.bind===d)return d.apply(t,c.call(arguments,1));if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var r=c.call(arguments,2),n=function(){return O(t,n,e,this,r.concat(c.call(arguments)))};return n},v.partial=function(t){var e=c.call(arguments,1),r=function(){for(var n=0,i=e.length,o=Array(i),s=0;s<i;s++)o[s]=e[s]===v?arguments[n++]:e[s];for(;n<arguments.length;)o.push(arguments[n++]);return O(t,r,this,this,o)};return r},v.bindAll=function(t){var e,r,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)t[r=arguments[e]]=v.bind(t[r],t);return t},v.memoize=function(t,e){var r=function(n){var i=r.cache,o=""+(e?e.apply(this,arguments):n);return v.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return r.cache={},r},v.delay=function(t,e){var r=c.call(arguments,2);return setTimeout(function(){return t.apply(null,r)},e)},v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,r){var n,i,o,s=null,a=0;r||(r={});var u=function(){a=!1===r.leading?0:v.now(),s=null,o=t.apply(n,i),s||(n=i=null)};return function(){var c=v.now();a||!1!==r.leading||(a=c);var f=e-(c-a);return n=this,i=arguments,f<=0||f>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(n,i),s||(n=i=null)):s||!1===r.trailing||(s=setTimeout(u,f)),o}},v.debounce=function(t,e,r){var n,i,o,s,a,u=function(){var c=v.now()-s;c<e&&c>=0?n=setTimeout(u,e-c):(n=null,r||(a=t.apply(o,i),n||(o=i=null)))};return function(){o=this,i=arguments,s=v.now();var c=r&&!n;return n||(n=setTimeout(u,e)),c&&(a=t.apply(o,i),o=i=null),a}},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.before=function(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}},v.once=v.partial(v.before,2);var B=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function N(t,e){var r=P.length,n=t.constructor,i=v.isFunction(n)&&n.prototype||s,o="constructor";for(v.has(t,o)&&!v.contains(e,o)&&e.push(o);r--;)(o=P[r])in t&&t[o]!==i[o]&&!v.contains(e,o)&&e.push(o)}v.keys=function(t){if(!v.isObject(t))return[];if(p)return p(t);var e=[];for(var r in t)v.has(t,r)&&e.push(r);return B&&N(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var r in t)e.push(r);return B&&N(t,e),e},v.values=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n},v.mapObject=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=i.length,s={},a=0;a<o;a++)s[n=i[a]]=e(t[n],n,t);return s},v.pairs=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=[e[i],t[e[i]]];return n},v.invert=function(t){for(var e={},r=v.keys(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e},v.functions=v.methods=function(t){var e=[];for(var r in t)v.isFunction(t[r])&&e.push(r);return e.sort()},v.extend=w(v.allKeys),v.extendOwn=v.assign=w(v.keys),v.findKey=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=0,s=i.length;o<s;o++)if(e(t[n=i[o]],n,t))return n},v.pick=function(t,e,r){var n,i,o={},s=t;if(null==s)return o;v.isFunction(e)?(i=v.allKeys(s),n=y(e,r)):(i=M(arguments,!1,!1,1),n=function(t,e,r){return e in r},s=Object(s));for(var a=0,u=i.length;a<u;a++){var c=i[a],f=s[c];n(f,c,s)&&(o[c]=f)}return o},v.omit=function(t,e,r){if(v.isFunction(e))e=v.negate(e);else{var n=v.map(M(arguments,!1,!1,1),String);e=function(t,e){return!v.contains(n,e)}}return v.pick(t,e,r)},v.defaults=w(v.allKeys,!0),v.create=function(t,e){var r=_(t);return e&&v.extendOwn(r,e),r},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var r=v.keys(e),n=r.length;if(null==t)return!n;for(var i=Object(t),o=0;o<n;o++){var s=r[o];if(e[s]!==i[s]||!(s in i))return!1}return!0};var R=function(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var i=f.call(t);if(i!==f.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===t)return n[u]===e;if(r.push(t),n.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!R(t[u],e[u],r,n))return!1}else{var c,l=v.keys(t);if(u=l.length,v.keys(e).length!==u)return!1;for(;u--;)if(c=l[u],!v.has(e,c)||!R(t[c],e[c],r,n))return!1}return r.pop(),n.pop(),!0};v.isEqual=function(t,e){return R(t,e)},v.isEmpty=function(t){return null==t||(E(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=h||function(t){return"[object Array]"===f.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){v["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return v.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&t!==+t},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){return null!=t&&l.call(t,e)},v.noConflict=function(){return r._=i,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=k,v.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,r){var n=Array(Math.max(0,t));e=y(e,r,1);for(var i=0;i<t;i++)n[i]=e(i);return n},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=v.invert(F),L=function(t){var e=function(e){return t[e]},r="(?:"+v.keys(t).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(i,e):t}};v.escape=L(F),v.unescape=L(j),v.result=function(t,e,r){var n=null==t?void 0:t[e];return void 0===n&&(n=r),v.isFunction(n)?n.call(t):n};var D=0;v.uniqueId=function(t){var e=++D+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,K=function(t){return"\\"+z[t]};v.template=function(t,e,r){!e&&r&&(e=r),e=v.defaults({},e,v.templateSettings);var n=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(n,function(e,r,n,s,a){return o+=t.slice(i,a).replace(H,K),i=a+e.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,v)},u=e.variable||"obj";return a.source="function("+u+"){\n"+o+"}",a},v.chain=function(t){var e=v(t);return e._chain=!0,e};var q=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){v.each(v.functions(t),function(e){var r=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),q(this,r.apply(v,t))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];v.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0],q(this,r)}}),v.each(["concat","join","slice"],function(t){var e=o[t];v.prototype[t]=function(){return q(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},void 0===(n=function(){return v}.apply(e,[]))||(t.exports=n)}).call(this)},function(t,e,r){"use strict";var n=r(1685),i=r(54),o=r(665),s=function(t){return i.toBN(t).toString(10)},a=function(t){if(void 0!==t)return function(t){return"latest"===t||"pending"===t||"earliest"===t}(t)?t:i.isHexStrict(t)?n.isString(t)?t.toLowerCase():t:i.numberToHex(t)},u=function(t){if(t.to&&(t.to=l(t.to)),t.data&&t.input)throw new Error('You can\'t have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.');if(!t.data&&t.input&&(t.data=t.input,delete t.input),t.data&&!i.isHex(t.data))throw new Error("The data field must be HEX encoded data.");return(t.gas||t.gasLimit)&&(t.gas=t.gas||t.gasLimit),["gasPrice","gas","value","nonce"].filter(function(e){return void 0!==t[e]}).forEach(function(e){t[e]=i.numberToHex(t[e])}),t},c=function(t){return null!==t.blockNumber&&(t.blockNumber=i.hexToNumber(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=i.hexToNumber(t.transactionIndex)),t.nonce=i.hexToNumber(t.nonce),t.gas=i.hexToNumber(t.gas),t.gasPrice=s(t.gasPrice),t.value=s(t.value),t.to&&i.isAddress(t.to)?t.to=i.toChecksumAddress(t.to):t.to=null,t.from&&(t.from=i.toChecksumAddress(t.from)),t},f=function(t){if("string"==typeof t.blockHash&&"string"==typeof t.transactionHash&&"string"==typeof t.logIndex){var e=i.sha3(t.blockHash.replace("0x","")+t.transactionHash.replace("0x","")+t.logIndex.replace("0x",""));t.id="log_"+e.replace("0x","").substr(0,8)}else t.id||(t.id=null);return null!==t.blockNumber&&(t.blockNumber=i.hexToNumber(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=i.hexToNumber(t.transactionIndex)),null!==t.logIndex&&(t.logIndex=i.hexToNumber(t.logIndex)),t.address&&(t.address=i.toChecksumAddress(t.address)),t},l=function(t){var e=new o(t);if(e.isValid()&&e.isDirect())return e.toAddress().toLowerCase();if(i.isAddress(t))return"0x"+t.toLowerCase().replace("0x","");throw new Error('Provided address "'+t+"\" is invalid, the capitalization checksum test failed, or its an indrect IBAN address which can't be converted.")};t.exports={inputDefaultBlockNumberFormatter:function(t){return!this||void 0!==t&&null!==t?"genesis"===t||"earliest"===t?"0x0":a(t):this.defaultBlock},inputBlockNumberFormatter:a,inputCallFormatter:function(t){var e=(t=u(t)).from||(this?this.defaultAccount:null);return e&&(t.from=l(e)),t},inputTransactionFormatter:function(t){if(t=u(t),!n.isNumber(t.from)&&!n.isObject(t.from)){if(t.from=t.from||(this?this.defaultAccount:null),!t.from&&!n.isNumber(t.from))throw new Error('The send transactions "from" field must be defined!');t.from=l(t.from)}return t},inputAddressFormatter:l,inputPostFormatter:function(t){return t.ttl&&(t.ttl=i.numberToHex(t.ttl)),t.workToProve&&(t.workToProve=i.numberToHex(t.workToProve)),t.priority&&(t.priority=i.numberToHex(t.priority)),n.isArray(t.topics)||(t.topics=t.topics?[t.topics]:[]),t.topics=t.topics.map(function(t){return 0===t.indexOf("0x")?t:i.fromUtf8(t)}),t},inputLogFormatter:function(t){var e=function(t){return null===t||void 0===t?null:0===(t=String(t)).indexOf("0x")?t:i.fromUtf8(t)};return t.topics=t.topics||[],t.topics=t.topics.map(function(t){return n.isArray(t)?t.map(e):e(t)}),e=null,t.address&&(t.address=n.isArray(t.address)?t.address.map(function(t){return l(t)}):l(t.address)),t},inputSignFormatter:function(t){return i.isHexStrict(t)?t:i.utf8ToHex(t)},outputBigNumberFormatter:s,outputTransactionFormatter:c,outputTransactionReceiptFormatter:function(t){if("object"!=typeof t)throw new Error("Received receipt is invalid: "+t);return null!==t.blockNumber&&(t.blockNumber=i.hexToNumber(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=i.hexToNumber(t.transactionIndex)),t.cumulativeGasUsed=i.hexToNumber(t.cumulativeGasUsed),t.gasUsed=i.hexToNumber(t.gasUsed),n.isArray(t.logs)&&(t.logs=t.logs.map(f)),t.contractAddress&&(t.contractAddress=i.toChecksumAddress(t.contractAddress)),void 0!==t.status&&(t.status=Boolean(parseInt(t.status))),t},outputBlockFormatter:function(t){return t.gasLimit=i.hexToNumber(t.gasLimit),t.gasUsed=i.hexToNumber(t.gasUsed),t.size=i.hexToNumber(t.size),t.timestamp=i.hexToNumber(t.timestamp),null!==t.number&&(t.number=i.hexToNumber(t.number)),t.difficulty&&(t.difficulty=s(t.difficulty)),t.totalDifficulty&&(t.totalDifficulty=s(t.totalDifficulty)),n.isArray(t.transactions)&&t.transactions.forEach(function(t){if(!n.isString(t))return c(t)}),t.miner&&(t.miner=i.toChecksumAddress(t.miner)),t},outputLogFormatter:f,outputPostFormatter:function(t){return t.expiry=i.hexToNumber(t.expiry),t.sent=i.hexToNumber(t.sent),t.ttl=i.hexToNumber(t.ttl),t.workProved=i.hexToNumber(t.workProved),t.topics||(t.topics=[]),t.topics=t.topics.map(function(t){return i.toUtf8(t)}),t},outputSyncingFormatter:function(t){return t.startingBlock=i.hexToNumber(t.startingBlock),t.currentBlock=i.hexToNumber(t.currentBlock),t.highestBlock=i.hexToNumber(t.highestBlock),t.knownStates&&(t.knownStates=i.hexToNumber(t.knownStates),t.pulledStates=i.hexToNumber(t.pulledStates)),t}}},function(t,e,r){"use strict";t.exports={ErrorResponse:function(t){var e=t&&t.error&&t.error.message?t.error.message:JSON.stringify(t);return new Error("Returned error: "+e)},InvalidNumberOfParams:function(t,e,r){return new Error('Invalid number of parameters for "'+r+'". Got '+t+" expected "+e+"!")},InvalidConnection:function(t){return new Error("CONNECTION ERROR: Couldn't connect to node "+t+".")},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(t){var e=t&&t.error&&t.error.message?t.error.message:"Invalid JSON RPC response: "+JSON.stringify(t);return new Error(e)},ConnectionTimeout:function(t){return new Error("CONNECTION TIMEOUT: timeout of "+t+" ms achived")}}},function(t,e,r){var n;(function(){var r=this,i=r._,o=Array.prototype,s=Object.prototype,a=Function.prototype,u=o.push,c=o.slice,f=s.toString,l=s.hasOwnProperty,h=Array.isArray,p=Object.keys,d=a.bind,m=Object.create,g=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};void 0!==t&&t.exports&&(e=t.exports=v),e._=v,v.VERSION="1.8.3";var y=function(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)}}return function(){return t.apply(e,arguments)}},b=function(t,e,r){return null==t?v.identity:v.isFunction(t)?y(t,e,r):v.isObject(t)?v.matcher(t):v.property(t)};v.iteratee=function(t,e){return b(t,e,1/0)};var w=function(t,e){return function(r){var n=arguments.length;if(n<2||null==r)return r;for(var i=1;i<n;i++)for(var o=arguments[i],s=t(o),a=s.length,u=0;u<a;u++){var c=s[u];e&&void 0!==r[c]||(r[c]=o[c])}return r}},_=function(t){if(!v.isObject(t))return{};if(m)return m(t);g.prototype=t;var e=new g;return g.prototype=null,e},k=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,x=k("length"),E=function(t){var e=x(t);return"number"==typeof e&&e>=0&&e<=S};function C(t){return function(e,r,n,i){r=y(r,i,4);var o=!E(e)&&v.keys(e),s=(o||e).length,a=t>0?0:s-1;return arguments.length<3&&(n=e[o?o[a]:a],a+=t),function(e,r,n,i,o,s){for(;o>=0&&o<s;o+=t){var a=i?i[o]:o;n=r(n,e[a],a,e)}return n}(e,r,n,o,a,s)}}v.each=v.forEach=function(t,e,r){var n,i;if(e=y(e,r),E(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else{var o=v.keys(t);for(n=0,i=o.length;n<i;n++)e(t[o[n]],o[n],t)}return t},v.map=v.collect=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=Array(i),s=0;s<i;s++){var a=n?n[s]:s;o[s]=e(t[a],a,t)}return o},v.reduce=v.foldl=v.inject=C(1),v.reduceRight=v.foldr=C(-1),v.find=v.detect=function(t,e,r){var n;if(void 0!==(n=E(t)?v.findIndex(t,e,r):v.findKey(t,e,r))&&-1!==n)return t[n]},v.filter=v.select=function(t,e,r){var n=[];return e=b(e,r),v.each(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n},v.reject=function(t,e,r){return v.filter(t,v.negate(b(e)),r)},v.every=v.all=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(!e(t[s],s,t))return!1}return!0},v.some=v.any=function(t,e,r){e=b(e,r);for(var n=!E(t)&&v.keys(t),i=(n||t).length,o=0;o<i;o++){var s=n?n[o]:o;if(e(t[s],s,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,r,n){return E(t)||(t=v.values(t)),("number"!=typeof r||n)&&(r=0),v.indexOf(t,e,r)>=0},v.invoke=function(t,e){var r=c.call(arguments,2),n=v.isFunction(e);return v.map(t,function(t){var i=n?e:t[e];return null==i?i:i.apply(t,r)})},v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,r){var n,i,o=-1/0,s=-1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])>o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)});return o},v.min=function(t,e,r){var n,i,o=1/0,s=1/0;if(null==e&&null!=t)for(var a=0,u=(t=E(t)?t:v.values(t)).length;a<u;a++)(n=t[a])<o&&(o=n);else e=b(e,r),v.each(t,function(t,r,n){((i=e(t,r,n))<s||i===1/0&&o===1/0)&&(o=t,s=i)});return o},v.shuffle=function(t){for(var e,r=E(t)?t:v.values(t),n=r.length,i=Array(n),o=0;o<n;o++)(e=v.random(0,o))!==o&&(i[o]=i[e]),i[e]=r[o];return i},v.sample=function(t,e,r){return null==e||r?(E(t)||(t=v.values(t)),t[v.random(t.length-1)]):v.shuffle(t).slice(0,Math.max(0,e))},v.sortBy=function(t,e,r){return e=b(e,r),v.pluck(v.map(t,function(t,r,n){return{value:t,index:r,criteria:e(t,r,n)}}).sort(function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index}),"value")};var A=function(t){return function(e,r,n){var i={};return r=b(r,n),v.each(e,function(n,o){var s=r(n,o,e);t(i,n,s)}),i}};v.groupBy=A(function(t,e,r){v.has(t,r)?t[r].push(e):t[r]=[e]}),v.indexBy=A(function(t,e,r){t[r]=e}),v.countBy=A(function(t,e,r){v.has(t,r)?t[r]++:t[r]=1}),v.toArray=function(t){return t?v.isArray(t)?c.call(t):E(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:E(t)?t.length:v.keys(t).length},v.partition=function(t,e,r){e=b(e,r);var n=[],i=[];return v.each(t,function(t,r,o){(e(t,r,o)?n:i).push(t)}),[n,i]},v.first=v.head=v.take=function(t,e,r){if(null!=t)return null==e||r?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,r){return c.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))},v.last=function(t,e,r){if(null!=t)return null==e||r?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,r){return c.call(t,null==e||r?1:e)},v.compact=function(t){return v.filter(t,v.identity)};var M=function(t,e,r,n){for(var i=[],o=0,s=n||0,a=x(t);s<a;s++){var u=t[s];if(E(u)&&(v.isArray(u)||v.isArguments(u))){e||(u=M(u,e,r));var c=0,f=u.length;for(i.length+=f;c<f;)i[o++]=u[c++]}else r||(i[o++]=u)}return i};function I(t){return function(e,r,n){r=b(r,n);for(var i=x(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(r(e[o],o,e))return o;return-1}}function T(t,e,r){return function(n,i,o){var s=0,a=x(n);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(r&&o&&a)return n[o=r(n,i)]===i?o:-1;if(i!=i)return(o=e(c.call(n,s,a),v.isNaN))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(n[o]===i)return o;return-1}}v.flatten=function(t,e){return M(t,e,!1)},v.without=function(t){return v.difference(t,c.call(arguments,1))},v.uniq=v.unique=function(t,e,r,n){v.isBoolean(e)||(n=r,r=e,e=!1),null!=r&&(r=b(r,n));for(var i=[],o=[],s=0,a=x(t);s<a;s++){var u=t[s],c=r?r(u,s,t):u;e?(s&&o===c||i.push(u),o=c):r?v.contains(o,c)||(o.push(c),i.push(u)):v.contains(i,u)||i.push(u)}return i},v.union=function(){return v.uniq(M(arguments,!0,!0))},v.intersection=function(t){for(var e=[],r=arguments.length,n=0,i=x(t);n<i;n++){var o=t[n];if(!v.contains(e,o)){for(var s=1;s<r&&v.contains(arguments[s],o);s++);s===r&&e.push(o)}}return e},v.difference=function(t){var e=M(arguments,!0,!0,1);return v.filter(t,function(t){return!v.contains(e,t)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(t){for(var e=t&&v.max(t,x).length||0,r=Array(e),n=0;n<e;n++)r[n]=v.pluck(t,n);return r},v.object=function(t,e){for(var r={},n=0,i=x(t);n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r},v.findIndex=I(1),v.findLastIndex=I(-1),v.sortedIndex=function(t,e,r,n){for(var i=(r=b(r,n,1))(e),o=0,s=x(t);o<s;){var a=Math.floor((o+s)/2);r(t[a])<i?o=a+1:s=a}return o},v.indexOf=T(1,v.findIndex,v.sortedIndex),v.lastIndexOf=T(-1,v.findLastIndex),v.range=function(t,e,r){null==e&&(e=t||0,t=0),r=r||1;for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),o=0;o<n;o++,t+=r)i[o]=t;return i};var O=function(t,e,r,n,i){if(!(n instanceof e))return t.apply(r,i);var o=_(t.prototype),s=t.apply(o,i);return v.isObject(s)?s:o};v.bind=function(t,e){if(d&&t.bind===d)return d.apply(t,c.call(arguments,1));if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var r=c.call(arguments,2),n=function(){return O(t,n,e,this,r.concat(c.call(arguments)))};return n},v.partial=function(t){var e=c.call(arguments,1),r=function(){for(var n=0,i=e.length,o=Array(i),s=0;s<i;s++)o[s]=e[s]===v?arguments[n++]:e[s];for(;n<arguments.length;)o.push(arguments[n++]);return O(t,r,this,this,o)};return r},v.bindAll=function(t){var e,r,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)t[r=arguments[e]]=v.bind(t[r],t);return t},v.memoize=function(t,e){var r=function(n){var i=r.cache,o=""+(e?e.apply(this,arguments):n);return v.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return r.cache={},r},v.delay=function(t,e){var r=c.call(arguments,2);return setTimeout(function(){return t.apply(null,r)},e)},v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,r){var n,i,o,s=null,a=0;r||(r={});var u=function(){a=!1===r.leading?0:v.now(),s=null,o=t.apply(n,i),s||(n=i=null)};return function(){var c=v.now();a||!1!==r.leading||(a=c);var f=e-(c-a);return n=this,i=arguments,f<=0||f>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(n,i),s||(n=i=null)):s||!1===r.trailing||(s=setTimeout(u,f)),o}},v.debounce=function(t,e,r){var n,i,o,s,a,u=function(){var c=v.now()-s;c<e&&c>=0?n=setTimeout(u,e-c):(n=null,r||(a=t.apply(o,i),n||(o=i=null)))};return function(){o=this,i=arguments,s=v.now();var c=r&&!n;return n||(n=setTimeout(u,e)),c&&(a=t.apply(o,i),o=i=null),a}},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.before=function(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}},v.once=v.partial(v.before,2);var B=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function N(t,e){var r=P.length,n=t.constructor,i=v.isFunction(n)&&n.prototype||s,o="constructor";for(v.has(t,o)&&!v.contains(e,o)&&e.push(o);r--;)(o=P[r])in t&&t[o]!==i[o]&&!v.contains(e,o)&&e.push(o)}v.keys=function(t){if(!v.isObject(t))return[];if(p)return p(t);var e=[];for(var r in t)v.has(t,r)&&e.push(r);return B&&N(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var r in t)e.push(r);return B&&N(t,e),e},v.values=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n},v.mapObject=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=i.length,s={},a=0;a<o;a++)s[n=i[a]]=e(t[n],n,t);return s},v.pairs=function(t){for(var e=v.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=[e[i],t[e[i]]];return n},v.invert=function(t){for(var e={},r=v.keys(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e},v.functions=v.methods=function(t){var e=[];for(var r in t)v.isFunction(t[r])&&e.push(r);return e.sort()},v.extend=w(v.allKeys),v.extendOwn=v.assign=w(v.keys),v.findKey=function(t,e,r){e=b(e,r);for(var n,i=v.keys(t),o=0,s=i.length;o<s;o++)if(e(t[n=i[o]],n,t))return n},v.pick=function(t,e,r){var n,i,o={},s=t;if(null==s)return o;v.isFunction(e)?(i=v.allKeys(s),n=y(e,r)):(i=M(arguments,!1,!1,1),n=function(t,e,r){return e in r},s=Object(s));for(var a=0,u=i.length;a<u;a++){var c=i[a],f=s[c];n(f,c,s)&&(o[c]=f)}return o},v.omit=function(t,e,r){if(v.isFunction(e))e=v.negate(e);else{var n=v.map(M(arguments,!1,!1,1),String);e=function(t,e){return!v.contains(n,e)}}return v.pick(t,e,r)},v.defaults=w(v.allKeys,!0),v.create=function(t,e){var r=_(t);return e&&v.extendOwn(r,e),r},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var r=v.keys(e),n=r.length;if(null==t)return!n;for(var i=Object(t),o=0;o<n;o++){var s=r[o];if(e[s]!==i[s]||!(s in i))return!1}return!0};var R=function(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var i=f.call(t);if(i!==f.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===t)return n[u]===e;if(r.push(t),n.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!R(t[u],e[u],r,n))return!1}else{var c,l=v.keys(t);if(u=l.length,v.keys(e).length!==u)return!1;for(;u--;)if(c=l[u],!v.has(e,c)||!R(t[c],e[c],r,n))return!1}return r.pop(),n.pop(),!0};v.isEqual=function(t,e){return R(t,e)},v.isEmpty=function(t){return null==t||(E(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=h||function(t){return"[object Array]"===f.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){v["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return v.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&t!==+t},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){return null!=t&&l.call(t,e)},v.noConflict=function(){return r._=i,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=k,v.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,r){var n=Array(Math.max(0,t));e=y(e,r,1);for(var i=0;i<t;i++)n[i]=e(i);return n},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=v.invert(F),L=function(t){var e=function(e){return t[e]},r="(?:"+v.keys(t).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(i,e):t}};v.escape=L(F),v.unescape=L(j),v.result=function(t,e,r){var n=null==t?void 0:t[e];return void 0===n&&(n=r),v.isFunction(n)?n.call(t):n};var D=0;v.uniqueId=function(t){var e=++D+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,K=function(t){return"\\"+z[t]};v.template=function(t,e,r){!e&&r&&(e=r),e=v.defaults({},e,v.templateSettings);var n=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(n,function(e,r,n,s,a){return o+=t.slice(i,a).replace(H,K),i=a+e.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,v)},u=e.variable||"obj";return a.source="function("+u+"){\n"+o+"}",a},v.chain=function(t){var e=v(t);return e._chain=!0,e};var q=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){v.each(v.functions(t),function(e){var r=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),q(this,r.apply(v,t))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];v.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0],q(this,r)}}),v.each(["concat","join","slice"],function(t){var e=o[t];v.prototype[t]=function(){return q(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},void 0===(n=function(){return v}.apply(e,[]))||(t.exports=n)}).call(this)},function(t,e,r){"use strict";var n=r(1688),i=r(43).errors,o=r(664),s=r(1673),a=r(1672),u=function t(e){this.provider=null,this.providers=t.providers,this.setProvider(e),this.subscriptions={}};u.givenProvider=a,u.providers={WebsocketProvider:r(1671),HttpProvider:r(1661),IpcProvider:r(1660)},u.prototype.setProvider=function(t,e){var r=this;if(t&&"string"==typeof t&&this.providers)if(/^http(s)?:\/\//i.test(t))t=new this.providers.HttpProvider(t);else if(/^ws(s)?:\/\//i.test(t))t=new this.providers.WebsocketProvider(t);else if(t&&"object"==typeof e&&"function"==typeof e.connect)t=new this.providers.IpcProvider(t,e);else if(t)throw new Error("Can't autodetect provider for \""+t+'"');this.provider&&this.clearSubscriptions(),this.provider=t||null,this.provider&&this.provider.on&&this.provider.on("data",function(t,e){(t=t||e).method&&r.subscriptions[t.params.subscription]&&r.subscriptions[t.params.subscription].callback&&r.subscriptions[t.params.subscription].callback(null,t.params.result)})},u.prototype.send=function(t,e){if(e=e||function(){},!this.provider)return e(i.InvalidProvider());var r=o.toPayload(t.method,t.params);this.provider[this.provider.sendAsync?"sendAsync":"send"](r,function(t,n){return n&&n.id&&r.id!==n.id?e(new Error('Wrong response id "'+n.id+'" (expected: "'+r.id+'") in '+JSON.stringify(r))):t?e(t):n&&n.error?e(i.ErrorResponse(n)):o.isValidResponse(n)?void e(null,n.result):e(i.InvalidResponse(n))})},u.prototype.sendBatch=function(t,e){if(!this.provider)return e(i.InvalidProvider());var r=o.toBatchPayload(t);this.provider[this.provider.sendAsync?"sendAsync":"send"](r,function(t,r){return t?e(t):n.isArray(r)?void e(null,r):e(i.InvalidResponse(r))})},u.prototype.addSubscription=function(t,e,r,n){if(!this.provider.on)throw new Error("The provider doesn't support subscriptions: "+this.provider.constructor.name);this.subscriptions[t]={callback:n,type:r,name:e}},u.prototype.removeSubscription=function(t,e){this.subscriptions[t]&&(this.send({method:this.subscriptions[t].type+"_unsubscribe",params:[t]},e),delete this.subscriptions[t])},u.prototype.clearSubscriptions=function(t){var e=this;Object.keys(this.subscriptions).forEach(function(r){t&&"syncing"===e.subscriptions[r].name||e.removeSubscription(r)}),this.provider.reset&&this.provider.reset()},t.exports={Manager:u,BatchManager:s}},function(t){t.exports={_args:[["web3@1.0.0-beta.34","/Users/wangyiyi/github/ribbit"]],_from:"web3@1.0.0-beta.34",_id:"web3@1.0.0-beta.34",_inBundle:!1,_integrity:"sha1-NH5WG3hAmMtVYzFfSQR5odkfKrE=",_location:"/web3",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"web3@1.0.0-beta.34",name:"web3",escapedName:"web3",rawSpec:"1.0.0-beta.34",saveSpec:null,fetchSpec:"1.0.0-beta.34"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/web3/-/web3-1.0.0-beta.34.tgz",_spec:"1.0.0-beta.34",_where:"/Users/wangyiyi/github/ribbit",author:{name:"ethereum.org"},authors:[{name:"Fabian Vogelsteller",email:"fabian@ethereum.org",homepage:"http://frozeman.de"},{name:"Marek Kotewicz",email:"marek@parity.io",url:"https://github.com/debris"},{name:"Marian Oancea",url:"https://github.com/cubedro"},{name:"Gav Wood",email:"g@parity.io",homepage:"http://gavwood.com"},{name:"Jeffery Wilcke",email:"jeffrey.wilcke@ethereum.org",url:"https://github.com/obscuren"}],bugs:{url:"https://github.com/ethereum/web3.js/issues"},dependencies:{"web3-bzz":"1.0.0-beta.34","web3-core":"1.0.0-beta.34","web3-eth":"1.0.0-beta.34","web3-eth-personal":"1.0.0-beta.34","web3-net":"1.0.0-beta.34","web3-shh":"1.0.0-beta.34","web3-utils":"1.0.0-beta.34"},description:"Ethereum JavaScript API",keywords:["Ethereum","JavaScript","API"],license:"LGPL-3.0",main:"src/index.js",name:"web3",namespace:"ethereum",repository:{type:"git",url:"https://github.com/ethereum/web3.js/tree/master/packages/web3"},types:"index.d.ts",version:"1.0.0-beta.34"}},function(t,e,r){"use strict";var n=r(1690).version,i=r(110),o=r(1649),s=r(234),a=r(659),u=r(1548),c=r(1547),f=r(54),l=function(){var t=this;i.packageInit(this,arguments),this.version=n,this.utils=f,this.eth=new o(this),this.shh=new u(this),this.bzz=new c(this);var e=this.setProvider;this.setProvider=function(r,n){return e.apply(t,arguments),this.eth.setProvider(r,n),this.shh.setProvider(r,n),this.bzz.setProvider(r),!0}};l.version=n,l.utils=f,l.modules={Eth:o,Net:s,Personal:a,Shh:u,Bzz:c},i.addProviders(l),t.exports=l},function(t,e,r){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,r){"use strict";var n=r(370),i=r(236),o=r(1692);t.exports=function(){function t(t,e,r,n,s,a){a!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var r={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return r.checkPropTypes=n,r.PropTypes=r,r}},function(t,e,r){"use strict";r.r(e);var n=r(242);r.d(e,"MemoryRouter",function(){return n.a});var i=r(241);r.d(e,"Prompt",function(){return i.a});var o=r(240);r.d(e,"Redirect",function(){return o.a});var s=r(134);r.d(e,"Route",function(){return s.a});var a=r(91);r.d(e,"Router",function(){return a.a});var u=r(239);r.d(e,"StaticRouter",function(){return u.a});var c=r(238);r.d(e,"Switch",function(){return c.a});var f=r(90);r.d(e,"matchPath",function(){return f.a});var l=r(237);r.d(e,"withRouter",function(){return l.a})},function(t,e,r){"use strict";t.exports=function(t){var e=(t?t.ownerDocument||t:document).defaultView||window;return!(!t||!("function"==typeof e.Node?t instanceof e.Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}},function(t,e,r){"use strict";var n=r(1695);t.exports=function(t){return n(t)&&3==t.nodeType}},function(t,e,r){"use strict";var n=r(1696);t.exports=function t(e,r){return!(!e||!r)&&(e===r||!n(e)&&(n(r)?t(e,r.parentNode):"contains"in e?e.contains(r):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(r))))}},function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty;function i(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}t.exports=function(t,e){if(i(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var r=Object.keys(t),o=Object.keys(e);if(r.length!==o.length)return!1;for(var s=0;s<r.length;s++)if(!n.call(e,r[s])||!i(t[r[s]],e[r[s]]))return!1;return!0}},function(t,e,r){"use strict";t.exports=function(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}},function(t,e,r){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=i},function(t,e,r){"use strict";
/** @license React v16.3.2
 * react-dom.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(236),i=r(5),o=r(1700),s=r(165),a=r(370),u=r(1699),c=r(1698),f=r(1697),l=r(371);function h(t){for(var e=arguments.length-1,r="http://reactjs.org/docs/error-decoder.html?invariant="+t,i=0;i<e;i++)r+="&args[]="+encodeURIComponent(arguments[i+1]);n(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}i||h("227");var p={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(t,e,r,n,i,o,s,a,u){(function(t,e,r,n,i,o,s,a,u){this._hasCaughtError=!1,this._caughtError=null;var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(t){this._caughtError=t,this._hasCaughtError=!0}}).apply(p,arguments)},invokeGuardedCallbackAndCatchFirstError:function(t,e,r,n,i,o,s,a,u){if(p.invokeGuardedCallback.apply(this,arguments),p.hasCaughtError()){var c=p.clearCaughtError();p._hasRethrowError||(p._hasRethrowError=!0,p._rethrowError=c)}},rethrowCaughtError:function(){return function(){if(p._hasRethrowError){var t=p._rethrowError;throw p._rethrowError=null,p._hasRethrowError=!1,t}}.apply(p,arguments)},hasCaughtError:function(){return p._hasCaughtError},clearCaughtError:function(){if(p._hasCaughtError){var t=p._caughtError;return p._caughtError=null,p._hasCaughtError=!1,t}h("198")}};var d=null,m={};function g(){if(d)for(var t in m){var e=m[t],r=d.indexOf(t);if(-1<r||h("96",t),!y[r])for(var n in e.extractEvents||h("97",t),y[r]=e,r=e.eventTypes){var i=void 0,o=r[n],s=e,a=n;b.hasOwnProperty(a)&&h("99",a),b[a]=o;var u=o.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&v(u[i],s,a);i=!0}else o.registrationName?(v(o.registrationName,s,a),i=!0):i=!1;i||h("98",n,t)}}}function v(t,e,r){w[t]&&h("100",t),w[t]=e,_[t]=e.eventTypes[r].dependencies}var y=[],b={},w={},_={};function k(t){d&&h("101"),d=Array.prototype.slice.call(t),g()}function S(t){var e,r=!1;for(e in t)if(t.hasOwnProperty(e)){var n=t[e];m.hasOwnProperty(e)&&m[e]===n||(m[e]&&h("102",e),m[e]=n,r=!0)}r&&g()}var x=Object.freeze({plugins:y,eventNameDispatchConfigs:b,registrationNameModules:w,registrationNameDependencies:_,possibleRegistrationNames:null,injectEventPluginOrder:k,injectEventPluginsByName:S}),E=null,C=null,A=null;function M(t,e,r,n){e=t.type||"unknown-event",t.currentTarget=A(n),p.invokeGuardedCallbackAndCatchFirstError(e,r,void 0,t),t.currentTarget=null}function I(t,e){return null==e&&h("30"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function T(t,e,r){Array.isArray(t)?t.forEach(e,r):t&&e.call(r,t)}var O=null;function B(t,e){if(t){var r=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(r))for(var i=0;i<r.length&&!t.isPropagationStopped();i++)M(t,e,r[i],n[i]);else r&&M(t,e,r,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function P(t){return B(t,!0)}function N(t){return B(t,!1)}var R={injectEventPluginOrder:k,injectEventPluginsByName:S};function F(t,e){var r=t.stateNode;if(!r)return null;var n=E(r);if(!n)return null;r=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}return t?null:(r&&"function"!=typeof r&&h("231",e,typeof r),r)}function j(t,e){null!==t&&(O=I(O,t)),t=O,O=null,t&&(T(t,e?P:N),O&&h("95"),p.rethrowCaughtError())}function L(t,e,r,n){for(var i=null,o=0;o<y.length;o++){var s=y[o];s&&(s=s.extractEvents(t,e,r,n))&&(i=I(i,s))}j(i,!1)}var D=Object.freeze({injection:R,getListener:F,runEventsInBatch:j,runExtractedEventsInBatch:L}),U=Math.random().toString(36).slice(2),z="__reactInternalInstance$"+U,H="__reactEventHandlers$"+U;function K(t){if(t[z])return t[z];for(;!t[z];){if(!t.parentNode)return null;t=t.parentNode}return 5===(t=t[z]).tag||6===t.tag?t:null}function q(t){if(5===t.tag||6===t.tag)return t.stateNode;h("33")}function V(t){return t[H]||null}var W=Object.freeze({precacheFiberNode:function(t,e){e[z]=t},getClosestInstanceFromNode:K,getInstanceFromNode:function(t){return!(t=t[z])||5!==t.tag&&6!==t.tag?null:t},getNodeFromInstance:q,getFiberCurrentPropsFromNode:V,updateFiberProps:function(t,e){t[H]=e}});function G(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Y(t,e,r){for(var n=[];t;)n.push(t),t=G(t);for(t=n.length;0<t--;)e(n[t],"captured",r);for(t=0;t<n.length;t++)e(n[t],"bubbled",r)}function $(t,e,r){(e=F(t,r.dispatchConfig.phasedRegistrationNames[e]))&&(r._dispatchListeners=I(r._dispatchListeners,e),r._dispatchInstances=I(r._dispatchInstances,t))}function Z(t){t&&t.dispatchConfig.phasedRegistrationNames&&Y(t._targetInst,$,t)}function X(t){if(t&&t.dispatchConfig.phasedRegistrationNames){var e=t._targetInst;Y(e=e?G(e):null,$,t)}}function J(t,e,r){t&&r&&r.dispatchConfig.registrationName&&(e=F(t,r.dispatchConfig.registrationName))&&(r._dispatchListeners=I(r._dispatchListeners,e),r._dispatchInstances=I(r._dispatchInstances,t))}function Q(t){t&&t.dispatchConfig.registrationName&&J(t._targetInst,null,t)}function tt(t){T(t,Z)}function et(t,e,r,n){if(r&&n)t:{for(var i=r,o=n,s=0,a=i;a;a=G(a))s++;a=0;for(var u=o;u;u=G(u))a++;for(;0<s-a;)i=G(i),s--;for(;0<a-s;)o=G(o),a--;for(;s--;){if(i===o||i===o.alternate)break t;i=G(i),o=G(o)}i=null}else i=null;for(o=i,i=[];r&&r!==o&&(null===(s=r.alternate)||s!==o);)i.push(r),r=G(r);for(r=[];n&&n!==o&&(null===(s=n.alternate)||s!==o);)r.push(n),n=G(n);for(n=0;n<i.length;n++)J(i[n],"bubbled",t);for(t=r.length;0<t--;)J(r[t],"captured",e)}var rt=Object.freeze({accumulateTwoPhaseDispatches:tt,accumulateTwoPhaseDispatchesSkipTarget:function(t){T(t,X)},accumulateEnterLeaveDispatches:et,accumulateDirectDispatches:function(t){T(t,Q)}}),nt=null;function it(){return!nt&&o.canUseDOM&&(nt="textContent"in document.documentElement?"textContent":"innerText"),nt}var ot={_root:null,_startText:null,_fallbackText:null};function st(){if(ot._fallbackText)return ot._fallbackText;var t,e,r=ot._startText,n=r.length,i=at(),o=i.length;for(t=0;t<n&&r[t]===i[t];t++);var s=n-t;for(e=1;e<=s&&r[n-e]===i[o-e];e++);return ot._fallbackText=i.slice(t,1<e?1-e:void 0),ot._fallbackText}function at(){return"value"in ot._root?ot._root.value:ot._root[it()]}var ut="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),ct={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function ft(t,e,r,n){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=r,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(r):"target"===i?this.target=n:this[i]=r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?a.thatReturnsTrue:a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}function lt(t,e,r,n){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,r,n),i}return new this(t,e,r,n)}function ht(t){t instanceof this||h("223"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function pt(t){t.eventPool=[],t.getPooled=lt,t.release=ht}s(ft.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;for(e=0;e<ut.length;e++)this[ut[e]]=null}}),ft.Interface=ct,ft.extend=function(t){function e(){}function r(){return n.apply(this,arguments)}var n=this;e.prototype=n.prototype;var i=new e;return s(i,r.prototype),r.prototype=i,r.prototype.constructor=r,r.Interface=s({},n.Interface,t),r.extend=n.extend,pt(r),r},pt(ft);var dt=ft.extend({data:null}),mt=ft.extend({data:null}),gt=[9,13,27,32],vt=o.canUseDOM&&"CompositionEvent"in window,yt=null;o.canUseDOM&&"documentMode"in document&&(yt=document.documentMode);var bt=o.canUseDOM&&"TextEvent"in window&&!yt,wt=o.canUseDOM&&(!vt||yt&&8<yt&&11>=yt),_t=String.fromCharCode(32),kt={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},St=!1;function xt(t,e){switch(t){case"topKeyUp":return-1!==gt.indexOf(e.keyCode);case"topKeyDown":return 229!==e.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function Et(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var Ct=!1;var At={eventTypes:kt,extractEvents:function(t,e,r,n){var i=void 0,o=void 0;if(vt)t:{switch(t){case"topCompositionStart":i=kt.compositionStart;break t;case"topCompositionEnd":i=kt.compositionEnd;break t;case"topCompositionUpdate":i=kt.compositionUpdate;break t}i=void 0}else Ct?xt(t,r)&&(i=kt.compositionEnd):"topKeyDown"===t&&229===r.keyCode&&(i=kt.compositionStart);return i?(wt&&(Ct||i!==kt.compositionStart?i===kt.compositionEnd&&Ct&&(o=st()):(ot._root=n,ot._startText=at(),Ct=!0)),i=dt.getPooled(i,e,r,n),o?i.data=o:null!==(o=Et(r))&&(i.data=o),tt(i),o=i):o=null,(t=bt?function(t,e){switch(t){case"topCompositionEnd":return Et(e);case"topKeyPress":return 32!==e.which?null:(St=!0,_t);case"topTextInput":return(t=e.data)===_t&&St?null:t;default:return null}}(t,r):function(t,e){if(Ct)return"topCompositionEnd"===t||!vt&&xt(t,e)?(t=st(),ot._root=null,ot._startText=null,ot._fallbackText=null,Ct=!1,t):null;switch(t){case"topPaste":return null;case"topKeyPress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"topCompositionEnd":return wt?null:e.data;default:return null}}(t,r))?((e=mt.getPooled(kt.beforeInput,e,r,n)).data=t,tt(e)):e=null,null===o?e:null===e?o:[o,e]}},Mt=null,It={injectFiberControlledHostComponent:function(t){Mt=t}},Tt=null,Ot=null;function Bt(t){if(t=C(t)){Mt&&"function"==typeof Mt.restoreControlledState||h("194");var e=E(t.stateNode);Mt.restoreControlledState(t.stateNode,t.type,e)}}function Pt(t){Tt?Ot?Ot.push(t):Ot=[t]:Tt=t}function Nt(){return null!==Tt||null!==Ot}function Rt(){if(Tt){var t=Tt,e=Ot;if(Ot=Tt=null,Bt(t),e)for(t=0;t<e.length;t++)Bt(e[t])}}var Ft=Object.freeze({injection:It,enqueueStateRestore:Pt,needsStateRestore:Nt,restoreStateIfNeeded:Rt});function jt(t,e){return t(e)}function Lt(t,e,r){return t(e,r)}function Dt(){}var Ut=!1;function zt(t,e){if(Ut)return t(e);Ut=!0;try{return jt(t,e)}finally{Ut=!1,Nt()&&(Dt(),Rt())}}var Ht={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Ht[t.type]:"textarea"===e}function qt(t){return(t=t.target||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Vt(t,e){return!(!o.canUseDOM||e&&!("addEventListener"in document))&&((e=(t="on"+t)in document)||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"==typeof e[t]),e)}function Wt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Gt(t){t._valueTracker||(t._valueTracker=function(t){var e=Wt(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"function"==typeof r.get&&"function"==typeof r.set)return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.get.call(this)},set:function(t){n=""+t,r.set.call(this,t)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}(t))}function Yt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Wt(t)?t.checked?"true":"false":t.value),(t=n)!==r&&(e.setValue(t),!0)}var $t=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zt="function"==typeof Symbol&&Symbol.for,Xt=Zt?Symbol.for("react.element"):60103,Jt=Zt?Symbol.for("react.call"):60104,Qt=Zt?Symbol.for("react.return"):60105,te=Zt?Symbol.for("react.portal"):60106,ee=Zt?Symbol.for("react.fragment"):60107,re=Zt?Symbol.for("react.strict_mode"):60108,ne=Zt?Symbol.for("react.provider"):60109,ie=Zt?Symbol.for("react.context"):60110,oe=Zt?Symbol.for("react.async_mode"):60111,se=Zt?Symbol.for("react.forward_ref"):60112,ae="function"==typeof Symbol&&Symbol.iterator;function ue(t){return null===t||void 0===t?null:"function"==typeof(t=ae&&t[ae]||t["@@iterator"])?t:null}function ce(t){if("function"==typeof(t=t.type))return t.displayName||t.name;if("string"==typeof t)return t;switch(t){case ee:return"ReactFragment";case te:return"ReactPortal";case Jt:return"ReactCall";case Qt:return"ReactReturn"}if("object"==typeof t&&null!==t)switch(t.$$typeof){case se:return""!==(t=t.render.displayName||t.render.name||"")?"ForwardRef("+t+")":"ForwardRef"}return null}function fe(t){var e="";do{t:switch(t.tag){case 0:case 1:case 2:case 5:var r=t._debugOwner,n=t._debugSource,i=ce(t),o=null;r&&(o=ce(r)),r=n,i="\n    in "+(i||"Unknown")+(r?" (at "+r.fileName.replace(/^.*[\\\/]/,"")+":"+r.lineNumber+")":o?" (created by "+o+")":"");break t;default:i=""}e+=i,t=t.return}while(t);return e}var le=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,he={},pe={};function de(t,e,r,n,i){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){me[t]=new de(t,0,!1,t,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];me[e]=new de(e,1,!1,t[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){me[t]=new de(t,2,!1,t.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(t){me[t]=new de(t,2,!1,t,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){me[t]=new de(t,3,!1,t.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(t){me[t]=new de(t,3,!0,t.toLowerCase(),null)}),["capture","download"].forEach(function(t){me[t]=new de(t,4,!1,t.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(t){me[t]=new de(t,6,!1,t.toLowerCase(),null)}),["rowSpan","start"].forEach(function(t){me[t]=new de(t,5,!1,t.toLowerCase(),null)});var ge=/[\-:]([a-z])/g;function ve(t){return t[1].toUpperCase()}function ye(t,e,r,n){var i=me.hasOwnProperty(e)?me[e]:null;(null!==i?0===i.type:!n&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,r,n){if(null===e||void 0===e||function(t,e,r,n){if(null!==r&&0===r.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,r,n))return!0;if(null!==r)switch(r.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,r,i,n)&&(r=null),n||null===i?function(t){return!!pe.hasOwnProperty(t)||!he.hasOwnProperty(t)&&(le.test(t)?pe[t]=!0:(he[t]=!0,!1))}(e)&&(null===r?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=null===r?3!==i.type&&"":r:(e=i.attributeName,n=i.attributeNamespace,null===r?t.removeAttribute(e):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}function be(t,e){var r=e.checked;return s({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:t._wrapperState.initialChecked})}function we(t,e){var r=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;r=Ee(null!=e.value?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function _e(t,e){null!=(e=e.checked)&&ye(t,"checked",e,!1)}function ke(t,e){_e(t,e);var r=Ee(e.value);null!=r&&("number"===e.type?(0===r&&""===t.value||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r)),e.hasOwnProperty("value")?xe(t,e.type,r):e.hasOwnProperty("defaultValue")&&xe(t,e.type,Ee(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Se(t,e){(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue"))&&(""===t.value&&(t.value=""+t._wrapperState.initialValue),t.defaultValue=""+t._wrapperState.initialValue),""!==(e=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!t.defaultChecked,""!==e&&(t.name=e)}function xe(t,e,r){"number"===e&&t.ownerDocument.activeElement===t||(null==r?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function Ee(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ge,ve);me[e]=new de(e,1,!1,t,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ge,ve);me[e]=new de(e,1,!1,t,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ge,ve);me[e]=new de(e,1,!1,t,"http://www.w3.org/XML/1998/namespace")}),me.tabIndex=new de("tabIndex",1,!1,"tabindex",null);var Ce={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}};function Ae(t,e,r){return(t=ft.getPooled(Ce.change,t,e,r)).type="change",Pt(r),tt(t),t}var Me=null,Ie=null;function Te(t){j(t,!1)}function Oe(t){if(Yt(q(t)))return t}function Be(t,e){if("topChange"===t)return e}var Pe=!1;function Ne(){Me&&(Me.detachEvent("onpropertychange",Re),Ie=Me=null)}function Re(t){"value"===t.propertyName&&Oe(Ie)&&zt(Te,t=Ae(Ie,t,qt(t)))}function Fe(t,e,r){"topFocus"===t?(Ne(),Ie=r,(Me=e).attachEvent("onpropertychange",Re)):"topBlur"===t&&Ne()}function je(t){if("topSelectionChange"===t||"topKeyUp"===t||"topKeyDown"===t)return Oe(Ie)}function Le(t,e){if("topClick"===t)return Oe(e)}function De(t,e){if("topInput"===t||"topChange"===t)return Oe(e)}o.canUseDOM&&(Pe=Vt("input")&&(!document.documentMode||9<document.documentMode));var Ue={eventTypes:Ce,_isInputEventSupported:Pe,extractEvents:function(t,e,r,n){var i=e?q(e):window,o=void 0,s=void 0,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type?o=Be:Kt(i)?Pe?o=De:(o=je,s=Fe):(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Le),o&&(o=o(t,e)))return Ae(o,r,n);s&&s(t,i,e),"topBlur"===t&&null!=e&&(t=e._wrapperState||i._wrapperState)&&t.controlled&&"number"===i.type&&xe(i,"number",i.value)}},ze=ft.extend({view:null,detail:null}),He={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ke(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=He[t])&&!!e[t]}function qe(){return Ke}var Ve=ze.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:qe,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)}}),We={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},Ge={eventTypes:We,extractEvents:function(t,e,r,n){if("topMouseOver"===t&&(r.relatedTarget||r.fromElement)||"topMouseOut"!==t&&"topMouseOver"!==t)return null;var i=n.window===n?n:(i=n.ownerDocument)?i.defaultView||i.parentWindow:window;if("topMouseOut"===t?(t=e,e=(e=r.relatedTarget||r.toElement)?K(e):null):t=null,t===e)return null;var o=null==t?i:q(t);i=null==e?i:q(e);var s=Ve.getPooled(We.mouseLeave,t,r,n);return s.type="mouseleave",s.target=o,s.relatedTarget=i,(r=Ve.getPooled(We.mouseEnter,e,r,n)).type="mouseenter",r.target=i,r.relatedTarget=o,et(s,r,t,e),[s,r]}};function Ye(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!=(2&e.effectTag))return 1;for(;e.return;)if(0!=(2&(e=e.return).effectTag))return 1}return 3===e.tag?2:3}function $e(t){return!!(t=t._reactInternalFiber)&&2===Ye(t)}function Ze(t){2!==Ye(t)&&h("188")}function Xe(t){var e=t.alternate;if(!e)return 3===(e=Ye(t))&&h("188"),1===e?null:t;for(var r=t,n=e;;){var i=r.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var s=i.child;s;){if(s===r)return Ze(i),t;if(s===n)return Ze(i),e;s=s.sibling}h("188")}if(r.return!==n.return)r=i,n=o;else{s=!1;for(var a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}s||h("189")}}r.alternate!==n&&h("190")}return 3!==r.tag&&h("188"),r.stateNode.current===r?t:e}function Je(t){if(!(t=Xe(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}var Qe=ft.extend({animationName:null,elapsedTime:null,pseudoElement:null}),tr=ft.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),er=ze.extend({relatedTarget:null});function rr(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var nr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ir={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},or=ze.extend({key:function(t){if(t.key){var e=nr[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=rr(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?ir[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:qe,charCode:function(t){return"keypress"===t.type?rr(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?rr(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),sr=Ve.extend({dataTransfer:null}),ar=ze.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:qe}),ur=ft.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),cr=Ve.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),fr={},lr={};function hr(t,e){var r=t[0].toUpperCase()+t.slice(1),n="on"+r;e={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r="top"+r],isInteractive:e},fr[t]=e,lr[r]=e}"blur cancel click close contextMenu copy cut doubleClick dragEnd dragStart drop focus input invalid keyDown keyPress keyUp mouseDown mouseUp paste pause play rateChange reset seeked submit touchCancel touchEnd touchStart volumeChange".split(" ").forEach(function(t){hr(t,!0)}),"abort animationEnd animationIteration animationStart canPlay canPlayThrough drag dragEnter dragExit dragLeave dragOver durationChange emptied encrypted ended error load loadedData loadedMetadata loadStart mouseMove mouseOut mouseOver playing progress scroll seeking stalled suspend timeUpdate toggle touchMove transitionEnd waiting wheel".split(" ").forEach(function(t){hr(t,!1)});var pr={eventTypes:fr,isInteractiveTopLevelEventType:function(t){return void 0!==(t=lr[t])&&!0===t.isInteractive},extractEvents:function(t,e,r,n){var i=lr[t];if(!i)return null;switch(t){case"topKeyPress":if(0===rr(r))return null;case"topKeyDown":case"topKeyUp":t=or;break;case"topBlur":case"topFocus":t=er;break;case"topClick":if(2===r.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":t=Ve;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":t=sr;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":t=ar;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":t=Qe;break;case"topTransitionEnd":t=ur;break;case"topScroll":t=ze;break;case"topWheel":t=cr;break;case"topCopy":case"topCut":case"topPaste":t=tr;break;default:t=ft}return tt(e=t.getPooled(i,e,r,n)),e}},dr=pr.isInteractiveTopLevelEventType,mr=[];function gr(t){var e=t.targetInst;do{if(!e){t.ancestors.push(e);break}var r;for(r=e;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;t.ancestors.push(e),e=K(r)}while(e);for(r=0;r<t.ancestors.length;r++)e=t.ancestors[r],L(t.topLevelType,e,t.nativeEvent,qt(t.nativeEvent))}var vr=!0;function yr(t){vr=!!t}function br(t,e,r){if(!r)return null;t=(dr(t)?_r:kr).bind(null,t),r.addEventListener(e,t,!1)}function wr(t,e,r){if(!r)return null;t=(dr(t)?_r:kr).bind(null,t),r.addEventListener(e,t,!0)}function _r(t,e){Lt(kr,t,e)}function kr(t,e){if(vr){var r=qt(e);if(null!==(r=K(r))&&"number"==typeof r.tag&&2!==Ye(r)&&(r=null),mr.length){var n=mr.pop();n.topLevelType=t,n.nativeEvent=e,n.targetInst=r,t=n}else t={topLevelType:t,nativeEvent:e,targetInst:r,ancestors:[]};try{zt(gr,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>mr.length&&mr.push(t)}}}var Sr=Object.freeze({get _enabled(){return vr},setEnabled:yr,isEnabled:function(){return vr},trapBubbledEvent:br,trapCapturedEvent:wr,dispatchEvent:kr});function xr(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r["ms"+t]="MS"+e,r["O"+t]="o"+e.toLowerCase(),r}var Er={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Cr={},Ar={};function Mr(t){if(Cr[t])return Cr[t];if(!Er[t])return t;var e,r=Er[t];for(e in r)if(r.hasOwnProperty(e)&&e in Ar)return Cr[t]=r[e];return t}o.canUseDOM&&(Ar=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Ir={topAnimationEnd:Mr("animationend"),topAnimationIteration:Mr("animationiteration"),topAnimationStart:Mr("animationstart"),topBlur:"blur",topCancel:"cancel",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoad:"load",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:Mr("transitionend"),topWheel:"wheel"},Tr={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Or={},Br=0,Pr="_reactListenersID"+(""+Math.random()).slice(2);function Nr(t){return Object.prototype.hasOwnProperty.call(t,Pr)||(t[Pr]=Br++,Or[t[Pr]]={}),Or[t[Pr]]}function Rr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fr(t,e){var r,n=Rr(t);for(t=0;n;){if(3===n.nodeType){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Rr(n)}}function jr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&"text"===t.type||"textarea"===e||"true"===t.contentEditable)}var Lr=o.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Dr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},Ur=null,zr=null,Hr=null,Kr=!1;function qr(t,e){if(Kr||null==Ur||Ur!==u())return null;var r=Ur;return"selectionStart"in r&&jr(r)?r={start:r.selectionStart,end:r.selectionEnd}:window.getSelection?r={anchorNode:(r=window.getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}:r=void 0,Hr&&c(Hr,r)?null:(Hr=r,(t=ft.getPooled(Dr.select,zr,t,e)).type="select",t.target=Ur,tt(t),t)}var Vr={eventTypes:Dr,extractEvents:function(t,e,r,n){var i,o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;if(!(i=!o)){t:{o=Nr(o),i=_.onSelect;for(var s=0;s<i.length;s++){var a=i[s];if(!o.hasOwnProperty(a)||!o[a]){o=!1;break t}}o=!0}i=!o}if(i)return null;switch(o=e?q(e):window,t){case"topFocus":(Kt(o)||"true"===o.contentEditable)&&(Ur=o,zr=e,Hr=null);break;case"topBlur":Hr=zr=Ur=null;break;case"topMouseDown":Kr=!0;break;case"topContextMenu":case"topMouseUp":return Kr=!1,qr(r,n);case"topSelectionChange":if(Lr)break;case"topKeyDown":case"topKeyUp":return qr(r,n)}return null}};function Wr(t,e,r,n){this.tag=t,this.key=r,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.ref=null,this.pendingProps=e,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function Gr(t,e,r){var n=t.alternate;return null===n?((n=new Wr(t.tag,e,t.key,t.mode)).type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.expirationTime=r,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yr(t,e,r){var n=t.type,i=t.key;t=t.props;var o=void 0;if("function"==typeof n)o=n.prototype&&n.prototype.isReactComponent?2:0;else if("string"==typeof n)o=5;else switch(n){case ee:return $r(t.children,e,r,i);case oe:o=11,e|=3;break;case re:o=11,e|=2;break;case Jt:o=7;break;case Qt:o=9;break;default:if("object"==typeof n&&null!==n)switch(n.$$typeof){case ne:o=13;break;case ie:o=12;break;case se:o=14;break;default:if("number"==typeof n.tag)return(e=n).pendingProps=t,e.expirationTime=r,e;h("130",null==n?n:typeof n,"")}else h("130",null==n?n:typeof n,"")}return(e=new Wr(o,t,i,e)).type=n,e.expirationTime=r,e}function $r(t,e,r,n){return(t=new Wr(10,t,n,e)).expirationTime=r,t}function Zr(t,e,r){return(t=new Wr(6,t,null,e)).expirationTime=r,t}function Xr(t,e,r){return(e=new Wr(4,null!==t.children?t.children:[],t.key,e)).expirationTime=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}R.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),E=W.getFiberCurrentPropsFromNode,C=W.getInstanceFromNode,A=W.getNodeFromInstance,R.injectEventPluginsByName({SimpleEventPlugin:pr,EnterLeaveEventPlugin:Ge,ChangeEventPlugin:Ue,SelectEventPlugin:Vr,BeforeInputEventPlugin:At});var Jr=null,Qr=null;function tn(t){return function(e){try{return t(e)}catch(t){}}}function en(t){"function"==typeof Jr&&Jr(t)}function rn(t){"function"==typeof Qr&&Qr(t)}function nn(t){return{baseState:t,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1,capturedValues:null}}function on(t,e){null===t.last?t.first=t.last=e:(t.last.next=e,t.last=e),(0===t.expirationTime||t.expirationTime>e.expirationTime)&&(t.expirationTime=e.expirationTime)}new Set;var sn=void 0,an=void 0;function un(t){sn=an=null;var e=t.alternate,r=t.updateQueue;null===r&&(r=t.updateQueue=nn(null)),null!==e?null===(t=e.updateQueue)&&(t=e.updateQueue=nn(null)):t=null,sn=r,an=t!==r?t:null}function cn(t,e){un(t),t=sn;var r=an;null===r?on(t,e):null===t.last||null===r.last?(on(t,e),on(r,e)):(on(t,e),r.last=e)}function fn(t,e,r,n){return"function"==typeof(t=t.partialState)?t.call(e,r,n):t}function ln(t,e,r,n,i,o){null!==t&&t.updateQueue===r&&(r=e.updateQueue={baseState:r.baseState,expirationTime:r.expirationTime,first:r.first,last:r.last,isInitialized:r.isInitialized,capturedValues:r.capturedValues,callbackList:null,hasForceUpdate:!1}),r.expirationTime=0,r.isInitialized?t=r.baseState:(t=r.baseState=e.memoizedState,r.isInitialized=!0);for(var a=!0,u=r.first,c=!1;null!==u;){var f=u.expirationTime;if(f>o){var l=r.expirationTime;(0===l||l>f)&&(r.expirationTime=f),c||(c=!0,r.baseState=t)}else c||(r.first=u.next,null===r.first&&(r.last=null)),u.isReplace?(t=fn(u,n,t,i),a=!0):(f=fn(u,n,t,i))&&(t=a?s({},t,f):s(t,f),a=!1),u.isForced&&(r.hasForceUpdate=!0),null!==u.callback&&(null===(f=r.callbackList)&&(f=r.callbackList=[]),f.push(u)),null!==u.capturedValue&&(null===(f=r.capturedValues)?r.capturedValues=[u.capturedValue]:f.push(u.capturedValue));u=u.next}return null!==r.callbackList?e.effectTag|=32:null!==r.first||r.hasForceUpdate||null!==r.capturedValues||(e.updateQueue=null),c||(r.baseState=t),t}function hn(t,e){var r=t.callbackList;if(null!==r)for(t.callbackList=null,t=0;t<r.length;t++){var n=r[t],i=n.callback;n.callback=null,"function"!=typeof i&&h("191",i),i.call(e)}}var pn=Array.isArray;function dn(t,e,r){if(null!==(t=r.ref)&&"function"!=typeof t&&"object"!=typeof t){if(r._owner){var n=void 0;(r=r._owner)&&(2!==r.tag&&h("110"),n=r.stateNode),n||h("147",t);var i=""+t;return null!==e&&null!==e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=n.refs===l?n.refs={}:n.refs;null===t?delete e[i]:e[i]=t})._stringRef=i,e)}"string"!=typeof t&&h("148"),r._owner||h("254",t)}return t}function mn(t,e){"textarea"!==t.type&&h("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function gn(t){function e(e,r){if(t){var n=e.lastEffect;null!==n?(n.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!t)return null;for(;null!==n;)e(r,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e,r){return(t=Gr(t,e,r)).index=0,t.sibling=null,t}function o(e,r,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<r?(e.effectTag=2,r):n:(e.effectTag=2,r):r}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function a(t,e,r,n){return null===e||6!==e.tag?((e=Zr(r,t.mode,n)).return=t,e):((e=i(e,r,n)).return=t,e)}function u(t,e,r,n){return null!==e&&e.type===r.type?((n=i(e,r.props,n)).ref=dn(t,e,r),n.return=t,n):((n=Yr(r,t.mode,n)).ref=dn(t,e,r),n.return=t,n)}function c(t,e,r,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==r.containerInfo||e.stateNode.implementation!==r.implementation?((e=Xr(r,t.mode,n)).return=t,e):((e=i(e,r.children||[],n)).return=t,e)}function f(t,e,r,n,o){return null===e||10!==e.tag?((e=$r(r,t.mode,n,o)).return=t,e):((e=i(e,r,n)).return=t,e)}function l(t,e,r){if("string"==typeof e||"number"==typeof e)return(e=Zr(""+e,t.mode,r)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case Xt:return(r=Yr(e,t.mode,r)).ref=dn(t,null,e),r.return=t,r;case te:return(e=Xr(e,t.mode,r)).return=t,e}if(pn(e)||ue(e))return(e=$r(e,t.mode,r,null)).return=t,e;mn(t,e)}return null}function p(t,e,r,n){var i=null!==e?e.key:null;if("string"==typeof r||"number"==typeof r)return null!==i?null:a(t,e,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Xt:return r.key===i?r.type===ee?f(t,e,r.props.children,n,i):u(t,e,r,n):null;case te:return r.key===i?c(t,e,r,n):null}if(pn(r)||ue(r))return null!==i?null:f(t,e,r,n,null);mn(t,r)}return null}function d(t,e,r,n,i){if("string"==typeof n||"number"==typeof n)return a(e,t=t.get(r)||null,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Xt:return t=t.get(null===n.key?r:n.key)||null,n.type===ee?f(e,t,n.props.children,i,n.key):u(e,t,n,i);case te:return c(e,t=t.get(null===n.key?r:n.key)||null,n,i)}if(pn(n)||ue(n))return f(e,t=t.get(r)||null,n,i,null);mn(e,n)}return null}function m(i,s,a,u){for(var c=null,f=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=p(i,h,a[m],u);if(null===v){null===h&&(h=g);break}t&&h&&null===v.alternate&&e(i,h),s=o(v,s,m),null===f?c=v:f.sibling=v,f=v,h=g}if(m===a.length)return r(i,h),c;if(null===h){for(;m<a.length;m++)(h=l(i,a[m],u))&&(s=o(h,s,m),null===f?c=h:f.sibling=h,f=h);return c}for(h=n(i,h);m<a.length;m++)(g=d(h,i,m,a[m],u))&&(t&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?c=g:f.sibling=g,f=g);return t&&h.forEach(function(t){return e(i,t)}),c}function g(i,s,a,u){var c=ue(a);"function"!=typeof c&&h("150"),null==(a=c.call(a))&&h("151");for(var f=c=null,m=s,g=s=0,v=null,y=a.next();null!==m&&!y.done;g++,y=a.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(i,m,y.value,u);if(null===b){m||(m=v);break}t&&m&&null===b.alternate&&e(i,m),s=o(b,s,g),null===f?c=b:f.sibling=b,f=b,m=v}if(y.done)return r(i,m),c;if(null===m){for(;!y.done;g++,y=a.next())null!==(y=l(i,y.value,u))&&(s=o(y,s,g),null===f?c=y:f.sibling=y,f=y);return c}for(m=n(i,m);!y.done;g++,y=a.next())null!==(y=d(m,i,g,y.value,u))&&(t&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===f?c=y:f.sibling=y,f=y);return t&&m.forEach(function(t){return e(i,t)}),c}return function(t,n,o,a){"object"==typeof o&&null!==o&&o.type===ee&&null===o.key&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case Xt:t:{var c=o.key;for(u=n;null!==u;){if(u.key===c){if(10===u.tag?o.type===ee:u.type===o.type){r(t,u.sibling),(n=i(u,o.type===ee?o.props.children:o.props,a)).ref=dn(t,u,o),n.return=t,t=n;break t}r(t,u);break}e(t,u),u=u.sibling}o.type===ee?((n=$r(o.props.children,t.mode,a,o.key)).return=t,t=n):((a=Yr(o,t.mode,a)).ref=dn(t,n,o),a.return=t,t=a)}return s(t);case te:t:{for(u=o.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(t,n.sibling),(n=i(n,o.children||[],a)).return=t,t=n;break t}r(t,n);break}e(t,n),n=n.sibling}(n=Xr(o,t.mode,a)).return=t,t=n}return s(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==n&&6===n.tag?(r(t,n.sibling),(n=i(n,o,a)).return=t,t=n):(r(t,n),(n=Zr(o,t.mode,a)).return=t,t=n),s(t);if(pn(o))return m(t,n,o,a);if(ue(o))return g(t,n,o,a);if(u&&mn(t,o),void 0===o)switch(t.tag){case 2:case 1:h("152",(a=t.type).displayName||a.name||"Component")}return r(t,n)}}var vn=gn(!0),yn=gn(!1);function bn(t,e,r,n,i,o,a){function u(t,e,r){f(t,e,r,e.expirationTime)}function f(t,e,r,n){e.child=null===t?yn(e,null,r,n):vn(e,t.child,r,n)}function p(t,e){var r=e.ref;(null===t&&null!==r||null!==t&&t.ref!==r)&&(e.effectTag|=128)}function d(t,e,r,n,i,o){if(p(t,e),!r&&!i)return n&&M(e,!1),v(t,e);r=e.stateNode,$t.current=e;var s=i?null:r.render();return e.effectTag|=1,i&&(f(t,e,null,o),e.child=null),f(t,e,s,o),e.memoizedState=r.state,e.memoizedProps=r.props,n&&M(e,!0),e.child}function m(t){var e=t.stateNode;e.pendingContext?A(t,e.pendingContext,e.pendingContext!==e.context):e.context&&A(t,e.context,!1),_(t,e.containerInfo)}function g(t,e,r,n){var i=t.child;for(null!==i&&(i.return=t);null!==i;){switch(i.tag){case 12:var o=0|i.stateNode;if(i.type===e&&0!=(o&r)){for(o=i;null!==o;){var s=o.alternate;if(0===o.expirationTime||o.expirationTime>n)o.expirationTime=n,null!==s&&(0===s.expirationTime||s.expirationTime>n)&&(s.expirationTime=n);else{if(null===s||!(0===s.expirationTime||s.expirationTime>n))break;s.expirationTime=n}o=o.return}o=null}else o=i.child;break;case 13:o=i.type===t.type?null:i.child;break;default:o=i.child}if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){o=i;break}o=o.return}i=o}}function v(t,e){if(null!==t&&e.child!==t.child&&h("153"),null!==e.child){var r=Gr(t=e.child,t.pendingProps,t.expirationTime);for(e.child=r,r.return=e;null!==t.sibling;)t=t.sibling,(r=r.sibling=Gr(t,t.pendingProps,t.expirationTime)).return=e;r.sibling=null}return e.child}var y=t.shouldSetTextContent,b=t.shouldDeprioritizeSubtree,w=e.pushHostContext,_=e.pushHostContainer,k=n.pushProvider,S=r.getMaskedContext,x=r.getUnmaskedContext,E=r.hasContextChanged,C=r.pushContextProvider,A=r.pushTopLevelContextObject,M=r.invalidateContextProvider,I=i.enterHydrationState,T=i.resetHydrationState,O=i.tryToClaimNextHydratableInstance,B=(t=function(t,e,r,n,i){function o(t,e,r,n,i,o){if(null===e||null!==t.updateQueue&&t.updateQueue.hasForceUpdate)return!0;var s=t.stateNode;return t=t.type,"function"==typeof s.shouldComponentUpdate?s.shouldComponentUpdate(r,i,o):!(t.prototype&&t.prototype.isPureReactComponent&&c(e,r)&&c(n,i))}function a(t,e){e.updater=v,t.stateNode=e,e._reactInternalFiber=t}function u(t,e,r,n){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(r,n),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&v.enqueueReplaceState(e,e.state,null)}function f(t,e,r,n){if("function"==typeof(t=t.type).getDerivedStateFromProps)return t.getDerivedStateFromProps.call(null,r,n)}var h=t.cacheContext,p=t.getMaskedContext,d=t.getUnmaskedContext,m=t.isContextConsumer,g=t.hasContextChanged,v={isMounted:$e,enqueueSetState:function(t,n,i){t=t._reactInternalFiber,i=void 0===i?null:i;var o=r(t);cn(t,{expirationTime:o,partialState:n,callback:i,isReplace:!1,isForced:!1,capturedValue:null,next:null}),e(t,o)},enqueueReplaceState:function(t,n,i){t=t._reactInternalFiber,i=void 0===i?null:i;var o=r(t);cn(t,{expirationTime:o,partialState:n,callback:i,isReplace:!0,isForced:!1,capturedValue:null,next:null}),e(t,o)},enqueueForceUpdate:function(t,n){t=t._reactInternalFiber,n=void 0===n?null:n;var i=r(t);cn(t,{expirationTime:i,partialState:null,callback:n,isReplace:!1,isForced:!0,capturedValue:null,next:null}),e(t,i)}};return{adoptClassInstance:a,callGetDerivedStateFromProps:f,constructClassInstance:function(t,e){var r=t.type,n=d(t),i=m(t),o=i?p(t,n):l,u=null!==(r=new r(e,o)).state&&void 0!==r.state?r.state:null;return a(t,r),t.memoizedState=u,null!==(e=f(t,0,e,u))&&void 0!==e&&(t.memoizedState=s({},t.memoizedState,e)),i&&h(t,n,o),r},mountClassInstance:function(t,e){var r=t.type,n=t.alternate,i=t.stateNode,o=t.pendingProps,s=d(t);i.props=o,i.state=t.memoizedState,i.refs=l,i.context=p(t,s),"function"==typeof r.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(r=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),r!==i.state&&v.enqueueReplaceState(i,i.state,null),null!==(r=t.updateQueue)&&(i.state=ln(n,t,r,i,o,e))),"function"==typeof i.componentDidMount&&(t.effectTag|=4)},resumeMountClassInstance:function(t,e){var r=t.type,a=t.stateNode;a.props=t.memoizedProps,a.state=t.memoizedState;var c=t.memoizedProps,l=t.pendingProps,h=a.context,m=d(t);m=p(t,m),(r="function"==typeof r.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(c!==l||h!==m)&&u(t,a,l,m),h=t.memoizedState,e=null!==t.updateQueue?ln(null,t,t.updateQueue,a,l,e):h;var v=void 0;if(c!==l&&(v=f(t,0,l,e)),null!==v&&void 0!==v){e=null===e||void 0===e?v:s({},e,v);var y=t.updateQueue;null!==y&&(y.baseState=s({},y.baseState,v))}return c!==l||h!==e||g()||null!==t.updateQueue&&t.updateQueue.hasForceUpdate?((c=o(t,c,l,h,e,m))?(r||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),n(t,l),i(t,e)),a.props=l,a.state=e,a.context=m,c):("function"==typeof a.componentDidMount&&(t.effectTag|=4),!1)},updateClassInstance:function(t,e,r){var a=e.type,c=e.stateNode;c.props=e.memoizedProps,c.state=e.memoizedState;var l=e.memoizedProps,h=e.pendingProps,m=c.context,v=d(e);v=p(e,v),(a="function"==typeof a.getDerivedStateFromProps||"function"==typeof c.getSnapshotBeforeUpdate)||"function"!=typeof c.UNSAFE_componentWillReceiveProps&&"function"!=typeof c.componentWillReceiveProps||(l!==h||m!==v)&&u(e,c,h,v),m=e.memoizedState,r=null!==e.updateQueue?ln(t,e,e.updateQueue,c,h,r):m;var y=void 0;if(l!==h&&(y=f(e,0,h,r)),null!==y&&void 0!==y){r=null===r||void 0===r?y:s({},r,y);var b=e.updateQueue;null!==b&&(b.baseState=s({},b.baseState,y))}return l!==h||m!==r||g()||null!==e.updateQueue&&e.updateQueue.hasForceUpdate?((y=o(e,l,h,m,r,v))?(a||"function"!=typeof c.UNSAFE_componentWillUpdate&&"function"!=typeof c.componentWillUpdate||("function"==typeof c.componentWillUpdate&&c.componentWillUpdate(h,r,v),"function"==typeof c.UNSAFE_componentWillUpdate&&c.UNSAFE_componentWillUpdate(h,r,v)),"function"==typeof c.componentDidUpdate&&(e.effectTag|=4),"function"==typeof c.getSnapshotBeforeUpdate&&(e.effectTag|=2048)):("function"!=typeof c.componentDidUpdate||l===t.memoizedProps&&m===t.memoizedState||(e.effectTag|=4),"function"!=typeof c.getSnapshotBeforeUpdate||l===t.memoizedProps&&m===t.memoizedState||(e.effectTag|=2048),n(e,h),i(e,r)),c.props=h,c.state=r,c.context=v,y):("function"!=typeof c.componentDidUpdate||l===t.memoizedProps&&m===t.memoizedState||(e.effectTag|=4),"function"!=typeof c.getSnapshotBeforeUpdate||l===t.memoizedProps&&m===t.memoizedState||(e.effectTag|=2048),!1)}}}(r,o,a,function(t,e){t.memoizedProps=e},function(t,e){t.memoizedState=e})).adoptClassInstance,P=t.callGetDerivedStateFromProps,N=t.constructClassInstance,R=t.mountClassInstance,F=t.resumeMountClassInstance,j=t.updateClassInstance;return{beginWork:function(t,e,r){if(0===e.expirationTime||e.expirationTime>r){switch(e.tag){case 3:m(e);break;case 2:C(e);break;case 4:_(e,e.stateNode.containerInfo);break;case 13:k(e)}return null}switch(e.tag){case 0:null!==t&&h("155");var n=e.type,i=e.pendingProps,o=x(e);return n=n(i,o=S(e,o)),e.effectTag|=1,"object"==typeof n&&null!==n&&"function"==typeof n.render&&void 0===n.$$typeof?(o=e.type,e.tag=2,e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,"function"==typeof o.getDerivedStateFromProps&&(null!==(i=P(e,n,i,e.memoizedState))&&void 0!==i&&(e.memoizedState=s({},e.memoizedState,i))),i=C(e),B(e,n),R(e,r),t=d(t,e,!0,i,!1,r)):(e.tag=1,u(t,e,n),e.memoizedProps=i,t=e.child),t;case 1:return i=e.type,r=e.pendingProps,E()||e.memoizedProps!==r?(n=x(e),i=i(r,n=S(e,n)),e.effectTag|=1,u(t,e,i),e.memoizedProps=r,t=e.child):t=v(t,e),t;case 2:i=C(e),null===t?null===e.stateNode?(N(e,e.pendingProps),R(e,r),n=!0):n=F(e,r):n=j(t,e,r),o=!1;var a=e.updateQueue;return null!==a&&null!==a.capturedValues&&(o=n=!0),d(t,e,n,i,o,r);case 3:t:if(m(e),n=e.updateQueue,null!==n){if(o=e.memoizedState,i=ln(t,e,n,null,null,r),e.memoizedState=i,null!==(n=e.updateQueue)&&null!==n.capturedValues)n=null;else{if(o===i){T(),t=v(t,e);break t}n=i.element}o=e.stateNode,(null===t||null===t.child)&&o.hydrate&&I(e)?(e.effectTag|=2,e.child=yn(e,null,n,r)):(T(),u(t,e,n)),e.memoizedState=i,t=e.child}else T(),t=v(t,e);return t;case 5:return w(e),null===t&&O(e),i=e.type,a=e.memoizedProps,n=e.pendingProps,o=null!==t?t.memoizedProps:null,E()||a!==n||((a=1&e.mode&&b(i,n))&&(e.expirationTime=1073741823),a&&1073741823===r)?(a=n.children,y(i,n)?a=null:o&&y(i,o)&&(e.effectTag|=16),p(t,e),1073741823!==r&&1&e.mode&&b(i,n)?(e.expirationTime=1073741823,e.memoizedProps=n,t=null):(u(t,e,a),e.memoizedProps=n,t=e.child)):t=v(t,e),t;case 6:return null===t&&O(e),e.memoizedProps=e.pendingProps,null;case 8:e.tag=7;case 7:return i=e.pendingProps,E()||e.memoizedProps!==i||(i=e.memoizedProps),n=i.children,e.stateNode=null===t?yn(e,e.stateNode,n,r):vn(e,t.stateNode,n,r),e.memoizedProps=i,e.stateNode;case 9:return null;case 4:return _(e,e.stateNode.containerInfo),i=e.pendingProps,E()||e.memoizedProps!==i?(null===t?e.child=vn(e,null,i,r):u(t,e,i),e.memoizedProps=i,t=e.child):t=v(t,e),t;case 14:return u(t,e,r=(r=e.type.render)(e.pendingProps,e.ref)),e.memoizedProps=r,e.child;case 10:return r=e.pendingProps,E()||e.memoizedProps!==r?(u(t,e,r),e.memoizedProps=r,t=e.child):t=v(t,e),t;case 11:return r=e.pendingProps.children,E()||null!==r&&e.memoizedProps!==r?(u(t,e,r),e.memoizedProps=r,t=e.child):t=v(t,e),t;case 13:return function(t,e,r){var n=e.type._context,i=e.pendingProps,o=e.memoizedProps;if(!E()&&o===i)return e.stateNode=0,k(e),v(t,e);var s=i.value;if(e.memoizedProps=i,null===o)s=1073741823;else if(o.value===i.value){if(o.children===i.children)return e.stateNode=0,k(e),v(t,e);s=0}else{var a=o.value;if(a===s&&(0!==a||1/a==1/s)||a!=a&&s!=s){if(o.children===i.children)return e.stateNode=0,k(e),v(t,e);s=0}else if(s="function"==typeof n._calculateChangedBits?n._calculateChangedBits(a,s):1073741823,0==(s|=0)){if(o.children===i.children)return e.stateNode=0,k(e),v(t,e)}else g(e,n,s,r)}return e.stateNode=s,k(e),u(t,e,i.children),e.child}(t,e,r);case 12:t:{n=e.type,o=e.pendingProps,a=e.memoizedProps,i=n._currentValue;var c=n._changedBits;if(E()||0!==c||a!==o){e.memoizedProps=o;var f=o.unstable_observedBits;if(void 0!==f&&null!==f||(f=1073741823),e.stateNode=f,0!=(c&f))g(e,n,c,r);else if(a===o){t=v(t,e);break t}u(t,e,r=(r=o.children)(i)),t=e.child}else t=v(t,e)}return t;default:h("156")}}}}function wn(t,e){var r=e.source;null===e.stack&&fe(r),null!==r&&ce(r),e=e.value,null!==t&&2===t.tag&&ce(t);try{e&&e.suppressReactErrorLogging||console.error(e)}catch(t){t&&t.suppressReactErrorLogging||console.error(t)}}var _n={};function kn(t){function e(){if(null!==tt)for(var t=tt.return;null!==t;)N(t),t=t.return;et=null,rt=0,tt=null,ot=!1}function r(t){return null!==st&&st.has(t)}function n(t){for(;;){var e=t.alternate,r=t.return,n=t.sibling;if(0==(512&t.effectTag)){e=O(e,t,rt);var i=t;if(1073741823===rt||1073741823!==i.expirationTime){t:switch(i.tag){case 3:case 2:var o=i.updateQueue;o=null===o?0:o.expirationTime;break t;default:o=0}for(var s=i.child;null!==s;)0!==s.expirationTime&&(0===o||o>s.expirationTime)&&(o=s.expirationTime),s=s.sibling;i.expirationTime=o}if(null!==e)return e;if(null!==r&&0==(512&r.effectTag)&&(null===r.firstEffect&&(r.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==r.lastEffect&&(r.lastEffect.nextEffect=t.firstEffect),r.lastEffect=t.lastEffect),1<t.effectTag&&(null!==r.lastEffect?r.lastEffect.nextEffect=t:r.firstEffect=t,r.lastEffect=t)),null!==n)return n;if(null===r){ot=!0;break}t=r}else{if(null!==(t=P(t)))return t.effectTag&=2559,t;if(null!==r&&(r.firstEffect=r.lastEffect=null,r.effectTag|=512),null!==n)return n;if(null===r)break;t=r}}return null}function i(t){var e=T(t.alternate,t,rt);return null===e&&(e=n(t)),$t.current=null,e}function o(t,r,o){Q&&h("243"),Q=!0,r===rt&&t===et&&null!==tt||(e(),rt=r,tt=Gr((et=t).current,null,rt),t.pendingCommitExpirationTime=0);for(var s=!1;;){try{if(o)for(;null!==tt&&!x();)tt=i(tt);else for(;null!==tt;)tt=i(tt)}catch(t){if(null===tt){s=!0,E(t);break}var a=(o=tt).return;if(null===a){s=!0,E(t);break}B(a,o,t),tt=n(o)}break}return Q=!1,s||null!==tt?null:ot?(t.pendingCommitExpirationTime=r,t.current.alternate):void h("262")}function a(t,e,r,n){cn(e,{expirationTime:n,partialState:null,callback:null,isReplace:!1,isForced:!1,capturedValue:t={value:r,source:t,stack:fe(t)},next:null}),f(e,n)}function u(t,e){t:{Q&&!it&&h("263");for(var n=t.return;null!==n;){switch(n.tag){case 2:var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromCatch||"function"==typeof i.componentDidCatch&&!r(i)){a(t,n,e,1),t=void 0;break t}break;case 3:a(t,n,e,1),t=void 0;break t}n=n.return}3===t.tag&&a(t,t,e,1),t=void 0}return t}function c(t){return t=0!==J?J:Q?it?1:rt:1&t.mode?_t?10*(1+((p()+15)/10|0)):25*(1+((p()+500)/25|0)):1,_t&&(0===dt||t>dt)&&(dt=t),t}function f(t,r){t:{for(;null!==t;){if((0===t.expirationTime||t.expirationTime>r)&&(t.expirationTime=r),null!==t.alternate&&(0===t.alternate.expirationTime||t.alternate.expirationTime>r)&&(t.alternate.expirationTime=r),null===t.return){if(3!==t.tag){r=void 0;break t}var n=t.stateNode;!Q&&0!==rt&&r<rt&&e(),Q&&!it&&et===n||g(n,r),xt>St&&h("185")}t=t.return}r=void 0}return r}function p(){return Z=q()-$,2+(Z/10|0)}function d(t,e,r,n,i){var o=J;J=1;try{return t(e,r,n,i)}finally{J=o}}function m(t){if(0!==ct){if(t>ct)return;W(ft)}var e=q()-$;ct=t,ft=V(y,{timeout:10*(t-2)-e})}function g(t,e){if(null===t.nextScheduledRoot)t.remainingExpirationTime=e,null===ut?(at=ut=t,t.nextScheduledRoot=t):(ut=ut.nextScheduledRoot=t).nextScheduledRoot=at;else{var r=t.remainingExpirationTime;(0===r||e<r)&&(t.remainingExpirationTime=e)}lt||(bt?wt&&(ht=t,pt=1,k(t,1,!1)):1===e?b():m(e))}function v(){var t=0,e=null;if(null!==ut)for(var r=ut,n=at;null!==n;){var i=n.remainingExpirationTime;if(0===i){if((null===r||null===ut)&&h("244"),n===n.nextScheduledRoot){at=ut=n.nextScheduledRoot=null;break}if(n===at)at=i=n.nextScheduledRoot,ut.nextScheduledRoot=i,n.nextScheduledRoot=null;else{if(n===ut){(ut=r).nextScheduledRoot=at,n.nextScheduledRoot=null;break}r.nextScheduledRoot=n.nextScheduledRoot,n.nextScheduledRoot=null}n=r.nextScheduledRoot}else{if((0===t||i<t)&&(t=i,e=n),n===ut)break;r=n,n=n.nextScheduledRoot}}null!==(r=ht)&&r===e&&1===t?xt++:xt=0,ht=e,pt=t}function y(t){w(0,!0,t)}function b(){w(1,!1,null)}function w(t,e,r){if(yt=r,v(),e)for(;null!==ht&&0!==pt&&(0===t||t>=pt)&&(!mt||p()>=pt);)k(ht,pt,!mt),v();else for(;null!==ht&&0!==pt&&(0===t||t>=pt);)k(ht,pt,!1),v();null!==yt&&(ct=0,ft=-1),0!==pt&&m(pt),yt=null,mt=!1,_()}function _(){if(xt=0,null!==kt){var t=kt;kt=null;for(var e=0;e<t.length;e++){var r=t[e];try{r._onComplete()}catch(t){gt||(gt=!0,vt=t)}}}if(gt)throw t=vt,vt=null,gt=!1,t}function k(t,e,r){lt&&h("245"),lt=!0,r?null!==(r=t.finishedWork)?S(t,r,e):(t.finishedWork=null,null!==(r=o(t,e,!0))&&(x()?t.finishedWork=r:S(t,r,e))):null!==(r=t.finishedWork)?S(t,r,e):(t.finishedWork=null,null!==(r=o(t,e,!1))&&S(t,r,e)),lt=!1}function S(t,e,r){var n=t.firstBatch;if(null!==n&&n._expirationTime<=r&&(null===kt?kt=[n]:kt.push(n),n._defer))return t.finishedWork=e,void(t.remainingExpirationTime=0);t.finishedWork=null,it=Q=!0,(r=e.stateNode).current===e&&h("177"),0===(n=r.pendingCommitExpirationTime)&&h("261"),r.pendingCommitExpirationTime=0;var i=p();if($t.current=null,1<e.effectTag)if(null!==e.lastEffect){e.lastEffect.nextEffect=e;var o=e.firstEffect}else o=e;else o=e.firstEffect;for(G(r.containerInfo),nt=o;null!==nt;){var s=!1,a=void 0;try{for(;null!==nt;)2048&nt.effectTag&&R(nt.alternate,nt),nt=nt.nextEffect}catch(t){s=!0,a=t}s&&(null===nt&&h("178"),u(nt,a),null!==nt&&(nt=nt.nextEffect))}for(nt=o;null!==nt;){s=!1,a=void 0;try{for(;null!==nt;){var c=nt.effectTag;if(16&c&&F(nt),128&c){var f=nt.alternate;null!==f&&K(f)}switch(14&c){case 2:j(nt),nt.effectTag&=-3;break;case 6:j(nt),nt.effectTag&=-3,D(nt.alternate,nt);break;case 4:D(nt.alternate,nt);break;case 8:L(nt)}nt=nt.nextEffect}}catch(t){s=!0,a=t}s&&(null===nt&&h("178"),u(nt,a),null!==nt&&(nt=nt.nextEffect))}for(Y(r.containerInfo),r.current=e,nt=o;null!==nt;){c=!1,f=void 0;try{for(o=r,s=i,a=n;null!==nt;){var l=nt.effectTag;36&l&&U(o,nt.alternate,nt,s,a),256&l&&z(nt,E),128&l&&H(nt);var d=nt.nextEffect;nt.nextEffect=null,nt=d}}catch(t){c=!0,f=t}c&&(null===nt&&h("178"),u(nt,f),null!==nt&&(nt=nt.nextEffect))}Q=it=!1,en(e.stateNode),0===(e=r.current.expirationTime)&&(st=null),t.remainingExpirationTime=e}function x(){return!(null===yt||yt.timeRemaining()>Et)&&(mt=!0)}function E(t){null===ht&&h("246"),ht.remainingExpirationTime=0,gt||(gt=!0,vt=t)}var C=function(){var t=[],e=-1;return{createCursor:function(t){return{current:t}},isEmpty:function(){return-1===e},pop:function(r){0>e||(r.current=t[e],t[e]=null,e--)},push:function(r,n){t[++e]=r.current,r.current=n},checkThatStackIsEmpty:function(){},resetStackAfterFatalErrorInDev:function(){}}}(),A=function(t,e){function r(t){return t===_n&&h("174"),t}var n=t.getChildHostContext,i=t.getRootHostContext;t=e.createCursor;var o=e.push,s=e.pop,a=t(_n),u=t(_n),c=t(_n);return{getHostContext:function(){return r(a.current)},getRootHostContainer:function(){return r(c.current)},popHostContainer:function(t){s(a,t),s(u,t),s(c,t)},popHostContext:function(t){u.current===t&&(s(a,t),s(u,t))},pushHostContainer:function(t,e){o(c,e,t),o(u,t,t),o(a,_n,t),e=i(e),s(a,t),o(a,e,t)},pushHostContext:function(t){var e=r(c.current),i=r(a.current);i!==(e=n(i,t.type,e))&&(o(u,t,t),o(a,e,t))}}}(t,C),M=function(t){function e(t,e,r){(t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r}function r(t){return 2===t.tag&&null!=t.type.childContextTypes}function n(t,e){var r=t.stateNode,n=t.type.childContextTypes;if("function"!=typeof r.getChildContext)return e;for(var i in r=r.getChildContext())i in n||h("108",ce(t)||"Unknown",i);return s({},e,r)}var i=t.createCursor,o=t.push,a=t.pop,u=i(l),c=i(!1),f=l;return{getUnmaskedContext:function(t){return r(t)?f:u.current},cacheContext:e,getMaskedContext:function(t,r){var n=t.type.contextTypes;if(!n)return l;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===r)return i.__reactInternalMemoizedMaskedChildContext;var o,s={};for(o in n)s[o]=r[o];return i&&e(t,r,s),s},hasContextChanged:function(){return c.current},isContextConsumer:function(t){return 2===t.tag&&null!=t.type.contextTypes},isContextProvider:r,popContextProvider:function(t){r(t)&&(a(c,t),a(u,t))},popTopLevelContextObject:function(t){a(c,t),a(u,t)},pushTopLevelContextObject:function(t,e,r){null!=u.cursor&&h("168"),o(u,e,t),o(c,r,t)},processChildContext:n,pushContextProvider:function(t){if(!r(t))return!1;var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||l,f=u.current,o(u,e,t),o(c,c.current,t),!0},invalidateContextProvider:function(t,e){var r=t.stateNode;if(r||h("169"),e){var i=n(t,f);r.__reactInternalMemoizedMergedChildContext=i,a(c,t),a(u,t),o(u,i,t)}else a(c,t);o(c,e,t)},findCurrentUnmaskedContext:function(t){for((2!==Ye(t)||2!==t.tag)&&h("170");3!==t.tag;){if(r(t))return t.stateNode.__reactInternalMemoizedMergedChildContext;(t=t.return)||h("171")}return t.stateNode.context}}}(C);C=function(t){var e=t.createCursor,r=t.push,n=t.pop,i=e(null),o=e(null),s=e(0);return{pushProvider:function(t){var e=t.type._context;r(s,e._changedBits,t),r(o,e._currentValue,t),r(i,t,t),e._currentValue=t.pendingProps.value,e._changedBits=t.stateNode},popProvider:function(t){var e=s.current,r=o.current;n(i,t),n(o,t),n(s,t),(t=t.type._context)._currentValue=r,t._changedBits=e}}}(C);var I=function(t){function e(t,e){var r=new Wr(5,null,null,0);r.type="DELETED",r.stateNode=e,r.return=t,r.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function r(t,e){switch(t.tag){case 5:return null!==(e=o(e,t.type,t.pendingProps))&&(t.stateNode=e,!0);case 6:return null!==(e=s(e,t.pendingProps))&&(t.stateNode=e,!0);default:return!1}}function n(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag;)t=t.return;l=t}var i=t.shouldSetTextContent;if(!(t=t.hydration))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){h("175")},prepareToHydrateHostTextInstance:function(){h("176")},popHydrationState:function(){return!1}};var o=t.canHydrateInstance,s=t.canHydrateTextInstance,a=t.getNextHydratableSibling,u=t.getFirstHydratableChild,c=t.hydrateInstance,f=t.hydrateTextInstance,l=null,p=null,d=!1;return{enterHydrationState:function(t){return p=u(t.stateNode.containerInfo),l=t,d=!0},resetHydrationState:function(){p=l=null,d=!1},tryToClaimNextHydratableInstance:function(t){if(d){var n=p;if(n){if(!r(t,n)){if(!(n=a(n))||!r(t,n))return t.effectTag|=2,d=!1,void(l=t);e(l,p)}l=t,p=u(n)}else t.effectTag|=2,d=!1,l=t}},prepareToHydrateHostInstance:function(t,e,r){return e=c(t.stateNode,t.type,t.memoizedProps,e,r,t),t.updateQueue=e,null!==e},prepareToHydrateHostTextInstance:function(t){return f(t.stateNode,t.memoizedProps,t)},popHydrationState:function(t){if(t!==l)return!1;if(!d)return n(t),d=!0,!1;var r=t.type;if(5!==t.tag||"head"!==r&&"body"!==r&&!i(r,t.memoizedProps))for(r=p;r;)e(t,r),r=a(r);return n(t),p=l?a(t.stateNode):null,!0}}}(t),T=bn(t,A,M,C,I,f,c).beginWork,O=function(t,e,r,n,i){function o(t){t.effectTag|=4}var s=t.createInstance,a=t.createTextInstance,u=t.appendInitialChild,c=t.finalizeInitialChildren,f=t.prepareUpdate,l=t.persistence,p=e.getRootHostContainer,d=e.popHostContext,m=e.getHostContext,g=e.popHostContainer,v=r.popContextProvider,y=r.popTopLevelContextObject,b=n.popProvider,w=i.prepareToHydrateHostInstance,_=i.prepareToHydrateHostTextInstance,k=i.popHydrationState,S=void 0,x=void 0,E=void 0;return t.mutation?(S=function(){},x=function(t,e,r){(e.updateQueue=r)&&o(e)},E=function(t,e,r,n){r!==n&&o(e)}):h(l?"235":"236"),{completeWork:function(t,e,r){var n=e.pendingProps;switch(e.tag){case 1:return null;case 2:return v(e),t=e.stateNode,null!==(n=e.updateQueue)&&null!==n.capturedValues&&(e.effectTag&=-65,"function"==typeof t.componentDidCatch?e.effectTag|=256:n.capturedValues=null),null;case 3:return g(e),y(e),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(k(e),e.effectTag&=-3),S(e),null!==(t=e.updateQueue)&&null!==t.capturedValues&&(e.effectTag|=256),null;case 5:d(e),r=p();var i=e.type;if(null!==t&&null!=e.stateNode){var l=t.memoizedProps,C=e.stateNode,A=m();C=f(C,i,l,n,r,A),x(t,e,C,i,l,n,r,A),t.ref!==e.ref&&(e.effectTag|=128)}else{if(!n)return null===e.stateNode&&h("166"),null;if(t=m(),k(e))w(e,r,t)&&o(e);else{l=s(i,n,r,t,e);t:for(A=e.child;null!==A;){if(5===A.tag||6===A.tag)u(l,A.stateNode);else if(4!==A.tag&&null!==A.child){A.child.return=A,A=A.child;continue}if(A===e)break;for(;null===A.sibling;){if(null===A.return||A.return===e)break t;A=A.return}A.sibling.return=A.return,A=A.sibling}c(l,i,n,r,t)&&o(e),e.stateNode=l}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)E(t,e,t.memoizedProps,n);else{if("string"!=typeof n)return null===e.stateNode&&h("166"),null;t=p(),r=m(),k(e)?_(e)&&o(e):e.stateNode=a(n,t,r,e)}return null;case 7:(n=e.memoizedProps)||h("165"),e.tag=8,i=[];t:for((l=e.stateNode)&&(l.return=e);null!==l;){if(5===l.tag||6===l.tag||4===l.tag)h("247");else if(9===l.tag)i.push(l.pendingProps.value);else if(null!==l.child){l.child.return=l,l=l.child;continue}for(;null===l.sibling;){if(null===l.return||l.return===e)break t;l=l.return}l.sibling.return=l.return,l=l.sibling}return n=(l=n.handler)(n.props,i),e.child=vn(e,null!==t?t.child:null,n,r),e.child;case 8:return e.tag=7,null;case 9:case 14:case 10:case 11:return null;case 4:return g(e),S(e),null;case 13:return b(e),null;case 12:return null;case 0:h("167");default:h("156")}}}}(t,A,M,C,I).completeWork,B=(A=function(t,e,r,n,i){var o=t.popHostContainer,s=t.popHostContext,a=e.popContextProvider,u=e.popTopLevelContextObject,c=r.popProvider;return{throwException:function(t,e,r){e.effectTag|=512,e.firstEffect=e.lastEffect=null,e={value:r,source:e,stack:fe(e)};do{switch(t.tag){case 3:return un(t),t.updateQueue.capturedValues=[e],void(t.effectTag|=1024);case 2:if(r=t.stateNode,0==(64&t.effectTag)&&null!==r&&"function"==typeof r.componentDidCatch&&!i(r)){un(t);var n=(r=t.updateQueue).capturedValues;return null===n?r.capturedValues=[e]:n.push(e),void(t.effectTag|=1024)}}t=t.return}while(null!==t)},unwindWork:function(t){switch(t.tag){case 2:a(t);var e=t.effectTag;return 1024&e?(t.effectTag=-1025&e|64,t):null;case 3:return o(t),u(t),1024&(e=t.effectTag)?(t.effectTag=-1025&e|64,t):null;case 5:return s(t),null;case 4:return o(t),null;case 13:return c(t),null;default:return null}},unwindInterruptedWork:function(t){switch(t.tag){case 2:a(t);break;case 3:o(t),u(t);break;case 5:s(t);break;case 4:o(t);break;case 13:c(t)}}}}(A,M,C,0,r)).throwException,P=A.unwindWork,N=A.unwindInterruptedWork,R=(A=function(t,e,r,n,i){function o(t){var r=t.ref;if(null!==r)if("function"==typeof r)try{r(null)}catch(r){e(t,r)}else r.current=null}function s(t){switch(rn(t),t.tag){case 2:o(t);var r=t.stateNode;if("function"==typeof r.componentWillUnmount)try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(r){e(t,r)}break;case 5:o(t);break;case 7:a(t.stateNode);break;case 4:l&&c(t)}}function a(t){for(var e=t;;)if(s(e),null===e.child||l&&4===e.tag){if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}else e.child.return=e,e=e.child}function u(t){return 5===t.tag||3===t.tag||4===t.tag}function c(t){for(var e=t,r=!1,n=void 0,i=void 0;;){if(!r){r=e.return;t:for(;;){switch(null===r&&h("160"),r.tag){case 5:n=r.stateNode,i=!1;break t;case 3:case 4:n=r.stateNode.containerInfo,i=!0;break t}r=r.return}r=!0}if(5===e.tag||6===e.tag)a(e),i?k(n,e.stateNode):_(n,e.stateNode);else if(4===e.tag?n=e.stateNode.containerInfo:s(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;4===(e=e.return).tag&&(r=!1)}e.sibling.return=e.return,e=e.sibling}}var f=t.getPublicInstance,l=t.mutation;t=t.persistence,l||h(t?"235":"236");var p=l.commitMount,d=l.commitUpdate,m=l.resetTextContent,g=l.commitTextUpdate,v=l.appendChild,y=l.appendChildToContainer,b=l.insertBefore,w=l.insertInContainerBefore,_=l.removeChild,k=l.removeChildFromContainer;return{commitBeforeMutationLifeCycles:function(t,e){switch(e.tag){case 2:if(2048&e.effectTag&&null!==t){var r=t.memoizedProps,n=t.memoizedState;(t=e.stateNode).props=e.memoizedProps,t.state=e.memoizedState,e=t.getSnapshotBeforeUpdate(r,n),t.__reactInternalSnapshotBeforeUpdate=e}break;case 3:case 5:case 6:case 4:break;default:h("163")}},commitResetTextContent:function(t){m(t.stateNode)},commitPlacement:function(t){t:{for(var e=t.return;null!==e;){if(u(e)){var r=e;break t}e=e.return}h("160"),r=void 0}var n=e=void 0;switch(r.tag){case 5:e=r.stateNode,n=!1;break;case 3:case 4:e=r.stateNode.containerInfo,n=!0;break;default:h("161")}16&r.effectTag&&(m(e),r.effectTag&=-17);t:e:for(r=t;;){for(;null===r.sibling;){if(null===r.return||u(r.return)){r=null;break t}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag;){if(2&r.effectTag)continue e;if(null===r.child||4===r.tag)continue e;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break t}}for(var i=t;;){if(5===i.tag||6===i.tag)r?n?w(e,i.stateNode,r):b(e,i.stateNode,r):n?y(e,i.stateNode):v(e,i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},commitDeletion:function(t){c(t),t.return=null,t.child=null,t.alternate&&(t.alternate.child=null,t.alternate.return=null)},commitWork:function(t,e){switch(e.tag){case 2:break;case 5:var r=e.stateNode;if(null!=r){var n=e.memoizedProps;t=null!==t?t.memoizedProps:n;var i=e.type,o=e.updateQueue;e.updateQueue=null,null!==o&&d(r,o,i,t,n,e)}break;case 6:null===e.stateNode&&h("162"),r=e.memoizedProps,g(e.stateNode,null!==t?t.memoizedProps:r,r);break;case 3:break;default:h("163")}},commitLifeCycles:function(t,e,r){switch(r.tag){case 2:if(t=r.stateNode,4&r.effectTag)if(null===e)t.props=r.memoizedProps,t.state=r.memoizedState,t.componentDidMount();else{var n=e.memoizedProps;e=e.memoizedState,t.props=r.memoizedProps,t.state=r.memoizedState,t.componentDidUpdate(n,e,t.__reactInternalSnapshotBeforeUpdate)}null!==(r=r.updateQueue)&&hn(r,t);break;case 3:if(null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 5:t=f(r.child.stateNode);break;case 2:t=r.child.stateNode}hn(e,t)}break;case 5:t=r.stateNode,null===e&&4&r.effectTag&&p(t,r.type,r.memoizedProps,r);break;case 6:case 4:break;default:h("163")}},commitErrorLogging:function(t,e){switch(t.tag){case 2:var r=t.type;e=t.stateNode;var n=t.updateQueue;(null===n||null===n.capturedValues)&&h("264");var o=n.capturedValues;for(n.capturedValues=null,"function"!=typeof r.getDerivedStateFromCatch&&i(e),e.props=t.memoizedProps,e.state=t.memoizedState,r=0;r<o.length;r++){var s=(n=o[r]).value,a=n.stack;wn(t,n),e.componentDidCatch(s,{componentStack:null!==a?a:""})}break;case 3:for((null===(r=t.updateQueue)||null===r.capturedValues)&&h("264"),o=r.capturedValues,r.capturedValues=null,r=0;r<o.length;r++)wn(t,n=o[r]),e(n.value);break;default:h("265")}},commitAttachRef:function(t){var e=t.ref;if(null!==e){var r=t.stateNode;switch(t.tag){case 5:t=f(r);break;default:t=r}"function"==typeof e?e(t):e.current=t}},commitDetachRef:function(t){null!==(t=t.ref)&&("function"==typeof t?t(null):t.current=null)}}}(t,u,0,0,function(t){null===st?st=new Set([t]):st.add(t)})).commitBeforeMutationLifeCycles,F=A.commitResetTextContent,j=A.commitPlacement,L=A.commitDeletion,D=A.commitWork,U=A.commitLifeCycles,z=A.commitErrorLogging,H=A.commitAttachRef,K=A.commitDetachRef,q=t.now,V=t.scheduleDeferredCallback,W=t.cancelDeferredCallback,G=t.prepareForCommit,Y=t.resetAfterCommit,$=q(),Z=$,X=0,J=0,Q=!1,tt=null,et=null,rt=0,nt=null,it=!1,ot=!1,st=null,at=null,ut=null,ct=0,ft=-1,lt=!1,ht=null,pt=0,dt=0,mt=!1,gt=!1,vt=null,yt=null,bt=!1,wt=!1,_t=!1,kt=null,St=1e3,xt=0,Et=1;return{recalculateCurrentTime:p,computeExpirationForFiber:c,scheduleWork:f,requestWork:g,flushRoot:function(t,e){lt&&h("253"),ht=t,pt=e,k(t,e,!1),b(),_()},batchedUpdates:function(t,e){var r=bt;bt=!0;try{return t(e)}finally{(bt=r)||lt||b()}},unbatchedUpdates:function(t,e){if(bt&&!wt){wt=!0;try{return t(e)}finally{wt=!1}}return t(e)},flushSync:function(t,e){lt&&h("187");var r=bt;bt=!0;try{return d(t,e)}finally{bt=r,b()}},flushControlled:function(t){var e=bt;bt=!0;try{d(t)}finally{(bt=e)||lt||w(1,!1,null)}},deferredUpdates:function(t){var e=J;J=25*(1+((p()+500)/25|0));try{return t()}finally{J=e}},syncUpdates:d,interactiveUpdates:function(t,e,r){if(_t)return t(e,r);bt||lt||0===dt||(w(dt,!1,null),dt=0);var n=_t,i=bt;bt=_t=!0;try{return t(e,r)}finally{_t=n,(bt=i)||lt||b()}},flushInteractiveUpdates:function(){lt||0===dt||(w(dt,!1,null),dt=0)},computeUniqueAsyncExpiration:function(){var t=25*(1+((p()+500)/25|0));return t<=X&&(t=X+1),X=t},legacyContext:M}}function Sn(t){function e(t,e,r,n,i,s){if(n=e.current,r){r=r._reactInternalFiber;var a=u(r);r=c(r)?f(r,a):a}else r=l;return null===e.context?e.context=r:e.pendingContext=r,cn(n,{expirationTime:i,partialState:{element:t},callback:void 0===(e=s)?null:e,isReplace:!1,isForced:!1,capturedValue:null,next:null}),o(n,i),i}var r=t.getPublicInstance,n=(t=kn(t)).recalculateCurrentTime,i=t.computeExpirationForFiber,o=t.scheduleWork,a=t.legacyContext,u=a.findCurrentUnmaskedContext,c=a.isContextProvider,f=a.processChildContext;return{createContainer:function(t,e,r){return t={current:e=new Wr(3,null,null,e?3:0),containerInfo:t,pendingChildren:null,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:r,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},e.stateNode=t},updateContainer:function(t,r,o,s){var a=r.current;return e(t,r,o,n(),a=i(a),s)},updateContainerAtExpirationTime:function(t,r,i,o,s){return e(t,r,i,n(),o,s)},flushRoot:t.flushRoot,requestWork:t.requestWork,computeUniqueAsyncExpiration:t.computeUniqueAsyncExpiration,batchedUpdates:t.batchedUpdates,unbatchedUpdates:t.unbatchedUpdates,deferredUpdates:t.deferredUpdates,syncUpdates:t.syncUpdates,interactiveUpdates:t.interactiveUpdates,flushInteractiveUpdates:t.flushInteractiveUpdates,flushControlled:t.flushControlled,flushSync:t.flushSync,getPublicRootInstance:function(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:return r(t.child.stateNode);default:return t.child.stateNode}},findHostInstance:function(t){var e=t._reactInternalFiber;return void 0===e&&("function"==typeof t.render?h("188"):h("268",Object.keys(t))),null===(t=Je(e))?null:t.stateNode},findHostInstanceWithNoPortals:function(t){return null===(t=function(t){if(!(t=Xe(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child&&4!==e.tag)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}(t))?null:t.stateNode},injectIntoDevTools:function(t){var e=t.findFiberByHostInstance;return function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var r=e.inject(t);Jr=tn(function(t){return e.onCommitFiberRoot(r,t)}),Qr=tn(function(t){return e.onCommitFiberUnmount(r,t)})}catch(t){}return!0}(s({},t,{findHostInstanceByFiber:function(t){return null===(t=Je(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null}}))}}}var xn=Object.freeze({default:Sn}),En=xn&&Sn||xn,Cn=En.default?En.default:En;var An="object"==typeof performance&&"function"==typeof performance.now,Mn=void 0;Mn=An?function(){return performance.now()}:function(){return Date.now()};var In=void 0,Tn=void 0;if(o.canUseDOM)if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){var On=null,Bn=!1,Pn=-1,Nn=!1,Rn=0,Fn=33,jn=33,Ln=void 0;Ln=An?{didTimeout:!1,timeRemaining:function(){var t=Rn-performance.now();return 0<t?t:0}}:{didTimeout:!1,timeRemaining:function(){var t=Rn-Date.now();return 0<t?t:0}};var Dn="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(t){if(t.source===window&&t.data===Dn){if(Bn=!1,t=Mn(),0>=Rn-t){if(!(-1!==Pn&&Pn<=t))return void(Nn||(Nn=!0,requestAnimationFrame(Un)));Ln.didTimeout=!0}else Ln.didTimeout=!1;Pn=-1,t=On,On=null,null!==t&&t(Ln)}},!1);var Un=function(t){Nn=!1;var e=t-Rn+jn;e<jn&&Fn<jn?(8>e&&(e=8),jn=e<Fn?Fn:e):Fn=e,Rn=t+jn,Bn||(Bn=!0,window.postMessage(Dn,"*"))};In=function(t,e){return On=t,null!=e&&"number"==typeof e.timeout&&(Pn=Mn()+e.timeout),Nn||(Nn=!0,requestAnimationFrame(Un)),0},Tn=function(){On=null,Bn=!1,Pn=-1}}else In=window.requestIdleCallback,Tn=window.cancelIdleCallback;else In=function(t){return setTimeout(function(){t({timeRemaining:function(){return 1/0},didTimeout:!1})})},Tn=function(t){clearTimeout(t)};function zn(t,e){return t=s({children:void 0},e),(e=function(t){var e="";return i.Children.forEach(t,function(t){null==t||"string"!=typeof t&&"number"!=typeof t||(e+=t)}),e}(e.children))&&(t.children=e),t}function Hn(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+r,e=null,i=0;i<t.length;i++){if(t[i].value===r)return t[i].selected=!0,void(n&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function Kn(t,e){var r=e.value;t._wrapperState={initialValue:null!=r?r:e.defaultValue,wasMultiple:!!e.multiple}}function qn(t,e){return null!=e.dangerouslySetInnerHTML&&h("91"),s({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vn(t,e){var r=e.value;null==r&&(r=e.defaultValue,null!=(e=e.children)&&(null!=r&&h("92"),Array.isArray(e)&&(1>=e.length||h("93"),e=e[0]),r=""+e),null==r&&(r="")),t._wrapperState={initialValue:""+r}}function Wn(t,e){var r=e.value;null!=r&&((r=""+r)!==t.value&&(t.value=r),null==e.defaultValue&&(t.defaultValue=r)),null!=e.defaultValue&&(t.defaultValue=e.defaultValue)}function Gn(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}var Yn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function $n(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zn(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?$n(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Xn,Jn=void 0,Qn=(Xn=function(t,e){if(t.namespaceURI!==Yn.svg||"innerHTML"in t)t.innerHTML=e;else{for((Jn=Jn||document.createElement("div")).innerHTML="<svg>"+e+"</svg>",e=Jn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,r,n){MSApp.execUnsafeLocalFunction(function(){return Xn(t,e)})}:Xn);function ti(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&3===r.nodeType)return void(r.nodeValue=e)}t.textContent=e}var ei={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ri=["Webkit","ms","Moz","O"];function ni(t,e){for(var r in t=t.style,e)if(e.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=r,o=e[r];i=null==o||"boolean"==typeof o||""===o?"":n||"number"!=typeof o||0===o||ei.hasOwnProperty(i)&&ei[i]?(""+o).trim():o+"px","float"===r&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}Object.keys(ei).forEach(function(t){ri.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ei[e]=ei[t]})});var ii=s({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oi(t,e,r){e&&(ii[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&h("137",t,r()),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&h("60"),"object"==typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||h("61")),null!=e.style&&"object"!=typeof e.style&&h("62",r()))}function si(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ai=a.thatReturns("");function ui(t,e){var r=Nr(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=_[e];for(var n=0;n<e.length;n++){var i=e[n];r.hasOwnProperty(i)&&r[i]||("topScroll"===i?wr("topScroll","scroll",t):"topFocus"===i||"topBlur"===i?(wr("topFocus","focus",t),wr("topBlur","blur",t),r.topBlur=!0,r.topFocus=!0):"topCancel"===i?(Vt("cancel",!0)&&wr("topCancel","cancel",t),r.topCancel=!0):"topClose"===i?(Vt("close",!0)&&wr("topClose","close",t),r.topClose=!0):Ir.hasOwnProperty(i)&&br(i,Ir[i],t),r[i]=!0)}}function ci(t,e,r,n){return r=9===r.nodeType?r:r.ownerDocument,n===Yn.html&&(n=$n(t)),n===Yn.html?"script"===t?((t=r.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):t="string"==typeof e.is?r.createElement(t,{is:e.is}):r.createElement(t):t=r.createElementNS(n,t),t}function fi(t,e){return(9===e.nodeType?e:e.ownerDocument).createTextNode(t)}function li(t,e,r,n){var i=si(e,r);switch(e){case"iframe":case"object":br("topLoad","load",t);var o=r;break;case"video":case"audio":for(o in Tr)Tr.hasOwnProperty(o)&&br(o,Tr[o],t);o=r;break;case"source":br("topError","error",t),o=r;break;case"img":case"image":case"link":br("topError","error",t),br("topLoad","load",t),o=r;break;case"form":br("topReset","reset",t),br("topSubmit","submit",t),o=r;break;case"details":br("topToggle","toggle",t),o=r;break;case"input":we(t,r),o=be(t,r),br("topInvalid","invalid",t),ui(n,"onChange");break;case"option":o=zn(t,r);break;case"select":Kn(t,r),o=s({},r,{value:void 0}),br("topInvalid","invalid",t),ui(n,"onChange");break;case"textarea":Vn(t,r),o=qn(t,r),br("topInvalid","invalid",t),ui(n,"onChange");break;default:o=r}oi(e,o,ai);var u,c=o;for(u in c)if(c.hasOwnProperty(u)){var f=c[u];"style"===u?ni(t,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&Qn(t,f):"children"===u?"string"==typeof f?("textarea"!==e||""!==f)&&ti(t,f):"number"==typeof f&&ti(t,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(w.hasOwnProperty(u)?null!=f&&ui(n,u):null!=f&&ye(t,u,f,i))}switch(e){case"input":Gt(t),Se(t,r);break;case"textarea":Gt(t),Gn(t);break;case"option":null!=r.value&&t.setAttribute("value",r.value);break;case"select":t.multiple=!!r.multiple,null!=(e=r.value)?Hn(t,!!r.multiple,e,!1):null!=r.defaultValue&&Hn(t,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(t.onclick=a)}}function hi(t,e,r,n,i){var o=null;switch(e){case"input":r=be(t,r),n=be(t,n),o=[];break;case"option":r=zn(t,r),n=zn(t,n),o=[];break;case"select":r=s({},r,{value:void 0}),n=s({},n,{value:void 0}),o=[];break;case"textarea":r=qn(t,r),n=qn(t,n),o=[];break;default:"function"!=typeof r.onClick&&"function"==typeof n.onClick&&(t.onclick=a)}oi(e,n,ai),e=t=void 0;var u=null;for(t in r)if(!n.hasOwnProperty(t)&&r.hasOwnProperty(t)&&null!=r[t])if("style"===t){var c=r[t];for(e in c)c.hasOwnProperty(e)&&(u||(u={}),u[e]="")}else"dangerouslySetInnerHTML"!==t&&"children"!==t&&"suppressContentEditableWarning"!==t&&"suppressHydrationWarning"!==t&&"autoFocus"!==t&&(w.hasOwnProperty(t)?o||(o=[]):(o=o||[]).push(t,null));for(t in n){var f=n[t];if(c=null!=r?r[t]:void 0,n.hasOwnProperty(t)&&f!==c&&(null!=f||null!=c))if("style"===t)if(c){for(e in c)!c.hasOwnProperty(e)||f&&f.hasOwnProperty(e)||(u||(u={}),u[e]="");for(e in f)f.hasOwnProperty(e)&&c[e]!==f[e]&&(u||(u={}),u[e]=f[e])}else u||(o||(o=[]),o.push(t,u)),u=f;else"dangerouslySetInnerHTML"===t?(f=f?f.__html:void 0,c=c?c.__html:void 0,null!=f&&c!==f&&(o=o||[]).push(t,""+f)):"children"===t?c===f||"string"!=typeof f&&"number"!=typeof f||(o=o||[]).push(t,""+f):"suppressContentEditableWarning"!==t&&"suppressHydrationWarning"!==t&&(w.hasOwnProperty(t)?(null!=f&&ui(i,t),o||c===f||(o=[])):(o=o||[]).push(t,f))}return u&&(o=o||[]).push("style",u),o}function pi(t,e,r,n,i){"input"===r&&"radio"===i.type&&null!=i.name&&_e(t,i),si(r,n),n=si(r,i);for(var o=0;o<e.length;o+=2){var s=e[o],a=e[o+1];"style"===s?ni(t,a):"dangerouslySetInnerHTML"===s?Qn(t,a):"children"===s?ti(t,a):ye(t,s,a,n)}switch(r){case"input":ke(t,i);break;case"textarea":Wn(t,i);break;case"select":t._wrapperState.initialValue=void 0,e=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!i.multiple,null!=(r=i.value)?Hn(t,!!i.multiple,r,!1):e!==!!i.multiple&&(null!=i.defaultValue?Hn(t,!!i.multiple,i.defaultValue,!0):Hn(t,!!i.multiple,i.multiple?[]:"",!1))}}function di(t,e,r,n,i){switch(e){case"iframe":case"object":br("topLoad","load",t);break;case"video":case"audio":for(var o in Tr)Tr.hasOwnProperty(o)&&br(o,Tr[o],t);break;case"source":br("topError","error",t);break;case"img":case"image":case"link":br("topError","error",t),br("topLoad","load",t);break;case"form":br("topReset","reset",t),br("topSubmit","submit",t);break;case"details":br("topToggle","toggle",t);break;case"input":we(t,r),br("topInvalid","invalid",t),ui(i,"onChange");break;case"select":Kn(t,r),br("topInvalid","invalid",t),ui(i,"onChange");break;case"textarea":Vn(t,r),br("topInvalid","invalid",t),ui(i,"onChange")}for(var s in oi(e,r,ai),n=null,r)r.hasOwnProperty(s)&&(o=r[s],"children"===s?"string"==typeof o?t.textContent!==o&&(n=["children",o]):"number"==typeof o&&t.textContent!==""+o&&(n=["children",""+o]):w.hasOwnProperty(s)&&null!=o&&ui(i,s));switch(e){case"input":Gt(t),Se(t,r);break;case"textarea":Gt(t),Gn(t);break;case"select":case"option":break;default:"function"==typeof r.onClick&&(t.onclick=a)}return n}function mi(t,e){return t.nodeValue!==e}var gi=Object.freeze({createElement:ci,createTextNode:fi,setInitialProperties:li,diffProperties:hi,updateProperties:pi,diffHydratedProperties:di,diffHydratedText:mi,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(t,e,r){switch(e){case"input":if(ke(t,r),e=r.name,"radio"===r.type&&null!=e){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=V(n);i||h("90"),Yt(n),ke(n,i)}}}break;case"textarea":Wn(t,r);break;case"select":null!=(e=r.value)&&Hn(t,!!r.multiple,e,!1)}}});It.injectFiberControlledHostComponent(gi);var vi=null,yi=null;function bi(t){this._expirationTime=xi.computeUniqueAsyncExpiration(),this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function wi(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function _i(t,e,r){this._internalRoot=xi.createContainer(t,e,r)}function ki(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Si(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}bi.prototype.render=function(t){this._defer||h("250"),this._hasChildren=!0,this._children=t;var e=this._root._internalRoot,r=this._expirationTime,n=new wi;return xi.updateContainerAtExpirationTime(t,e,null,r,n._onCommit),n},bi.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},bi.prototype.commit=function(){var t=this._root._internalRoot,e=t.firstBatch;if(this._defer&&null!==e||h("251"),this._hasChildren){var r=this._expirationTime;if(e!==this){this._hasChildren&&(r=this._expirationTime=e._expirationTime,this.render(this._children));for(var n=null,i=e;i!==this;)n=i,i=i._next;null===n&&h("251"),n._next=i._next,this._next=e,t.firstBatch=this}this._defer=!1,xi.flushRoot(t,r),e=this._next,this._next=null,null!==(e=t.firstBatch=e)&&e._hasChildren&&e.render(e._children)}else this._next=null,this._defer=!1},bi.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},wi.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},wi.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++){var r=t[e];"function"!=typeof r&&h("191",r),r()}}},_i.prototype.render=function(t,e){var r=this._internalRoot,n=new wi;return null!==(e=void 0===e?null:e)&&n.then(e),xi.updateContainer(t,r,null,n._onCommit),n},_i.prototype.unmount=function(t){var e=this._internalRoot,r=new wi;return null!==(t=void 0===t?null:t)&&r.then(t),xi.updateContainer(null,e,null,r._onCommit),r},_i.prototype.legacy_renderSubtreeIntoContainer=function(t,e,r){var n=this._internalRoot,i=new wi;return null!==(r=void 0===r?null:r)&&i.then(r),xi.updateContainer(e,n,t,i._onCommit),i},_i.prototype.createBatch=function(){var t=new bi(this),e=t._expirationTime,r=this._internalRoot,n=r.firstBatch;if(null===n)r.firstBatch=t,t._next=null;else{for(r=null;null!==n&&n._expirationTime<=e;)r=n,n=n._next;t._next=n,null!==r&&(r._next=t)}return t};var xi=Cn({getRootHostContext:function(t){var e=t.nodeType;switch(e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zn(null,"");break;default:t=Zn(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}return t},getChildHostContext:function(t,e){return Zn(t,e)},getPublicInstance:function(t){return t},prepareForCommit:function(){vi=vr;var t=u();if(jr(t)){if("selectionStart"in t)var e={start:t.selectionStart,end:t.selectionEnd};else t:{var r=window.getSelection&&window.getSelection();if(r&&0!==r.rangeCount){e=r.anchorNode;var n=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{e.nodeType,i.nodeType}catch(t){e=null;break t}var o=0,s=-1,a=-1,c=0,f=0,l=t,h=null;e:for(;;){for(var p;l!==e||0!==n&&3!==l.nodeType||(s=o+n),l!==i||0!==r&&3!==l.nodeType||(a=o+r),3===l.nodeType&&(o+=l.nodeValue.length),null!==(p=l.firstChild);)h=l,l=p;for(;;){if(l===t)break e;if(h===e&&++c===n&&(s=o),h===i&&++f===r&&(a=o),null!==(p=l.nextSibling))break;h=(l=h).parentNode}l=p}e=-1===s||-1===a?null:{start:s,end:a}}else e=null}e=e||{start:0,end:0}}else e=null;yi={focusedElem:t,selectionRange:e},yr(!1)},resetAfterCommit:function(){var t=yi,e=u(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&f(document.documentElement,r)){if(jr(r))if(e=n.start,void 0===(t=n.end)&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(window.getSelection){e=window.getSelection();var i=r[it()].length;t=Math.min(n.start,i),n=void 0===n.end?t:Math.min(n.end,i),!e.extend&&t>n&&(i=n,n=t,t=i),i=Fr(r,t);var o=Fr(r,n);if(i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)){var s=document.createRange();s.setStart(i.node,i.offset),e.removeAllRanges(),t>n?(e.addRange(s),e.extend(o.node,o.offset)):(s.setEnd(o.node,o.offset),e.addRange(s))}}for(e=[],t=r;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(r.focus(),r=0;r<e.length;r++)(t=e[r]).element.scrollLeft=t.left,t.element.scrollTop=t.top}yi=null,yr(vi),vi=null},createInstance:function(t,e,r,n,i){return(t=ci(t,e,r,n))[z]=i,t[H]=e,t},appendInitialChild:function(t,e){t.appendChild(e)},finalizeInitialChildren:function(t,e,r,n){return li(t,e,r,n),Si(e,r)},prepareUpdate:function(t,e,r,n,i){return hi(t,e,r,n,i)},shouldSetTextContent:function(t,e){return"textarea"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&"string"==typeof e.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(t,e){return!!e.hidden},createTextInstance:function(t,e,r,n){return(t=fi(t,e))[z]=n,t},now:Mn,mutation:{commitMount:function(t,e,r){Si(e,r)&&t.focus()},commitUpdate:function(t,e,r,n,i){t[H]=i,pi(t,e,r,n,i)},resetTextContent:function(t){ti(t,"")},commitTextUpdate:function(t,e,r){t.nodeValue=r},appendChild:function(t,e){t.appendChild(e)},appendChildToContainer:function(t,e){8===t.nodeType?t.parentNode.insertBefore(e,t):t.appendChild(e)},insertBefore:function(t,e,r){t.insertBefore(e,r)},insertInContainerBefore:function(t,e,r){8===t.nodeType?t.parentNode.insertBefore(e,r):t.insertBefore(e,r)},removeChild:function(t,e){t.removeChild(e)},removeChildFromContainer:function(t,e){8===t.nodeType?t.parentNode.removeChild(e):t.removeChild(e)}},hydration:{canHydrateInstance:function(t,e){return 1!==t.nodeType||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t},canHydrateTextInstance:function(t,e){return""===e||3!==t.nodeType?null:t},getNextHydratableSibling:function(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t},getFirstHydratableChild:function(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t},hydrateInstance:function(t,e,r,n,i,o){return t[z]=o,t[H]=r,di(t,e,r,i,n)},hydrateTextInstance:function(t,e,r){return t[z]=r,mi(t,e)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:In,cancelDeferredCallback:Tn}),Ei=xi;function Ci(t,e,r,n,i){ki(r)||h("200");var o=r._reactRootContainer;if(o){if("function"==typeof i){var s=i;i=function(){var t=xi.getPublicRootInstance(o._internalRoot);s.call(t)}}null!=t?o.legacy_renderSubtreeIntoContainer(t,e,i):o.render(e,i)}else{if(o=r._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new _i(t,!1,e)}(r,n),"function"==typeof i){var a=i;i=function(){var t=xi.getPublicRootInstance(o._internalRoot);a.call(t)}}xi.unbatchedUpdates(function(){null!=t?o.legacy_renderSubtreeIntoContainer(t,e,i):o.render(e,i)})}return xi.getPublicRootInstance(o._internalRoot)}function Ai(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return ki(e)||h("200"),function(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==n?null:""+n,children:t,containerInfo:e,implementation:r}}(t,e,null,r)}jt=Ei.batchedUpdates,Lt=Ei.interactiveUpdates,Dt=Ei.flushInteractiveUpdates;var Mi={createPortal:Ai,findDOMNode:function(t){return null==t?null:1===t.nodeType?t:xi.findHostInstance(t)},hydrate:function(t,e,r){return Ci(null,t,e,!0,r)},render:function(t,e,r){return Ci(null,t,e,!1,r)},unstable_renderSubtreeIntoContainer:function(t,e,r,n){return(null==t||void 0===t._reactInternalFiber)&&h("38"),Ci(t,e,r,!1,n)},unmountComponentAtNode:function(t){return ki(t)||h("40"),!!t._reactRootContainer&&(xi.unbatchedUpdates(function(){Ci(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Ai.apply(void 0,arguments)},unstable_batchedUpdates:xi.batchedUpdates,unstable_deferredUpdates:xi.deferredUpdates,flushSync:xi.flushSync,unstable_flushControlled:xi.flushControlled,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:D,EventPluginRegistry:x,EventPropagators:rt,ReactControlledComponent:Ft,ReactDOMComponentTree:W,ReactDOMEventListener:Sr},unstable_createRoot:function(t,e){return new _i(t,!0,null!=e&&!0===e.hydrate)}};xi.injectIntoDevTools({findFiberByHostInstance:K,bundleType:0,version:"16.3.2",rendererPackageName:"react-dom"});var Ii=Object.freeze({default:Mi}),Ti=Ii&&Mi||Ii;t.exports=Ti.default?Ti.default:Ti},function(t,e,r){"use strict";
/** @license React v16.3.2
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(165),i=r(236),o=r(371),s=r(370),a="function"==typeof Symbol&&Symbol.for,u=a?Symbol.for("react.element"):60103,c=a?Symbol.for("react.portal"):60106,f=a?Symbol.for("react.fragment"):60107,l=a?Symbol.for("react.strict_mode"):60108,h=a?Symbol.for("react.provider"):60109,p=a?Symbol.for("react.context"):60110,d=a?Symbol.for("react.async_mode"):60111,m=a?Symbol.for("react.forward_ref"):60112,g="function"==typeof Symbol&&Symbol.iterator;function v(t){for(var e=arguments.length-1,r="http://reactjs.org/docs/error-decoder.html?invariant="+t,n=0;n<e;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);i(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function b(t,e,r){this.props=t,this.context=e,this.refs=o,this.updater=r||y}function w(){}function _(t,e,r){this.props=t,this.context=e,this.refs=o,this.updater=r||y}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t&&v("85"),this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=b.prototype;var k=_.prototype=new w;k.constructor=_,n(k,b.prototype),k.isPureReactComponent=!0;var S={current:null},x=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function C(t,e,r){var n=void 0,i={},o=null,s=null;if(null!=e)for(n in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(o=""+e.key),e)x.call(e,n)&&!E.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(1===a)i.children=r;else if(1<a){for(var c=Array(a),f=0;f<a;f++)c[f]=arguments[f+2];i.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps)void 0===i[n]&&(i[n]=a[n]);return{$$typeof:u,type:t,key:o,ref:s,props:i,_owner:S.current}}function A(t){return"object"==typeof t&&null!==t&&t.$$typeof===u}var M=/\/+/g,I=[];function T(t,e,r,n){if(I.length){var i=I.pop();return i.result=t,i.keyPrefix=e,i.func=r,i.context=n,i.count=0,i}return{result:t,keyPrefix:e,func:r,context:n,count:0}}function O(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>I.length&&I.push(t)}function B(t,e,r,n){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var o=!1;if(null===t)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case u:case c:o=!0}}if(o)return r(n,t,""===e?"."+P(t,0):e),1;if(o=0,e=""===e?".":e+":",Array.isArray(t))for(var s=0;s<t.length;s++){var a=e+P(i=t[s],s);o+=B(i,a,r,n)}else if(null===t||void 0===t?a=null:a="function"==typeof(a=g&&t[g]||t["@@iterator"])?a:null,"function"==typeof a)for(t=a.call(t),s=0;!(i=t.next()).done;)o+=B(i=i.value,a=e+P(i,s++),r,n);else"object"===i&&v("31","[object Object]"===(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return o}function P(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}(t.key):e.toString(36)}function N(t,e){t.func.call(t.context,e,t.count++)}function R(t,e,r){var n=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,n,r,s.thatReturnsArgument):null!=t&&(A(t)&&(e=i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(M,"$&/")+"/")+r,t={$$typeof:u,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}),n.push(t))}function F(t,e,r,n,i){var o="";null!=r&&(o=(""+r).replace(M,"$&/")+"/"),e=T(e,o,n,i),null==t||B(t,"",R,e),O(e)}var j={Children:{map:function(t,e,r){if(null==t)return t;var n=[];return F(t,n,null,e,r),n},forEach:function(t,e,r){if(null==t)return t;e=T(null,null,e,r),null==t||B(t,"",N,e),O(e)},count:function(t){return null==t?0:B(t,"",s.thatReturnsNull,null)},toArray:function(t){var e=[];return F(t,e,null,s.thatReturnsArgument),e},only:function(t){return A(t)||v("143"),t}},createRef:function(){return{current:null}},Component:b,PureComponent:_,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:p,_calculateChangedBits:e,_defaultValue:t,_currentValue:t,_changedBits:0,Provider:null,Consumer:null}).Provider={$$typeof:h,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:m,render:t}},Fragment:f,StrictMode:l,unstable_AsyncMode:d,createElement:C,cloneElement:function(t,e,r){(null===t||void 0===t)&&v("267",t);var i=void 0,o=n({},t.props),s=t.key,a=t.ref,c=t._owner;if(null!=e){void 0!==e.ref&&(a=e.ref,c=S.current),void 0!==e.key&&(s=""+e.key);var f=void 0;for(i in t.type&&t.type.defaultProps&&(f=t.type.defaultProps),e)x.call(e,i)&&!E.hasOwnProperty(i)&&(o[i]=void 0===e[i]&&void 0!==f?f[i]:e[i])}if(1===(i=arguments.length-2))o.children=r;else if(1<i){f=Array(i);for(var l=0;l<i;l++)f[l]=arguments[l+2];o.children=f}return{$$typeof:u,type:t.type,key:s,ref:a,props:o,_owner:c}},createFactory:function(t){var e=C.bind(null,t);return e.type=t,e},isValidElement:A,version:"16.3.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:S,assign:n}},L=Object.freeze({default:j}),D=L&&j||L;t.exports=D.default?D.default:D},function(t,e,r){"use strict";(function(t){var n,i=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(s,a)}u((n=n.apply(t,e||[])).next())})},s=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(5),u=r(674),c=r(1694),f=r(1691),l=r(227),h=r(617);r(700);var p=r(697),d=r(683),m=r(682),g=r(681),v=r(680),y=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={injectWeb3:!1,ribbit:null},t}return i(r,e),r.prototype.componentDidMount=function(){this.initializeRibbit()},r.prototype.initializeRibbit=function(){return o(this,void 0,void 0,function(){var t,e,r,n=this;return s(this,function(i){switch(i.label){case 0:t=null,void 0===window.web3?(console.log("metamask not installed."),t=new f(new f.providers.HttpProvider("http://localhost:8545"))):(console.log("metamask installed."),t=new f(window.web3.currentProvider)),e=new h.Ribbit(t),window.web3=t,window.ribbit=e,console.log("start initializing user."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e.initialize()];case 2:return i.sent(),console.log("user initialized.",e.accountAddress),this.setState({injectWeb3:!0,ribbit:e},function(){return o(n,void 0,void 0,function(){return s(this,function(t){return"/"===l.default.location.pathname&&l.default.replace("/"+e.networkId+"/"),[2]})})}),[3,4];case 3:return r=i.sent(),alert(r),this.setState({ribbit:null},function(){"/"===l.default.location.pathname&&l.default.replace("/"+e.networkId+"/")}),[3,4];case 4:return[2]}})})},r.prototype.render=function(){var e=this;return this.state.ribbit?a.createElement(c.Router,{history:l.default},a.createElement(c.Switch,null,a.createElement(c.Route,{path:(t.env.PUBLIC_URL||"")+"/:networkId/signup",render:function(t){return a.createElement(d.default,{networkId:t.match.params.networkId,ribbit:e.state.ribbit})},exact:!0}),a.createElement(c.Route,{path:(t.env.PUBLIC_URL||"")+"/:networkId/",render:function(t){return a.createElement(p.default,{networkId:t.match.params.networkId,ribbit:e.state.ribbit})},exact:!0}),a.createElement(c.Route,{path:(t.env.PUBLIC_URL||"")+"/:networkId/profile/:username",render:function(t){return a.createElement(m.default,{networkId:t.match.params.networkId,ribbit:e.state.ribbit,username:t.match.params.username})},exact:!0}),a.createElement(c.Route,{path:(t.env.PUBLIC_URL||"")+"/:networkId/topic/:topic",render:function(t){return a.createElement(g.default,{networkId:t.match.params.networkId,ribbit:e.state.ribbit,topic:decodeURIComponent(t.match.params.topic)})},exact:!0}),a.createElement(c.Route,{path:(t.env.PUBLIC_URL||"")+"/:networkId/tx/:transactionHash",render:function(t){return a.createElement(v.default,{networkId:t.match.params.networkId,ribbit:e.state.ribbit,transactionHash:t.match.params.transactionHash})}}))):a.createElement("div",{className:"home"},a.createElement("h1",{className:"title is-1"},"Please make sure"," ",a.createElement("a",{href:"https://metamask.io/",target:"_blank"},"MetaMask")," ","is working in your browser."))},r}(a.Component);u.render(a.createElement(y,null),document.getElementById("root"))}).call(this,r(2))}]);